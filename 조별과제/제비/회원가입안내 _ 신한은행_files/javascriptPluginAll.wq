
/*
 * WebSquare Platform v2.0
 * http://www.websquare.co.kr
 *
 * Version : 5.0_1.2614B.20170428.095025
 * Date: 20170428.095716
 */

$W._N={supportActiveX:(typeof ActiveXObject!="undefined"&&$W.BootLoader.browserCheck.ieAllVersion&&!$W.msActiveXFilteringEnabled),supportDOM:(!!$W.document.implementation&&!!$W.document.implementation.createDocument),websquareSerializer:(new RegExp($W.userAgentPattern.serializer)).test(navigator.userAgent),supportXMLHttp:(typeof XMLHttpRequest!="undefined"),uriEncoder:(new RegExp($W.userAgentPattern.URIEncoder)).test(navigator.userAgent)};$W._N._XMLHTTP_PROGIDS=$W.BootLoader._XMLHTTP_PROGIDS;$W._N._XML_NAMESPACE={SCHEMA:"http://www.w3.org/1999/XMLSchema",XFORMS:"http://www.w3.org/2002/xforms",XHTML:"http://www.w3.org/1999/xhtml",XML:"http://www.w3.org/XML/1998/namespace",XSL:"http://www.w3.org/1999/XSL/Transform",EVENTS:"http://www.w3.org/2001/xml-events",W2:"http://www.inswave.com/websquare"};$W._N.EXT_PLUGIN={};$W._N.version="5.0_1.2614B.20170428.095025_1.6";if($W.version!=$W._N.version){$W.BootLoader.printLog("Use different WebSquare Runtime Engine : "+$W._N.version);}$W._N.EMPTY_TAG;$W._N.maxZindex=10;$W._N.FLzIndex=10;$W._N.forcedValueSetting=null;$W._N.firePageunload=false;$W._N.onurlchange=false;$W._N.urlchangebyapi=false;$W._N.onclearpage=false;$W._N.userClearMemoryStack=[];$W._N.memoryLeakComponent={"editor":1,"fusionchart":1};$W._N.memoryLeakComponentCount=0;$W._N.getXMLHTTPObject=function(){["WebSquare.core.getXMLHTTPObject"];var _1=null;try{if($W.BootLoader.useActiveXObject){_1=new ActiveXObject($W._N._XMLHTTP_PROGIDS[0]);}else{if(window.XMLHttpRequest){_1=new XMLHttpRequest();}}}catch(e){$W.exception.printStackTrace(e);}if(typeof _1=="undefined"||_1==null){$W.logger.printLog($W._m.getMessage("E_core_AjaxUnsupportedBrowser"));return null;}return _1;};$W._N.load=function(_2){["WebSquare.core.load"];var _3=_2;var _4=$W._N.getXMLHTTPObject();var _5=null;try{$W.BootLoader.openResourceUri(_2,_4);_4.send(null);if(_4.status>="400"){if(_3.indexOf("uiplugin")>-1){$W.logger.printLog($W._m.getMessage("E_core_NoPluginError",_3));}else{$W.logger.printLog($W._m.getMessage("E_core_NoModuleError",_3));}_4=null;return null;}_5=_4.responseText;}catch(e){if(_3.indexOf("uiplugin")>-1){$W.logger.printLog($W._m.getMessage("E_core_NoPluginError",_3));}else{$W.logger.printLog($W._m.getMessage("E_core_NoModuleError",_3));}}_4=null;return _5;};$W._N.download=function(_6,_7,_8){["WebSquare.core.download"];if(typeof _8=="undefined"||_8==null||_8==""){_8="post";}var _9=false;if(document.getElementById("__iframe__")!=null){_9=true;}var _a=null;var _b="";if(!_9){_a=$W.document.createElement("div");_a.id="___iframe__div";_a.style.width="0px";_a.style.height="0px";_a.style.visibility="hidden";$W.document.body.appendChild(_a);_b=$W._r.getSSLBlankPage();if($W.domain){var _c=$W._N.getConfiguration("domainFrameURL");if(!_c){_c=$W.baseURI+"/message/domainFrame.html";}_c+="?domain="+$W._A.URLEncoder($W.domain);_b="src='"+_c+"'";}_a.innerHTML="<iframe frameborder='0' id='__iframe__' name='__iframe__' scrolling='no' style='width:0; height:0' "+_b+"></iframe>";}else{_a=document.getElementById("___iframe__div");}try{var _d=document.getElementById("__iframe__");var _e=function(){try{if(_d.contentWindow.document.readyState=="interactive"){$W.layer.hideProcessMessage();}}catch(e){}};if($W._N.browserCheck.ie){try{var _f=_d.contentWindow.document;}catch(e){$W._N.clearTimer("__iframe__");$W._N.setTimer($W._N.download,{key:"__iframe__",caller:this,delay:500,args:arguments});return;}_d.contentWindow.document.onreadystatechange=_e;}else{$W.layer.hideProcessMessage();}}catch(e){$W.exception.printStackTrace(e);}try{var _10=$W.document.createElement("form");_10.target="__iframe__";_10.action=_6;_10.method=_8;_10.style.display="inline";if(typeof _7!="undefined"){var _11=$W.document.createElement("input");_11.type="hidden";_11.name="xmlValue";if($W._B.isDocument(_7)){_11.value=$W._B.serialize(_7);}else{_11.value=_7;}_10.appendChild(_11);}_a.appendChild(_10);_10.submit();}catch(e){}finally{_a.removeChild(_10);}};$W._N.excelDownload=function(_12,_13,_14){["WebSquare.core.excelDownload"];if($W.hybridApp){try{if($W._N.browserCheck.iphone||$W._N.browserCheck.ipad||$W._N.browserCheck.ipod){$W._G.js("../cordova.js",function(){window.setTimeout(function(){plugins.misc.getDocument(null,null,"application/vnd.ms-excel",_12,_13);$W.layer.hideProcessMessage();},500);});return;}else{plugins.misc.getDocument(null,null,"application/vnd.ms-excel",_12,_13);$W.layer.hideProcessMessage();return;}}catch(e){$W.exception.printStackTrace(e);}}if(typeof _14=="undefined"||_14==null||_14==""){_14="post";}if($W._G.isMobile()){window.open("blank.html","__ipad_excel__");}var _15=false;if(document.getElementById("__iframe__")!=null){_15=true;}var _16=null;if(!_15){_16=$W.document.createElement("div");_16.id="___iframe__div";_16.style.width="0px";_16.style.height="0px";_16.style.visibility="hidden";$W.document.body.appendChild(_16);var src=$W._r.getSSLBlankPage();if($W.domain){var _18=$W.baseURI+"/message/domainFrame.html";_18+="?domain="+$W._A.URLEncoder($W.domain);src="src='"+_18+"'";}_16.innerHTML="<iframe frameborder='0' id='__iframe__' name='__iframe__' scrolling='no' style='width:0; height:0' "+src+"></iframe>";}else{_16=document.getElementById("___iframe__div");}try{var _19=document.getElementById("__iframe__");var _1a=function(){try{if(_19.contentWindow.document.readyState=="interactive"){$W.layer.hideProcessMessage();}}catch(e){}};if($W._G.isIEAllVersion()){try{var _1b=_19.contentWindow.document;}catch(e){$W._N.clearTimer("__iframe__");$W._N.setTimer($W._N.excelDownload,{key:"__iframe__",caller:this,delay:500,args:arguments});return;}_19.contentWindow.document.onreadystatechange=_1a;}else{$W.layer.hideProcessMessage();}}catch(e){$W.exception.printStackTrace(e);}try{var _1c=$W.document.createElement("form");if($W._G.isMobile()){_1c.target="__ipad_excel__";}else{_1c.target="__iframe__";_1c.encoding="text/plain";}_1c.action=_12;_1c.method=_14;_1c.style.display="inline";_1c.acceptCharset="UTF-8";if(typeof _13!="undefined"){var _1d=$W.document.createElement("input");_1d.type="hidden";_1d.name="xmlValue";if($W._B.isDocument(_13)){_13=$W._B.serialize(_13);}_1d.value=_13;_1c.appendChild(_1d);}_16.appendChild(_1c);_1c.submit();}catch(e){}finally{_16.removeChild(_1c);}};$W._N.loadJavaScript=function(url){var _1f=$W.document.createElement("SCRIPT");_1f.src=url;$W.document.body.appendChild(_1f);};$W._N.callParentFunction=function(){["WebSquare.core.callParentFunction"];$W.setParentObj();if(arguments.length==0||typeof $W.parentObj=="undefined"||$W.parentObj==null){return null;}var _20=null;var _21="";var _22=0;var _23=null;try{for(var i=0;i<arguments.length;i++){if(i==0){_20=arguments[i];}else{if(typeof arguments[i]=="string"||typeof arguments[i]=="number"||typeof arguments[i]=="boolean"||typeof arguments[i]=="object"||typeof arguments[i]=="undefined"){if(_22!=0){_21+=",";}_21+="arguments["+i+"]";_22++;}}}if(_20!=null){_23=eval("WebSquare.parentObj."+_20+"("+_21+")");}}catch(e){$W.exception.printStackTrace(e);}return _23;};$W._N.closePopupWindow=function(){var id=$W._r.getParameter("popupID");$W._N.callParentFunction("WebSquare.uiplugin.popup.callClose",id);};$W._N.recursiveCall=function(){["WebSquare.core.recursiveCall"];var _26=undefined;try{var _27=null;var _28="";var _29=[];for(var i=0;i<arguments.length;i++){if(i==0){_27=arguments[i];_29.push("'"+arguments[i]+"'");}else{if(i!=1){_28+=",";}_28+="arguments["+i+"]";_29.push("arguments["+i+"]");}}if(_27!=null){if($W._N.isOpenerMethod(_27)){try{_26=eval("opener."+_27+"("+_28+")");}catch(ee){if($W._N.isParentFrameMethod(_27)){_26=eval("parent."+_27+"("+_28+")");}else{_26=eval(_27+"("+_28+")");}}if(_26===null||typeof _26=="undefined"){_26=eval("opener.WebSquare.core.recursiveCall("+_29.join(",")+")");}}else{if($W._N.isParentFrameMethod(_27)){_26=eval("parent."+_27+"("+_28+")");if(_26===null||typeof _26=="undefined"){_26=eval("parent.WebSquare.core.recursiveCall("+_29.join(",")+")");}}else{_26=eval(_27+"("+_28+")");}}}return _26;}catch(e){$W.exception.printStackTrace(e);}};$W._N.recursiveCall_leaf=function(){["WebSquare.core.recursiveCall"];var _2b=undefined;try{var _2c=null;var _2d="";var _2e=[];for(var i=0;i<arguments.length;i++){if(i==0){_2c=arguments[i];_2e.push("'"+arguments[i]+"'");}else{if(i!=1){_2d+=",";}_2d+="arguments["+i+"]";_2e.push("arguments["+i+"]");}}if(_2c!=null){if($W._N.isOpenerMethod(_2c)){_2b=eval("opener.WebSquare.core.recursiveCall("+_2e.join(",")+")");}else{if($W._N.isParentFrameMethod(_2c)){_2b=eval("parent.WebSquare.core.recursiveCall("+_2e.join(",")+")");}else{_2b=eval(_2c+"("+_2d+")");}}}return _2b;}catch(e){$W.exception.printStackTrace(e);}};$W._N.getNamespaces=function(_30){["WebSquare.core.getNamespaces"];var _31={};try{var _32=null;if(_30.nodeType==1){_32=_30.attributes;}else{if(_30.nodeType==9){_32=_30.documentElement.attributes;}}if(_32!=null){for(var i=0;i<_32.length;i++){var _34=_32.item(i);if(_34.nodeName=="xmlns"){_31[""]=(_34.value!=undefined)?_34.value:_34.nodeValue;}else{if(_34.nodeName.indexOf("xmlns")==0){if(_34.value!=undefined&&_34.name!=undefined){_31[_34.name.substring(6)]=_34.value;}else{_31[_34.nodeName.substring(6)]=_34.nodeValue;}}}}}}catch(e){$W.exception.printStackTrace(e);}return _31;};$W._N.isParentFrameMethod=function(_35){["WebSquare.core.isParentFrameMethod"];try{if(parent!=window&&eval("parent."+_35)){return true;}return false;}catch(e){}return false;};$W._N.isOpenerMethod=function(_36){["WebSquare.core.isOpenerMethod"];try{if(typeof window.opener=="undefined"){return false;}else{if(window.opener.closed){return false;}else{if(eval("typeof window.opener."+_36)=="function"||eval("typeof window.opener."+_36)=="object"){return true;}else{return false;}}}}catch(e){}return false;};$W._N.getURL=function(url){["WebSquare.core.getURL"];var _38=url;if(1==2){var _39="ErtOqpezr Ukptvqtzp IIWENNA Stwbreo Agp Zvydtn Vmfwnvzh";}if(typeof url=="string"){if(url.indexOf("://")>-1){return url;}if(!url.startsWith("/")&&!url.startsWith("\\")){url=$W.w2xHome+url;}if($W.w2xDocumentRoot!=""&&!url.startsWith("..")){url=$W.w2xDocumentRoot+url;}}return url;};$W._N.getImageURL=function(url,_3b){["WebSquare.core.getImageURL"];if(typeof _3b=="undefined"){_3b=false;}var _3c=$W._N.getConfiguration("/WebSquare/imageURLPrefix/@value");if(typeof url=="string"){if(url.startsWith("data:")){return url;}if($W.BootLoader.imageServlet!=null){if(url.startsWith("url")){var _3d=url.substring(3).wq_trim();if(_3d.charAt(0)=="("&&_3d.charAt(_3d.length-1)==")"){url=_3d.substring(1,_3d.length-1);url=$W._N.getURL(url.wq_trim());url=$W.baseURI+$W.BootLoader.imageServlet+url;url=$W.BootLoader.getImagePostfix(url);if($W.isLocal==false&&$W._N.browserCheck.ie&&$W._N.browserVersion()=="6"&&url.indexOf("://")==-1){url=location.protocol+"//"+location.host+url;}url="url("+url+")";}}else{if(_3c!==""){url=_3c+url.wq_trim();}else{url=$W._N.getURL(url.wq_trim());url=$W.baseURI+$W.BootLoader.imageServlet+url;url=$W.BootLoader.getImagePostfix(url);}if($W.isLocal==false&&$W._N.browserCheck.ie&&$W._N.browserVersion()=="6"&&url.indexOf("://")==-1){url=location.protocol+"//"+location.host+url;}if(_3b){url="url("+url+")";}}if($W.BootLoader.imageHostUrl!=null){url+="&hostUrl="+$W.BootLoader.imageHostUrl;}}else{if(_3c!==""){url=_3c+url.wq_trim();}else{url=$W._N.getURL(url.wq_trim());}if($W.isLocal==false&&$W._N.browserCheck.ie&&$W._N.browserVersion()=="6"&&url.indexOf("://")==-1){url=location.protocol+"//"+location.host+url;}if(_3b){url="url("+url+")";}}}return url;};$W._N.getEngineImageURL=function(url,_3f){["WebSquare.core.getEngineImageURL"];if(typeof _3f=="undefined"){_3f=false;}if(typeof url=="string"){if($W.BootLoader.imageServlet!=null){if(url.startsWith("url")){var _40=url.substring(3).wq_trim();if(_40.charAt(0)=="("&&_40.charAt(_40.length-1)==")"){url=_40.substring(1,_40.length-1);url=$W.baseURI+$W.BootLoader.imageServlet+$W.baseURI+url.wq_trim();url=$W.BootLoader.getImagePostfix(url);url="url("+url+")";}}else{url=$W.baseURI+$W.BootLoader.imageServlet+$W.baseURI+url.wq_trim();url=$W.BootLoader.getImagePostfix(url);if(_3f){url="url("+url+")";}}}else{url=$W.baseURI+url.wq_trim();if(_3f){url="url("+url+")";}}}return url;};$W._N.browserCheck=function(){["WebSquare.core.browserCheck"];return navigator.appName;};$W._N.browserCheck.ie=$W.BootLoader.browserCheck.ie;$W._N.browserCheck.moz=$W.BootLoader.browserCheck.moz;$W._N.browserCheck.opera=$W.BootLoader.browserCheck.opera;$W._N.browserCheck.chrome=$W.BootLoader.browserCheck.chrome;$W._N.browserCheck.android=$W.BootLoader.browserCheck.android;$W._N.browserCheck.iphone=$W.BootLoader.browserCheck.iphone;$W._N.browserCheck.ipad=$W.BootLoader.browserCheck.ipad;$W._N.browserCheck.ipod=$W.BootLoader.browserCheck.ipod;$W._N.browserCheck.blackberry=$W.BootLoader.browserCheck.blackberry;$W._N.browserCheck.safari=$W.BootLoader.browserCheck.safari;$W._N.browserCheck.ieAllVersion=$W.BootLoader.browserCheck.ieAllVersion;$W._N.browserCheck.spartan=$W.BootLoader.browserCheck.spartan;$W._N.browserCheck.ieVersion={};$W._N.browserCheck.mozVersion={};$W._N.browserCheck.chromeVersion={};$W._N.browserCheck.safariVersion={};$W._N.browserCheck.operaVersion={};$W._N.browserCheck.spartanVersion={};$W._N.browserCheck.isMobile;if(!$W._N.browserCheck.ie){HTMLElement.prototype.click=function(){var evt=this.ownerDocument.createEvent("MouseEvents");evt.initMouseEvent("click",true,true,this.ownerDocument.defaultView,1,0,0,0,0,false,false,false,false,0,null);this.dispatchEvent(evt);};}$W._N.browserVersion=function(){["WebSquare.core.browserVersion"];if($W._N.browserCheck.moz){if(navigator.appVersion.charAt(0)==2){return "2";}else{if(navigator.appVersion.charAt(0)==3){return "3";}else{if(navigator.appVersion.charAt(0)==4){return "4";}else{if(navigator.appVersion.charAt(0)==5){return "6";}}}}}else{if($W._N.browserCheck.ieAllVersion){if(document.documentMode){return document.documentMode+"";}if(navigator.appVersion.charAt(0)=="2"){return "2";}else{if(navigator.appVersion.charAt(0)=="3"){return "3";}else{if(navigator.appVersion.charAt(0)=="4"){if(navigator.appVersion.indexOf("MSIE 9")!=-1){return "9";}else{if(navigator.appVersion.indexOf("MSIE 8")!=-1){return "8";}else{if(navigator.appVersion.indexOf("MSIE 7")!=-1){return "7";}else{if(navigator.appVersion.indexOf("MSIE 6")!=-1){return "6";}else{if(navigator.appVersion.indexOf("MSIE 5.5")!=-1){return "5.5";}else{if(navigator.appVersion.indexOf("MSIE 5.0")!=-1){return "5.0";}else{return "4";}}}}}}}else{if(navigator.appVersion.charAt(0)=="5"){return "5";}}}}}else{if($W._N.browserCheck.android){var ua=navigator.userAgent;if(ua.indexOf("Android")>=0){return parseFloat(ua.slice(ua.indexOf("Android")+8));}}}}return " ";};$W._N.setTimeout=function(_43,_44,_45){["WebSquare.core.setTimeout"];var _43=_43;var _44=_44;var _45=_45;var _46=[];if(arguments.length>3){for(var i=3;i<arguments.length;i++){_46.push(arguments[i]);}}window.setTimeout(function(){_44.apply(_43,_46);},_45);};$W._N.cloneObject=function(obj){if(typeof obj!="object"){return obj;}if(obj==null){return obj;}var _49=new Object();for(var i in obj){_49[i]=$W._N.cloneObject(obj[i]);}return _49;};$W.makeCnt=0;$W._N.makeStyle=function(_4b,_4c,_4d){["WebSquare.core.makeStyle"];$W.makeCnt++;if((typeof _4b=="undefined"||_4b==null)&&(typeof _4c=="undefined"||_4c==null)){return null;}var b={};if(typeof _4c!="undefined"&&_4c!=null&&_4c!=""){b=$W._y.makeClassStyle(_4c);b=$W._N.cloneObject(b);}try{if(typeof _4b!="undefined"&&_4b!=null&&_4b!=""){var a=_4b.split(";");for(var i=0;i<a.length;i++){var idx=a[i].indexOf(":");if(idx<0){continue;}else{var _52=a[i].substring(0,idx);var _53=a[i].substring(idx+1);if(_53.indexOf("url")>=0){_53=_53.wq_trim();if(_53.startsWith("url")){var _54=_53.substring(3).wq_trim();if(_54.charAt(0)=="("&&_54.charAt(_54.length-1)==")"){_53="url("+$W._N.getImageURL(_54.substring(1,_54.length-1))+")";}}}b[(_52.wq_trim()).capitalizeStyle()]=_53.wq_trim();}}if(typeof _4d!="undefined"){var tmp={};for(var i=0;i<_4d.length;i++){try{var key=(_4d[i].wq_trim()).capitalizeStyle();var _57=b[key];if(typeof _57!="undefined"){tmp[key]=_57;}}catch(e){$W.exception.printStackTrace(e,"Object ID : "+o.id+",    ");}}b=tmp;}}}catch(e){$W.exception.printStackTrace(e);}return b;};$W.appCnt=0;$W._N.applyStyle=function(o,_59,_5a){["WebSquare.core.applyStyle"];try{$W.appCnt++;if(typeof _59=="undefined"||_59==null){return;}if($W._G.isExist("style",o)){if(typeof _5a=="undefined"){for(var i in _59){try{o.style[i]=_59[i];}catch(e){$W.exception.printStackTrace(e,"Object ID : "+o.id+",    ");}}}else{for(var i=0;i<_5a.length;i++){try{var _5c=_59[_5a[i]];if(typeof _5c!="undefined"){o.style[_5a[i]]=_5c;}}catch(e){$W.exception.printStackTrace(e,"Object ID : "+o.id+",    ");}}}}}catch(e){$W.exception.printStackTrace(e);}};$W._N.getConfiguration=function(key,_5e){["WebSquare.core.getConfiguration"];if(_5e){return $W._N.getConfigurationJSON(key);}else{return $W._N.getConfigurationDocument(key);}};$W._N.setConfiguration=function(key,_60){["WebSquare.core.setConfiguration"];$W._B.setValue($W.BootLoader.configurationInfo,key,"value",_60);$W.BootLoader.configurationJSON.pop();$W.BootLoader.configurationJSON.push($W.BootLoader.XML2JSON($W.BootLoader.configurationInfo));$W.configManager=new $W.configManager($W.BootLoader.configurationDOM);};$W._N.applyConfiguration=function(_61){["WebSquare.core.applyConfiguration"];$W.configCache=[];var _62=$W._B.load(_61);$W.BootLoader.configurationInfo=_62;$W.BootLoader.configurationDOM.pop();$W.BootLoader.configurationDOM.push(_62);$W.BootLoader.configurationJSON.pop();$W.BootLoader.configurationJSON.push($W.BootLoader.XML2JSON(_62));$W.configManager.setConfig(_62);};$W._N.getChildConfiguration=function(key){["WebSquare.core.getChildConfiguration"];return $W._N.getChildConfigurationDocument(key);};$W._N.getChildConfigurationDocument=function(key){["WebSquare.core.getChildConfigurationDocument"];var _65=[];for(var i=0;i<$W.BootLoader.configurationDOM.length;i++){_65=$W._B.getChildren($W.BootLoader.configurationDOM[i],key);if(_65.length>0){return _65;}}return _65;};$W.configCache=[];$W._N.getConfigurationDocument=function(key){["WebSquare.core.getConfigurationDocument"];var _68=$W.configCache[key];if(_68!=null){return _68;}_68="";for(var i=0;i<$W.BootLoader.configurationDOM.length;i++){if(key.indexOf("/")>-1){_68=$W._B.getValue($W.BootLoader.configurationDOM[i],key);_68=_68.wq_trim();}else{var _6a=$W._B.findNode($W.BootLoader.configurationDOM[i].documentElement,"/WebSquare/"+key.wq_trim()+"/@value");if(_6a!=null){_68=(_6a.value!=undefined)?_6a.value:_6a.nodeValue;_68=_68.wq_trim();}}if(_68.length>0){break;}}$W.configCache[key]=_68;return _68;};$W._N.getConfigurationJSON=function(key){["WebSquare.core.getConfigurationJSON"];var _6c=$W.configCache[key];if(_6c!=null){return _6c;}_6c="";for(var i=0;i<$W.BootLoader.configurationJSON.length;i++){if(key.indexOf("/")>-1){var st=key.split("/");var obj=$W.BootLoader.configurationJSON[i];var _70=false;var _71=null;for(var j=0;j<st.length;j++){if(st[j]==""){continue;}_70=false;var _73=st[j];var str=_73.indexOf("[");var _75=null;var _76=null;if(str==-1){_71=_73;}else{_71=_73.substring(0,str);var _77=_73.match(/[a-zA-Z0-9_]*[\[][\s]*(@[a-zA-Z0-9_]*)[\\]*=[\s]*["']?([^'"]*)["']?[\]]/);if(_77!=null){_75=_77[1];_76=_77[2];}}obj=obj[_71];if(obj){if(Object.prototype.toString.call(obj)==="[object Array]"){for(var k=0;k<obj.length;k++){if(_75==null&&_76==null){_70=true;obj=obj[k];break;}else{if(_76==obj[k][_75]){_70=true;obj=obj[k];break;}}}}else{if(_75==null&&_76==null){_70=true;}else{if(_76==obj[_75]){_70=true;}}}}if(!_70){obj=null;break;}}if(obj){if(_71&&_71.startsWith("@")){if(typeof obj=="string"){_6c=obj;}else{_6c=obj+"";}}else{if(Object.prototype.toString.call(obj)==="[object Array]"){_6c=obj[0]["#text"]||"";_6c+=obj[0]["#cdata"]||"";}else{_6c=obj["#text"]||"";_6c+=obj["#cdata"]||"";}if(typeof _6c!="string"){_6c=_6c+"";}}}_6c=_6c.wq_trim();}else{var obj=$W.BootLoader.configurationJSON[i]["WebSquare"][key.wq_trim()];if(obj){if(Object.prototype.toString.call(obj)==="[object Array]"){_6c=obj[0]["@value"];}else{_6c=obj["@value"];}}if(_6c){_6c=_6c.wq_trim();}else{_6c="";}}if(_6c.length>0){break;}}$W.configCache[key]=_6c;return _6c;};$W._N.loadConfiguration=function(){};$W._N.loadConfigurationDocument=function(){};$W._N.errorMessageData=new Object();$W._N.userMessageData=new Object();$W._N.applyErrorMessage=function(){["WebSquare.core.applyErrorMessage"];try{var _79=$W._B.load($W.baseURI+"message/"+$W._N.getConfiguration("language")+".xml");for(var _7a=_79.documentElement.firstChild;_7a!=null;_7a=_7a.nextSibling){if(_7a.nodeType==1){$W._N.errorMessageData[_7a.nodeName]=_7a.firstChild.nodeValue;}}}catch(e){$W.exception.printStackTrace(e);}};$W._N.applyUserMessage=function(){["WebSquare.core.applyUserMessage"];try{var _7b=$W._B.load($W.baseURI+"message/userMessage.xml");for(var _7c=_7b.documentElement.firstChild;_7c!=null;_7c=_7c.nextSibling){if(_7c.nodeType==1){$W._N.userMessageData[_7c.nodeName]=_7c.firstChild.nodeValue;}}}catch(e){$W.exception.printStackTrace(e);}};$W.whereami=function(){["WebSquare.whereami"];alert(location.href);};$W._N.extNamespace=function(){["WebSquare.core.extNamespace"];var _7d=$W._N.getChildConfiguration("/WebSquare/uiplugin");for(var i=0;i<_7d.length;i++){try{$W._N.EXT_PLUGIN[_7d[i].namespace]={};$W._N.EXT_PLUGIN[_7d[i].namespace][_7d[i].id]={};$W._N.EXT_PLUGIN[_7d[i].namespace][_7d[i].id]["id"]=_7d[i].id;$W._N.EXT_PLUGIN[_7d[i].namespace][_7d[i].id]["namespace"]=_7d[i].namespace;$W._N.EXT_PLUGIN[_7d[i].namespace][_7d[i].id]["src"]=_7d[i].src;$W._N.EXT_PLUGIN[_7d[i].namespace][_7d[i].id]["className"]=_7d[i].className;}catch(e){$W.exception.printStackTrace(e);}}};$W._N.matchExtNamespace=function(uri){["WebSquare.core.matchExtNamespace"];if(typeof $W._N.EXT_PLUGIN[uri]=="undefined"){return false;}else{return true;}};$W._N.setMaxZIndex=function(_80){var _81=0;var _82=_80.style.zIndex;var _83=$W.document.body.childNodes;for(var i=0;i<_83.length;i++){if(_83[i].nodeType==1){var _85=_83[i].style.zIndex;if(_85>=_81){_81=_85;}}}_80.style.zIndex=_81+1;};$W.extend=function(_86,_87){for(var _88 in _87){_86[_88]=_87[_88];}return _86;};$W.extendKeepingType=function(_89,_8a){for(var _8b in _8a){var _8c=_8a[_8b];switch(typeof _89[_8b]){case "string":if(_8c==""){continue;}if(_8c=="$blank"){_8c="";}break;case "number":if(_8c.toString().indexOf(".")>-1){_8c=parseFloat(_8c);}else{_8c=parseInt(_8c,10);}break;case "boolean":_8c=$W._G.getBoolean(_8c);break;}_89[_8b]=_8c;}return _89;};$W.setBody=function(_8d){if(!$W.bodyControlList){$W.bodyControlList=[];}$W.bodyControlList.push(_8d);};$W.getBody=function(){if($W.bodyControlList&&$W.bodyControlList[0]){return $W.bodyControlList[0];}else{return null;}};$W._discardElement=function(_8e){var _8f=document.getElementById("IELeakGarbageBin");if(!_8f){_8f=document.createElement("DIV");_8f.id="IELeakGarbageBin";_8f.style.display="none";document.documentElement.appendChild(_8f);}_8f.appendChild(_8e);_8f.innerHTML="";};$W.removeChildren=function(_90){if(_90===undefined||_90===null||!_90.childNodes){return -1;}var _91=_90.childNodes.length;while(_90.hasChildNodes()){$W.removeNode(_90.firstChild);}return _91;};$W.removeNode=function(_92){if($W._G.isIE()&&parseInt($W._N.browserVersion(),10)<8){$W._discardElement(_92);return _92;}else{if(_92&&_92.parentNode){return _92.parentNode.removeChild(_92);}}};$W._N.clearCommon=function(){["WebSquare.core.clearCommon"];try{try{for(var i=$W._N.userClearMemoryStack.length;i>0;i--){var _94=$W._N.userClearMemoryStack[i-1];if(_94){_94();}}}catch(e){}try{var _95=$W._N.getConfiguration("/WebSquare/clearMemory/@userFunction");if(_95){eval(_95+"()");}}catch(e){}if($W&&$W.timerHash){for(var key in $W.timerHash){var _97=$W.timerHash[key];if(_97){$W._N.clearTimer(key);}}}if($W.userTimerHash){for(var key in $W.userTimerHash){var _97=$W.userTimerHash[key];if(_97){$W._G.clearTimeout(key);}}$W.userTimerHash={};}if($W.userIntervalHash){for(var key in $W.userIntervalHash){var _97=$W.userIntervalHash[key];if(_97){$W._G.clearInterval(key);}}$W.userIntervalHash={};}if($W&&$W.userData){for(var key in $W.userData){$W.userData[key]=null;}$W.userData={};}$W._r.paramObj=null;$W._j["stopBroadCast"]=true;for(var _98 in $W._j["comp"]){$W._j.api.remove(_98);}$W._j["stopBroadCast"]=false;$W._j["comp"]={};$W._j["attributeMapInfo"]={};$W._j["childToParentRelation"]={};$W._j["parentToChildRelation"]={};$W._j["childToParentRef"]={};$W._j["parentToChildRef"]={};$W._j["options"]={useConfig:"true",baseNode:"map",attributeMap:""};$W._j["activated"]=false;$W._j["stopBroadCast"]=false;$W._N.clearJQuery();}catch(e){}};var WebSquare_clearMemory=$W.clearMemory=function(){["WebSquare.clearMemory"];try{if($W&&$W._N){var _99=$W._N.getConfiguration("/WebSquare/clearMemory/@userAfterFunction");$W._N.clearCommon();}try{if("onhashchange" in window){window.onhashchange=null;}else{clearInterval($W._G._hashTestKey);if($W._G._hiddenFrame){$W.removeNode($W._G._hiddenFrame);$W._G._hiddenFrame=null;}}}catch(e){$W.logger.printLog("error : clear historyFrame exception");$W.exception.printStackTrace(e,null,this);}if($W&&$W.bodyControlList&&$W.bodyControlList[0]){$W.getBody().remove();}for(var i in $W){$W[i]=null;delete $W[i];}if(typeof window["imports"]!="undefined"){window["imports"]=null;}if(typeof window["requires"]!="undefined"){window["requires"]=null;}if(typeof $W._a!="undefined"){$W._a=null;}if(typeof $W._a!="undefined"){$W._a=null;}if(typeof window["$W"]!="undefined"){window["$W"]=null;}if(typeof window["$W"]!="undefined"){window["$W"]=null;}$W=null;window["$W"]=window["$W"]=window["WebSquare"]={"logger":{"printLog":function(){}},"exception":{"printStackTrace":function(){}},"timerHash":{},"remove":true};try{if(_99){window[_99]();}}catch(e){}}catch(e){}};$W.timerHash={};$W._N.setTimer=function(_9b,_9c){["WebSquare.core.setTimer"];try{var _9d=new Date().getTime();var key=_9c.key||_9b.toString().slice(0,30);var _9f=_9c.delay||1;var max=_9c.max||0;var _a1=_9c.caller||window;var _a2=_9c.args||[];var _a3=$W.timerHash[key];if(!_a3){_a3=$W.timerHash[key]={thread:null,timeoutKey:null,startTime:_9d};}_a3.thread=function(){["WebSquare.core.setTimer.helper"];if(window["WebSquare"]&&$W.timerHash){delete $W.timerHash[key];}(_9c.before_call)&&(_9c.before_call.call(_a1,_a3));var ret=_9b.apply(_a1,_a2);(_9c.callback)&&(_9c.callback.call(_a1,ret));};clearTimeout(_a3.timeoutKey);if(max<=0||_9d-_a3.startTime<max){(_9c.before_set)&&(_9c.before_set.call(_a1,_a3));_a3.timeoutKey=setTimeout(_a3.thread,_9f);(_9c.after_set)&&(_9c.after_set.call(_a1,_a3));}else{_a3.thread();}return key;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._N.clearTimer=function(key,_a6){["WebSquare.core.clearTimer"];try{if(typeof key=="function"){key=func.toString().slice(0,30);}var _a7=$W.timerHash[key];if(_a7){clearTimeout(_a7.timeoutKey);if(_a6){_a7.thread();}else{delete $W.timerHash[key];}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W.measureHash={};$W._N.measureTime=function(_a8,_a9){["WebSquare.core.clearTimer"];try{var key=_a9.key||_a8.toString().slice(0,30);var _ab=_a9.caller||window;$W._N.clearTimer(key,true);$W._N.setTimer(function(){},{key:key,before_call:function(_ac){var t=new Date().getTime()-_ac.startTime;if(!$W.measureHash[key]){$W.measureHash[key]=[];$W.measureHash[key].sum=0;}var _ae=$W.measureHash[key];_ae.push(t);_ae.sum+=t;if(_ae.length>100){_ae.sum-=_ae.shift();}_a8.call(_ab,{time:t,aver:_ae.sum/_ae.length});}});}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._N.modifyMaxConnection=function(_af,_b0){["WebSquare.core.modifyMaxConnection"];try{if($W._N.browserCheck.ie){_af=_af||"10";_b0=_b0||"";var _b1=$W._N.getConfiguration("/WebSquare/maxConnectionActiveX/@codebase");if(_b1==null||_b1==""){_b1="engine/cab/WebSquareConfig.cab";}var _b2=$W.document.createElement("div");_b2.style.width="0px";_b2.style.height="0px";_b2.style.visibility="hidden";$W.document.body.appendChild(_b2);_b2.innerHTML="<object classid='clsid:BD66056F-D87B-4543-8638-A4CED765B9AA' codebase='"+_b1+"' style='display: none' width='0' height='0' align='center' hspace='0' vspace='0'><param name='MaxConnectionsPerServer' value='"+_af+"' /><param name='SyncMode5' value='"+_b0+"' /></object>";}}catch(e){$W.exception.printStackTrace(e,null);}};$W._N.setSystemLanguage=function(_b3){["WebSquare.core.setSystemLanguage"];$W.useUserSystemLang=true;var _b4=$W.BootLoader.getBrowserLanguage();var _b3=$W._k.getCookie("system_language")||_b3||_b4||"ko";$W.systemLanguage=_b3;var _b5=$W._N.getConfiguration("/WebSquare/languagePack/url[@lang='"+_b3+"']/@value");imports(_b5);};$W._N.getEmptyTag=function(){["WebSquare.core.getEmptyTag"];try{if($W._N.EMPTY_TAGS){return $W._N.EMPTY_TAGS;}$W._N.EMPTY_TAGS={};var _b6=$W._N.getConfiguration("/WebSquare/emptyTag/@value");if(_b6){var _b7=_b6.split(",");for(var i=0;i<_b7.length;i++){var tag=_b7[i].wq_trim();$W._N.EMPTY_TAGS[tag]=true;}}return $W._N.EMPTY_TAGS;}catch(e){$W.exception.printStackTrace(e,null);}};$W._N.finalize=function(){["WebSquare.core.finalize"];try{$W._j["stopBroadCast"]=true;$W.dragdrop2={"droppable":{},"scrollable":{},"scrollByDragDelay":300,"scrollByDragSpeed":50};if($W.getBody()){if(!$W._N.firePageunload){$W._N.firePageunload=true;$W._c.fireEvent($W.getBody(),"onpageunload");}}var _ba=$W._N.getConfiguration("/WebSquare/spa/onpageunload/@value");if(_ba!=null&&_ba!=""){try{eval(_ba+"();");}catch(e){$W.logger.printLog("eval script error : "+_ba);$W.exception.printStackTrace(e,null);}}if($W._N.getConfiguration("/WebSquare/spa/autoReload/@value").toLowerCase()==="true"){for(var _bb in $W._N.memoryLeakComponent){if($W.WebSquareDocument.componentsCache[_bb]!=undefined){if(Number($W._N.getConfiguration("/WebSquare/spa/autoReload/@"+_bb))<=$W.WebSquareDocument.componentsCache[_bb].length){$W._G.clearPage();return;}$W._N.memoryLeakComponentCount+=$W.WebSquareDocument.componentsCache[_bb].length*$W._N.memoryLeakComponent[_bb];}}var _bc=$W._N.getConfiguration("/WebSquare/spa/autoReload/@count");if(_bc==""){_bc=NaN;}else{_bc=Number(_bc);}if($W._N.memoryLeakComponentCount>0&&$W._N.memoryLeakComponentCount>_bc){$W._G.clearPage();return;}}var _bd=$W._N.getConfiguration("/WebSquare/spa/variable/@value");if(_bd){var _be=_bd.split(",");for(var i=0;i<_be.length;i++){try{var _c0=_be[i].wq_trim();if(eval("typeof "+_c0)!="undefined"){var _c1=eval(_c0);if(_c1!=null){for(var _c2 in _c1){delete _c1.varKey;}window[_c0]={};_c1=null;}}}catch(e){$W.logger.printLog("variable auto clear error : cannot find variable ["+_bd+"]");$W.exception.printStackTrace(e,null);}}}else{if(typeof $sp!="undefined"&&$sp!=null){for(var _c3 in $sp){delete $sp.spKey;}$sp={};}}for(var key in $W.idCache){var _c5=$W.idCache[key];if(typeof _c5.remove=="function"&&_c5.remove!=$W._t.prototype.remove&&(!_c5.options||(_c5.options.pluginName!="wframe"&&_c5.options.pluginName!="pageInherit"))){_c5.remove();}else{$W.isPrintLog=false;if(typeof _c5.finalize=="function"){_c5.finalize();}$W.isPrintLog=true;if(typeof _c5.unbind=="function"){_c5.unbind();}if(_c5.event){_c5.event.clearCache();}if($W.useVisibleHelper&&_c5.render&&_c5.render.parentNode&&_c5!=$W.bodyControlList[0]){_c5.render.parentNode.removeChild(_c5.render);}_c5.childControlList=[];if(window[_c5.id]){window[_c5.id]=null;}}}if(!$W.useVisibleHelper&&$W.bodyControlList){for(var i=$W.bodyControlList.length-1;i>=0;i--){var _c6=$W.bodyControlList[i];if(_c6){_c6.childControlList=null;if(_c6.layerListener){_c6.layerListener.removeAll();}if(_c6.render){_c6.render.parentNode.removeChild(_c6.render);}}}}$W.bodyControlList=[];$W.idCache={};window[$W.noConflict].comp={};$W.idToUUID={};$W.scriptSectionExcuteFlag=null;$W.scriptSection="";$W.useVisibleHelper=false;$W.styleSheetEarlyImport=0;$W.styleSheetEarlyImportName="";if($W._y&&$W._y.skinTag){$W._y.skinTag=$W.styleSheetEarlyImportList.slice(0);}$W.externalCSSList=[];$W.externalCSSDOM=[];$W.externalCSSURL=[];$W.pageXMLString=null;if($W.WebSquaredoc!=null){$W.WebSquaredoc.itemsetElement=[];$W.WebSquaredoc.refElement=[];$W.WebSquareDocument.componentsCache={};var _c7=$W.document.getElementsByTagName("head")[0];for(var i=0;i<$W.WebSquaredoc.cssList.length;i++){_c7.removeChild($W.WebSquaredoc.cssList[i]);$W.WebSquaredoc.cssList[i]=null;}_c7=null;if($W.WebSquaredoc.xmlDocument!=null){for(var i=$W.WebSquaredoc.xmlDocument.childNodes.length-1;i>=0;i--){$W.WebSquaredoc.xmlDocument.removeChild($W.WebSquaredoc.xmlDocument.childNodes[i]);}}if($W.WebSquaredoc.models){for(var m1=0;m1<$W.WebSquaredoc.models.length;m1++){var _c9=$W.WebSquaredoc.models[m1];if(_c9){for(var t1=0;t1<_c9.submissions.length;t1++){_c9.submissions[t1].dead=true;}for(var t2=0;t2<_c9.workflows.length;t2++){_c9.workflows[t2].promiseStatus="REJECT";}}}}for(var key in $W.WebSquaredoc){$W.WebSquaredoc[key]=null;}}$W._N.clearCommon();$W.WebSquaredoc=null;$W.callExecuteHelper=false;$W._N.firePageunload=false;$W._N.onurlchange=false;if(document.body==null){document.documentElement.appendChild(document.createElement("body"));}}catch(e){$W.exception.printStackTrace(e,null);}};$W._N.getComponentById=function(id){["WebSquare.core.getComponentById"];try{if(typeof id=="string"&&$W.idCache[$W.idToUUID[id]]){return $W.idCache[$W.idToUUID[id]];}else{return eval(id);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._N.setId=function(id,_ce){["WebSquare.core.setId"];try{_ce._orgUUID=_ce.uuid;_ce.setAttribute("id",id);_ce.render.setAttribute("id",id);_ce.id=id;$W.idToUUID[id]=_ce.uuid;window[$W.noConflict].comp[id]=_ce;if($W._N.getConfiguration("/WebSquare/globalExposure/@value").toLowerCase()!="false"){window[id]=_ce;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._N.cleanObj=function(obj){["WebSquare.core.cleanObj"];try{var _d0=[];var _d1=0;_d0.push(obj);for(var _d2=_d0.pop();_d2!=undefined;_d2=_d0.pop()){if($W._N.isNode(_d2)||$W._N.isWindow(_d2)){continue;}_d1++;if(typeof _d2=="object"&&_d2!=null){for(var key in _d2){var _d4=_d2[key];if(typeof _d4=="object"&&_d4!=null){_d0.push(_d4);}delete _d2[key];}}}return _d1;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._N.isWindow=function(obj){["WebSquare.core.isWindow"];return obj==obj.window;};$W._N.isNode=function(obj){["WebSquare.core.isNode"];if(typeof Node!="undefined"){return obj instanceof Node;}else{return (typeof obj.nodeType=="number"&&typeof node.nodeName=="string");}};$W._N.isXML=function(_d7){["WebSquare.core.isXML"];try{if(_d7){var _d8=(_d7?_d7.ownerDocument||_d7:0).documentElement;var _d9=_d8?_d8.nodeName!=="HTML":false;return _d9;}else{return;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._N.executePointScript=function(_da){if($W.executePointScriptArr[_da]){for(var i=0;i<$W.executePointScriptArr[_da].length;i++){$W.BootLoader.globalEval($W.executePointScriptArr[_da][i]);}$W.executePointScriptArr[_da]=null;delete $W.executePointScriptArr[_da];}};$W._N.getPageURL=function(src){if(typeof src!="string"){return "";}var _dd=src;var _de=$W._N.getConfiguration("/WebSquare/pageURLPrefix/@ignoreW2xPath");if($W.pageURLPrefix!==""&&$W.pageURLPrefixType=="function"){var _df=$W.pageURLPrefix;if($W.pageURLPrefix.indexOf("()")==-1){_df=$W.pageURLPrefix+"()";}if(_de.toLowerCase()=="true"){_df=_df.wq_replaceAll("()","(obfuscator_url)");_dd=eval("(function(){var obfuscator_url = \""+_dd+"\";return "+_df+"})();");}else{_dd=eval(_df)+_dd;}}else{if($W.pageURLPrefix!==""&&$W.pageURLPrefixType!="function"){_dd=$W.pageURLPrefix+_dd;}}return _dd;};$W._N.clearObj=function(obj,_e1,_e2){["WebSquare.core.clearObj"];if(_e1==undefined){_e1=1;}if(_e1>_e2){return;}if(typeof obj=="object"||typeof obj=="function"){for(var _e3 in obj){if(typeof obj[_e3]=="object"||typeof obj[_e3]=="function"){gfn_clearObj(obj[_e3],_e1+1);}try{obj[_e3]=null;delete obj[_e3];}catch(e){$W.exception.printStackTrace(e,null,this);}}}};$W._N.clearJQuery=function(){["WebSquare.core.clearJQuery"];try{if(typeof jQuery!="undefined"&&jQuery!=null){var _e4=[];for(var id in jQuery.cache){if(jQuery.cache[id].handle){try{_e4.push(jQuery.cache[id].handle.elem);}catch(e){}}}jQuery.cleanData(_e4);for(var key in _e4){delete _e4[key];}_e4=null;}}catch(e){$W.logger.printLog("error : jQuery cleanData exception");$W.exception.printStackTrace(e,null,this);}};;WebSquare.core=$W._N;$W.exception={};if($W.skipLog===true){$W.exception.printError=function(){};$W.exception.printStackTrace=function(){};$W.exception.parseStack=function(){};$W.exception.ieErrorHandler=function(){};$W.exception.printInternalSource=function(){};$W.exception.ffErrorHandler=function(){};$W.exception.getSignature=function(){};}else{$W.exceptionCnt=0;$W.exception.printError=function(_1){["WebSquare.exception.printError"];$W.logger.printLog("WebSquare Error\n\n"+_1);if($W.logger.debug){alert("WebSquare Error\n\n"+_1);}};$W.exception.printStackTrace=function(e,_3,_4){["WebSquare.exception.printStackTrace"];$W.exceptionCnt++;if($W.printConsole){console.error($W.exceptionCnt,e);return;}var _5="";if(_4&&_4.getID){_5+="Exception Occured at element id ["+_4.getID()+"]\n";if(_4.parentFrame&&$W.idCache[_4.parentFrame]!=null){_5+="* frame       : id=["+$W.idCache[_4.parentFrame].id+"], src=["+$W._N.getURL($W.idCache[_4.parentFrame].getSrc())+"]\n";}}if(e.message){_5+="* message     : "+e.message+"\n";}var _6=false;try{if(e.componentName){_5+="* component   :"+e.componentName+"\n";}}catch(eeee){}try{if(e.componentID){_5+="* id          :"+e.componentID+"\n";}}catch(eeee){}try{if(e.eventName){_5+="* event       :"+e.eventName+"\n";}}catch(eeee){}try{if(e.description){_5+="* description :"+e.message+"\n";}}catch(eeee){}try{if(e.number){_5+="* number      :"+(e.number&65535)+"\n";}}catch(eeee){}try{if(e.line){_5+="* line        :"+e.line+"\n";}}catch(eeee){}try{if(e.lineNumber){_5+="* lineNumber  :"+e.lineNumber+"\n";}}catch(eeee){}try{if(e.columnNumber){_5+="* columnNumber:"+e.columnNumber+"\n";}}catch(eeee){}try{if(e.sourceURL){_5+="* sourceURL   :"+e.sourceURL+"\n";}}catch(eeee){}try{if(e.fileName){_5+="* fileName    :"+e.fileName+"\n";}}catch(eeee){}try{if(e.stack){_5+="* stack\n"+$W.exception.parseStack(e.stack)+"\n";}}catch(eeee){}try{if(e.caller){_6=true;}}catch(eeee){}if(_3){_3+="";if(_3.length>100){_5+="* source        :"+_3.substring(0,100)+"\n";}else{_5+="* source        :"+_3+"\n";}}if(typeof e.aleradyThrow=="undefined"){if(!_6){_5+="* caller\n"+$W.exception.getSignature($W.exception.printStackTrace.caller);}var _7=$W._m.getMessage("E_exception_ErrorOccursSeeLog",_5);if(_7==""){_7=_5;}$W.logger.printLog(_7);$W.exception.printInternalSource();e.aleradyThrow="djshin";}};$W.exception.parseStack=function(_8){["WebSquare.exception.parseStack"];var _9=_8.split("\n");var _a=[];for(var i=0;i<_9.length;i++){if(_9[i]){if(!_9[i].trim().startsWith("at")){if(i==0&&navigator.userAgent.indexOf("Chrome")>-1){_a.push("    "+_9[i]);}else{_a.push("    at "+_9[i]);}}else{_a.push(_9[i]);}}}return _a.join("\n");};$W.exception.ieErrorHandler=function(_c,_d,_e){["WebSquare.exception.ieErrorHandler"];$W.logger.printLog($W._m.getMessage("E_exception_IERuntimeError",_e,window.event.errorCharacter,window.event.errorCode,_d,_c,$W.exception.getSignature($W.exception.ieErrorHandler.caller)));$W.exception.printInternalSource();return true;};$W.exception.printInternalSource=function(){["WebSquare.exception.printInternalSource"];for(var j=0;j<$W.BootLoader.globalEvalArr.length;j++){var _10=[];var _11=$W.scriptIdentifier.length;var _12="\n<<Internal JavaScript Source Block";var scr=$W.BootLoader.globalEvalArr[j];if(scr){var _14=scr.split($W.scriptIdentifier);var _15=(_14.length>1)?1:0;var _16=1,isFirst=true;for(var ff=0;ff<_14.length;ff++){if(_14[ff]==""){continue;}var _18=_14[ff].split("\n");var _19=_18[0]+"";var _1a=_19.indexOf("\";");if(_1a>0){_19=_18[0].substring(0,_1a);_18[0]=_18[0].substring(_1a+2);}if(_15===1){_10.push(_12+" ["+_19+"]["+j+"] Start>>");}else{_10.push(_12+"["+j+"] Start>>");}if(isFirst){isFirst=false;_10.push("\n");_10.push("[");if(_15===1){_10.push(_19+":");}_10.push($W.BootLoader.fillZero(_16,4));_10.push("]");_16++;}for(var i=0,len=_18.length;i<len;i++){_10.push("\n");_10.push("[");if(_15===1){_10.push(_19+":");}_10.push($W.BootLoader.fillZero(_16,4));_10.push("]");_10.push(_18[i]);_16++;}if(_15===1){_10.push(_12+" ["+_19+"]["+j+"] End>>\n");}else{_10.push(_12+"["+j+"] End>>\n");}}}var _1c=_10.join("");$W.logMsgArray.push(_1c);if($W.printConsole){console.log(_1c);}if($W.remoteConsole){$W.remoteLogMsgArray.push(_1c);}}};$W.exception.ffErrorHandler=function(_1d,url,_1f){["WebSquare.exception.ffErrorHandler"];if(_1d=="Error loading script"){$W.BootLoader.printError("Module ["+url+"] Does not exist.");return false;}if($W._N.browserCheck.moz){_1f++;}$W.logger.printLog($W._m.getMessage("E_exception_FFRuntimeError",_1f,url,_1d,$W.exception.getSignature($W.exception.ffErrorHandler.caller)));$W.exception.printInternalSource();return true;};$W.exception.getSignature=function(obj,_21){["WebSquare.exception.getSignature"];if(typeof _21=="undefined"){_21=0;}if(_21>10){return "    ...(omission)";}if(obj==null||obj=="null"){return "";}else{try{var _22="";if(obj.caller!=null){if(obj.toString()!=obj.caller.toString()){_22=$W.exception.getSignature(obj.caller,++_21);}else{_22="    ...(recursion)";}}var str=obj.toString();var idx=str.indexOf("[\"");if(idx==-1){var _25=str.indexOf(")");if(_25==-1){return "    at "+str+"\n"+_22;}else{return "    at "+str.substring(0,_25+1)+"\n"+_22;}}else{var _25=str.indexOf("\"",idx+2);if(_25==-1){return "    at "+str+"\n"+_22;}else{return "    at "+str.substring(idx+2,_25)+"\n"+_22;}}}catch(e){return obj;}}};}$W.logger={};if($W.skipLog===true){$W.logger.printLog=function(){};$W.logger.changeClientName=function(){};$W.logger.sendRemoteLog=function(){};$l=function(e){};$W.logger.printLog1=function(){};$W.logger.getFileName=function(){};$W.logger.getLogTime=function(){};$W.logger.getLog=function(){};$W.logger.getErrorLog=function(){};$W.logger.clearLog=function(){};$W.logger.showLog=function(){};$W.logger.saveLog=function(){};$W.logger.showDebugMsg=function(){};$W.logger.showErrorMsg=function(){};$W.logger.alertObject=function(){};$lobj=$W.logger.alertObject,$W.logger.getObjectStr=function(){};$lobj2=function(){};wl=$lobj2,wa=function(){};$larg=function(){};$W.logger.showObject=function(){};$W.logger._showObject=function(){};$W.logger.getFunctionName=function(){};$W.logger.showContextMenu=function(){};$W.logger.setGlobalDebug1=function(){};$W.logger.setGlobalDebug2=function(){};$W.logger.getGlobalDebug=function(){return false;};$W._N.getVersion=function(){};$W._N.getVersionString=function(){return $W.version;};$W._N.getFileVersion=function(){};$W._N.getFileVersionString=function(){return $W.buildDate;};$W.logger.contextMenuAddRow=function(){};$W.logger.contextMenuAddRow1=function(){};$W.logger.hideContextMenu=function(){};$W.logger.dumpCSS=function(){};$W.logger.debug=false;$W.logger.debugKey="";}else{$W.logMsgArrayLength=0;$W.logMsgCurrentLength=0;$W.logMsgLength=0;$W.logger.printLog=function(_2){["WebSquare.logger.printLog"];try{$W.logMsgArrayLength++;if($W.isPrintLog){$W.logMsgCurrentLength+=_2.length;$W.logMsgLength+=_2.length;if($W.logMsgArray.length>500||$W.logMsgCurrentLength>50000){delete $W.logMsgArray;$W.logMsgArray=[];$W.logMsgCurrentLength=_2.length;$W.logMsgArray.push($W.logger.getLogTime()+" "+$W.logger.getFileName()+"] Delete logs for reducing memory usage. Total logs : "+$W.logMsgArrayLength+", bytes : "+$W.logMsgLength);}var _3=$W.BootLoader.getLogTime();var _4=" "+$W.logger.getFileName()+"] "+_2;$W.logMsgArray.push(_3+_4);if($W.printConsole){console.log(_3+_4);}if($W.remoteConsole){$W.remoteLogMsgArray.push(_3+$W.logFileName+_4);}}}catch(e){}};$W.logger.changeClientName=function(){if(!$W.logger.clientName){$W.logger.clientName=$W.BootLoader.getCookie("remote_client_name");if(!$W.logger.clientName){$W.logger.clientName="Client_"+parseInt(Math.random()*1000);$W.BootLoader.setCookie("remote_client_name",$W.logger.clientName);}}var _5=prompt($W._m.getMessage("E_logger_changeClientName"),$W.logger.clientName);if(_5){$W.logger.clientName=_5;$W.BootLoader.setCookie("remote_client_name",$W.logger.clientName);}};if($W.remoteConsole){$W.logger.sendRemoteLog=function(_6){["WebSquare.logger.sendRemoteLog"];if(!$W.logger.clientName){$W.logger.clientName=$W.BootLoader.getCookie("remote_client_name");if(!$W.logger.clientName){$W.logger.clientName="Client_"+parseInt(Math.random()*1000);$W.BootLoader.setCookie("remote_client_name",$W.logger.clientName);}}if($W.remoteConsole){try{if($W.remoteLogMsgArray.length>0){var _6=JSON.stringify({"clientName":$W.logger.clientName,"logs":$W.remoteLogMsgArray});$W.remoteLogMsgArray=[];var _7=null;if($W.BootLoader.useActiveXObject){_7=new ActiveXObject($W._N._XMLHTTP_PROGIDS[0]);}else{if(window.XMLHttpRequest){_7=new XMLHttpRequest();}}_7.open("POST",$W.baseURI+"fiddle/logAggregator.jsp",false);_7.send(_6);_7=null;}}catch(e){$W.exception.printStackTrace(e);}window.setTimeout("WebSquare.logger.sendRemoteLog()",1000);}};window.setTimeout("WebSquare.logger.sendRemoteLog()",1000);}$l=function(_8,_9){["WebSquare.logger.printLog1"];try{if(_9){if($W.logger.debug==true){if($W.logger.debugKey.indexOf(_9)>-1){$W.logger.printLog(_8);}}}else{$W.logger.printLog(_8);}}catch(e){$W.exception.printStackTrace(e);}};$W.logger.printLog1=function(_a){["WebSquare.logger.printLog1"];try{$W.logMsgArray.push("             "+$W.logger.getFileName()+"] "+_a);}catch(e){}};$W.logger.getFileName=function(){["WebSquare.logger.getFileName"];var _b=location.pathname;try{var _c=_b.lastIndexOf("/");if(_c>-1&&_c<(_b.length-1)){_b=_b.substring(_c+1);}_c=_b.lastIndexOf(".");if(_c>-1){_b=_b.substring(0,_c);}}catch(e){}return _b;};$W.logger.getLogTime=function(_d){["WebSquare.logger.getLogTime"];var d=null;if(_d=="undefined"||_d==null){d=new Date();}else{d=new Date(_d);}var _f=d.getTime();var _10=_f-$W.logTime;var _11=$W._A.fillZero(d.getHours(),2);var _12=$W._A.fillZero(d.getMinutes(),2);var _13=$W._A.fillZero(d.getSeconds(),2);var _14=$W._A.fillZero(d.getMilliseconds(),3);var _15=_11+":"+_12+":"+_13+"."+_14;if(_10<100000){$W.logTotalTime+=_10;_15+=" "+$W._A.fillZero(_10,5)+" "+$W._A.fillZero($W.logTotalTime,6);}else{_15+=" 00000 000000";}$W.logTime=_f;return _15;};$W.logger.getLog=function(){["WebSquare.logger.getLog"];var _16="";try{if($W._N.isParentFrameMethod("WebSquare.logger.getLog")){_16=parent.WebSquare.logger.getLog();if(_16!=""){_16="Parent Log["+window.parent.name+"] \n"+_16;}}}catch(e){$W.exception.printStackTrace(e);}try{if(_16==""){return $W.logMsgArray.join("\n");}else{return $W.logMsgArray.join("\n")+"\n\n\n"+_16;}}catch(e){$W.exception.printStackTrace(e);}};$W.logger.getErrorLog=function(){["WebSquare.logger.getErrorLog"];$W.errorLogMsgArray=[];for(var i=0;i<$W.logMsgArray.length;++i){if($W.logMsgArray[i].indexOf("\uc624\ub958")>-1||$W.logMsgArray[i].indexOf("\uc5d0\ub7ec")>-1||$W.logMsgArray[i].indexOf("Runtime Error")>-1||$W.logMsgArray[i].indexOf("Error occurs")>-1||$W.logMsgArray[i].indexOf("error occurred")>-1){$W.errorLogMsgArray.push($W.logMsgArray[i]);}}var _18="";try{if($W._N.isParentFrameMethod("WebSquare.logger.getLog")){_18=parent.WebSquare.logger.getErrorLog();if(_18!=""){_18="\n----------------------------------------Parent Log["+window.parent.name+"]----------------------------------------\n"+_18;}}}catch(e){$W.exception.printStackTrace(e);}try{if(_18==""){return $W.errorLogMsgArray.join("\n--------------------------------------------------------------------------------\n");}else{return $W.errorLogMsgArray.join("\n--------------------------------------------------------------------------------\n")+"\n\n\n"+_18;}}catch(e){$W.exception.printStackTrace(e);}};$W.logger.clearLog=function(){["WebSquare.logger.clearLog"];var _19=$W.logger.getLog();try{if($W._N.isParentFrameMethod("WebSquare.logger.clearLog")){parent.WebSquare.logger.clearLog();}}catch(e){}try{$W.logMsgArray=[];}catch(e){$W.exception.printStackTrace(e);}return _19;};$W.logger.showLog=function(){["WebSquare.logger.showLog"];var _1a="top=120,height=485,left=200,width=650,location=no,menubar=no,resizable=yes,scrollbars=auto,status=no,titlebar=yes,toolbar=no";var _1b="";if($W.domain){_1b="?domain="+$W._A.URLEncoder($W.domain);}if($W.BootLoader.browserCheck.android||$W.BootLoader.browserCheck.iphone||$W.BootLoader.browserCheck.ipad||$W.BootLoader.browserCheck.ipod||$W.BootLoader.browserCheck.blackberry){var url=$W._N.getConfiguration("logMsgMobileURL");if(!url){url=$W.baseURI+"message/logMsgMobile.html";}url+=_1b;window.open(url);}else{var url=$W._N.getConfiguration("logMsgURL");if(!url){url=$W.baseURI+"message/logMsg.html";}url+=_1b;var _1d=window.open(url,"_blank",_1a);}};$W.logger.saveLog=function(){["WebSquare.logger.saveLog"];var _1e=$W.logger.getLog();var _1f=$W._N.getXMLHTTPObject();_1f.open("POST",$W.baseURI+"/engine/servlet/saveLog.jsp",false);_1f.send(_1e);_1f=null;};$W.logger.showDebugMsg=function(obj,_21,_22){["WebSquare.logger.showDebugMsg"];var _23="dialogHeight: 700pt; dialogWidth: 580pt; edge: Raised; center: Yes; help: No; edge: raised; resizable: Yes; status: No;";var _24;if(typeof _21!="undefined"){obj["_config"]=_21;}if(typeof _22!="undefined"){obj["title"]=_22;}if(typeof obj=="object"){_24=obj;}else{_24=new Object();try{if(obj!=null){_24["debug info"]=obj.toString();}else{_24["debug info"]="";}}catch(e){}}var _25="";if($W.domain){_25="?domain="+$W._A.URLEncoder($W.domain);}var url=$W._N.getConfiguration("debugMsgURL");if(!url){url=$W.baseURI+"message/debugMsg.html";}$W._r.showWindow(url+_25,_24,_23);};$W.logger.showErrorMsg=function(obj){["WebSquare.logger.showErrorMsg"];var _28="dialogHeight: 300pt; dialogWidth: 280pt; edge: Raised; center: Yes; help: No; resizable: Yes; status: No;";var _29="";if($W.domain){_29="?domain="+$W._A.URLEncoder($W.domain);}var url=$W._N.getConfiguration("errorMsgURL");if(!url){url=$W.baseURI+"message/errorMsg.html";}$W._r.showWindow(url+_29,obj,_28);};$W.logger.alertObject=function(obj,log){["WebSquare.logger.alertObject"];var o=new Object();var str="";try{if(typeof obj=="string"){str=obj;}else{if(typeof obj=="object"){if(obj==null){str+=" null";}else{try{for(var idx in obj){var tmp=idx+"               ";tmp=tmp.substring(0,30);try{str+=tmp+":  "+obj[idx]+"\n";}catch(e){}}}catch(e){str+=$W._m.getMessage("E_logger_InnerBlindObject");}}}}}catch(e){$W.exception.printStackTrace(e);}if(log==true){$l(str);}else{alert(str);}};$lobj=$W.logger.alertObject;$W.logger.getObjectStr=function(_31,obj,_33){["WebSquare.logger.getObjectStr"];try{var _34="";for(var i=0;i<_31;i++){_34+="\t";}if(_31>_33.maxDepth){return _34+"[...]";}var o=new Object();var str="";if(typeof obj=="string"||typeof obj=="number"){str=obj;}else{if(typeof obj=="object"){if(obj==null){str+=" null";}else{try{for(var idx in obj){var tmp=idx+"               ";tmp=tmp.substring(0,25);try{if(isNaN(idx)){if(_33.exclude&&_33.exclude.indexOf(idx)>-1){continue;}if(_33.include&&_33.include.indexOf(idx)==-1){continue;}}if(!_33.includeFunction&&typeof obj[idx]=="function"){continue;}if(typeof obj[idx]=="object"&&obj[idx]!=null){if(!_33.includeFunction&&(idx+"").indexOf("on")==0){continue;}if(!_33.includeFunction&&typeof obj[idx].innerHTML!="undefined"){str+=_34+tmp+": "+"[DOM Obejct]"+"\n";continue;}if((obj[idx].documentElement||obj[idx].ownerDocument)){str+=_34+tmp+": "+"[XML Obejct]"+"\n"+_34+$W._B.serialize(obj[idx])+"\n";continue;}str+=_34+tmp+":\n"+$W.logger.getObjectStr(_31+1,obj[idx],_33)+"\n";}else{str+=_34+tmp+": "+obj[idx]+"\n";}}catch(e){}}}catch(e){str+=$W._m.getMessage("E_logger_InnerBlindObject");}}}}return str;}catch(e){$W.exception.printStackTrace(e);}};$lobj2=function(obj,_3b){_3b=$W.extend({log:false,includeFunction:false,maxDepth:2,include:null,exclude:"event parentComponent defaultOptions"},_3b||{});var _3c=$W.logger.getObjectStr(0,obj,_3b);if(_3b.log==true){_3c=("\n\n--------------object log----------------\n\n")+_3c;$l(_3c);}else{alert(_3c);}};wl=$lobj2;wa=function(msg){if($W.logger.debug==true){alert(msg);}};$larg=function(_3e,log,_40){var arr=[];for(var i=0;i<_3e.length;i++){arr.push(_3e[i]);}$lobj(arr,log,_40);};$W.logger.showObject=function(obj,_44){["WebSquare.logger.showObject"];var o=new Object();var str="";try{if($W._B.isDocument(obj)){try{str+=$W._B.indent(obj);}catch(e){str+=$W._m.getMessage("E_logger_InnerBlindObject");}}else{if(typeof obj=="string"){str=obj;}else{if(typeof obj=="object"){if(obj==null){str+=" null";}else{try{for(var idx in obj){var tmp=idx+"               ";tmp=tmp.substring(0,15);if(obj[idx]==null){str+=tmp+":  null\n";}else{if($W._B.isDocument(obj[idx])){str+=tmp+":  \n"+$W._B.indent(obj[idx]);}else{if(typeof obj[idx]=="object"){try{str+=tmp+":  "+$W.logger._showObject(obj[idx],1);}catch(e){str+=tmp+":  [object]\n";}}else{try{if(typeof obj[idx]=="function"){str+=tmp+":  "+$W.exception.getSignature(obj[idx])+"\n";}else{str+=tmp+":  "+obj[idx]+"\n";}}catch(e){str+=tmp+":  "+"\n";}}}}}}catch(e){str+=$W._m.getMessage("E_logger_InnerBlindObject");}}}}}}catch(e){$W.exception.printStackTrace(e);}if(_44==null||_44==""){o["Object"]=str;}else{o[_44]=str;}$W.logger.showDebugMsg(o,"text",$W._m.getMessage("E_logger_ObjectInfo"));};$W.logger._showObject=function(obj,_4a){["WebSquare.logger._showObject"];var str="\n";var _4c="";for(var i=0;i<_4a;i++){_4c+="\t";}try{if($W._B.isDocument(obj)){try{str+=_4c+tmp+":  \n"+$W._B.indent(obj);}catch(e){str+=$W._m.getMessage("E_logger_InnerBlindObject");}}else{if(typeof obj=="object"){if(obj==null){str+=" null";}else{for(var idx in obj){var tmp=idx+"               ";tmp=tmp.substring(0,15);if(obj[idx]==null){str+=tmp+":  null\n";}else{if($W._B.isDocument(obj[idx])){str+=_4c+tmp+":  \n"+$W._B.indent(obj[idx]);}else{if(typeof obj[idx]=="object"){try{str+=_4c+tmp+":  \n"+$W.logger._showObject(obj[idx],_4a++);}catch(e){str+=_4c+tmp+":  [object]\n";}}else{try{if(typeof obj[idx]=="function"){str+=_4c+tmp+":  "+$W.exception.getSignature(obj[idx])+"\n";}else{str+=_4c+tmp+":  "+obj[idx]+"\n";}}catch(e){str+=_4c+tmp+":  "+"\n";}}}}}}}}}catch(e){str+=$W._m.getMessage("E_logger_InnerBlindObject");}str+="\n";return str;};$W.logger.getFunctionName=function(obj){["WebSquare.logger.getFunctionName"];if(obj==null||obj=="null"){return "";}else{try{var str=obj.toString();if(str.indexOf("anonymous")==-1){var _52=str.indexOf("function");var _53=str.indexOf("(");return str.substring(_52+8,_53).wq_trim();}}catch(e){return obj;}}return "";};if($W.BootLoader.browserCheck.android||$W.BootLoader.browserCheck.iphone||$W.BootLoader.browserCheck.ipad||$W.BootLoader.browserCheck.ipod||$W.BootLoader.browserCheck.blackberry){$W.logger.getGlobalDebug=function(){return false;};}else{if($W._N.browserCheck.moz||$W._N.browserCheck.chrome||$W._N.browserCheck.ieAllVersion||$W._N.browserCheck.opera||$W._N.browserCheck.safari){$W.logger.showContextMenu=function(e){e=e||event;if($W._N.browserCheck.moz||$W._N.browserCheck.chrome){if(e.ctrlKey&&e.which==3&&$W._N.getConfiguration("debugMenu")!="block"){}else{return true;}}else{if($W._N.browserCheck.ieAllVersion){if((e.ctrlKey||e.crtlLeft)&&$W._N.getConfiguration("debugMenu")!="block"){}else{return true;}}else{if($W._N.browserCheck.opera){if((e.ctrlKey&&e.shiftKey&&$W._N.getConfiguration("debugMenu")!="block")||(e.ctrlKey&&e.button==2&&$W._N.getConfiguration("debugMenu")!="block")){}else{return true;}}else{if($W._N.browserCheck.safari){if(e.ctrlKey&&e.button==2&&$W._N.getConfiguration("debugMenu")!="block"){}else{return true;}}}}}var _55=window.innerWidth-e.clientX;var _56=window.innerHeight-e.clientY;var _57=$W.document.getElementById("_contextMenuLayer");if(typeof _57=="undefined"||_57==null){_57=$W.document.createElement("div");$W.document.body.insertBefore(_57,null);_57.id="_contextMenuLayer";_57.style.position="absolute";}if(_55<182){_57.style.left=((window.pageXOffset||document.documentElement.scrollLeft)+e.clientX-182)+"px";}else{_57.style.left=((window.pageXOffset||document.documentElement.scrollLeft)+e.clientX)+"px";}if(_56<176){_57.style.top=((window.pageYOffset||document.documentElement.scrollTop)+e.clientY-176)+"px";}else{_57.style.top=((window.pageYOffset||document.documentElement.scrollTop)+e.clientY)+"px";}_57.style.zIndex="20000";_57.style.visibility="visible";var str="";str+="<div onselectstart='return false' style='position:relative; overflow-x:hidden; overflow-y: auto; width:175px;height:173px; border:4px solid #e7e7e7; '>";str+="<table width='175' border='0' cellspacing='0' cellpadding='0' style='border-collapse:collapse; border:1px solid #9fbcd4; background-color:#FFFFFF;'>";str+=$W.logger.contextMenuAddRow("WebSquare.logger.showLog()",$W._m.getMessage("E_logger_ContextmenuSeeLog"));str+=$W.logger.contextMenuAddRow1("prompt( location, location )",$W._m.getMessage("E_logger_ContextmenuSeeAddress"));str+=$W.logger.contextMenuAddRow("WebSquare.util.viewSource()",$W._m.getMessage("E_logger_ContextmenuSeeSource"));str+=$W.logger.contextMenuAddRow("WebSquare.util.viewCollection()",$W._m.getMessage("E_logger_ContextmenuSeeCollection"));str+=$W.logger.contextMenuAddRow("WebSquare.util.viewInstance()",$W._m.getMessage("E_logger_ContextmenuSeeInstance"));str+=$W.logger.contextMenuAddRow("WebSquare.util.viewFiddle()",$W._m.getMessage("E_logger_ContextmenuSeeFiddle"));str+=$W.logger.contextMenuAddRow("WebSquare.logger.changeClientName()",$W._m.getMessage("E_logger_ContextmenuChangeClientName"));if($W.logger.globalDebug1){str+=$W.logger.contextMenuAddRow1("WebSquare.logger.setGlobalDebug1()",$W._m.getMessage("E_logger_ContextmenuStopDebugOnScreen"));}else{str+=$W.logger.contextMenuAddRow1("WebSquare.logger.setGlobalDebug1()",$W._m.getMessage("E_logger_ContextmenuStartDebugOnScreen"));}if($W.logger.getGlobalDebug()){str+=$W.logger.contextMenuAddRow("WebSquare.logger.setGlobalDebug2()",$W._m.getMessage("E_logger_ContextmenuStopDebugOnSystem"));}else{str+=$W.logger.contextMenuAddRow("WebSquare.logger.setGlobalDebug2()",$W._m.getMessage("E_logger_ContextmenuStartDebugOnSystem"));}str+=$W.logger.contextMenuAddRow1("parent.print()",$W._m.getMessage("E_logger_ContextmenuPrint"));str+=$W.logger.contextMenuAddRow("parent.location.reload( true )",$W._m.getMessage("E_logger_ContextmenuRefresh"));str+=$W.logger.contextMenuAddRow("WebSquare.util.reinitialize( false )",$W._m.getMessage("E_logger_ContextmenuPageReload"));str+=$W.logger.contextMenuAddRow("WebSquare.util.reinitialize( true )",$W._m.getMessage("E_logger_ContextmenuBrowserReload"));str+=$W.logger.contextMenuAddRow1("parent.WebSquare.core.getFileVersion()",$W._m.getMessage("E_logger_ContectmenuFileInfo"));str+=$W.logger.contextMenuAddRow("WebSquare.core.getVersion()",$W._m.getMessage("E_logger_ContextmenuVersion"));str+="</table></div>";_57.innerHTML=str;return false;};$W.logger.setGlobalDebug1=function(){["WebSquare.logger.setGlobalDebug1"];$W.logger.globalDebug1=!$W.logger.globalDebug1;$W.logger.hideContextMenu();};$W.logger.setGlobalDebug2=function(){["WebSquare.logger.setGlobalDebug2"];if($W.logger.getGlobalDebug()){$W._k.setCookie("globalDebug","false");}else{var pwd=prompt($W._m.getMessage("E_logger_EnterPassword"),"");if(pwd=="debug"){$W._k.setCookie("globalDebug","true");}else{$W._k.setCookie("globalDebug","false");alert($W._m.getMessage("E_logger_IncorrectPassword"));}}$W.logger.hideContextMenu();};$W.logger.getGlobalDebug=function(){["WebSquare.logger.getGlobalDebug"];try{var _5a=parseInt($W._k.getCookie("lastAccess"),10);if(isNaN(_5a)){_5a=(new Date()).getTime();}var _5b=(new Date()).getTime();if((_5b-_5a)<20*60*1000){$W._k.setCookieAsync("lastAccess",_5b+"");if($W._k.getCookie("globalDebug")=="true"){return true;}else{return false;}}else{$W._k.setCookie("globalDebug","false");return false;}}catch(e){}return false;};$W._N.getVersion=function(){["WebSquare.core.getVersion"];alert("WebSquare Runtime Engine\n          Version : "+$W.version+"\n\n  Copyright \u24d2 2006  INSWAVE Systems, Inc.\n  All Rights Reserved.\n");};$W._N.getVersionString=function(){["WebSquare.core.getVersionString"];return $W.version;};$W._N.getFileVersion=function(){["WebSquare.core.getFileVersion"];alert("FileName : "+$W.w2xPath+"\nBuildDate : "+$W.buildDate);};$W._N.getFileVersionString=function(){["WebSquare.core.getFileVersionString"];return $W.buildDate;};$W.logger.contextMenuAddRow=function(_5c,_5d){["WebSquare.logger.contextMenuAddRow"];if($W._N.browserCheck.moz||$W._N.browserCheck.chrome||$W._N.browserCheck.ieAllVersion){return "<tr><td onmouseover='this.style.backgroundColor=\"b8d5f2\";this.style.color=\"003a89\";' onmouseout='this.style.backgroundColor=\"#FFFFFF\";this.style.color=\"222222\";' style='font-family: Tahoma, Verdana, arial,helvetica; font-size: 11px; color: #222222; line-height: normal;background-color:#FFFFFF; color:#222222; width:100%; height:19px; text-decoration:none; padding:3px 3px 1px 3px; cursor:pointer ' onclick='WebSquare.logger.hideContextMenu();"+_5c+"'>"+_5d+"</td></tr>";}else{if($W._N.browserCheck.opera||$W._N.browserCheck.safari){return "<tr><td onmouseover='this.style.backgroundColor=\"b8d5f2\";this.style.color=\"003a89\";' onmouseout='this.style.backgroundColor=\"#FFFFFF\";this.style.color=\"222222\";' style='font-family: Tahoma, Verdana, arial,helvetica; font-size: 11px; color: #222222; line-height: normal;background-color:#FFFFFF; color:#222222; width:100%; height:19px; text-decoration:none; padding:3px 3px 1px 3px; cursor:pointer ' onclick='"+_5c+"'; WebSquare.logger.hideContextMenu()>"+_5d+"</td></tr>";}}};$W.logger.contextMenuAddRow1=function(_5e,_5f){["WebSquare.logger.contextMenuAddRow1"];if($W._N.browserCheck.moz||$W._N.browserCheck.chrome||$W._N.browserCheck.ieAllVersion){return "<tr><td onmouseover='this.style.backgroundColor=\"b8d5f2\";this.style.color=\"003a89\";' onmouseout='this.style.backgroundColor=\"#FFFFFF\";this.style.color=\"222222\";' style='font-family: Tahoma, Verdana, arial,helvetica; font-size: 11px; color: #222222; line-height: normal;background-color:#FFFFFF; border-top:1px dotted #9fbcd4;color:#222222; width:100%; height:19px; text-decoration:none; padding:3px 3px 1px 3px; cursor:pointer ' onclick='WebSquare.logger.hideContextMenu();"+_5e+"'>"+_5f+"</td></tr>";}else{if($W._N.browserCheck.opera||$W._N.browserCheck.safari){return "<tr><td onmouseover='this.style.backgroundColor=\"b8d5f2\";this.style.color=\"003a89\";' onmouseout='this.style.backgroundColor=\"#FFFFFF\";this.style.color=\"222222\";' style='font-family: Tahoma, Verdana, arial,helvetica; font-size: 11px; color: #222222; line-height: normal;background-color:#FFFFFF; border-top:1px dotted #9fbcd4;color:#222222; width:100%; height:19px; text-decoration:none; padding:3px 3px 1px 3px; cursor:pointer ' onclick='"+_5e+"'; WebSquare.logger.hideContextMenu()>"+_5f+"</td></tr>";}}};$W.logger.hideContextMenu=function(e){["WebSquare.logger.hideContextMenu"];if($W&&$W._N&&$W._N.browserCheck){if($W._N.browserCheck.moz||$W._N.browserCheck.chrome||$W._N.browserCheck.ieAllVersion){var _61=$W.document.getElementById("_contextMenuLayer");if(typeof _61!="undefined"&&_61!=null){_61.style.visibility="hidden";}}else{if($W._N.browserCheck.opera||$W._N.browserCheck.safari){if(!e.ctrlKey){var _61=$W.document.getElementById("_contextMenuLayer");if(typeof _61!="undefined"&&_61!=null){_61.style.visibility="hidden";}}}}}};if($W._N.browserCheck.safari){document.oncontextmenu=function(e){if(e.ctrlKey&&e.button==2){$W._c.stopEvent(e);return false;}};document.onmousedown=$W.logger.showContextMenu;}else{document.oncontextmenu=$W.logger.showContextMenu;}document.onclick=$W.logger.hideContextMenu;}}$W.logger.dumpCSS=function(){if($W._N.browserCheck.ie){var _63=$W.document.styleSheets;for(var i=0;i<_63.length;i++){var _65=_63[i];alert(_65.href+"/n"+_65.cssText);}}};$W.logger.debug=false;$W.logger.debugKey="";}$W._B={};$W._B._MSMXL_PROGIDS=$W.BootLoader._MSMXL_PROGIDS;$W._B.loadDocumentCache={};if($W._N.supportDOM){if(!$W._N.browserCheck.opera){if($W.document.implementation.hasFeature("XPath","3.0")){XMLDocument.prototype.selectNodes=function(_1,_2){if(typeof _2=="undefined"){_2=this;}var _3=this.createNSResolver(this.documentElement);var _4=this.evaluate(_1,_2,_3,XPathResult.ORDERED_NODE_SNAPSHOT_TYPE,null);var _5=[];for(var i=0;i<_4.snapshotLength;i++){_5[i]=_4.snapshotItem(i);}return _5;};XMLDocument.prototype.selectSingleNode=function(_7,_8){if(typeof _8=="undefined"){_8=this;}var _9=this.selectNodes(_7,_8);if(_9.length>0){return _9[0];}else{return null;}};Document.prototype.selectNodes=XMLDocument.prototype.selectNodes;Document.prototype.selectSingleNode=XMLDocument.prototype.selectSingleNode;Element.prototype.selectNodes=function(_a){var _b=this.ownerDocument;var _c=_b.createNSResolver(_b.documentElement);var _d=_b.evaluate(_a,this,_c,XPathResult.ORDERED_NODE_SNAPSHOT_TYPE,null);var _e=[];for(var i=0;i<_d.snapshotLength;i++){_e[i]=_d.snapshotItem(i);}return _e;};Element.prototype.selectSingleNode=function(_10){var _11=this.selectNodes(_10);if(_11.length>0){return _11[0];}else{return null;}};}}}$W._B.load=function(uri,_13,_14,_15){["WebSquare.xml.load"];var dom=null;var _17=uri;try{if(typeof _13!="undefined"&&_13){dom=$W._B.loadDocumentCache[_17];if(typeof dom!="undefined"&&dom!=null){return dom;}}if(1==2){var _18="ErtOqpezr Ukptvqtzp IIWENNA Stwbreo Agp Zvydtn Vmfwnvzh";}if(typeof uri=="string"){var _19,lastIdx,temp;if($W.hybridApp==true&&uri.indexOf("://")<0&&uri.startsWith("/")){uri=$W._G.appendingPathComponent($W.w2xDocumentRoot,uri);}else{if(location.protocol=="app:"){_19=location.href;lastIdx=_19.lastIndexOf("/");temp=_19.substr(0,lastIdx);uri=temp+uri;}}var _1a=false;var _1b=$W._N.getXMLHTTPObject();var ret=null;try{$W.BootLoader.openResourceUri(uri,_1b);_1b.send(null);if(_1b.status>="400"){if(_17.indexOf("uiplugin")>-1){$W.logger.printLog($W._m.getMessage("E_core_NoPluginError",_17));}else{$W.logger.printLog($W._m.getMessage("E_core_NoModuleError",_17));}_1b=null;}if($W._N.browserCheck.ieAllVersion&&_1b.responseXML){ret=_1b.responseXML.xml;if(typeof ret==="undefined"||ret===null||ret===""){ret=_1b.responseText;}}else{ret=_1b.responseText;}}catch(e){if(_17.indexOf("uiplugin")>-1){$W.logger.printLog($W._m.getMessage("E_core_NoPluginError",_17));}else{$W.logger.printLog($W._m.getMessage("E_core_NoModuleError",_17));}}_1b=null;if(!ret){return null;}if(typeof _15!="undefined"&&_15){dom=$W._B._parse(ret);}else{dom=$W._B.parse(ret);}_1a=typeof dom=="object";if((_15||!$W.BootLoader.useWebSquareXMLParser)&&$W.BootLoader.useActiveXObject&&dom.parseError.errorCode!=0){if($W.logger.debug){var _1d="top=120,height=485,left=50,width=800,location=no,menubar=no,resizable=yes,scrollbars=yes,status=no,titlebar=yes,toolbar=no";var _1e=window.open(uri,"_blank",_1d);}var e=new Object();e.ParserException=$W._m.getMessage("E_xml_ErrorOccurLoadingXML");e.ParserException+="\nerrorCode: "+dom.parseError.errorCode;e.ParserException+="\nfilepos\t: "+dom.parseError.filepos;e.ParserException+="\nline\t: "+dom.parseError.line;e.ParserException+="\nlinepos\t: "+dom.parseError.linepos;e.ParserException+="\nreason\t: "+dom.parseError.reason;e.ParserException+="srcText\t: "+dom.parseError.srcText;e.ParserException+="\nurl\t: "+dom.parseError.url;dom=null;throw e;}else{if(!_1a){if($W.logger.debug){var _1d="top=120,height=485,left=50,width=800,location=no,menubar=no,resizable=yes,scrollbars=yes,status=no,titlebar=yes,toolbar=no";var _1e=window.open(uri,"_blank",_1d);}$W.logger.printLog("ERROR : "+$W._m.getMessage("E_xml_ErrorOccurLoadingXMLWithURL",_17));return null;}}}if(typeof _13!="undefined"&&_13){$W._B.loadDocumentCache[_17]=dom;}}catch(e){$W.exception.printStackTrace(e,"WebSquare.xml.load");}return dom;};$W._B.loadSafari=function(uri){["WebSquare.xml.loadSafari"];var _21=$W.BootLoader.getXMLHTTPObject();_21.open("GET",uri,false);_21.send(null);var ret=_21.responseText;_21=null;return (this.parse(ret));};$W._B.parse=function(obj,_24){["WebSquare.xml.parse"];var dom=null;try{if($W.BootLoader.useWebSquareXMLParser){if(typeof obj=="string"){obj=obj.wq_trim();if(obj==""){$W.logger.printLog("ERROR : WebSquare.xml.load Error. String is empty.");return null;}else{if(obj.charAt(0)!="<"){obj="<"+obj+"/>";}}}else{if(obj!=null&&(obj.nodeType==9||obj.nodeType==1)){obj=$W._B.serialize(obj);}}var _26=new DOMImplementation();_26.namespaceAware=true;_26.errorChecking=false;_26.preserveWhiteSpace=true;dom=_26.loadXML(obj);}else{dom=$W._B._parse(obj,_24);}}catch(e){$W.exception.printStackTrace(e,"WebSquare.xml.parse");return null;}return dom;};$W._B._parse=function(obj,_28){["WebSquare.xml._parse"];var dom=null;try{if(typeof obj=="string"&&obj.startsWith("<!DOCTYPE")){var _2a=obj.indexOf("<",9);if(_2a>0){obj=obj.substring(_2a);}}if($W.BootLoader.useActiveXObject){dom=new ActiveXObject($W._B._MSMXL_PROGIDS[0]);dom.async=false;dom.validateOnParse=false;if($W._N.getConfiguration("/WebSquare/preserveWhiteSpace/@value")=="true"){dom.preserveWhiteSpace=true;}if(typeof obj=="string"){obj=obj.wq_trim();if(obj==""){$W.logger.printLog("ERROR : WebSquare.xml.load Error\uc785\ub2c8\ub2e4. String\uc774 \uacf5\ubc31\uc785\ub2c8\ub2e4.");return null;}else{if(obj.charAt(0)!="<"){var str="<"+obj+"/>";dom.loadXML(str);}else{dom.loadXML(obj);}}}else{if(obj!=null&&(obj.nodeType==9||obj.nodeType==1)){dom.loadXML(obj.xml);}}if(typeof _28!="undefined"){if(_28==true||_28=="true"){var _2c=$W._N.getNamespaces(dom);var _2d="";for(var i in _2c){if(i!=""){_2d+="xmlns:"+i+"=\""+_2c[i]+"\" ";}}dom.setProperty("SelectionLanguage","XPath");dom.setProperty("SelectionNamespaces",_2d);}}}else{if($W._N.supportDOM){try{var _2f=new DOMParser();if(typeof obj=="string"){obj=obj.wq_trim();if(obj==""){$W.logger.printLog("ERROR : WebSquare.xml.load Error\uc785\ub2c8\ub2e4. String\uc774 \uacf5\ubc31\uc785\ub2c8\ub2e4.");return null;}else{if(obj.charAt(0)!="<"){var str="<"+obj+"/>";dom=_2f.parseFromString(str,"text/xml");}else{dom=_2f.parseFromString(obj,"text/xml");}}}else{if(obj!=null&&(obj.nodeType==9||obj.nodeType==1)){dom=_2f.parseFromString($W._B.serialize(obj),"text/xml");}}dom.async=false;if($W._N.browserCheck.moz&&dom.documentElement.nodeName=="parsererror"){$W.logger.printLog("[Firefox]"+$W._m.getMessage("E_xml_ErrorOccurParsingXML")+"(parsererror)");return null;}else{if(($W._N.browserCheck.chrome||$W._N.browserCheck.safari)&&dom.getElementsByTagName("parsererror").length>0){$W.logger.printLog("[Safari/Chrome]"+$W._m.getMessage("E_xml_ErrorOccurParsingXML")+"(parsererror)");return null;}}}catch(ee){$W.logger.printLog("[DOMParser] "+$W._m.getMessage("E_xml_ErrorOccurParsingXML"));$W.exception.printStackTrace(ee,"WebSquare.xml.parse");return null;}}}if(typeof dom=="undefined"||dom==null){$W.logger.printLog("ERROR : "+$W._m.getMessage("E_xml_XMLUnsupportedBrowser"));return null;}if($W.BootLoader.useActiveXObject){if(dom.parseError.errorCode!=0){var e=new Object();e.ParserException=$W._m.getMessage("E_xml_ErrorOccurParsingXML");e.ParserException+="\nerrorCode      : "+dom.parseError.errorCode;e.ParserException+="\nfilepos        : "+dom.parseError.filepos;e.ParserException+="\nline           : "+dom.parseError.line;e.ParserException+="\nlinepos        : "+dom.parseError.linepos;e.ParserException+="\nreason         : "+dom.parseError.reason;e.ParserException+="\nsrcText        : "+dom.parseError.srcText;e.ParserException+="\nurl            : "+dom.parseError.url;if(typeof obj=="string"){e.ParserException+="\n\n: "+obj;}else{e.ParserException+="\n\n: "+obj.xml;}throw e;}}}catch(e){$W.exception.printStackTrace(e,"WebSquare.xml.parse");return null;}return dom;};$W._B.remove_xmlns_regexp=/xmlns=['"]http:\/\/www.w3.org\/1999\/xhtml['"]|xmlns:w2=['"]http:\/\/www.inswave.com\/websquare['"]/;$W._B.serialize=function(dom){["WebSquare.xml.serialize"];if(!dom){return "";}var _32="";try{if($W.BootLoader.useWebSquareXMLParser){try{var _33=[];$W._B._serialize(dom,_33);_32=_33.join("");}catch(e){$W.exception.printStackTrace(e,"WebSquare.xml.serialize");}}else{if($W.BootLoader.useActiveXObject){_32=dom.xml;if(typeof _32!=="undefined"&&_32!==null){_32=_32.wq_trim();}else{_32="";}}else{if($W._N.websquareSerializer){try{var _33=[];$W._B._serialize(dom,_33);_32=_33.join("");}catch(e){$W.exception.printStackTrace(e,"WebSquare.xml.serialize");}}else{if($W._N.supportDOM){var _34=new XMLSerializer();_32=_34.serializeToString(dom);}}}}}catch(e){$W.exception.printStackTrace(e,"WebSquare.xml.serialize");}return _32;};$W._B.noNameSpaceSerialize=function(dom){["WebSquare.xml.noNameSpaceSerialize"];var _36=$W._B.serialize(dom);if($W._N.getConfiguration("/WebSquare/removeXmlNameSpace/@value")=="true"){_36=_36.replace($W._B.remove_xmlns_regexp,"");}return _36;};$lxml=function(dom,log){if(log){$l($W._B.serialize(dom));}else{alert($W._B.serialize(dom));}};$W._B.nodeSerialize=function(_39,_3a){["WebSquare.xml.nodeSerialize"];try{if(typeof (_3a)=="undefined"){_3a={};}if(typeof (_3a.standalone)=="undefined"){_3a.standalone=null;}if(typeof (_3a.encoding)=="undefined"){_3a.encoding="UTF-8";}if(typeof (_3a.omitXmlDeclaration)=="undefined"){_3a.omitXmlDeclaration=false;}if(typeof (_3a.includeNamespacePrefixes)=="undefined"){_3a.includeNamespacePrefixes=null;}if(typeof (_3a.cdataSectionElements)=="undefined"){_3a.cdataSectionElements=[];}switch(_39.nodeType){case 1:var xml="<"+_39.tagName;for(var i=0;i<_39.attributes.length;++i){var _3d=_39.attributes[i];if(_3d==null){continue;}if(_3d.specified){xml+=$W._B.nodeSerialize(_3d,_3a);}}if(_39.hasChildNodes()){xml+=">";for(var _3e=_39.firstChild;_3e!=null;_3e=_3e.nextSibling){xml+=$W._B.nodeSerialize(_3e,_3a);}xml+="</"+_39.tagName+">";}else{xml+="></"+_39.tagName+">";}return xml;case 2:if(_39.name.match(/^xmlns(:|$)/)&&!$W._B.isVisiblyUtilized(_39)){return "";}var _3f=_39.name;var _40=_39.value.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;");return " "+_3f+"=\""+_40+"\"";case 3:if($W._B.isCDataSectionElement(_39.parentNode)){}else{return _39.data.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");}case 4:return "<![CDATA["+_39.data.replace(/]]>/g,"]]]]><![CDATA[>")+"]]>";case 7:return "<?"+_39.target+" "+_39.data+"?>";case 8:return "<!--"+_39.data+"-->";case 9:var xml="";if(!_3a.omitXmlDeclaration){var _41=(_3a.encoding=="UTF-16")?"UTF-16":"UTF-8";var _42=(_3a.standalone!=null)?" standalone=\""+(_3a.standalone?"yes":"no")+"\"":"";xml+="<?xml version=\"1.0\" encoding=\""+_41+"\""+_42+"?>\n\n";}for(var _3e=_39.firstChild;_3e!=null;_3e=_3e.nextSibling){xml+=$W._B.nodeSerialize(_3e,_3a)+"\n";}return xml;case 10:var xml="<!DOCTYPE "+_39.name+" PUBLIC \""+_39.publicId+"\" \""+_39.systemId+"\" [\n";xml+="]>";return xml;case 11:var xml="";for(var _3e=_39.firstChild;_3e!=null;_3e=_3e.nextSibling){xml+=$W._B.nodeSerialize(_3e,_3a);}return xml;default:assert(false,"Unsupported node: "+_39.nodeName+" ("+_39.nodeType+")");}}catch(e){$W.exception.printStackTrace(e);}};$W._B.isVisiblyUtilized=function(_43){if(!options.includeNamespacePrefixes){return true;}var _44=_43.name.substring(6);var _45=new XPath("..").selectNode(_43);for(var i in options.includeNamespacePrefixes){var _47=options.includeNamespacePrefixes[i];if(_47==_44||_47=="#default"&&_44==""){return true;}}if(_43.name=="xmlns"){return _45.prefix==null;}else{return new XPath("parent::"+_44+":* or ..//@"+_44+":*").evaluate(_43);}};$W._B.isCDataSectionElement=function(_48){for(var i in options.cdataSectionElements){if(options.cdataSectionElements[i].matches(_48)){return true;}}return false;};$W._B.indent=function(obj,_4b){["WebSquare.xml.indent"];if(typeof _4b=="undefined"){try{var _4c=[];$W._B._treeWalk2(obj,_4c,0);return _4c.join("");}catch(e){$W.exception.printStackTrace(e,"WebSquare.xml.indent");}return null;}else{try{var _4c=[];$W._B._treeWalk(obj,_4c,0);return _4c.join("");}catch(e){$W.exception.printStackTrace(e,"WebSquare.xml.indent");}return "";}};$W._B._serialize=function(_4d,_4e){["WebSquare.xml._serialize"];if(_4d.nodeType==1){_4e.push("<");_4e.push(_4d.nodeName);if(_4d.attributes.length>0){for(var j=0;j<_4d.attributes.length;j++){var _50=_4d.attributes.item(j);_4e.push(" ");_4e.push(_50.name);_4e.push("=\"");_4e.push($W._B._encode(_50.nodeValue));_4e.push("\"");}}if(_4d.hasChildNodes()){_4e.push(">");var _51=_4d.childNodes;for(var i=0;i<_51.length;i++){var _53=_51.item(i);$W._B._serialize(_53,_4e);}_4e.push("</");_4e.push(_4d.nodeName);_4e.push(">");}else{_4e.push("/>");}}else{if(_4d.nodeType==3){_4e.push($W._B._encode(_4d.nodeValue));}else{if(_4d.nodeType==4){_4e.push("<![CDATA["+_4d.nodeValue+"]]>");}else{if(_4d.nodeType==7){_4e.push("<?"+_4d.nodeName+" "+_4d.nodeValue+"?>\n");}else{if(_4d.nodeType==8){_4e.push("<!--"+_4d.nodeValue+"-->");}else{if(_4d.nodeType==9){var _51=_4d.childNodes;for(var i=0;i<_51.length;i++){var _53=_51.item(i);$W._B._serialize(_53,_4e);}}}}}}}};$W._B._treeWalk=function(_54,_55,_56){["WebSquare.xml._treeWalk"];var _57=false;_56=_56||0;if(_54.nodeType==1){_57=true;if(_56){_55.push("<br />");}for(var j=0;j<_56;j++){_55.push("&nbsp;");}_55.push("<font color='blue'><b>&lt;");_55.push(_54.nodeName);_55.push("</b></font>");if(_54.attributes.length>0){for(var j=0;j<_54.attributes.length;j++){var _59=_54.attributes.item(j);if(_59.nodeValue.indexOf("\"")>-1){_55.push(" <font color='red'>"+_59.name+"</font>='<i><font color='#888888'>"+$W._B.encode2(_59.nodeValue)+"</font></i>'");}else{_55.push(" <font color='red'>"+_59.name+"</font>=\"<i><font color='#888888'>"+$W._B.encode2(_59.nodeValue)+"</font></i>\"");}}}if(_54.hasChildNodes()){_55.push(">");var _5a=_54.childNodes;var _5b=false;for(var i=0;i<_5a.length;i++){var _5d=_5a.item(i);if($W._B._treeWalk(_5d,_55,_56+4)){_5b=true;}}if(_5b){_55.push("<br />");for(var j=0;j<_56;j++){_55.push("&nbsp;");}}_55.push("<font color='blue'><b>&lt;/");_55.push(_54.nodeName);_55.push("&gt;</b></font>");}else{_55.push("<font color='blue'><b>/&gt;</b></font>");}}else{if(_54.nodeType==3){var val=_54.nodeValue||"";val=val.trim();_55.push($W._B.encode2(val));}else{if(_54.nodeType==4){_55.push("&lt;![CDATA["+$W._B.encode1(_54.nodeValue)+"]]&gt;");}else{if(_54.nodeType==7){_55.push("<b>&lt;?"+_54.nodeName+" "+$W._B.encode1(_54.nodeValue)+"?&gt;</b>");}else{if(_54.nodeType==8){}else{if(_54.nodeType==9){var _5a=_54.childNodes;for(var i=0;i<_5a.length;i++){var _5d=_5a.item(i);$W._B._treeWalk(_5d,_55,_56);}}}}}}}return _57;};$W._B._treeWalk2=function(_5f,_60,_61){["WebSquare.xml._treeWalk2"];var _62=false;_61=_61||0;if(_5f.nodeType==1){_62=true;if(_61){_60.push("\n");}for(var j=0;j<_61;j++){_60.push(" ");}_60.push("<");_60.push(_5f.nodeName);if(_5f.attributes.length>0){for(var j=0;j<_5f.attributes.length;j++){var _64=_5f.attributes.item(j);_60.push(" ");_60.push(_64.name);_60.push("=\"");_60.push($W._B._encode(_64.nodeValue));_60.push("\"");}}if(_5f.hasChildNodes()){_60.push(">");var _65=_5f.childNodes;var _66=false;for(var i=0;i<_65.length;i++){var _68=_65.item(i);if($W._B._treeWalk2(_68,_60,_61+4)){_66=true;}}if(_66){_60.push("\n");for(var j=0;j<_61;j++){_60.push(" ");}}_60.push("</");_60.push(_5f.nodeName);_60.push(">");}else{_60.push("/>");}}else{if(_5f.nodeType==3){var val=_5f.nodeValue||"";val=val.trim();_60.push($W._B._encode(val));}else{if(_5f.nodeType==4){_60.push("<![CDATA["+_5f.nodeValue+"]]>");}else{if(_5f.nodeType==7){_60.push("<?"+_5f.nodeName+" "+_5f.nodeValue+"?>\n");}else{if(_5f.nodeType==8){_60.push("<!--"+_5f.nodeValue+"-->");}else{if(_5f.nodeType==9){var _65=_5f.childNodes;for(var i=0;i<_65.length;i++){var _68=_65.item(i);$W._B._treeWalk2(_68,_60,_61);}}}}}}}return _62;};$W._B.encode1=(function(){var re1=/&/g;var re2=/</g;var re3=/>/g;var re5=/"/g;var re6=/\r\n/g;var re7=/\n/g;var re8=/\r/g;var re9=/ /g;var _72=/\t/g;return function(s){["WebSquare.xml.encode"];var str=null;if(s==null){str="";}else{if(typeof s=="string"){str=s;}else{if($W._B.isDocument(s)){str=$W._B.serialize(s);}else{return s;}}}return str.replace(re1,"&amp;").replace(re2,"&lt;").replace(re3,"&gt;").replace(re5,"&quot;").replace(re9,"&nbsp;").replace(_72,"&nbsp;&nbsp;&nbsp;&nbsp;").replace(re6,"<br />").replace(re7,"<br />").replace(re8,"<br />");};})();$W._B.encode2=(function(){var re1=/&/g;var re2=/</g;var re3=/>/g;var re5=/"/g;var re6=/\r\n/g;var re7=/\n/g;var re8=/\r/g;var re9=/ /g;var _7d=/\t/g;return function(s){["WebSquare.xml.encode2"];var str=null;if(s==null){str="";}else{if(typeof s=="string"){str=s;}else{if($W._B.isDocument(s)){str=$W._B.serialize(s);}else{return s;}}}return str.replace(re1,"&amp;amp;").replace(re2,"&amp;lt;").replace(re3,"&amp;gt;").replace(re9,"&nbsp;").replace(_7d,"&nbsp;&nbsp;&nbsp;&nbsp;").replace(re6,"<br />").replace(re7,"<br />").replace(re8,"<br />");};})();$W._B._encode=(function(){var re1=/&/g;var re2=/</g;var re3=/>/g;var re5=/"/g;return function(str){return str.replace(re1,"&amp;").replace(re2,"&lt;").replace(re3,"&gt;").replace(re5,"&quot;");};})();$W._B._decode=(function(){var re1=/&lt;/g;var re2=/&gt;/g;var re3=/&apos;/g;var re4=/&quot;/g;var re5=/&amp;/g;return function(s){return s.replace(re1,"<").replace(re2,">").replace(re3,"'").replace(re4,"\"").replace(re5,"&");};})();$W._B.encode=(function(){var re1=/&/g;var re2=/</g;var re3=/>/g;var re4=/'/g;var re5=/"/g;var re6=/\r\n/g;var re7=/\n/g;var re8=/\r/g;return function(s){["WebSquare.xml.encode"];var str=null;if(s==null){str="";}else{if(typeof s=="string"){str=s;}else{if($W._B.isDocument(s)){str=$W._B.serialize(s);}else{return s;}}}return str.replace(re1,"&amp;").replace(re2,"&lt;").replace(re3,"&gt;").replace(re4,"&apos;").replace(re5,"&quot;").replace(re6,"&#xA;").replace(re7,"&#xA;").replace(re8,"&#xA;");};})();$W._B.decode=(function(){var re1=/&lt;/g;var re2=/&gt;/g;var re3=/&apos;/g;var re4=/&quot;/g;var re5=/&amp;/g;var re6=/&#xA;/g;return function(s){["WebSquare.xml.decode"];return s.replace(re1,"<").replace(re2,">").replace(re3,"'").replace(re4,"\"").replace(re5,"&").replace(re6,"\n");};})();$W._B.isDocument=function(obj){["WebSquare.xml.isDocument"];try{if(typeof obj=="object"&&typeof obj.documentElement!="undefined"&&obj.nodeType==9){return true;}else{return false;}}catch(e){}return false;};$W._B.isDocumentString=function(str){["WebSquare.xml.isDocumentString"];var dom;try{if($W.BootLoader.useActiveXObject){dom=new ActiveXObject($W._B._MSMXL_PROGIDS[0]);dom.async=false;dom.validateOnParse=false;dom.loadXML(str);}else{if(str.wq_trim().charAt(0)=="<"){var _9f=new DOMParser();dom=_9f.parseFromString(str,"text/xml");dom.async=false;}}if(typeof dom=="undefined"||dom==null){return false;}if($W._N.browserCheck.moz&&dom.documentElement.nodeName=="parsererror"){return false;}if($W.BootLoader.useActiveXObject){if(dom.parseError.errorCode!=0){return false;}}}catch(e){return false;}return true;};$W._B.getElementsByTagName=function(dom,_a1,uri){["WebSquare.xml.getElementsByTagName"];if($W._N.browserCheck.ieAllVersion||$W.BootLoader.browserCheck.chrome||$W.BootLoader.browserCheck.safari||$W.BootLoader.browserCheck.opera){try{if(typeof uri=="undefined"){if(_a1.indexOf(":")>=0){return dom.selectNodes("./"+"/"+"*['"+_a1+"'=name()]");}else{return dom.selectNodes("./"+"/"+"*['"+_a1+"'=local-name()]");}}else{return dom.selectNodes("./"+"/"+"*['"+_a1+"'=local-name()]['"+uri+"'=namespace-uri()]");}}catch(e){if(typeof uri=="undefined"){return dom.getElementsByTagName(_a1);}else{var _a3=_a1;if(uri==$W._N._XML_NAMESPACE.SCHEMA){_a3=_a1;}else{if(uri==$W._N._XML_NAMESPACE.XFORMS){_a3="xf:"+_a1;}else{if(uri==$W._N._XML_NAMESPACE.XHTML){_a3=_a1;}else{if(uri==$W._N._XML_NAMESPACE.XML){_a3=_a1;}else{if(uri==$W._N._XML_NAMESPACE.XSL){_a3=_a1;}else{if(uri==$W._N._XML_NAMESPACE.EVENTS){_a3="ev:"+_a1;}else{if(uri==$W._N._XML_NAMESPACE.W2){_a3="w2:"+_a1;}}}}}}}return dom.getElementsByTagName(_a3);}}}else{if($W._N.browserCheck.moz){if(typeof uri=="undefined"){return dom.getElementsByTagName(_a1);}else{return dom.getElementsByTagNameNS(uri,_a1);}}else{return dom.getElementsByTagName(_a1);}}};$W._B.matchNode=function(_a4,_a5,uri){["WebSquare.xml.matchNode"];if(typeof uri=="undefined"){if(_a4.nodeName==_a5){return true;}else{return false;}}else{var _a7=_a4.nodeName.split(":");var _a8=_a7.length==2?_a7[1]:_a7[0];if(uri==_a4.namespaceURI&&_a8==_a5){return true;}else{return false;}}};$W._B.nodeInfoObj=(function(){var _a9={};return function(_aa){["WebSquare.xml.matchNode"];var _ab=_aa.nodeName;if(!_a9[_ab]){var _ac=_aa.namespaceURI;if(_ac!==undefined&&_ac!==""){var _ad=_ab.split(":");_a9[_ab]={nodeName:_ad[_ad.length-1],uri:_ac};}else{_a9[_ab]={nodeName:_ab};}}return _a9[_ab];};})();$W._B.getLocalName=function(_ae){["WebSquare.xml.getLocalName"];var _af=_ae.nodeName.split(":");return _af.length==2?_af[1]:_af[0];};$W._B.findNode=function(doc,_b1){["WebSquare.xml.findNode"];try{return doc.selectSingleNode(_b1);}catch(e){$W.exception.printStackTrace(e);}return null;};$W._B.findNodes=function(doc,_b3){["WebSquare.xml.findNode"];try{return doc.selectNodes(_b3);}catch(e){$W.exception.printStackTrace(e);}return null;};$W._B.createElement=function(doc,_b5){var _b6,tmpDoc;if($W._N.browserCheck.opera){_b6=doc.createElementNS("",_b5);}else{if($W._N.browserCheck.ieAllVersion&&!$W.BootLoader.useActiveXObject){var idx=_b5.indexOf(":");if(idx==-1){tmpDoc=$W._B.parse("<"+_b5+"/>");}else{var _b8=_b5.substring(0,idx);var _b9=$W._N.getNamespaces(doc);if(_b9[_b8]){tmpDoc=$W._B.parse("<"+_b5+" xmlns:"+_b8+"=\""+_b9[_b8]+"\"/>");}else{tmpDoc=$W._B.parse("<"+_b5+"/>");}}if(tmpDoc!=null){_b6=doc.importNode(tmpDoc.documentElement.cloneNode(false),false);}}else{_b6=doc.createElement(_b5);}}return _b6;};$W._B.createNode=function(doc,_bb,_bc){["WebSquare.xml.createNode"];try{if(_bc){if($W._N.browserCheck.ieAllVersion&&$W.BootLoader.useActiveXObject){var _bd=$W._N.getNamespaces(doc);var _be="";for(var i in _bd){if(i!=""){_be+="xmlns:"+i+"=\""+_bd[i]+"\" ";}}if(doc.nodeType==9){doc.setProperty("SelectionLanguage","XPath");doc.setProperty("SelectionNamespaces",_be);}else{if(doc.nodeType==1){doc.ownerDocument.setProperty("SelectionLanguage","XPath");doc.ownerDocument.setProperty("SelectionNamespaces",_be);}}}}var _c0=doc.selectSingleNode(_bb);if(_c0==null){var idx=_bb.lastIndexOf("/");if(idx>0){var _c2=_bb.substring(0,idx);var _c3=_bb.substring(idx+1);var _c4=_c3.match(/[@'"()=]/i)==null;if(_c4){var _c5=$W._B.createNode(doc,_c2);if(_c5!=null){if(doc.nodeType==9){_c0=$W._B.createElement(doc,_c3);}else{if(doc.nodeType==1){_c0=$W._B.createElement(doc.ownerDocument,_c3);}}_c0=$W._B.appendChild(_c5,_c0);}}else{var _c6=_c3.split(/[[=\]]/);if((_c6.length==4||_c6.length==3)&&_c6[1].match(/^@/)!=null){var _c7=$W._B.createNode(doc,_c2);if(_c7!=null){if(doc.nodeType==9){_c0=$W._B.createElement(doc,_c6[0]);}else{if(doc.nodeType==1){_c0=$W._B.createElement(doc.ownerDocument,_c6[0]);}}_c0.setAttribute(_c6[1].wq_trim().slice(1),_c6[2].wq_replaceAll("'",""));_c0=$W._B.appendChild(_c7,_c0);}}}}else{if(doc.nodeType==1&&_bb.charAt(0)!="/"){_c0=$W._B.createElement(doc.ownerDocument,_bb);_c0=$W._B.appendChild(doc,_c0);}}}return _c0;}catch(e){$W.exception.printStackTrace(e);}return null;};$W.appendChildType=null;$W._B.appendChild=function(_c8,_c9){["WebSquare.xml.appendChild"];var _ca;try{if(_c8.ownerDocument==_c9.ownerDocument){_ca=_c8.appendChild(_c9);return _ca;}else{if(typeof _c8.ownerDocument.importNode=="function"){_ca=_c8.ownerDocument.importNode(_c9,true);_ca=_c8.appendChild(_ca);return _ca;}else{_ca=_c8.appendChild(_c9);return _ca;}}}catch(e){$W.exception.printStackTrace(e);}};$W._B.getValue=function(doc,key,_cd){["WebSquare.xml.getValue"];var _ce="";try{var _cf=doc.selectSingleNode(key);if(_cf!=null){if(typeof _cd!="undefined"){_ce=_cf.getAttribute(_cd);}else{if(_cf.nodeType==2||_cf.nodeType==3||_cf.nodeType==4){_ce=(_cf.value!=undefined)?_cf.value:_cf.nodeValue;}else{var _d0=_cf.childNodes;for(var i=0;i<_d0.length;i++){var _d2=_d0[i];if(_d2.nodeType==3){_ce+=_d2.nodeValue;}else{if(_d2.nodeType==4){_ce+=_d2.nodeValue;}}}}}}if(_ce==null){_ce="";}}catch(e){$W.exception.printStackTrace(e);}return _ce;};$W._B.getAttribute=function(doc,key,_d5){["WebSquare.xml.getAttribute"];var _d6="";try{if(typeof doc=="string"){doc=$W._B.parse(doc);}if(typeof _d5=="undefined"){if(doc.nodeType==1){_d6=doc.getAttribute(key);}else{_d6=doc.documentElement.getAttribute(key);}}else{var _d7=null;if(doc.nodeType==1){_d7=doc.selectSingleNode(key);}else{_d7=doc.selectSingleNode("/"+"*"+"/"+key);}if(_d7!=null){_d6=_d7.getAttribute(_d5);}if(_d6==null){_d6="";}}if(_d6==null){_d6="";}}catch(e){$W.exception.printStackTrace(e);}return _d6;};$W._B.getString=function(doc,key){["WebSquare.xml.getString"];return $W._B.getAttribute(doc,key,"value");};$W._B.getChildren=function(doc,key){["WebSquare.xml.getChildren"];var _dc=[];try{var _dd=doc.selectSingleNode(key);if(_dd!=null){var _de=_dd.childNodes;for(var i=0;i<_de.length;i++){var _e0=_de.item(i);if(_e0.nodeType==1){var obj={};obj["@tagName"]=_e0.nodeName;var _e2=_e0.attributes;if(_e2!=null){for(var j=0;j<_e2.length;j++){obj[_e2[j].nodeName]=_e2[j].nodeValue;}}_dc.push(obj);}}}}catch(e){$W.exception.printStackTrace(e);}return _dc;};$W._B.setValue=function(doc,key,_e6,_e7){["WebSquare.xml.setValue"];try{var _e8=$W._B.createNode(doc,key);if(_e8!=null){if(typeof _e7!="undefined"){_e8.setAttribute(_e6,_e7);}else{var _e9=_e8.childNodes;for(var i=0;i<_e9.length;i++){var _eb=_e9.item(i);if(_eb.nodeType==3){_e8.removeChild(_eb);}else{if(_eb.nodeType==4){_e8.removeChild(_eb);}}}var _ec=null;if(doc.nodeType==1){_ec=doc.ownerDocument.createTextNode(_e6);}else{_ec=doc.createTextNode(_e6);}$W._B.appendChild(_e8,_ec);}}}catch(e){$W.exception.printStackTrace(e);}};$W._B.setAttribute=function(doc,key,_ef,_f0){["WebSquare.xml.setAttribute"];try{if(typeof doc=="string"){doc=$W._B.parse(doc);}if(typeof _f0=="undefined"){if(doc.nodeType==1){doc.setAttribute(key,_ef);}else{doc.documentElement.setAttribute(key,_ef);}}else{if(doc.nodeType==1){key=key;}else{key="/"+"*"+"/"+key;}var _f1=$W._B.createNode(doc,key);if(_f1!=null){_f1.setAttribute(_ef,_f0);}}}catch(e){$W.exception.printStackTrace(e);}};$W._B.setString=function(doc,key,_f4){["WebSquare.xml.setString"];$W._B.setAttribute(doc,key,"value",_f4);};$W._B.transform=function(_f5,_f6,_f7){["WebSquare.xml.transform"];try{var _f8="false";if($W.logger.globalDebug1||$W.logger.getGlobalDebug()){_f8="true";}var _f9=null;if(typeof _f5=="string"){_f9=$W._B._parse(_f5);}else{if($W._B.isDocument(_f5)){if($W.BootLoader.useWebSquareXMLParser){_f9=$W._B._parse($W._B.serialize(_f5));}else{_f9=_f5;}}else{if(typeof _f5=="object"&&typeof _f5.type!="undefined"&&(_f5.type=="vector"||_f5.type=="hashtable")){if($W.BootLoader.useWebSquareXMLParser){_f9=$W._B._parse($W._B.serialize(_f5.toDocument()));}else{_f9=_f5.toDocument();}}else{return "";}}}var _fa=$W._B.load(_f6,true,undefined,true);var _fb="";if($W._N.supportActiveX){_fb=_f9.transformNode(_fa);}else{if(typeof XSLTProcessor!="undefined"){var _fc=new XSLTProcessor();_fc.importStylesheet(_fa);var _fd=_fc.transformToDocument(_f9);_fb=$W._B.serialize(_fd);if(_fb.indexOf("<transformiix:result")>-1){_fb=_fb.substring(_fb.indexOf(">")+1,_fb.lastIndexOf("<"));}}else{var _fe=null;try{_fe=new ActiveXObject("Msxml2.XSLTemplate");}catch(ex){}if(_fe){var _ff=_fe;var _100=new ActiveXObject("Msxml2.FreeThreadedDOMDocument");_100.loadXML($W._B.serialize(_fa));_ff.stylesheet=_100;var _101=_ff.createProcessor();_101.input=_f9;_101.transform();_fb=_101.output;}else{$W.logger.printLog("ERROR : transform\uc744 \uc9c0\uc6d0\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4.");return "";}}}if(typeof _f7!="undefined"&&_f7!=null&&_f7!=""){var oDiv=$W.document.getElementById(_f7);oDiv.innerHTML=_fb+"<XSLINFO value='"+_f6+"'/>";if(_f8=="true"){var obj={};var re=/>[\s]*</g;obj["html"]=_fb.replace(re,">\n<");obj["xml"]=$W._B.indent(_f9);obj["xsl"]=$W._B.indent(_fa);obj["target"]=_f7;$W.logger.showDebugMsg(obj,"xml","Transform \uc2e4\ud589 \uacb0\uacfc");}}else{if(_f8=="true"){var obj={};var re=/>[\s]*</g;obj["html"]=_fb.replace(re,">\n<");obj["xml"]=$W._B.indent(_f9);obj["xsl"]=$W._B.indent(_fa);$W.logger.showDebugMsg(obj,"xml","Transform \uc2e4\ud589 \uacb0\uacfc");}}if(typeof _fb!="undefined"&&_fb!="undefined"){return _fb;}else{return "";}}catch(e){$W.exception.printStackTrace(e);}};$W._B.hasChildElement=function(_105){["WebSquare.xml.hasChildElement"];for(var _106=_105.firstChild;_106!=null;_106=_106.nextSibling){if(_106.nodeType==1){return true;}}return false;};$W._B.getChildrenByTagName=function(_107,name,uri){["WebSquare.xml.getChildrenByTagName"];var _10a=new Array();if(typeof uri=="undefined"){for(var _10b=_107.firstChild;_10b!=null;_10b=_10b.nextSibling){if(_10b.nodeType==1){var _10c=_10b.nodeName.split(":");var _10d=_10c.length==2?_10c[1]:_10c[0];if(_10d==name){_10a.push(_10b);}}}}else{for(var _10b=_107.firstChild;_10b!=null;_10b=_10b.nextSibling){if(_10b.nodeType==1){var _10c=_10b.nodeName.split(":");var _10d=_10c.length==2?_10c[1]:_10c[0];if(uri==_10b.namespaceURI&&_10d==name){_10a.push(_10b);}}}}return _10a;};$W._B.getFirstChildElement=function(_10e){["WebSquare.xml.getFirstChildElement"];for(var _10f=_10e.firstChild;_10f!=null;_10f=_10f.nextSibling){if((_10f.nodeType==1)){return _10f;}}return null;};$W._B.getFirstChildElements=function(_110){["WebSquare.xml.getFirstChildElements"];var _111=new Array();for(var _112=_110.firstChild;_112!=null;_112=_112.nextSibling){if((_112.nodeType==1)){_111.push(_112);}}return _111;};$W._B.getTextNodeValue=function(_113){["WebSquare.xml.getTextNodeValue"];var _114=null;var _115="";for(var _116=_113.firstChild;_116!=null;_116=_116.nextSibling){if(_116.nodeType==3){_115+=_116.nodeValue;}}if(_115!=""){_114=_115;}return _114;};$W._B.getCDataNodeValue=function(_117){["WebSquare.xml.getCDataNodeValue"];var _118=null;for(var _119=_117.firstChild;_119!=null;_119=_119.nextSibling){if(_119.nodeType==4){_118=_119.nodeValue;}}return _118;};$W._B.getCData=function(doc,key){["WebSquare.xml.getCData"];try{var _11c="";var node=doc.selectSingleNode("/*/"+key);if(node!=null){var _11e=node.getAttribute("encode");for(var i=0;i<node.childNodes.length;i++){var _120=node.childNodes[i];if(_120.nodeType==4){_11c=_120.nodeValue;if(_11e=="base64"){_11c=$W._A.BASE64Decoder(_11c);}break;}}}if(_11c==null){_11c="";}return _11c;}catch(e){$W.exception.printStackTrace(e);}};$W._B.setCData=function(doc,key,_123){["WebSquare.xml.setCData"];try{var _124=null;if(_123.indexOf("]]>")>=0){_124="base64";_123=$W._A.BASE64Encoder(_123);}else{_124="text";}var node=doc.selectSingleNode("/*/"+key);if(node==null){var _126=doc.createElement(key);_126.setAttribute("type","CDATA");_126.setAttribute("encode",_124);_126.appendChild(doc.createCDATASection(_123));$W._B.appendChild(doc.documentElement,_126);}else{for(var i=node.childNodes.length-1;i>=0;i--){if(node.childNodes[i].nodeType==4){node.removeChild(node.childNodes[i]);}}node.setAttribute("type","CDATA");node.setAttribute("encode",_124);node.appendChild(doc.createCDATASection(_123));}}catch(e){$W.exception.printStackTrace(e);}};;WebSquare.xml=$W._B;$W._q={};$W._q.Vector=function(){["WebSquare.collection.Vector"];this.type="vector";this.length=0;this.data=[];this.dataType=[];this.attributeName=[];this.attributeValue=[];};$W._q.Vector.prototype.setDocument=function(_1){["WebSquare.collection.Vector.setDocument"];try{if(_1.documentElement.nodeName=="vector"){this.length=0;this.data=[];this.dataType=[];var _2=_1.documentElement.attributes;for(var i=0;i<_2.length;i++){var _4=_2.item(i);if($W.nodeValueDeprecated){this.attributeName.push(_4.name);this.attributeValue.push(_4.value);}else{this.attributeName.push(_4.nodeName);this.attributeValue.push(_4.nodeValue);}}var _5=_1.documentElement.childNodes;for(var i=0;i<_5.length;i++){var _6=_5.item(i);if(_6.nodeType==1&&_6.nodeName=="data"){var _7=_6.getAttribute("value");if(_7!=null){this.data.push(_7);this.dataType.push("String");}else{var _8=_6.childNodes;for(var j=0;j<_8.length;j++){var _a=_8.item(j);if(_a.nodeType==1){this.data.push($W._B.serialize(_a));this.dataType.push("Document");break;}}}this.length++;}}}}catch(e){$W.exception.printStackTrace(e);}};$W._q.Vector.prototype.addAll=function(_b){["WebSquare.collection.Vector.addAll"];try{if(_b.type=="vector"){this.data=this.data.concat(_b.data);this.dataType=this.dataType.concat(_b.dataType);this.length=this.data.length;}}catch(e){$W.exception.printStackTrace(e);}};$W._q.Vector.prototype.getAttribute=function(_c){["WebSquare.collection.Vector.getAttribute"];var _d="";try{for(var i=0;i<this.attributeName.length;i++){if(this.attributeName[i]==_c){_d=this.attributeValue[i];break;}}}catch(e){$W.exception.printStackTrace(e);}return _d;};$W._q.Vector.prototype.setAttribute=function(_f,_10){["WebSquare.collection.Vector.setAttribute"];try{var _11=false;for(var i=0;i<this.attributeName.length;i++){if(this.attributeName[i]==_f){_11=true;this.attributeValue[i]=_10;break;}}if(!_11){this.attributeName.push(_f);this.attributeValue.push(_10);}}catch(e){$W.exception.printStackTrace(e);}};$W._q.Vector.prototype.setDebug=function(_13){["WebSquare.collection.Vector.setDebug"];this.setAttribute("debug",_13);};$W._q.Vector.prototype.setAction=function(_14){["WebSquare.collection.Vector.setAction"];this.setAttribute("action",_14);};$W._q.Vector.prototype.setTask=function(_15){["WebSquare.collection.Vector.setTask"];this.setAttribute("task",_15);};$W._q.Vector.prototype.setProcessName=function(_16){["WebSquare.collection.Vector.setProcessName"];if(typeof _16=="undefined"||_16==null||_16==""){this.setAttribute("processName",$W._w.getControllerServer());}else{this.setAttribute("processName",$W._w.getControllerServer()+"."+_16);}};$W._q.Vector.prototype.getAction=function(){["WebSquare.collection.Vector.getAction"];return this.getAttribute("action");};$W._q.Vector.prototype.getTask=function(){["WebSquare.collection.Vector.getTask"];return this.getAttribute("task");};$W._q.Vector.prototype.getProcessName=function(){["WebSquare.collection.Vector.getProcessName"];return this.getAttribute("processName");};$W._q.Vector.prototype.addElement=function(_17){["WebSquare.collection.Vector.addElement"];try{if($W._B.isDocument(_17)){this.data.push($W._B.serialize(_17));this.dataType.push("Document");}else{if(typeof _17=="object"&&typeof _17.type!="undefined"&&(_17.type=="vector"||_17.type=="hashtable")){this.data.push(_17.toString());this.dataType.push("Document");}else{if(typeof _17=="string"&&$W._B.isDocumentString(_17)){this.data.push(_17);this.dataType.push("Document");}else{this.data.push(_17+"");this.dataType.push("String");}}}this.length++;}catch(e){$W.exception.printStackTrace(e);}};$W._q.Vector.prototype.elementAt=function(i){["WebSquare.collection.Vector.elementAt"];var ret=null;try{i=parseInt(i,10);if(i>=0&&i<this.length){if(this.dataType[i]=="Document"){var tmp=$W._B.parse(this.data[i]);if(tmp.documentElement.nodeName=="vector"){ret=$W._q.toVector(tmp);}else{if(tmp.documentElement.nodeName=="hashtable"){ret=$W._q.toHashtable(tmp);}else{ret=tmp;}}}else{ret=this.data[i];}}}catch(e){$W.exception.printStackTrace(e);}return ret;};$W._q.Vector.prototype.insertElementAt=function(_1b,i){["WebSquare.collection.Vector.insertElementAt"];try{i=parseInt(i,10);if(i==this.length){this.addElement(_1b);return;}if(i>=0&&i<this.length){for(var j=this.length;j>i;j--){this.data[j]=this.data[j-1];this.dataType[j]=this.dataType[j-1];}if($W._B.isDocument(_1b)){this.data[i]=$W._B.serialize(_1b);this.dataType[i]="Document";}else{if(typeof _1b=="object"&&typeof _1b.type!="undefined"&&(_1b.type=="vector"||_1b.type=="hashtable")){this.data[i]=_1b.toString();this.dataType[i]="Document";}else{if(typeof _1b=="string"&&$W._B.isDocumentString(_1b)){this.data[i]=_1b;this.dataType[i]="Document";}else{this.data[i]=_1b+"";this.dataType[i]="String";}}}this.length++;}}catch(e){$W.exception.printStackTrace(e);}};$W._q.Vector.prototype.remove=function(i){["WebSquare.collection.Vector.remove"];var ret=null;try{i=parseInt(i,10);if(i>=0&&i<this.length){if(this.dataType[i]=="Document"){var tmp=$W._B.parse(this.data[i]);if(tmp.documentElement.nodeName=="vector"){ret=$W._q.toVector(tmp);}else{if(tmp.documentElement.nodeName=="hashtable"){ret=$W._q.toHashtable(tmp);}else{ret=tmp;}}}else{ret=this.data[i];}if(i<this.length-1){for(var j=i;j<this.length-1;j++){this.data[j]=this.data[j+1];this.dataType[j]=this.dataType[j+1];}}this.data.pop();this.dataType.pop();this.length--;}}catch(e){$W.exception.printStackTrace(e);}return ret;};$W._q.Vector.prototype.fastRemove=function(i){["WebSquare.collection.Vector.fastRemove"];try{i=parseInt(i,10);if(i>=0&&i<this.length){if(i<this.length-1){for(var j=i;j<this.length-1;j++){this.data[j]=this.data[j+1];this.dataType[j]=this.dataType[j+1];}}this.data.pop();this.dataType.pop();this.length--;}}catch(e){$W.exception.printStackTrace(e);}};$W._q.Vector.prototype.set=function(i,_25){["WebSquare.collection.Vector.set"];try{i=parseInt(i,10);if(i>=0&&i<this.length){if($W._B.isDocument(_25)){this.data[i]=$W._B.serialize(_25);this.dataType[i]="Document";}else{if(typeof _25=="object"&&typeof _25.type!="undefined"&&(_25.type=="vector"||_25.type=="hashtable")){this.data[i]=_25.toString();this.dataType[i]="Document";}else{if(typeof _25=="string"&&$W._B.isDocumentString(_25)){this.data[i]=_25;this.dataType[i]="Document";}else{this.data[i]=_25+"";this.dataType[i]="String";}}}}}catch(e){$W.exception.printStackTrace(e);}};$W._q.Vector.prototype.size=function(){["WebSquare.collection.Vector.size"];return this.length;};$W._q.Vector.prototype.toDocument=function(){["WebSquare.collection.Vector.toDocument"];return $W._B.parse(this.toString());};$W._q.Vector.prototype.toString=function(){["WebSquare.collection.Vector.toString"];var _26=[];try{_26.push("<vector");_26.push(" result='"+this.length+"'");for(var i=0;i<this.attributeName.length;i++){if(this.attributeName[i]!="result"){_26.push(" "+this.attributeName[i]+"='"+this.attributeValue[i]+"'");}}_26.push(">");for(var i=0;i<this.length;i++){if(this.dataType[i]=="Document"){_26.push("<data vectorkey='"+i+"'>");var idx=this.data[i].indexOf("?>");if(idx==-1){_26.push(this.data[i]);}else{var _29=(new RegExp("<?xml[\\s]+(version|VERSION)[\\w\\W]+?>")).test(this.data[i]);if(_29){_26.push(this.data[i].substring(idx+2));}else{_26.push(this.data[i]);}}_26.push("</data>");}else{_26.push("<data vectorkey='"+i+"' value='"+$W._B.encode(this.data[i])+"'/>");}}_26.push("</vector>");}catch(e){$W.exception.printStackTrace(e);}return _26.join("");};$W._q.Hashtable=function(){["WebSquare.collection.Hashtable"];this.type="hashtable";this.key=[];this.data=[];this.dataType=[];this.attributeName=[];this.attributeValue=[];};$W._q.Hashtable.prototype.containsKey=function(_2a){["WebSquare.collection.Hashtable.containsKey"];var _2b=false;try{for(var i=0;i<this.key.length;i++){if(this.key[i]==_2a){_2b=true;break;}}}catch(e){$W.exception.printStackTrace(e);}return _2b;};$W._q.Hashtable.prototype.setDocument=function(doc){["WebSquare.collection.Hashtable.setDocument"];try{if(doc.documentElement.nodeName=="hashtable"){this.key=[];this.data=[];this.dataType=[];var _2e=doc.documentElement.attributes;for(var i=0;i<_2e.length;i++){var att=_2e.item(i);this.attributeName.push(att.nodeName);this.attributeValue.push(att.nodeValue);}var _31=doc.documentElement.childNodes;for(var i=0;i<_31.length;i++){var _32=_31.item(i);if(_32.nodeType==1&&_32.nodeName=="data"){this.key.push(_32.getAttribute("hashkey"));var _33=_32.getAttribute("value");if(_33!=null){this.data.push(_33);this.dataType.push("String");}else{var _34=_32.childNodes;for(var j=0;j<_34.length;j++){var _36=_34.item(j);if(_36.nodeType==1){this.data.push($W._B.serialize(_36));this.dataType.push("Document");break;}}}}}}}catch(e){$W.exception.printStackTrace(e);}};$W._q.Hashtable.prototype.getAttribute=function(_37){["WebSquare.collection.Hashtable.getAttribute"];var ret="";try{for(var i=0;i<this.attributeName.length;i++){if(this.attributeName[i]==_37){ret=this.attributeValue[i];break;}}}catch(e){$W.exception.printStackTrace(e);}return ret;};$W._q.Hashtable.prototype.setAttribute=function(_3a,_3b){["WebSquare.collection.Hashtable.setAttribute"];try{var _3c=false;for(var i=0;i<this.attributeName.length;i++){if(this.attributeName[i]==_3a){_3c=true;this.attributeValue[i]=_3b;break;}}if(!_3c){this.attributeName.push(_3a);this.attributeValue.push(_3b);}}catch(e){$W.exception.printStackTrace(e);}};$W._q.Hashtable.prototype.setDebug=function(_3e){["WebSquare.collection.Hashtable.setDebug"];this.setAttribute("debug",_3e);};$W._q.Hashtable.prototype.setAction=function(_3f){["WebSquare.collection.Hashtable.setAction"];this.setAttribute("action",_3f);};$W._q.Hashtable.prototype.setTask=function(_40){["WebSquare.collection.Hashtable.setTask"];this.setAttribute("task",_40);};$W._q.Hashtable.prototype.setProcessName=function(_41){["WebSquare.collection.Hashtable.setProcessName"];if(typeof _41=="undefined"||_41==null||_41==""){this.setAttribute("processName",$W._w.getControllerServer());}else{this.setAttribute("processName",$W._w.getControllerServer()+"."+_41);}};$W._q.Hashtable.prototype.getAction=function(){["WebSquare.collection.Hashtable.getAction"];return this.getAttribute("action");};$W._q.Hashtable.prototype.getTask=function(){["WebSquare.collection.Hashtable.getTask"];return this.getAttribute("task");};$W._q.Hashtable.prototype.getProcessName=function(){["WebSquare.collection.Hashtable.getProcessName"];return this.getAttribute("processName");};$W._q.Hashtable.prototype.get=function(_42){["WebSquare.collection.Hashtable.get"];var ret=null;try{for(var i=0;i<this.key.length;i++){if(this.key[i]==_42){if(this.dataType[i]=="Document"){var tmp=$W._B.parse(this.data[i]);if(tmp.documentElement.nodeName=="vector"){ret=$W._q.toVector(tmp);}else{if(tmp.documentElement.nodeName=="hashtable"){ret=$W._q.toHashtable(tmp);}else{ret=tmp;}}}else{ret=this.data[i];}break;}}}catch(e){$W.exception.printStackTrace(e);}return ret;};$W._q.Hashtable.prototype.put=function(_46,_47){["WebSquare.collection.Hashtable.put"];var ret=null;try{var _49=false;for(var i=0;i<this.key.length;i++){if(this.key[i]==_46){_49=true;if(this.dataType[i]=="Document"){var tmp=$W._B.parse(this.data[i]);if(tmp.documentElement.nodeName=="vector"){ret=$W._q.toVector(tmp);}else{if(tmp.documentElement.nodeName=="hashtable"){ret=$W._q.toHashtable(tmp);}else{ret=tmp;}}}else{ret=this.data[i];}if($W._B.isDocument(_47)){this.data[i]=$W._B.serialize(_47);this.dataType[i]="Document";}else{if(typeof _47=="object"&&typeof _47.type!="undefined"&&(_47.type=="vector"||_47.type=="hashtable")){this.data[i]=_47.toString();this.dataType[i]="Document";}else{if(typeof _47=="string"&&$W._B.isDocumentString(_47)){this.data[i]=_47;this.dataType[i]="Document";}else{this.data[i]=_47+"";this.dataType[i]="String";}}}break;}}if(!_49){this.key.push(_46);if($W._B.isDocument(_47)){this.data.push($W._B.serialize(_47));this.dataType.push("Document");}else{if(typeof _47=="object"&&typeof _47.type!="undefined"&&(_47.type=="vector"||_47.type=="hashtable")){this.data.push(_47.toString());this.dataType.push("Document");}else{if(typeof _47=="string"&&$W._B.isDocumentString(_47)){this.data.push(_47);this.dataType.push("Document");}else{this.data.push(_47+"");this.dataType.push("String");}}}}}catch(e){$W.exception.printStackTrace(e);}return ret;};$W._q.Hashtable.prototype.remove=function(_4c){["WebSquare.collection.Hashtable.remove"];var ret=null;try{for(var i=0;i<this.key.length;i++){if(this.key[i]==_4c){if(this.dataType[i]=="Document"){var tmp=$W._B.parse(this.data[i]);if(tmp.documentElement.nodeName=="vector"){ret=$W._q.toVector(tmp);}else{if(tmp.documentElement.nodeName=="hashtable"){ret=$W._q.toHashtable(tmp);}else{ret=tmp;}}}else{ret=this.data[i];}this.key[i]=this.key[this.key.length-1];this.data[i]=this.data[this.data.length-1];this.dataType[i]=this.dataType[this.dataType.length-1];this.key.pop();this.data.pop();this.dataType.pop();break;}}}catch(e){$W.exception.printStackTrace(e);}return ret;};$W._q.Hashtable.prototype.keys=function(){["WebSquare.collection.Hashtable.keys"];return $W._A.arraySort(this.key);};$W._q.Hashtable.prototype.elements=function(){["WebSquare.collection.Hashtable.elements"];var _50=[];try{var k=$W._A.arraySort(this.key);for(var i=0;i<k.length;i++){_50.push(this.get(k[i]));}}catch(e){$W.exception.printStackTrace(e);}return _50;};$W._q.Hashtable.prototype.toDocument=function(){["WebSquare.collection.Hashtable.toDocument"];return $W._B.parse(this.toString());};$W._q.Hashtable.prototype.toString=function(){["WebSquare.collection.Hashtable.toString"];var _53=[];_53.push("<hashtable");try{for(var i=0;i<this.attributeName.length;i++){_53.push(" "+this.attributeName[i]+"='"+this.attributeValue[i]+"'");}_53.push(">");for(var i=0;i<this.key.length;i++){if(this.dataType[i]=="Document"){_53.push("<data hashkey='"+$W._B.encode(this.key[i])+"'>");var idx=this.data[i].indexOf("?>");if(idx==-1){_53.push(this.data[i]);}else{var _56=(new RegExp("<?xml[\\s]+(version|VERSION)[\\w\\W]+?>")).test(this.data[i]);if(_56){_53.push(this.data[i].substring(idx+2));}else{_53.push(this.data[i]);}}_53.push("</data>");}else{_53.push("<data hashkey='"+$W._B.encode(this.key[i])+"' value='"+$W._B.encode(this.data[i])+"'/>");}}}catch(e){$W.exception.printStackTrace(e);}_53.push("</hashtable>");return _53.join("");};$W._q.toVector=function(doc){["WebSquare.collection.toVector"];var _58=new $W._q.Vector();try{var dom=null;if(typeof doc=="string"){dom=$W._B.parse(doc);}else{if($W._B.isDocument(doc)){dom=doc;}}_58.setDocument(dom);}catch(e){$W.exception.printStackTrace(e);}return _58;};$W._q.toHashtable=function(doc){["WebSquare.collection.toHashtable"];var _5b=new $W._q.Hashtable();try{var dom=null;if(typeof doc=="string"){dom=$W._B.parse(doc);}else{if($W._B.isDocument(doc)){dom=doc;}}_5b.setDocument(dom);}catch(e){$W.exception.printStackTrace(e);}return _5b;};;WebSquare.collection=$W._q;$W.WebSquareDocument=function(_1){["WebSquare.WebSquareDocument"];try{this.xmlDocument=_1;this.models=[];this.controls=[];this.actions=[];this.events=[];this.boundElement=[];this.refElement=[];this.itemsetElement=[];this.boundElementCache={};this.W2Object=1;this.HTMLObject=2;this.TmpObjIdx=1;this.configElement;this.cssList=[];this.idCollisionList={};}catch(e){$W.exception.printStackTrace(e);}};$W.WebSquareDocument.componentsCache={};$W.WebSquareDocument.getElementsByTagName=function(_2){if(typeof $W.WebSquareDocument.componentsCache[_2]=="object"){var _3=[];for(var i=0;i<$W.WebSquareDocument.componentsCache[_2].length;i++){_3.push($W.idCache[$W.WebSquareDocument.componentsCache[_2][i]]);}return _3;}else{return new Array();}};$W.WebSquareDocument.prototype.parsing=function(_5){["WebSquare.WebSquareDocument.parsing"];try{if($W.WebSquareParser==null){$W.WebSquareparser=new $W._o.WebSquareParser();}if(!$W.WebSquareparser.parse(this.xmlDocument,_5)){return false;}this.parsingUDC(_5);if(_5){$W.BootLoader.performanceCheck.mid2=new Date();$W.BootLoader.printLog("[SPA3][RESOURCE] New resource(XML, Skin, CSS, JS) Load Complete. Time:"+($W.BootLoader.performanceCheck.mid2.getTime()-$W.BootLoader.performanceCheck.mid1.getTime())+"ms");}else{$W.BootLoader.performanceCheck.mid2=new Date();$W.BootLoader.printLog("[STEP3][RESOURCE] Resource(XML, Skin, CSS, JS) Load Complete. Time:"+($W.BootLoader.performanceCheck.mid2.getTime()-$W.BootLoader.performanceCheck.mid1.getTime())+"ms");}if($W._G._stopProcess(_5)){return;}var _6=this.renderBody(_5);if(!_6){return false;}return true;}catch(e){$W.exception.printStackTrace(e);}};$W.WebSquareDocument.prototype.parsingWFrame=function(_7,_8){["WebSquare.WebSquareDocument.parsingWFrame "];try{if($W.WebSquareParser==null){$W.WebSquareparser=new $W._o.WebSquareParser();}if(!$W.WebSquareparser.parse(this.xmlDocument,_7,_8)){return false;}this.parsingUDC(_7,_8);return true;}catch(e){$W.exception.printStackTrace(e);}};$W.WebSquareDocument.prototype.parsingPageInheritBefore=function(_9,_a){["WebSquare.WebSquareDocument.parsingPageInheritBefore"];try{if($W.WebSquareParser==null){$W.WebSquareparser=new $W._o.WebSquareParser();}$W.WebSquareparser.parsePageInheritBefore(this.xmlDocument,_9,_a);this.parsingUDC(_9,_a);}catch(e){$W.exception.printStackTrace(e);}};$W.WebSquareDocument.prototype.parsingPageInheritAfter=function(_b,_c){["WebSquare.WebSquareDocument.parsingPageInheritAfter"];try{if($W.WebSquareParser==null){$W.WebSquareparser=new $W._o.WebSquareParser();}return $W.WebSquareparser.parsePageInheritAfter(this.xmlDocument,_b,_c);}catch(e){$W.exception.printStackTrace(e);}};$W.WebSquareDocument.prototype.parsingUDC=function(_d,_e){["WebSquare.WebSquareDocument.parsingUDC"];try{var _f=$W._B.getElementsByTagName(this.xmlDocument,"head")[0];var _10=$W._B.getElementsByTagName(_f,"require",$W._N._XML_NAMESPACE.W2);for(var i=0;i<_10.length;i++){var src=$W._N.getURL($W._N.getPageURL(_10[i].getAttribute("src")));var id=_10[i].getAttribute("id");var _14=_10[i].getAttribute("pluginName");$W._G.loadUserComponent(src,id,_14,_e);}var _15=$W._B.getElementsByTagName(_f,"inherit",$W._N._XML_NAMESPACE.W2);for(var i=0;i<_15.length;i++){var src=$W._N.getURL($W._N.getPageURL(_15[i].getAttribute("src")));$W._G.loadInheritComponent(src);}}catch(e){$W.exception.printStackTrace(e);}};$W.WebSquareDocument.prototype.evalImportsQueue=function(){["WebSquare.WebSquareDocument.evalImportsQueue"];try{for(var i in $W._h){imports($W._h[i]);}}catch(e){$W.exception.printStackTrace(e);}};$W.WebSquareDocument.prototype.renderBody=function(spa){["WebSquare.WebSquareDocument.renderBody"];var _18=$W._B.getElementsByTagName(this.xmlDocument,"body",$W._N._XML_NAMESPACE.XHTML);if(_18.length==1){var _19=_18[0].getAttribute("style");if(_19!=null){this.bodyStyle=_19;}this.body=_18[0];}else{alert($W._m.getMessage("E_WebSquareDocument_MoreThanOneBodyError",_18.length));return false;}var _1a=new $W.controlManager();_1a.run(_18[0],spa);};$W.WebSquareDocument.prototype.renderBody2=function(_1b,_1c){["WebSquare.WebSquareDocument.renderBody2"];var _1d=$W._B.getElementsByTagName(this.xmlDocument,"body",$W._N._XML_NAMESPACE.XHTML);var _1e=_1d[0].getAttribute("class");if(_1e){_1b.addClass(_1e);}$W.cssManager.startCache();var _1f=$W.controlFactory.create(null,null,_1d[0],_1b.options.scope?_1b:null,_1b.uuid);$W.cssManager.endCache();_1b.addControl(_1f);if(_1b.options.scope){_1b.makeScope(_1b);_1b.makeLazyScopeVariable();}if(_1f&&_1c){var _20=this;var _21=function(){var _22=[];$W._j["activated"]=true;for(var _23 in $W._j["comp"]){var _24=$W._j["comp"][_23];if(_24&&_24.parentFrame===_1b.uuid){_24.activate();_22.push(_24.uuid);}}_1f.activate();_1f.render=null;if(_1b.wframeScript){_1b.wframeScript.push(_20.scriptSection);_20.scriptSection=_1b.wframeScript.reverse().join("");_20.wframeScript=[];}if(_20.scriptSection.wq_trim()!=""){$W.BootLoader.globalEval(_20.scriptSection);}if(_1b.lazyImportsArr.length>0){$W._G.js.apply(null,_1b.lazyImportsArr);_1b.lazyImportsArr=[];}_1f.onComplete();for(var i=0;i<_22.length;i++){if(!$W.idCache[_22[i]].completed){$W.idCache[_22[i]].onComplete();}}var _26=_1b.getSrc();$W._c.fireEvent(_1f,"onwframeload",_26);$W._c.fireEvent(_1f,"onpageload",_26);$W._c.fireEvent(_1b,"onload",_26);};var _27=function(){if(!_1b.render){return;}_1b.render.innerHTML=_1f.toHTML();_1f.preActivate();if(_1b.options.mode!=="sync"){setTimeout(_21,1);}else{_21();}};if($W.externalScriptArr.length>0){if(_1b.options.mode!=="sync"){$W.externalScriptArr.push(_27);$W._G.js.apply(null,$W.externalScriptArr);}else{for(var i=0;i<$W.externalScriptArr.length;i++){$W.BootLoader.globalEval($W._N.load($W.externalScriptArr[i]));}_27();}}else{_27();}$W.externalScriptArr=[];}return !!_1f;};$W.addListenerCnt=0;$W.elementObjArr=[];$W.selectboxCss=false;$W.triggerCss=false;$W.idCache={};$W.idToUUID={};$W.RefElement=function(_29,id){try{this.nodeset=_29;this.id=id;this.instance=$W._J.getInstanceByXPath(this.nodeset);this.filteredNodeset=$W._J.filterInstanceFunction(this.nodeset);}catch(e){$W.exception.printStackTrace(e);}};$W.ItemsetElement=function(_2b,_2c,_2d,id){try{this.nodeset=_2b;this.instance=$W._J.getInstanceByXPath(this.nodeset);this.filteredNodeset=$W._J.filterInstanceFunction(this.nodeset);this.id=id;this.label=_2c;this.value=_2d;if(this.nodeset.indexOf("/")==_2b.length-1){this.nodeset=this.nodeset.substring(0,length-1);}if(this.label.indexOf("/")==0){this.labelXPath=this.nodeset+this.label;}else{this.labelXPath=this.nodeset+"/"+this.label;}if(this.value.indexOf("/")==0){this.valueXPath=this.nodeset+this.value;}else{this.valueXPath=this.nodeset+"/"+this.value;}}catch(e){$W.exception.printStackTrace(e);}};$W.BoundElement=function(_2f,id){this.nodeset=_2f;this.id=id;this.instance=$W._J.getInstanceByXPath(this.nodeset);this.filteredNodeset=$W._J.filterInstanceFunction(this.nodeset);};$W.WebSquareDocument.prototype.unrender=function(_31,id,_33){["WebSquare.WebSquareDocument.unrender"];try{for(var i=0;i<this.boundElement.length;i++){var _35=this.boundElement[i];if(!_35||typeof _35.filteredNodeset=="undefined"||typeof _35.instance=="undefined"){continue;}if(_35.filteredNodeset.indexOf(_31)==0&&_35.instance.id==_33){if(!(typeof id!="undefined"&&id!=null&&id==_35.id)){$W._G.getComponentById(_35.id)["hasbeenrendered"]=false;}}}for(var j in this.refElement){var _37=this.refElement[j];if(!_37||typeof _37.filteredNodeset=="undefined"||typeof _37.instance=="undefined"){continue;}if(_37.filteredNodeset.indexOf(_31)==0&&_37.instance.id==_33){if(!(typeof id!="undefined"&&id!=null&&id==_35.id)){$W._G.getComponentById(_37.id)["hasbeenrendered"]=false;}}}for(var k in this.itemsetElement){var _39=this.itemsetElement[k];if(typeof _39.filteredNodeset!="undefined"){if((_31.indexOf(_39.filteredNodeset)==0||_39.filteredNodeset.indexOf(_31)==0)&&_39.filteredNodeset.substr(_31.length).search(/^\w/)==-1&&_39.instance.id==_33){var id2=_39.id;if(id2!=id){try{$W._G.getComponentById(_39.id)["itemsetrendered"]=false;}catch(e){}}}}}}catch(e){$W.exception.printStackTrace(e);}};$W.WebSquareDocument.prototype.detectChange=function(_3b,id,_3d){["WebSquare.WebSquareDocument.detectChange"];try{var _3e=$W._J.getModelByID(_3d);var _3f=_3e.instances[0].id;if(_3f!=null){_3b=$W._J.concatInstanceFunction(_3b,_3f);}if(typeof this.boundElementCache[_3b]!="undefined"&&this.boundElementCache[_3b]!=null){for(var i in this.boundElementCache[_3b]){var id1=i;if(id1!=id){var _42=$W._G.getComponentById(id1);if(_42.modelControl.ref&&!_42.modelControl.useRef){}_42.refresh();}}}for(var k in $W.WebSquaredoc.itemsetElement){var _44=$W.WebSquaredoc.itemsetElement[k];if(typeof _44.filteredNodeset!="undefined"){if((_3b.indexOf(_44.filteredNodeset)==0||_44.filteredNodeset.indexOf(_3b)==0)){var id2=_44.id;if(id2!=id){var _46=$W._G.getComponentById(id2);if(_46.modelControl.ref&&!_46.modelControl.useRef){}_46.refreshItemset();}}}}}catch(e){$W.exception.printStackTrace(e);}};$W.WebSquareDocument.prototype.mergeConfig=function(_47){["WebSquare.WebSquareDocument.mergeConfig"];try{this.configElement=_47;var _48=$W.BootLoader.XML2JSON(this.configElement);$W.BootLoader.mergeJSON($W.BootLoader.configurationJSON[0],_48);var _49=$W.BootLoader.JSON2XML($W.BootLoader.configurationJSON[0]);$W.BootLoader.configurationInfo=_49;$W.BootLoader.configurationDOM[0]=_49;$W.BootLoader.initJSONConfig();}catch(e){$W.exception.printStackTrace(e);}};$W.WebSquareDocument.prototype.addBodyEvents=function(_4a,_4b){["WebSquare.WebSquareDocument.addBodyEvents"];try{if(typeof _4b!="undefined"){var s1=$W._N.makeStyle(_4b);$W._N.applyStyle(this.render,s1);}var _4d=$W.WebSquareparser.parseEvent(_4a);$W._c.addEvents(this.render,_4d);}catch(e){$W.exception.printStackTrace(e);}};$W.WebSquareObject=function(_4e){["WebSquare.WebSquareObject"];this.xmlNode=_4e;};$W.WebSquarebodyControl=function(_4f,_50){["WebSquare.WebSquarebodyControl"];try{this.style=_50;this.xmlEvents=$W.WebSquareparser.parseEvent(_4f);}catch(e){$W.exception.printStackTrace(e);}};$W.WebSquarebodyControl.prototype.makeEvents=function(){["WebSquare.WebSquarebodyControl.makeEvents"];try{$W._c.addEvents(document.body,this.xmlEvents);}catch(e){$W.exception.printStackTrace(e);}};$W.WebSquareLabelControl=function(_51,_52,_53){["WebSquare.WebSquareLabelControl"];if(_52!=null){this.value=$W._J.getInstanceValue(_52.xpath);}else{this.value=_53;}};$W._o={};$W._o.WebSquareParser=function(){["WebSquare.Parser.WebSquareParser"];};$W._h={};$W._v={};$W.lazyImportsArr=[];$W.externalScriptArr=[];$W.executePointScriptArr=[];$W.pageInheritScriptArr=[];$W.pageInheritSubmissionList=[];$W.pageInheritWorkflowList=[];$W._o.WebSquareParser.prototype.parse=function(_1,_2,_3){["WebSquare.Parser.WebSquareParser.parse"];try{this.preParse(_1);this.parseCSS(_1,_2,_3);if(!_3){this.parseBuildDate(_1.documentElement);this.parseTitle(_1.documentElement);}this.parseMeta(_1.documentElement);this.parseModels(_1.documentElement,_3);var _4=this.parseScript(_1.documentElement,_3);if(_3!=undefined){this.parseDataCollections(_1.documentElement,_3.uuid);}else{this.parseDataCollections(_1.documentElement);}return _4;}catch(e){$W.exception.printStackTrace(e);}};$W._o.WebSquareParser.prototype.parseMeta=function(_5){var _6=["meta","Meta","META"];var _7=document.getElementsByTagName("head")[0];for(var i=0;i<_6.length;i++){var _9=$W._B.getElementsByTagName(_5,_6[i],$W._N._XML_NAMESPACE.XHTML);if(_9!=null){for(var j=0;j<_9.length;j++){var _b=document.createElement("meta");for(var _c=0;_c<_9[j].attributes.length;_c++){_b.setAttribute(_9[j].attributes[_c].nodeName,_9[j].attributes[_c].nodeValue);}_7.appendChild(_b);}}}};$W._o.WebSquareParser.prototype.parsePageInheritBefore=function(_d,_e,_f){["WebSquare.Parser.WebSquareParser.parse"];try{this.preParse(_d);this.parseMeta(_d.documentElement);this.parseModels(_d.documentElement,_f);if(_f!=undefined){this.parseDataCollections(_d.documentElement,_f.uuid);}else{this.parseDataCollections(_d.documentElement);}}catch(e){$W.exception.printStackTrace(e);}};$W._o.WebSquareParser.prototype.parsePageInheritAfter=function(_10,_11,_12){["WebSquare.Parser.WebSquareParser.parse"];try{this.parseCSS(_10,_11,_12,$W.WebSquaredoc.cssList[0]);var ret=this.parseScript(_10.documentElement,_12,true);return ret;}catch(e){$W.exception.printStackTrace(e);}};$W._o.WebSquareParser.prototype.preParse=function(_14){["WebSquare.Parser.WebSquareParser.preParse"];try{if($W._N.browserCheck.ieAllVersion&&$W.BootLoader.useActiveXObject){var _15=$W._N.getNamespaces(_14);var _16="";for(var i in _15){if(i!=""){_16+="xmlns:"+i+"=\""+_15[i]+"\" ";}}_14.setProperty("SelectionLanguage","XPath");_14.setProperty("SelectionNamespaces",_16);}this.parseConfig(_14.documentElement);}catch(e){$W.exception.printStackTrace(e);}};$W._o.WebSquareParser.prototype.parseCSS=function(_18,_19,_1a,_1b){["WebSquare.Parser.WebSquareParser.parseCSS"];try{var _1c=$W._N.getConfiguration("/WebSquare/stylesheet/@value");var _1d=$W._N.getConfiguration("/WebSquare/stylesheet/@enable");if(_1d!="false"&&!_19&&!_1a&&!$W.styleSheetEarlyImport){if(_1c==null||_1c==""){if($W._N.getConfiguration("/WebSquare/stylesheet/@import")=="link"){_1c="stylesheet_ext.css";}else{_1c="stylesheet.css";}}$W._y.addImport($W.baseThemeURI+"skin/"+_1c);$W.cssManager.executeImport();}$W._y.importCSS(_18);if(!_1a){$W.WebSquaredoc.cssList=$W.WebSquaredoc.cssList.concat($W.cssManager.executeImport(_1b));}else{_1a.frameDoc.cssList=_1a.frameDoc.cssList.concat($W.cssManager.executeImport(_1b));}}catch(e){$W.exception.printStackTrace(e);}};$W._o.WebSquareParser.prototype.parseConfig=function(_1e){["WebSquare.Parser.WebSquareParser.parseConfig"];try{var _1f=$W._B.getElementsByTagName(_1e,"config",$W._N._XML_NAMESPACE.W2);if(_1f.length==1){for(var _20=_1f[0].firstChild;_20!=null;_20=_20.nextSibling){if((_20.nodeType==1)&&$W._B.matchNode(_20,"WebSquare",$W._N._XML_NAMESPACE.XHTML)){$W.WebSquaredoc.mergeConfig(_20);}}}}catch(e){$W.exception.printStackTrace(e);}};$W._o.WebSquareParser.prototype.parseBuildDate=function(_21){["WebSquare.Parser.WebSquareParser.parseBuildDate"];try{var _22=$W._B.getElementsByTagName(_21,"buildDate",$W._N._XML_NAMESPACE.W2);if(_22.length==1&&_22[0].firstChild){$W.buildDate=(_22[0].firstChild.nodeValue);}else{$W.buildDate="N/A";}}catch(e){$W.buildDate="N/A";$W.exception.printStackTrace(e);}};$W._o.WebSquareParser.prototype.parseTitle=function(_23){["WebSquare.Parser.WebSquareParser.parseTitle"];try{var _24=$W._B.getElementsByTagName(_23,"title",$W._N._XML_NAMESPACE.XHTML);if(_24.length==1){$W.docTitle=$W.document.title=(_24[0].firstChild.nodeValue);}}catch(e){$W.exception.printStackTrace(e);}};$W._o.WebSquareParser.prototype.parseModels=function(_25,_26){["WebSquare.Parser.WebSquareParser.parseModels"];try{var _27=$W._B.getElementsByTagName(_25,"model",$W._N._XML_NAMESPACE.XFORMS);for(var i=0;i<_27.length;++i){if(_26){if(_26.frameDoc){_26.frameDoc.models.push(this.parseModel(_27[i],_26));}}else{$W.WebSquaredoc.models.push(this.parseModel(_27[i]));}}}catch(e){$W.exception.printStackTrace(e);}};$W._o.WebSquareParser.prototype.parseDataCollections=function(_29,_2a){["WebSquare.Parser.WebSquareParser.parseDataCollections"];try{var _2b=$W._B.getElementsByTagName(_29,"model",$W._N._XML_NAMESPACE.XFORMS);for(var i=0;i<_2b.length;++i){this.parseDataCollection(_2b[i],_2a);}}catch(e){$W.exception.printStackTrace(e);}};$W._o.WebSquareParser.prototype.parseModel=function(_2d,_2e){["WebSquare.Parser.WebSquareParser.parseModel"];try{var _2f=this.parseInstances(_2d);var _30=this.parseBinds(_2d);var _31=this.parseSubmissions(_2d,_2e);var _32=this.parseWorkflows(_2d,_2e);return new $W.Model(_2d,_2f,_30,_31,_32);}catch(e){$W.exception.printStackTrace(e);}};$W._o.WebSquareParser.prototype.parseDataCollection=function(_33,_34){["WebSquare.Parser.WebSquareParser.parseDataCollection"];try{requires("uiplugin.dataMap");requires("uiplugin.dataList");requires("uiplugin.linkedDataList");var _35=$W._B.getElementsByTagName(_33,"dataCollection",$W._N._XML_NAMESPACE.W2);var _36=_35[0];if(_36){this.parseDataCollectionAttribute(_36);var _37=$W._B.getElementsByTagName(_36,"dataMap",$W._N._XML_NAMESPACE.W2);for(var i=0;i<_37.length;i++){var _39=_37[i];new $W._j.dataMap(null,null,_39,"dataMap",_34);}var _3a=$W._B.getElementsByTagName(_36,"dataList",$W._N._XML_NAMESPACE.W2);for(var i=0;i<_3a.length;i++){var _3b=_3a[i];new $W._j.dataList(null,null,_3b,"dataList",_34);}var _3c=$W._B.getElementsByTagName(_36,"linkedDataList",$W._N._XML_NAMESPACE.W2);for(var i=0;i<_3c.length;i++){var _3d=_3c[i];new $W._j.linkedDataList(null,null,_3d,"linkedDataList",_34);}}}catch(e){$W.exception.printStackTrace(e);}};$W._o.WebSquareParser.prototype.parseDataCollectionAttribute=function(_3e){["WebSquare.Parser.WebSquareParser.parseDataCollectionAttribute"];try{if($W._j["options"].useConfig||$W._G.getBoolean($W._N.getConfiguration("/WebSquare/"+pluginName+"/useConfig/@value"))){var _3f=$W.configManager.getConfig("dataCollection");$W._j["options"]=$W.extendKeepingType($W._j["options"],_3f);}for(var i=0;i<_3e.attributes.length;i++){var _41=_3e.attributes[i];if($W.nodeValueDeprecated){$W._j.api.setOption(_41.name,_41.value);}else{$W._j.api.setOption(_41.nodeName,_41.nodeValue);}}}catch(e){$W.exception.printStackTrace(e);}};$W._o.WebSquareParser.prototype.parseInstances=function(_42){["WebSquare.Parser.WebSquareParser.parseInstances"];try{var _43=$W._B.getElementsByTagName(_42,"instance",$W._N._XML_NAMESPACE.XFORMS);var _44=[];for(var i=0;i<_43.length;i++){_44.push(this.parseInstance(_43[i]));}return _44;}catch(e){$W.exception.printStackTrace(e);}};$W._o.WebSquareParser.prototype.parseInstance=function(_46){["WebSquare.Parser.WebSquareParser.parseInstance"];try{var src=_46.attributes.getNamedItem("src");var _48=null;if(src!=null){_48=new $W.Model.Instance(_46,$W._B.load(srcAttribute.value),src.value);}else{var _49=null;for(var _4a=_46.firstChild;_4a!=null;_4a=_4a.nextSibling){if(_4a.nodeType==1){_49=_4a;}}if(_49==null){_48=new $W.Model.Instance(_46,null,null);}else{var _4b=[];for(var _4a=_49.firstChild;_4a!=null;_4a=_4a.nextSibling){if(_4a.namespaceURI!=null&&_4a.namespaceURI!=""){_4b.push("xmlns:"+_4a.prefix);_4b.push(_4a.namespaceURI);break;}}if(_4b[0]!=null&&_4b[0]!="xmlns:xml"){if(!_49.attributes.getNamedItem(_4b[0])){_49.setAttribute(_4b[0],_4b[1]);}}_48=new $W.Model.Instance(_46,_49,null);}}return _48;}catch(e){$W.exception.printStackTrace(e);}};$W._o.WebSquareParser.prototype.parseBinds=function(_4c){["WebSquare.Parser.WebSquareParser.parseBinds"];try{var _4d=$W._B.getElementsByTagName(_4c,"bind",$W._N._XML_NAMESPACE.XFORMS);var _4e=[];for(var i=0;i<_4d.length;++i){_4e.push(this.parseBind(_4d[i]));}return _4e;}catch(e){$W.exception.printStackTrace(e);}};$W._o.WebSquareParser.prototype.parseBind=function(_50){["WebSquare.Parser.WebSquareParser.parseBind"];try{var id=_50.attributes.getNamedItem("id");var _52=_50.attributes.getNamedItem("nodeset");var _53=new $W.Model.Bind(_50,"nodeset",_52.value,null,id.value);return _53;}catch(e){$W.exception.printStackTrace(e);}};$W._o.WebSquareParser.prototype.parseSubmissions=function(_54,_55){["WebSquare.Parser.WebSquareParser.parseSubmissions"];try{var _56=$W._B.getElementsByTagName(_54,"submission",$W._N._XML_NAMESPACE.XFORMS);var _57=[];for(var i=0;i<_56.length;i++){_57.push(this.parseSubmission(_56[i],_54,_55));}return _57;}catch(e){$W.exception.printStackTrace(e);}};$W._o.WebSquareParser.prototype.parseSubmission=function(_59,_5a,_5b){["WebSquare.Parser.WebSquareParser.parseSubmission"];try{var id=$W.WebSquareparser.getAttribute(_59,"id");var _5d=$W.WebSquareparser.getAttribute(_59,"method","")||$W._N.getConfiguration("/WebSquare/submission/method/@value")||"POST";var _5e=$W.WebSquareparser.getAttribute(_59,"action","")||$W._N.getConfiguration("/WebSquare/submission/action/@value");var _5f=$W.WebSquareparser.getAttribute(_59,"mode","")||$W._N.getConfiguration("/WebSquare/submission/mode/@value")||"asynchronous";var _60=$W.WebSquareparser.getAttribute(_59,"mediatype","")||$W._N.getConfiguration("/WebSquare/submission/mediatype/@value");var _61=$W.WebSquareparser.getAttribute(_59,"encoding","")||$W._N.getConfiguration("/WebSquare/submission/encoding/@value")||"UTF-8";var ref=$W.WebSquareparser.getAttribute(_59,"ref");var _63=$W.WebSquareparser.getAttribute(_59,"target");var _64=$W.WebSquareparser.getAttribute(_59,"replace");var _65=$W.WebSquareparser.getAttribute(_59,"instance");var _66=$W.WebSquareparser.getAttribute(_59,"customHandler");var _67=$W.WebSquareparser.getAttribute(_59,"errorHandler");if(_67==""){_67=$W._N.getConfiguration("/WebSquare/submission/errorHandler/@value");}var _68=$W.WebSquareparser.getAttribute(_59,"processMsg","");if(_68==""){_68=$W._N.getConfiguration("/WebSquare/submission/processMsg/@value");}var _69=$W.WebSquareparser.getAttribute(_59,"abortTrigger")==="true";var _6a=$W.WebSquareparser.getAttribute(_59,"soapaction","");var _6b=$W.WebSquareparser.getAttribute(_59,"useModal")==="true"?true:false;if(_60==""){if(_5d=="post"||_5d=="POST"){_60="application/xml";}}var _6c=this.parseEvent(_59,_5b)||[];var _6d=this.getAttribute(_59,"timeout","")||$W._N.getConfiguration("/WebSquare/submission/timeout/@value");var _6e=this.getAttribute(_59,"singleMode")||false;var _6f=(this.getAttribute(_59,"hideProcessMsg")==="false"||(this.getAttribute(_59,"hideProcessMsg")!=="true"&&$W._N.getConfiguration("/WebSquare/submission/hideProcessMsg/@value")==="false"))?false:true;var _70=this.getAttribute(_59,"withCredentials")==="true"?true:false;var _71=id;var _72=null;var _73="";if(_5b&&_5b.options&&_5b.options.scope){_73=_5b.id+"_";id=_73+_71;_72=_5b.id;}var _74=$W.WebSquareparser.getAttribute(_59,"ev:submit");var _75=$W.WebSquareparser.getAttribute(_59,"ev:submitdone");var _76=$W.WebSquareparser.getAttribute(_59,"ev:submiterror");var _77=$W.WebSquareparser.getAttribute(_59,"ev:submittimeout");if(_74){_6c.push(new $W._L.XmlEvent("xforms-submit","script",{"handler":_73+_74}));}if(_75){_6c.push(new $W._L.XmlEvent("xforms-submit-done","script",{"handler":_73+_75}));}if(_76){_6c.push(new $W._L.XmlEvent("xforms-submit-error","script",{"handler":_73+_76}));}if(_77){_6c.push(new $W._L.XmlEvent("xforms-submit-timeout","script",{"handler":_73+_77}));}var _78={};_78.parentElement=_5a;_78.element=_59;_78.id=id;_78.method=_5d;_78.action=_5e;_78.mode=_5f;_78.bind=null;_78.mediatype=_60;_78.encoding=_61;_78.ref=ref;_78.target=_63;_78.replace=_64;_78.instance=_65;_78.customHandler=_66;_78.errorHandler=_67;_78.soapaction=_6a;_78.processMsg=_68;_78.xmlEvents=_6c;_78.timeout=_6d;_78.singleMode=_6e;_78.hideProcessMsg=_6f;_78.abortTrigger=_69;_78.scope_id=_72;_78.withCredentials=_70;_78.useModal=_6b;var ret=new $W.Model.Submission(_78);if(_5b&&_5b.options&&_5b.options.scope){_5b.scope[_71]=ret;}return ret;}catch(e){$W.exception.printStackTrace(e);}};$W._o.WebSquareParser.prototype.parseScript=function(_7a,_7b,_7c,_7d){["WebSquare.Parser.WebSquareParser.parseScript"];try{if(!_7d){if(_7b){if(_7b.frameDoc){_7b.frameDoc.scriptSection="";}}else{$W.scriptSection="";}if(_7b){if(_7b.options&&_7b.options.initScript){$W.scriptSection+=_7b.options.initScript;}}else{var _7e=$W._N.getConfiguration("/WebSquare/initScript/@value");if(_7e=="true"){$W.scriptSection+=$W._N.getConfiguration("/WebSquare/initScript");}}}var _7f=$W._B.getElementsByTagName(_7a,"head",$W._N._XML_NAMESPACE.XHTML);if(_7f.length==1){for(var _80=_7f[0].firstChild;_80!=null;_80=_80.nextSibling){if((_80.nodeType==1)&&$W._B.matchNode(_80,"script",$W._N._XML_NAMESPACE.XHTML)){var uri=_80.getAttribute("src");if(uri!=null&&uri!=""){var _82=_80.getAttribute("cache");var _83=_80.getAttribute("defer");$W._o.parseExternalScript({"uri":uri,"cache":_82,"lazy":_83,"frameObj":_7b,"pageInherit":_7c});}else{if(_7d){continue;}var _84=_80.getAttribute("loadAt");var _85=_80.getAttribute("lazy");var _86=-1;if(typeof _84=="string"&&_84!=""){_84=_84.wq_trim().toUpperCase();switch(_84){case "WEBSQUARE_START":case "START":_86=1;break;case "ENGINE_LOAD":case "ENGINE":_86=2;break;case "RESOURCE_LOAD":case "RESOURCE":_86=3;break;case "CREATE_COMPONENT":case "CREATE":_86=4;break;case "RENDER_DOM":case "RENDER":_86=5;break;case "ADJUST_COMPONENT":case "ADJUST":_86=6;break;case "BIND_EVENT":case "EVENT":_86=7;break;case "EXECUTE_SCRIPT":case "EXECUTE":_86=8;break;default:_86=8;break;}}if(_85=="false"){_86=3;}for(var _87=_80.firstChild;_87!=null;_87=_87.nextSibling){if(_87.nodeType==4||_87.nodeType==3){var _88=_87.nodeValue;if(_7b){if(_7b.options&&_7b.options.postScript){_88+=_7b.options.postScript;}if(_7b.options.scope){_88="WebSquare.scope_obj="+_7b.id+";\nwith(WebSquare.util.getComponentById('"+_7b.id+"').scope){\n var udc_obj = "+_7b.id+";\n"+_88+"\n};\nWebSquare.scope_obj=null;\n";}if(_86>2&&_86<8){if($W.executePointScriptArr[_86]==undefined){$W.executePointScriptArr[_86]=[];}$W.executePointScriptArr[_86].push(_88);}else{_7b.frameDoc.scriptSection+=_88;}}else{if(_86>2&&_86<8){if($W.executePointScriptArr[_86]==undefined){$W.executePointScriptArr[_86]=[];}$W.executePointScriptArr[_86].push(_88);}else{$W.scriptSection+=_88;}}}}}}}if(!_7d){$W._N.executePointScript(3);}}else{alert($W._m.getMessage("E_Parser_MoreThanOneHeadError",_7f.length));return false;}}catch(e){$W.exception.printStackTrace(e);}return true;};$W._o.WebSquareParser.prototype.parseControls=function(_89){["WebSquare.Parser.WebSquareParser.parseControls"];try{var _8a=[];for(var _8b=_89.firstChild;_8b!=null;_8b=_8b.nextSibling){var tag=$W._B.getLocalName(_8b);if(tag!="label"){if(_8b.namespaceURI==$W._N._XML_NAMESPACE["XFORMS"]||_8b.namespaceURI==$W._N._XML_NAMESPACE["W2"]){if(tag=="switch"){$W._h["{"+_8b.namespaceURI+"}"+tag]="uiplugin.Switch";$W._v["{"+_8b.namespaceURI+"}"+tag]="WebSquare.uiplugin.Switch";_8a.push(_8b);}else{$W._h["{"+_8b.namespaceURI+"}"+tag]="uiplugin."+tag;$W._v["{"+_8b.namespaceURI+"}"+tag]="WebSquare.uiplugin."+tag;_8a.push(_8b);}}else{if($W._N.matchExtNamespace(_8b.namespaceURI)){var _8d=$W._N.EXT_PLUGIN[_8b.namespaceURI][tag];$W._h["{"+_8b.namespaceURI+"}"+tag]=_8d.src;$W._v["{"+_8b.namespaceURI+"}"+tag]=_8d.className;_8a.push(_8b);}else{if(_8b.namespaceURI==$W._N._XML_NAMESPACE["XHTML"]){$W.WebSquaredoc.htmlElements.push(_8b);}}}}}return _8a;}catch(e){$W.exception.printStackTrace(e);}};$W._o.WebSquareParser.prototype.parseBody=function(_8e){["WebSquare.Parser.WebSquareParser.parseBody"];try{var _8f=$W._B.getElementsByTagName(_8e,"body",$W._N._XML_NAMESPACE.XHTML);if(_8f.length==1){var _90=_8f[0].getAttribute("style");if(_90!=null){$W.WebSquaredoc.bodyStyle=_90.value;}$W.WebSquaredoc.body=_8f[0];}else{alert($W._m.getMessage("E_Parser_MoreThanOneBodyError",_8f.length));}}catch(e){$W.exception.printStackTrace(e);}};$W._o.WebSquareParser.prototype.parseActions=function(_91){["WebSquare.Parser.WebSquareParser.parseActions"];};$W._o.WebSquareParser.prototype.findBindElement=function(_92){["WebSquare.Parser.WebSquareParser.findBindElement"];try{if(_92.attributes==null){return null;}if(_92.attributes.getNamedItem("bind")!=null){var _93=$W._J.getBind(_92.attributes.getNamedItem("bind").value);return _93;}return null;}catch(e){$W.exception.printStackTrace(e);}};$W._o.WebSquareParser.prototype.parseLabel=function(_94){["WebSquare.Parser.WebSquareParser.parseLabel"];var _95=$W._B.getElementsByTagName(_94,"label",$W._N._XML_NAMESPACE.XFORMS);if(_95[0]==null){return null;}var _96=_95[0];var _97=this.findBindElement(_96);var _98="";var _99=(_96.firstChild);if(_96.childNodes.length>1){for(var i=0;i<_96.childNodes.length;i++){if(_96.childNodes[i].nodeValue.wq_trim()!=""){_99=_96.childNodes[i];break;}}}if(typeof _99!="undefined"&&_99!=null){_98=_99.nodeValue;}else{_98="";}return new $W.WebSquareLabelControl(_96,_97,_98);};$W._o.WebSquareParser.prototype.parseChoices=function(_9b,_9c){["WebSquare.Parser.WebSquareParser.parseChoices"];var _9d=[];_9c=_9c||"xf";if(_9b){try{var _9e=_9b.nodeName;if(_9e.indexOf(":")>=0){_9c=_9e.split(":")[0];}}catch(e){}var _9f=(_9c=="xf")?$W._N._XML_NAMESPACE.XFORMS:$W._N._XML_NAMESPACE.W2;var _a0=$W._B.findNode(_9b,"./"+"/"+"*['"+"choices"+"'=local-name()]['"+_9f+"'=namespace-uri()]");if(_a0){var _a1=$W._B.findNodes(_a0,"./"+"/"+"*['"+"item"+"'=local-name()]['"+_9f+"'=namespace-uri()]");if(_a1){for(var i=0;i<_a1.length;++i){var _a3=_a1[i];var _a4="";var _a5=$W._B.findNode(_a3,"./*['"+"label"+"'=local-name()]['"+_9f+"'=namespace-uri()]");if(_a5){_a4=$W._B.getValue(_a5,"text()");}var _a6="";var _a7=$W._B.findNode(_a3,"./*['"+"value"+"'=local-name()]['"+_9f+"'=namespace-uri()]");if(_a7){_a6=$W._B.getValue(_a7,"text()");}_9d.push({label:_a4,value:_a6});}}}}return _9d;};$W._o.WebSquareParser.prototype.parseItemset=function(_a8,_a9){["WebSquare.Parser.WebSquareParser.parseItemset"];var _aa={nodeset:"",label:"",value:""};try{if(_a8){_a9=_a9||"xf";try{var _ab=_a8.nodeName;if(_ab.indexOf(":")>=0){_a9=_ab.split(":")[0];}}catch(e){}var _ac=(_a9=="xf")?$W._N._XML_NAMESPACE.XFORMS:$W._N._XML_NAMESPACE.W2;var _ad=$W._B.findNode(_a8,"*['"+"choices"+"'=local-name()]['"+_ac+"'=namespace-uri()]");if(_ad){var _ae=$W._B.findNode(_ad,"*['"+"itemset"+"'=local-name()]['"+_ac+"'=namespace-uri()]");if(_ae){var _af=$W._B.getValue(_ae,"@nodeset");var _b0=$W._B.findNode(_ae,"*['"+"label"+"'=local-name()]['"+_ac+"'=namespace-uri()]");var _b1=$W._B.findNode(_ae,"*['"+"value"+"'=local-name()]['"+_ac+"'=namespace-uri()]");var _b2=$W._B.getValue(_b0,"@ref");var _b3=$W._B.getValue(_b1,"@ref");_aa.nodeset=_af;_aa.label=_b2;_aa.value=_b3;}}else{var _ae=$W._B.findNode(_a8,"*['"+"itemset"+"'=local-name()]['"+_ac+"'=namespace-uri()]");if(_ae){var _af=$W._B.getValue(_ae,"@nodeset");var _b0=$W._B.findNode(_ae,"*['"+"label"+"'=local-name()]['"+_ac+"'=namespace-uri()]");var _b1=$W._B.findNode(_ae,"*['"+"value"+"'=local-name()]['"+_ac+"'=namespace-uri()]");var _b2=$W._B.getValue(_b0,"@ref");var _b3=$W._B.getValue(_b1,"@ref");_aa.nodeset=_af;_aa.label=_b2;_aa.value=_b3;}}}}catch(e){$W.exception.printStackTrace(e);}return _aa;};$W._o.WebSquareParser.prototype.parseAttribute=function(_b4){["WebSquare.Parser.WebSquareParser.parseAttribute"];try{return $W._o.parseAttribute(_b4);}catch(e){$W.exception.printStackTrace(e);}};$W._o.WebSquareParser.prototype.parseEvent=function(_b5,_b6){["WebSquare.Parser.WebSquareParser.parseEvent"];try{var _b7=[];var id=_b5.getAttribute("id");var _b9=_b5.nodeName;var _ba=null;if(id==null||id==""){_ba="";id="";}else{_ba=id;id=id+".";}for(var _bb=_b5.firstChild;_bb!=null;_bb=_bb.nextSibling){var _bc="";var _bd=$W._B.nodeInfoObj(_bb);var _be=_bd.nodeName;var uri=_bd.uri;if((_bb.nodeType==1)&&_be=="script"){var _c0={};var _c1=_bb.attributes;for(var j=0;j<_c1.length;j++){var att=_c1[j];if($W._B.matchNode(att,"event",$W._N._XML_NAMESPACE.EVENTS)){_bc=$W.nodeValueDeprecated?att.value:att.nodeValue;break;}}var _c4=_bb.getAttribute("disabled");var _c5=0;for(var _c6=_bb.firstChild;_c6!=null;_c6=_c6.nextSibling){if(_c6.nodeType==4){var _c7="( e )";var idx=_bc.indexOf("(");if(idx>-1){_c7=_bc.substring(idx);_bc=_bc.substring(0,idx);}var _c9=_c6.nodeValue;if(_b6&&_b6.options.scope){_c9="WebSquare.scope_obj="+_b6.id+";\nwith(WebSquare.util.getComponentById('"+_b6.id+"').scope){\n var udc_obj = "+_b6.id+";\n"+_c9+"\n};\nWebSquare.scope_obj=null;\n";}_c0.handler="function"+_c7+"{ try {[\""+id+_bc.toLowerCase()+"\"]; function "+_ba+"_"+_c5++ +"() {}; "+_c9+" } catch(eee) {eee.componentID =  \""+_ba+"\"; eee.eventName = \""+_bc.toLowerCase()+"\"; eee.componentName = \""+_b9+"\"; WebSquare.exception.printStackTrace(eee);} }";_b7.push(new $W._L.XmlEvent(_bc.toLowerCase(),"script",_c0,_c4));break;}}}}if(_b7.length==0){return null;}else{return _b7;}}catch(e){$W.exception.printStackTrace(e);}};$W._o.WebSquareParser.prototype.parseEventAttributes=function(_ca){var _cb={};var _cc=_ca.attributes;for(var j=0;j<_cc.length;j++){if($W._B.matchNode(_cc[j],"event",$W._N._XML_NAMESPACE.EVENTS)){var _ce=($W.nodeValueDeprecated)?_cc[j].value:_cc[j].nodeValue;var idx=_ce.indexOf("(");if(idx>-1){parameter=_ce.substring(idx);_ce=_ce.substring(0,idx);}_cb.eventName=_ce.toLowerCase();}else{var idx=_cc[j].nodeName.indexOf(":");if(idx>-1){_cb[_cc[j].nodeName.substring(idx+1)]=$W.nodeValueDeprecated?_cc[j].value:_cc[j].nodeValue;}else{_cb[_cc[j].nodeName]=$W.nodeValueDeprecated?_cc[j].value:_cc[j].nodeValue;}}}for(var _d0=_ca.firstChild;_d0!=null;_d0=_d0.nextSibling){if(_d0.nodeType==4||_d0.nodeType==3){_cb._text=_d0.nodeValue;break;}}return _cb;};$W._o.WebSquareParser.prototype.getAttribute=function(_d1,key,_d3){var _d4=_d1.getAttribute(key);if(_d4==null||_d4==""){if(typeof _d3!="undefined"){return _d3;}else{return "";}}return _d4;};$W._o.WebSquareParser.prototype.parseAttributesNode=function(_d5){var _d6=null;var _d7=[];for(var i=0;i<_d5.childNodes.length;i++){if(_d5.childNodes[i].nodeName=="w2:attributes"){_d6=_d5.childNodes[i];break;}}if(_d6){var _d9=_d6.childNodes;for(var i=0;i<_d9.length;i++){if(_d9[i].nodeType==1){var _da=$W._B.getLocalName(_d9[i]);var obj={name:_da,ref:_d9[i].getAttribute("ref"),value:$W._B.getTextNodeValue(_d9[i])};_d7.push(obj);_d7[_da]=obj;}}}return _d7;};$W._o.WebSquareParser.prototype.attributesItem=function(obj){this.name=obj.name;this.ref=obj.ref;this.value=obj.value;};$W._o.WebSquareParser.prototype.attributesItem.prototype.setValue=function(_dd){this.value=_dd;};$W._o.WebSquareParser.prototype.attributesItem.prototype.getValue=function(){return this.value;};$W._o.WebSquareParser.prototype.parseWorkflows=function(_de,_df){["WebSquare.Parser.WebSquareParser.parseWorkflows"];try{var _e0=$W._B.getElementsByTagName(_de,"workflow",$W._N._XML_NAMESPACE.W2);var _e1=[];for(var i=0;i<_e0.length;i++){_e1.push(this.parseWorkflow(_e0[i],_de,_df));}return _e1;}catch(e){$W.exception.printStackTrace(e);}};$W._o.WebSquareParser.prototype.parseWorkflow=function(_e3,_e4,_e5){["WebSquare.Parser.WebSquareParser.parseWorkflow"];try{var id=$W.WebSquareparser.getAttribute(_e3,"id");var _e7=$W.WebSquareparser.getAttribute(_e3,"resolveCallback","");var _e8=$W.WebSquareparser.getAttribute(_e3,"rejectCallback","");var _e9=$W.WebSquareparser.getAttribute(_e3,"processMsg","");if(_e9==""){_e9=$W._N.getConfiguration("/WebSquare/workflow/processMsg/@value");}var _ea=$W._B.getElementsByTagName(_e3,"step",$W._N._XML_NAMESPACE.W2);var _eb=[];for(var i=0;i<_ea.length;i++){var _ed=_ea[i];var _ee={};for(var k=0;k<_ed.attributes.length;k++){if($W.nodeValueDeprecated){_ee[_ed.attributes[k].name]=_ed.attributes[k].value;}else{_ee[_ed.attributes[k].nodeName]=_ed.attributes[k].nodeValue;}}_eb.push(_ee);}var _f0=id;var _f1=null;if(_e5&&_e5.options&&_e5.options.scope){id=_e5.id+"_"+_f0;_f1=_e5.id;}var ret=new $W.Model.Workflow(_e4,_e3,id,_e7,_e8,_e9,_eb,_f1);if(_e5&&_e5.options&&_e5.options.scope){_e5.scope[_f0]=ret;}return ret;}catch(e){$W.exception.printStackTrace(e);}};$W._o.parseExternalScript=function(_f3){["WebSquare.Parser.parseExternalScript"];try{var uri=_f3.uri;if(!uri){return;}var _f5=_f3.cache;var _f6=_f3.frameObj;var _f7=_f3.pageInherit;var _f8=_f3.lazy;var _f9=false;if(_f5==null||_f5===""){_f5=$W._N.getConfiguration("/WebSquare/spa/scriptCache/@value");}var URL=$W._N.getURL(uri);if(_f5==null||_f5.toLowerCase()!="false"){if(typeof $W.scriptCachedList[URL]=="undefined"||$W.scriptCachedList[URL]===null){if($W._N.getConfiguration("/WebSquare/spa/scriptCache/@value")==="false"){$W.scriptCachedList[URL]=0;}else{$W.scriptCachedList[URL]=1;}}if($W.scriptCachedList[URL]>1){_f9=true;$W.scriptCachedList[URL]++;}else{if(_f5.toLowerCase()=="true"){$W.scriptCachedList[URL]++;}}}else{$W.scriptCachedList[URL]=0;}if(!_f9){if(_f6){if(_f8=="defer"){if($W.scriptSectionExcuteFlag=="executed"){_f6.lazyImportsArr.push(URL);}else{$W.lazyImportsArr.push(URL);}}else{if(_f7){$W.pageInheritScriptArr.push(URL);}else{$W.externalScriptArr.push(URL);}}}else{if(_f8=="defer"){$W.lazyImportsArr.push(URL);}else{if(_f7){$W.pageInheritScriptArr.push(URL);}else{$W.externalScriptArr.push(URL);}}}}}catch(e){$W.exception.printStackTrace(e);}};$W._o.parseAttribute=function(_fb){["WebSquare.Parser.parseAttribute"];try{var _fc={};var _fd=_fb.attributes||_fb.documentElement.attributes;for(var i=0,len=_fd.length;i<len;i++){var _ff=_fd[i];var name=_ff.name;var _101=_ff.value;if(name=="class"){_fc["className"]=_101;}else{if(_101.wq_trim()!==""){_fc[name]=_101;}}}return _fc;}catch(e){$W.exception.printStackTrace(e);}};;WebSquare.importsQueue=$W._h;;WebSquare.Parser=$W._o;;WebSquare.controlMatchmarks=$W._v;$W.Model=function(_1,_2,_3,_4,_5){["WebSquare.Model"];try{$W.WebSquareObject.call(this,_1,true);this.instances=_2;this.binds=_3;this.submissions=_4;this.id=_1.getAttribute("id");this.element=_1;this.workflows=_5;}catch(e){$W.exception.printStackTrace(e);}};$W.Model.inherit($W.WebSquareObject);$W.Model.prototype.rebuild=function(_6,_7){["WebSquare.Model.rebuild"];try{var _8=$W._J.getInstanceByXPath(_7);if($W._B.hasChildElement(_8.xmlNode)){if(typeof _6=="string"){var _9=$W._B.getFirstChildElement(_8.xmlNode);_7=$W._J.filterInstanceFunction(_7);if(_7==""){_7=".";}var _a=$W._B.createNode(_9,_7);var _b=_a.ownerDocument.createTextNode(_6);$W._B.appendChild(_a,_b);$W.WebSquaredoc.unrender(_7,null,_8.id);}else{var _c=_6.documentElement.nodeName;var _9=$W._B.getFirstChildElement(_8.xmlNode);_7=$W._J.filterInstanceFunction(_7);if(_7==""){_7=".";}else{_c=_7+"/"+_c;}var _a=$W._B.createNode(_9,_7);for(var _d=_a.firstChild;_d!=null;_d=_d.nextSibling){if(_d.nodeName==_6.documentElement.nodeName){_a.removeChild(_d);break;}}$W._B.appendChild(_a,_6.documentElement);$W.WebSquaredoc.unrender(_c,null,_8.id);}}else{alert($W._m.getMessage("E_Model_NoChildNodeOfInstance"));}}catch(e){$W.exception.printStackTrace(e);}};$W.Model.prototype.refresh=function(_e){["WebSquare.Model.refresh"];try{for(var i=0;i<$W.WebSquaredoc.boundElement.length;i++){var _10=$W.WebSquaredoc.boundElement[i];var _11=_10.id;var _12=$W._N.getComponentById(_11);if(typeof _12=="undefined"){continue;}if(typeof _12.hasbeenrendered!="undefined"&&_12.hasbeenrendered!=null&&_12.hasbeenrendered==false){if(!_12.modelControl.useRef&&_12.modelControl.ref){}_12.hasbeenrendered=true;_12.refresh();}}for(var k in $W.WebSquaredoc.itemsetElement){var _14=$W.WebSquaredoc.itemsetElement[k];var _15=_14.id;var _16=$W._N.getComponentById(_15);if(typeof _16=="undefined"){continue;}if(typeof _16.itemsetrendered!="undefined"&&_16.itemsetrendered!=null&&_16.itemsetrendered==false){if(!_16.modelControl.useRef&&_16.modelControl.ref){}_16.itemsetrendered=true;_16.refreshItemset(_e);}}for(var j in $W.WebSquaredoc.refElement){var _18=$W.WebSquaredoc.refElement[j];var _19=_18.id;var ref=$W._N.getComponentById(_19);if(typeof ref=="undefined"){continue;}if(typeof ref.hasbeenrendered!="undefined"&&ref.hasbeenrendered!=null&&ref.hasbeenrendered==false){if(!ref.modelControl.useRef&&ref.modelControl.ref){}ref.hasbeenrendered=true;ref.refresh();}}}catch(e){$W.exception.printStackTrace(e);}};$W.Model.Instance=function(_1b,_1c,_1d){["WebSquare.Model.Instance"];try{$W.WebSquareObject.call(this,_1b,true);this.document=_1c;this.source=_1d;this.id=_1b.getAttribute("id");}catch(e){$W.exception.printStackTrace(e);}};$W.Model.Instance.inherit($W.WebSquareObject);$W.Model.Bind=function(_1e,_1f,_20,_21,id){["WebSquare.Model.Bind"];try{$W.WebSquareObject.call(this,_1e,_21!=null);this.type=_1f;this.xpath=_20;this.properties=(_21!=null)?_21:{};this.id=id;}catch(e){$W.exception.printStackTrace(e);}};$W.Model.Bind.inherit($W.WebSquareObject);$W.Model.Submission=function(_23){["WebSquare.Model.Submission"];try{$W.WebSquareObject.call(this,_23.element,true);this.parentElement=_23.parentElement;this.id=_23.id;this.bind=_23.bind;this.action=_23.action;this.mode=_23.mode;this.method=_23.method;this.mediatype=_23.mediatype;this.encoding=_23.encoding;this.ref=_23.ref;this.target=_23.target;this.replace=_23.replace;this.instance=_23.instance;this.customHandler=_23.customHandler;this.errorHandler=_23.errorHandler;this.processMsg=_23.processMsg;this.soapaction=_23.soapaction;this.startTime=null;this.endTime=null;this.processStatus=0;this.singleMode=_23.singleMode;this.hideProcessMsg=_23.hideProcessMsg;this.abortTrigger=_23.abortTrigger;this.scope_id=_23.scope_id;this.withCredentials=_23.withCredentials;this.useModal=_23.useModal;this.linkedObj=[];if(_23.xmlEvents!=null&&_23.xmlEvents.length>0){$W._c.addUserEvents(this,_23.xmlEvents);}this.timeout=_23.timeout;this.setRequestData=function(_24){this.requestData=_24;};}catch(e){$W.exception.printStackTrace(e);}};$W.Model.Submission.inherit($W.WebSquareObject);$W.Model.Workflow=function(_25,_26,id,_28,_29,_2a,_2b,_2c){["WebSquare.Model.Workflow"];try{$W.WebSquareObject.call(this,_26,true);this.parentElement=_25;this.id=id;this.scope_id=_2c;this.resolveCallback=_28||null;this.rejectCallback=_29||null;this.processMsg=_2a;this.step=_2b;this.promiseStatus=null;this.promiseValue=null;this.conditionStatus=true;this.reject=function(msg){this.promiseStatus="REJECT";this.promiseValue=msg||"REJECT";};}catch(e){$W.exception.printStackTrace(e);}};$W.Model.Workflow.inherit($W.WebSquareObject);$W._e={};$W._e.WebSquareAction=function(_1){["WebSquare.Actions.WebSquareAction"];try{if(arguments.length==0){return;}$W.WebSquareObject.call(this,_1,true);}catch(e){$W.exception.printStackTrace(e);}};$W._e.WebSquareAction.inherit($W.WebSquareObject);$W._e.WebSquareAction.prototype.execute=function(){["WebSquare.Actions.WebSquareAction.execute"];};$W._e.WebSquareAction.prototype.activate=function(){["WebSquare.Actions.WebSquareAction.activate"];};$W._e.WebSquareSendAction=function(_2,_3){["WebSquare.Actions.WebSquareSendAction"];try{$W._e.WebSquareAction.call(this,_2);this.submission=_3;}catch(e){$W.exception.printStackTrace(e);}};$W._e.WebSquareSendAction.inherit($W._e.WebSquareAction);$W._e.WebSquareSendAction.prototype.activate=function(){["WebSquare.Actions.WebSquareSendAction.activate"];$W._J.executeSubmission(this.submission);};$W._e.WebSquareSendAction.prototype.toString=function(){["WebSquare.Actions.WebSquareSendAction.activate"];return "send";};$W._e.WebSquarePopupAction=function(_4){["WebSquare.Actions.WebSquarePopupAction"];try{this.popupName=$W._G.getObjectValue(_4,"popupName","WebSquarePopup");this.useIFrame=$W._G.getObjectValue(_4,"useIFrame","false");this.style=$W._G.getObjectValue(_4,"style","");this.modal=$W._G.getObjectValue(_4,"modal","true");this.src=$W._G.getObjectValue(_4,"src","");this.srcModelID=$W._G.getObjectValue(_4,"srcModelID","");this.destModelID=$W._G.getObjectValue(_4,"destModelID","");this.srcData=$W._G.getObjectValue(_4,"srcData","");this.destData=$W._G.getObjectValue(_4,"destData","");this.url=$W._G.getObjectValue(_4,"url","");this.id=$W._G.getObjectValue(_4,"id","WebSquarePopup");this.type=$W._G.getObjectValue(_4,"type","window");if(this.style==""){if(this.useIFrame=="true"){this.style="top:100px; left:100px; width:420px; height:200px";}else{this.style="top:100px; left:100px; width:420px; height:200px;scrollbars:yes; resizable:yes; location:no; menubar:no; status:no; titlebar:yes; toolbar:no";}}}catch(e){$W.exception.printStackTrace(e);}};$W._e.WebSquarePopupAction.inherit($W._e.WebSquareAction);$W._e.WebSquarePopupAction.prototype.activate=function(){["WebSquare.Actions.WebSquarePopupAction.activate"];try{requires("uiplugin.popup");var _5=new $W._a.aL(this.id,this.type,this);_5.show();}catch(e){$W.exception.printStackTrace(e);}};$W._e.WebSquareUploadAction=function(_6){["WebSquare.Actions.WebSquareUploadAction"];try{this.bind=$W._G.getObjectValue(_6,"bind",null);if(typeof this.bind=="undefined"||this.bind==null||this.bind==""){this.xpath=$W._G.getObjectValue(_6,"xpath",undefined);}else{var _7=$W._J.getBind(this.bind);if(typeof _7!="undefined"&&_7!=null){this.xpath=$W._G.getObjectValue(_7,"xpath",undefined);}}this.modelID=$W._G.getObjectValue(_6,"modelID",null);this.fileNumber=$W._G.getObjectValue(_6,"fileNumber",1);this.mode=$W._G.getObjectValue(_6,"mode",1);this.title=$W._G.getObjectValue(_6,"title","");this.message=$W._G.getObjectValue(_6,"message","");this.url=$W._G.getObjectValue(_6,"url",undefined);this.popupType=$W._G.getObjectValue(_6,"popupType","true");this.popupName=$W._G.getObjectValue(_6,"popupName","Upload");this.modal=$W._G.getObjectValue(_6,"modal","true");this.style=$W._G.getObjectValue(_6,"style","");if(this.style==""){if(this.popupType=="true"){this.style="top:100px; left:100px; width:420px; height:200px";}else{this.style="top:100px; left:100px; width:420px; height:200px;scrollbars:yes; resizable:yes; location:no; menubar:no; status:no; titlebar:yes; toolbar:no";}}}catch(e){$W.exception.printStackTrace(e);}};$W._e.WebSquareUploadAction.inherit($W._e.WebSquareAction);$W._e.WebSquareUploadAction.prototype.activate=function(){["WebSquare.Actions.WebSquareUploadAction.activate"];requires("uiplugin.popup");var _8={};if(typeof this.url!="undefined"&&this.url!=null&&this.url.wq_trim()!=""){_8.src=this.url;}else{_8.src=$W.baseURI+"uiplugin/upload/upload.xml";}_8.useIFrame=this.popupType;_8.style=this.style;_8.popupName=this.popupName;_8.modal=this.modal;this.files=$W._J.getInstanceValue(this.xpath+"/fileList");this.fileKey=$W._J.getInstanceValue(this.xpath+"/key");var _9=$W._G.objToXML(this);var _a=new $W._a.aL("uploadPopup","window",_8,_9);_a.show();};$W._e.WebSquareSetValueAction=function(_b,_c,_d,_e,id,_10){["WebSquare.Actions.WebSquareSetValueAction"];try{$W._e.WebSquareAction.call(this,_b);this.bind=_c;if(_c==null){this.xpath=_d;}else{this.xpath=_c.xpath;}this.value=_e;this.id=id;this.modelID=_10;}catch(e){$W.exception.printStackTrace(e);}};$W._e.WebSquareSetValueAction.inherit($W._e.WebSquareAction);$W._e.WebSquareSetValueAction.prototype.activate=function(){["WebSquare.Actions.WebSquareSetValueAction.activate"];try{var v=$W._J.findInstanceNode(this.xpath,this.modelID);if(v==null){return false;}var obfuscator_targetNode=null;if(v.nodeType==1){for(var _12=v.firstChild;_12!=null;_12=_12.nextSibling){if(_12.nodeType==3){obfuscator_targetNode=_12;break;}}}else{obfuscator_targetNode=v;}if(obfuscator_targetNode==null){obfuscator_targetNode=v.ownerDocument.createTextNode(this.value);$W._B.appendChild(v,obfuscator_targetNode);}var _13=eval("obfuscator_targetNode");_13.nodeValue=this.value;$W.WebSquaredoc.detectChange(this.xpath,this.id,this.modelID);}catch(e){$W.exception.printStackTrace(e);}};$W._e.WebSquareSetValueAction.prototype.toString=function(){["WebSquare.Actions.WebSquareSetValueAction.toString"];try{return "setValue";}catch(e){$W.exception.printStackTrace(e);}};;WebSquare.Actions=$W._e;(function(){var _1;if(typeof window==="object"&&window){_1=window;}else{_1=global;}if(typeof module!=="undefined"&&module.exports){module.exports=_1.Promise?_1.Promise:Promise;}else{if(!_1.Promise){_1.Promise=Promise;}}var _2=_1.setImmediate||function(fn){setTimeout(fn,1);};function bind(fn,_5){return function(){fn.apply(_5,arguments);};}var _6=Array.isArray||function(_7){return Object.prototype.toString.call(_7)==="[object Array]";};function Promise(fn){if(typeof this!=="object"){throw new TypeError("Promises must be constructed via new");}if(typeof fn!=="function"){throw new TypeError("not a function");}this._state=null;this._value=null;this._deferreds=[];doResolve(fn,bind(resolve,this),bind(reject,this));}function handle(_9){var me=this;if(this._state===null){this._deferreds.push(_9);return;}_2(function(){var cb=me._state?_9.onFulfilled:_9.onRejected;if(cb===null){(me._state?_9.resolve:_9.reject)(me._value);return;}var _c;try{_c=cb(me._value);}catch(e){_9.reject(e);return;}_9.resolve(_c);});}function resolve(_d){try{if(_d===this){throw new TypeError("A promise cannot be resolved with itself.");}if(_d&&(typeof _d==="object"||typeof _d==="function")){var _e=_d.then;if(typeof _e==="function"){doResolve(bind(_e,_d),bind(resolve,this),bind(reject,this));return;}}this._state=true;this._value=_d;finale.call(this);}catch(e){reject.call(this,e);}}function reject(_f){this._state=false;this._value=_f;finale.call(this);}function finale(){for(var i=0,len=this._deferreds.length;i<len;i++){handle.call(this,this._deferreds[i]);}this._deferreds=null;}function Handler(_11,_12,_13,_14){this.onFulfilled=typeof _11==="function"?_11:null;this.onRejected=typeof _12==="function"?_12:null;this.resolve=_13;this.reject=_14;}function doResolve(fn,_16,_17){var _18=false;try{fn(function(_19){if(_18){return;}_18=true;_16(_19);},function(_1a){if(_18){return;}_18=true;_17(_1a);});}catch(ex){if(_18){return;}_18=true;_17(ex);}}Promise.prototype["catch"]=function(_1b){return this.then(null,_1b);};Promise.prototype.then=function(_1c,_1d){var me=this;return new Promise(function(_1f,_20){handle.call(me,new Handler(_1c,_1d,_1f,_20));});};Promise.all=function(){var _21=Array.prototype.slice.call(arguments.length===1&&_6(arguments[0])?arguments[0]:arguments);return new Promise(function(_22,_23){if(_21.length===0){return _22([]);}var _24=_21.length;function res(i,val){try{if(val&&(typeof val==="object"||typeof val==="function")){var _27=val.then;if(typeof _27==="function"){_27.call(val,function(val){res(i,val);},_23);return;}}_21[i]=val;if(--_24===0){_22(_21);}}catch(ex){_23(ex);}}for(var i=0;i<_21.length;i++){res(i,_21[i]);}});};Promise.resolve=function(_2a){if(_2a&&typeof _2a==="object"&&_2a.constructor===Promise){return _2a;}return new Promise(function(_2b){_2b(_2a);});};Promise.reject=function(_2c){return new Promise(function(_2d,_2e){_2e(_2c);});};Promise.race=function(_2f){return new Promise(function(_30,_31){for(var i=0,len=_2f.length;i<len;i++){_2f[i].then(_30,_31);}});};})();(function(){$W._J={};$W._J.setBindElement=function(_33,id,_35){var _36=$W._J.getModelByID(_35);var _37=_36.instances[0].id;if(!_33.startsWith("instance(")&&_37!=null){_33=$W._J.concatInstanceFunction(_33,_37);}else{if(_33.indexOf("\"")>-1){_33=_33.replace("\"","'");}}if(typeof $W.WebSquaredoc.boundElementCache[_33]=="undefined"||$W.WebSquaredoc.boundElementCache[_33]==null){$W.WebSquaredoc.boundElementCache[_33]={};}$W.WebSquaredoc.boundElementCache[_33][id]=id;};$W._J.setItemsetElement=function(_38,id,_3a){var _3b=$W._J.getModelByID(_3a);var _3c=_3b.instances[0].id;if(!_38.startsWith("instance(")&&_3c!=null){_38=$W._J.concatInstanceFunction(_38,_3c);}else{if(_38.indexOf("\"")>-1){_38=_38.replace("\"","'");}}if(typeof $W.WebSquaredoc.boundElementCache[_38]=="undefined"||$W.WebSquaredoc.boundElementCache[_38]==null){$W.WebSquaredoc.boundElementCache[_38]={};}$W.WebSquaredoc.boundElementCache[_38][id]=id;};$W._J.getBind=function(_3d,_3e){["WebSquare.ModelUtil.getBind"];try{var _3f=$W._J.getModelByID(_3e);for(var i in _3f.binds){var _41=$W.WebSquaredoc.models[0].binds[i];if(_41.id==_3d){return _41;}}return null;}catch(e){$W.exception.printStackTrace(e);}};$W._J.filterInstanceFunction=function(_42){if(_42.startsWith("instance(")){_42=_42.substring(_42.indexOf(")")+2,_42.length);}return _42;};$W._J.concatInstanceFunction=function(_43,_44){var str=_43;if(!_43.startsWith("instance(")){str="instance('"+_44+"')"+"/"+_43;}return str;};$W._J.findInstanceNode=function(_46,_47){["WebSquare.ModelUtil.findInstanceNode"];try{var _48=$W._J.getInstanceByXPath(_46,_47);_46=$W._J.filterInstanceFunction(_46);var v=$W._B.findNode(_48.document,_46);return v;}catch(e){$W.exception.printStackTrace(e);}};$W._J.findSerializedNode=function(_4a,_4b){["WebSquare.ModelUtil.findInstanceNode"];try{return $W._B.serialize($W._J.findInstanceNode(_4a,_4b));}catch(e){$W.exception.printStackTrace(e);}};$W._J.findInstanceNodes=function(_4c,_4d){["WebSquare.ModelUtil.findInstanceNode"];try{var _4e=$W._J.getInstanceByXPath(_4c,_4d);_4c=$W._J.filterInstanceFunction(_4c);var v=$W._B.findNodes(_4e.document,_4c);return v;}catch(e){$W.exception.printStackTrace(e);}};$W._J.getInstanceValue=function(_50,_51){["WebSquare.ModelUtil.getInstanceValue"];try{var str="";var v=$W._J.findInstanceNode(_50,_51);if(v==null){return "";}if(v.nodeType==1){for(var _54=v.firstChild;_54!=null;_54=_54.nextSibling){if(_54.nodeType==3||_54.nodeType==4){str+=_54.nodeValue;}}}else{return v.nodeValue;}return str;}catch(e){$W.exception.printStackTrace(e);}};$W._J.setInstanceValue=function(_55,_56,_57){["WebSquare.ModelUtil.setInstanceValue"];return $W._J._setInstanceValue({"xpath":_55,"value":_56,"modelID":_57});};$W._J._setInstanceValue=function(obj){["WebSquare.ModelUtil._setInstanceValue"];try{var _59=obj.xpath;var _5a=obj.value;var _5b=obj.modelID;var _5c=!!obj.noRefresh;var _5d=$W._J.getInstanceByXPath(_59,_5b);_5a=(typeof _5a=="undefined"||_5a==null)?"":_5a+"";if(_59.lastIndexOf("/@")!=-1&&_59.lastIndexOf("/")==_59.lastIndexOf("/@")){var _5e=_59.lastIndexOf("/@");var _5f=_59.substring(_5e+2);var _60=_59.substring(0,_5e);var obfuscator_v=$W._J.findInstanceNode(_60,_5b);if(obfuscator_v==null){var _61=$W._B.createNode(_5d.document,_60);if(_61==null){return false;}_61.setAttribute(_5f,_5a);}else{obfuscator_v.setAttribute(_5f,_5a);}if(!_5c){$W.WebSquaredoc.detectChange(_59,undefined,_5b);}}else{var _61=$W._J.findInstanceNode(_59,_5b);if(_61==null){var _61=$W._B.createNode(_5d.document,_59);if(_61==null){return false;}}if(_61.firstChild==null){var _62=_61.ownerDocument.createTextNode(_5a);$W._B.appendChild(_61,_62);}else{_61.firstChild.nodeValue=_5a;}if(!_5c){$W.WebSquaredoc.detectChange(_59,undefined,_5b);}}}catch(e){$l("ERROR["+_59+"] ["+_5a+"] at WebSquare.ModelUtil.setInstanceValue ");$W.exception.printStackTrace(e);return false;}return true;};$W._J.getModelByID=function(_63){if(typeof _63!="undefined"&&_63!=null&&_63!=""){for(var k=0;k<$W.WebSquaredoc.models.length;k++){if($W.WebSquaredoc.models[k].id==_63){return $W.WebSquaredoc.models[k];}}}else{return $W.WebSquaredoc.models[0];}return null;};$W._J.getInstanceByXPath=function(_65,_66){var _67=$W._J.getModelByID(_66);var _65=_65.wq_trim();if(_65.startsWith("instance(")){var a=_65.indexOf("(");var b=_65.indexOf(")");var _6a=eval(_65.substring(a+1,b));for(var i in _67.instances){var _6c=_67.instances[i];if(_6c.id==_6a){return _6c;}}return _67.instances[0];}else{return _67.instances[0];}};$W._J.getInstanceByID=function(id,_6e){var _6f=$W._J.getModelByID(_6e);try{for(var i in _6f.instances){var _71=_6f.instances[i];if(_71.id==id){return _71;}}}catch(e){$W.exception.printStackTrace(e);}return _6f.instances[0];};$W._J.getSubmission=function(id,_73){["WebSquare.ModelUtil.getSubmission"];try{var _74=$W._J.getModelByID(_73);var ret=null;for(var i in _74.submissions){var _77=_74.submissions[i];if($W.scope_obj&&_77.id==($W.scope_obj+"_"+id)){ret=_77;break;}if(_77.id==id){ret=_77;if($W.scope_obj==null){break;}}}return ret;}catch(e){$W.exception.printStackTrace(e);}};$W._J.executeSubmission=function(_78,_79,obj,_7b,_7c){["WebSquare.ModelUtil.executeSubmission"];$W.logger.printLog("WebSquare.ModelUtil.executeSubmission : "+_78);if(_78==null||_78==""){return;}try{var obfuscator_submissionObj=null;if(typeof _78=="string"){obfuscator_submissionObj=$W._J.getSubmission(_78);if(obfuscator_submissionObj==null){alert($W._m.getMessage("E_ModelUtil_NoSubmissionObjectWithID",_78));if(_7c!=undefined){_7c($W._m.getMessage("E_ModelUtil_NoSubmissionObjectWithID",_78));}return null;}}else{obfuscator_submissionObj=_78;if(obfuscator_submissionObj==null){alert($W._m.getMessage("E_ModelUtil_NoSubmissionObject",_78));if(_7c!=undefined){_7c($W._m.getMessage("E_ModelUtil_NoSubmissionObject",_78));}return null;}}$W._J.setSubmissionStart(obfuscator_submissionObj,obj);if(typeof _79!="undefined"){obfuscator_submissionObj.setRequestData(_79);}var _7d=$W._N.getConfiguration("/WebSquare/submission/customHandler/@value")||"";if(typeof obfuscator_submissionObj.customHandler!="undefined"){_7d=obfuscator_submissionObj.customHandler;}if(_7d==""||_7d=="default"){$W._J.defaultSubmissionHandler(obfuscator_submissionObj,_7b,_7c);}else{if(_7d.toLowerCase()=="proworks_soap"){$W._J.proworksSOAPHandler(obfuscator_submissionObj);}else{if(_7d){if(typeof _7d=="function"){_7d(obfuscator_submissionObj,_7b,_7c);}else{var _7e=$W._G.getGlobalFunction(_7d);_7e(obfuscator_submissionObj,_7b,_7c);}}else{$W._J.defaultSubmissionHandler(obfuscator_submissionObj,_7b,_7c);}}}}catch(e){$W.exception.printStackTrace(e);}};$W._J.createSubmission=function(_7f,_80){["WebSquare.ModelUtil.createSubmission"];try{var _81={};_81.id=_7f.id;_81.bind=_7f.bind||null;_81.action=_7f.action||$W._N.getConfiguration("/WebSquare/submission/action/@value");_81.mode=_7f.mode||$W._N.getConfiguration("/WebSquare/submission/mode/@value")||"asynchronous";_81.method=_7f.method||$W._N.getConfiguration("/WebSquare/submission/method/@value")||"POST";_81.mediatype=_7f.mediatype||$W._N.getConfiguration("/WebSquare/submission/mediatype/@value");_81.encoding=_7f.encoding||$W._N.getConfiguration("/WebSquare/submission/encoding/@value")||"UTF-8";_81.ref=_7f.ref||"";_81.target=_7f.target;_81.replace=_7f.replace;_81.instance=_7f.instance;_81.customHandler=_7f.customHandler||"";_81.errorHandler=_7f.errorHandler||$W._N.getConfiguration("/WebSquare/submission/errorHandler/@value");_81.processMsg=_7f.processMsg||$W._N.getConfiguration("/WebSquare/submission/processMsg/@value");_81.soapaction=_7f.soapaction||"";_81.startTime=null;_81.endTime=null;_81.processStatus=0;_81.linkedObj=[];_81.timeout=_7f.timeout||$W._N.getConfiguration("/WebSquare/submission/timeout/@value");_81.singlemode=_7f.singleMode||false;_81.hideProcessMsg=(_7f.hideProcessMsg===false||(_7f.hideProcessMsg!==true&&$W._N.getConfiguration("/WebSquare/submission/hideProcessMsg/@value")==="false"))?false:true;_81.abortTrigger=_7f.abortTrigger||false;_81.useModal=_7f.useModal||false;_81.setRequestData=function(_82){_81.requestData=_82;};_81.userEventList=[];var _83=_7f.submitHandler;var _84=_7f.submitDoneHandler;var _85=_7f.submitErrorHandler;_81.userEventList.push(new $W._L.XmlEvent("xforms-submit","script",{"handler":_83}));_81.userEventList.push(new $W._L.XmlEvent("xforms-submit-done","script",{"handler":_84}));_81.userEventList.push(new $W._L.XmlEvent("xforms-submit-error","script",{"handler":_85}));if(_81.mediatype==""){if(_81.method=="post"||_81.method=="POST"){_81.mediatype="application/xml";}}var _86=$W._J.getModelByID(_80);_81.parentElement=_86.xmlNode;_86.submissions.unshift(_81);}catch(e){$W.exception.printStackTrace(e);}};$W._J.deleteSubmission=function(_87,_88){["WebSquare.ModelUtil.deleteSubmission"];try{var _89=$W._J.getModelByID(_88).submissions;var ret=null;for(var i=0;i<_89.length;i++){if(_89[i].id===_87){ret=_89[i];_89[i].parentElement=null;_89.splice(i,1);break;}}return ret;}catch(e){$W.exception.printStackTrace(e);}};$W._J.proworksSOAPHandler=function(_8c){["WebSquare.ModelUtil.proworksSOAPHandler"];try{var _8d=_8c.id;var _8e={"id":_8d};if(_8c.processMsg!=""){$W.layer.addSubmissionMessage(_8d,_8c.processMsg);}var ret=$W._c.fireEvent(_8c,"xforms-submit",_8e);if(typeof ret!="undefined"&&ret==false){$W.logger.printLog("xforms-submit event\uc5d0\uc11c return\uc774 false\uc774\ubbc0\ub85c \ucc98\ub9ac\ub97c \uc911\ub2e8. : "+_8d);$W._J.setSubmissionEnd(_8c,"submission complete",null);$W.layer.deleteSubmissionMessage(_8d);return;}$W._J.doSubmitPreFunc(_8c);var obfuscator_http=$W._N.getXMLHTTPObject();_8c.obfuscator_http=obfuscator_http;var url=$W._G.getSubmissionURL(_8c.action);var _91=(_8c.mode=="synchronous")?false:true;var ref=_8c.ref;var _93=_8c.bind;var _94=_8c.target;var _95=_8c.replace;var _96=_8c.instance;var _97=_8c.encoding;var _98=_8c.mediatype;var _99=_8c.method;var _9a=_8c.action;var _9b=_8c.errorHandler;var _9c=_8c.requestData;var _9d=_8c.soapaction;var _9e=_8c.timeout;var _9f=null;if(_96!=""){var _a0=_8c.parentElement.getAttribute("id");if(_a0==null||_a0==""){_9f=$W._J.getInstanceByID(_96).document;}else{_9f=$W._J.getInstanceByID(_96,_a0).document;}}else{_9f=$W._B.getElementsByTagName(_8c.parentElement,"data")[0];}var e=null;if(typeof _9c!="undefined"&&_9c!=null){e=_9c;}else{if(ref==""){e=_9f;}else{e=$W._B.createNode(_9f,ref);}}var _a2=$W._B.serialize(e);var xml="<soapenv:Envelope soapenv:encodingStyle=\"http://schemas.xmlsoap.org/soap/encoding/\" xmlns=\"\" xmlns:apachsoap=\"http://xml.apache.org/xml-soap\" xmlns:soap=\"http://schemas.xmlsoap.org/wsdl/soap/\" xmlns:soapenc=\"http://schemas.xmlsoap.org/soap/encoding/\" xmlns:soapenv=\"http://schemas.xmlsoap.org/soap/envelope/\" xmlns:wsdl=\"http://schemas.xmlsoap.org/wsdl/\" xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"><soapenv:Header/><soapenv:Body><perform><in0>"+$W._B.encode(_a2)+"</in0></perform></soapenv:Body></soapenv:Envelope>";if(_99=="get"||_99=="urlencoded-post"){url+="?"+xml;xml="";}obfuscator_http.open(_99,url,_91);obfuscator_http.setRequestHeader("soapaction","\""+_9d+"\"");obfuscator_http.setRequestHeader("Content-Type",_98+"; charset=\""+_97+"\"");obfuscator_http.setRequestHeader("Accept",_98);obfuscator_http.setRequestHeader("submissionid",_8d);var _a4;if(_91){if(_9e){_a4=window.setTimeout(function(){obfuscator_http.onreadystatechange=function(){};obfuscator_http.abort();var _a5={"id":_8d,"errorType":"timeout-error","resourceUri":url,"time":_9e};$W._J.setSubmissionEnd(_8c,"submission error",_a5);$W.layer.deleteSubmissionMessage(_8d);$W._c.fireEvent(_8c,"xforms-submit-timeout",_a5);window.clearTimeout(_a4);return;},_9e);}obfuscator_http.onreadystatechange=function(){$W._J.soapcallback(obfuscator_http,_8c,_a4);};}obfuscator_http.send($W.requestID+xml);if(!_91){if((obfuscator_http["status"])&&((200>obfuscator_http.status)||(300<=obfuscator_http.status))){var _a6={"id":_8d,"errorType":"resource-error","resourceUri":url,"responseHeaders":$W._J.parseResponseHeader(obfuscator_http),"responseStatusCode":obfuscator_http["status"],"responseReasonPhrase":obfuscator_http["statusText"],"requestBody":$W._B.parse(_a2),"responseBody":obfuscator_http.responseText};$W._J.setSubmissionEnd(_8c,"submission error",_a6);$W.layer.deleteSubmissionMessage(_8d);$W._c.fireEvent(_8c,"xforms-submit-error",_a6);if($W.logger.globalDebug1||(typeof $W.logger.getGlobalDebug=="function"&&$W.logger.getGlobalDebug())){var obj=new Object();var re=/>[\s]*</g;obj["information"]="url          : "+url+"\nasync        : "+_91+"\nref          : "+ref+"\nbind         : "+_93+"\ntarget       : "+_94+"\nreplace      : "+_95+"\ninstance     : "+_96+"\nencoding     : "+_97+"\nmediatype    : "+_98+"\nmethod       : "+_99+"\naction       : "+_9a+"\nerrorHandler : "+_9b+"\nsoapaction   : "+_9d+"\nstatus       : "+obfuscator_http["status"]+"\nstatus text  : "+obfuscator_http["statusText"]+"\nresponseHeaders : "+$W._J.parseResponseHeader(obfuscator_http);obj["result"]=obfuscator_http.responseText.replace(re,">\n<");obj["input"]=xml.replace(re,">\n<");$W.logger.showDebugMsg(obj,"xml","ProWorks SOAP Submission (Sync Mode)");}obfuscator_http.onreadystatechange=function(){};obfuscator_http=null;_8c.obfuscator_http=null;return;}var obfuscator_xmlDocument=$W._J.getSoapReturn($W._B.parse(obfuscator_http.responseText));var obfuscator_submissionID=_8d;if(_9b!=""&&eval(_9b+"( obfuscator_xmlDocument, obfuscator_submissionID )")){var _a6={"id":_8d,"errorType":"target-error","resourceUri":url,"responseHeaders":$W._J.parseResponseHeader(obfuscator_http),"responseStatusCode":obfuscator_http["status"],"responseReasonPhrase":obfuscator_http["statusText"],"requestBody":$W._B.parse(_a2),"responseBody":obfuscator_xmlDocument};$W._J.setSubmissionEnd(_8c,"submission error",_a6);$W.layer.deleteSubmissionMessage(_8d);$W._c.fireEvent(_8c,"xforms-submit-error",_a6);if($W.logger.globalDebug1||(typeof $W.logger.getGlobalDebug=="function"&&$W.logger.getGlobalDebug())){var obj=new Object();var re=/>[\s]*</g;obj["information"]="url          : "+url+"\nasync        : "+_91+"\nref          : "+ref+"\nbind         : "+_93+"\ntarget       : "+_94+"\nreplace      : "+_95+"\ninstance     : "+_96+"\nencoding     : "+_97+"\nmediatype    : "+_98+"\nmethod       : "+_99+"\naction       : "+_9a+"\nerrorHandler : "+_9b+"\nsoapaction   : "+_9d+"\nstatus       : "+obfuscator_http["status"]+"\nstatus text  : "+obfuscator_http["statusText"]+"\nresponseHeaders : "+$W._J.parseResponseHeader(obfuscator_http);obj["result"]=obfuscator_http.responseText.replace(re,">\n<");obj["input"]=xml.replace(re,">\n<");$W.logger.showDebugMsg(obj,"xml","ProWorks SOAP Submission (Sync Mode)");}}else{if(_95=="instance"){$W.WebSquaredoc.models[0].rebuild($W._B.parse($W._B.serialize(obfuscator_xmlDocument)),_94);$W.WebSquaredoc.models[0].refresh();}else{if(_95=="text"){$W.WebSquaredoc.models[0].rebuild($W._B.serialize(obfuscator_xmlDocument),_94);$W.WebSquaredoc.models[0].refresh();}else{if(_95=="none"){}else{while(document.body.hasChildNodes()){$W.discardElement(document.body.firstChild);}$W.WebSquaredoc=null;$W.WebSquaredoc=new $W.WebSquareDocument(obfuscator_xmlDocument);$W.WebSquaredoc.parsing();}}}var _a9={"id":_8d,"resourceUri":url,"responseHeaders":$W._J.parseResponseHeader(obfuscator_http),"responseStatusCode":obfuscator_http["status"],"responseReasonPhrase":obfuscator_http["statusText"],"requestBody":$W._B.parse(_a2),"responseBody":obfuscator_xmlDocument};$W._J.setSubmissionEnd(_8c,"submission done",_a9);$W.layer.deleteSubmissionMessage(_8d);$W._c.fireEvent(_8c,"xforms-submit-done",_a9);if($W.logger.globalDebug1||(typeof $W.logger.getGlobalDebug=="function"&&$W.logger.getGlobalDebug())){var obj=new Object();var re=/>[\s]*</g;obj["information"]="url          : "+url+"\nasync        : "+_91+"\nref          : "+ref+"\nbind         : "+_93+"\ntarget       : "+_94+"\nreplace      : "+_95+"\ninstance     : "+_96+"\nencoding     : "+_97+"\nmediatype    : "+_98+"\nmethod       : "+_99+"\naction       : "+_9a+"\nerrorHandler : "+_9b+"\nsoapaction   : "+_9d+"\nstatus       : "+obfuscator_http["status"]+"\nstatus text  : "+obfuscator_http["statusText"]+"\nresponseHeaders : "+$W._J.parseResponseHeader(obfuscator_http);obj["result"]=obfuscator_http.responseText.replace(re,">\n<");obj["input"]=xml.replace(re,">\n<");$W.logger.showDebugMsg(obj,"xml","ProWorks SOAP Submission (Sync Mode)");}}obfuscator_http.onreadystatechange=function(){};obfuscator_http=null;_8c.obfuscator_http=null;}}catch(e){$W.layer.hideProcessMessage();}};$W._J.defaultcallback=function(obfuscator_http,_aa,_ab,_ac,_ad,_ae){try{if(obfuscator_http.readyState==4){if(_ab){window.clearTimeout(_ab);window.clearInterval(_ab);_ab=null;}if(_ad==undefined){var _af=commonResponseHandler(_aa,obfuscator_http,"async mode",_ac,_ad,_ae);var _b0=_af&&_af.hidden;if(_aa.hideProcessMsg!==false&&!_b0){$W&&$W._J&&$W._J.deleteMessage_pre(_aa.id);}}else{_ad([_aa,obfuscator_http,_ac]);}}}catch(e){$W.exception.printStackTrace(e);$W.layer.hideProcessMessage();}};$W._J.abort=function(_b1){try{if(_b1!=""){var _b2=$W._J.getSubmission(_b1);if(_b2.obfuscator_http!=null){_b2.obfuscator_http.abort();var _b3={"id":_b2.id,"errorType":"resource-error","resourceUri":$W._G.getSubmissionURL(_b2.action),"responseHeaders":"","responseStatusCode":"","responseReasonPhrase":"","requestBody":"","responseBody":"","abort":"true"};$W.logger.printLog("submission force abort. "+_b2.id);$W._J.setSubmissionEnd(_b2,"submission error",_b3);$W.layer.deleteSubmissionMessage(_b2.id);var _b4=$W._N.getConfiguration("/WebSquare/submission/submitErrorHandler/@value");var _b5=$W._N.getConfiguration("/WebSquare/submission/submitErrorHandler/@mode");if(_b4){var obfuscator_evt=_b3;if(_b5=="only"){eval(_b4+"(obfuscator_evt)");}else{if(_b5=="after"){$W._c.fireEvent(_b2,"xforms-submit-error",_b3);eval(_b4+"(obfuscator_evt)");}else{if(_b5=="before"){eval(_b4+"(obfuscator_evt)");$W._c.fireEvent(_b2,"xforms-submit-error",_b3);}}}}else{$W._c.fireEvent(_b2,"xforms-submit-error",_b3);}if(_b2.obfuscator_http){_b2.obfuscator_http.onreadystatechange=function(){};_b2.obfuscator_http=null;}}return;}}catch(e){$W.exception.printStackTrace(e);$W.layer.hideProcessMessage();}};$W._J.soapcallback=function(obfuscator_http,_b6,_b7){try{var _b8=_b6.id;var _b9={"id":_b8};var url=$W._G.getSubmissionURL(_b6.action);var _bb=(_b6.mode=="synchronous")?false:true;var ref=_b6.ref;var _bd=_b6.bind;var _be=_b6.target;var _bf=_b6.replace;var _c0=_b6.instance;var _c1=_b6.encoding;var _c2=_b6.mediatype;var _c3=_b6.method;var _c4=_b6.action;var _c5=_b6.errorHandler;var _c6=_b6.requestData;var _c7=_b6.soapaction;var _c8=_b6.timeout;var _c9=null;if(_c0!=""){var _ca=_b6.parentElement.getAttribute("id");if(_ca==null||_ca==""){_c9=$W._J.getInstanceByID(_c0).document;}else{_c9=$W._J.getInstanceByID(_c0,_ca).document;}}else{_c9=$W._B.getElementsByTagName(_b6.parentElement,"data")[0];}var e=null;if(typeof _c6!="undefined"&&_c6!=null){e=_c6;}else{if(ref==""){e=_c9;}else{e=$W._B.createNode(_c9,ref);}}var xml=$W._B.serialize(e);if(obfuscator_http.readyState==4){if(_b7){window.clearTimeout(_b7);_b7=null;}if((obfuscator_http)&&((200>obfuscator_http.status)||(300<=obfuscator_http.status))){var _cd={"id":_b8,"errorType":"resource-error","resourceUri":url,"responseHeaders":$W._J.parseResponseHeader(obfuscator_http),"responseStatusCode":obfuscator_http["status"],"responseReasonPhrase":obfuscator_http["statusText"],"requestBody":$W._B.parse(tmpxml),"responseBody":obfuscator_http.responseText};$W._J.setSubmissionEnd(_b6,"submission error",_cd);$W.layer.deleteSubmissionMessage(_b8);$W._c.fireEvent(_b6,"xforms-submit-error",_cd);if($W.logger.globalDebug1||(typeof $W.logger.getGlobalDebug=="function"&&$W.logger.getGlobalDebug())){var obj=new Object();var re=/>[\s]*</g;obj["information"]="url          : "+url+"\nasync        : "+_bb+"\nref          : "+ref+"\nbind         : "+_bd+"\ntarget       : "+_be+"\nreplace      : "+_bf+"\ninstance     : "+_c0+"\nencoding     : "+_c1+"\nmediatype    : "+_c2+"\nmethod       : "+_c3+"\naction       : "+_c4+"\nerrorHandler : "+_c5+"\nsoapaction   : "+_c7+"\nstatus       : "+obfuscator_http["status"]+"\nstatus text  : "+obfuscator_http["statusText"]+"\nresponseHeaders : "+$W._J.parseResponseHeader(obfuscator_http);obj["result"]=obfuscator_http.responseText.replace(re,">\n<");obj["input"]=xml.replace(re,">\n<");$W.logger.showDebugMsg(obj,"xml","ProWorks SOAP Submission (Async Mode)");}obfuscator_http.onreadystatechange=function(){};obfuscator_http=null;_b6.obfuscator_http=null;return;}var obfuscator_xmlDocument=$W._J.getSoapReturn($W._B.parse(obfuscator_http.responseText));var obfuscator_submissionID=_b8;if(_c5!=""&&eval(_c5+"( obfuscator_xmlDocument, obfuscator_submissionID )")){var _cd={"id":_b8,"errorType":"target-error","resourceUri":url,"responseHeaders":$W._J.parseResponseHeader(obfuscator_http),"responseStatusCode":obfuscator_http["status"],"responseReasonPhrase":obfuscator_http["statusText"],"requestBody":$W._B.parse(tmpxml),"responseBody":obfuscator_xmlDocument};$W._J.setSubmissionEnd(_b6,"submission error",_cd);$W.layer.deleteSubmissionMessage(_b8);$W._c.fireEvent(_b6,"xforms-submit-error",_cd);if($W.logger.globalDebug1||(typeof $W.logger.getGlobalDebug=="function"&&$W.logger.getGlobalDebug())){var obj=new Object();var re=/>[\s]*</g;obj["information"]="url          : "+url+"\nasync        : "+_bb+"\nref          : "+ref+"\nbind         : "+_bd+"\ntarget       : "+_be+"\nreplace      : "+_bf+"\ninstance     : "+_c0+"\nencoding     : "+_c1+"\nmediatype    : "+_c2+"\nmethod       : "+_c3+"\naction       : "+_c4+"\nerrorHandler : "+_c5+"\nsoapaction   : "+_c7+"\nstatus       : "+obfuscator_http["status"]+"\nstatus text  : "+obfuscator_http["statusText"]+"\nresponseHeaders : "+$W._J.parseResponseHeader(obfuscator_http);obj["result"]=obfuscator_http.responseText.replace(re,">\n<");obj["input"]=xml.replace(re,">\n<");$W.logger.showDebugMsg(obj,"xml","ProWorks SOAP Submission (Async Mode)");}}else{if(_bf=="instance"){$W.WebSquaredoc.models[0].rebuild($W._B.parse($W._B.serialize(obfuscator_xmlDocument)),_be);$W.WebSquaredoc.models[0].refresh();}else{if(_bf=="text"){$W.WebSquaredoc.models[0].rebuild($W._B.serialize(obfuscator_xmlDocument),_be);$W.WebSquaredoc.models[0].refresh();}else{if(_bf=="none"){}else{while(document.body.hasChildNodes()){$W.discardElement(document.body.firstChild);}$W.WebSquaredoc=null;$W.WebSquaredoc=new $W.WebSquareDocument(obfuscator_xmlDocument);$W.WebSquaredoc.parsing();}}}var _d0={"id":_b8,"resourceUri":url,"responseHeaders":$W._J.parseResponseHeader(obfuscator_http),"responseStatusCode":obfuscator_http["status"],"responseReasonPhrase":obfuscator_http["statusText"],"requestBody":$W._B.parse(tmpxml),"responseBody":obfuscator_xmlDocument};$W._J.setSubmissionEnd(_b6,"submission error",_d0);$W.layer.deleteSubmissionMessage(_b8);$W._c.fireEvent(_b6,"xforms-submit-done",_d0);if($W.logger.globalDebug1||(typeof $W.logger.getGlobalDebug=="function"&&$W.logger.getGlobalDebug())){var obj=new Object();var re=/>[\s]*</g;obj["information"]="url          : "+url+"\nasync        : "+_bb+"\nref          : "+ref+"\nbind         : "+_bd+"\ntarget       : "+_be+"\nreplace      : "+_bf+"\ninstance     : "+_c0+"\nencoding     : "+_c1+"\nmediatype    : "+_c2+"\nmethod       : "+_c3+"\naction       : "+_c4+"\nerrorHandler : "+_c5+"\nsoapaction   : "+_c7+"\nstatus       : "+obfuscator_http["status"]+"\nstatus text  : "+obfuscator_http["statusText"]+"\nresponseHeaders : "+$W._J.parseResponseHeader(obfuscator_http);obj["result"]=obfuscator_http.responseText.replace(re,">\n<");obj["input"]=xml.replace(re,">\n<");$W.logger.showDebugMsg(obj,"xml","ProWorks SOAP Submission (Async Mode)");}}obfuscator_http.onreadystatechange=function(){};obfuscator_http=null;_b6.obfuscator_http=null;}}catch(e){$W.exception.printStackTrace(e);$W.layer.hideProcessMessage();}};$W._J.getSoapReturn=function(_d1){var _d2=_d1.documentElement;var _d3=_d2.childNodes;for(var i=0;i<_d3.length;i++){var _d5=_d3.item(i);if($W._B.getLocalName(_d5)=="Body"){var _d6=_d5.childNodes;for(var j=0;j<_d6.length;j++){var _d8=_d6.item(j);if($W._B.getLocalName(_d8)=="performResponse"){var _d9=_d8.childNodes;for(var k=0;k<_d9.length;k++){var _db=_d9.item(k);if($W._B.getLocalName(_db)=="performReturn"){var _dc=_db.childNodes;for(var l=0;l<_dc.length;l++){var _de=_dc.item(l);if(_de.nodeType==3){return $W._B.parse(_de.nodeValue);}}}}}}}}return null;};$W._J.setSubmissionEnd=function(_df,_e0,_e1){_df.endTime=new Date();_df.processStatus=0;for(var i=0;i<_df.linkedObj.length;i++){if(_df.linkedObj[i].setDisabled){_df.linkedObj[i].setDisabled(false);}}_df.linkedObj=[];var _e3=$W._N.getConfiguration("/WebSquare/submission/showSubmissionTime/@value");if(_e3=="true"){var _e4=_df.startTime.getHours()+":"+_df.startTime.getMinutes()+":"+_df.startTime.getSeconds()+":"+_df.startTime.getMilliseconds();var _e5=_df.endTime.getHours()+":"+_df.endTime.getMinutes()+":"+_df.endTime.getSeconds()+":"+_df.endTime.getMilliseconds();var _e6="submission id["+_df.id+"] start["+_e4+"] end["+_e5+"] duration["+(_df.endTime-_df.startTime)+"ms]";$W.logger.printLog(_e6);$W.ax_logger(_e6);}if(_e1!=null){var _e7=$W._N.getConfiguration("/WebSquare/submission/callbackSubmitFunction/@value");try{var obfuscator_eventObj=_e1;var _e8=eval(_e7);if(typeof _e8=="function"){try{_e8.call(this,_e1,_df);}catch(e){$W.exception.printStackTrace(e);}}}catch(e){}}};$W._J.setSubmissionStart=function(_e9,obj){_e9.startTime=new Date();_e9.processStatus=1;if(obj!=null&&obj.setDisabled){_e9.linkedObj.push(obj);obj.setDisabled(true);}};$W._J.doSubmitPreFunc=function(_eb){var _ec=$W._N.getConfiguration("/WebSquare/submission/preSubmitFunction/@value");if(_ec!=null&&_ec!=""){try{var obfuscator_eventObj=_eb;eval(_ec+"( obfuscator_eventObj );");}catch(e){}}};$W._J.getRefToReqData=function(_ed){_ed.requestData=null;return getReqData(_ed);};$W._J.defaultSubmissionHandler=function(_ee,_ef,_f0){["WebSquare.ModelUtil.defaultSubmissionHandler"];try{var _f1=_ee.id;var _f2={"id":_f1};if(_ef!=undefined){}if(_ee.processMsg!=""){$W.layer.addSubmissionMessage(_f1,_ee.processMsg);}var ret=$W._c.fireEvent(_ee,"xforms-submit",_f2);if(typeof ret!="undefined"&&ret==false){$W.logger.printLog("xforms-submit event\uc5d0\uc11c return\uc774 false\uc774\ubbc0\ub85c \ucc98\ub9ac\ub97c \uc911\ub2e8. : "+_f1);$W._J.setSubmissionEnd(_ee,"submission done",null);$W.layer.deleteSubmissionMessage(_f1);if(_f0!=undefined){_f0("xforms-submit event\uc5d0\uc11c return\uc774 false\uc774\ubbc0\ub85c \ucc98\ub9ac\ub97c \uc911\ub2e8. : "+_f1);}return;}$W._J.doSubmitPreFunc(_ee);var url=$W._G.getSubmissionURL(_ee.action);var _f5=(_ee.mode=="synchronous")?false:true;var _f6=_ee.bind;var _f7=_ee.target;var _f8=_ee.replace;var _f9=_ee.encoding||"utf-8";var _fa=_ee.mediatype||"application/xml";var _fb=_ee.method;var _fc=_ee.action;var _fd=_ee.errorHandler;var _fe=_ee.requestData;var _ff=_ee.soapaction;var _100=_ee.timeout;var _101=getReqData(_ee);var _102=$W._G.getBoolean(_ee.singleMode);var _103=false;if(typeof _101!="undefined"){if(_101.indexOf("http://schemas.xmlsoap.org/soap/envelope")>-1){_103=true;}}if(_f8=="all"){if($W.requestID==""){$W.requestID="instanceValue";}try{var _104=$W.document.createElement("form");if(!$W._G.isMobile()){_104.encoding="text/plain";}_104.action=url;_104.method=_fb;_104.style.display="inline";_104.acceptCharset="UTF-8";var _105=$W.document.createElement("input");_105.type="hidden";_105.name="targetInstance";if($W._N.uriEncoder){_105.value=_f7;}else{_105.value=encodeURIComponent(_f7);}_104.appendChild(_105);var _106=$W.document.createElement("input");_106.type="hidden";_106.name="instanceValue";if($W._N.uriEncoder){_106.value=_101;}else{_106.value=encodeURIComponent(_101);}_104.appendChild(_106);$W.document.body.appendChild(_104);_104.submit();return;}catch(e){$W.exception.printStackTrace(e);}}$W.logger.printLog(url);var obfuscator_http=$W._N.getXMLHTTPObject();_ee.obfuscator_http=obfuscator_http;obfuscator_http.open(_fb,url,_f5);if(_103){obfuscator_http.setRequestHeader("soapaction","\""+_ff+"\"");}if($W.requestID!=""){var _107=$W._N.getConfiguration("/WebSquare/submission/requestID/@mediatype");if(_107!=""){obfuscator_http.setRequestHeader("Content-Type",_107+"; charset=\"UTF-8\"");obfuscator_http.setRequestHeader("Accept",_107);}}else{obfuscator_http.setRequestHeader("Content-Type",_fa+"; charset=\""+_f9+"\"");obfuscator_http.setRequestHeader("Accept",_fa);}obfuscator_http.setRequestHeader("submissionid",_f1);var _108;if(_f5){try{if(_ee.withCredentials){obfuscator_http.withCredentials=_ee.withCredentials;}}catch(ee){$W.exception.printStackTrace(ee);}if(_100){_108=window.setTimeout(function(){obfuscator_http.onreadystatechange=function(){};obfuscator_http.abort();var _109={"id":_f1,"errorType":"timeout-error","resourceUri":url,"time":_100};$W._J.setSubmissionEnd(_ee,"submission error",_109);$W.layer.deleteSubmissionMessage(_f1);$W._c.fireEvent(_ee,"xforms-submit-timeout",_109);window.clearTimeout(_108);if(_f0!=undefined){_f0(_109.errorType+" :: "+_f1);}return;},_100);}obfuscator_http.onreadystatechange=function(){$W._J.defaultcallback(obfuscator_http,_ee,_108,_101,_ef,_f0);};}var _10a=$W._N.getConfiguration("/WebSquare/submission/externalHandler/@value")||"";if(_10a==""||_10a=="default"){}else{if(_10a){if(typeof _10a=="function"){_101=_10a(_101);}else{var _10b=eval(_10a);if(_10b){_101=_10b(_101,_f1);}}}}if($W.requestID!=""){if($W._N.getConfiguration("/WebSquare/submission/requestID/@encodeURI")=="true"){obfuscator_http.send($W.requestID+encodeURIComponent(_101));}else{obfuscator_http.send($W.requestID+_101);}}else{obfuscator_http.send(_101);}if(!_f5){commonResponseHandler(_ee,obfuscator_http,"sync mode",_101);if(_ef!=undefined){_ef([_ee,obfuscator_http,_101]);}}}catch(e){$W.exception.printStackTrace(e);$W.layer.hideProcessMessage();}};function getReqData(_10c){var _10d,ref=_10c.ref,instance=_10c.instance;var _10e=_10c.mediatype;var _10f=_10c.requestData;var _110=null;if(_10c.scope_id!=undefined){_110=_10c.scope_id;}var _111=null;if(instance!=""){var _112=_10c.parentElement.getAttribute("id");if(_112==null||_112==""){_111=$W._J.getInstanceByID(instance).document;}else{_111=$W._J.getInstanceByID(instance,_112).document;}}else{_111=$W._B.getElementsByTagName(_10c.parentElement,"data")[0];}var e=null,instanceValue="",_10d="",doc;if(typeof _10f!="undefined"&&_10f!=null){if(_10e=="application/json"){if(typeof _10f=="string"){_10d=_10f;}else{_10d=JSON.stringify(_10f);}}else{if(_10e=="text/plain"){_10d=_10f;}else{_10d=$W._B.serialize(_10f);}}}else{var _114=getCollectionCondition(ref);_114.singleMode=$W._G.getBoolean(_10c.singleMode);if(ref==""&&_10e!="application/json"){e=_111;_10d=$W._B.serialize(e);}else{if(_10e=="application/json"){if(_114.type!=""){if(_114.condition!=""){var _115=$W._u.data.get(_114.type,_114.condition,{"singleMode":_114.singleMode,"scope_obj":_110});_10d=JSON.stringify(_115);}else{var _115=$W._u.data.get(_114.type,null,{"scope_obj":_110});_10d=JSON.stringify(_115);}}else{if(ref==""){_10d="";}else{if($W._J.getInstanceValue(ref).wq_trim().length>0){_10d=$W._J.getInstanceValue(ref);}else{e=$W._B.createNode(_111,ref);doc=$W._B.parse($W._B.serialize(e));_10d=$W._I.XML2JSONString(doc);}}}}else{if(_114.type!=""){if(_114.condition!=""){var _115=$W._u.data.get(_114.type,_114.condition,{"singleMode":_114.singleMode,"scope_obj":_110});_10d=$W._B.serialize(_115);}else{var _115=$W._u.data.get(_114.type,null,{"scope_obj":_110});_10d=$W._B.serialize(_115);}}else{e=$W._B.createNode(_111,ref);_10d=$W._B.serialize(e);}}}}return _10d;}function getCollectionCondition(_116){var _117={};_117.type="";_117.condition="";var _118="";var _119=null;if(_116.indexOf("data:")==0){_118=_116.substr(5,_116.length).wq_trim();if(_118.indexOf(",")>0){var _11a=_118.indexOf(",");_117.type=_118.substring(0,_11a).wq_trim();var _11b=_118.substring(_11a+1,_118.length).wq_trim();if(_11b.indexOf("'")>-1){_11b=_11b.wq_replaceAll("'","\"");}if(_11b.indexOf("[")==0){_117.condition=_11b;}else{_117.condition="["+_11b+"]";}}else{_117.type=_118;}}return _117;}function setResponseObj(obj,_11d,_11e,obfuscator_responseObj,_11f,_120){if(_11d.indexOf("json")>-1){if(_11e=="instance"){obj.responseBody=obfuscator_responseObj;}obj.responseJSON=_11f;}else{if(_11d.indexOf("xml")>-1){obj.responseBody=obfuscator_responseObj;}else{if(_120){obj.responseBody=obfuscator_responseObj;}}}}function commonResponseHandler(_121,obfuscator_http,mode,_123){var _124;var _125=_121.id;var _126=null;if(_121.scope_id!=undefined){_126=_121.scope_id;}var url=$W._G.getSubmissionURL(_121.action);var _128=(_121.mode=="synchronous")?false:true;var ref=_121.ref;var bind=_121.bind;var _12b=_121.target;var _12c=_121.replace;var _12d=_121.instance;var _12e=_121.encoding;var _12f=_121.mediatype;var _130=_121.hideProcessMsg;var _131=_121.method;var _132=_121.action;var _133=_121.errorHandler;var _134=_121.requestData;var _135=_121.soapaction;if(((obfuscator_http["status"])&&(((200>obfuscator_http.status)||(300<=obfuscator_http.status)))||(0===obfuscator_http.status))){var _136={"id":_125,"errorType":"resource-error","resourceUri":url,"responseHeaders":$W._J.parseResponseHeader(obfuscator_http),"responseStatusCode":obfuscator_http["status"],"responseReasonPhrase":obfuscator_http["statusText"],"requestBody":_123,"responseBody":obfuscator_http.responseText,"abort":""};$W.logger.printLog("submission error(E03). Status["+obfuscator_http.status+"] "+_125);$W._J.setSubmissionEnd(_121,"submission error",_136);$W.layer.deleteSubmissionMessage(_125);var _137=$W._N.getConfiguration("/WebSquare/submission/submitErrorHandler/@value");var _138=$W._N.getConfiguration("/WebSquare/submission/submitErrorHandler/@mode");if(_137){var obfuscator_evt=_136;if(_138=="only"){eval(_137+"(obfuscator_evt)");}else{if(_138=="after"){$W._c.fireEvent(_121,"xforms-submit-error",_136);eval(_137+"(obfuscator_evt)");}else{if(_138=="before"){eval(_137+"(obfuscator_evt)");$W._c.fireEvent(_121,"xforms-submit-error",_136);}}}}else{$W._c.fireEvent(_121,"xforms-submit-error",_136);}if($W.logger.globalDebug1||(typeof $W.logger.getGlobalDebug=="function"&&$W.logger.getGlobalDebug())){var obj=new Object();var re=/>[\s]*</g;obj["information"]="url          : "+url+"\nasync        : "+_128+"\nref          : "+ref+"\nbind         : "+bind+"\ntarget       : "+_12b+"\nreplace      : "+_12c+"\ninstance     : "+_12d+"\nencoding     : "+_12e+"\nmediatype    : "+_12f+"\nmethod       : "+_131+"\naction       : "+_132+"\nerrorHandler : "+_133+"\nsoapaction   : "+_135+"\nstatus       : "+obfuscator_http["status"]+"\nstatus text  : "+obfuscator_http["statusText"]+"\nresponseHeaders : "+$W._J.parseResponseHeader(obfuscator_http);obj["result"]=obfuscator_http.responseText.replace(re,">\n<");obj["input"]=_123.replace(re,">\n<");$W.logger.showDebugMsg(obj,"xml","Default Submission ("+mode+")");}obfuscator_http.onreadystatechange=function(){};obfuscator_http=null;_121.obfuscator_http=null;return _136;}var _13b=$W._N.getConfiguration("/WebSquare/submission/externalResponseHandler/@value")||"";var _13c=obfuscator_http.responseText;var _13d=false;if(_13b==""||_13b=="default"){}else{if(_13b){if(typeof _13b=="function"){_13c=_13b(_13c);}else{var _13e=$W._G.getGlobalFunction(_13b);if(_13e){_13c=_13e(_13c,_125);_13d=true;}}}}var _13f=obfuscator_http.getResponseHeader("Content-Type")||"";var obfuscator_responseObj,jsonObj,doc,isXML=false,instanceXML;var _140=getCollectionCondition(_12b);_140.singleMode=$W._G.getBoolean(_121.singleMode);if(_13f==""){$W.logger.printLog("Response Content-Type is not defined");}if(_13f.indexOf("json")>-1){if(_13c!=""){jsonObj=JSON.parse(_13c);if(_140.type!=""){obfuscator_responseObj=jsonObj;if(_140.condition!=""){$W._u.data.set(_140.type,jsonObj,_140.condition,{"singleMode":_140.singleMode,"scope_obj":_126});}else{$W._u.data.set(_140.type,jsonObj,null,{"scope_obj":_126});}}else{if(_12c=="instance"){var _141=$W._I.JSON2XMLString(jsonObj);obfuscator_responseObj=$W._B.parse(_141);instanceXML=$W._B.parse(_141);}else{if(_12c=="text"){obfuscator_responseObj=_13c;}else{obfuscator_responseObj=jsonObj;}}}}}else{if(_13f.indexOf("xml")>-1){if($W.BootLoader.useWebSquareXMLParser){obfuscator_responseObj=$W._B.parse(_13c);}else{if($W.BootLoader.useResponseXML){if(_13d){obfuscator_responseObj=$W._B.parse(_13c);}else{obfuscator_responseObj=obfuscator_http.responseXML;}}else{obfuscator_responseObj=$W._B.parse(_13c);}}if(_140.type!=""){if(_140.condition!=""){$W._u.data.set(_140.type,obfuscator_responseObj,_140.condition,{"singleMode":_140.singleMode,"scope_obj":_126});}else{$W._u.data.set(_140.type,obfuscator_responseObj,null,{"scope_obj":_126});}}else{if(_12c=="instance"){instanceXML=$W._B.parse(_13c);}}}else{try{if(_13c&&_13c.wq_trim().startsWith("<")){obfuscator_responseObj=$W._B.parse(_13c);if(_140.type!=""){if(_140.condition!=""){$W._u.data.set(_140.type,obfuscator_responseObj,_140.condition,{"singleMode":_140.singleMode,"scope_obj":_126});}else{$W._u.data.set(_140.type,obfuscator_responseObj,null,{"scope_obj":_126});}}else{if(!obfuscator_responseObj){obfuscator_responseObj=_13c;}else{if(_12c=="instance"){instanceXML=$W._B.parse(_13c);}isXML=true;}}}else{obfuscator_responseObj=_13c;}}catch(e){}}}try{var obfuscator_submissionID=_125;if(_133!=""&&eval(_133+"( obfuscator_responseObj, obfuscator_submissionID )")){var _136={"id":_125,"errorType":"target-error","resourceUri":url,"responseHeaders":$W._J.parseResponseHeader(obfuscator_http),"responseStatusCode":obfuscator_http["status"],"responseReasonPhrase":obfuscator_http["statusText"],"requestBody":_123,"responseText":_13c};setResponseObj(_136,_13f,_12c,obfuscator_responseObj,jsonObj,isXML);$W.logger.printLog("submission error(E04). Status["+obfuscator_http.status+"] "+_125);$W._J.setSubmissionEnd(_121,"submission error",_136);$W.layer.deleteSubmissionMessage(_125);$W._c.fireEvent(_121,"xforms-submit-error",_136);if($W.logger.globalDebug1||(typeof $W.logger.getGlobalDebug=="function"&&$W.logger.getGlobalDebug())){var obj=new Object();var re=/>[\s]*</g;obj["information"]="url          : "+url+"\nasync        : "+_128+"\nref          : "+ref+"\nbind         : "+bind+"\ntarget       : "+_12b+"\nreplace      : "+_12c+"\ninstance     : "+_12d+"\nencoding     : "+_12e+"\nmediatype    : "+_12f+"\nmethod       : "+_131+"\naction       : "+_132+"\nerrorHandler : "+_133+"\nsoapaction   : "+_135+"\nstatus       : "+obfuscator_http["status"]+"\nstatus text  : "+obfuscator_http["statusText"]+"\nresponseHeaders : "+$W._J.parseResponseHeader(obfuscator_http);obj["result"]=_13c.replace(re,">\n<");obj["input"]=_123.replace(re,">\n<");$W.logger.showDebugMsg(obj,"xml","Default Submission ("+mode+")");}_124=_136;}else{if(_140.type==""){if(_12c=="instance"&&instanceXML!=null){$W.WebSquaredoc.models[0].rebuild(instanceXML,_12b);$W.WebSquaredoc.models[0].refresh();}else{if(_12c=="text"){$W.WebSquaredoc.models[0].rebuild(_13c,_12b);$W.WebSquaredoc.models[0].refresh();}else{if(_12c=="none"){}}}}var _142={"id":_125,"resourceUri":url,"responseHeaders":$W._J.parseResponseHeader(obfuscator_http),"responseStatusCode":obfuscator_http["status"],"responseReasonPhrase":obfuscator_http["statusText"],"requestBody":_123,"responseText":_13c};setResponseObj(_142,_13f,_12c,obfuscator_responseObj,jsonObj,isXML);$W.logger.printLog("submission complete. Status["+obfuscator_http.status+"] "+_125);$W._J.setSubmissionEnd(_121,"submission complete",_142);$W._c.fireEvent(_121,"xforms-submit-done",_142);if(_130){$W._J.deleteMessage_pre(_125);_142.hidden=true;}if($W.logger.globalDebug1||(typeof $W.logger.getGlobalDebug=="function"&&$W.logger.getGlobalDebug())){var obj=new Object();var re=/>[\s]*</g;obj["information"]="url          : "+url+"\nasync        : "+_128+"\nref          : "+ref+"\nbind         : "+bind+"\ntarget       : "+_12b+"\nreplace      : "+_12c+"\ninstance     : "+_12d+"\nencoding     : "+_12e+"\nmediatype    : "+_12f+"\nmethod       : "+_131+"\naction       : "+_132+"\nerrorHandler : "+_133+"\nsoapaction   : "+_135+"\nstatus       : "+obfuscator_http["status"]+"\nstatus text  : "+obfuscator_http["statusText"]+"\nresponseHeaders : "+$W._J.parseResponseHeader(obfuscator_http);obj["result"]=_13c.replace(re,">\n<");obj["input"]=_123.replace(re,">\n<");$W.logger.showDebugMsg(obj,"xml","Default Submission ("+mode+")");}_124=_142;}obfuscator_http.onreadystatechange=function(){};obfuscator_http=null;_121.obfuscator_http=null;return _124;}catch(e){obfuscator_http.onreadystatechange=function(){};obfuscator_http=null;_121.obfuscator_http=null;}}$W._J.deleteMessage_pre=function(_143){setTimeout(function(){if($W&&$W._J&&$W._J.deleteMessage){$W._J.deleteMessage(_143);}},50);};$W._J.deleteMessage=function(_144){setTimeout(function(){if($W.layer){try{var _145=$W._J.getSubmission(_144);if(!_145||(_145&&_145.hideProcessMsg!==false)){$W.layer.deleteSubmissionMessage(_144);}}catch(e){$W.layer.deleteSubmissionMessage(_144);}}},50);};$W._J.parseResponseHeader=function(_146){var ret="<header>",doc;try{var _148=_146.getAllResponseHeaders().wq_trim().split("\n");for(var i=0;i<_148.length;i++){var _14a=_148[i].split(":");ret+="<name>"+_14a[0].wq_trim()+"</name><value>"+_14a[1].wq_trim()+"</value>";}}catch(e){}ret+="</header>";return ret;};$W._J.copyNode=function(_14b,_14c,_14d,_14e){try{var _14f=$W._J.findInstanceNode(_14b,_14d);}catch(e){throw e;}if(_14f==null){var err=new Error();err.number=0;err.description="[WebSquare.ModelUtil.copyNode] srcNode\uac00 \uc874\uc7ac\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4.";throw err;}try{var _151=$W._J.getInstanceByXPath(_14c,_14e);var _152=$W._J.filterInstanceFunction(_14c);var _153=$W._B.createNode(_151.document,_152);}catch(e){throw e;}if(_153==null){var err=new Error();err.number=0;err.description="[WebSquare.ModelUtil.copyNode] destNode\uac00 \uc874\uc7ac\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4.";throw err;}var _154=_153.childNodes;for(var j=_154.length-1;j>=0;j--){_153.removeChild(_154.item(j));}var _156=$W._B.parse($W._B.serialize(_14f));var node=_156.documentElement;if($W._N.browserCheck.chrome||$W._N.browserCheck.safari||$W._N.browserCheck.android||$W._N.browserCheck.blackberry){var _158=_153.ownerDocument.importNode(node,true);_153.appendChild(_158);}else{_153.appendChild(node);}$W.WebSquaredoc.detectChange(_14c,undefined,_14e);};$W._J.copyChildrenNodes=function(_159,_15a,mode,_15c,_15d){try{var _15e=$W._J.findInstanceNode(_159,_15c);}catch(e){throw e;}if(_15e==null){var err=new Error();err.number=0;err.description="[WebSquare.ModelUtil.copyNode] srcNode\uac00 \uc874\uc7ac\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4.";throw err;}try{var _160=$W._J.getInstanceByXPath(_15a,_15d);var _161=$W._J.filterInstanceFunction(_15a);var _162=$W._B.createNode(_160.document,_161);}catch(e){throw e;}if(_162==null){var err=new Error();err.number=0;err.description="[WebSquare.ModelUtil.copyNode] destNode\uac00 \uc874\uc7ac\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4.";throw err;}switch(mode){case "replaceAll":var _163=_162.cloneNode(false);var _164=_162.ownerDocument;var _165=_15e.childNodes;for(var j=0;j<=_165.length-1;j++){if(_165[j].nodeType==1){$W._B.appendChild(_163,_165[j].cloneNode(true));}}_162.parentNode.insertBefore(_163,_162);_162.parentNode.removeChild(_162);_162=null;break;case "overwrite":var _165=_15e.childNodes;var _167={};var _168={};for(var j=0;j<=_165.length-1;j++){var _169=_165[j];if(_169.nodeType==1){var _16a=_169.nodeName;var _16b=_162.selectNodes(_16a);if(_16b.length>0){if(typeof _168[_16a]=="undefined"){_168[_16a]=0;}else{_168[_16a]=_168[_16a]+1;}if(typeof _16b[_168[_16a]]!="undefined"){_167[j]=_16b[_168[_16a]];}else{_167[j]=null;}}else{_167[j]=null;}}}for(var j=0;j<=_165.length-1;j++){var _169=_165[j];if(_169.nodeType==1){var _16c=$W._B.parse($W._B.serialize(_169));var _16d;if($W._N.browserCheck.chrome||$W._N.browserCheck.safari||$W._N.browserCheck.android||$W._N.browserCheck.blackberry){_16d=_16c.documentElement.cloneNode(true);}else{_16d=_16c.documentElement;}if(_167[j]!=null){_162.replaceChild(_16d,_167[j]);}else{$W._B.appendChild(_162,_16d);}}}break;case "replaceOnly":var _16e=_162.childNodes;for(var j=0;j<_16e.length;j++){var _16f=_16e.item(j);if(_16f.nodeType==1){var _170=_16f.nodeName;var _169=_15e.selectSingleNode(_170);if(_169!=null){var _16c=$W._B.parse($W._B.serialize(_169));var _171=_16c.documentElement;var _172=_162.ownerDocument.importNode(_171,true);_162.replaceChild(_172,_16f);}}}break;case "append":var _165=_15e.childNodes;for(var j=0;j<=_165.length-1;j++){var _169=_165.item(j);if(_169.nodeType==1){var _16c=$W._B.parse($W._B.serialize(_169));var _171=_16c.documentElement;$W._B.appendChild(_162,_171);}}break;}var _173=$W._N.getConfiguration("/WebSquare/ModelUtil/copyChildrenNodes/@refresh");if(_173=="true"){$W._J.refreshModel(_15a,_15d);}};$W._J.setInstanceNode=function(doc,_175,_176,mode){var _178=null;try{if(doc.nodeType==9){doc=doc.documentElement;}try{var _179=$W._J.getInstanceByXPath(_175,_176);var _17a=$W._J.filterInstanceFunction(_175);_178=$W._B.createNode(_179.document,_17a);}catch(e){throw e;}if(_178==null){var err=new Error();err.number=0;err.description="[WebSquare.ModelUtil.setInstanceNode] destNode\uac00 \uc874\uc7ac\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4.";throw err;}var node=doc.cloneNode(true);switch(mode){case "append":$W._B.appendChild(_178,node);break;case "insertBeforeSibling":_178.parentNode.insertBefore(node,_178);break;case "appendSibling":$W._B.appendChild(_178.parentNode,node);break;case "replace":default:var _17d=_178.childNodes;for(var j=_17d.length-1;j>=0;j--){_178.removeChild(_17d.item(j));}$W._B.appendChild(_178,node);break;}var _17f=$W._J.getModelByID();$W.WebSquaredoc.unrender(_175);_17f.refresh(mode);}catch(e){$l("ERROR [xpath:"+_175+"] at WebSquare.ModelUtil.setInstanceNode ");$W.exception.printStackTrace(e);}};$W._J.refreshModel=function(_180,_181){try{if(!_180){_180="";}var _182=$W._J.getModelByID(_181);$W.WebSquaredoc.unrender(_180);_182.refresh();}catch(e){$W.exception.printStackTrace(e);}};$W._J.removeInstanceNode=function(_183){try{var node=$W._J.findInstanceNode(_183);if(node){node.parentNode.removeChild(node);var _185=$W._N.getConfiguration("/WebSquare/ModelUtil/removeInstanceNode/@refresh");if(_185=="true"){$W._J.refreshModel(_183);}}}catch(e){$W.exception.printStackTrace(e);}};$W._J.removeInstanceNodes=function(_186){try{var _187=$W._J.findInstanceNodes(_186);for(var i=0;i<_187.length;i++){_187[i].parentNode.removeChild(_187[i]);}var _189=$W._N.getConfiguration("/WebSquare/ModelUtil/removeInstanceNodes/@refresh");if(_189=="true"){$W._J.refreshModel(_186);}}catch(e){$W.exception.printStackTrace(e);}};$W._J.removeChildNodes=function(_18a){try{var node=$W._J.findInstanceNode(_18a);if(node){var _18c=node.childNodes;for(var i=_18c.length-1;i>=0;i--){node.removeChild(_18c[i]);}}}catch(e){$W.exception.printStackTrace(e);}};$W._J.createWorkflow=function(_18e,_18f){["WebSquare.ModelUtil.createWorkflow"];try{var sObj={};sObj.id=_18e.id;sObj.processMsg=_18e.processMsg||$W._N.getConfiguration("/WebSquare/workflow/processMsg/@value");sObj.resolveCallback=_18e.resolveCallback;sObj.rejectCallback=_18e.rejectCallback;sObj.step=_18e.step;sObj.promiseStatus=null;sObj.promiseValue=null;sObj.preStatus=true;sObj.reject=function(msg){sObj.promiseStatus="REJECT";sObj.promiseValue=msg||"REJECT";};var _192=$W._J.getModelByID(_18f);sObj.parentElement=_192.xmlNode;_192.workflows.unshift(sObj);return sObj;}catch(e){$W.exception.printStackTrace(e);}};$W._J.deleteWorkflow=function(_193,_194){["WebSquare.ModelUtil.deleteWorkflow"];try{var _195=$W._J.getModelByID(_194).workflows;var ret=null;for(var i=0;i<_195.length;i++){if(_195[i].id===_193){ret=_195[i];_195[i].parentElement=null;_195.splice(i,1);break;}}return ret;}catch(e){$W.exception.printStackTrace(e);}};$W._J.getWorkflow=function(id,_199){["WebSquare.ModelUtil.getWorkflow"];try{var _19a=$W._J.getModelByID(_199);for(var i in _19a.workflows){var _19c=_19a.workflows[i];if(_19c.id==id){if($W.scope_obj&&$W.scope_obj!=_19c.scope_obj){continue;}return _19c;}}return null;}catch(e){$W.exception.printStackTrace(e);}};$W._J.getRunningWorkflow=function(_19d,_19e){["WebSquare.ModelUtil.getRunningWorkflow"];try{var _19f=$W._J.getModelByID(_19e);for(var i in _19f.workflows){var _1a1=_19f.workflows[i];if(_1a1.promiseStatus&&_1a1.promiseStatus!=""){if($W.scope_obj&&$W.scope_obj!=_1a1.scope_obj){continue;}if(_19d){if(_1a1.id==_19d){return _1a1;}else{return null;}}else{return _1a1;}}}return null;}catch(e){$W.exception.printStackTrace(e);}};$W._J.isRunningWorkflow=function(_1a2,_1a3){["WebSquare.ModelUtil.isRunningWorkflow"];try{var _1a4=$W._J.getModelByID(_1a3);for(var i in _1a4.workflows){var _1a6=_1a4.workflows[i];if(_1a6.promiseStatus&&_1a6.promiseStatus!=""){if($W.scope_obj&&$W.scope_obj!=_1a6.scope_obj){continue;}if(_1a2){if(_1a6.id==_1a2){return true;}else{return false;}}else{return true;}}}return false;}catch(e){$W.exception.printStackTrace(e);}};$W._J.getRunningWorkflowID=function(_1a7){["WebSquare.ModelUtil.getRunningWorkflowID"];try{var _1a8=$W._J.getModelByID(_1a7);for(var i in _1a8.workflows){var _1aa=_1a8.workflows[i];if(_1aa.promiseStatus&&_1aa.promiseStatus!=""){if($W.scope_obj&&$W.scope_obj!=_1aa.scope_obj){continue;}return _1aa.id;}}return null;}catch(e){$W.exception.printStackTrace(e);}};$W._J.rejectWorkflow=function(msg,_1ac,_1ad){["WebSquare.ModelUtil.rejectWorkflow"];try{var _1ae=$W._J.getModelByID(_1ad);for(var i in _1ae.workflows){var _1b0=_1ae.workflows[i];if(_1b0.promiseStatus&&_1b0.promiseStatus!=""){if($W.scope_obj&&$W.scope_obj!=_1b0.scope_obj){continue;}if(_1ac){if(_1b0.id==_1ac){_1b0.promiseStatus="REJECT";_1b0.promiseValue=msg||"REJECT";return _1b0;}}else{_1b0.promiseStatus="REJECT";_1b0.promiseValue=msg||"REJECT";return _1b0;}}}return null;}catch(e){$W.exception.printStackTrace(e);}};$W._J.executeWorkflow=function(parm){var id;var _1b3;var _1b4=false;if(typeof parm==="object"){_1b3=$W._J.createWorkflow(parm);if(parm.id===undefined){$W.logger.printLog("workflow ID \uac00 \uc815\uc758\ub418\uc9c0 \uc54a\uc558\uc2b5\ub2c8\ub2e4.");return;}else{if(parm.id===""){$W.logger.printLog("workflow ID \uac00 \uc815\uc758\ub418\uc9c0 \uc54a\uc558\uc2b5\ub2c8\ub2e4.");return;}else{id=parm.id;}}_1b4=true;}else{if(typeof parm==="string"){id=parm;_1b3=$W._J.getWorkflow(parm);}}if(_1b3===null){$W.logger.printLog("workflow \uac00 \uc815\uc758\ub418\uc9c0 \uc54a\uc558\uc2b5\ub2c8\ub2e4.");return;}var _1b5=$W._J.getRunningWorkflowID();if(_1b5!=null){$W.logger.printLog("\uc2e4\ud589\uc911\uc778 workflow \uac00 \uc874\uc7ac\ud569\ub2c8\ub2e4. workflowID : "+_1b5);return;}var _1b6=validCheck(_1b3.step);if(!_1b6){return;}_1b3.promiseStatus="PENDING";var _1b7=_1b3.resolveCallback;var _1b8=_1b3.rejectCallback;_1b3.result={};_1b3.logTime={};_1b3.logTime["START"]=new Date();try{var _1b9=setAddInfo(_1b3.step);if(_1b3.processMsg!==""){}else{_1b3.processMsg=$W._N.getConfiguration("/WebSquare/workflow/processMsg/@value");}$W.layer.addSubmissionMessage(id,_1b3.processMsg);var _1ba=[];var _1bb=Promise.resolve();for(var i=0;i<_1b9.length;i++){var step=_1b9[i];var _1be=step.action;var _1bf=step.pre;var _1c0=step.callOption;var idx=step.idx;if(step.type==="submit"){var _1c2=checkBeforeCall(_1b9,i);_1bf=checkFunction(_1bf,"pre",id,_1b4,_1b3);if(_1bf=="error"){return;}if(_1c2>=0){var _1c3=_1ba[_1c2];_1ba[idx]=connectPromise(_1bb,_1c3,_1be,_1c0,_1b3,_1bf);}else{_1ba[idx]=connectPromise(_1bb,_1bb,_1be,_1c0,_1b3,_1bf);}}else{if(step.type==="submitDone"){var idx=step.idx;var _1c4=_1ba[idx];var _1c5=step.post;_1c5=checkFunction(_1c5,"post",id,_1b4,_1b3);if(_1c5==="error"){return;}_1bb=executeCallback(_1bb,_1c4,_1c5,_1b3);}else{if(step.type==="function"){var fn=step.action;fn=checkFunction(fn,"function",id,_1b4,_1b3);if(fn==="error"){return;}var _1c2=checkBeforeCall(_1b9,i);if(_1c2>=0){var _1c3=_1ba[_1c2];_1ba[_1c2]=connectFunction(_1bb,_1c3,fn,_1b3);}else{var _1c7=Promise.resolve();_1c7=connectFunction(_1c7,_1c7,fn,_1b3);}}}}}}catch(e){}Promise.all(_1ba).then(function(){return _1bb;}).then(function(){_1b3.promiseStatus="RESOLVE";deleteworkflowMsg(id);_1b3.logTime["END"]=new Date();printTableLog(_1b3);_1b7=checkFunction(_1b7,"resolveCallback",id,_1b4,_1b3);if(_1b7==="error"){return;}if(typeof _1b7==="function"){_1b7(_1b3);}workflowObjClear(id,_1b4,_1b3);})["catch"](function(err){deleteworkflowMsg(id);_1b8=checkFunction(_1b8,"rejectCallback",id,_1b4,_1b3);if(_1b8==="error"){return;}_1b3.promiseStatus="REJECT";_1b3.errorMsg=err;if(typeof _1b8==="function"){_1b8(_1b3);}$W.logger.printLog("Workflow reject : "+id+", errorMsg : "+_1b3.errorMsg);workflowObjClear(id,_1b4,_1b3);});};function checkFunction(func,_1ca,id,_1cc,_1cd){var _1ce=func;if(typeof func=="string"){if(func.length>0){try{func=eval(func);}catch(e){$W.logger.printLog("==== "+_1ca+" function error ["+_1ce+"] is not a function \n");workflowObjClear(id,_1cc,_1cd);return "error";}if(typeof func!="function"){$W.logger.printLog("==== "+_1ca+" function error ["+_1ce+"] is not a function \n");workflowObjClear(id,_1cc,_1cd);return "error";}}}return func;}function deleteworkflowMsg(id){$W.layer.deleteSubmissionMessage(id);if($W.layer.submissionMessageQueue.length>0){$W.layer.submissionMessageQueue=[];$W.layer.submissionIDQueue=[];$W.layer.hideProcessMessage();}}function workflowObjClear(id,_1d1,_1d2){if(_1d1){$W._J.deleteWorkflow(id);}else{delete _1d2.result;delete _1d2.logTime;_1d2.promiseStatus=null;_1d2.promiseValue=null;_1d2.errorMsg="";_1d2.preStatus=true;}}function validCheck(_1d3){var _1d4=[];var _1d5=[];var _1d6=[];for(var i=0;i<_1d3.length;i++){var step=_1d3[i];if(step.type==="submit"){_1d4.push(step.action);_1d5.push(0);}else{if(step.type==="submitDone"){_1d6.push(step.action);}}}var _1d9;for(var i=0;i<_1d6.length;i++){_1d9=_1d6[i];var _1da=false;var _1db=0;for(var j=0;j<_1d4.length;j++){var _1dd=_1d4[j];if(_1dd==_1d9){_1db=_1d5[j];_1db++;_1d5[j]=_1db;_1da=true;break;}}if(!_1da){$W.logger.printLog("submit \uc774 \uc815\uc758\ub418\uc9c0 \uc54a\uc740 submitDone\uc774 \uc874\uc7ac\ud569\ub2c8\ub2e4.  [ "+_1d9+" ]");return false;}else{if(_1db>1){$W.logger.printLog("submitDone \uc774 \ud558\ub098 \uc774\uc0c1 \uc874\uc7ac\ud569\ub2c8\ub2e4.  [ "+_1d9+" ]");return false;}}}return true;}function setAddInfo(_1de){var idx=-1;var _1e0=[];for(var i=0;i<_1de.length;i++){var step=_1de[i];if(step.type==="submit"){idx++;step.idx=idx;step.pos=i;step.callOption="0";_1e0.push(step);}else{step.idx=-1;}}for(var i=0;i<_1e0.length;i++){var _1e3=_1e0[i];for(var j=0;j<_1de.length;j++){var step=_1de[j];if(step.type==="submitDone"&&step.action===_1e3.action&&step.idx===-1){step.idx=_1e3.idx;_1de[_1e3.pos].callOption="1";}}}return _1de;}function checkBeforeCall(_1e5,_1e6){var _1e7=-1;for(var i=(_1e6-1);i>0;i--){var step=_1e5[i];if(step.type==="submitDone"){_1e7=step.idx;break;}}return _1e7;}function connectFunction(_1ea,_1eb,fn,_1ed){return _1ea.then(function(){return _1eb;}).then(function(){fn(_1ed);if(_1ed.promiseStatus===null||_1ed.promiseStatus==="REJECT"){_1ea=Promise.reject(_1ed.promiseValue);return _1ea;}});}function connectPromise(_1ee,_1ef,_1f0,_1f1,_1f2,_1f3){return _1ee.then(function(){return _1ef;}).then(function(){var _1f4=true;if(typeof _1f3==="function"){_1f4=_1f3(_1f0,_1f2);if(_1f2.promiseStatus===null||_1f2.promiseStatus==="REJECT"){_1ee=Promise.reject(_1f2.promiseValue);return _1ee;}if(!_1f4){return null;}}return callSubmit(_1f0,_1f1,_1f2);});}function executeCallback(_1f5,_1f6,_1f7,_1f8){return _1f5.then(function(){return _1f6;}).then(function(_1f9){if(_1f9==null){return _1f5;}var _1fa=callCommonResponseHandler(_1f9[0],_1f9[1],"async mode",_1f9[2]);if(_1f8.promiseStatus===null||_1f8.promiseStatus==="REJECT"){_1f5=Promise.reject(_1f8.promiseValue);return _1f5;}_1f8.logTime[_1fa.id]=new Date();if(typeof _1f7==="function"){_1f7(_1fa,_1f8);$W.logger.printLog("Workflow callback "+_1fa.id);}_1f8.result[_1fa.id]=_1fa;if(_1f8.promiseStatus===null||_1f8.promiseStatus==="REJECT"){_1f5=Promise.reject(_1f8.promiseValue);return _1f5;}return _1f5;});}function callSubmit(_1fb,_1fc,_1fd){if(_1fd.promiseStatus===null||_1fd.promiseStatus==="REJECT"){return Promise.reject(_1fd.promiseValue);}return executeWorkFlowSubmission(_1fb).then(function(_1fe){if(_1fc=="0"){if(_1fd.promiseStatus===null||_1fd.promiseStatus==="REJECT"){return Promise.reject(_1fd.promiseValue);}var _1ff=callCommonResponseHandler(_1fe[0],_1fe[1],"async mode",_1fe[2]);_1fd.logTime[_1ff.id]=new Date();if(_1fd.promiseStatus===null||_1fd.promiseStatus==="REJECT"){return Promise.reject(_1fd.promiseValue);}_1fd.result[_1ff.id]=_1ff;return _1ff;}else{}return _1fe;});}function executeWorkFlowSubmission(_200,_201,obj){return new Promise(function(_203,_204){$W._J.executeSubmission(_200,_201,obj,_203,_204);});}function callCommonResponseHandler(_205,obfuscator_http,_206,_207){if(_206){window.clearTimeout(_206);window.clearInterval(_206);_206=null;}var _208=commonResponseHandler(_205,obfuscator_http,"async mode",_207);if(_208.hideProcessMsg!==false){$W._J.deleteMessage_pre(_208.id);}if(_208!=null&&_208.errorType!=undefined){throw new Error(_208.errorType);}return _208;}$W._J.executeSerial=function(_209,_20a,_20b,_20c,id){var _20e=makeWorkflowJson("serial",_209,_20a,_20b,_20c,id);$W._J.executeWorkflow(_20e);};$W._J.executeParallel=function(_20f,_210,_211,_212,id){var _214=makeWorkflowJson("parallel",_20f,_210,_211,_212,id);$W._J.executeWorkflow(_214);};$W._J.executeWhilst=function(_215,_216,_217,_218,_219,_21a,id){var _21c={};_21c.id=id||"whilstTemp";_21c.promiseStatus="PENDING";_21c.result=[];if(_218!=""){}else{_218=$W._N.getConfiguration("/WebSquare/workflow/processMsg/@value");}$W.layer.addSubmissionMessage(_21c.id,_218);var _21d=Promise.resolve();var _21e=0;while((typeof _216==="function"&&_216(_215,_21e))&&(typeof _217==="number"&&_21e<_217)){_21e++;_21d=_21d.then(function(){_21d=callSubmit(_215,"1",_21c);return _21d;}).then(function(_21f){var _220=callCommonResponseHandler(_21f[0],_21f[1],"async mode",_21f[2]);_21c.result.push(_220);});}_21d.then(function(){_21c.promiseStatus="RESOLVE";if(typeof _219==="function"){_219(_21c);}$W.logger.printLog("executeWhilst complete ");workflowObjClear(id,true,_21c);})["catch"](function(err){_21c.promiseStatus="REJECT";if(typeof _21a==="function"){_21a(_21c);}$W.logger.printLog("executeWhilst rejected "+_21c.errorMsg);workflowObjClear(id,true,_21c);});};function makeWorkflowJson(type,_223,_224,_225,_226,id){var _228={};_228.id=id||type+"Temp";_228.processMsg=_224||$W._N.getConfiguration("/WebSquare/workflow/processMsg/@value");_228.resolveCallback=_225;_228.rejectCallback=_226;var _229=[];for(var i=0;i<_223.length;i++){var _22b=_223[i];var _22c={};_22c.type="submit";_22c.action=_22b;_229.push(_22c);if(type==="serial"){var _22d={};_22d.type="submitDone";_22d.action=_22b;_229.push(_22d);}}if(type==="parallel"){for(var i=0;i<_223.length;i++){var _22b=_223[i];var _22d={};_22d.type="submitDone";_22d.action=_22b;_229.push(_22d);}}_228.step=_229;return _228;}function printTableLog(_22e){var _22f=_22e.step;var _230={};var row=0,col=-1;var _232="S";var _233="";var _234="";var i=0,j=0,k=0;for(i=0;i<_22f.length;i++){_234=_22f[i].action;_233=_22f[i].type;if(_233==="function"){_233="submit";}if((_232==="submit"&&_233==="submit")){}else{col++;}if(_233==="function"||_233==="submit"){_230[_234+"S"]={};_230[_234+"S"].row=row;_230[_234+"S"].col=col;row++;}else{_230[_234+"C"]={};_230[_234+"C"].row=_230[_234+"S"].row;_230[_234+"C"].col=col;}_232=_233;}col++;var _236=_22e.logTime["START"];var _237=0;var _238=[];var _239=row;var _23a=col;var _23b=null;var _23c=[];for(j=0;j<_239;j++){_238[j]=[];for(k=0;k<=_23a;k++){_238[j][k]="";}}for(i=0;i<_22f.length;i++){_234=_22f[i].action;_233=_22f[i].type;if(_233==="submitDone"){continue;}row=_230[_234+"S"].row;col=_230[_234+"S"].col;_23c[row]=[];_23c[row][0]=col+1;_238[row][col]=_234;if(_233==="function"){continue;}row=_230[_234+"C"].row;col=_230[_234+"C"].col;_23b=_22e.logTime[_234];if(_23b===undefined){continue;}_237=_23b.getTime()-_236.getTime();_23c[row][1]=col-1;_238[row][col]="["+_237+"ms"+"]";}var _23d=[];var _23e=0;for(j=0;j<_23a;j++){_23d[j]=0;for(k=0;k<_239;k++){_23e=_238[k][j].length;if(_23e>_23d[j]){_23d[j]=_23e;}}}var _23f=0,end=0;var _240="";var _241="";for(j=0;j<_239;j++){_23f=_23c[j][0];end=_23c[j][1];for(k=0;k<=_23a;k++){_240=_238[j][k];for(i=_240.length;i<_23d[k];i++){if(k>=_23f&&k<=end){_240+="-";}else{_240+=" ";}}_241+="|"+_240;}_241+="\n";}var _242=_22e.logTime["END"];_237=_242.getTime()-_236.getTime();_241="\n[ WORKFLOW :: "+_22e.id+" Start : "+logFormatTime(_236)+"]\n"+_241+"[ WORKFLOW :: "+_22e.id+" End : "+logFormatTime(_242)+"    duration : "+_237+"ms ]\n";$W.logger.printLog(_241);}function logFormatTime(_243){return $W._A.fillZero(_243.getHours(),2)+":"+$W._A.fillZero(_243.getMinutes(),2)+":"+$W._A.fillZero(_243.getSeconds(),2)+":"+$W._A.fillZero(_243.getMilliseconds(),3);}})();;WebSquare.ModelUtil=$W._J;(function(){$W._j={};$W._j["api"]={};$W._j["comp"]={};$W._j["attributeMapInfo"]={};$W._j["childToParentRelation"]={};$W._j["parentToChildRelation"]={};$W._j["childToParentRef"]={};$W._j["parentToChildRef"]={};$W._j["options"]={useConfig:"true",baseNode:"map",attributeMap:""};$W._j["activated"]=false;$W._j["stopBroadCast"]=false;$W._j.api.create=function(_1){["WebSquare.DataCollection.api.create"];try{var _2;if(typeof _1=="string"){if(_1.match("xmlns:w2=")==null){_1=_1.replace(">"," xmlns:w2='http://www.inswave.com/websquare'>");}_1=$W._B.parse(_1,true);if(_1){_1=_1.documentElement;_2=_1.tagName.replace("w2:","");}else{return;}}else{var _3=$W._N.isXML(_1);_2=_3?_1.tagName.replace("w2:",""):_1.type;_1.elementType=_3?"XML":"JSON";}var _4;switch(_2){case "dataList":_4=new $W._j.dataList(null,null,_1,_2);break;case "dataMap":_4=new $W._j.dataMap(null,null,_1,_2);break;case "linkedDataList":_4=new $W._j.linkedDataList(null,null,_1,_2);break;}if(_4){$W._j.api.addChild(_4);var _5=$W._j.parentToChildRef[_4.id];if(_5){for(var _6 in _5){if(_5[_6]){var _7=$W._G.getComponentById(_6);_7.modelControl.dataCollectionBinding(_7.options.ref);}}}}}catch(e){$W.exception.printStackTrace(e);}};$W._j.api.createObjects=function(_8){["WebSquare.DataCollection.api.createObjects"];try{for(var i=0;i<_8.length;i++){$W._j.api.create(_8[i]);}}catch(e){$W.exception.printStackTrace(e);}};$W._j.api.remove=function(_a){["WebSquare.DataCollection.api.remove"];try{var _b=$W._j["comp"][_a];if(_b==null){if(_a.indexOf("??")>=0&&$W.idCache[$W.idToUUID[_a]]){_b=$W.idCache[$W.idToUUID[_a]];}else{return;}}if(typeof _b.finalize=="function"){try{_b.finalize();}catch(e){$W.logger.printLog("[ERROR] : WebSquare.DataCollection.api.remove - finalize : "+_b.id);}}window[$W.noConflict].comp[_b.id]=null;window[$W.noConflict].data[_b.id]=null;delete window[$W.noConflict].comp[_b.id];delete window[$W.noConflict].data[_b.id];$W.idToUUID[_b.id]=null;delete $W.idToUUID[_b.id];$W.idCache[_b.uuid]=null;delete $W.idCache[_b.uuid];if(window[_b.id]){window[_b.id]=null;}if(_b.options){var _c=_b.getOption("pluginName");var _d=$W.WebSquareDocument.getElementsByTagName(_c);for(var _e=0,len=_d.length;_e<len;_e++){if(_d[_e]==_b){$W.WebSquareDocument.componentsCache[_c][_e]=null;$W.WebSquareDocument.componentsCache[_c].splice(_e,1);}}}if(_b.event){_b.event.clearCache();}for(var i in _b){delete _b[i];}delete $W._j["comp"][_a];delete $W._j["parentToChildRelation"][_a];delete $W._j["parentToChildRef"][_a];}catch(e){$W.exception.printStackTrace(e);}};$W._j.api.addChild=function(_10){["WebSquare.DataCollection.api.addChild"];try{$W._j.comp[_10.id]=_10;}catch(e){$W.exception.printStackTrace(e);}};$W._j.api.addRelation=function(_11,_12){["WebSquare.DataCollection.api.addRelation"];try{$W._j.childToParentRelation[_11]=_12;if(!$W._j.parentToChildRelation[_12]){$W._j.parentToChildRelation[_12]={};}if(!$W._j.parentToChildRelation[_12][_11]){$W._j.parentToChildRelation[_12][_11]=true;if($W._j["comp"][_12]){$W._j["comp"][_12]._addRelation(_11);}}}catch(e){$W.exception.printStackTrace(e);}};$W._j.api.addRefRelation=function(_13,_14){["WebSquare.DataCollection.api.addRefRelation"];try{$W._j.childToParentRef[_13]=_14;if(!$W._j.parentToChildRef[_14]){$W._j.parentToChildRef[_14]={};}if(!$W._j.parentToChildRef[_14][_13]){$W._j.parentToChildRef[_14][_13]=true;if($W._j["comp"][_14]){$W._j["comp"][_14]._addRefRelation(_13);}}}catch(e){$W.exception.printStackTrace(e);}};$W._j.api.setRefValue=function(_15,_16,_17){["WebSquare.DataCollection.api.setRefValue"];try{var _18=_15.dataComp;if(_18){switch(_18.initializeType){case "linkedDataList":case "dataList":if(typeof _18.rowPosition=="number"){_18.setCellData(_18.rowPosition,_15.colID,_16,_17);}break;case "dataMap":if(!_18.firstSetting[_15.key]&&_18.options.firstSet&&_18.get(_15.key)==""){_18.setOriginal(_15.key,_18.get(_15.key));}_18.set(_15.key,_16);break;}}}catch(e){$W.exception.printStackTrace(e);}};$W._j.api.getRefValue=function(_19){["WebSquare.DataCollection.api.getRefValue"];try{var _1a=_19.dataComp;if(_1a){switch(_1a.initializeType){case "linkedDataList":case "dataList":return _1a.getCellData(_1a.rowPosition,_19.colID);case "dataMap":return _1a.get(_19.key);}}}catch(e){$W.exception.printStackTrace(e);}};$W._j.api.get=function(_1b,_1c,_1d){["WebSquare.DataCollection.api.get"];try{if(typeof _1d==="undefined"||_1d==null){_1d={};}if(typeof _1c=="string"){_1c=eval(_1c);for(var i=0;i<_1c.length;i++){var _1f=_1c[i];if(_1f.initializeType){_1c[i]=_1f.id;}}}switch(_1b.toUpperCase()){case "JSON":return $W._j.api._getJSON(_1c,_1d);case "ARRAY":return $W._j.api._getARRAY(_1c,_1d);case "XML":return $W._j.api._getXML(_1c,_1d);}}catch(e){$W.exception.printStackTrace(e);}};$W._j.api._getJSON=function(_20,_21){["WebSquare.DataCollection.api.getJSON"];try{if(typeof _21==="undefined"||_21==null){_21={};}var _22=_21.scope_obj||null;if(_20&&_20.length==1&&_21&&_21.singleMode){var _23=_20[0];var _24=null;if(typeof _23=="string"){if(_22!=null){var _25=$W._G.getComponentById(_22).scope[_23];if(_25!=undefined){_23=_25.id;}}_24=$W._j.comp[_23];}else{if(_22!=null){var _25=$W._G.getComponentById(_22).scope[_23.id];if(_25!=undefined){_23.id=_25.id;}}_24=$W._j.comp[_23.id];if(typeof _23.includeColumns==="object"&&_23.includeColumns!=null&&_23.includeColumns.constructor===Array){_21.includeColumns=_23.includeColumns;}}if(_24.initializeType=="dataMap"){return _24.getJSON(_21);}else{if(_24.initializeType=="dataList"||_24.initializeType=="linkedDataList"){return _24.getAllJSON(_21);}}}var obfuscator_returnJSON={};var obfuscator_options=_21;if(_20){for(var i=0;i<_20.length;i++){var obfuscator_tempJSON={};var obfuscator_info=_20[i];if(typeof obfuscator_info=="string"){if(_22!=null){var _25=$W._G.getComponentById(_22).scope[obfuscator_info];if(_25!=undefined){obfuscator_info=_25.id;}}var obfuscator_comp=$W._j.comp[obfuscator_info];if(obfuscator_comp){var _27=obfuscator_comp.getOption("JSONPath");var _28=obfuscator_comp.id;if(_22!=null){_28=obfuscator_comp.org_id||obfuscator_comp.id;}_27=_27?(_27+"."+_28):_28;obfuscator_tempJSON=$W._j.api.JSONPathEvaluator(obfuscator_tempJSON,_27);switch(obfuscator_comp.initializeType){case "dataMap":eval("obfuscator_tempJSON."+_27+" = obfuscator_comp.getJSON(obfuscator_options);");break;case "dataList":case "linkedDataList":eval("obfuscator_tempJSON."+_27+" = obfuscator_comp.getAllJSON(obfuscator_options);");break;}}}else{if(typeof obfuscator_info=="object"){if(_22!=null){var _25=$W._G.getComponentById(_22).scope[obfuscator_info.id];if(_25!=undefined){obfuscator_info.id=_25.id;}}var obfuscator_comp=$W._j.comp[obfuscator_info.id];if(obfuscator_comp){if(typeof obfuscator_info.includeColumns==="object"&&obfuscator_info.includeColumns!=null&&obfuscator_info.includeColumns.constructor===Array){obfuscator_options.includeColumns=obfuscator_info.includeColumns;}var _27=obfuscator_comp.getOption("JSONPath");var _28=obfuscator_comp.id;if(_22!=null){_28=obfuscator_comp.org_id||obfuscator_comp.id;}_27=_27?(_27+"."+(obfuscator_info.key||_28)):(obfuscator_info.key||_28);obfuscator_tempJSON=$W._j.api.JSONPathEvaluator(obfuscator_tempJSON,_27);switch(obfuscator_comp.initializeType){case "dataMap":eval("obfuscator_tempJSON."+_27+"= WebSquare.DataCollection.api._getMapByOption('JSON',obfuscator_info, obfuscator_options);");break;case "dataList":case "linkedDataList":eval("obfuscator_tempJSON."+_27+"= WebSquare.DataCollection.api._getListByOption('JSON',obfuscator_info, obfuscator_options);");break;}}}}obfuscator_returnJSON=$W._I.JSONExtend(obfuscator_returnJSON,obfuscator_tempJSON);}}else{for(var id in $W._j.comp){var obfuscator_comp=$W._j.comp[id];if(_22!=null){if(!obfuscator_comp.scope_obj){continue;}if(obfuscator_comp.scope_obj.id!==_22){continue;}}var _27=obfuscator_comp.getOption("JSONPath");var _28=obfuscator_comp.id;if(_22!=null){_28=obfuscator_comp.org_id||obfuscator_comp.id;}_27=_27?(_27+"."+_28):_28;obfuscator_returnJSON=$W._j.api.JSONPathEvaluator(obfuscator_returnJSON,_27);switch(obfuscator_comp.initializeType){case "dataMap":eval("obfuscator_returnJSON."+_27+" = obfuscator_comp.getJSON(obfuscator_options);");break;case "dataList":case "linkedDataList":eval("obfuscator_returnJSON."+_27+" = obfuscator_comp.getAllJSON(obfuscator_options);");break;}}}return obfuscator_returnJSON;}catch(e){$W.exception.printStackTrace(e);}};$W._j.api._getARRAY=function(_2a,_2b){["WebSquare.DataCollection.api._getARRAY"];try{if(typeof _2b==="undefined"||_2b==null){_2b={};}var _2c=_2b.scope_obj||null;if(_2a&&_2a.length==1&&_2b&&_2b.singleMode){var _2d=_2a[0];var _2e=null;if(typeof _2d=="string"){if(_2c!=null){var _2f=$W._G.getComponentById(_2c).scope[_2d];if(_2f!=undefined){_2d=_2f.id;}}_2e=$W._j.comp[_2d];}else{if(_2c!=null){var _2f=$W._G.getComponentById(_2c).scope[_2d.id];if(_2f!=undefined){_2d.id=_2f.id;}}_2e=$W._j.comp[_2d.id];if(typeof _2d.includeColumns==="object"&&_2d.includeColumns!=null&&_2d.includeColumns.constructor===Array){_2b.includeColumns=_2d.includeColumns;}}if(_2e.initializeType=="dataMap"){return _2e.getJSON(_2b);}else{if(_2e.initializeType=="dataList"||_2e.initializeType=="linkedDataList"){return _2e.getAllArray(_2b);}}}var obfuscator_returnJSON={};if(_2a){for(var i=0;i<_2a.length;i++){var _2d=_2a[i];if(typeof _2d=="string"){if(_2c!=null){var _2f=$W._G.getComponentById(_2c).scope[_2d];if(_2f!=undefined){_2d=_2f.id;}}var _2e=$W._j.comp[_2d];if(_2e){var _31=_2e.id;if(_2c!=null){_31=_2e.org_id||_2e.id;}switch(_2e.initializeType){case "dataMap":obfuscator_returnJSON[_31]=_2e.getJSON(_2b);break;case "dataList":case "linkedDataList":obfuscator_returnJSON[_31]=_2e.getAllArray(_2b);break;}}}else{if(typeof _2d=="object"){if(_2c!=null){var _2f=$W._G.getComponentById(_2c).scope[_2d.id];if(_2f!=undefined){_2d.id=_2f.id;}}var _2e=$W._j.comp[_2d.id];var _32=false;if(_2e){if(_2d.key){key=_2d.key;if(typeof key==="string"&&key.indexOf(".")>=0){obfuscator_returnJSON=$W._j.api.JSONPathEvaluator(obfuscator_returnJSON,key);_32=true;}}else{key=_2e.id;if(_2c!=null){key=_2e.org_id||_2e.id;}}if(typeof _2d.includeColumns==="object"&&_2d.includeColumns!=null&&_2d.includeColumns.constructor===Array){_2b.includeColumns=_2d.includeColumns;}switch(_2e.initializeType){case "dataMap":if(_32){var obfuscator_info=_2d;var obfuscator_options=_2b;eval("obfuscator_returnJSON."+key+" =  WebSquare.DataCollection.api._getMapByOption(\"ARRAY\", obfuscator_info, obfuscator_options);");}else{obfuscator_returnJSON[key]=$W._j.api._getMapByOption("ARRAY",_2d,_2b);}break;case "dataList":case "linkedDataList":if(_32){var obfuscator_info=_2d;var obfuscator_options=_2b;eval("obfuscator_returnJSON."+key+" = WebSquare.DataCollection.api._getListByOption(\"ARRAY\", obfuscator_info, obfuscator_options);");}else{obfuscator_returnJSON[key]=$W._j.api._getListByOption("ARRAY",_2d,_2b);}break;}}}}}}else{for(var id in $W._j.comp){var _2e=$W._j.comp[id];if(_2c!=null){if(!_2e.scope_obj){continue;}if(_2e.scope_obj.id!==_2c){continue;}}switch(_2e.initializeType){case "dataMap":obfuscator_returnJSON[_2e.id]=_2e.getJSON(_2b);break;case "dataList":case "linkedDataList":obfuscator_returnJSON[_2e.id]=_2e.getAllArray(_2b);break;}}}return obfuscator_returnJSON;}catch(e){$W.exception.printStackTrace(e);}};$W._j.api._getXML=function(_34,_35){["WebSquare.DataCollection.api._getXML"];try{if(typeof _35==="undefined"||_35==null){_35={};}var _36=_35.scope_obj||null;if(_34&&_34.length==1&&_35&&_35.singleMode){var _37=_34[0];if(_36!=null){var _38=$W._G.getComponentById(_36).scope[_37];if(_38!=undefined){_37=_38.id;}}var _39=$W._j.comp[_37];if(_39.initializeType=="dataMap"){return _39.getXML(_35);}else{if(_39.initializeType=="dataList"||_39.initializeType=="linkedDataList"){return _39.getAllXML(_35);}}}var _3a=function(_3b){var str="";for(var _3d=0;_3d<_3b.length;_3d++){str+="<"+_3b[_3d]+">";}for(var _3d=_3b.length-1;_3d>=0;_3d--){str+="</"+_3b[_3d]+">";}return str;};var _3e=$W._j["options"]["baseNode"].split("/");var _3f=_3a(_3e);var _40=$W._B.parse(_3f);var _41=_40.documentElement;var _42=$W._G.getComponentById($W._j["options"]["attributeMap"]);if(_42){for(var i=0;i<_42.getCount();i++){_41.setAttribute(_42.getKey(i),_42.get(i));}}if(_34){for(var i=0;i<_34.length;i++){var key;var _45;var _37=_34[i];if(typeof _37=="string"){if(_36!=null){var _38=$W._G.getComponentById(_36).scope[_37];if(_38!=undefined){_37=_38.id;}}var _39=$W._j.comp[_37];if(_39){key=_39.id;if(_36!=null){key=_39.org_id||_39.id;}switch(_39.initializeType){case "dataMap":_45=_39.getXML(_35);break;case "dataList":case "linkedDataList":_45=_39.getAllXML(_35);break;}}}else{if(typeof _37=="object"){if(_36!=null){var _38=$W._G.getComponentById(_36).scope[_37.id];if(_38!=undefined){_37.id=_38.id;}}var _39=$W._j.comp[_37.id];if(_39){if(_37.key){key=_37.key;}else{key=_39.id;if(_36!=null){key=_39.org_id||_39.id;}}if(typeof _37.includeColumns==="object"&&_37.includeColumns!=null&&_37.includeColumns.constructor===Array){_35.includeColumns=_37.includeColumns;}switch(_39.initializeType){case "dataMap":_45=$W._j.api._getMapByOption("XML",_37,_35);break;case "dataList":case "linkedDataList":_45=$W._j.api._getListByOption("XML",_37,_35);break;}}}}_45=_45.documentElement?_45.documentElement:_45;if(_39&&_39.getOption("keyNode")){var _46=_39.getOption("keyNode");_46=_46.wq_replaceAll("${key}",key);_45=$W._j.api.makeKeyNodeChildXML(_39,_46,_45,key);}$W._B.appendChild(_41,_45);}}else{for(var id in $W._j.comp){var _45;var _39=$W._j.comp[id];var _48=_39.id;if(_35.scope_obj!=null){if(!_39.scope_obj){continue;}if(_39.scope_obj.id!==_36){continue;}_48=_39.org_id||_39.id;}_35.id=_48;switch(_39.initializeType){case "dataMap":_45=_39.getXML(_35);break;case "dataList":case "linkedDataList":_45=_39.getAllXML(_35);break;}_45=_45.documentElement?_45.documentElement:_45;if(_39.getOption("keyNode")){var _46=_39.getOption("keyNode");var _49=_39.id;if(_36!=null){_49=_39.org_id||_39.id;}_46=_46.wq_replaceAll("${key}",_49);_45=$W._j.api.makeKeyNodeChildXML(_39,_46,_45);}$W._B.appendChild(_41,_45);}}return _40;}catch(e){$W.exception.printStackTrace(e);}};$W._j.api._getListByOption=function(_4a,_4b,_4c){["WebSquare.DataCollection.api._getListByOption"];try{if(typeof _4c==="undefined"||_4c==null){_4c={};}var _4d=_4c.scope_obj||null;var _4e=$W._j.comp[_4b.id];if(_4e){if(_4b.key){key=_4b.key;}else{key=_4e.id;if(_4d!=null){key=_4e.org_id||_4e.id;}}var _4f=_4b.action;var _50=_4b.matchedColumn;var _51=_4b.matchedData;if(_4a=="JSON"){switch(_4f){case "all":return _4e.getAllJSON(_4c);case "modified":return _4e.getModifiedJSON(_4c);case "inserted":return _4e.getInsertedJSON(_4c);case "deleted":return _4e.getDeletedJSON(false,_4c);case "updated":return _4e.getUpdatedJSON(_4c);case "matched":if(_50&&_51){return _4e.getMatchedJSON(_50,_51,_4c);}case "unmatched":if(_50&&_51){return _4e.getUnmatchedJSON(_50,_51,_4c);}default:return _4e.getAllJSON(_4c);}}else{if(_4a=="ARRAY"){switch(_4f){case "all":return _4e.getAllArray(_4c);case "modified":return _4e.getModifiedArray(_4c);case "inserted":return _4e.getInsertedArray(_4c);case "deleted":return _4e.getDeletedArray(false,_4c);case "updated":return _4e.getUpdatedArray(_4c);case "matched":if(_50&&_51){return _4e.getMatchedArray(_50,_51,_4c);}case "unmatched":if(_50&&_51){return _4e.getUnmatchedArray(_50,_51,_4c);}default:return _4e.getAllArray(_4c);}}else{if(_4a=="XML"){_4c.id=key;switch(_4f){case "all":return _4e.getAllXML(_4c);case "modified":return _4e.getModifiedXML(_4c);case "inserted":return _4e.getInsertedXML(_4c);case "deleted":return _4e.getDeletedXML(false,_4c);case "updated":return _4e.getUpdatedXML(_4c);case "matched":if(_50&&_51){return _4e.getMatchedXML(_50,_51,false,false,false,_4c);}case "unmatched":if(_50&&_51){return _4e.getUnmatchedXML(_50,_51,false,false,false,_4c);}default:return _4e.getAllXML(_4c);}}}}}}catch(e){$W.exception.printStackTrace(e);}};$W._j.api._getMapByOption=function(_52,_53,_54){["WebSquare.DataCollection.api._getMapByOption"];try{if(typeof _54==="undefined"||_54==null){_54={};}var _55=_54.scope_obj||null;var _56=$W._j.comp[_53.id];if(_56){var _57=_53.action;if(_53.key){key=_53.key;}else{key=_56.id;if(_55!=null){key=_56.org_id||_56.id;}}var _58=_53.matchedColumn;var _59=_53.matchedData;if(_52=="JSON"){switch(_57){case "all":return _56.getJSON(_54);default:return _56.getJSON(_54);}}else{if(_52=="ARRAY"){switch(_57){case "all":return _56.getArray(_54);default:return _56.getArray(_54);}}else{if(_52=="XML"){_54.id=key;switch(_57){case "all":return _56.getXML(_54);default:return _56.getXML(_54);}}}}}}catch(e){$W.exception.printStackTrace(e);}};$W._j.api._getArrayEvalString=function(){["WebSquare.DataCollection.api._getArrayEvalString"];try{var _5a="{";var _5b=[];var _5c=0;for(var id in $W._j.comp){_5b.push(id);if($W._j.comp[id].initializeType==="linkedDataList"){_5c++;}}for(var i=0;i<_5b.length;i++){var _5f=$W._j.comp[_5b[i]];switch(_5f.initializeType){case "dataMap":_5a+="\""+_5f.id+"\""+":"+_5f._dataList.getAllArrayEvalString();if(i<_5b.length-1-_5c){_5a+=",";}break;case "dataList":_5a+="\""+_5f.id+"\""+":"+_5f.getAllArrayEvalString();if(i<_5b.length-1-_5c){_5a+=",";}break;}}_5a+="}";return _5a;}catch(e){$W.exception.printStackTrace(e);return {};}};$W._j.api.getOption=function(key){["WebSquare.DataCollection.api.getOption"];try{var _61=key in $W._j["options"];var _62=$W._j.options.attributeMap;if(_61){return $W._j["options"][key];}else{if(_62){var _63=$W._G.getComponentById(_62);if(_63.hasKey(key)){return _63.get(key);}}}return;}catch(e){$W.exception.printStackTrace(e);}};$W._j.api.setOption=function(key,_65){["WebSquare.DataCollection.api.setOption"];try{if(typeof _65=="string"&&_65.wq_trim()=="$none"){_65="";}var _66=key in $W._j["options"];var _67=$W._j.options.attributeMap;if(_66){if(key=="baseNode"){$W._j["options"][key]=_65||"map";}else{$W._j["options"][key]=_65;}}else{if(_67){var _68=$W._G.getComponentById(_67);if(_68.hasKey(key)){_68.set(key,_65);}}}}catch(e){$W.exception.printStackTrace(e);}};$W._j.api.set=function(_69,_6a,_6b,_6c){["WebSquare.DataCollection.api.set"];try{if(typeof _6c==="undefined"||_6c==null){_6c={};}if(typeof _6b=="string"){_6b=eval(_6b);for(var i=0;i<_6b.length;i++){var _6e=_6b[i];if(_6e.initializeType){_6b[i]=_6e.id;}}}switch(_69.toUpperCase()){case "JSON":return $W._j.api._setJSON(_6a,_6b,_6c);case "ARRAY":return $W._j.api._setARRAY(_6a,_6b,_6c);case "XML":return $W._j.api._setXML(_6a,_6b,_6c);}}catch(e){$W.exception.printStackTrace(e);}};$W._j.api._setJSON=function(_6f,_70,_71){["WebSquare.DataCollection.api._setJSON"];try{if(typeof _71==="undefined"||_71==null){_71={};}var _72=_71.scope_obj||null;if(_70){for(var i=0;i<_70.length;i++){var _74=_70[i];if(typeof _74=="string"){var key=_74;if(_72!=null){var _76=$W._G.getComponentById(_72).scope[_74];if(_76!=undefined){_74=_76.id;key=_76.org_id||key;}}var _77=$W._j.comp[_74];var _78=_70.length==1&&_71.singleMode?_6f:_6f[key];if(_77){switch(_77.initializeType){case "dataMap":case "dataList":_77.setJSON(_78);break;}}}else{if(typeof _74=="object"){if(_72!=null){var _76=$W._G.getComponentById(_72).scope[_74.id];if(_76!=undefined){_74.id=_76.id;}}var _77=$W._j.comp[_74.id];if(_74.key){key=_74.key;}else{key=_77.id;if(_72!=null){key=_77.org_id||_77.id;}}var _78=_70.length==1&&_71.singleMode?_6f:_6f[key];if(_77){var _79=_74.action==="append";switch(_77.initializeType){case "dataMap":case "dataList":_77.setJSON(_78,_79,_74.includeColumns);break;}}}}}}else{for(var id in _6f){var _7b=id;if(_72!=null){_7b=_72+"_"+id;}var _77=$W._j.comp[_7b];if(_77){switch(_77.initializeType){case "dataMap":case "dataList":_77.setJSON(_6f[id]);break;}}}}}catch(e){$W.exception.printStackTrace(e);}};$W._j.api._setARRAY=function(_7c,_7d,_7e){["WebSquare.DataCollection.api._setARRAY"];try{if(typeof _7e==="undefined"||_7e==null){_7e={};}var _7f=_7e.scope_obj||null;if(_7d){for(var i=0;i<_7d.length;i++){var _81=_7d[i];if(typeof _81=="string"){var key=_81;if(_7f!=null){var _83=$W._G.getComponentById(_7f).scope[_81];if(_83!=undefined){_81=_83.id;key=_83.org_id||key;}}var _84=$W._j.comp[_81];var _85=_7d.length==1&&_7e.singleMode?_7c:_7c[key];if(_84){switch(_84.initializeType){case "dataMap":case "dataList":_84.setArray(_85);break;}}}else{if(typeof _81=="object"){if(_7f!=null){var _83=$W._G.getComponentById(_7f).scope[_81.id];if(_83!=undefined){_81.id=_83.id;}}var _84=$W._j.comp[_81.id];if(_81.key){key=_81.key;}else{key=_84.id;if(_7f!=null){key=_84.org_id||_84.id;}}var _85=_7d.length==1&&_7e.singleMode?_7c:_7c[key];if(_84){var _86=_81.action==="append";switch(_84.initializeType){case "dataMap":case "dataList":_84.setArray(_85,_86,_81.includeColumns);break;}}}}}}else{for(var id in _7c){var _88=id;if(_7f!=null){_88=_7f+"_"+id;}var _84=$W._j.comp[_88];if(_84){switch(_84.initializeType){case "dataMap":case "dataList":_84.setArray(_7c[id]);break;}}}}}catch(e){$W.exception.printStackTrace(e);}};$W._j.api._setXML=function(_89,_8a,_8b){["WebSquare.DataCollection.api._setXML"];try{if(typeof _8b==="undefined"||_8b==null){_8b={};}var _8c=_8b.scope_obj||null;_89=_89.documentElement?_89.documentElement:_89;function getName(_8d){var _8e;if(typeof _8d=="string"){_8e=_8d;}else{_8e=_8d.id;}return _8e;}if(_8a&&_8a.length==1&&_89.nodeName=="vector"){var _8f=getName(_8a[0]);if(_8c!=null){var _90=$W._G.getComponentById(_8c).scope[_8f];if(_90!=undefined){_8f=_90.id;}}var _91=$W._j.comp[_8f];if(_91){_91.setXML(_89);}return;}else{if(_8a&&_8a.length==1&&_89.nodeName=="hastable"&&!_89.getAttribute("hashKey")){var _8f=getName(_8a[0]);if(_8c!=null){var _90=$W._G.getComponentById(_8c).scope[_8f];if(_90!=undefined){_8f=_90.id;}}var _91=$W._j.comp[_8f];if(_91){_91.setXML(_89);}return;}else{if(_8a&&_8a.length==1&&_8b.singleMode){var _8f=getName(_8a[0]);if(_8c!=null){var _90=$W._G.getComponentById(_8c).scope[_8f];if(_90!=undefined){_8f=_90.id;}}var _91=$W._j.comp[_8f];if(_91){_91.setXML(_89);}return;}}}if(!_8a){_8a=[];for(var id in $W._j.comp){if(_8b.scope_obj!=null){var _91=$W._j.comp[id];if(!_91.scope_obj){continue;}if(_91.scope_obj.id!==_8c){continue;}}_8a.push(id);}}for(var i=0;i<_8a.length;i++){var _94=_8a[i];var key;var _91;var _96=false;if(typeof _94=="string"){key=_94;_91=$W._j.comp[_94];if(_8c!=null){key=_91.org_id||_91.id;}}else{_91=$W._j.comp[_94.id];if(_94.key){key=_94.key;}else{key=_91.id;if(_8c!=null){key=_91.org_id||_91.id;}}_96=_94.action=="append"?true:false;}if(_91){var uri;var _98=_91.getOption("keyNode");if(_98){_98=_98.wq_replaceAll("${key}",key);uri=_98+"/"+_91.getOption("baseNode").split("/")[0];}else{uri=_91.getOption("baseNode").split("/")[0];}var _99=$W._B.findNodes(_89,uri);var _9a=_91.getOption("idAttribute")?_91.getOption("idAttribute"):"id";for(var j=0;j<_99.length;j++){var _9c=_99[j];var _9d=_9c.parentNode.nodeName;if(_91.initializeType==="dataMap"){_9d=_9c.nodeName;}if(_98){var _9e=_9c.parentNode.getAttribute(_9a);if(_9e){_9d=_9e;}}else{var _9e=_9c.getAttribute(_9a);if(_9e){_9d=_9e;}}if(_9d===key){switch(_91.initializeType){case "dataMap":case "dataList":_91.setXML(_9c,_96,_94.includeColumns);break;}break;}}}}}catch(e){$W.exception.printStackTrace(e);}};$W._j.api._setArrayEvalString=function(_9f){["WebSquare.DataCollection.api._setArrayEvalString"];try{var obfuscator_data=null;eval("var obfuscator_data = "+_9f);for(var id in obfuscator_data){var _a1=$W._j.comp[id];switch(_a1.initializeType){case "dataMap":_a1.setArray(obfuscator_data[id]);break;case "dataList":_a1.setData(obfuscator_data[id]);break;}}}catch(e){$W.exception.printStackTrace(e);}};$W._j.api.syncWithAttributeMap=function(){["WebSquare.DataCollection.api.syncWithAttributeMap"];try{if($W._j["options"]["attributeMap"]){var _a2=$W._j.comp[this.options.attributeMap];if(_a2){var _a3=_a2.getCount();for(var i=0;i<_a3;i++){var key=_a2.getKey(i);var _a6=_a2.get(i);$W._j["options"][key]=_a6;}}}}catch(e){$W.exception.printStackTrace(e);}};$W._j.api.makeKeyNodeChildXML=function(_a7,_a8,_a9,key){["WebSquare.DataCollection.api.makeKeyNodeChildXML"];try{var _ab=function(_ac,_ad,_ae){var str="";for(var _b0=0;_b0<_ac.length;_b0++){str+="<"+_ac[_b0]+" "+_ad+"='"+_ae+"'>";}for(var _b0=_ac.length-1;_b0>=0;_b0--){str+="</"+_ac[_b0]+">";}return str;};var _b1=_a7.getOption("idAttribute")?_a7.getOption("idAttribute"):"id";var _b2=_a8.split("/");var _b3=_ab(_b2,_b1,key?key:_a7.id);var _b4=$W._B.parse(_b3).documentElement;var _b5=$W._B.findNode(_b4,"/"+_a8);$W._B.appendChild(_b5,_a9);return _b4;}catch(e){$W.exception.printStackTrace(e);}};$W._j.api.broadcast=function(_b6){["WebSquare.DataCollection.api.broadcast"];try{for(var id in $W._j["comp"]){var _b8=$W._j["comp"][id];switch(_b8.initializeType){default:_b8[_b6.all[0]].apply(_b8,_b6.all[1]||[]);break;}}}catch(e){$W.exception.printStackTrace(e);}};$W._j.api.JSONPathEvaluator=function(obfuscator_JSONObject,_b9){["WebSquare.DataCollection.api.JSONPathEvaluator"];try{var _ba=_b9.split(".");for(var i=0;i<_ba.length;i++){var _bc="['"+_ba.slice(0,i+1).join("']['")+"']";var _bd=eval("typeof obfuscator_JSONObject"+_bc+" =='object'");if(!_bd){eval("obfuscator_JSONObject"+_bc+"={};");}}return obfuscator_JSONObject;}catch(e){$W.exception.printStackTrace(e);}};$W._j.api.getInfo=function(_be,_bf,_c0){var ret={};if(typeof _be==="object"&&_be!=null){if(_be.constructor===Array){for(var i=0;i<_be.length;i++){var dc=$W._j["comp"][_be[i]];if(dc&&typeof dc.getInfo=="function"){ret[dc.id]=dc.getInfo(_bf,_c0);}}}else{for(var _c4 in _be){var dc=$W._j["comp"][_c4];if(dc&&typeof dc.getInfo=="function"){ret[dc.id]=dc.getInfo(_bf,_c0);}}}}else{for(var _c4 in $W._j["comp"]){var dc=$W._j["comp"][_c4];if(dc&&typeof dc.getInfo=="function"){ret[dc.id]=dc.getInfo(_bf,_c0);}}}return ret;};$W._j.api.getAllDataCollection=function(_c5){["WebSquare.DataCollection.api.getAllDataCollection"];try{var ret=[];for(var _c7 in $W._j["comp"]){if(_c5==="object"){ret.push($W._j["comp"][_c7]);}else{ret.push($W._j["comp"][_c7].id);}}return ret;}catch(e){$W.exception.printStackTrace(e);}};$W._j.api.onComplete=function(){["WebSquare.DataCollection.api.onComplete"];try{for(var _c8 in $W._j["comp"]){var dc=$W._j["comp"][_c8];if(dc&&typeof dc.onComplete=="function"){dc.onComplete();}}}catch(e){$W.exception.printStackTrace(e);}};})();;WebSquare.DataCollection=$W._j;$W._L={};$W._L.XmlEvent=function(_1,_2,_3,_4){["WebSquare.Events.XmlEvent"];try{this.name=_1;this.action=_2;this.param=_3;this.disabled=_4||false;}catch(e){$W.exception.printStackTrace(e);}};;WebSquare.Events=$W._L;$W._g={};$W._g.tabOrderData={};$W._g.setTabOrder=function(_1){["WebSquare.form.setTabOrder"];};$W._g.getNextObj=function(_2){["WebSquare.form.getNextObj"];};$W._g.getPrevObj=function(_3){["WebSquare.form.getPrevObj"];};$W._g.setXMLOption=function(){["WebSquare.form.setXMLOption"];var _4,xml,display="",formName="",xsl="",strSelected=null,blankText="",strTextSelected=null,allOption="false",chooseOption="false",allOptionText="\uc804\uccb4",chooseOptionText="-\uc120\ud0dd-",append="false",sorted="false",textSorted="false",debug="false";try{_4=arguments[0];xml=arguments[1];if(_4.indexOf(":")>-1){var _5=_4.split(";");for(var i=0;i<_5.length;i++){var _7=_5[i].split(":");if(_7.length==2){if(_7[0].toLowerCase().wq_trim()=="display"){display=_7[1].wq_trim();}else{if(_7[0].toLowerCase().wq_trim()=="form"){formName=_7[1].wq_trim();}else{if(_7[0].toLowerCase().wq_trim()=="xsl"){xsl=_7[1].wq_trim();}else{if(_7[0].toLowerCase().wq_trim()=="selected"){strSelected=_7[1].wq_trim();}else{if(_7[0].toLowerCase().wq_trim()=="textselected"){strTextSelected=_7[1].wq_trim();}else{if(_7[0].toLowerCase().wq_trim()=="alloption"){allOption=_7[1].toLowerCase().wq_trim();}else{if(_7[0].toLowerCase().wq_trim()=="alloptiontext"){allOptionText=_7[1].toLowerCase().wq_trim();}else{if(_7[0].toLowerCase().wq_trim()=="chooseoption"){chooseOption=_7[1].wq_trim();}else{if(_7[0].toLowerCase().wq_trim()=="chooseoptiontext"){chooseOptionText=_7[1].wq_trim();}else{if(_7[0].toLowerCase().wq_trim()=="blanktext"){blankText=_7[1].toLowerCase().wq_trim();}else{if(_7[0].toLowerCase().wq_trim()=="append"){append=_7[1].toLowerCase().wq_trim();}else{if(_7[0].toLowerCase().wq_trim()=="sorted"){sorted=_7[1].toLowerCase().wq_trim();}else{if(_7[0].toLowerCase().wq_trim()=="textsorted"){textSorted=_7[1].toLowerCase().wq_trim();}else{if(_7[0].toLowerCase().wq_trim()=="debug"){debug=_7[1].toLowerCase().wq_trim();}}}}}}}}}}}}}}}}}else{display=arguments[0];switch(arguments.length){case 8:formName=arguments[7];case 7:debug=arguments[6];case 6:sorted=arguments[5];case 5:allOption=arguments[4];case 4:strSelected=arguments[3];case 3:xsl=arguments[2];}}}catch(e){$W.exception.printStackTrace(e);}var _8=null;var _9=null;var _a=null;var _b=null;if(typeof formName=="undefined"||formName==null||formName==""){formName="";}else{formName="document."+formName+".";}_b=$W._g.getSelectObject(formName+display);if(_b!=null&&_b instanceof $W._a._r){var _c=_b;if(_c!=null&&xml!=null&&xml.wq_trim()!=""){try{if(xsl!=""){_8=$W._B.parse(xml);_a=$W._B.transform(_8,xsl);}else{_a=$W._B.parse(xml);}if(_a==null){return;}var _d=$W._w.getAttribute(_a,"selected");if(_d!=null&&_d.wq_trim()!=""){strSelected=_d.wq_trim();}var _e=$W._w.getAttribute(_a,"allOption");if(_e=="true"){allOption="true";}else{if(_e=="false"){allOption="false";}}var _f=$W._w.getAttribute(_a,"chooseOption");if(_f=="true"){chooseOption="true";}else{if(_f=="false"){chooseOption="false";}}var _10=new Array();if(append!="true"){_c.resetItemArr();}if(chooseOption=="true"){_c.setHeaderOption("",chooseOptionText);}if(allOption=="true"){_c.setHeaderOption("all",allOptionText);}var _11=[];if(_a.documentElement.nodeName=="hashtable"){var _12=_a.documentElement.childNodes;if(_12.length==0){if(blankText!=""){_c.setHeaderOption("",blankText);}}else{for(var i=0;i<_12.length;i++){var _13=_12.item(i);if(_13.nodeType==1&&_13.nodeName=="data"){var obj=new Object();var _15=_13.getAttribute("hashkey");var _16=_13.getAttribute("value");if(_15!=null&&_16!=null){obj["key"]=_15;obj["value"]=_16;_11.push(obj);}}}}}if(sorted=="true"){var _17=true;for(var i=0;i<_11.length;i++){if(isNaN(_11[i]["key"])||_11[i]["key"].wq_trim()==""){_17=false;break;}}if(_17){_11=_11.sort($W._g.numericKeySort);}else{_11=_11.sort($W._g.normalKeySort);}}else{if(textSorted=="true"){var _17=true;for(var i=0;i<_11.length;i++){if(isNaN(_11[i]["value"])||_11[i]["value"].wq_trim()==""){_17=false;break;}}if(_17){_11=_11.sort($W._g.numericValueSort);}else{_11=_11.sort($W._g.normalValueSort);}}}var _18=0;var _19=[];var _1a=_c.itemArr.length;for(var i=0;i<_11.length;i++){var _1b={};_1b.value=_11[i]["key"];_1b.label=_11[i]["value"];_19.push(_1b);if(strSelected!=null&&strSelected!=""){if(_11[i]["key"].wq_trim()==strSelected){_18=i+_1a;}}else{if(strTextSelected!=null&&strTextSelected!=""){if(_11[i]["value"].wq_trim()==strTextSelected){_18=i+_1a;}}}}_c.pushItemArr(_19);_c.selectedIndex=_18;_c.initSelect();}catch(e){$W.exception.printStackTrace(e);}}if(debug=="true"||debug=="y"){var obj=new Object();obj["result"]=$W._B.indent(_a);if(xsl!=""){obj["xml"]=$W._B.indent(_8);obj["xsl"]=$W._B.indent(_9);}$W.logger.showDebugMsg(obj,"xml","setXMLOption \uc2e4\ud589 \uacb0\uacfc");}}else{if(_b!=null&&xml!=null&&xml.wq_trim()!=""){try{if(xsl!=""){_8=$W._B.parse(xml);_a=$W._B.transform(_8,xsl);}else{_a=$W._B.parse(xml);}if(_a==null){return;}var _d=$W._w.getAttribute(_a,"selected");if(_d!=null&&_d.wq_trim()!=""){strSelected=_d.wq_trim();}var _e=$W._w.getAttribute(_a,"allOption");if(_e=="true"){allOption="true";}else{if(_e=="false"){allOption="false";}}var _f=$W._w.getAttribute(_a,"chooseOption");if(_f=="true"){chooseOption="true";}else{if(_f=="false"){chooseOption="false";}}var _10=new Array();var _1c="";if($W._N.browserCheck.ie){_1c=_b.outerHTML;if(append=="true"){var _1d=_1c.lastIndexOf("<");if(_1d<1){if(_1c.lastIndexOf("<SELECT")==-1){_1c="<SELECT>";}}else{var _1e=_1c.indexOf("/>",_1d);if(_1e==-1){_1c=_1c.substring(0,_1d);}else{_1c=_1c.substring(0,_1e)+">";}}}else{var _1d=_1c.indexOf(">");if(_1d<1){_1c="<SELECT>";}else{if(_1c.charAt(_1d-1)=="/"){_1c=_1c.substring(0,(_1d-1))+">";}else{_1c=_1c.substring(0,(_1d+1));}}if(chooseOption=="true"){_10.push("<OPTION VALUE=''>"+chooseOptionText+"</OPTION>");}if(allOption=="true"){_10.push("<OPTION VALUE='all'>"+allOptionText+"</OPTION>");}}}else{if(append=="true"){_1c=_b.innerHTML;}else{if(chooseOption=="true"){_10.push("<OPTION VALUE=''>"+chooseOptionText+"</OPTION>");}if(allOption=="true"){_10.push("<OPTION VALUE='all'>"+allOptionText+"</OPTION>");}}}var _11=[];if(_a.documentElement.nodeName=="hashtable"){var _12=_a.documentElement.childNodes;if(_12.length==0){if(blankText!=""){var obj=new Object();obj["key"]="";obj["value"]=blankText;_11.push(obj);_10=new Array();}}else{for(var i=0;i<_12.length;i++){var _13=_12.item(i);if(_13.nodeType==1&&_13.nodeName=="data"){var obj=new Object();var _15=_13.getAttribute("hashkey");var _16=_13.getAttribute("value");if(_15!=null&&_16!=null){obj["key"]=_15;obj["value"]=_16;_11.push(obj);}}}}}if(sorted=="true"){var _17=true;for(var i=0;i<_11.length;i++){if(isNaN(_11[i]["key"])||_11[i]["key"].wq_trim()==""){_17=false;break;}}if(_17){_11=_11.sort($W._g.numericKeySort);}else{_11=_11.sort($W._g.normalKeySort);}}else{if(textSorted=="true"){var _17=true;for(var i=0;i<_11.length;i++){if(isNaN(_11[i]["value"])||_11[i]["value"].wq_trim()==""){_17=false;break;}}if(_17){_11=_11.sort($W._g.numericValueSort);}else{_11=_11.sort($W._g.normalValueSort);}}}if(strSelected!=null&&strSelected!=""){for(var i=0;i<_11.length;i++){if(_11[i]["key"].wq_trim()==strSelected){_10.push("<OPTION VALUE='"+_11[i]["key"]+"' SELECTED>"+_11[i]["value"]+"</OPTION>");}else{_10.push("<OPTION VALUE='"+_11[i]["key"]+"'>"+_11[i]["value"]+"</OPTION>");}}}else{if(strTextSelected!=null&&strTextSelected!=""){for(var i=0;i<_11.length;i++){if(_11[i]["value"].wq_trim()==strTextSelected){_10.push("<OPTION VALUE='"+_11[i]["key"]+"' SELECTED>"+_11[i]["value"]+"</OPTION>");}else{_10.push("<OPTION VALUE='"+_11[i]["key"]+"'>"+_11[i]["value"]+"</OPTION>");}}}else{for(var i=0;i<_11.length;i++){_10.push("<OPTION VALUE='"+_11[i]["key"]+"'>"+_11[i]["value"]+"</OPTION>");}}}if($W._N.browserCheck.ie){_b.outerHTML=_1c+_10.join("")+"</SELECT>";}else{_b.innerHTML=_1c+_10.join("");}}catch(e){$W.exception.printStackTrace(e);}}if(debug=="true"||debug=="y"){var obj=new Object();obj["result"]=$W._B.indent(_a);if(xsl!=""){obj["xml"]=$W._B.indent(_8);obj["xsl"]=$W._B.indent(_9);}$W.logger.showDebugMsg(obj,"xml","setXMLOption \uc2e4\ud589 \uacb0\uacfc");}}};$W._g.normalKeySort=function(a,b){["WebSquare.form.normalKeySort"];if(a["key"]>b["key"]){return 1;}else{if(a["key"]==b["key"]){return 0;}else{return -1;}}};$W._g.numericKeySort=function(a,b){["WebSquare.form.numericKeySort"];return parseInt(a["key"],10)-parseInt(b["key"],10);};$W._g.normalValueSort=function(a,b){["WebSquare.form.normalValueSort"];if(a["value"]>b["value"]){return 1;}else{if(a["value"]==b["value"]){return 0;}else{return -1;}}};$W._g.numericValueSort=function(a,b){["WebSquare.form.numericValueSort"];return parseInt(a["value"],10)-parseInt(b["value"],10);};$W._g.checkAll=function(_27,_28){["WebSquare.form.checkAll"];var _29=_27.form;for(var i=0;i<_29.elements.length;i++){var e=_29.elements[i];if((e.name==_28)&&(e.type=="checkbox")){e.checked=_27.checked;}}};$W._g.printForm=function(_2c,_2d){["WebSquare.form.printForm"];var _2e="<table style='width:510pt'><tr><td>Name</td><td>Type</td><td>Value</td></tr>\n";for(var i=0;i<_2c.elements.length;i++){var e=_2c.elements[i];if(_2d=="compact"){if(e.name!=null&&e.name!=""){if(e.type!="button"&&e.type!="image"&&e.type!="reset"&&e.type!="submit"){_2e=_2e+"<tr><td>"+e.name+"</td><td>"+e.type+"</td><td>"+e.value+"</td></tr>\n";}}}else{_2e=_2e+"<tr><td>"+e.name+"</td><td>"+e.type+"</td><td>"+e.value+"</td></tr>\n";}}_2e=_2e+"</table>\n";var obj=new Object();obj["Form Value"]=_2e;$W.logger.showDebugMsg(obj,"html","Form \uc815\ubcf4");};$W._g.getCheckValue=function(_32){["WebSquare.form.getCheckValue"];var obj=new Array();try{var _34=$W.document.getElementsByTagName("input");if(_34!=null){var j=0;for(var i=0;i<_34.length;i++){var e=_34[i];if((e.name==_32)&&(e.type=="checkbox")&&(e.checked==true)){obj[j]=e.value;j++;}}}}catch(e){$W.exception.printStackTrace(e);}return obj;};$W._g.addElement=function(_38,_39,_3a){["WebSquare.form.addElement"];var _3b=$W.document.getElementsByTagName("SELECT");if(_3b.length>0){for(var i=0;i<_3b.length;i++){if(_3b(i).name==_38){var _3d=$W.document.createElement("OPTION");_3d.value=_39;_3d.text=_3a;_3b(i).add(_3d);}}}};$W._g.deleteElement=function(_3e){["WebSquare.form.deleteElement"];var _3f=$W.document.getElementsByTagName("SELECT");if(_3f.length>0){for(var i=0;i<_3f.length;i++){if(_3f(i).name==_3e){for(var j=_3f(i).options.length-1;j>=0;j--){if(_3f(i).options(j).selected){_3f(i).options(j).removeNode();}}}}}};$W._g.copyElement=function(_42,_43){["WebSquare.form.copyElement"];var _44=$W.document.getElementsByTagName("SELECT");var _45,objTag2;if(_44.length>0){for(var i=0;i<_44.length;i++){if(_44(i).name==_42){_45=_44(i);}if(_44(i).name==_43){objTag2=_44(i);}}var _47=_45.options.length;for(var i=0;i<_47;i++){if(_45.options(i).selected){var _48=$W.document.createElement("OPTION");_48.value=_45.options(i).value;_48.text=_45.options(i).text;objTag2.add(_48);}}}};$W._g.moveElement=function(_49,_4a){["WebSquare.form.moveElement"];var _4b=$W.document.getElementsByTagName("SELECT");var _4c,objTag2;if(_4b.length>0){for(var i=0;i<_4b.length;i++){if(_4b(i).name==_49){_4c=_4b(i);}if(_4b(i).name==_4a){objTag2=_4b(i);}}var _4e=_4c.options.length;for(var i=0;i<_4e;i++){if(_4c.options(i).selected){objTag2.insertBefore(_4c.options(i),null);i--;_4e--;}}}};$W._g.movePosition=function(_4f,_50){["WebSquare.form.movePosition"];var _51=$W.document.getElementsByTagName("SELECT");if(_51.length>0){for(var i=0;i<_51.length;i++){if(_51(i).name==_4f){if(_50.toLowerCase()=="up"){for(var j=1;j<_51(i).options.length;j++){if(_51(i).options(j).selected){if(j==1&&_51(i).options(0).selected){return;}var obj=_51(i).options(j);_51(i).options(j-1).insertAdjacentElement("beforeBegin",obj);}}}else{if(_50.toLowerCase()=="down"){for(var j=_51(i).options.length-2;j>=0;j--){if(_51(i).options(j).selected){if(j==(_51(i).options.length-2)&&_51(i).options(_51(i).options.length-1).selected){return;}var obj=_51(i).options(j);_51(i).options(j+1).insertAdjacentElement("afterEnd",obj);}}}}}}}};$W._g.Form2XML=function(_55,_56){["WebSquare.form.Form2XML"];var _57="";try{var _58="FORMMSG";if(typeof _56!="undefined"&&_56!=null&&_56!=""){_58=_56;}_57+="<"+_58+">";for(var i=0;i<_55.elements.length;i++){var e=_55.elements[i];if(e.name!=null&&e.name!=""){if(e.type=="text"||e.type=="password"||e.type=="textarea"||e.type=="file"||e.type=="hidden"){if(e.className.indexOf("Number")==0){var re=/[,]/g;_57+="<"+e.name+" value='"+$W._B.encode(e.value.replace(re,""))+"'/>\n";}else{if(e.className.indexOf("Date")==0){var re=/[\u002F]/g;_57+="<"+e.name+" value='"+$W._B.encode(e.value.replace(re,""))+"'/>\n";}else{if(e.className.indexOf("Time")==0){var re=/[:]/g;_57+="<"+e.name+" value='"+$W._B.encode(e.value.replace(re,""))+"'/>\n";}else{_57+="<"+e.name+" value='"+$W._B.encode(e.value)+"'/>\n";}}}}else{if(e.type=="checkbox"&&e.checked){_57+="<"+e.name+" value='"+$W._B.encode(e.value)+"'/>\n";}else{if(e.type=="radio"&&e.checked){_57+="<"+e.name+" value='"+$W._B.encode(e.value)+"'/>\n";}else{if(e.type=="select-one"){_57+="<"+e.name+" value='"+$W._B.encode(e.value)+"'/>\n";}else{if(e.type=="select-multiple"){for(var j=0;j<e.options.length;j++){var opt=e.options[j];if(opt.selected){_57+="<"+e.name+" value='"+$W._B.encode(opt.value)+"'/>\n";}}}}}}}}}_57+="</"+_58+">\n";}catch(e){$W.exception.printStackTrace(e);}return $W._B.parse(_57);};$W._g.XML2Form=function(doc,_5f){["WebSquare.form.XML2Form"];try{var dom=null;if(typeof doc=="string"){dom=$W._B.parse(doc);}else{if($W._B.isDocument(doc)){dom=doc;}else{if(typeof doc=="undefined"){return;}}}for(var i=0;i<_5f.elements.length;i++){var e=_5f.elements[i];if(e.name!=null&&e.name!=""){if(e.type=="text"||e.type=="password"||e.type=="textarea"||e.type=="file"||e.type=="hidden"){if(e.className.indexOf("Number")==0){var _63="",commaStr="",cent="";var _64=$W._w.getString(dom,e.name);var re=/[,]/g;_64=_64.replace(re,"");if(_64.substring(0,1)=="+"||_64.substring(0,1)=="-"){_63=_64.substring(0,1);_64=_64.substring(1);}if(_64.indexOf(".")>-1){cent=_64.substring(_64.indexOf("."));_64=_64.substring(0,_64.indexOf("."));}var j=_64.length-3;for(;j>=1;j=j-3){commaStr=","+_64.substring(j,j+3)+commaStr;}commaStr=_64.substring(0,j+3)+commaStr;e.value=_63+commaStr+cent;}else{if(e.className.indexOf("Date")==0){var _67=$W._w.getString(dom,e.name);if(_67.length==8){e.value=_67.substring(0,4)+"/"+_67.substring(4,6)+"/"+_67.substring(6,8);}else{e.value=_67;}}else{if(e.className.indexOf("Time")==0){var _68=$W._w.getString(dom,e.name);if(_68.length==4){e.value=_68.substring(0,2)+":"+_68.substring(2,4);}else{e.value=_68;}}else{e.value=$W._w.getString(dom,e.name);}}}}else{if(e.type=="checkbox"){var _69=$W._B.getElementsByTagName(dom,e.name);for(var j=0;j<_69.length;j++){if(_69.item(j).getAttribute("value")==e.value){e.checked=true;break;}}}else{if(e.type=="radio"&&$W._w.getString(dom,e.name)==e.value){e.checked=true;}else{if(e.type=="select-one"){e.value=$W._w.getString(dom,e.name);}else{if(e.type=="select-multiple"){var _69=$W._B.getElementsByTagName(dom,e.name);for(var j=0;j<e.options.length;j++){var opt=e.options[j];for(var k=0;k<_69.length;k++){if(_69.item(k).getAttribute("value")==opt.value){opt.selected=true;break;}}}}}}}}}}}catch(e){$W.exception.printStackTrace(e);}};$W._g.checkForm=function(){["WebSquare.form.checkForm"];try{var _6c=new Array();var _6d=new Array();var str="";var _6f=arguments[0];for(var i=1;i<arguments.length;i++){_6c.push(arguments[i]);i++;_6d.push(arguments[i]);}for(var i=0;i<_6f.elements.length;i++){var e=_6f.elements[i];for(var j=0;j<_6c.length;j++){if(e.name==_6c[j]&&(e.type=="text"||e.type=="password"||e.type=="textarea"||e.type=="file")&&(e.value==null||e.value=="")){if($W._A.isFinalConsonant(_6d[j])){str+="'"+_6d[j]+"'\uc740 \uc785\ub825\ud574\uc57c \ud569\ub2c8\ub2e4.\n";}else{str+="'"+_6d[j]+"'\ub294 \uc785\ub825\ud574\uc57c \ud569\ub2c8\ub2e4.\n";}alert(str);e.focus();return false;}else{if(e.name==_6c[j]&&e.type=="select-one"&&e.selectedIndex==0){if($W._A.isFinalConsonant(_6d[j])){str+="'"+_6d[j]+"'\uc744 \uc120\ud0dd\ud558\uc2ed\uc2dc\uc624.\n";}else{str+="'"+_6d[j]+"'\ub97c \uc120\ud0dd\ud558\uc2ed\uc2dc\uc624.\n";}alert(str);e.focus();return false;}}}}}catch(e){$W.exception.printStackTrace(e);}return true;};$W._g.nextTab=function(_73,_74,len){["WebSquare.form.nextTab"];if((event.keyCode<65||event.keyCode>90)&&(event.keyCode<48||event.keyCode>57)&&(event.keyCode<96||event.keyCode>105)){return;}if(typeof _74=="undefined"&&typeof len=="undefined"&&typeof _73!="undefined"&&typeof _73!="object"){if(event.srcElement.value.length>=_73){for(var i=event.srcElement.sourceIndex+1;i<$W.document.all.length;i++){if(typeof $W.document.all(i).tagName!="undefined"&&$W.document.all(i).tagName.toLowerCase()=="input"){$W.document.all(i).focus();break;}}}}else{if(_73.value.length>=len){_74.focus();}}};$W._g.timeKeyPress=function(tag){["WebSquare.form.timeKeyPress "];if((event.keyCode<48||event.keyCode>57)){event.returnValue=false;}};$W._g.timeKeyUp=function(tag){["WebSquare.form.timeKeyUp"];if((event.keyCode<48||event.keyCode>57)&&(event.keyCode<96||event.keyCode>105)){return;}var re=/[:]/g;var ret=tag.value.replace(re,"");if(ret.length==4){tag.value=ret;var _7b=parseInt(tag.value.substring(0,2),10);if(_7b>24||_7b<1){alert($W._m.getMessage("E_form_TimeKeyUpWrongHourFormat"));tag.value="";return;}var _7c=parseInt(tag.value.substring(2,4),10);if(_7c>59||_7c<0){alert($W._m.getMessage("E_form_TimeKeyUpWrongMinuteFormat"));tag.value=tag.value.substring(0,2);return;}tag.value=tag.value.substring(0,2)+":"+tag.value.substring(2,4);}else{if(ret.length>4){tag.value=ret;tag.value=tag.value.substring(0,2)+":"+tag.value.substring(2,4);}}};$W._g.dateKeyPress=function(tag){["WebSquare.form.dateKeyPress"];if((event.keyCode<48||event.keyCode>57)){event.returnValue=false;}};$W._g.dateKeyUp=function(tag){["WebSquare.form.dateKeyUp"];if((event.keyCode<48||event.keyCode>57)&&(event.keyCode<96||event.keyCode>105)){return;}var re=/[\u002F]/g;var ret=tag.value.replace(re,"");if(ret.length==8){tag.value=ret;var _81=parseInt(tag.value.substring(4,6),10);if(_81>12||_81<1){alert("\uc6d4 \uc785\ub825\uc774 \uc798\ubabb\ub418\uc5c8\uc2b5\ub2c8\ub2e4.");tag.value=tag.value.substring(0,4);return;}switch(_81){case 1:if(!$W._g.checkDay(tag,1,31)){return;}break;case 2:if(!$W._g.checkFebDay(tag)){return;}break;case 3:if(!$W._g.checkDay(tag,1,31)){return;}break;case 4:if(!$W._g.checkDay(tag,1,30)){return;}break;case 5:if(!$W._g.checkDay(tag,1,31)){return;}break;case 6:if(!$W._g.checkDay(tag,1,30)){return;}break;case 7:if(!$W._g.checkDay(tag,1,31)){return;}break;case 8:if(!$W._g.checkDay(tag,1,31)){return;}break;case 9:if(!$W._g.checkDay(tag,1,30)){return;}break;case 10:if(!$W._g.checkDay(tag,1,31)){return;}break;case 11:if(!$W._g.checkDay(tag,1,30)){return;}break;case 12:if(!$W._g.checkDay(tag,1,31)){return;}break;}tag.value=tag.value.substring(0,4)+"/"+tag.value.substring(4,6)+"/"+tag.value.substring(6,8);}else{if(ret.length>8){tag.value=ret;tag.value=tag.value.substring(0,4)+"/"+tag.value.substring(4,6)+"/"+tag.value.substring(6,8);}}};$W._g.checkFebDay=function(tag){["WebSquare.form.checkFebDay"];var _83=parseInt(tag.value.substring(0,4),10);if((_83%4)==0){if((_83%100)==0){if((_83%400)==0){return $W._g.checkDay(tag,1,29);}else{return $W._g.checkDay(tag,1,28);}}else{return $W._g.checkDay(tag,1,29);}}else{return $W._g.checkDay(tag,1,28);}};$W._g.checkDay=function(tag,min,max){["WebSquare.form.checkDay"];var day=parseInt(tag.value.substring(6,8),10);if(day>max||day<min){alert("\uc77c \uc785\ub825\uc774 \uc798\ubabb\ub418\uc5c8\uc2b5\ub2c8\ub2e4.");tag.value=tag.value.substring(0,6);return false;}return true;};$W._g.getAbsoluteTop_old=function(_88){["WebSquare.form.getAbsoluteTop_old"];var _89=_88;var _8a=0;try{while(_89.tagName!="BODY"){var _8b=$W._G.parseFloat($W._G.getStyleProperty(_89,"border-top-width"),0);if($W._G.isOpera()){_8b=0;}_8a+=_89.offsetTop-_89.scrollTop+_8b;_89=_89.offsetParent;}}catch(e){}if(!$W._G.isFF()&&!$W._G.isIE(8)&&!$W._G.isOpera()){}if($W._G.isIE("6 7")){}return _8a;};$W._g.getAbsoluteTop=function(_8c){["WebSquare.form.getAbsoluteTop"];return $W._H.getAbsoluteTop(_8c);};$W._g.getAbsoluteLeft_old=function(_8d){["WebSquare.form.getAbsoluteLeft_old"];var _8e=_8d;var _8f=0;try{while(_8e.tagName!="BODY"){var _90=$W._G.parseFloat($W._G.getStyleProperty(_8e,"border-left-width"),0);if($W._G.isOpera()){_90=0;}_8f+=_8e.offsetLeft+_90-_8e.scrollLeft;_8e=_8e.offsetParent;}}catch(e){}if($W._G.isIE("6 7")){}if(!$W._G.isFF()&&!$W._G.isIE(8)){}return _8f;};$W._g.getAbsoluteLeft=function(_91){["WebSquare.form.getAbsoluteLeft"];return $W._H.getAbsoluteLeft(_91);};$W._g.disableForm=function(){["WebSquare.form.disableForm"];try{var _92=new Array();var _93=arguments[0];for(var i=1;i<arguments.length;i++){_92.push(arguments[i]);}for(var i=0;i<_93.elements.length;i++){var e=_93.elements[i];for(var j=0;j<_92.length;j++){if((_92[j]=="all"||e.name==_92[j])&&(e.type=="text"||e.type=="password"||e.type=="textarea"||e.type=="button"||e.type=="checkbox"||e.type=="radio"||e.type=="file"||e.type=="select-one"||e.type=="select-multiple")){e.disabled=true;}}}}catch(e1){$W.exception.printStackTrace(e1);}};$W._g.enableForm=function(){["WebSquare.form.enableForm"];try{var _97=new Array();var _98=arguments[0];for(var i=1;i<arguments.length;i++){_97.push(arguments[i]);}for(var i=0;i<_98.elements.length;i++){var e=_98.elements[i];for(var j=0;j<_97.length;j++){if((_97[j]=="all"||e.name==_97[j])&&(e.type=="text"||e.type=="password"||e.type=="textarea"||e.type=="button"||e.type=="checkbox"||e.type=="radio"||e.type=="file"||e.type=="select-one"||e.type=="select-multiple")){e.disabled=false;}}}}catch(e1){$W.exception.printStackTrace(e1);}};$W._g.getRadioValue=function(_9c){["WebSquare.form.getRadioValue"];var obj="";try{var _9e=$W.document.getElementsByTagName("input");if(_9e!=null){for(var i=0;i<_9e.length;i++){var e=_9e[i];if((e.name==_9c)&&(e.type=="radio")&&(e.checked==true)){obj=e.value;}}}}catch(e1){$W.exception.printStackTrace(e1);}return obj;};$W._g.lockObject=null;$W._g.lock=function(){["WebSquare.form.lock"];try{if($W._g.lockObject==null){$W._g.lockObject=new Array();var _a1=$W.document.forms;var _a2=_a1.length;for(var i=0;i<_a2;i++){var _a4=_a1[i];var _a5=_a4.elements.length;for(var j=0;j<_a5;j++){var e=_a4.elements[j];if(e.disabled==false&&(e.type=="text"||e.type=="password"||e.type=="textarea"||e.type=="button"||e.type=="checkbox"||e.type=="radio"||e.type=="file"||e.type=="select-one"||e.type=="select-multiple")){$W._g.lockObject.push(e);e.disabled=true;}}}}}catch(e1){$W.exception.printStackTrace(e1);}};$W._g.release=function(){["WebSquare.form.release"];try{if($W._g.lockObject!=null){for(var i=0;i<$W._g.lockObject.length;i++){$W._g.lockObject[i].disabled=false;}$W._g.lockObject=null;}}catch(e){$W.exception.printStackTrace(e);}};$W._g.resetForm=function(){["WebSquare.form.resetForm"];try{var _a9=$W.document.forms;var _aa=_a9.length;for(var i=0;i<_aa;i++){var _ac=_a9[i];var _ad=_ac.elements.length;for(var j=0;j<_ad;j++){var e=_ac.elements[j];if(e.type=="text"||e.type=="password"||e.type=="textarea"||e.type=="file"){e.value=e.defaultValue;}else{if(e.type=="checkbox"||e.type=="radio"){e.checked=e.defaultChecked;}else{if(e.type=="select-one"||e.type=="select-multiple"){e.selectedIndex=0;}}}}}}catch(e1){$W.exception.printStackTrace(e1);}};$W._g.getFormObject=function(_b0){["WebSquare.form.getFormObject"];try{if(_b0.indexOf(".")>-1){var obj=$W._N.getComponentById(_b0);if(typeof obj=="undefined"){return null;}return obj;}else{var _b2=_b0.indexOf("[");var _b3=_b0.indexOf("(");var _b4=_b0;var _b5=0;if(_b2>-1){var _b6=_b0.indexOf("]");if(_b6>-1){_b4=_b0.substring(0,_b2);_b5=parseInt(_b0.substring(_b2+1,_b6));}}else{if(_b3>-1){var _b6=_b0.indexOf(")");if(_b6>-1){_b4=_b0.substring(0,_b3);_b5=parseInt(_b0.substring(_b3+1,_b6));}}}var _b7=$W.document.getElementsByTagName("input");var _b8=0;if(_b7!=null){for(var i=0;i<_b7.length;i++){var obj=_b7[i];if(obj.name==_b4){if(_b8==_b5){return obj;}_b8++;}}}}}catch(e){$W.exception.printStackTrace(e);}return null;};$W._g.getSelectObject=function(_ba){["WebSquare.form.getSelectObject"];var _bb=null;try{_bb=$W._N.getComponentById(_ba);}catch(e){_bb=null;}imports("uiplugin.selectbox");if(_bb&&_bb instanceof $W._a._r){return $W._N.getComponentById(_ba);}try{if(_ba.indexOf(".")>-1){var obj=$W._N.getComponentById(_ba);if(typeof obj=="undefined"){return null;}if(obj.type=="select-one"||obj.type=="select-multiple"){return obj;}else{return null;}}else{var _bd=_ba.indexOf("[");var _be=_ba.indexOf("(");var _bf=_ba;var _c0=0;if(_bd>-1){var _c1=_ba.indexOf("]");if(_c1>-1){_bf=_ba.substring(0,_bd);_c0=parseInt(_ba.substring(_bd+1,_c1));}}else{if(_be>-1){var _c1=_ba.indexOf(")");if(_c1>-1){_bf=_ba.substring(0,_be);_c0=parseInt(_ba.substring(_be+1,_c1));}}}var _c2=$W.document.getElementsByTagName("SELECT");var _c3=0;if(_c2!=null){for(var i=0;i<_c2.length;i++){var obj=_c2[i];if(obj.name==_bf||obj.id==_bf){if(_c3==_c0){return obj;}_c3++;}}}}}catch(e){$W.exception.printStackTrace(e);}return null;};$W._g.setCheckValue=function(_c5,obj){["WebSquare.form.setCheckValue"];try{if(obj==null){return;}var _c7=$W.document.getElementsByTagName("input");if(_c7!=null){for(var i=0;i<_c7.length;i++){var e=_c7[i];if((e.name==_c5)&&(e.type=="checkbox")){for(var j=0;j<obj.length;j++){if(obj[j]==e.value){e.checked=true;break;}}}}}}catch(e){$W.exception.printStackTrace(e);}};$W._g.getRelativeTop=function(_cb,_cc){["WebSquare.form.getRelativeTop"];var _cd=_cb;var _ce=0;try{while(_cd!=_cc&&_cd.tagName!="BODY"){_ce+=_cd.offsetTop;_cd=_cd.offsetParent;}}catch(e){}return _ce;};$W._g.getRelativeLeft=function(_cf,_d0){["WebSquare.form.getRelativeLeft"];var _d1=_cf;var _d2=0;try{while(_d1!=_d0&&_d1.tagName!="BODY"){_d2+=_d1.offsetLeft;_d1=_d1.offsetParent;}}catch(e){}return _d2;};$W._g.getOffsetLeft=function(_d3){["WebSquare.form.getOffsetLeft"];var _d4=_d3;var _d5=0;try{if($W._G.isIE("6 7")){while(_d4&&_d4.tagName.toLowerCase()!="body"){var _d6=$W._G.getStyleProperty(_d4,"position");if(_d6=="absolute"){break;}_d5+=_d4.offsetLeft;_d4=_d4.offsetParent;}}else{_d5=_d4.offsetLeft;}}catch(e){}return _d5;};$W._g.getOffsetTop=function(_d7){["WebSquare.form.getOffsetTop"];var _d8=_d7;var Top=0;try{if($W._G.isIE("6 7")){while(_d8&&_d8.tagName.toLowerCase()!="body"){var _da=$W._G.getStyleProperty(_d8,"position");if(_da=="absolute"){break;}Top+=_d8.offsetTop;_d8=_d8.offsetParent;}}else{Top=_d8.offsetTop;}}catch(e){}return Top;};;WebSquare.form=$W._g;$W._r={};$W._r.paramObj=null;$W._r.asyncCount=0;$W._r.getParameter=function(_1){["WebSquare.net.getParameter"];var _2="";try{if($W._r.paramObj==null){$W._r.paramObj=new Object();var _3=location.search.slice(1);var _4=_3.split("&");for(var i=0;i<_4.length;i++){var _6=_4[i].split("=");if(_6.length==2){$W._r.paramObj[(_6[0]).wq_trim()]=(_6[1]).wq_trim();}}if(location.hash.length>0){var _3=location.hash.substring(1);var _4=_3.split(/[\&\?\#]/);for(var i=0;i<_4.length;i++){var _6=_4[i].split("=");if(_6.length==2){$W._r.paramObj[(_6[0]).wq_trim()]=(_6[1]).wq_trim();}}}}else{if(_1=="w2xPath"){var _7=location.toString().lastIndexOf("w2xPath");if(_7<0){$W._r.paramObj[_1]=null;}else{var _8=location.toString().slice(_7);_8=_8.split(/[\&\?\#]/)[0];var _6=_8.split("=");if(_6.length==2){$W._r.paramObj[(_6[0]).wq_trim()]=(_6[1]).wq_trim();}}}else{if($W.userData[_1]!=null){return $W.userData[_1];}}}_2=$W._r.paramObj[_1];}catch(e){e.detail="WebSquare.net.getParameter \uc5d0\ub7ec";$W.exception.printStackTrace(e);}if(_2==null||typeof _2=="undefined"){_2="";}return $W._A.URLDecoder(_2);};$W._r.getAllParameter=function(){["WebSquare.net.getAllParameter"];var _9={};try{for(obj in $W._r.paramObj){_9[obj]=$W._A.URLDecoder($W._r.paramObj[obj]);}}catch(e){$W.exception.printStackTrace(e);}return _9;};$W._r.getBASE64Parameter=function(_a){["WebSquare.net.getBASE64Parameter"];var _b="";try{if($W._r.paramObj==null){$W._r.paramObj=new Object();var _c=location.search.substring(1);var _d=_c.split("&");for(var i=0;i<_d.length;i++){var _f=_d[i].split("=");if(_f.length==2){$W._r.paramObj[(_f[0]).wq_trim()]=(_f[1]).wq_trim();}}}_b=$W._r.paramObj[_a];}catch(e){e.detail="WebSquare.net.getBASE64Parameter \uc5d0\ub7ec";$W.exception.printStackTrace(e);}if(_b==null||typeof _b=="undefined"){_b="";}return $W._A.BASE64URLDecoder(_b);};$W._r.getAllBASE64Parameter=function(){["WebSquare.net.getAllBASE64Parameter"];var _10={};try{for(obj in $W._r.paramObj){_10[obj]=$W._A.BASE64URLDecoder($W._r.paramObj[obj]);}}catch(e){$W.exception.printStackTrace(e);}return _10;};$W._r.showWindow=function(url,obj,_13,_14,_15){["WebSquare.net.showWindow"];if(typeof _13=="undefined"||_13==null){_13="channelmode=no,directories=no,fullscreen=no,top=200,height=350,left=250,width=400,location=no,menubar=no,resizable=yes,scrollbars=auto,status=no,titlebar=yes,toolbar=no'";}else{var _16=0,dialogWidth=0,center="false";var _17=_13.split(";");if(_17.length>1){_13="";for(var i=0;i<_17.length;i++){var _19=_17[i].split(":");if(_19.length==2){if(_19[0].wq_trim()=="dialogHeight"){_16=parseInt(_19[1].wq_trim(),10);_13+="height="+_19[1]+",";}else{if(_19[0].wq_trim()=="dialogWidth"){dialogWidth=parseInt(_19[1].wq_trim(),10);_13+="width="+_19[1]+",";}else{if(_19[0].wq_trim()=="center"){center=_19[1].toLowerCase().wq_trim();}else{_13+=_19[0]+"="+_19[1]+",";}}}}}}if(center=="true"||center=="yes"){if(_16!=0){var top=(740-_16)/2;_13="top="+top+"px,"+_13;}if(dialogWidth!=0){var _1b=(1000-dialogWidth)/2;_13="left="+_1b+"px,"+_13;}}}var idx="idx10_"+(new Date()).getTime()+Math.random()*10000;if(typeof obj=="undefined"){$W._r.showWindowParam[idx]=null;}else{$W._r.showWindowParam[idx]=obj;}if(url.indexOf("?")>-1){url=url+"&modalParamIdx="+idx;}else{url=url+"?modalParamIdx="+idx;}var _1d=null;if(typeof _14=="undefined"){_1d=window.open(url,"_blank",_13);}else{_1d=window.open(url,_14,_13);}if(_1d==null){alert($W._m.getMessage("E_net_PopupBlocked"));}return _1d;};$W._r.showWindowParam=new Object();$W._r.showIFrameName=new Object();$W._r.getPopupParam=function(){["WebSquare.net.getPopupParam"];try{var str=$W._r.getParameter("modalParamIdx");return opener.WebSquare.net._getParam(str);}catch(e){return "";}};$W._r._getParam=function(_1f){["WebSquare.net._getParam"];var ret=$W._r.showWindowParam[_1f];return ret;};$W._r.isPopup=function(){["WebSquare.net.isPopup"];try{if(typeof window.opener=="undefined"){return false;}else{if(window.opener.closed){return false;}else{return true;}}}catch(e){return false;}};$W._r.Obj2XML=function(_21){["WebSquare.net.Obj2XML"];var _22="<obj>";for(var _23 in _21){_22=_22+"<"+_23+" value='"+$W._B.encode(_21[_23])+"'/>";}_22=_22+"</obj>";return _22;};$W._r.XML2Obj=function(doc){["WebSquare.net.XML2Obj"];var obj=new Object();try{var dom=null;if(typeof doc=="string"){dom=$W._B.parse(doc);}else{if($W._B.isDocument(doc)){dom=doc;}else{return "";}}var _27=dom.documentElement;if(_27.nodeName=="vector"||_27.nodeName=="hashtable"){return "";}else{var _28=_27.childNodes;for(var i=0;i<_28.length;i++){var _2a=_28.item(i);if(_2a.nodeType==1){var _2b=_2a.nodeName;var _2c=_2a.getAttribute("value");if(_2c==null){_2c="";}obj[_2b]=_2c;}}}}catch(e){$W.exception.printStackTrace(e);}return obj;};$W._r.showIFrame=function(url,obj,_2f,_30){["WebSquare.net.showIFrame"];var _31=0,dialogWidth=0,center="false";if(typeof _2f=="undefined"||_2f==null){_2f="height=370,width=320";}else{var _32=url;var _33=_2f.split(";");if(_33.length>1){_2f="";for(var i=0;i<_33.length;i++){var _35=_33[i].split(":");if(_35.length==2){if(_35[0].wq_trim()=="dialogHeight"){_31=parseInt(_35[1].wq_trim(),10);_2f+="height="+_35[1]+",";}else{if(_35[0].wq_trim()=="dialogWidth"){dialogWidth=parseInt(_35[1].wq_trim(),10);_2f+="width="+_35[1]+",";}else{if(_35[0].wq_trim()=="center"){center=_35[1].toLowerCase().wq_trim();}else{_2f+=_35[0]+"="+_35[1]+",";}}}}}}}var idx="idx11_"+(new Date()).getTime()+Math.random()*10000;if(typeof obj=="undefined"){$W._r.showWindowParam[idx]=null;}else{$W._r.showWindowParam[idx]=obj;}if(_32.indexOf("?")>-1){_32=_32+"&modalParamIdx="+idx;}else{_32=_32+"?modalParamIdx="+idx;}if(typeof _30=="undefined"){_30="___iframeLayer";}$W._r.showIFrameName[idx]=_30;if(isNaN(_31)||_31==0){_31=370;}if(isNaN(dialogWidth)||dialogWidth==0){dialogWidth=320;}try{if(typeof document.all[_30]=="undefined"||document.all[_30]==null){var _37=$W.document.createElement("div");_37.id=_30;_37.style.position="absolute";_37.style.overflow="hidden";_37.style.zIndex=10000;_37.style.visibility="visible";_37.style.height=_31+"px";_37.style.width=dialogWidth+"px";_37.style.setExpression("top","document.body.scrollTop+document.body.clientHeight/2-"+_31+"/2");_37.style.setExpression("left","document.body.scrollLeft+document.body.clientWidth/2-"+dialogWidth+"/2");document.body.appendChild(_37);_37.innerHTML="<iframe frameborder='0' name='iframe"+_30+"' scrolling='no' style='width:100%; height:100%'></iframe>";document.frames["iframe"+_30].location.replace(_32);}else{var _38=document.body.scrollTop+document.body.clientHeight/2-parseInt(document.all[_30].style.height)/2;var _39=document.body.scrollLeft+document.body.clientWidth/2-parseInt(document.all[_30].style.width)/2;document.all[_30].style.top=_38;document.all[_30].style.left=_39;document.all[_30].visibility="visible";document.all[_30].style.zIndex=10000;document.all[_30].innerHTML="<iframe frameborder='0' scrolling='no' src='"+_32+"' style='width:100%; height:100%;'></iframe>";}}catch(eee){_2f="channelmode=no,directories=no,fullscreen=no,top=200,height=350,left=250,width=400,location=no,menubar=no,resizable=yes,scrollbars=auto,status=no,titlebar=yes,toolbar=no";$W._r.showWindow(url,obj,_2f,_30);$W.exception.printStackTrace(eee);}};$W._r.hideIFrame=function(){["WebSquare.net.hideIFrame"];try{if($W._N.isParentFrameMethod("WebSquare.net._hideIFrame")){var str=$W._r.getParameter("modalParamIdx");parent.WebSquare.net._hideIFrame(str);}}catch(e){$W.exception.printStackTrace(e);}};$W._r._hideIFrame=function(idx){["WebSquare.net._hideIFrame"];var _3c=$W._r.showIFrameName[idx];if(typeof document.all[_3c]!="undefined"&&document.all[_3c]!=null){document.all[_3c].innerHTML="";document.all[_3c].style.zIndex=1;document.all[_3c].visibility="hidden";document.body.removeChild(document.all[_3c]);}};$W._r.getIFrameParam=function(){["WebSquare.net.getIFrameParam"];try{if($W._N.isParentFrameMethod("WebSquare.net._getParam")){var str=$W._r.getParameter("modalParamIdx");return parent.WebSquare.net._getParam(str);}else{return "";}}catch(e){$W.exception.printStackTrace(e);return "";}};$W._r.hasParentFrame=function(){["WebSquare.net.hasParentFrame"];try{if($W._N.browserCheck.ieAllVersion){var _3e=$W._N.browserVersion();if(_3e.charAt(0)=="5"&&window.parent!=window){return true;}else{if((_3e=="6"||_3e=="7")&&window.parent!=window&&window.parent==window.frameElement.ownerDocument.parentWindow){return true;}else{if(window.parent!=window){return true;}else{return false;}}}}else{if($W._N.browserCheck.moz){if(window.parent!=window){return true;}else{return false;}}else{if($W._N.browserCheck.opera){if(window.parent!=window){return true;}else{return false;}}}}}catch(e){$W.exception.printStackTrace(e);}return false;};$W._r.openWebsquareUrl=function(url,_40,_41,spa){if(!_41){_41=window;}if(_41&&_41.location){spa=spa||($W._N.getConfiguration("/WebSquare/spa/@value")=="true");if(spa){$W._G.url(url,{spa:true});return;}var _40=$W.extend($W._r.getAllParameter(),_40);_40["w2xPath"]=$W._N.getURL(url);if(url.startsWith("/")){_40["w2xHome"]="";}var _43=[];var _44="";for(obj in _40){_43.push(obj+"="+_40[obj]);}_44="?"+_43.join("&");url=_41.location.href.replace(/\?.*/,_44);_41.location.assign(url);}};$W._r.openUrl=function(url,_46){if(!_46){_46=window;}if(_46&&_46.location){var _47=_46.location.protocol+"//";if(!url.startsWith(_47)){url=_47+url;}_46.location.assign(url);}};$W._r.getSSLBlankPage=function(_48){var src="";if($W._N.browserCheck.ie&&location.protocol=="https:"){if(_48==true){src=$W.baseURI+"blank.html";}else{src="src='"+$W.baseURI+"blank.html'";}}return src;};$W._r.getBlankXML=function(){var _4a=location.pathname.lastIndexOf("/");if(_4a>=0){return location.pathname.slice(0,_4a)+"/blank.xml";}else{return $W.baseURI+"blank.xml";}};$W._r.isSSLBlankPage=function(url){var _4c=false;if(url==$W.baseURI+"blank.html"){_4c=true;}return _4c;};$W._r.ajax=function(_4d){try{var _4e,result,errorEventObj,doneEventObj;if(_4d.beforeAjax){_4e=_4d.beforeAjax(_4d);if(typeof _4e!="undefined"&&_4e==false){$l("ajax beforeAjax\uc5d0\uc11c result\uac00 false\uc774\ubbc0\ub85c \ucc98\ub9ac\ub97c \uc911\ub2e8");return;}}if(_4d.processMsg!=""){var _4f=$W.document.getElementById("___processbar2");var _50=$W.document.getElementById("___processbar2_i");if(((typeof _4f=="undefined"||_4f==null)&&(typeof _50=="undefined"||_50==null))||(_4f.style.display=="none"&&_50.style.display=="none")){$W.layer.showProcessMessage(_4d.processMsg);}}var obfuscator_http=$W._N.getXMLHTTPObject();var url=$W._G.getSubmissionURL(_4d.action);var _52=(_4d.mode=="synchronous")?false:true;var _53=_4d.mediatype||"application/xml";var _54=_4d.method||"post";var _55=_4d.requestData;var _56=_4d.timeout;if(_52){$W._r.asyncCount++;}$l(url);obfuscator_http.open(_54,url,_52);try{if(_4d.withCredentials){if(_4d.mode=="asynchronous"){obfuscator_http.withCredentials=_4d.withCredentials;}}}catch(ee){$W.exception.printStackTrace(ee);}obfuscator_http.setRequestHeader("Accept",_53);obfuscator_http.setRequestHeader("Content-Type",_53);try{if(_4d.requestHeader){for(var _57 in _4d.requestHeader){obfuscator_http.setRequestHeader(_57,_4d.requestHeader[_57]);}}}catch(ee){$W.exception.printStackTrace(ee);}var _58;if(_52){if(_56){_58=window.setTimeout(function(){obfuscator_http.onreadystatechange=function(){};obfuscator_http.abort();errorEventObj={"errorType":"timeout-error","resourceUri":url,"time":_56};$W._r.asyncCount--;if($W._r.asyncCount<=0&&_4d.hideProcessMsg!==false){$W.layer.hideProcessMessage();}$l("ajax timeout");window.clearTimeout(_58);if(_4d.error){_4d.error(errorEventObj);}return;},_56);}obfuscator_http.onreadystatechange=function(){$W._r.defaultcallback(obfuscator_http,_4d,_58);};}var _59=$W._N.getConfiguration("/WebSquare/ajax/externalHandler/@value")||"";if(typeof _4d.externalHandler!="undefined"){_59=_4d.externalHandler;}if(_59==""||_59=="default"){}else{if(_59){if(typeof _59=="function"){_4d.requestData=_59(_4d);}else{_4d.requestData=eval(_59+"( option )");}}}obfuscator_http.send(_4d.requestData);if(!_52){$W._r.commonHandler(obfuscator_http,_4d);}}catch(e){$W.exception.printStackTrace(e);$W.layer.hideProcessMessage();$W._r.asyncCount=0;}};$W._r.commonHandler=function(obfuscator_http,_5a){var _5b;var _5c=(_5a.mode=="synchronous")?false:true;if(_5c){$W._r.asyncCount--;}var url=$W._N.getURL(_5a.action);var _5e=obfuscator_http.getResponseHeader("Content-Type")||"";if(_5e.indexOf("xml")>-1){if($W.BootLoader.useWebSquareXMLParser){_5b=$W._B.parse(obfuscator_http.responseText);}else{_5b=obfuscator_http.responseXML;}}else{if(_5e.indexOf("json")>-1){_5b=JSON.parse(obfuscator_http.responseText);}else{_5b=obfuscator_http.responseText;}}var _5f=function(obj){if(_5e.indexOf("json")>-1){obj.responseJSON=_5b;}else{if(_5e.indexOf("xml")>-1){obj.responseBody=_5b;}}};if((obfuscator_http)&&((200>obfuscator_http.status)||(300<=obfuscator_http.status))){var _61={"errorType":"resource-error","resourceUri":url,"responseHeaders":$W._J.parseResponseHeader(obfuscator_http),"responseStatusCode":obfuscator_http["status"],"responseReasonPhrase":obfuscator_http["statusText"],"requestBody":_5a.requestData,"responseBody":"text/"+obfuscator_http.responseText};$l("ajax error(E01). Status["+obfuscator_http.status+"] ");if(($W._r.asyncCount<=0)&&_5a.hideProcessMsg!==false){$W.layer.hideProcessMessage();$W._r.asyncCount=0;}if(_5a.error){_5a.error(_61);}obfuscator_http.onreadystatechange=function(){};obfuscator_http=null;return;}var _62={"resourceUri":url,"responseHeaders":$W._J.parseResponseHeader(obfuscator_http),"responseStatusCode":obfuscator_http["status"],"responseReasonPhrase":obfuscator_http["statusText"],"requestBody":_5a.requestData,"responseText":obfuscator_http.responseText};_5f(_62);$l("ajax complete. Status["+obfuscator_http.status+"] async["+_5c+"] url["+url+"]");if(($W._r.asyncCount<=0)&&_5a.hideProcessMsg!==false){$W.layer.hideProcessMessage();$W._r.asyncCount=0;}if(_5a.success){_5a.success(_62);}obfuscator_http.onreadystatechange=function(){};obfuscator_http=null;};$W._r.defaultcallback=function(obfuscator_http,_63,_64){try{var _65;var url=$W._N.getURL(_63.action);var _67=_63.requestData;if(obfuscator_http.readyState==4){if(_64){window.clearTimeout(_64);_64=null;}$W._r.commonHandler(obfuscator_http,_63);}}catch(e){$W.exception.printStackTrace(e);$W.layer.hideProcessMessage();$W._r.asyncCount=0;}};$W._r.download=function(_68,_69,_6a){["WebSquare.net.download"];$W._N.download(_68,_69,_6a);};;WebSquare.net=$W._r;$W._l={};$W._l.sessionData={};$W._l.sessionType=new Object();$W._l.getAttribute=function(_1){["WebSquare.session.getAttribute"];var obfuscator_retStr=$W._N.recursiveCall_leaf("WebSquare.session._getAttributeData",_1);var _2=$W._N.recursiveCall_leaf("WebSquare.session._getAttributeType",_1);if(typeof obfuscator_retStr=="undefined"||obfuscator_retStr==null){return null;}if(_2.toLowerCase()=="string"||_2.toLowerCase()=="number"||_2.toLowerCase()=="boolean"){return obfuscator_retStr;}else{if(_2=="xml"){return $W._B.parse(obfuscator_retStr);}else{if(_2=="object"){return obfuscator_retStr;}else{return eval("new "+_2+"( obfuscator_retStr )");}}}};$W._l.removeAttribute=function(_3){["WebSquare.session.removeAttribute"];var obfuscator_retStr=$W._N.recursiveCall("WebSquare.session._removeAttributeData",_3);var _4=$W._N.recursiveCall("WebSquare.session._removeAttributeType",_3);if(typeof obfuscator_retStr=="undefined"||obfuscator_retStr==null){return null;}if(_4.toLowerCase()=="string"||_4.toLowerCase()=="number"||_4.toLowerCase()=="boolean"){return obfuscator_retStr;}else{if(_4=="xml"){return $W._B.parse(obfuscator_retStr);}else{if(_4=="object"){return obfuscator_retStr;}else{return eval("new "+_4+"( obfuscator_retStr )");}}}};$W._l.removeSession=function(){["WebSquare.session.removeSession"];var _5=$W._N.recursiveCall("WebSquare.session._removeSession");var _6=$W._N.recursiveCall("WebSquare.session._removeSession");};$W._l.setAttribute=function(_7,_8){["WebSquare.session.setAttribute"];var _9="object";if(typeof _8=="string"){_9="string";}else{if($W._B.isDocument(_8)){_8=$W._B.serialize(_8);_9="xml";}else{if(typeof _8=="object"){if(typeof _8.serialize=="function"&&typeof _8.classType!="undefined"){_9=_8.classType;_8=_8.serialize();}else{_8=_8;_9="object";}}}}$W._N.recursiveCall("WebSquare.session._setAttribute",_7,_8,_9);};$W._l._getAttributeData=function(_a){["WebSquare.session._getAttributeData"];var _b=$W._l.sessionData[_a];if(typeof _b=="undefined"||_b==null){return null;}return _b;};$W._l._getAttributeType=function(_c){["WebSquare.session._getAttributeType"];var _d=$W._l.sessionType[_c];if(typeof _d=="undefined"||_d==null){return null;}return _d;};$W._l._removeAttributeData=function(_e){["WebSquare.session._removeAttributeData"];var _f=$W._l.sessionData[_e];$W._l.sessionData[_e]=null;delete $W._l.sessionData[_e];if(typeof _f=="undefined"||_f==null){return null;}return _f;};$W._l._removeAttributeType=function(key){["WebSquare.session._removeAttributeType"];var _11=$W._l.sessionType[key];$W._l.sessionType[key]=null;delete $W._l.sessionType[key];if(typeof _11=="undefined"||_11==null){return null;}return _11;};$W._l._removeSession=function(key){["WebSquare.session._removeSession"];$W._l.sessionData={};$W._l.sessionType={};};$W._l._setAttribute=function(key,_14,_15){["WebSquare.session._setAttribute"];$W._l.sessionData[key]=_14;$W._l.sessionType[key]=_15;};;WebSquare.session=$W._l;(function(_1){$W._G={};$W._G.loadedUserComponent={};$W._G.loadedUserComponentPluginName={};$W._G.loadedInheritComponent={};$W._G.loadedInheritComponentPluginName={};var _2=_1.document;$W._G.documentWrite=function(_3,_4){["WebSquare.util.documentWrite"];if(typeof _4!="undefined"&&_4!=null&&_4!=""){var _5=_2.getElementById(_4);_5.innerHTML=_3;}else{_2.write(_3);}};$W._G.numericSort=function(a,b){["WebSquare.util.numericSort"];return (parseInt(a,10)-parseInt(b,10));};$W._G.getNumber=function(_8){["WebSquare.util.getNumber"];var _9=_8+"";var re=/,/g;var _b=/[^0-9.-]/g;var _c=_9.replace(re,"");if(_c.match(_b)!=null){alert("Not a Number :"+_9);return NaN;}if(_c==null||_c==""){_c="0";}if(_c.indexOf(".")==-1){return parseInt(_c,10);}else{return parseFloat(_c);}};$W._G.setNumber=function(_d){["WebSquare.util.setNumber"];var _e=_d+"";if(_e.length==0){return;}var _f="";var _10="";var _11="";if(_e.substring(0,1)=="+"||_e.substring(0,1)=="-"){_f=_e.substring(0,1);_e=_e.substring(1);}if(_e.indexOf(".")>-1){_11=_e.substring(_e.indexOf("."));_e=_e.substring(0,_e.indexOf("."));}for(var i=_e.length-3;i>=1;i=i-3){_10=","+_e.substring(i,i+3)+_10;}_10=_e.substring(0,i+3)+_10;return _f+_10+_11;};$W._G.parseInt=function(str,_14){["WebSquare.util.parseInt"];var ret=parseInt(str,10);if(typeof _14!="undefined"&&!isNaN(_14)&&isNaN(ret)){return _14;}else{return ret;}};$W._G.parseFloat=function(str,_17){["WebSquare.util.parseFloat"];var ret=parseFloat(str);if(typeof _17!="undefined"&&!isNaN(_17)&&isNaN(ret)){return _17;}else{return ret;}};$W._G.getDate=function(str){["WebSquare.util.getDate"];var _1a=str+"";if(_1a.length==10){var re=/[^0-9]/g;return _1a.replace(re,"");}else{return _1a;}};$W._G.setDate=function(str){["WebSquare.util.setDate"];var _1d=str+"";if(_1d.length!=8){return;}return _1d.substring(0,4)+"/"+_1d.substring(4,6)+"/"+_1d.substring(6,8);};$W._G.getTime=function(str){["WebSquare.util.getTime"];var _1f=str+"";if(_1f.length==5){var re=/[^0-9]/g;return _1f.replace(re,"");}else{if(_1f.length==8){var re=/[^0-9]/g;return _1f.replace(re,"");}else{return _1f;}}};$W._G.setTime=function(str){["WebSquare.util.setTime"];var _22=str+"";if(_22.length!=4){return;}return _22.substring(0,2)+":"+_22.substring(2,4);};$W._G.viewSource=function(){["WebSquare.util.viewSource"];var _23="top=120,height=485,left=200,width=650,location=no,menubar=no,resizable=yes,scrollbars=auto,status=no,titlebar=yes,toolbar=no";var _24="";if($W.domain){_24="?domain="+$W._A.URLEncoder($W.domain);}var url=$W._N.getConfiguration("viewSourceURL");if(!url){url=$W.baseURI+"message/viewSource.html";}var _26=_1.open(url+_24,"_blank",_23);};$W._G.viewCollection=function(){["WebSquare.util.viewCollection"];var _27="top=120,height=485,left=200,width=650,location=no,menubar=no,resizable=yes,scrollbars=auto,status=no,titlebar=yes,toolbar=no";var _28="";if($W.domain){_28="?domain="+$W._A.URLEncoder($W.domain);}var url=$W._N.getConfiguration("viewCollectionURL");if(!url){url=$W.baseURI+"message/viewCollection.html";}var _2a=_1.open(url+_28,"_blank",_27);};$W._G.viewInstance=function(){["WebSquare.util.viewInstance"];var _2b="top=120,height=485,left=200,width=650,location=no,menubar=no,resizable=yes,scrollbars=auto,status=no,titlebar=yes,toolbar=no";var _2c="";if($W.domain){_2c="?domain="+$W._A.URLEncoder($W.domain);}var url=$W._N.getConfiguration("viewInstanceURL");if(!url){url=$W.baseURI+"message/viewInstance.html";}var _2e=_1.open(url+_2c,"_blank",_2b);};$W._G.viewFiddle=function(){["WebSquare.util.viewFiddle"];var _2f="top=30,height=710,left=50,width=1100,location=no,menubar=no,resizable=yes,scrollbars=auto,status=no,titlebar=yes,toolbar=no";var _30="";if($W.domain){_30="?domain="+$W._A.URLEncoder($W.domain);}var url=$W._N.getConfiguration("fiddleURL");if(!url){url=$W.baseURI+"fiddle/fiddle.html";}var _32=_1.open(url+_30,"_blank",_2f);};$W._G.getSource=function(_33){if(typeof _33!="undefined"&&_33=="raw"){return $W._B.serialize($W.WebSquaredoc.xmlDocument);}else{if(typeof _33!="undefined"&&_33=="text"){return $W._B.indent($W.WebSquaredoc.xmlDocument);}else{return $W._B.indent($W.WebSquaredoc.xmlDocument,"html");}}};$W._G.getInstance=function(_34){if(typeof _34!="undefined"&&_34=="raw"){return $W._B.serialize($W._J.getInstanceByXPath("/").xmlNode.parentNode);}else{if(typeof _34!="undefined"&&_34=="text"){return $W._B.indent($W._J.getInstanceByXPath("/").xmlNode.parentNode);}else{return $W._B.indent($W._J.getInstanceByXPath("/").xmlNode.parentNode,"html");}}};$W._G.printRange=function(obj){["WebSquare.util.printRange"];var _36="top=0,height=670,left=0,width=1000,location=no,menubar=no,resizable=yes,scrollbars=auto,status=no,titlebar=yes,toolbar=no";var _37="?id="+obj;if($W.domain){_37+="&domain="+$W._A.URLEncoder($W.domain);}var url=$W._N.getConfiguration("printRangeURL");if(!url){url=$W.baseURI+"\"message/printRange.html";}var _39=_1.open(url+_37,"_blank",_36);};$W._G.evalProp=function(_3a,_3b){["WebSquare.util.evalProp"];return (_3b&&$W._G.isDef(_3a,_3b)?_3b[_3a]:_3b[_3a]={});};$W._G.setCursor=function(_3c){["WebSquare.util.setCursor"];_2.body.style.cursor=_3c;var _3d=_2.getElementsByTagName("div");if(_3d!=null){for(var i=0;i<_3d.length;i++){if(_3d[i].id!="undefined"&&_3d[i].currentStyle.display!="none"&&_3d[i].currentStyle.visibility!="hidden"){_3d[i].style.cursor=_3c;}}}};$W._G.setCursorAsync=function(_3f){["WebSquare.util.setCursorAsync"];var cmd="WebSquare.util.setCursor('"+_3f+"');";_1.setTimeout(cmd,1);};$W._G.toPixel=function(s,_42){["WebSquare.util.toPixel"];if(String(s).indexOf("%")!=-1){var n=parseInt(s);return parseInt(n/100*(_42=="x"?screen.availWidth:screen.availHeight));}return s;};$W._G.dbltoHexacode=function(dbl){["WebSquare.util.dbltoHexacode"];dbl=Math.floor(dbl);var _45="0123456789ABCDEF";var _46=_45.substr(dbl&15,1);while(dbl>15){dbl>>=4;_46=_45.substr(dbl&15,1)+_46;}return _46;};$W._G.hexacodetoDbl=function(_47){["WebSquare.util.hexacodetoDbl"];return parseInt(_47,16);};$W._G.isOdd=function(num){["WebSquare.util.isOdd"];var _49=parseInt(num);if((_49%2)==0){return false;}else{return true;}};$W._G.isInteger=function(num){var y=parseInt(num,10);if(isNaN(y)){return false;}if(num==y&&num.toString()==y.toString()){return true;}else{return false;}};$W._G.isExist=function(_4c,_4d){["WebSquare.util.isExist"];return (_4d[_4c]!=null);};$W._G.isDef=function(_4e,_4f){["WebSquare.util.isDef"];if(_4f==null){_4f=_1;}if(_4f[_4e]==null){return false;}else{return (typeof _4f[_4e]!="undefined");}};$W._G.getTDIndex=function(_50){["WebSquare.util.getTDIndex"];try{while(_50.tagName!="TABLE"){if(_50.tagName=="TD"){var _51=_50.parentNode.childNodes;for(var i=0;i<_51.length;i++){if(_51.item(i)==_50){return i;}}break;}_50=_50.parentNode;}}catch(e){}return -1;};$W._G.getTRIndex=function(_53){["WebSquare.util.getTRIndex"];try{while(_53.tagName!="TABLE"){if(_53.tagName=="TR"){var _54=_53.parentNode.childNodes;for(var i=0;i<_54.length;i++){if(_54.item(i)==_53){return i;}}break;}_53=_53.parentNode;}}catch(e){}return -1;};$W._G.getSiblingIndex=function(obj){["WebSquare.util.getSiblingIndex"];try{if(!obj){return -1;}var idx=0;while(obj.previousSibling){obj=obj.previousSibling;idx++;}return idx;}catch(e){}return -1;};$W._G.getObjectValue=function(obj,_59,_5a){["WebSquare.util.getObjectValue"];if(typeof obj!="undefined"&&obj!=null&&typeof obj[_59]!="undefined"&&obj[_59]!=""){return obj[_59];}else{if(typeof _5a=="undefined"){return null;}else{return _5a;}}};$W._G.objToXML=function(obj){["WebSquare.util.objToXML"];var _5c=$W._B.parse("<object/>");for(var i in obj){if(typeof i=="string"&&typeof obj[i]=="string"){$W._B.setValue(_5c.documentElement,i,"value",obj[i]);}}return _5c;};$W._G.getBoolean=function(_5e){["WebSquare.util.getBoolean"];if(typeof _5e=="boolean"){return _5e;}else{if(typeof _5e=="string"&&_5e.toLowerCase()=="true"){return true;}else{return false;}}};$W._G.checkUpdate=function(){["WebSquare.util.checkUpdate"];if($W._G.checkMode=="client"){try{var _5f=$W._N.getXMLHTTPIndex();var _60=$W._N.XMLHTTPObject[_5f];var uri=$W.BootLoader.getRandomPostfix($W.w2xPath);_60.open("GET",uri,true);_60.send(null);_60.onreadystatechange=function(){try{if(_60.readyState!=4){return;}if((_60["status"])&&((200>_60.status)||(400<=_60.status))){$W._N.releaseXMLHTTPObject(_5f);_1.setTimeout("WebSquare.util.checkUpdate()",$W._G.checkInterval);}else{var _62=null;if($W.BootLoader.useWebSquareXMLParser){_62=$W._B.parse(_60.responseText);}else{_62=_60.responseXML;}var ret="N/A";if($W._N.browserCheck.ieAllVersion&&$W.BootLoader.useActiveXObject){var _64=$W._N.getNamespaces(_62);var _65="";for(var i in _64){if(i!=""){_65+="xmlns:"+i+"=\""+_64[i]+"\" ";}}_62.setProperty("SelectionLanguage","XPath");_62.setProperty("SelectionNamespaces",_65);}var _67=$W._B.getElementsByTagName(_62,"buildDate",$W._N._XML_NAMESPACE.W2);if(_67.length==1){ret=(_67[0].firstChild.nodeValue);}if(ret!=$W.buildDate){var _68=_1.confirm("\ud604\uc7ac \ud398\uc774\uc9c0 \ud30c\uc77c["+$W.w2xPath+"]\uc758 \uc0dd\uc131\uc2dc\uac04\uc774 ["+$W.buildDate+"]\uc5d0\uc11c ["+ret+"]\ub85c \ubcc0\uacbd\ub418\uc5c8\uc2b5\ub2c8\ub2e4. \uac31\uc2e0\ud558\uc2dc\ub824\uba74 \ud655\uc778\uc744 \ub204\ub974\uace0 \uc911\uc9c0\ud558\ub824\uba74 \ucde8\uc18c\ub97c \ub204\ub974\uc2ed\uc2dc\uc624.");$W._N.releaseXMLHTTPObject(_5f);if(_68){location.reload(true);}else{alert("\ud604\uc7ac \ud398\uc774\uc9c0 \ud30c\uc77c["+$W.w2xPath+"]\uc740 \ub354\uc774\uc0c1 \ubc84\uc804\uc744 \ud655\uc778\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4.");}}else{$W.logger.printLog("\ub3d9\uc77c \ud30c\uc77c \ud655\uc778 buildDate["+$W.buildDate+"]");$W._N.releaseXMLHTTPObject(_5f);_1.setTimeout("WebSquare.util.checkUpdate()",$W._G.checkInterval);}}}catch(e){$W.exception.printStackTrace(e,"WebSquare.BootLoader.browserVersion");$W._N.removeXMLHTTPObject(_5f);}};}catch(e){$W.exception.printStackTrace(e,"WebSquare.BootLoader.browserVersion");}}else{if($W._G.checkMode=="server"){try{var _5f=$W._N.getXMLHTTPIndex();var _60=$W._N.XMLHTTPObject[_5f];var uri=$W._G.checkURL;_60.open("POST",uri,true);_60.send($W.w2xPath);_60.onreadystatechange=function(){try{if(_60.readyState!=4){return;}if((_60["status"])&&((200>_60.status)||(400<=_60.status))){$W._N.releaseXMLHTTPObject(_5f);_1.setTimeout("WebSquare.util.checkUpdate()",$W._G.checkInterval);}else{var ret=_60.responseText;if(ret!=$W.buildDate){var _6a=_1.confirm("\ud604\uc7ac \ud398\uc774\uc9c0 \ud30c\uc77c["+$W.w2xPath+"]\uc758 \uc0dd\uc131\uc2dc\uac04\uc774 ["+$W.buildDate+"]\uc5d0\uc11c ["+ret+"]\ub85c \ubcc0\uacbd\ub418\uc5c8\uc2b5\ub2c8\ub2e4. \uac31\uc2e0\ud558\uc2dc\ub824\uba74 \ud655\uc778\uc744 \ub204\ub974\uace0 \uc911\uc9c0\ud558\ub824\uba74 \ucde8\uc18c\ub97c \ub204\ub974\uc2ed\uc2dc\uc624.");$W._N.releaseXMLHTTPObject(_5f);if(_6a){location.reload(true);}else{alert("\ud604\uc7ac \ud398\uc774\uc9c0 \ud30c\uc77c["+$W.w2xPath+"]\uc740 \ub354\uc774\uc0c1 \ubc84\uc804\uc744 \ud655\uc778\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4.");}}else{$W.logger.printLog("\ub3d9\uc77c \ud30c\uc77c \ud655\uc778 buildDate["+$W.buildDate+"]");$W._N.releaseXMLHTTPObject(_5f);_1.setTimeout("WebSquare.util.checkUpdate()",$W._G.checkInterval);}}}catch(e){$W.exception.printStackTrace(e);$W._N.removeXMLHTTPObject(_5f);}};}catch(e){$W.exception.printStackTrace(e);}}}};$W._G.registContextMenu=function(id,vec){["WebSquare.util.registContextMenu"];var obj=id;var _6e=$W._G.makeContextMenuString(vec);var str=_6e.menuStr;var _70=_6e.width+10;if(typeof id=="string"){obj=$W._N.getComponentById(id);}if(typeof obj=="object"){if(typeof obj.render!="undefined"&&obj.render!=null){obj=obj.render;}if($W._N.browserCheck.opera){obj.onmousedown=function(e){if(e.ctrlKey){$W._G.contextObject=$W._c.getTarget(e);var _72=_1.innerWidth-$W._c.getClientX(e);var _73=_1.innerHeight-$W._c.getClientY(e);var _74=_2.getElementById("_contextMenuLayer");if(typeof _74=="undefined"||_74==null){_74=_2.createElement("div");_2.body.insertBefore(_74,null);_74.id="_contextMenuLayer";_74.style.position="absolute";}if(_72<182){_74.style.left=_1.pageXOffset+$W._c.getClientX(e)-182;}else{_74.style.left=_1.pageXOffset+$W._c.getClientX(e);}if(_73<176){_74.style.top=_1.pageYOffset+$W._c.getClientY(e)-176;}else{_74.style.top=_1.pageYOffset+$W._c.getClientY(e);}var _75=vec.size()*19+9;if(vec.size()>15){_75=295+"px";}_74.style.height=_75;_74.style.overflow="hidden";_74.style.zIndex="20000";_74.style.visibility="visible";_74.innerHTML=str;return false;}else{return true;}};}else{obj.oncontextmenu=function(e){$W._G.contextObject=$W._c.getTarget(e);var _77=_2.getElementById("_contextMenuLayer");var _78=document.documentElement.scrollLeft||document.body.scrollLeft;var _79=document.documentElement.scrollTop||document.body.scrollTop;var _7a=$W._c.getClientX(e)+_78;var _7b=$W._c.getClientY(e)+_79;if(typeof _77=="undefined"||_77==null){_77=_2.createElement("div");_77.id="_contextMenuLayer";_77.style.position="absolute";document.body.appendChild(_77);}_77.style.zIndex="20000";_77.style.visibility="visible";_77.innerHTML=str;var _7c=_77.offsetWidth+10;var _7d=_77.offsetHeight+10;if(_7a+_7c>_78+document.documentElement.clientWidth){_7a=_78+document.documentElement.clientWidth-_7c-10;}if(_7b+_7d>_79+document.documentElement.clientHeight){_7b=_79+document.documentElement.clientHeight-_7d-10;}_77.style.left=_7a+"px";_77.style.top=_7b+"px";return false;};}}};$W._G.removeContextMenu=function(id){["WebSquare.util.removeContextMenu"];var obj=id;if(typeof id=="string"){obj=$W._N.getComponentById(id);}if(typeof obj=="object"){if(typeof obj.render!="undefined"&&obj.render!=null){obj=obj.render;}obj.oncontextmenu=null;}};$W._G.makeContextMenuString=function(vec){["WebSquare.util.makeContextMenuString"];var str="";var _82=175;for(var i=0;i<vec.size();i++){var dom=vec.elementAt(i);var _85=$W._B.getAttribute(dom,"name","value");var _86=$W._G.getWidth(_85)+30;if(_82<_86){_82=_86;}}if($W._N.browserCheck.ieAllVersion){var _87=vec.size()*19+10;if(vec.size()>15){_87=295;}str+="<div id='contextLayer' onselectstart='return false' style='overflow-x:hidden; overflow-y: auto; width:"+(_82+5)+"px; height:"+_87+"px; '>";str+="<table width='"+_82+"' border='0' cellspacing='0' cellpadding='0' style='border-collapse:collapse; border:1px solid #9fbcd4; background-color:#FFFFFF;'>";}else{var _87=vec.size()*19+10;if(vec.size()>15){_87=286;}str+="<div onselectstart='return false' style='position:relative; overflow:auto; width:"+_82+"px;height:"+_87+"px; border:4px solid #e7e7e7; '>";str+="<table width='"+_82+"' border='0' cellspacing='0' cellpadding='0' style='border-collapse:collapse; border:1px solid #9fbcd4; background-color:#FFFFFF;'>";}for(var i=0;i<vec.size();i++){var dom=vec.elementAt(i);if($W._B.getAttribute(dom,"separator","value")=="true"){str+=$W.logger.contextMenuAddRow1($W._B.getAttribute(dom,"method","value"),$W._B.getAttribute(dom,"name","value"));}else{str+=$W.logger.contextMenuAddRow($W._B.getAttribute(dom,"method","value"),$W._B.getAttribute(dom,"name","value"));}}var _88={};_88.menuStr=str;_88.width=_82;return _88;};$W._G.getElement=function(_89){["WebSquare.util.createElement"];if(!_1._elements){_1._elements=[];}var _8a=_2.createElement(_89);_1._elements.push(_8a);return _8a;};$W._G.getURLString=function(str){try{if(str.toLowerCase().indexOf("url")!=-1){var _8c=str.indexOf("(");var end=str.indexOf(")");var _8e=str.substring(_8c+1,end);_8e=_8e.replace(/\"/g,"");return _8e;}}catch(e){$W.exception.printStackTrace(e);}};$W._G.toHexColor=function(_8f){try{if(_8f.indexOf("rgb")!=-1){var _90=_8f.indexOf("(");var end=_8f.indexOf(")");var _92=_8f.substring(_90+1,end);var RGB=_92.split(",");var r=parseInt(RGB[0]).toString(16);var g=parseInt(RGB[1]).toString(16);var b=parseInt(RGB[2]).toString(16);if(r.length==1){r="0"+r;}if(g.length==1){g="0"+g;}if(b.length==1){b="0"+b;}return "#"+r+g+b;}else{return _8f;}}catch(e){$W.exception.printStackTrace(e);}};if(!_1.getComputedStyle){_1.getComputedStyle=function(el,_98){this.el=el;this.getPropertyValue=function(_99){if(_99=="float"){_99="styleFloat";}_99=_99.capitalizeStyle();return (el&&el.currentStyle&&el.currentStyle[_99])?el.currentStyle[_99]:null;};return this;};}if(document.documentElement.currentStyle){$W._G.getStyleProperty=function(_9a,_9b){_9b=_9b.wq_trim().capitalizeStyle();var _9c=_9a.currentStyle[_9b];if(_9b.toLowerCase().indexOf("color")>-1){return this.toHexColor(_9c);}else{return _9c;}};}else{if(_1.getComputedStyle){$W._G.getStyleProperty=function(_9d,_9e){var _9f=document.defaultView.getComputedStyle(_9d,null).getPropertyValue(_9e);if(_9e.toLowerCase().indexOf("color")>-1){return this.toHexColor(_9f);}else{return _9f;}};}else{$W._G.getStyleProperty=function(_a0,_a1){var _a2=_a0.style[_a1];if(_a1.toLowerCase().indexOf("color")>-1){return this.toHexColor(_a2);}else{return _a2;}};}}$W._G.setSize=function(_a3){if($W._N.browserCheck.ie){return;}var _a4=$W._G.getStyleProperty(_a3,"width");var _a5=$W._G.getStyleProperty(_a3,"height");var _a6=parseInt($W._G.getStyleProperty(_a3,"border-left-width"))||0;var _a7=parseInt($W._G.getStyleProperty(_a3,"border-right-width"))||0;var _a8=parseInt($W._G.getStyleProperty(_a3,"border-top-width"))||0;var _a9=parseInt($W._G.getStyleProperty(_a3,"border-bottom-width"))||0;var _aa=parseInt($W._G.getStyleProperty(_a3,"padding-left"))||0;var _ab=parseInt($W._G.getStyleProperty(_a3,"padding-right"))||0;var _ac=parseInt($W._G.getStyleProperty(_a3,"padding-top"))||0;var _ad=parseInt($W._G.getStyleProperty(_a3,"padding-bottom"))||0;var _ae=$W._G.getStyleProperty(_a3,"border-width");if(_a4!=""&&_a4.indexOf("px")>=0){_a3.style.width=parseInt(_a4)-_a6-_a7-_aa-_ab;}if(_a5!=""&&_a5.indexOf("px")>=0){_a3.style.height=parseInt(_a5)-_a8-_a9-_ac-_ad;}};$W._G.getWidth=function(str,_b0,_b1){["WebSquare.util.getWidth"];_b0=(_b0==null)?"":_b0;_b1=(_b1==null)?"":_b1;var _b2=$W._G.getRulerSpan();_b2.style.cssText=_b0;_b2.style.visibility="hidden";_b2.style.position="absolute";_b2.style.width="";_b2.className=_b1;_b2.innerHTML=str;_b2.style.top="-10000px";_b2.style.left="-10000px";return _b2.offsetWidth;};$W._G.getRulerSpan=function(_b3,_b4){["WebSquare.util.getRulerSpan"];var _b5=_2.getElementById("__rulerSpan__");if(_b5==null){_b5=_2.createElement("span");_b5.id="__rulerSpan__";_b5.style.visibility="hidden";_b5.style.position="absolute";_2.body.appendChild(_b5);}_b5.style.cssText=_b3;_b5.style.visibility="hidden";_b5.style.position="absolute";_b5.className=_b4;return _b5;};$W._G.getImageUrl=function(_b6,_b7){["WebSquare.util.getImageUrl"];var _b8=$W._G.getRulerSpan();_b8.style.cssText=_b6;_b8.style.visibility="hidden";_b8.style.position="absolute";_b8.className=_b7;_b8.style.top="-10000px";_b8.style.left="-10000px";var _b9=$W._G.getStyleProperty(_b8,"background-image");return _b9;};$W._G.getHeight=function(str,_bb,obj){["WebSquare.util.getHeight"];var _bd=$W._G.getRulerSpan();_bd.style.width=_bb;if(obj!=null){_bd.style.fontSize=obj.style.fontSize;_bd.style.fontFamily=obj.style.fontFamily;_bd.style.fontWeight=obj.style.fontWeight;}else{_bd.style.fontSize="";_bd.style.fontFamily="";_bd.style.fontWeight="";}_bd.innerHTML=str;_bd.style.top="-10000px";_bd.style.left="-10000px";return _bd.offsetHeight;};$W._G.getHeight2=function(str,_bf,_c0,_c1){["WebSquare.util.getHeight2"];var _c2=$W._G.getRulerSpan();_c2.style.cssText=_c0;_c2.className=_c1;_c2.style.visibility="hidden";_c2.style.height="";_c2.style.position="";_c2.style.padding="0 0 0 0 ";_c2.style.width=$W._G.getStyleProperty(_c2,"width");_c2.style.fontSize=$W._G.getStyleProperty(_c2,"font-size")||"12px";_c2.style.fontFamily=$W._G.getStyleProperty(_c2,"font-family")||"";_c2.style.fontWeight=$W._G.getStyleProperty(_c2,"font-weight")||"";_c2.innerHTML=str;_c2.style.top="-10000px";_c2.style.left="-10000px";var _c3=_c2.offsetHeight;if(_c3==0){_c3=parseInt(_c2.style.fontSize);}return _c3;};$W._G.setVerticalAlignMiddle=function(_c4,_c5){var _c6=$W._G.getStyleProperty(_c4,"height");var _c7=$W._G.getStyleProperty(_c4,"vertical-align");_c7=(_c7=="")?"middle":_c7;var _c8=$W._G.getStyleProperty(_c4,"padding-top");if((_c8==""||_c8=="0px")&&_c7=="middle"&&_c6!=""&&_c6.indexOf("px")>=0){var div=document.createElement("div");_c4.appendChild(div);div.innerHTML=_c5;var _ca=$W._G.getRulerSpan(_c4.style.cssText,_c4.className);_ca.style.height="";_ca.style.top="-10000px";_ca.style.left="-10000px";_ca.innerHTML=_c5;var _cb=_ca.offsetHeight;div.style.marginTop=(parseInt(_c6)-_cb)/2;}else{if((_c8==""||_c8=="0px")&&_c7=="bottom"&&_c6!=""&&_c6.indexOf("px")>=0){var div=document.createElement("div");_c4.appendChild(div);div.innerHTML=_c5;var _ca=$W._G.getRulerSpan(_c4.style.cssText,_c4.className);_ca.style.height="";_ca.style.top="-10000px";_ca.style.left="-10000px";_ca.innerHTML=_c5;var _cb=_ca.offsetHeight;var _cc=parseInt(_c6)-_cb-3;div.style.marginTop=_cc;}else{_c4.innerHTML=_c5;}}};$W._G.getChildNodeAt=function(obj,idx){["WebSquare.util.getChildNodeAt"];try{var _cf=$W._G.first(obj);var _d0=0;while(_cf!=null&&_d0<idx){_cf=$W._G.next(_cf);_d0++;}return _cf;}catch(e){$W.exception.printStackTrace(e);}};$W._G.prev=function(_d1){["WebSquare.util.prev"];do{_d1=_d1.previousSibling;}while(_d1&&_d1.nodeType!=1);return _d1;};$W._G.next=function(_d2){["WebSquare.util.next"];do{_d2=_d2.nextSibling;}while(_d2&&_d2.nodeType!=1);return _d2;};$W._G.first=function(_d3){["WebSquare.util.first"];_d3=_d3.firstChild;if(_d3==null){return _d3;}return _d3&&_d3.nodeType!=1?$W._G.next(_d3):_d3;};$W._G.last=function(_d4){["WebSquare.util.last"];_d4=_d4.lastChild;return _d4&&_d4.nodeType!=1?$W._G.prev(_d4):_d4;};$W._G.parent=function(_d5,num){["WebSquare.util.parent"];num=num||1;for(var i=0;i<num;i++){if(_d5!=null){_d5=_d5.parentNode;}}return _d5;};$W._G.getEvent=function(e){try{e=e||event;}catch(e){$W.exception.printStackTrace(e);}return e;};$W._G.getStringByteSize=function(str,_da){if(!str){return 0;}var _db=$W._N.getConfiguration("/WebSquare/byteCheckEncoding/@value");if(!_db){_db="UTF-8";}_db=_db.toUpperCase();switch(_db){case "UTF-8":return $W._G.getByteLengthUtf8(str,_da);break;default:return $W._G.getByteLength(str,_da);break;}};$W._G.getByteLength=function(str,_dd){var _de=0;var _dd=_dd||"";var _df=[];for(var s=0;s<_dd.length;s++){_df.push(escape(_dd.charAt(s)));}for(var i=0;i<str.length;i++){var _e2=escape(str.charAt(i));if(_df.length>0){var _e3=false;for(var j=0;j<_df.length;j++){if(_e2===_df[j]){_e3=true;break;}}if(_e3){continue;}}if(_e2.length==1){_de++;}else{if(_e2.indexOf("%u")!=-1){_de+=2;}else{if(_e2.indexOf("%")!=-1){_de+=_e2.length/3;}}}}return _de;};$W._G.getByteLengthUtf8=function(str,_e6){var _e7=0;var _e6=_e6||"";var _e8=[];for(var s=0;s<_e6.length;s++){_e8.push(escape(_e6.charAt(s)));}for(var i=0;i<str.length;i++){var _eb=escape(str.charAt(i));if(_e8.length>0){var _ec=false;for(var j=0;j<_e8.length;j++){if(_eb===_e8[j]){_ec=true;break;}}if(_ec){continue;}}_e7+=$W._G.getCharByteSize(str.charAt(i));}return _e7;};$W._G.getStringByByteSize=function(str,_ef,_f0){if(!str){return "";}var _f1=$W._N.getConfiguration("/WebSquare/byteCheckEncoding/@value");if(!_f1){_f1="UTF-8";}_f1=_f1.toUpperCase();switch(_f1){case "UTF-8":return $W._G.getByteStringByLengthUtf8(str,_ef,_f0);break;default:return $W._G.getByteStringByLength(str,_ef,_f0);break;}};$W._G.getByteStringByLength=function(str,_f3,_f4){var _f5=0;var _f4=_f4||"";var _f6=[];for(var s=0;s<_f4.length;s++){_f6.push(escape(_f4.charAt(s)));}for(var i=0;i<str.length;i++){var _f9=escape(str.charAt(i));if(_f6.length>0){var _fa=false;for(var j=0;j<_f6.length;j++){if(_f9===_f6[j]){_fa=true;break;}}if(_fa){continue;}}if(_f9.length==1){_f5++;}else{if(_f9.indexOf("%u")!=-1){_f5+=2;}else{if(_f9.indexOf("%")!=-1){_f5+=_f9.length/3;}}}if(_f5>_f3){return str.substring(0,i);}}return str;};$W._G.getByteStringByLengthUtf8=function(str,_fd,_fe){var _ff=0;var _fe=_fe||"";var _100=[];for(var s=0;s<_fe.length;s++){_100.push(escape(_fe.charAt(s)));}for(var i=0;i<str.length;i++){var _103=escape(str.charAt(i));if(_100.length>0){var _104=false;for(var j=0;j<_100.length;j++){if(_103===_100[j]){_104=true;break;}}if(_104){continue;}}var _106=$W._G.getCharByteSize(str.charAt(i));_ff+=_106;if(_ff>_fd){return str.substring(0,i);}}return str;};$W._G.getCharByteSize=function(ch){if(!ch||ch.length==0){return 0;}var _108=0;var _109=ch.charCodeAt(0);if(_109<=127){_108=1;}else{if(_109<=2047){_108=2;}else{if(_109<=65535){_108=3;}else{_108=4;}}}return _108;};$W._G.getImageStyle=function(_10a,_10b){["WebSquare.util.getImageStyle"];var _10c="";var _10d=_10a.toLowerCase();if(_10d.indexOf("background-image")>=0){_10d=_10d.substring(_10d.indexOf("background-image"));var a=_10d.split(";");var _10f=a[0].split(":");_10f.shift();_10c=_10f.join("").wq_trim();if(_10c.startsWith("url")){_10c=_10c.substring(3).wq_trim();if(_10c.charAt(0)=="("&&_10c.charAt(_10c.length-1)==")"){_10c=$W._N.getImageURL(_10c.substring(1,_10c.length-1));}}}else{_10c=$W._y.makeBackgroundImageUrl(_10b);}if(_10c!=""&&_10c!="none"){_10c="background-image:url("+_10c+")";}return _10c;};$W._G.getInnerText=function(obj){["WebSquare.util.getInnerText"];var a="";try{a=obj.innerText;if(typeof a=="undefined"){a=obj.textContent;}}catch(e){$W.exception.printStackTrace(e);}return a;};$W._G.getTextNodeValue=function(_112){try{var _113=null;if(_112){for(var _114=_112.firstChild;_114!=null;_114=_114.nextSibling){if(_114.nodeType==3){_113=_114.nodeValue;break;}}}return _113;}catch(e){$l("dataController.getTextNodeValue :"+e.message);$W.exception.printStackTrace(e);}};$W._G.browserVersion=function(){try{return $W._N.browserVersion();}catch(e){$W.exception.printStackTrace(e);}};$W._G.isIE=function(_115){try{var _116=$W._N.browserCheck.ieVersion[_115];if(_116!=undefined){return _116;}else{_116=$W._N.browserCheck.ie;if(_115){_115+="";_116=_116&&(_115.indexOf($W._N.browserVersion())>-1);$W._N.browserCheck.ieVersion[_115]=_116;}return _116;}}catch(e){$W.exception.printStackTrace(e);}};$W._G.isIEAllVersion=function(_117){try{var _118=$W._N.browserCheck.ieVersion[_117];if(_118!=undefined){return _118;}else{_118=$W._N.browserCheck.ieAllVersion;if(_117){_117+="";_118=_118&&(_117.indexOf($W._N.browserVersion())>-1);$W._N.browserCheck.ieVersion[_117]=_118;}return _118;}}catch(e){$W.exception.printStackTrace(e);}};$W._G.isFF=function(_119){try{var _11a=$W._N.browserCheck.mozVersion[_119];if(_11a!=undefined){return _11a;}else{_11a=$W._N.browserCheck.moz;if(_119){_119+="";_11a=_11a&&(_119.indexOf($W._N.browserVersion())>-1);$W._N.browserCheck.mozVersion[_119]=_11a;}return _11a;}}catch(e){$W.exception.printStackTrace(e);}};$W._G.isChrome=function(_11b){try{var _11c=$W._N.browserCheck.chromeVersion[_11b];if(_11c!=undefined){return _11c;}else{_11c=$W._N.browserCheck.chrome;if(_11b){_11b+="";_11c=_11c&&(_11b.indexOf($W._N.browserVersion())>-1);$W._N.browserCheck.chromeVersion[_11b]=_11c;}return _11c;}}catch(e){$W.exception.printStackTrace(e);}};$W._G.isSafari=function(_11d){try{var _11e=$W._N.browserCheck.safariVersion[_11d];if(_11e!=undefined){return _11e;}else{_11e=$W._N.browserCheck.safari;if(_11d){_11d+="";_11e=_11e&&(_11d.indexOf($W._N.browserVersion())>-1);$W._N.browserCheck.safariVersion[_11d]=_11e;}return _11e;}}catch(e){$W.exception.printStackTrace(e);}};$W._G.isOpera=function(_11f){try{var _120=$W._N.browserCheck.operaVersion[_11f];if(_120!=undefined){return _120;}else{_120=$W._N.browserCheck.opera;if(_11f&&$W._N.browserVersion()){_11f+="";_120=_120&&(_11f.indexOf($W._N.browserVersion())>-1);$W._N.browserCheck.operaVersion[_11f]=_120;}return _120;}}catch(e){$W.exception.printStackTrace(e);}};$W._G.isSpartan=function(){try{return $W._N.browserCheck.spartan;}catch(e){$W.exception.printStackTrace(e);}};$W._G.isMobile=function(){try{var _121=$W._N.browserCheck.isMobile;if(_121!=undefined){return _121;}else{if($W._N.browserCheck.android||$W._N.browserCheck.iphone||$W._N.browserCheck.ipad||$W._N.browserCheck.ipod||$W._N.browserCheck.blackberry){_121=true;}else{_121=false;}$W._N.browserCheck.isMobile=_121;return $W._N.browserCheck.isMobile;}}catch(e){$W.exception.printStackTrace(e);}};$W._G.isNull=function(_122){["WebSquare.util.isNull"];if(typeof _122=="undefined"||_122==null){return true;}else{return false;}};$W._G.isNumber=function(_123){["WebSquare.util.isNumber"];if($W._G.isNull(_123)){return false;}if(_123.constructor==Number){return true;}else{return false;}};$W._G.isString=function(_124){["WebSquare.util.isString"];if($W._G.isNull(_124)){return false;}if(_124.constructor==String){return true;}else{return false;}};$W._G.isArray=function(_125){["WebSquare.util.isArray"];return _125&&typeof _125==="object"&&typeof _125.length==="number"&&typeof _125.splice==="function"&&!(_125.propertyIsEnumerable("length"));};$W._G.isRegExp=function(_126){["WebSquare.util.isRegExp"];if($W._G.isNull(_126)){return false;}if(_126 instanceof RegExp){return true;}else{return false;}};$W._G.XMLToHTML=function(node){["WebSquare.util.XMLToHTML"];if(typeof node.tagName=="undefined"&&node.nodeType==3){return document.createTextNode(node.nodeValue);}var _128=document.createElement(node.tagName);var _129=$W.WebSquareparser.parseAttribute(node);try{for(var idx in _129){if(idx=="style"){_128.style.cssText=_129[idx];continue;}else{if(idx=="className"){_128.className=_129[idx];continue;}}_128[idx]=_129[idx];}}catch(e){$W.exception.printStackTrace(e,null,this);}for(var _12b=node.firstChild;_12b!=null;_12b=_12b.nextSibling){if(_12b.nodeType==1){_128.appendChild(this.XMLToHTML(_12b));}else{if(_12b.nodeType==2||_12b.nodeType==3||_12b.nodeType==4){value=childNode.nodeValue;_128.appendChild(document.createTextNode(_12b.nodeValue));}}}return _128;};$W._G.setPrecision=function(_12c){["WebSquare.util.setPrecision"];try{if(typeof _12c=="number"){_12c=parseFloat(_12c.toFixed(10));_12c=parseFloat(_12c.toPrecision(15));}return _12c;}catch(e){$W.exception.printStackTrace(e);}};$W._G.dynamicCreate=function(id,_12e,_12f,_130,_131,_132){["WebSquare.util.dynamicCreate"];try{if($W._G.getComponentById(id)){$W.logger.printLog("dynamicCreate error : id duplcation.\ndynamicCreate\uc624\ub958 : \ud574\ub2f9 id\ub97c \uac00\uc9c4 \ucef4\ud3ec\ub10c\ud2b8\uac00 \uc774\ubbf8 \uc874\uc7ac\ud569\ub2c8\ub2e4."+id);return;}var xml=null;if(_12f.nodeType&&(_12f.nodeType===1||_12f.nodeType===9)){xml=_12f.nodeType==9?_12f.documentElement:_12f;_12f={};}else{if(typeof _12f=="string"){xml=$W._B.parse(_12f);if(xml){xml=xml.documentElement;_12f={};}}}if(xml==null){_12f.pluginName=_12e;}var _134=null;if(_132){_134=$W._G.getComponentById(_132);}_12f._idCollisionCheck=true;var comp=$W.controlFactory.createControl(id,_12f,xml,null,true);if(_131){comp.modelControl.setItemset(_131.nodeset,_131.label,_131.value);}comp.appendTo(_130||$W.getBody());comp.activate();comp.onComplete();if(_131){comp.refreshItemset();}return comp;}catch(e){$W.exception.printStackTrace(e);}};$W._G.setSortable=function(id,_137,_138,_139,_13a){["WebSquare.util.setSortable"];try{for(var i=0;i<_138.length;i++){var _13c=$W.extend({handle:_137[i]?_137[i].render:_138[i].render,delay:10,direction:"y"},_13a||{});$W._K.sDragManager.registerItem(_138[i],_13c);}for(var i=0;i<_139.length;i++){$W._K.sDragManager.registerGroup(id,_139[i]);}}catch(e){$W.exception.printStackTrace(e);}};$W._G.getComponentById=function(id,_13e){["WebSquare.util.getComponentById"];try{if(_13e){var _13f=$W._G.getComponentById(_13e);if(_13f!=null&&_13f.scope[id]){id=_13f.scope[id].id||id;}}return $W.idCache[$W.idToUUID[id]]||_1[id];}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._G.getGlobalFunction=function(str,_141){["WebSquare.util.getGlobalFunction"];try{if(typeof str=="function"){return str;}if(!str){return null;}if(_141&&$W._G.getComponentById(_141)!=null){var obfuscator_ret=null;try{eval("with(WebSquare.util.getComponentById('"+_141+"').scopeVariable){ obfuscator_ret = "+str+" ;}");}catch(e){obfuscator_ret=null;}if(typeof obfuscator_ret!=="function"){try{eval("obfuscator_ret = "+str+";");}catch(e){obfuscator_ret=null;}}return typeof obfuscator_ret==="function"?obfuscator_ret:null;}else{var path=str.wq_trim().split(".");var idx=0;var obj=path[0]?_1[path[idx++]]||null:null;while(obj&&(typeof obj=="object"||typeof obj=="function")&&idx<path.length){obj=obj[path[idx++]];}return typeof obj=="function"?obj:null;}}catch(e){$W.exception.printStackTrace(e,null,this);}};var _145=true,queue=[],handlers={},scripts={},root_page=/^[^?#]*\//.exec(location.href)[0],root_domain=/^\w+\:\/\/\/?[^\/]+/.exec(root_page)[0],test_script_elem=document.createElement("script"),explicit_preloading=typeof test_script_elem.preload=="boolean",real_preloading=explicit_preloading||(test_script_elem.readyState&&test_script_elem.readyState=="uninitialized"),script_ordered_async=(!real_preloading&&test_script_elem.async===true)||($W._G.isIE(10)&&"async" in test_script_elem),script_cache=real_preloading&&!script_ordered_async;var api=$W._G;var _147=0,PRELOADED=1,LOADING=2,LOADED=3;if(script_ordered_async){api.js=function(){$l("[WebSquare.util.js]script loading[script_ordered_async]");var args=arguments,fn=args[args.length-1],els={},lastScriptIndex=-1;if(!isFunc(fn)){fn=null;}each(args,function(el,i){if(el!=fn){el=getScript(el);if(!els[el.url]){lastScriptIndex++;}els[el.url]=el;}});var i=0;for(var el in els){(function(el,i){load(el,fn&&i==lastScriptIndex?function(){one(fn);}:null);})(els[el],i);i++;}return api;};}else{if(script_cache){api.js=function(){$l("[WebSquare.util.js]script loading[script_cache]");var args=arguments,newArr=[],els={};for(var i=0;i<args.length;i++){(function(el){if(!isFunc(el)){if(!els[el]){newArr.push(el);}els[el]=el;}else{newArr.push(el);}})(args[i]);}args=newArr;var rest=[].slice.call(args,1),next=rest[0];if(next){each(rest,function(el){if(!isFunc(el)){preload(getScript(el));}});load(getScript(args[0]),isFunc(next)?next:function(){api.js.apply(null,rest);});}else{load(getScript(args[0]));}return api;};}else{api.js=function(){$l("[WebSquare.util.js]script loading[XHR]");var args=arguments,fn=args[args.length-1],els={},lastScriptIndex=-1;if(!isFunc(fn)){fn=null;}each(args,function(el,i){if(el!=fn){el=getScript(el);if(!els[el.url]){lastScriptIndex++;}els[el.url]=el;}});var i=0;for(var el in els){(function(el,i){var uri=canonical_uri(el.url,"");if(uri.indexOf(root_domain)==0){$W.BootLoader.globalEval($W.BootLoader.loadUri(uri));}else{load(el,null);}if(fn&&i==lastScriptIndex){one(fn);}})(els[el],i);i++;}return api;};}}function canonical_uri(src,_15d){var _15e=/^\w+\:\/\//;if(/^\/\/\/?/.test(src)){src=location.protocol+src;}else{if(!_15e.test(src)&&src.charAt(0)!="/"){src=(_15d||"")+src;}}return _15e.test(src)?src:((src.charAt(0)=="/"?root_domain:root_page)+src);}api.ready=function(key,fn,_161){if(isFunc(_161)){fn=_161;key="ALL";}var _162=scripts[key];if(_162&&_162.state==LOADED||key=="ALL"&&allLoaded()){one(fn);return api;}var arr=handlers[key];if(!arr){arr=handlers[key]=[fn];}else{arr.push(fn);}return api;};function one(fn){if(!isFunc(fn)||fn._done){return;}fn();fn._done=1;}function toLabel(url){var els=url.split("/"),name=els[els.length-1],i=name.indexOf("?");return i!=-1?name.substring(0,i):name;}function getScript(url){var _168;if(typeof url=="object"){for(var key in url){if(url[key]){_168={name:key,url:url[key]};}}}else{_168={name:toLabel(url),url:url};}var _16a=scripts[_168.url];if(_16a){return _16a;}for(var url in scripts){if(scripts[url]==_168.url){return scripts[url];}}scripts[_168.url]=_168;return _168;}function each(arr,fn){if(!arr){return;}if(typeof arr=="object"){arr=[].slice.call(arr);}for(var i=0;i<arr.length;i++){fn.call(arr,arr[i],i);}}function isFunc(el){return Object.prototype.toString.call(el)=="[object Function]";}function allLoaded(els){els=els||scripts;for(var url in els){if(els[url].state!=LOADED){return false;}}return true;}function onPreload(_171){_171.state=PRELOADED;each(_171.onpreload,function(el){el.call();});}function preload(_173,_174){if(!_173.state){_173.state=_147;_173.onpreload=[];scriptTag({src:_173.url,type:"cache"},function(){onPreload(_173);});}}function load(_175,_176){if(typeof $W.scriptCachedList[_175.url]=="undefined"||$W.scriptCachedList[_175.url]===null){if($W._N.getConfiguration("/WebSquare/spa/scriptCache/@value")==="false"){$W.scriptCachedList[_175.url]=0;}else{$W.scriptCachedList[_175.url]=1;}}if(_175.state==LOADED&&$W.scriptCachedList[_175.url]>1){$W.scriptCachedList[_175.url]++;if(_176){return _176();}else{return;}}if(_175.state==LOADING){return api.ready(_175.url,_176,_175.name);}if(_175.state==_147){return _175.onpreload.push(function(){load(_175,_176);});}_175.state=LOADING;if($W._N.getConfiguration("/WebSquare/spa/scriptCache/@value")!=="false"){$W.scriptCachedList[_175.url]++;}scriptTag(_175.url,function(){_175.state=LOADED;if(_176){_176();}each(handlers[_175.url],function(fn){one(fn);});if(allLoaded()){each(handlers.ALL,function(fn){one(fn);});}});}function scriptTag(src,_17a){try{var head=document.head||document.getElementsByTagName("head")[0]||document.documentElement;var s=_2.createElement("script");s.type="text/"+(src.type||"javascript");var _17d=$W._N.getConfiguration("/WebSquare/script/@encoding");if(_17d){s.charset=_17d;}else{s.charset="utf-8";}var flag=$W._N.getConfiguration("/WebSquare/script/@postfix");var _17f=$W.BootLoader.getEngineUri(src.src||src);if(flag==="environment"){_17f=$W.BootLoader.openResourceUri(src.src||src);}s.src=_17f;s.async=false;if($W._G.isIE(10)){s.onload=function(){if(!_17a.done){s.onload=null;s=undefined;_17a();_17a.done=true;}};s.onerror=function(){_17a();_17a.done=true;};}else{s.onreadystatechange=s.onload=function(){var _180=s.readyState;if(!_17a.done&&(!_180||/loaded|complete/.test(_180))){s.onload=s.onreadystatechange=null;s=undefined;_17a();_17a.done=true;}};}if(!$W._G.isIE()){s.onerror=function(){_17a();_17a.done=true;};}head.appendChild(s);head=null;}catch(e){$W.exception.printStackTrace(e,null,this);}}$W._G.createPopup=function(id,type,_183,_184,_185,_186,_187,_188,_189,xml,_18b){try{$W._a.aL.createPopup(id,type,_183,_184,_185,_186,_187,_188,_189,xml,_18b);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._G.openPopup=function(url,_18d,_18e,_18f){try{$W._a.aL.openPopup(url,_18d,_18e,_18f);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._G.getPopupParam=function(){try{return $W._a.aL.getPopupParam();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._G.closePopup=function(id){try{var _191="";if(arguments.length==0){_191=$W._r.getParameter("popupID");}else{_191=id;}if(id==undefined&&opener&&opener.WebSquare){opener.WebSquare.uiplugin.popup.callClose(_191);}else{if(parent!==window&&parent.WebSquare!=undefined){if(parent.WebSquare.uiplugin.popup){parent.WebSquare.uiplugin.popup.callClose(_191);}if($W._a.aL){$W._a.aL.callClose(_191);}}else{$W._a.aL.callClose(_191);}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._G.getPopup=function(id){try{return $W._a.aL.getPopup(id);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._G.getPopupWindow=function(id){try{return $W._a.aL.getPopupWindow(id);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._G.isPopup=function(){["WebSquare.util.isPopup"];try{if(typeof window.opener=="undefined"){return false;}else{if(window.opener.closed){return false;}else{return true;}}}catch(e){return false;}};$W._G.isWFramePopup=function(){try{["WebSquare.util.isWFramePopup"];return false;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._G.getPopupUrl=function(){try{["WebSquare.util.getPopupUrl"];return $W._r.getParameter("w2xPath");}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._G.getPopupId=function(){try{["WebSquare.util.getPopupId"];return $W._r.getParameter("popupID");}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._G.getParentId=function(){try{["WebSquare.util.getParentId"];return null;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._G.getParentFrame=function(){try{["WebSquare.util.getParentFrame"];}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._G.getDocumentSize=function(_194){["WebSquare.util.getDocumentSize"];try{var _194=_194.toLowerCase();if(_194=="height"){return document.documentElement.clientHeight||document.body.clientHeight;}else{if(_194=="width"){return document.documentElement.clientWidth||document.body.clientHeight;}}$l("getDocumentSize : wrong sizeName["+_194+"]");return;}catch(e){$W.exception.printStackTrace(e);}};$W._G.getSubmissionURL=function(url){["WebSquare.util.getSubmissionURL"];try{var _196=$W._N.getConfiguration("/WebSquare/hybrid/submissionURL");var _197=$W._N.getURL($W._G.appendingPathComponent(_196,url));return _197;}catch(e){$W.exception.printStackTrace(e);}};$W._G.appendingPathComponent=function(_198,_199){["WebSquare.util.appendingPathComponent"];try{if(_199.indexOf("://")>0||_198.length==0){return _199;}var _19a=_198.length;if(_198.charAt(_19a-1)=="/"){if(_199.charAt(0)=="/"){return _198+_199.substr(1);}else{return _198+_199;}}else{if(_199.charAt(0)=="/"){return _198+_199;}else{return _198+"/"+_199;}}}catch(e){$W.exception.printStackTrace(e);}};$W._G.setDocumentLang=function(lang){["WebSquare.util.setDocumentLang"];try{document.documentElement.setAttribute("xml:lang",lang);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._G.setDisabled=function(obj){["WebSquare.util.setDisabled"];try{var _19d=[];var _19e=[];var _19f=obj.componentId;var flag=obj.disabled;var _1a1=obj.excludeIdList;var _1a2=obj.includeIdList;var _1a3=obj.skipTab;var _1a4;if(!_19f){_1a4=$W.getBody();}else{_1a4=$W._G.getComponentById(_19f);}if(!_1a4||!_1a4.options||!_1a4.options.pluginName){$l("[WebSquare.util.setDisabled]id:\ud574\ub2f9\ud558\ub294 WebSquareComponent\ub97c \ucc3e\uc744 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.");return {"doneComponents":_19d,"skipComponents":_19e};}var _1a5;if($W._G.isArray(_1a2)){if(!_1a5){_1a5={};}for(var i=0;i<_1a2.length;i++){_1a5[_1a2[i]]=true;}}else{if(_1a2){_1a5=_1a2;}}var _1a7=$W._G.getDisabledComponentIdList(_1a4,flag);var _1a8=_1a7.targetComponents;_19e=_1a7.skipComponents;for(var i=0;i<_1a8.length;i++){var _1a9=$W._G.getComponentById(_1a8[i]);if(!_1a9){continue;}var _1aa=_1a9.options.disabled;if(!_1a5){try{if(_1aa!==flag){_1a9.setDisabled(flag,_1a3);}_19d.push(_1a9.id);}catch(e){$l("[WebSquare.util.setDisabled]["+_1a9.id+"] \ucef4\ud3ec\ub10c\ud2b8\uc758 disable \ucc98\ub9ac\ub97c \uc2e4\ud328\ud558\uc600\uc2b5\ub2c8\ub2e4. \ucef4\ud3ec\ub10c\ud2b8 \uc0c1\ud0dc\ub97c \ud655\uc778\ud558\uc2dc\uae30 \ubc14\ub78d\ub2c8\ub2e4.");}}else{try{if(_1a5[_1a9.id]){if(_1aa!==flag){_1a9.setDisabled(flag,_1a3);}_19d.push(_1a9.id);}}catch(e){$l("[WebSquare.util.setDisabled]["+_1a9.id+"] \ucef4\ud3ec\ub10c\ud2b8\uc758 disable \ucc98\ub9ac\ub97c \uc2e4\ud328\ud558\uc600\uc2b5\ub2c8\ub2e4. \ucef4\ud3ec\ub10c\ud2b8 \uc0c1\ud0dc\ub97c \ud655\uc778\ud558\uc2dc\uae30 \ubc14\ub78d\ub2c8\ub2e4.");}}}if(_1a1){for(var i=0;i<_1a1.length;i++){var _1a9=$W._G.getComponentById(_1a1[i]);var _1aa=_1a9.options.disabled;if(_1aa===flag){try{_1a9.setDisabled(!flag,_1a3);}catch(e){$l("[WebSquare.util.setDisabled]["+_1a9.id+"] \ucef4\ud3ec\ub10c\ud2b8\uc758 disable \ucc98\ub9ac\ub97c \uc2e4\ud328\ud558\uc600\uc2b5\ub2c8\ub2e4. \ucef4\ud3ec\ub10c\ud2b8 \uc0c1\ud0dc\ub97c \ud655\uc778\ud558\uc2dc\uae30 \ubc14\ub78d\ub2c8\ub2e4.");}}}}for(var i=0;i<_19e.length;i++){var _1a9=$W._G.getComponentById(_19e[i]);var _1aa=_1a9.options.disabled;if(_1aa!==flag){try{_1a9.setDisabled(flag,_1a3);}catch(e){$l("[WebSquare.util.setDisabled]["+_1a9.id+"] \ucef4\ud3ec\ub10c\ud2b8\uc758 disable \ucc98\ub9ac\ub97c \uc2e4\ud328\ud558\uc600\uc2b5\ub2c8\ub2e4. \ucef4\ud3ec\ub10c\ud2b8 \uc0c1\ud0dc\ub97c \ud655\uc778\ud558\uc2dc\uae30 \ubc14\ub78d\ub2c8\ub2e4.");}}}return {"doneComponents":_19d,"skipComponents":_19e};}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._G.getDisabledComponentIdList=function(_1ab,_1ac,_1ad){["WebSquare.util.getComponentIdList"];try{if(!_1ad){_1ad={};_1ad.targetComponents=[];_1ad.skipComponents=[];}if(!_1ab){_1ab=$W.getBody();}if(_1ab&&_1ab.options&&_1ab.options.pluginName=="body"){}else{if(_1ab.activeStatus=="stop"){return _1ad;}if(!_1ab.id||!_1ab.options||(!_1ab.options.pluginName&&!_1ab.options.udcName)){return _1ad;}if(_1ab.options.disabled===_1ac){_1ad.skipComponents.push(_1ab.id);}else{_1ad.targetComponents.push(_1ab.id);}}for(var i=0;i<_1ab.childControlList.length;i++){var _1af=_1ab.childControlList[i];if(!_1af||!$W._G.getComponentById(_1af.id)||!_1af.options||(!_1af.options.pluginName&&!_1af.options.udcName)){continue;}$W._G.getDisabledComponentIdList(_1af,_1ac,_1ad);}return _1ad;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._G.getIgnoreKeyPressCodes=function(){return {8:"backspace",9:"tab",37:"left",38:"up",39:"right",40:"down",36:"home",35:"end",4:"insert",46:"del",33:"pageup",34:"pagedown"};};$W._G.setDomain=function(_1b0){["WebSquare.util.setDomain"];try{$W.domain=_1b0;document.domain=_1b0;}catch(e){$W.exception.printStackTrace(e);}};$W._G.getChildren=function(_1b1,_1b2){["WebSquare.util.getChildren"];try{if(!_1b1){_1b1=_1b1||$W.getBody();if(_1b2){_1b2.recursive=false;}}if(_1b2){var ret=[];var _1b4=_1b2.recursive?_1b1.getAllChildren():_1b1.getChildren();var _1b5=_1b2.excludePlugin?(" "+_1b2.excludePlugin+" "):false;var _1b6=_1b2.excludeId?(" "+_1b2.excludeId+" "):false;for(var i=0;i<_1b4.length;i++){if((!_1b6||_1b6.indexOf(" "+_1b4[i].id+" ")<0)&&(!_1b5||_1b5.indexOf(" "+_1b4[i].options.pluginName+" ")<0)){ret.push(_1b4[i]);}}return ret;}else{return _1b1.getChildren().slice(0);}}catch(e){$W.exception.printStackTrace(e);}};$W._G.addClearMemory=function(fn){["WebSquare.util.addClearMemory"];try{if(fn){$W._N.userClearMemoryStack.push(fn);}}catch(e){$W.exception.printStackTrace(e);}};$W._G.loadUserComponent=function(src,id,_1bb,_1bc){["WebSquare.util.loadUserComponent"];try{var _1bd=$W._B.load(src);var _1be=[];var _1bf=$W._G.getBoolean($W._N.getConfiguration("/WebSquare/supportW2Udc/@value"));if(id&&_1bb){_1be.push(_1bb);}else{var _1c0=$W._B.findNodes(_1bd.documentElement,"//@pluginName");for(var i=0;i<_1c0.length;i++){_1be.push(_1c0[i].value);}}if(!$W._G.loadedUserComponent[src+"#"+_1be[0]]){for(var i=0;i<_1be.length;i++){var _1c2=_1be[i];if(_1c2.indexOf("_")>-1||_1bf){if($W._G.loadedUserComponentPluginName[_1c2]){var _1c3=$W._G.loadedUserComponentPluginName[_1c2].split("#")[0];if(_1c3!=src){$l("ERROR : udc.xml \uc744 \ub85c\ub529\ud558\ub294 \uc911 udc\uc758 src :"+src+" \uc640 udc\uc758 src : "+_1c3+" \uc5d0\uc11c \uac19\uc740 udc\ucef4\ud3ec\ub10c\ud2b8\uba85("+_1c2+")\uc744 \uc911\ubcf5\ud574\uc11c \uc815\uc758\ud558\uace0 \uc788\uc74c.");}else{$l("ERROR : udc.xml \uc744 \ub85c\ub529\ud558\ub294 \uc911 udc\uc758 src :"+src+" \ub0b4\ubd80\uc5d0\uc11c \uac19\uc740 udc\ucef4\ud3ec\ub10c\ud2b8\uba85("+_1c0[i].value+")\uc744 \uc911\ubcf5\ud574\uc11c \uc815\uc758\ud558\uace0 \uc788\uc74c.");}continue;}if(id&&_1bb){var _1c4=$W._B.findNode(_1bd.documentElement,"//*[@id='"+id+"']");}else{var _1c4=$W._B.findNode(_1bd.documentElement,"//*[@pluginName='"+_1c2+"']");}var _1c5=src.lastIndexOf("/");var _1c6=$W.w2xHome;if(_1c5<0){$W.w2xHome="/";}else{$W.w2xHome=src.slice(0,src.lastIndexOf("/"))+"/";}if(_1c4){var _1c7=_1c4.firstChild;for(var node=_1c7;node!=null;node=node.nextSibling){if(node.nodeName==="w2:style"||node.nodeName==="style"){var _1c9="";if(_1bf){_1c9=$W._B.getTextNodeValue(node);}else{_1c9=$W._B.getCDataNodeValue(node);}$W.cssManager.addInternalCSS(_1c9);}else{if(node.nodeName==="script"){$W._o.parseExternalScript({"uri":node.getAttribute("src"),"cache":node.getAttribute("cache"),"lazy":node.getAttribute("defer"),"frameObj":_1bc});}else{if(node.nodeName==="link"){var obj=$W._o.parseAttribute(node);if(obj.href){obj.href=$W._N.getURL(obj.href);}if(obj.type==undefined){obj.type="text/css";}if(obj.rel==undefined){obj.rel="stylesheet";}$W._y.addImport(obj,true);}}}}}var _1cb=$W._B.getElementsByTagName(_1bd.documentElement,"head",$W._N._XML_NAMESPACE.XHTML);if(_1cb.length==1){for(var _1cc=_1cb[0].firstChild;_1cc!=null;_1cc=_1cc.nextSibling){if((_1cc.nodeType==1)&&$W._B.matchNode(_1cc,"script",$W._N._XML_NAMESPACE.XHTML)){var uri=_1cc.getAttribute("src");if(uri!=null&&uri!=""){var _1ce=_1cc.getAttribute("cache");var lazy=_1cc.getAttribute("defer");$W._o.parseExternalScript({"uri":uri,"cache":_1ce,"lazy":lazy,"frameObj":_1bc});}}}}$W.w2xHome=_1c6;$W._G.loadedUserComponent[src+"#"+_1c2]=_1c4;$W._G.loadedUserComponentPluginName[_1c2]=src+"#"+_1c2;if(_1bc){_1bc.userComponentList.push(src+"#"+_1c2);_1bc.userPluginList.push(_1c2);}}else{$l("ERROR : udc\uc758 src :"+src+"\uc5d0\uc11c \uc624\ub958 (pluginName: "+_1c2+" \uc744 '\ud504\ub85c\uc81d\ud2b8\uba85_\ucef4\ud3ec\ub10c\ud2b8\uba85'\uc73c\ub85c \uc815\uc758\ud574\uc57c \ud568.)");}}}var head=$W._B.getElementsByTagName(_1bd,"head")[0];var _1d1=$W._B.getElementsByTagName(head,"require",$W._N._XML_NAMESPACE.W2);for(var i=0;i<_1d1.length;i++){var src=$W._N.getURL($W._N.getPageURL(_1d1[i].getAttribute("src")));var id=_1d1[i].getAttribute("id");var _1bb=_1d1[i].getAttribute("pluginName");$W._G.loadUserComponent(src,id,_1bb,_1bc);}}catch(e){$W.exception.printStackTrace(e);}};$W._G.loadInheritComponent=function(src){["WebSquare.util.loadInheritComponent"];try{var _1d3=$W._B.load(src);var _1d4=[];var _1d5=$W._B.findNodes(_1d3.documentElement,"//@pluginName");if(!$W._G.loadedInheritComponent[src+"#"+_1d5[0].value]){for(var i=0;i<_1d5.length;i++){_1d4.push(_1d5[i].value);}for(var i=0;i<_1d4.length;i++){var _1d7=_1d4[i];if(_1d7.indexOf("_")>-1){var _1d8=$W._B.findNode(_1d3.documentElement,"//*[@pluginName='"+_1d7+"']");if($W._G.loadedInheritComponentPluginName[_1d7]){var _1d9=$W._G.loadedInheritComponentPluginName[_1d7].split("#")[0];if(_1d9!=src){$l("ERROR : componentInherit.xml \uc744 \ub85c\ub529\ud558\ub294 \uc911 componentInherit\uc758 src :"+src+" \uc640 componentInherit\uc758 src : "+_1d9+" \uc5d0\uc11c \uac19\uc740 inherit\ucef4\ud3ec\ub10c\ud2b8\uba85("+_1d7+")\uc744 \uc911\ubcf5\ud574\uc11c \uc815\uc758\ud558\uace0 \uc788\uc74c.");}else{$l("ERROR : componentInherit.xml \uc744 \ub85c\ub529\ud558\ub294 \uc911 componentInherit\uc758 src :"+src+" \ub0b4\ubd80\uc5d0\uc11c \uac19\uc740 inherit\ucef4\ud3ec\ub10c\ud2b8\uba85("+_1d5[i].value+")\uc744 \uc911\ubcf5\ud574\uc11c \uc815\uc758\ud558\uace0 \uc788\uc74c.");}continue;}if($W._G.loadedUserComponentPluginName[_1d7]){var _1da=$W._G.loadedUserComponentPluginName[_1d7].split("#")[0];$l("ERROR : componentInherit.xml \uc744 \ub85c\ub529\ud558\ub294 \uc911 componentInherit\uc758 src :"+src+"\uc5d0\uc11c udc\uc758 src : "+_1da+"\uc758 udc\ucef4\ud3ec\ub10c\ud2b8\uba85("+_1d7+")\uc744 \uc911\ubcf5\ud574\uc11c \uc815\uc758\ud558\uace0 \uc788\uc74c.");continue;}var _1db=null;if(_1d8){var _1dc=_1d8.firstChild;for(var node=_1dc;node!=null;node=node.nextSibling){if(node.nodeName=="w2:style"){_1db=node;break;}}}if(_1db){_1d8.removeChild(_1db);var _1de=$W._B.getCDataNodeValue(_1db);$W.cssManager.addInternalCSS(_1de);}$W._G.loadedInheritComponent[src+"#"+_1d7]=_1d8;$W._G.loadedInheritComponentPluginName[_1d7]=src+"#"+_1d7;}else{$l("ERROR : componentInherit\uc758 src :"+src+"\uc5d0\uc11c \uc624\ub958 (pluginName: "+_1d7+" \uc744 '\ud504\ub85c\uc81d\ud2b8\uba85_\ucef4\ud3ec\ub10c\ud2b8\uba85'\uc73c\ub85c \uc815\uc758\ud574\uc57c \ud568.)");}}}}catch(e){$W.exception.printStackTrace(e);}};$W._G.unloadUserComponent=function(src,id,_1e1){["WebSquare.util.unloadUserComponent"];try{}catch(e){$W.exception.printStackTrace(e);}};$W.userTimerHash={};$W.userIntervalHash={};$W._G.setTimeout=function(func,_1e3){["WebSquare.util.setTimeout"];try{var _1e4=new Date().getTime();var key=_1e3.key||func.toString().slice(0,30);var _1e6=_1e3.delay||_1e3.max||1;var max=_1e3.max||0;var _1e8=_1e3.caller||window;var args=_1e3.args||[];var data=$W.userTimerHash[key];if(!data){data=$W.userTimerHash[key]={thread:null,timeoutKey:null,startTime:_1e4};}data.thread=function(){["WebSquare.core.setTimer.helper"];if(window["WebSquare"]&&$W.userTimerHash){delete $W.userTimerHash[key];}(_1e3.before_call)&&(_1e3.before_call.call(_1e8,data));var ret=func.apply(_1e8,args);(_1e3.callback)&&(_1e3.callback.call(_1e8,ret));};clearTimeout(data.timeoutKey);if(max<=0||_1e4-data.startTime<max){(_1e3.before_set)&&(_1e3.before_set.call(_1e8,data));data.timeoutKey=setTimeout(data.thread,_1e6);(_1e3.after_set)&&(_1e3.after_set.call(_1e8,data));}else{data.thread();}return key;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._G.clearTimeout=function(key,_1ed){["WebSquare.util.clearTimeout"];try{if(typeof key=="function"){key=func.toString().slice(0,30);}var data=$W.userTimerHash[key];if(data){clearTimeout(data.timeoutKey);if(_1ed){data.thread();}$W.userTimerHash[key]=null;delete $W.userTimerHash[key];}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._G.setInterval=function(func,_1f0){["WebSquare.util.setInterval"];try{var key=_1f0.key||func.toString().slice(0,30);var _1f2=_1f0.delay||1;var _1f3=_1f0.caller;var args=_1f0.args;var data=$W.userIntervalHash[key];if(!data){data=$W.userIntervalHash[key]={thread:null,timeoutKey:null};}if(args){if(!_1f3){_1f3=window;}data.thread=function(){["WebSquare.util.setInterval.helper"];func.apply(_1f3,args);};}else{if(_1f3){data.thread=function(){["WebSquare.util.setInterval.helper"];func.call(_1f3);};}else{data.thread=function(){["WebSquare.util.setInterval.helper"];func();};}}if(data.timeoutKey!=null){clearInterval(data.timeoutKey);}data.timeoutKey=setInterval(data.thread,_1f2);return key;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._G.clearInterval=function(key,_1f7){["WebSquare.util.clearTimeout"];try{if(typeof key=="function"){key=func.toString().slice(0,30);}var data=$W.userIntervalHash[key];if(data){clearInterval(data.timeoutKey);if(_1f7){data.thread();}$W.userIntervalHash[key]=null;delete $W.userIntervalHash[key];}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._G.getTimeoutKeyList=function(){var _1f9=[];for(var key in $W.userTimeoutHash){_1f9.push(key);}return _1f9;};$W._G.getIntervalKeyList=function(){var _1fb=[];for(var key in $W.userIntervalHash){_1fb.push(key);}return _1fb;};$W.userData={};$W._G.setData=function(key,data){["WebSquare.util.setData"];try{$W.userData[key]=data;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._G.getData=function(key){["WebSquare.util.getData"];try{return $W.userData[key]||null;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._G.removeData=function(key){["WebSquare.util.getData"];try{if(typeof $W.userData[key]=="object"){for(var item in $W.userData[key]){delete $W.userData[key][item];}}$W.userData[key]=null;delete $W.userData[key];}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._G.url=function(_202,_203){["WebSquare.util.url"];try{if(_203==undefined){_203={};}if(_203.shortURL==undefined){_203.shortURL=(_202.indexOf("?w2xPath")<0&&_202.indexOf("#w2xPath")<0&&_202.slice(_202.lastIndexOf(".")).startsWith(".xml"));}if(!_203.shortURL){if(_203.replaceHistory){location.replace(_202);}else{location.assign(_202);}return;}if(_203.spa==undefined){_203.spa=($W._N.getConfiguration("/WebSquare/spa/@value")=="true");}var _204="";if(_203.param){for(var keys in _203.param){_204+="&"+keys+"="+$W._A.URLEncoder(_203.param[keys]);}}$W.logger.printLog("before change url");if(_203.spa){var URL=$W._N.getURL(_202);var _207=location.toString();var idx=_207.indexOf("#");if(idx<0){idx=_207.length;}var path=_207.substring(0,idx);var _20a=path+"#w2xPath="+URL+_204;if(_203.urlHashText){_20a=path+"#"+_203.urlHashText+_204;$W.spaURLMapping[_203.urlHashText]=$W._A.URLDecoder(URL);if("sessionStorage" in window){sessionStorage.setItem("wq_spaURLMapping",JSON.stringify($W.spaURLMapping));}}if(_203.forceReload){if("onhashchange" in window){window.onhashchange=null;}else{clearInterval($W._G._hashTestKey);}if(_203.replaceHistory){location.replace(_20a);}else{location.assign(_20a);}if(!$W._N.firePageunload&&!$W._N.onurlchange){$W._c.fireEvent($W.getBody(),"onpageunload");}if(!$W._N.onurlchange){var _20b=$W._N.getConfiguration("/WebSquare/clearMemory/@value");if(_20b!=="true"){$W.clearMemory();}wq_reload(_20a);}}else{$W.w2xPath="";if(_20a==_207){$W._G.onhashchange();}else{$W._N.urlchangebyapi=true;if(_203.replaceHistory){location.replace(_20a);}else{location.assign(_20a);}}}}else{var URL=$W._N.getURL(_202);var _207=location.toString();var idx=_207.indexOf("?");if(idx<0){idx=_207.indexOf("#");if(idx<0){idx=_207.length;}}var path=_207.substring(0,idx);var _20a=path+"?w2xPath="+URL+_204;if("onhashchange" in window){window.onhashchange=null;}else{clearInterval($W._G._hashTestKey);}$W._c.fireEvent($W.getBody(),"onpageunload");if(_203.replaceHistory){location.replace(_20a);}else{location.assign(_20a);}}}catch(e){$W.exception.printStackTrace(e);}};$W._G.clearPage=function(){$W._N.onclearpage=true;return $W._G.url($W._r.getBlankXML(),{"spa":true,"forceReload":true});};$W._G.reinitialize=function(_20c){["WebSquare.util.reinitialize"];try{$W.logger.printLog("before redraw page");if(_20c){if("onhashchange" in window){window.onhashchange=null;}else{clearInterval($W._G._hashTestKey);}$W._N.finalize();location.reload();}else{$W.w2xPath="";$W._G.onhashchange();}}catch(e){$W.exception.printStackTrace(e);}};$W._G.onhashchange=function(e){["WebSquare.util.onhashchange"];try{var _20e=false;var _20f="";var _210=$W._G.getUrlHashText();if(_210!=null){_20e=true;_20f=_210;}if(!_20e){_20f=$W._r.getParameter("w2xPath");}if(_20f==""){if(location.toString().indexOf("."+$W.w2xExtension)<0){}return;}if(_20f==$W.w2xPath){return;}if(!$W._N.urlchangebyapi&&$W.w2xPath!==""){if(location.hash.indexOf("w2xPath")<0&&!_20e){return;}}if("onhashchange" in window){window.onhashchange=null;}else{clearInterval($W._G._hashTestKey);}for(var key in $W.BootLoader.performanceCheck){$W.BootLoader.performanceCheck[key]=new Date();}$W.BootLoader.printLog("[SPA1] The user request for new XML page. ");var _212=location.href;$W._N.onurlchange=true;$W._N.onclearpage=false;$W._N.finalize();$W._N.onurlchange=false;$W._N.urlchangebyapi=false;if($W._N.onclearpage||(!_20e&&($W._r.getParameter("w2xPath")!=_20f))){$W._N.onclearpage=false;location.replace(_212);var _213=$W._N.getConfiguration("/WebSquare/clearMemory/@value");if(_213!=="true"){$W.clearMemory();}wq_reload(_212);return;}$W._N.onclearpage=false;$W.BootLoader.performanceCheck.mid1=new Date();$W.BootLoader.printLog("[SPA2] Clear page resources. Time:"+($W.BootLoader.performanceCheck.mid1.getTime()-$W.BootLoader.performanceCheck.start.getTime())+"ms");$W.w2xPath=_20f;var re=/[\\]/g;$W.w2xPath=$W.w2xPath.replace(re,"/");var _215=$W.w2xPath.lastIndexOf("/");if($W._r.getParameter("w2xHome")==""){if(_215>-1){$W.w2xHome=$W.w2xPath.substring(0,_215+1);}else{$W.w2xHome="/";}}else{$W.w2xHome=$W._r.getParameter("w2xHome");}if(_215>-1){$W.logFileName=" "+$W.w2xPath.substring(_215+1);}else{$W.logFileName=" "+$W.w2xPath;}var _216=$W._r.getParameter("w2xDocumentRoot");if(_216=="/"||_216=="\\"){$W.w2xDocumentRoot="";}else{if(_216!=""){$W.w2xDocumentRoot=_216;}}$W.logger.printLog("w2xDocumentRoot["+$W.w2xDocumentRoot+"]");$W.logger.printLog("w2xHome        ["+$W.w2xHome+"]");$W.logger.printLog("w2xPath        ["+$W.w2xPath+"]");$W.logger.printLog("w2xTheme       ["+$W.w2xTheme+"]");$W.BootLoader.loadEngineModule(true);var _217=$W._N.getConfiguration("/WebSquare/spa/variable/@value");if(_217){var _218=_217.split(",");for(var i=0;i<_218.length;i++){var _21a=_218[i].wq_trim();try{_1[_21a]={};_1[_21a][$W.noConflict]=$W._u;}catch(e){$W.exception.printStackTrace(e,null);}}}if(!$W.initialize(_20f,true)){if("onhashchange" in window){window.onhashchange=$W._G.onhashchange;}else{$W._G._hashTestKey=setInterval($W._G._hashTest,50);}$W.logger.printLog("Runtime Error : "+_20f+" load failed.");var _21b=$W._m.getMessage("E_initializer_XMLLoadFailError",_20f);alert(_21b);}}catch(e){$W.exception.printStackTrace(e);}};$W._G.getUrlHashText=function(){["WebSquare.util.getUrlHashText"];try{var ret=null;for(var urls in $W.spaURLMapping){var _21e=location.hash.slice(1);var _21f=_21e.split(/[\&\?\#]/);for(var i=0;i<_21f.length;i++){if(urls===_21f[i]){ret=$W.spaURLMapping[urls];break;}}}return ret;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._G._stopProcess=function(spa){if(spa||(location.hash&&location.hash.lastIndexOf("w2xPath")>=0)){var _222=$W._G.getUrlHashText();if(_222==null){_222=$W._r.getParameter("w2xPath");}if(!_222){return false;}if(_222!=$W.w2xPath){$W.logger.printLog("[SPA_Exception] Event Activation Canceled by New Page Request : #w2xPath="+_222);$W._G.onhashchange();return true;}}return false;};$W._G.isSPA=function(){return (location.hash&&location.hash.lastIndexOf("w2xPath")>=0)||($W._G.getUrlHashText()!=null);};$W._G.movePage=function(_223){["WebSquare.util.onhashchange"];try{var _224=_223;if("onhashchange" in window){window.onhashchange=null;}else{clearInterval($W._G._hashTestKey);}for(var key in $W.BootLoader.performanceCheck){$W.BootLoader.performanceCheck[key]=new Date();}$W.BootLoader.printLog("[SPA1] The user request for new XML page. ");var _226=location.href;$W._N.onurlchange=true;$W._N.onclearpage=false;if($W._N.getConfiguration("/WebSquare/spa/autoReload/@value").toLowerCase()==="true"){for(var _227 in $W._N.memoryLeakComponent){if($W.WebSquareDocument.componentsCache[_227]!=undefined){if(!$W.hybridApp&&Number($W._N.getConfiguration("/WebSquare/spa/autoReload/@"+_227))<=$W.WebSquareDocument.componentsCache[_227].length){try{var _228=$W._N.getConfiguration("/WebSquare/spa/autoReload/@userFunction");if(_228){var _229=$W._G.getGlobalFunction(_228);if(_229){_229(_223);}}else{$W._G.url(_223,{"spa":false});}}catch(e){}return;}$W._N.memoryLeakComponentCount+=$W.WebSquareDocument.componentsCache[_227].length*$W._N.memoryLeakComponent[_227];}}var _22a=$W._N.getConfiguration("/WebSquare/spa/autoReload/@count");if(_22a==""){_22a=NaN;}else{_22a=Number(_22a);}if(!$W.hybridApp&&$W._N.memoryLeakComponentCount>0&&$W._N.memoryLeakComponentCount>_22a){try{var _228=$W._N.getConfiguration("/WebSquare/spa/autoReload/@userFunction");if(_228){var _229=$W._G.getGlobalFunction(_228);if(_229){_229(_223);}}else{$W._G.url(_223,{"spa":false});}}catch(e){}return;}}$W._N.finalize();$W._N.onurlchange=false;$W._N.urlchangebyapi=false;$W._N.onclearpage=false;$W.BootLoader.performanceCheck.mid1=new Date();$W.BootLoader.printLog("[SPA2] Clear page resources. Time:"+($W.BootLoader.performanceCheck.mid1.getTime()-$W.BootLoader.performanceCheck.start.getTime())+"ms");$W.w2xPath=_224;var re=/[\\]/g;$W.w2xPath=$W.w2xPath.replace(re,"/");var _22c=$W.w2xPath.lastIndexOf("/");if($W._r.getParameter("w2xHome")==""){if(_22c>-1){$W.w2xHome=$W.w2xPath.substring(0,_22c+1);}else{$W.w2xHome="/";}}else{$W.w2xHome=$W._r.getParameter("w2xHome");}if(_22c>-1){$W.logFileName=" "+$W.w2xPath.substring(_22c+1);}else{$W.logFileName=" "+$W.w2xPath;}var _22d=$W._r.getParameter("w2xDocumentRoot");if(_22d=="/"||_22d=="\\"){$W.w2xDocumentRoot="";}else{if(_22d!=""){$W.w2xDocumentRoot=_22d;}}$W.logger.printLog("w2xDocumentRoot["+$W.w2xDocumentRoot+"]");$W.logger.printLog("w2xHome        ["+$W.w2xHome+"]");$W.logger.printLog("w2xPath        ["+$W.w2xPath+"]");$W.logger.printLog("w2xTheme       ["+$W.w2xTheme+"]");$W.BootLoader.loadEngineModule(true);var _22e=$W._G._stopProcess;$W._G._stopProcess=function(){};if(!$W.initialize(_224,true)){if("onhashchange" in window){window.onhashchange=$W._G.onhashchange;}else{$W._G._hashTestKey=setInterval($W._G._hashTest,50);}$W.logger.printLog("Runtime Error : "+_224+" load failed.");var _22f=$W._m.getMessage("E_initializer_XMLLoadFailError",_224);alert(_22f);}$W._N.clearTimer("WebSquare_startOnload");$W._j["activated"]=true;for(var item in $W._j["comp"]){$W._j["comp"][item].activate();}$W.getBody().activate();$W.BootLoader.performanceCheck.mid6=new Date();$W.BootLoader.printLog("[SPA7][EVENT] Event Activation. Time:"+($W.BootLoader.performanceCheck.mid6.getTime()-$W.BootLoader.performanceCheck.mid5.getTime())+"ms");$W.startOnLoad(true);if("onhashchange" in window){window.onhashchange=$W._G.onhashchange;}else{$W._G._wait_for_iframe_reload(spa);}$W.getBody().onComplete();$W._j.api.onComplete();$W._G._stopProcess=_22e;}catch(e){$W.exception.printStackTrace(e);}};if("onhashchange" in window){}else{$W._G._hashTest=function(){if(!$W._G._hash){$W._G._hash=location.hash;}else{if($W._G._hash!=location.hash){$W._G._hash=location.hash;$W._G.onhashchange();}else{if($W._G._hiddenFrame&&!$W._G._iframe_wait){try{var _231=document.getElementById($W._G._hiddenFrame.id);if(_231!=null){var _232=_231.contentWindow.location.search.slice(1);if(_232!=$W.w2xPath){var _233=location.hash.lastIndexOf("#w2xPath");if(_233<0){if(location.hash.length>0){location.hash=location.hash+"&w2xPath="+_232;}else{location.hash="#w2xPath="+_232;}}else{var srch=location.hash.substring(_233+1);var _235=srch.search(/[\&\?\#]/)+1;if(_235<0){location.hash=location.hash.slice(0,_233)+"#w2xPath="+_232;}else{location.hash=location.hash.slice(0,_233)+"#w2xPath="+_232+location.hash.substring(_233+_235);alert(location.hash.slice(0,_233));alert(_232);alert(location.hash.substring(_233+_235));}alert(location.hash);}}}else{document.body.appendChild($W._G._hiddenFrame);}}catch(e){$W.exception.printStackTrace(e);}_231=null;}}}};$W._G._makeFrame=function(){["WebSquare.util._makeFrame"];try{var _236=document.createElement("iframe");_236.id="wq_hidden_frame_for_spa_history";_236.src=$W.baseURI+"blank.html?"+$W.w2xPath;_236.style.position="absolute";_236.style.width="0px";_236.style.height="0px";_236.style.display="none";$W._G._hiddenFrame=document.body.appendChild(_236);_236=null;}catch(e){$W.exception.printStackTrace(e);}};$W._G._wait_for_iframe_reload=function(spa){if(spa||(location.hash&&location.hash.lastIndexOf("w2xPath")>=0)){if($W._G._iframe_wait){if($W._G._hiddenFrame.contentWindow.location.search.slice(1)!=$W.w2xPath){setTimeout($W._G._wait_for_iframe_reload,5);}else{$W._G._iframe_wait=false;$W._G._hashTestKey=setInterval($W._G._hashTest,50);}}}};}$W._G.multipleExcelDownload=function(_238){["WebSquare.util.multipleExcelDownload"];try{var _239=_238.common;var _23a=_238.excelInfo;var _23b={};var _23c=[];var _23d=[];var _23e=true;var _23f=true;var comp;var _241=new $W._q.Vector();var _242=[];for(var i=0;i<_23a.length;i++){_23b={};_23c=[];_23b=_23a[i];for(var key in _239){_23b[key]=_239[key];}_23b.dataProvider=_23b.dataProvider||"";_23b.splitProvider=_23b.splitProvider||"";if(_23b.dataProvider==""){_23f=false;}if(_23b.sheetName==""){_23e=false;break;}var _245="";_245=_23b.sheetName;for(var j=0;j<_23d.length;j++){if(_23d[j]==_23b.sheetName){_23b.sheetName=_23b.sheetName+"("+j+")";break;}}_23d.push(_245);_23c=_23b.infoArr;comp=$W._G.getComponentById(_23b.gridId);var _247=100;var _248=parseInt(_23b.rowsByN);_23b.rowsByN=_248>_247?_248:_247;_23b.dataLength=comp.getDataLength();switch(_23b.type+""){case "":case "0":_23b.type=0;break;case "2":_23b.type=2;break;default:_23b.type=1;}if(_23b.type===0||_23b.type===1){if(i==0){if(_23b.showProcess===true){$W.layer.showProcessMessage("composing excel data...");}else{$W.getBody().showModal("w2modal_gridDownload");}}_23b.cellInfo=[];_23b.isPlainDataCol=[];_23b.isSelectCol=[];_23b.isBasicCol=[];_23b.isExpCol=[];_23b.isCustomCol=[];var _249=comp.oneRowDataLength;for(var j=0;j<_249;j++){var _24a=comp.getCellInfo(j);var _24b=_24a.options.inputType;_23b.cellInfo[j]=_24a;_23b.isPlainDataCol[j]=_24b==="checkbox"||_24b==="image"||_24b==="radio"||_24b==="autofinder";_23b.isSelectCol[j]=_24b==="select";_23b.isExpCol[j]=_24b==="expression";_23b.isBasicCol[j]=!_23b.isPlainDataCol[j]&&!_23b.isSelectCol[j]&&!_23b.isExpCol[j];_23b.isCustomCol[j]=_24a.useCustomFormatter;}}var _24c=0;var _24d=[];_23b.multiexcel=true;_23b.massStorage=false;var _24e=comp.makeExcelData(_24c,_24d,_23b,_23c);if(_242.length==0){_242=_24e;_242[0]="<vector result='"+_23a.length+"'>";}else{_24e[1]="<data vectorkey='"+i+"'><hashtable>";_24e.pop();_24e.shift();_242.pop();_242=_242.concat(_24e);_242.push("</vector>");}}if(_23e==false){$W.logger.printLog("sheetName has not been set. Set the properties sheetName.");}if(_23f==false){}if(_23e==true){$W._N.excelDownload(comp.options.advancedExcelDownloadURL,_242.join(""),"post");comp.xmlData=null;if(_23b.showProcess===false){$W.getBody().hideModal();}else{if(_23b.showConfirm===true){this.hideDownloadLayer();}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._G.redrawComponent=function(_24f,_250){["WebSquare.util.redrawComponent"];try{var comp=$W._G.getComponentById(_24f);var _252=_250;if(_250==undefined&&comp.render){_252=comp.render.parentElement;}var _253=comp.element.cloneNode(true);var _254=comp.options.pluginName;comp.remove();return $W._G.dynamicCreate(_24f,_254,_253,_252);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._G.emptySelection=function(){["WebSquare.util.emptySelection"];try{if(window.getSelection){window.getSelection().removeAllRanges();}else{if(document.selection){document.selection.empty();}}}catch(e){}};$W._G.exportJSChartAll=function(_255){try{var type=_255.type;var _257=_255.fcArr||[];var _258=_255.fileName;var _259=_255.direction||"vertical";var temp=FusionCharts.items;var _25b={};if(_257.length>0){for(var i=0;i<_257.length;i++){_25b["fc_"+_257[i]]=FusionCharts.items["fc_"+_257[i]];}}else{for(var i in FusionCharts.items){_25b[i]=FusionCharts.items[i];}}var _25d="";var _25e=0;var _25f=0;var _260=0;var _261=0;var h=0;var w=0;for(var i in _25b){if(_259.toLowerCase()=="horizontal"){_25f+=_25b[i].options.containerElement.offsetWidth;var _264=_25b[i].options.containerElement.offsetHeight;if(_264>_260){_260=_264;}var svg=_25b[i].getSVGString();if(svg){svg=svg.wq_replaceAll("shape-rendering=\"default\"","shape-rendering='auto'");svg=svg.wq_replaceAll("visibility=\"\"","visibility='inherit'");svg=svg.wq_replaceAll("text-anchor=\"undefined\"","text-anchor='start'");if($W._G.isIEAllVersion(11)){svg=svg.wq_replaceAll("&quot;","");svg=svg.wq_replaceAll(location.href,"");}if(_25b[i].options.chartType.toLowerCase()=="zoomline"){svg=svg.wq_replaceAll("stroke-dasharray=\"-","stroke-dasharray=\"");}if(_25b[i].options.chartType.toLowerCase()=="pie3d"||_25b[i].options.chartType.toLowerCase()=="doughnut3d"){svg=svg.wq_replaceAll("font-family=\"15\"","font-family=\"Verdana\"");}}var gtag="<g transform='translate("+w+",0)'>";_25d+=gtag+svg+"</g>";w+=_25b[i].options.containerElement.offsetWidth;}else{_25e+=_25b[i].options.containerElement.offsetHeight;var _267=_25b[i].options.containerElement.offsetWidth;if(_267>_261){_261=_267;}var svg=_25b[i].getSVGString();if(svg){svg=svg.wq_replaceAll("shape-rendering=\"default\"","shape-rendering='auto'");svg=svg.wq_replaceAll("visibility=\"\"","visibility='inherit'");svg=svg.wq_replaceAll("text-anchor=\"undefined\"","text-anchor='start'");if($W._G.isIEAllVersion(11)){svg=svg.wq_replaceAll("&quot;","");svg=svg.wq_replaceAll(location.href,"");}if(_25b[i].options.chartType.toLowerCase()=="zoomline"){svg=svg.wq_replaceAll("stroke-dasharray=\"-","stroke-dasharray=\"");}if(_25b[i].options.chartType.toLowerCase()=="pie3d"||_25b[i].options.chartType.toLowerCase()=="doughnut3d"){svg=svg.wq_replaceAll("font-family=\"15\"","font-family=\"Verdana\"");}}var gtag="<g transform='translate(0,"+h+")'>";_25d+=gtag+svg+"</g>";h+=_25b[i].options.containerElement.offsetHeight;}}if(_259.toLowerCase()=="horizontal"){_25d="<svg width='"+_25f+"' height='"+_260+"' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'>"+_25d+"</svg>";}else{_25d="<svg width='"+_261+"' height='"+_25e+"' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'>"+_25d+"</svg>";}var _268=encodeURI(_25d+"ExportType="+type+"ExportFileName="+_258);$W._N.download("engine/servlet/exportFusionChart.jsp",_268,"post");_25b=null;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._G.getRuntimeId=function(id,_26a){try{var ret="";if($W.idToUUID[id]&&$W.idCache[$W.idToUUID[id]]){ret=id;}else{var _26c=$W._N.getConfiguration("/WebSquare/spa/variable/@value");if(_26c){var _26d=_26c.split(",");for(var i=0;i<_26d.length;i++){var _26f=_26d[i].wq_trim();if(id===_26f){ret=id;break;}}}}return ret;}catch(e){$W.exception.printStackTrace(e,null,this);return "";}};})(window);;WebSquare.util=$W._G;$W._s={};$W._s.toTimestampString=function(_1){["WebSquare.date.toTimestampString"];var _2=$W._A.fillZero(_1.getFullYear(),4);var _3=$W._A.fillZero(_1.getMonth()+1,2);var _4=$W._A.fillZero(_1.getDate(),2);var _5=$W._A.fillZero(_1.getHours(),2);var _6=$W._A.fillZero(_1.getMinutes(),2);var _7=$W._A.fillZero(_1.getSeconds(),2);var _8=$W._A.fillZero(_1.getMilliseconds(),3);var _9=_2+"-"+_3+"-"+_4+" "+_5+":"+_6+":"+_7+"."+_8+"000";return _9;};$W._s._parseDate=function(_a,_b){["WebSquare.date._parseDate"];if(typeof _b=="undefined"||_b==null||_b==""){_b="yyyyMMdd";}_a=$W._G.getDate(_a);if(_a.length!=_b.length){return _a;}var _c=["","","","","",""];for(var i=0;i<_b.length;i++){var _e=_b.charAt(i);var _f=_a.charAt(i);switch(_e){case "y":_c[0]+=_f;break;case "M":_c[1]+=_f;break;case "d":_c[2]+=_f;break;case "H":_c[3]+=_f;break;case "m":_c[4]+=_f;break;case "s":_c[5]+=_f;break;}}for(var i=0;i<_c.length;i++){if(i===0){$W._A.fillZero(_c[i],4);}else{$W._A.fillZero(_c[i],2);}}return _c;};$W._s.parseDate=function(str,_11){["WebSquare.date.parseDate"];var _12=$W._s._parseDate(str,_11);if(typeof _12==="string"){return null;}return new Date(_12[0],_12[1]-1,_12[2],_12[3],_12[4],_12[5]);};$W._s.dateDiff=function(_13,_14){["WebSquare.date.dateDiff"];_13=_13+"";_14=_14+"";_13=$W._G.getDate(_13);_14=$W._G.getDate(_14);if(_13.length!=8){alert($W._m.getMessage("E_date_ShouldBeyyMMddFormat",_13));}if(isNaN(_13)){alert($W._m.getMessage("E_date_ShouldBeNumberFormat",_13));}if(_14.length!=8){alert($W._m.getMessage("E_date_ShouldBeyyMMddFormat",_14));}if(isNaN(_14)){alert($W._m.getMessage("E_date_ShouldBeNumberFormat",_14));}var y1=parseInt(_13.substring(0,4),10);var m1=parseInt(_13.substring(4,6),10);var d1=parseInt(_13.substring(6,8),10);var y2=parseInt(_14.substring(0,4),10);var m2=parseInt(_14.substring(4,6),10);var d2=parseInt(_14.substring(6,8),10);var _1b=$W._s.getMaxMinYear();var _1c=_1b["maxYear"];var _1d=_1b["minYear"];if(y1>_1c||y1<_1d){alert($W._m.getMessage("E_date_YearRange",_1d,_1c,y1));return;}if(m1>12||m1<1){alert($W._m.getMessage("E_date_MonthRange","1","12",m1));return;}if(d1>31||d1<1){alert($W._m.getMessage("E_date_DayRange","1","31",d1));return;}if(y2>_1c||y2<_1d){alert($W._m.getMessage("E_date_YearRange",_1d,_1c,y2));return;}if(m2>12||m2<1){alert($W._m.getMessage("E_date_MonthRange","1","12",m2));return;}if(d2>31||d2<1){alert($W._m.getMessage("E_date_DayRange","1","31",d2));return;}var _1e=24*60*60*1000;var t1=Date.UTC(y1,m1-1,d1);var t2=Date.UTC(y2,m2-1,d2);return (t2-t1)/_1e;};$W._s.dateAdd=function(_21,_22){["WebSquare.date.dateAdd"];_21=_21+"";_21=$W._G.getDate(_21);if(_21.length!=8){alert($W._m.getMessage("E_date_ShouldBeyyMMddFormat",_21));}if(isNaN(_21)){alert($W._m.getMessage("E_date_ShouldBeNumberFormat",_21));}var y1=parseInt(_21.substring(0,4),10);var m1=parseInt(_21.substring(4,6),10);var d1=parseInt(_21.substring(6,8),10);var _26=$W._s.getMaxMinYear();var _27=_26["maxYear"];var _28=_26["minYear"];if(y1>_27||y1<_28){alert($W._m.getMessage("E_date_YearRange",_28,_27,y1));return;}if(m1>12||m1<1){alert($W._m.getMessage("E_date_MonthRange","1","12",m1));return;}if(d1>31||d1<1){alert($W._m.getMessage("E_date_DayRange","1","31",d1));return;}var _29=24*60*60*1000;var t1=Date.UTC(y1,m1-1,d1)+_22*_29;var t2=new Date();t2.setTime(t1);var ret=$W._A.fillZero(t2.getUTCFullYear()+"",4)+$W._A.fillZero((t2.getUTCMonth()+1)+"",2)+$W._A.fillZero(t2.getUTCDate()+"",2);return ret;};$W._s.dateTimeAdd=function(_2d,_2e,_2f){["WebSquare.date.dateTimeAdd"];_2d=_2d+"";_2d=$W._G.getDate(_2d);if(_2f=="day"){if(_2d.length!=8){alert($W._m.getMessage("E_date_ShouldBeyyMMddFormat",_2d));return;}}else{if(_2f=="month"){if(_2d.length!=6){alert($W._m.getMessage("E_date_month_ShouldBeyyMMFormat",_2d));return;}}else{if(_2f=="hour"){if(_2d.length!=10){alert($W._m.getMessage("E_date_hour_ShouldBeyyMMddHHFormat",_2d));return;}}else{if(_2f=="minute"){if(_2d.length!=12){alert($W._m.getMessage("E_date_minute_ShouldBeyyMMddmmFormat",_2d));return;}}else{if(_2f=="time"){if(_2d.length!=4){alert($W._m.getMessage("E_date_minute_ShouldBeHHmmFormat",_2d));return;}}}}}}if(isNaN(_2d)){alert($W._m.getMessage("E_date_ShouldBeNumberFormat",_2d));return;}if(_2f=="time"){var h1=parseInt(_2d.substring(0,2),10);var h2=parseInt(_2d.substring(2,4),10);}else{var y1=parseInt(_2d.substring(0,4),10);var m1=parseInt(_2d.substring(4,6),10);var d1=parseInt(_2d.substring(6,8),10);var h1=parseInt(_2d.substring(8,10),10);var h2=parseInt(_2d.substring(10,12),10);}var _35=$W._s.getMaxMinYear();var _36=_35["maxYear"];var _37=_35["minYear"];if(y1>_36||y1<_37){alert($W._m.getMessage("E_date_YearRange",_37,_36,y1));return;}if(m1>12||m1<1){alert($W._m.getMessage("E_date_MonthRange","1","12",m1));return;}if(d1>31||d1<1){alert($W._m.getMessage("E_date_DayRange","1","31",d1));return;}if(h1>23||h1<0){alert($W._m.getMessage("E_date_HourRange","0","23",d1));return;}if(h2>59||h2<0){alert($W._m.getMessage("E_date_MinuteRange","0","59",d1));return;}if(_2f=="day"){var _38=24*60*60*1000;var t1=Date.UTC(y1,m1-1,d1)+_2e*_38;var t2=new Date();t2.setTime(t1);var ret=$W._A.fillZero(t2.getUTCFullYear()+"",4)+$W._A.fillZero((t2.getUTCMonth()+1)+"",2)+$W._A.fillZero(t2.getUTCDate()+"",2);}else{if(_2f=="month"){var _38=31*24*60*60*1000;var t1=Date.UTC(y1,m1-1)+_2e*_38;var t2=new Date();t2.setTime(t1);var ret=$W._A.fillZero(t2.getUTCFullYear()+"",4)+$W._A.fillZero((t2.getUTCMonth()+1)+"",2);}else{if(_2f=="hour"){var _38=60*60*1000;var t1=Date.UTC(y1,m1-1,d1,h1)+_2e*_38;var t2=new Date();t2.setTime(t1);var ret=$W._A.fillZero(t2.getUTCFullYear()+"",4)+$W._A.fillZero((t2.getUTCMonth()+1)+"",2)+$W._A.fillZero(t2.getUTCDate()+"",2)+$W._A.fillZero(t2.getUTCHours()+"",2);}else{if(_2f=="minute"){var _38=60*1000;var t1=Date.UTC(y1,m1-1,d1,h1,h2)+_2e*_38;var t2=new Date();t2.setTime(t1);var ret=$W._A.fillZero(t2.getUTCFullYear()+"",4)+$W._A.fillZero((t2.getUTCMonth()+1)+"",2)+$W._A.fillZero(t2.getUTCDate()+"",2)+$W._A.fillZero(t2.getUTCHours()+"",2)+$W._A.fillZero(t2.getUTCMinutes()+"",2);}else{if(_2f=="time"){if(_2e&&typeof _2e==="string"&&_2e.length===4){var h3=parseInt(_2e.substring(0,2),10);var h4=parseInt(_2e.substring(2,4),10);var _38=60*1000;var h1=Date.UTC(1900,1,1,h1,h2)+(h3*60*60*1000)+(h4*_38);var h2=new Date();h2.setTime(h1);var _3e=h2.getUTCDate();var _3f=(_3e>1)?parseInt(h2.getUTCHours(),10)+((_3e-1)*24):h2.getUTCHours();var ret=$W._A.fillZero($W._A.fillZero(_3f+"",2)+$W._A.fillZero(h2.getUTCMinutes()+"",2));}else{var _38=60*1000;var h1=Date.UTC(1900,1,1,h1,h2)+_2e*_38;var h2=new Date();h2.setTime(h1);var ret=$W._A.fillZero($W._A.fillZero(h2.getUTCHours()+"",2)+$W._A.fillZero(h2.getUTCMinutes()+"",2));}}}}}}return ret;};$W._s.isValidDate=function(obj,_41){["WebSquare.date.isValidDate"];_41=$W._G.getDate(_41);if(_41==null||_41.length!=8){alert($W._m.getMessage("E_date_ShouldBeyyMMddFormat",_41));try{obj.focus();obj.select();}catch(e){$W.exception.printStackTrace(e);}return false;}if(isNaN(_41)){alert($W._m.getMessage("E_date_ShouldBeNumberFormat",_41));try{obj.focus();obj.select();}catch(e){$W.exception.printStackTrace(e);}return false;}var y1=parseInt(_41.substring(0,4),10);var m1=parseInt(_41.substring(4,6),10);var d1=parseInt(_41.substring(6,8),10);if(m1<1||m1>12){alert($W._m.getMessage("E_date_MonthRange","1","12",m1));try{obj.focus();obj.select();}catch(e){$W.exception.printStackTrace(e);}return false;}var _45=31;if(m1==2){_45=((y1%400==0)||((y1%4==0)&&(y1%100!=0)))?29:28;}else{if(m1==4||m1==6||m1==9||m1==11){_45=30;}}if(d1<1||d1>_45){alert($W._m.getMessage("E_date_DayRange","1",_45,d1));try{obj.focus();obj.select();}catch(e){$W.exception.printStackTrace(e);}return false;}return true;};$W._s.getFormattedDate=function(_46,_47){["WebSquare.date.getFormattedDate"];var ret=null;if(typeof _46!=="object"||_46==null){return null;}if(typeof _47=="undefined"||_47==null||_47==""){ret=_46.getTime()+"";}else{var idx=-1;idx=_47.indexOf("yyyy");if(idx>-1){var tmp="";if(idx>0){tmp+=_47.substring(0,idx);}tmp+=$W._A.fillZero(_46.getFullYear()+"",4);if(idx+4<_47.length){tmp+=_47.substring(idx+4,_47.length);}_47=tmp;}idx=_47.indexOf("yy");if(idx>-1){var tmp="";if(idx>0){tmp+=_47.substring(0,idx);}tmp+=$W._A.fillZero((_46.getFullYear()+"").substr(2,2)+"",2);if(idx+2<_47.length){tmp+=_47.substring(idx+2,_47.length);}_47=tmp;}idx=_47.indexOf("MM");if(idx>-1){var tmp="";if(idx>0){tmp+=_47.substring(0,idx);}tmp+=$W._A.fillZero((_46.getMonth()+1)+"",2);if(idx+2<_47.length){tmp+=_47.substring(idx+2,_47.length);}_47=tmp;}idx=_47.indexOf("dd");if(idx>-1){var tmp="";if(idx>0){tmp+=_47.substring(0,idx);}tmp+=$W._A.fillZero(_46.getDate()+"",2);if(idx+2<_47.length){tmp+=_47.substring(idx+2,_47.length);}_47=tmp;}idx=_47.indexOf("HH");if(idx>-1){var tmp="";if(idx>0){tmp+=_47.substring(0,idx);}tmp+=$W._A.fillZero(_46.getHours()+"",2);if(idx+2<_47.length){tmp+=_47.substring(idx+2,_47.length);}_47=tmp;}idx=_47.indexOf("hh");if(idx>-1){var tmp="";if(idx>0){tmp+=_47.substring(0,idx);}tmp+=$W._A.fillZero(_46.getHours()+"",2);if(idx+2<_47.length){tmp+=_47.substring(idx+2,_47.length);}_47=tmp;}idx=_47.indexOf("mm");if(idx>-1){var tmp="";if(idx>0){tmp+=_47.substring(0,idx);}tmp+=$W._A.fillZero(_46.getMinutes()+"",2);if(idx+2<_47.length){tmp+=_47.substring(idx+2,_47.length);}_47=tmp;}idx=_47.indexOf("ss");if(idx>-1){var tmp="";if(idx>0){tmp+=_47.substring(0,idx);}tmp+=$W._A.fillZero(_46.getSeconds()+"",2);if(idx+2<_47.length){tmp+=_47.substring(idx+2,_47.length);}_47=tmp;}idx=_47.indexOf("SSS");if(idx>-1){var tmp="";if(idx>0){tmp+=_47.substring(0,idx);}tmp+=$W._A.fillZero(_46.getMilliseconds()+"",3);if(idx+3<_47.length){tmp+=_47.substring(idx+3,_47.length);}_47=tmp;}idx=_47.indexOf("EEEE");if(idx>-1){var tmp="";if(idx>0){tmp+=_47.substring(0,idx);}var _4b=$W._m.getMessage("F_dateFormat_daynames_full").split(",");tmp+=_4b[_46.getUTCDay()];if(idx+4<_47.length){tmp+=_47.substring(idx+4,_47.length);}_47=tmp;}idx=_47.indexOf("E");if(idx>-1){var tmp="";if(idx>0){tmp+=_47.substring(0,idx);}var _4b=$W._m.getMessage("F_dateFormat_daynames_abbr").split(",");tmp+=_4b[_46.getUTCDay()];var _4c=1;for(var i=idx+1;_47.charAt(i)==="E";i++){_4c++;}if(idx+_4c<_47.length){tmp+=_47.substring(idx+_4c,_47.length);}_47=tmp;}ret=_47;}return ret;};$W._s._getDay=function(_4e,_4f){["WebSquare.date._getDay"];_4e=_4e+"";var _50=parseInt(_4e.slice(0,4));var _51=_4e.slice(4,6);if(_51.charAt(0)==0){_51=parseInt(_51.charAt(1));}else{_51=parseInt(_51);}var _52=_4e.slice(6,8);if(_52.charAt(0)==0){_52=parseInt(_52.charAt(1));}else{_52=parseInt(_52);}if(_50<1900){if(_4f){alert($W._m.getMessage("Date_err_1900"));}return -1;}if(_51<0||_51>12){if(_4f){alert($W._m.getMessage("Date_err_12"));}return -1;}if(_52<0||_52>31){if(_4f){alert($W._m.getMessage("Date_err_31"));}return -1;}if(_51==2&&_52>28){if((_50%4==0)&&(_50%100!=0)||(_50%400==0)){if(_52>29){if(_4f){alert($W._m.getMessage("Date_err_29"));}return -1;}}else{if(_4f){alert($W._m.getMessage("Date_err_28"));}return -1;}}if(_51==4||_51==6||_51==9||_51==11){if(_52>30){if(_4f){alert($W._m.getMessage("DatePicker_monthNames").split(",")[_51-1]+$W._m.getMessage("Date_err_30"));}return -1;}}var _53=_51;if(_51==1){_53=13;_50=_50-1;}if(_51==2){_53=14;_50=_50-1;}var _54=parseInt(((_53+1)*3)/5,10);var _55=parseInt(_50/4,10);var _56=parseInt(_50/100,10);var _57=parseInt(_50/400,10);var _58=_52+(_53*2)+_50+_54+_55-_56+_57+2;var _59=parseInt(_58/7,10);return _58-(_59*7);};$W._s.getDay=function(_5a){["WebSquare.date.getDay"];var _5b=this._getDay(_5a,true);switch(_5b){case 0:return "\ud1a0\uc694\uc77c";case 1:return "\uc77c\uc694\uc77c";case 2:return "\uc6d4\uc694\uc77c";case 3:return "\ud654\uc694\uc77c";case 4:return "\uc218\uc694\uc77c";case 5:return "\ubaa9\uc694\uc77c";case 6:return "\uae08\uc694\uc77c";}};$W._s.toLunar=function(_5c){["WebSquare.date.toLunar"];_5c=_5c.toString();var _5d=parseInt(_5c.substring(0,4));var _5e=parseInt(_5c.substring(4,6));if(_5c.substring(4,6)=="09"){_5e=9;}var _5f=parseInt(_5c.substring(6,8));if(_5c.charAt(6)=="0"){_5f=parseInt(_5c.charAt(7),10);}var _60=new Array("12121223221217575_abc","12121212212207575_abc","11211212221207575_abc","21121321221227575_abc","21121121212207575_abc","21212112121207575_abc","22123211212127575_abc","21221211212107575_abc","21221212121207575_abc","12321221212127575_abc","12121212212207575_abc","11211232212227575_abc","11211212122207575_abc","12121121212207575_abc","21212312121217575_abc","22212112121207575_abc","12212121212107575_abc","21232212121217575_abc","21212122121207575_abc","12112122322127575_abc","12112121222107575_abc","21211212122207575_abc","12121321122127575_abc","22121121122107575_abc","22122112121207575_abc","12214121212127575_abc","12121221212107575_abc","21122121221207575_abc","12312121222127575_abc","12112121222107575_abc","21211231221227575_abc","21211211221207575_abc","22121121121207575_abc","22122312121127575_abc","21221212121207575_abc","12121221212107575_abc","21321221221217575_abc","21121212221207575_abc","12112123221227575_abc","12112112212207575_abc","21211211212207575_abc","21221321121227575_abc","12212121211207575_abc","21212212121107575_abc","21223212212127575_abc","11212122122107575_abc","21121212212207575_abc","12312112212227575_abc","12112112122207575_abc","12211231212217575_abc","22211211212107575_abc","22212121121207575_abc","12212412121127575_abc","12122122121207575_abc","11212122122107575_abc","21141212122217575_abc","21121121222107575_abc","22112114122127575_abc","22112112121207575_abc","22121211212107575_abc","22122141121217575_abc","21221221211207575_abc","12121221221207575_abc","11214121221227575_abc","11211212221207575_abc","21121121221207575_abc","22312112121227575_abc","21212112121207575_abc","22121213212127575_abc","21221211212107575_abc","21221212121207575_abc","12121421212127575_abc","12112212212207575_abc","11211212212207575_abc","21141121212227575_abc","12121121212207575_abc","21212112321227575_abc","12212112121207575_abc","12212121212107575_abc","21212232121217575_abc","21212122121207575_abc","12112122122107575_abc","21213212122217575_abc","21211212122207575_abc","12121121122107575_abc","22232112112217575_abc","22122112121207575_abc","12212123212127575_abc","12121221212107575_abc","21122121221207575_abc","12112321222127575_abc","12112121222107575_abc","21211211222107575_abc","22123121122127575_abc","22121121121207575_abc","22121212321127575_abc","21221212121107575_abc","22121221212107575_abc","21121241221217575_abc","21121212212207575_abc","12112112212207575_abc","21213211221227575_abc","21211211212207575_abc","21221121123227575_abc","12212121121207575_abc","12212212121107575_abc","21221232212127575_abc","11212122122107575_abc","21121212212207575_abc","12112312122227575_abc","12112112122207575_abc","12211211212207575_abc","12232121121217575_abc","22212121121207575_abc","12212212321127575_abc","12122121221207575_abc","11212122122107575_abc","21121322122217575_abc","21121121222107575_abc","22112112122107575_abc","22213211212127575_abc","22121211212107575_abc","22122121121207575_abc","12322121221127575_abc","12121221221207575_abc","11212123221227575_abc","11211212221207575_abc","21121121221207575_abc","22112312121227575_abc","21212112121207575_abc","21221211212107575_abc","21242121121217575_abc","21221212121207575_abc","12121212232127575_abc","12112122212207575_abc","11211212212207575_abc","21121321212227575_abc","12121121212207575_abc","21212112121207575_abc","21223211212127575_abc","12212121212107575_abc","21212212121207575_abc","12321212212127575_abc","12112122122107575_abc","21211232122217575_abc","21211212122207575_abc","12121121122207575_abc","12212312112217575_abc","22122112112207575_abc","12122121212107575_abc","21232122121217575_abc","21121221221207575_abc","12112123222127575_abc","12112121222107575_abc","21211211221207575_abc","22121141121227575_abc","22121121121207575_abc","22121212112107575_abc","22122321212117575_abc","21221221212107575_abc","21121221221207575_abc","12312121222127575_abc","12112112212207575_abc","21211213212227575_abc","21211211212207575_abc","21221121121207575_abc","21221412112127575_abc","12212212121107575_abc","21212212212107575_abc","21141212212217575_abc");var _61=new Array("\uac11","\uc744","\ubcd1","\uc815","\ubb34","\uae30","\uacbd","\uc2e0","\uc784","\uacc4");var _62=new Array("\uc790","\ucd95","\uc778","\ubb18","\uc9c4","\uc0ac","\uc624","\ubbf8","\uc2e0","\uc720","\uc220","\ud574");var _63=new Array("\uc950","\uc18c","\ubc94","\ud1a0\ub07c","\uc6a9","\ubc40","\ub9d0","\uc591","\uc6d0\uc22d\uc774","\ub2ed","\uac1c","\ub3fc\uc9c0");var _64=new Array("MOUSE","COW","TIGER","RABBIT","DRAGON","SNAKE","HORSE","SHEEP","MONKEY","COCK","DOG","PIG");var _65=new Array(31,28,31,30,31,30,31,31,30,31,30,31);var _66=new Array("SUN","MON","TUE","WED","THU","FRI","SAT");var _67,LunarMonth,LunarDay;var _68,LVar_month1,LVar_month2;var _69,LVar_iCount1,LVar_jCount,LVar_jCount1,LVar_jCount2;var _6a,LVar_weekValue;var _6b=new Array(170);var _6c,LVar_TotalDays0,LVar_TotalDays1,LVar_TotalDays2;var _6d;var _6e,LunarStrDay;var _6f="";var _70="";for(_69=0;_69<170;_69++){_6b[_69]=0;for(LVar_jCount=0;LVar_jCount<12;LVar_jCount++){switch(Number(_60[_69].charAt(LVar_jCount))){case 1:case 3:_6b[_69]=_6b[_69]+29;break;case 2:case 4:_6b[_69]=_6b[_69]+30;}}switch(Number(_60[_69].charAt(12))){case 0:break;case 1:case 3:_6b[_69]=_6b[_69]+29;break;case 2:case 4:_6b[_69]=_6b[_69]+30;break;}}LVar_TotalDays1=(1880*365)+Math.floor(1880/4)-Math.floor(1880/100)+Math.floor(1880/400)+30;_6d=_5d-1;LVar_TotalDays2=(_6d*365)+Math.floor(_6d/4)-Math.floor(_6d/100)+Math.floor(_6d/400);_6a=((_5d%400)==0)||((_5d%100)!=0)&&((_5d%4)==0);if(_6a){_65[1]=29;}else{_65[1]=28;}if(_5f>_65[_5e-1]){return;}for(_69=0;_69<(_5e-1);_69++){LVar_TotalDays2=LVar_TotalDays2+_65[_69];}LVar_TotalDays2=LVar_TotalDays2+_5f;_6c=LVar_TotalDays2-LVar_TotalDays1+1;LVar_TotalDays0=_6b[0];for(_69=0;_69<170;_69++){if(_6c<=LVar_TotalDays0){break;}LVar_TotalDays0=LVar_TotalDays0+_6b[_69+1];}_67=_69+1881;LVar_TotalDays0=LVar_TotalDays0-_6b[_69];_6c=_6c-LVar_TotalDays0;if(Number(_60[_69].charAt(12))!=0){LVar_jCount2=13;}else{LVar_jCount2=12;}LVar_month2=0;for(LVar_jCount=0;LVar_jCount<LVar_jCount2;LVar_jCount++){if(Number(_60[_69].charAt(LVar_jCount))<=2){LVar_month2++;}if(Number(_60[_69].charAt(LVar_jCount))<=2){LVar_month1=Number(_60[_69].charAt(LVar_jCount))+28;}else{LVar_month1=Number(_60[_69].charAt(LVar_jCount))+26;}if(_6c<=LVar_month1){break;}_6c=_6c-LVar_month1;}_68=LVar_jCount;LunarMonth=LVar_month2;LunarDay=_6c;LVar_weekValue=LVar_TotalDays2%7;_69=(LVar_TotalDays2+4)%10;LVar_jCount=(LVar_TotalDays2+2)%12;LVar_iCount1=(_67+6)%10;LVar_jCount1=(_67+8)%12;if(LunarMonth<10){_6e="0"+LunarMonth;}else{_6e=""+LunarMonth;}if(LunarDay<10){LunarStrDay="0"+LunarDay;}else{LunarStrDay=""+LunarDay;}return _67.toString()+_6e.toString()+LunarStrDay.toString();};$W._s.getCurrentServerDate=function(_71){["WebSquare.date.getCurrentServerDate"];var _72=$W._N.getXMLHTTPObject();_71=_71||"yyyyMMdd";var _73=$W._N.getConfiguration("serverTimeURL");if(!_73){_73=$W.baseURI+"serverTime.wq";}_72.open("POST",_73+"?pattern="+_71+"&idx="+(new Date()).getTime()+Math.random()*10000,false);_72.send(null);var _74=_72.responseText;_72.onreadystatechange=function(){};_72=null;return _74.wq_trim();};$W._s.getMaxMinYear=function(){var _75=$W._N.getConfiguration("/WebSquare/date/maxYear/@value")-0;if(_75<1000||_75>9999||isNaN(_75)){_75=2099;}var _76=$W._N.getConfiguration("/WebSquare/date/minYear/@value")-0;if(_76<1000||_76>9999||isNaN(_76)){_76=1901;}if(_76>_75){var tmp=_76;_76=_75;_75=tmp;}var ret={};ret["maxYear"]=_75;ret["minYear"]=_76;return ret;};;WebSquare.date=$W._s;$W._A={};$W._A.checkMaxLength=function(_1,_2){["WebSquare.text.checkMaxLength"];if(typeof _1!="undefined"&&typeof _1.maxLength!="undefined"&&_1.maxLength>-1){if(_2.length>_1.maxLength){var _3=_2.length-_1.maxLength;_2=_2.substring(_3);}}return _2;};$W._A.checkAllowChar=function(_4,_5){["WebSquare.text.checkAllowChar"];var _6=_4;var _7="";if(typeof _5!="undefined"&&_5!=null&&_5!=""){var re=new RegExp("["+_5+"]");for(var i=0;i<_6.length;i++){var s=_6.charAt(i);if(s.match(re)!=null){_7+=s;}else{}}return _7;}else{return _6;}};$W._A.checkIgnoreChar=function(_b,_c){["WebSquare.text.checkIgnoreChar"];var _d=_b;var _e="";if(typeof _c!="undefined"&&_c!=null&&_c!=""){var re=new RegExp("["+_c+"]");for(var i=0;i<_d.length;i++){var s=_d.charAt(i);if(s.match(re)!=null){}else{_e+=s;}}return _e;}else{return _d;}};$W._A.getSelection=function(_12){var _13={start:0,end:0};try{if("selectionStart" in _12){_13.start=_12.selectionStart;_13.end=_12.selectionEnd;}else{var _14=document.selection.createRange().getBookmark();var _15=_12.createTextRange();_15.moveToBookmark(_14);var _16=_12.createTextRange();_16.collapse(true);_16.setEndPoint("EndToStart",_15);var _17=_16.text.length;var _18=_15.text.length;_13.start=_17;_13.end=_17+_18;}}catch(e){$W.exception.printStackTrace(e);}return _13;};$W._A.setSelection=function(_19,pos){["WebSquare.util.setCaretPosition"];try{if(_19.setSelectionRange){_19.focus();_19.setSelectionRange(pos.start,pos.end);}else{if(_19.createTextRange){var _1b=_19.createTextRange();_1b.collapse(true);_1b.moveEnd("character",pos.end);_1b.moveStart("character",pos.start);_1b.select();}}}catch(e){$W.exception.printStackTrace(e,null,this);if(_19!=null&&_19.focus!=undefined){_19.focus();}}};$W._A.getCaretPos=function(_1c){var len=0;try{if($W._G.isIE()){var _1e=$W.document.selection.createRange();var _1f=_1e.duplicate();var _20=_1c.createTextRange();while(_1f.compareEndPoints("StartToStart",_20)>0){_1f.moveStart("character",-1);len++;}}else{len=_1c.selectionStart;}}catch(e){$W.exception.printStackTrace(e);}return len;};$W._A.setCaretPos=function(_21,pos){try{if($W._G.isIE()){var _23=_21.createTextRange();_23.move("character",pos);_23.select();}else{_21.selectionStart=pos;_21.selectionEnd=pos;}}catch(e){$W.exception.printStackTrace(e);}};$W._A.checkString=function(obj,e){["WebSquare.text.checkString"];var _26=obj.render.value;if($W._N.browserCheck.moz){if(e.charCode==0){return;}if(obj.maxLength!=-1&&_26.length>=obj.maxLength){var _27=obj.render.selectionStart;var end=obj.render.selectionEnd;if(_27!=end){return;}e.preventDefault();return;}}var _29=(e.charCode)?e.charCode:e.keyCode;if(e.ctrlKey==true&&_29==86){return;}if(e.ctrlKey==true&&_29==118){return;}var _2a=String.fromCharCode(_29);if(typeof obj.ignoreChar!="undefined"&&obj.ignoreChar!=null&&obj.ignoreChar!=""){var re=new RegExp("["+obj.ignoreChar+"]");if(_2a.match(re)!=null){if($W._N.browserCheck.ie){e.returnValue=false;return;}else{e.preventDefault();return;}}}if(typeof obj.allowChar!="undefined"&&obj.allowChar!=null&&obj.allowChar!=""){var re=new RegExp("["+obj.allowChar+"]");if(_2a.match(re)==null){if($W._N.browserCheck.ie){e.returnValue=false;return;}else{e.preventDefault();return;}}}if(obj.characterCase!=""&&obj.characterCase=="upper"){if(e.keyCode>=97&&e.keyCode<=122){e.keyCode-=32;}}if(obj.characterCase!=""&&obj.characterCase=="lower"){if(event.keyCode>=65&&event.keyCode<=90){event.keyCode+=32;}}if(obj.valueType=="number"){if((obj.getCaretPos()!=0&&(event.keyCode==45||event.keyCode==43))){if($W._N.browserCheck.ie){e.returnValue=false;return;}else{e.preventDefault();return;}}if((_26.charAt(0)=="+"||_26.charAt(0)=="-")&&obj.getCaretPos()==0){if($W._N.browserCheck.ie){e.returnValue=false;return;}else{e.preventDefault();return;}}if((_26.indexOf(".")>-1&&e.keyCode==46)){if($W._N.browserCheck.ie){e.returnValue=false;return;}else{e.preventDefault();return;}}}};$W._A.validateValue=function(_2c,obj){["WebSquare.text.validateValue"];if(obj.mandatory=="true"){if(_2c.wq_trim()==""){obj.isValid="false";if(obj.displayMessage=="true"){obj.inValidMessage=obj.id+" has to be filled ";}return false;}}if(obj.minLength!=-1){if(_2c.length<obj.minLength){obj.isValid="false";if(obj.displayMessage=="true"){obj.inValidMessage=obj.id+" has to be same or more than "+obj.minLength;}return false;}}if(obj.maxLength!=-1){if(_2c.length>obj.maxLength){obj.isValid="false";if(obj.displayMessage=="true"){obj.inValidMessage=obj.id+" has to be same or less than "+obj.maxLength;}return false;}}return true;};$W._A.validateText=function(_2e,obj){["WebSquare.text.validateText"];if(!$W._A.validateValue(_2e,obj)){$W._A.validateEffect(_2e,obj);return false;}if(obj.validator!=""){var _30=obj;var _31=_2e;var _32=true;try{_32=eval(obj.validator+"(validateValue,validateTextObj);");if(!_32){$W._A.validateEffect(_2e,obj);if(obj.displayMessage=="true"){obj.inValidMessage=obj.id+" \uc758 validator\uc5d0 \uc758\ud55c \uc218\ud589 \uc870\uac74\uc744 \ub9cc\uc871\uc2dc\ud0a4\uc9c0 \ubabb\ud558\uc600\uc2b5\ub2c8\ub2e4. ";}}return _32;}catch(e){if(obj.displayMessage=="true"){obj.inValidMessage=obj.id+" \uc758 validator\uac00 \uc874\uc7ac\ud558\uc9c0 \uc54a\uac70\ub098 \uac1d\uccb4\uac00 \uc544\ub2d9\ub2c8\ub2e4. ";}return false;}}return true;};$W._A.validateEffect=function(_33,obj){["WebSquare.text.validateEffect"];if(obj.invalid_background_color!=""){obj.render.style.backgroundColor=obj.invalid_background_color;}if(obj.invalid_color!=""){obj.render.style.color=obj.invalid_color;}};$W._A.getPosition=function(_35){var _36=_35.indexOf(".");var _37=0;if(_36>-1){var str=_35.substring(_36);for(var i=0;i<str.length;i++){var _3a=str.charAt(i);if(_3a=="#"||_3a=="0"){_37++;}}_37=_37-(_37*2);}else{for(var j=0;j<_35.length;j++){var _3a=_35.charAt(j);if(_3a=="0"){_37++;}}}return _37;};$W._A.checkComma=function(_3c){var _3d=_3c.indexOf(",");if(_3d==-1){return false;}return true;};$W.numFRe=new RegExp("[^0]+[0-9]*");$W.numberFormatter=function(str,_3f,_40){this.sign="";this.integer=new Array();this.decimal=new Array();this.delimeter=_3f||",";this.decimalDelimeter=_40||".";var _41="";vardecimalStr="";var arr=str.split(this.decimalDelimeter);if(arr.length==1){_41=arr[0];decimalStr="";}else{if(arr.length>1){_41=arr[0];decimalStr=arr[1];}}if(_41.charAt(0)=="+"||_41.charAt(0)=="-"){this.sign=_41.charAt(0);_41=_41.substr(1);}var _43=_41.match($W.numFRe);if(_43!=null){_41=_43.join("");}else{_41="0";}for(var i=0;i<_41.length;i++){this.integer.push(parseInt(_41.charAt(i)));}for(var i=0;i<decimalStr.length;i++){this.decimal.push(parseInt(decimalStr.charAt(i)));}};$W.numberFormatter.prototype.getValue=function(){var _45="";_45+=this.sign;if(this.integer.length>0){_45+=this.integer.join("");}if(this.decimal.length>0){_45+=".";_45+=this.decimal.join("");}return _45;};$W.numberFormatter.prototype.setPrecision=function(_46,_47){if(_46==null){_46=0;}if(_47==null){_47="[round]";}var _48=0;if(_47=="[round]"){_48=5;}else{if(_47=="[floor]"){_48=0;}else{if(_47=="[ceil]"){_48=9;}}}var _49=this.decimal.length;if(_46+1>_49){for(var i=0;i<_46+1-_49;i++){this.decimal.push(0);}}else{this.decimal=this.decimal.slice(0,_46+1);}var _4b=0;if(this.decimal[_46]+_48>9){_4b=1;}for(var i=_46-1;i>=0;i--){this.decimal[i]+=_4b;if(this.decimal[i]>9){_4b=1;this.decimal[i]-=10;}else{_4b=0;}}this.decimal.pop();if(_4b!=0){for(var i=this.integer.length-1;i>=0;i--){this.integer[i]+=_4b;if(this.integer[i]>9){_4b=1;this.integer[i]-=10;}else{_4b=0;}}}if(_4b!=0){this.integer.push(0);for(var i=this.integer.length-1;i>=1;i--){this.integer[i]=this.integer[i-1];}this.integer[0]=1;}};$W.numberFormatter.prototype.getValueWithDelimeter=function(_4c,_4d,_4e){var _4f="";if(_4d==null||_4d<=0){return this.getValue();}_4f+=this.sign;if(this.integer.length>0){var _50=this.integer.length%_4d;var _51=0;for(var i=0;i<this.integer.length;i++){if((i+1)%_4d==_50){_4f+=this.integer.slice(_51,i+1).join("");if(i+1<this.integer.length){_4f+=_4c||this.delimeter;}_51=i+1;}}}if(this.decimal.length>0){_4f+=this.decimalDelimeter;_4f+=this.decimal.join("");}if(_4f==="-0"&&!_4e){_4f="0";}return _4f;};$W.numberFormatter.prototype.getFormattedValue=function(_53){var _54="";if(!_53){return this.getValue();}_54+=this.sign;var _55=[];$W.extend(_55,this.integer);var _56=[];var _57;if(_53.indexOf(this.decimalDelimeter)>-1){_57=_53.substring(0,_53.indexOf(this.decimalDelimeter));}else{_57=_53.substring(0);}var _58=_57.split(this.delimeter).reverse();for(var i=0;i<this.integer.length;i++){if(_55.length==0){break;}var _5a=_58[i%_58.length].length;var _5b=[];for(var j=0;j<_5a;j++){_5b.push(_55.pop());}_56.push(_5b.reverse().join(""));}_54+=_56.reverse().join(this.delimeter);if(this.decimal.length>0){_54+=this.decimalDelimeter;_54+=this.decimal.join("");}return _54;};$W.numberFormatter.prototype.cutZeroDecimal=function(_5d){var _5e=_5d.lastIndexOf("0")-1;var _5f=this.decimal.length-1;while(_5f>=0&&this.decimal[_5f]==0&&_5f>_5e){this.decimal.pop();_5f--;}};$W._A.formatCurrency=function(_60,_61,obj,_63,_64,_65){_60=_60+"";if(_60.wq_trim()==""){return "";}else{if(typeof _61=="undefined"||_61==null||_61==""){return parseFloat(_60)+"";}}if(!_64){_64=",";}if(!_65){_65=".";}var _66=new RegExp("\\[("+_65+"*)\\]","g");var _67=new RegExp("["+_65+"]+[#0]+");var _68=new RegExp("["+_64+"]+[#0]+");var _69=new RegExp("["+_65+"][0-9]*");var _6a=_61.match(_66);_61=_61.replace(_66,"");var _6b=_61.match(_67);if(_6b!=null){_6b=_6b.join("");}else{_6b=_65;}var _6c=_6b.length-1;_61=_61.replace(_67,"");var _6d=_61.match(_68);if(_6d!=null){_6d=_6d.join("");}else{_6d=_64;}var _6e=_6d.length-1;_61=_61.replace(_68,"");var _6f=new $W.numberFormatter(_60,_64,_65);if(_63){if(_6a==null){_6a="[floor]";}var _70=_60.match(_69);_6b=_65;if(_70&&_70.toString().length>=2){var len=_70.toString().length;for(var i=0;i<len-1;i++){_6b+="0";}}}_6f.setPrecision(_6c,_6a);_6f.cutZeroDecimal(_6b);var _73=_6f.getValueWithDelimeter(_64,_6e,_63);if(_63&&_60.slice(-1)==_65){_73+=_65;}if(_63&&(_60==="-"||_60==="+")){_73=_60;}var _74=_61.substr(0,_61.indexOf("#"));var _75=_61.substr(_61.lastIndexOf("#")+1,_61.length-1-_61.lastIndexOf("#"));if(_74){_73=_74+_73;}if(_75){_73=_73+_75;}return _73;};$W._A.formatEuroCurrency=function(_76,_77,obj,_79,_7a,_7b){_76=_76+"";if(_76.wq_trim()==""){return "";}else{if(typeof _77=="undefined"||_77==null||_77==""){return parseFloat(_76)+"";}}if(!_7a){_7a=".";}if(!_7b){_7b=",";}var _7c=new RegExp("\\[("+_7a+"*)\\]","g");var _7d=new RegExp("["+_7b+"]+[#0]+");var _7e=new RegExp("["+_7a+"]+[#0]+");var _7f=new RegExp("["+_7b+"][0-9]*");var _80=_77.match(_7c);_77=_77.replace(_7c,"");var _81=_77.match(_7d);if(_81!=null){_81=_81.join("");}else{_81=_7b;}var _82=_81.length-1;_77=_77.replace(_7d,"");var _83=_77.match(_7e);if(_83!=null){_83=_83.join("");}else{_83=_7a;}var _84=_83.length-1;_77=_77.replace(_7e,"");var _85=new $W.numberFormatter(_76,_7a,_7b);if(_79){if(_80==null){_80="[floor]";}var _86=_76.match(_7f);_81=_7b;if(_86&&_86.toString().length>=2){var len=_86.toString().length;for(var i=0;i<len-1;i++){_81+="0";}}}_85.setPrecision(_82,_80);_85.cutZeroDecimal(_81);var _89=_85.getValueWithDelimeter(_7a,_84);if(_79&&_76.slice(-1)==_7b){_89+=_7b;}if(_79&&(_76==="-"||_76==="+")){_89=_76;}var _8a=_77.substr(0,_77.indexOf("#"));var _8b=_77.substr(_77.lastIndexOf("#")+1,_77.length-1-_77.lastIndexOf("#"));if(_8a){_89=_8a+_89;}if(_8b){_89=_89+_8b;}return _89;};$W._A.formatRupeeCurrency=function(_8c,_8d,obj,_8f,_90,_91){var _92=_8d;_8c=_8c+"";if(_8c.wq_trim()==""){return "";}else{if(typeof _8d=="undefined"||_8d==null||_8d==""){return parseFloat(_8c)+"";}}if(!_90){_90=",";}if(!_91){_91=".";}if(_8d.indexOf(";")>-1){var _93=_8d.split(";");var _94="";for(var i=0;i<_93.length;i++){_94=_93[i].wq_trim();var _96=_94.match($W._A.formatRupeeCRe1);if(_96&&_96.length>0){var _97=_96[0].replace("[","").replace("]","");if(eval("Number("+_8c+")"+_97)){break;}}}if(_94){return $W._A.formatRupeeCurrency(_8c,_94.replace($W._A.formatRupeeCRe1,""),obj,_8f,_90,_91);}}var _98=new RegExp("\\[("+_91+"*)\\]","g");var _99=new RegExp("["+_91+"]+[#0]+");var _9a=new RegExp("["+_90+"]+[#0]+");var _9b=new RegExp("["+_91+"][0-9]*");var _9c=_8d.match(_98);_8d=_8d.replace(_98,"");var _9d=_8d.match(_99);if(_9d!=null){_9d=_9d.join("");}else{_9d=_91;}var _9e=_9d.length-1;_8d=_8d.replace(_99,"");var _9f=_8d.substr(0,_8d.indexOf("#"));var _a0=_8d.substr(_8d.lastIndexOf("#")+1,_8d.length-1-_8d.lastIndexOf("#"));var _a1=_8d.match(_9a);if(_a1!=null){_a1=_a1.join("");}else{_a1=_90;}var _a2=_a1.length-1;_8d=_8d.replace(_9a,"");var _a3=new $W.numberFormatter(_8c,_90,_91);if(_8f){if(_9c==null){_9c="[floor]";}var _a4=_8c.match(_9b);_9d=_91;if(_a4&&_a4.toString().length>=2){var len=_a4.toString().length;for(var i=0;i<len-1;i++){_9d+="0";}}}_a3.setPrecision(_9e,_9c);_a3.cutZeroDecimal(_9d);var _a6=_a3.getFormattedValue(_92);if(_8f&&_8c.slice(-1)==_91){_a6+=_91;}if(_8f&&(_8c==="-"||_8c==="+")){_a6=_8c;}if(_9f){_a6=_9f+_a6;}if(_a0){_a6=_a6+_a0;}return _a6;};$W._A.formatTengeCurrency=function(_a7,_a8,obj,_aa,_ab,_ac){_a7=_a7+"";if(_a7.wq_trim()==""){return "";}else{if(typeof _a8=="undefined"||_a8==null||_a8==""){return parseFloat(_a7)+"";}}if(!_ab){_ab=" ";}if(!_ac){_ac="-";}var _ad=new RegExp("\\[("+_ac+"*)\\]","g");var _ae=new RegExp("["+_ac+"]+[#0]+");var _af=new RegExp("["+_ab+"]+[#0]+");var _b0=new RegExp("["+_ac+"][0-9]*");var _b1=_a8.match(_ad);_a8=_a8.replace(_ad,"");var _b2=_a8.match(_ae);if(_b2!=null){_b2=_b2.join("");}else{_b2=_ac;}var _b3=_b2.length-1;_a8=_a8.replace(_ae,"");var _b4=_a8.match(_af);if(_b4!=null){_b4=_b4.join("");}else{_b4=_ab;}var _b5=_b4.length-1;_a8=_a8.replace(_af,"");var _b6=new $W.numberFormatter(_a7,_ab,_ac);if(_aa){if(_b1==null){_b1="[floor]";}var _b7=_a7.match(_b0);_b2=_ac;if(_b7&&_b7.toString().length>=2){var len=_b7.toString().length;for(var i=0;i<len-1;i++){_b2+="0";}}}_b6.setPrecision(_b3,_b1);_b6.cutZeroDecimal(_b2);var _ba=_b6.getValueWithDelimeter(_ab,_b5);if(_aa&&_a7.slice(-1)==_ac){_ba+=_ac;}if(_aa&&(_a7==="-"||_a7==="+")){_ba=_a7;}var _bb=_a8.substr(0,_a8.indexOf("#"));var _bc=_a8.substr(_a8.lastIndexOf("#")+1,_a8.length-1-_a8.lastIndexOf("#"));if(_bb){_ba=_bb+_ba;}if(_bc){_ba=_ba+_bc;}return _ba;};$W._A.formatDate=function(_bd,_be,_bf){if(typeof _bf=="undefined"||_bf==null||_bf==""){_bf="yyyyMMdd";}if(_bd.length!==_bf.length){return _bd;}if(typeof _be=="undefined"||_be==null||_be==""){_be="yyyy/MM/dd";}for(var i=0;i<_bd.length&&i<_bf.length;i++){var _c1=_bf.charAt(i);var _c2=_bd.charAt(i);if("yMdHmS".indexOf(_c1)>=0){_be=_be.replace(_c1,_c2);}}if(_be.indexOf("E")>=0){var _c3=$W._s._parseDate(_bd,_bf);var _c4=$W._s._getDay(_c3.slice(0,3).join(""),false);if(_c4>=0){var _c5=new Date(_c3[0],_c3[1]-1,_c3[2],_c3[3],_c3[4],_c3[5]);_be=$W._s.getFormattedDate(_c5,_be);}else{_be=_be.wq_replaceAll("E","");}}return _be;};$W._A.formatTime=function(_c6,_c7,_c8){if(typeof _c8=="undefined"||_c8==null||_c8==""){_c8="HHmmss";}if(typeof _c7=="undefined"||_c7==null||_c7==""){_c7="HH:mm";}if(_c6==""){return "";}for(var i=0;i<_c6.length&&i<_c8.length;i++){var _ca=_c8.charAt(i);var _cb=_c6.charAt(i);if("Hms".indexOf(_ca)>=0){_c7=_c7.replace(_ca,_cb);}}_c7=_c7.replace(/H|m|s/g,"0");return _c7;};$W._A.formatWithFormatter=function(_cc,_cd){if(typeof _cc!="string"){return eval(_cd+"('"+_cc+"');");}else{return eval(_cd+"('"+_cc.replace(/'/g,"\\'")+"');");}};$W._A.formatText=function(_ce,_cf){_ce=_ce+"";if(typeof _cf=="undefined"||_cf==null||_cf==""){return _ce;}var _d0="";var j=_ce.length-1;var i=_cf.length-1;for(;i>=0&&j>=0;i--){var _d3=_cf.charAt(i);if(_d3!="#"){_d0=_d3+_d0;}else{_d0=_ce.charAt(j)+_d0;j--;}}if(j>-1&&j<_ce.length){_d0=_ce.substring(0,j+1)+_d0;}if(i>-1&&_cf.substring(0,i+1).indexOf("#")==-1){_d0=_cf.substring(0,i+1)+_d0;}return _d0;};$W._A.format=function(_d4,_d5,_d6,_d7){["WebSquare.text.format"];var _d8;if(_d6=="number"){_d8=$W._A.formatCurrency(_d4,_d5);}else{if(_d6=="currency"){_d8=$W._A.formatEuroCurrency(_d4,_d5,_d7);}else{if(_d6=="date"){_d8=$W._A.formatDate(_d4,_d5,_d7);}else{if(_d6=="time"){_d8=$W._A.formatTime(_d4,_d5,_d7);}else{_d8=$W._A.formatText(_d4,_d5);}}}}return _d8;};$W._A.getValidString=function(_d9,_da,_db,_dc){return _d9;};$W._A.unformatCurrency=function(_dd,_de){var _df="";for(var i=0;i<_de.length;i++){if(_de.charAt(i)!=","){if(_de.charAt(i)=="$"){if(_dd.indexOf("$")==-1){_df=_df+_de.charAt(i);}}else{if(_de.charAt(i)=="\\"){if(_dd.indexOf("\\")==-1){_df=_df+_de.charAt(i);}}else{if(_de.charAt(i)=="+"){if(_dd.indexOf("+")==-1){_df=_df+_de.charAt(i);}}else{if(_de.charAt(i)=="-"){if(_dd.indexOf("-")==-1){_df=_df+_de.charAt(i);}}else{_df=_df+_de.charAt(i);}}}}}}return _df;};$W._A.unformatDate=function(_e1,_e2){if(typeof _e1=="undefined"||_e1==null||_e1==""){_e1="yyyy/MM/dd";}if(_e2.length!=_e1.length){return _e2;}var ret="";var _e4=_e1.indexOf("yyyy");var _e5=_e1.indexOf("MM");var _e6=_e1.indexOf("dd");if(_e4!=-1){ret+=_e2.substr(_e4,4);}if(_e5!=-1){ret+=_e2.substr(_e5,2);}if(_e6!=-1){ret+=_e2.substr(_e6,2);}return ret;};$W._A.unformatTime=function(_e7,_e8){if(_e8.length!=_e7.length){return _e8;}if(typeof _e7=="undefined"||_e7==null||_e7==""){_e7="HH:mm:SS";}var ret="";var _ea=_e7.indexOf("HH");var _eb=_e7.indexOf("mm");var _ec=_e7.indexOf("SS");if(_ea!=-1){ret+=_e8.substr(_ea,2);}if(_eb!=-1){ret+=_e8.substr(_eb,2);}if(_ec!=-1){ret+=_e8.substr(_ec,2);}return ret;};$W._A.unformatText=function(_ed,_ee){if(typeof _ed=="undefined"||_ed==null||_ed==""){return _ee;}_ed=_ed.substring(_ed.indexOf(","));var _ef="";var j=_ee.length-1;var i=_ed.length-1;for(;i>=0&&j>=0;i--){var _f2=_ed.charAt(i);var _f3=_ee.charAt(j);if(_f2=="#"&&_f3!="#"){_ef=_f3+_ef;}else{if(_f2!=_f3){_ef=_f3+_ef;}}j--;}if(j>-1){_ef=_ee.substring(0,j+1)+_ef;}return _ef;};$W._A.unformat=function(obj){["WebSquare.text.unformat"];if(!(typeof obj.formatArray!="undefined"&&typeof obj.formatArray["displayFormat"]!="undefined"&&obj.formatArray["displayFormat"]!=null)){return obj.render.value;}if(obj.status!="format"){return obj.render.value;}else{obj.status="unformat";}var _f5=obj.render.value;var _f6=obj.formatArray["displayFormat"];var _f7=obj.valueType;var _f8;if(typeof _f7!="undefined"&&_f7!=null&&_f7=="number"){_f8=$W._A.unformatCurrency(_f6,_f5);}else{if(typeof _f7!="undefined"&&_f7!=null&&_f7=="date"){_f8=$W._A.unformatDate(_f6,_f5);}else{if(typeof _f7!="undefined"&&_f7!=null&&_f7=="time"){_f8=$W._A.unformatTime(_f6,_f5);}else{_f8=$W._A.unformatText(_f6,_f5);}}}return _f8;};$W._A.BASE64Encoder=function(d){["WebSquare.text.BASE64Encoder"];var _fa="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";var b64=new Array();for(var i=0;i<_fa.length;i++){b64[i]=_fa.charAt(i);}var r=new Array();var i=0;if(d.charCodeAt(0)!=65279){d=String.fromCharCode(65279)+d;}var dl=d.length;if((dl%3)==1){d+=String.fromCharCode(0)+String.fromCharCode(0);}if((dl%3)==2){d+=String.fromCharCode(0);}while((i+2)<d.length){r[r.length]=b64[d.charCodeAt(i)>>10];r[r.length]=b64[(d.charCodeAt(i)&1008)>>4];r[r.length]=b64[(d.charCodeAt(i)&15)<<2|(d.charCodeAt(i+1)>>14)];r[r.length]=b64[(d.charCodeAt(i+1)&16128)>>8];if((r.length%76)==0){r[r.length]="\n";}r[r.length]=b64[(d.charCodeAt(i+1)&252)>>2];r[r.length]=b64[(d.charCodeAt(i+1)&3)<<4|(d.charCodeAt(i+2)>>12)];r[r.length]=b64[(d.charCodeAt(i+2)&4032)>>6];r[r.length]=b64[d.charCodeAt(i+2)&63];if((r.length%76)==0){r[r.length]="\n";}i+=3;}if((dl%3)==1){r.pop();r.pop();r.pop();r.pop();if(dl==28){r.pop();}r[r.length-1]="=";}if((dl%3)==2){r[r.length-1]=r[r.length-2]="=";}var t=r.join("");return t;};$W._A.BASE64Decoder=function(t){["WebSquare.text.BASE64Decoder"];var b64s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";var f64=new Array(),i;for(i=0;i<b64s.length;i++){f64[b64s.charAt(i)]=i;}var d=new Array();var i=0;t=t.replace(/\n|\r/g,"");t=t.replace(/=/g,"");var len=parseInt(t.length*3/4)/2;while(i<t.length){d[d.length]=(f64[t.charAt(i)]<<10)|(f64[t.charAt(i+1)]<<4)|(f64[t.charAt(i+2)]>>2);d[d.length]=((f64[t.charAt(i+2)]&3)<<14)|(f64[t.charAt(i+3)]<<8)|(f64[t.charAt(i+4)]<<2)|(f64[t.charAt(i+5)])>>4;d[d.length]=((f64[t.charAt(i+5)]&15)<<12)|(f64[t.charAt(i+6)]<<6)|f64[t.charAt(i+7)];i+=8;}d=d.slice(1,len);var r="";try{r=String.fromCharCode.apply(document,d);}catch(e){for(i=0;i<d.length;i++){r+=String.fromCharCode(d[i]);}}return r;};$W._A.BASE64URLEncoder=function(d){["WebSquare.text.BASE64URLEncoder"];return escape($W._A.BASE64Encoder(d));};$W._A.BASE64URLDecoder=function(t){["WebSquare.text.BASE64URLDecoder"];return $W._A.BASE64Decoder(unescape(t));};$W._A.fillZero=function(str,len){["WebSquare.text.fillZero"];var _10b;var i;var _10d=(str+"");if(isNaN(_10d)){return str;}if(_10d.length>=len){return _10d;}_10b=len-_10d.length;while(_10b>0){switch(_10b){case 1:_10b=0;_10d="0"+_10d;break;case 2:_10b=0;_10d="00"+_10d;break;case 3:_10b=0;_10d="000"+_10d;break;case 4:_10b=0;_10d="0000"+_10d;break;case 5:_10b=0;_10d="00000"+_10d;break;case 6:_10b=0;_10d="000000"+_10d;break;case 7:_10b=0;_10d="0000000"+_10d;break;case 8:_10b=0;_10d="00000000"+_10d;break;case 9:_10b=0;_10d="000000000"+_10d;break;case 10:_10b=0;_10d="0000000000"+_10d;break;case 11:_10b=0;_10d="00000000000"+_10d;break;case 12:_10b=0;_10d="000000000000"+_10d;break;case 13:_10b=0;_10d="0000000000000"+_10d;break;case 14:_10b=0;_10d="00000000000000"+_10d;break;case 15:_10b=0;_10d="000000000000000"+_10d;break;default:_10b-=15;_10d="000000000000000"+_10d;break;}}return _10d;};$W._A.isKorean=function(str){["WebSquare.text.isKorean"];if(str!=null&&str.length>0){var _10f=0;for(var i=0;i<str.length;i++){_10f|=$W._A.getLocale(str.charAt(i));}if((_10f&~3)==0){return true;}}return false;};$W._A.getLocale=function(str){["WebSquare.text.getLocale"];var _112=0;if(str.length>0){var _113=str.charCodeAt(0);if(_113>=44032&&_113<=55203){_112=1;}else{if((_113>=4352&&_113<=4601)||(_113>=12593&&_113<=12686)){_112=2;}else{if(_113>=48&&_113<=57){_112=4;}else{if((_113>=32&&_113<=47)||(_113>=58&&_113<=64)||(_113>=91&&_113<=96)||(_113>=123&&_113<=126)){_112=8;}else{if(_113>=65&&_113<=90){_112=16;}else{if(_113>=97&&_113<=122){_112=32;}else{_112=48;}}}}}}}return _112;};$W._A.URLEncoder=function(str){["WebSquare.text.URLEncoder"];if(typeof str=="number"){return str;}var ret="";if(str==null||str.length==0){return ret;}for(var i=0;i<str.length;i++){var code="";if(str.charAt(i)==" "){ret+="+";}else{if((str.charCodeAt(i)>=48&&str.charCodeAt(i)<=57)||(str.charCodeAt(i)>=65&&str.charCodeAt(i)<=90)||(str.charCodeAt(i)>=97&&str.charCodeAt(i)<=122)||str.charAt(i)=="@"||str.charAt(i)=="."||str.charAt(i)=="-"||str.charAt(i)=="*"||str.charAt(i)=="_"){ret+=str.charAt(i);}else{if((code=$W._A.getEUCKR(str.charCodeAt(i)))!=null&&code>=42145){ret+="%"+(code>>8).toString(16)+"%"+(code&255).toString(16);}else{if(str.charCodeAt(i)<=126){var _118=str.charCodeAt(i).toString(16);if(_118.length==1){ret+="%0"+_118;}else{ret+="%"+_118;}}else{ret+="%3f";}}}}}return ret;};$W._A.URLDecoder=function(str){["WebSquare.text.URLDecoder"];var ret="";if(str==null||str.length==0){return ret;}for(var i=0;i<str.length;i++){if(str.charAt(i)=="+"){ret+=" ";}else{if(str.charAt(i)!="%"){ret+=str.charAt(i);}else{if(i+5<=str.length){var tmp=str.substring(i+1,i+3);if(str.charAt(i+3)=="%"&&parseInt(tmp,16)>160){tmp+=str.substring(i+4,i+6);tmp=tmp.toUpperCase();ret+=String.fromCharCode($W._A.getUNICODE(parseInt(tmp,16)));i+=5;}else{ret+=String.fromCharCode(parseInt(tmp,16));i+=2;}}else{if(i+2<=str.length){var tmp=str.substring(i+1,i+3);ret+=String.fromCharCode(parseInt(tmp,16));i+=2;}else{ret+=str.charAt(i);}}}}}return ret;};$W._A.getEUCKR=function(k){["WebSquare.text.getEUCKR"];if(!$W._A.EUCKR){$W._A.setEUCKR();}if(!$W._A.UNICODE){$W._A.setUNICODE();}var max=16;var str=0;var end=$W._A.UNICODE.length-1;var pos=Math.round((str+end)/2);while(max-->0){if($W._A.UNICODE[pos]>k){end=pos;pos=Math.round((str+end)/2);}else{if($W._A.UNICODE[pos]<k){str=pos;pos=Math.round((str+end)/2);}else{return $W._A.EUCKR[pos];}}}return "";};$W._A.getUNICODE=function(k){["WebSquare.text.getUNICODE"];if(!$W._A.EUCKR){$W._A.setEUCKR();}if(!$W._A.UNICODE){$W._A.setUNICODE();}var max=16;var str=0;var end=$W._A.EUCKR.length-1;var pos=Math.round((str+end)/2);while(max-->0){if($W._A.EUCKR[pos]>k){end=pos;pos=Math.round((str+end)/2);}else{if($W._A.EUCKR[pos]<k){str=pos;pos=Math.round((str+end)/2);}else{return $W._A.UNICODE[pos];}}}return 63;};$W._A.isFinalConsonant=function(str){["WebSquare.text.isFinalConsonant"];var code=str.charCodeAt(str.length-1);if(code<44032||code>55197){return false;}if((code-16)%28==0){return false;}return true;};$W._A.arraySort=function(arr,_12a){["WebSquare.text.arraySort"];var a=new Array();for(var i=0;i<arr.length;i++){a.push(arr[i]);}if(typeof _12a=="undefined"){return a.sort();}else{return a.sort(_12a);}};$W._A.setEUCKR=function(){var _12d=[42145];var len=2444;for(var i=1;i<94;i++){_12d[i]=_12d[i-1]+1;}_12d[i]=_12d[i-1]+2979;for(i++;i<len;i++){_12d[i]=_12d[i-1]+((i-188)%94==0?163:1);}$W._A.EUCKR=_12d;};$W._A.setUNICODE=function(){var _130=[12593];var len=2444;var conv="#%%###(#######$####%&*#$##)#%&-$)&&6#%%#$(#$###%###&&*#$##)##$%#*#$##&%&&+$+#%%#$$%##$$#(#%&$(#$$)&&+%#)#%&*#$$)&&+$+#%%###'##$$#(#%&.#)5+#%&*#$+&&6#%%##)#$$)>#%%#$(#$$#&$##$&$(#$##&%#%&*#$##)#)R##$&*#$##)#%.%$)&&-#'%>#%$$*#$$##'#).#)#6)&&*#&)>#%&)##$$#(*.#)#%&*#%*&&*#->#%$$$'##$$&A#%&*#$$)##$%###(#$####$$##%&*#$##)#%&*'E#$#&$#'#$##(##%&*#$##)#%&*#%#%&&:#%&$(#$$'##&&.F&&*#$+#%&+$$)#%%#*#$$)6*>&&*#-#)*#&)#%&##(#$$#&$&&6#%&$(#$$'$##$%####&##$####&##%&*#$##)Z##$%#$#'#$$$%$#%&*#$##)&&.#)&:#%%#$$&#$$$$%&&66*&&*#$+>#%&*#$$)6*7)&&+$$)&&*')#%%#$(#$$)>#%%#*#$###(#%&*#$##(##%&*#$##a#%&$#'#$##(##%&*#$##)6F#%&/)*6>&V#%&)#'E>&&*#&E#%%#*#$+&&*#-&&*#$$)#%&*#$###&###%&*#$##)#%1$E#%&*#$##(##%&*#$$)#%&*#$##)&/$+#%&*#$$)&3=*&&*#$$)&&+$$)#%&*#$$)6*>#%&*%$)#%&*#$$)#%&*#$$#%#@#%&*#$$)#%$####(#$$#%$##%&*#$###(#)/E#%&$(#$$#'##%&*#$##)#%&-##$'>#$#&$(#$$)&2#E&&+$$)&&+$+##$%###(#$$&$#&&+$+>&&6&&*%+&&*%G#%%#$(#$##$$%####%####'#$$&%#%&*#$##&%#%/I#%%#$(#$$#(#%%#*#$##)#%&+$##&%&:##$&*#$$)&2*6*#%&*#-&:#%%###(#$$&#$*.*>#%&/)&&*%$)#%&*#$G#%&$(#$$##'#%&$(#$##(##%&*#$##)#1J#%%#*%##)7)#1#$##E#%&*#&a>7)#%&*%$}7)&&*#I#%&*#$$)#$#%###(#$##&%#%&*#$##)#%&*#$$)&&*')####%#$#'#$##'$#%&*#$##)#%&*#$##)&&/)##$&$(#$$&%#%&/)&&*%#*&&*#$+#%&*#$$)#%%#*#$$$$#$6*#%&*')#%&*#$$)#)*%$)#%&#)#$$E#%%#)##$$'$#$#&*#%#(##%&*#%#>E#%&$(#%#)&&V:#%%#$(#&)#%2*6*&&*#->#%&*#&)6*>&O)#%&$'##-&&*.#%&*#$$)#%##$##'##$##&#$#%&*#$##)#%&%'#$$&$#&&+-#%#$###(######$$$#%&*#$$)##$&$#'#####&###&&*#$#*#%&##$%##$$$'#%&*#$##)#%.%$)#%&*#$$)#%&*#$$)#%&##(#$$)#%&*#%#)#%&*#&)#%&*#$$)#%&*#$$$'#%&($#$$#######&&*%+#%&##'##$###&$#%$##$(#$###(#%&*#$##)#%$$*')&&6#%&$(#$$#(#%&*#$$)&&*#%#)>#%&$(#$$##&##)+$$)6#)&&*#$$)#%3)#%&##(#$$)6*>#%&*#$+&&*.#%&*#$$E#%%#$(#$$#%#$#%$$%'#$##)#%&*#$##)&3E#%&*#$##)7)6F#%&*#$$$'#).*6*&&*#B)#%&*#&)6#E>>2%$E#%&*#&#'##%$$*#$###(#%&*#$##)&$$*'E#%&*#$##)#%&*#$$)&2*&3)#%&*#$$)&&/E&&*#$$)2.#%&*#$$)6*&:&&*#$$)&&*')#%&*#$$E#%%##)#$$)#%&*#$$)#%&*#$##)#6E#%%#*#$##)#%&*#$$)&&*#$##)>#%&*#$$)#%&*')7)*6>#%&*#$$)&&/)7)#%&*#$$)&&*.#%&*#&E#%&*#$$)#%&#)#$##)#%&*#$##)7E#%&$(#$##)#%&*#$$)&2*&:#%&*#$$'$&:>&1$)>#%&*#$$)6*>#%&*#&)&&*')#%%#$(#$+&&*#-#%&*#$$)##$&$(#$##&%#%&*#$##)#Y#%&*#$##)#%&*#$$)&&*#%#)*+$+#%&*#$$)7E&:&&+$+#%%#$(#$$)7E&&*%+&&*%$)&&*#$G#%&*#$$)#%&'%#$$)#%&*#$##)7E#%&$(#$$)#%&*#$$)#%&*#$##)&&+-#%&'%#$$&%#%&-$)#%1$)#%&+$$)&&+$+#%&'%%$)&&*')#%&/)#%&*#$$)#%&*%$)#%$###)#$$&%&&*#&)#%&*#$$";for(var i=1;i<94;i++){_130[i]=_130[i-1]+1;}_130[i]=_130[i-1]+31346;for(i++;i<len;i++){_130[i]=_130[i-1]+conv.substr(i-95,1).charCodeAt(0)-34;}$W._A.UNICODE=_130;};;WebSquare.text=$W._A;$W.layer={};$W.layer.cache={};$W.layer.processMsg="";$W.layer.disabledList=[];$W.layer.saveLayer=function(_1,_2){["WebSquare.layer.saveLayer"];try{var _3=$W.document.getElementById(_1);if(typeof _3!="undefined"&&_3!=null){$W.layer.cache[_1+_2]=_3.innerHTML;}}catch(e){$W.exception.printStackTrace(e);}};$W.layer.loadLayer=function(_4,_5){["WebSquare.layer.loadLayer"];try{if(typeof $W.layer.cache[_4+_5]!="undefined"&&$W.layer.cache[_4+_5].wq_trim()!=""){var _6=$W.document.getElementById(_4);if(typeof _6!="undefined"&&_6!=null){_6.innerHTML=$W.layer.cache[_4+_5];return true;}return false;}return false;}catch(e){$W.exception.printStackTrace(e);}};$W.layer.clearLayer=function(){["WebSquare.layer.clearLayer"];try{$W.layer.cache=new Object();}catch(e){$W.exception.printStackTrace(e);}};$W.layer.showProcessMessage=function(_7,_8){["WebSquare.layer.showProcessMessage"];try{if(_7=="$blank"){return;}if(!_7){return;}$l("WebSquare.layer.showProcessMessage ["+_7+"]");var _9=_7.wq_trim();var _a=/^javascript\s*:\s*(.*)/i;var _b=_9.match(_a);if(_b==null||typeof _b=="undefined"){}else{_7=eval(_b[1]);}var _c=(_8&&_8.type=="pasteMsg")?$W.document.getElementById("___processbar2_paste"):$W.document.getElementById("___processbar2");var _d=(_8&&_8.type=="pasteMsg")?$W.document.getElementById("___processbar2_i_paste"):$W.document.getElementById("___processbar2_i");var _e=$W._N.getConfiguration("processMsgURL");var _f=$W._N.getConfiguration("processMsgHeight");var _10=$W._N.getConfiguration("processMsgWidth");var _11=$W._N.getConfiguration("processMsgBackground");var _12=$W._N.getConfiguration("/WebSquare/processMsgBackground/@backgroundColor");var _13=$W._N.getConfiguration("processMsgTitle")||"process Message";if(_12==""){_12="#112233";}if(_e==""){if(_8&&_8.type=="pasteMsg"){_e=$W.baseURI+"message/pasteMsg.html";}else{_e=$W.baseURI+"message/processMsg.html";}}if($W.WebSquareCache==false){_e=$W.BootLoader.getRandomPostfix(_e+"?param="+$W._A.URLEncoder(_7));}else{_e=_e+"?param="+$W._A.URLEncoder(_7);}delete $W.layer.abortTrigger;if(_8&&_8.abortTrigger){$W.layer.abortTrigger="true";}$W.layer.processMsg=_7;if(_f==""||_10==""){_f="81";_10="295";}if(!_c){var _14=$W.document.createElement("div");_14.id=(_8&&_8.type=="pasteMsg")?"___processbar2_paste":"___processbar2";_14.className="w2modal";_14.style.backgroundColor=_12;_14.tabIndex=1;if(_11=="true"){_14.style.visibility="visible";}else{_14.style.visibility="hidden";}$W.getBody().appendChild(_14);}else{_c.tabIndex=1;_c.style.zIndex=10000;_c.style.display="block";_c.style.top="0px";_c.style.left="0px";}var _15=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0;var _16=window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0;var _17=document.documentElement.clientHeight||document.body.clientHeight||0;var _18=document.documentElement.clientWidth||document.body.clientWidth||0;if(!_d){var _19=_15+_17/2-parseInt(_f)/2;var _1a=_16+_18/2-parseInt(_10)/2;var _1b=$W.document.createElement("div");_1b.id=(_8&&_8.type=="pasteMsg")?"___processbar2_i_paste":"___processbar2_i";_1b.style.position="absolute";_1b.style.top=parseInt(_19)+"px";_1b.style.left=parseInt(_1a)+"px";_1b.style.overflow="hidden";_1b.style.zIndex=10001;_1b.style.visibility="visible";_1b.style.height=_f+"px";_1b.style.width=_10+"px";$W.getBody().appendChild(_1b);_1b.innerHTML="<iframe frameborder='0' scrolling='no' allowtransparency='true' name='__processbarIFrame' style='position:absolute; width:"+_10+"px; height:"+_f+"px; top:0px; left:0px' src='"+_e+"' title='"+_13+"'></iframe>";}else{var _19=_15+_17/2-parseInt(_f)/2;var _1a=_16+_18/2-parseInt(_10)/2;_d.style.top=parseInt(_19)+"px";_d.style.left=parseInt(_1a)+"px";_d.style.zIndex=10001;if(frames["__processbarIFrame"].onload!=null){frames["__processbarIFrame"].onload();}else{if(frames["__processbarIFrame"].init!=null){frames["__processbarIFrame"].init();}}_d.style.display="block";}}catch(e){$W.exception.printStackTrace(e);}};$W.layer.setProcessMsgColor=function(){["WebSquare.layer.setProcessMsgColor"];try{var _1c=$W.layer.colorArr.shift();$W.layer.colorArr.push(_1c);document.getElementById("processMsgLayer").style.color=_1c;}catch(e){$W.exception.printStackTrace(e);}};$W.layer.hideProcessMessage=function(_1d){["WebSquare.layer.hideProcessMessage"];try{var _1e=(_1d&&_1d.type=="pasteMsg")?$W.document.getElementById("___processbar2_paste"):$W.document.getElementById("___processbar2");var _1f=(_1d&&_1d.type=="pasteMsg")?$W.document.getElementById("___processbar2_i_paste"):$W.document.getElementById("___processbar2_i");if(typeof _1e!="undefined"&&_1e!=null){_1e.style.zIndex=-1;_1e.style.display="none";_1e.tabIndex="-1";_1e.innerHTML="";}if(typeof _1f!="undefined"&&_1f!=null){_1f.style.zIndex=-1;_1f.style.display="none";}if(frames["__processbarIFrame"]!=undefined&&frames["__processbarIFrame"].processKey){frames["__processbarIFrame"].clearInterval(frames["__processbarIFrame"].processKey);}}catch(e){$W.exception.printStackTrace(e);}};$W.layer.submissionIDQueue=new Array();$W.layer.submissionMessageQueue=new Array();$W.layer.addSubmissionMessage=function(_20,_21){["WebSquare.layer.addSubmissionMessage"];try{var _22=$W._J.getSubmission(_20);if(_22.useModal==true){$W.layer.showModal();}var _23;if(_22.abortTrigger){_23={abortTrigger:_22.abortTrigger};}try{if(_22.hideProcessMsg===false){$W.layer.showProcessMessage(_21,_23);return;}}catch(e){}$W.layer.submissionIDQueue.push(_20);$W.layer.submissionMessageQueue.push(_21);if($W.layer.submissionIDQueue.length==1){$W.layer.showProcessMessage(_21,_23);}else{if($W.layer.submissionMessageQueue[$W.layer.submissionMessageQueue.length-2]!=_21){$W.layer.showProcessMessage(_21,_23);}}}catch(e){$W.layer.hideModal();$W.exception.printStackTrace(e);}};$W.layer.deleteSubmissionMessage=function(_24){["WebSquare.layer.deleteSubmissionMessage"];try{try{var _25=$W._J.getSubmission(_24);if(_25.hideProcessMsg===false){if(_25.useModal==true){$W.layer.hideModal();}return;}}catch(e){}var idx=-1;for(var i=0;i<$W.layer.submissionIDQueue.length;i++){if($W.layer.submissionIDQueue[i]==_24){idx=i;}}if(idx>=0){$W.layer.submissionIDQueue.splice(idx,1);var _28=($W.layer.submissionMessageQueue.splice(idx,1))[0];if(idx==$W.layer.submissionIDQueue.length){if(_28!=$W.layer.submissionMessageQueue[idx-1]){$W.layer.showProcessMessage($W.layer.submissionMessageQueue[idx-1]);}}}if($W.layer.submissionIDQueue.length==0){if(_25.useModal==true){$W.layer.hideModal();}$W.layer.hideProcessMessage();}}catch(e){$W.layer.hideModal();$W.exception.printStackTrace(e);}};$W.layer.showModal=function(_29){["WebSquare.layer.showModal"];try{if($W.layer.disabledList.length>0){$l("[WebSquare.layer.showModal]\ud604\uc7ac showModal\uc0c1\ud0dc\uc774\ubbc0\ub85c \ucc98\ub9ac\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4.");return;}var _2a=true;$W.layer.disabledList.push($W._G.setDisabled({"componentId":"","disabled":true,"excludeIdList":_29,"skipTab":true}));$W.getBody().showModal(null,_29);}catch(e){$W.exception.printStackTrace(e);}};$W.layer.hideModal=function(){["WebSquare.layer.hideModal"];try{if($W.layer.disabledList.length>0){var _2b=$W.layer.disabledList.splice($W.layer.disabledList.length-1,1)[0];var _2c=true;$W._G.setDisabled({"componentId":"","disabled":false,"excludeIdList":_2b.skipComponents,"skipTab":_2c});$W.getBody().hideModal();}}catch(e){WebSqre.exception.printStackTrace(e);}};$W._k={};$W._k.setCookie=function(_1,_2){["WebSquare.cookie.setCookie"];$W.document.cookie=_1+"="+escape(_2)+";path=/";};$W._k.setCookieAsync=function(_3,_4){["WebSquare.cookie.setCookieAsync"];window.setTimeout("document.cookie = '"+_3+"="+escape(_4)+";path=/';",1);};$W._k.getCookie=function(_5){["WebSquare.cookie.getCookie"];try{var _6=$W.document.cookie.split("; ");for(var i=0;i<_6.length;i++){var _8=_6[i].split("=");if(_5==_8[0]){if(_8.length==1){return "";}else{return unescape(_8[1]);}}}}catch(e){$W.exception.printStackTrace(e);}return null;};$W._k.delCookie=function(_9){["WebSquare.cookie.delCookie"];try{$W.document.cookie=_9+"=abc; expires=Fri, 31 Dec 1970 23:59:59 GMT;path=/";}catch(e){$W.exception.printStackTrace(e);}};;WebSquare.cookie=$W._k;$W.domIterator=function(){};$W.domIterator.prototype.construct=function(_1){["WebSquare.domIterator.construct"];this.status=0;this.element=_1;};$W.domIterator.prototype.next=function(){["WebSquare.domIterator.next"];if(this.status==0){this.status=1;return true;}};$W.domIterator.prototype.stop=function(){["WebSquare.domIterator.stop"];this.status=2;};$W.domIterator.prototype.match=function(_2,id,_4){["WebSquare.domIterator.match "];if(this.status==2){return false;}var _5=true;if(_2&&(" "+this.element.className+" ").indexOf(" "+_2.wq_trim()+" ")<0){_5=false;}if(id&&this.element.id!=id){_5=false;}if(_4&&this.element.tagName.toUpperCase()!=_4.toUpperCase()){_5=false;}return _5;};$W.domIterator.prototype.matchSvg=function(_6,id,_8){["WebSquare.domIterator.matchSvg "];if(this.status==2){return false;}var _9=false;if(this.element.className.baseVal){_9=true;if(_6&&(" "+this.element.className.baseVal+" ").indexOf(" "+_6.wq_trim()+" ")<0){_9=false;}if(id&&this.element.id!=id){_9=false;}if(_8&&this.element.tagName.toUpperCase()!=_8.toUpperCase()){_9=false;}}return _9;};$W.domIterator.prototype.getElement=function(){["WebSquare.domIterator.getElement"];return this.element;};$W.childIterator=function(_a,_b){["WebSquare.childIterator"];this.construct(_a);this.options=$W.extend({type:"dfs",pruning:null},$W.extend({},_b));this.elementStack=[];};$W.extend($W.childIterator.prototype,$W.domIterator.prototype);$W.childIterator.prototype.next=function(){["WebSquare.childIterator.next"];if(this.status==0){this.status=1;return true;}if(this.status==2){return false;}if(!(this.options.pruning&&this.options.pruning.call(this,this.element))){for(var _c=this.element.firstChild;_c!=null;_c=_c.nextSibling){if(_c.nodeType==1){this.elementStack.push(_c);}}}if(this.elementStack.length==0){return false;}else{if(this.options.type=="dfs"){this.element=this.elementStack.pop();}else{if(this.options.type=="bfs"){this.element=this.elementStack.shift();}else{this.element=this.elementStack.shift();}}return true;}};$W.targetIterator=function(_d,_e){["WebSquare.targetIterator"];this.construct(_d);this.upperBoundElem=_e||document.body;};$W.extend($W.targetIterator.prototype,$W.domIterator.prototype);$W.targetIterator.prototype.next=function(){["WebSquare.targetIterator.next"];if(this.status==0){this.status=1;return true;}if(this.status==2){return false;}if(this.element!=this.upperBoundElem&&this.element.parentNode){this.element=this.element.parentNode;return true;}return false;};requires("engine/thread.js");$W._M={};$W._M.transitions={};$W._M.transitions.linear=function(_1){return _1;};$W._M.transitions.sinoidal=function(_2){return (-Math.cos(_2*Math.PI)/2)+0.5;};$W._M.transitions.reverse=function(_3){return 1-_3;};$W._M.transitions.flicker=function(_4){return ((-Math.cos(_4*Math.PI)/4)+0.75)+Math.random()/4;};$W._M.transitions.wobble=function(_5){return (-Math.cos(_5*Math.PI*(9*_5))/2)+0.5;};$W._M.transitions.pulse=function(_6){return (Math.floor(_6*10)%2==0?(_6*10-Math.floor(_6*10)):1-(_6*10-Math.floor(_6*10)));};$W._M.transitions.none=function(_7){return 0;};$W._M.transitions.full=function(_8){return 1;};$W._M.transitions.exponential=function(_9){return Math.exp(_9)/Math.E;};$W._M.transitions.square2=function(_a){return _a*_a;};$W._M.transitions.square3=function(_b){return _b*_b*_b;};$W._M.transitions.square4=function(_c){return _c*_c*_c*_c;};$W._M.transitions.square5=function(_d){return _d*_d*_d*_d*_d;};$W._M.effectManager=function(){this.effects=[];this.timeState="stopped";var _e=this;this._mouseMoveEvent=function(){_e.onDrag.apply(_e,arguments);};};$W._M.effectManager.prototype={add:function(_f,_10){_f.init(_10);this.effects.push(_f);if(this.timeState=="stopped"){this.timeState="running";this.startTimeout();}},remove:function(_11){var _12=[];for(var i=0;i<this.effects.length;i++){if(this.effects[i]!=_11){_12.push(this.effects[i]);}}this.effects=_12;if(this.effects.length==0){this.cancelTimeout();}},startTimeout:function(){var _14=this;this.interval=setInterval(function(){var _15=new Date().getTime();_14.notifyLoop(_15);},10);},cancelTimeout:function(){clearInterval(this.interval);this.timeState="stopped";},notifyLoop:function(){var _16=[];for(var i=0;i<this.effects.length;i++){if(this.effects[i].state!="finished"){_16.push(this.effects[i]);}}this.effects=_16;var _18=new Date().getTime();for(var i=0;i<this.effects.length;i++){if(this.effects[i].state!="finished"){this.effects[i].loop(_18);}}if(this.effects.length==0){this.cancelTimeout();}}};$W._M.effectManager=new $W._M.effectManager();$W._M.defaultOptions={transition:$W._M.transitions.sinoidal,duration:1,fps:60,from:0,to:1,delay:0};$W._M.base={};$W._M.base.prototype={position:null,init:function(_19){this.options=$W.extend($W.extend({},$W._M.defaultOptions),_19||{});this.currentFrame=0;this.state="stoped";this.startOn=this.options.delay*1000;this.finishOn=this.startOn+(this.options.duration*1000);var _1a=new Date().getTime();this.startOn+=_1a;this.finishOn+=_1a;},loop:function(_1b){if(_1b>=this.startOn){if(_1b>=this.finishOn){this.render(1);if(this.finish){this.finish();}this.state="finished";return;}var pos=(_1b-this.startOn)/(this.finishOn-this.startOn);var _1d=Math.round(pos*this.options.fps*this.options.duration);if(_1d>this.currentFrame){this.render(pos);this.currentFrame=_1d;}}},render:function(pos){if(this.state=="stoped"){this.state="running";if(this.setup){this.setup();}}if(this.state=="running"){if(this.options.transition){pos=this.options.transition(pos);}pos=pos*(this.options.to-this.options.from)+this.options.from;if(this.update){this.update(pos);}}},setup:function(){},update:function(pos){},finish:function(){try{if(this.options.finish){this.options.finish.call();}}catch(e){$W.exception.printStackTrace(e);}}};$W._M.move=function(_20,_21){["WebSquare.effect.move"];try{this.element=_20;var _22=$W.extend({x:0,y:0,mode:"delta"},_21||{});$W._M.effectManager.add(this,_22);}catch(e){$e(e);}};$W.extend($W.extend($W._M.move.prototype,$W._M.base.prototype),{setup:function(){this.originalLeft=parseFloat($W._H.getStyle(this.element,"left")||0);this.originalTop=parseFloat($W._H.getStyle(this.element,"top")||0);if(this.options.mode=="absolute"){this.options.x=this.options.x-this.originalLeft;this.options.y=this.options.y-this.originalTop;}},update:function(_23){$W._H.setStyle(this.element,{left:this.options.x*_23+this.originalLeft+"px",top:this.options.y*_23+this.originalTop+"px"});}});$W._M.resize=function(_24,_25){["WebSquare.effect.resize"];try{this.element=_24;var _26=$W.extend({width:null,height:null,fromLeft:true,fromTop:true,mode:"delta"},_25||{});$W._M.effectManager.add(this,_26);}catch(e){$e(e);}};$W.extend($W.extend($W._M.resize.prototype,$W._M.base.prototype),{setup:function(){var _27=$W._H.getStyle(this.element,"left");_27=_27==="auto"?"0":_27;var top=$W._H.getStyle(this.element,"top");top=top==="auto"?"0":top;this.originalLeft=parseFloat(_27||0);this.originalTop=parseFloat(top||0);this.originalWidth=parseFloat($W._H.getSize(this.element,"width")||0);this.originalHeight=parseFloat($W._H.getSize(this.element,"height")||0);if(this.options.mode=="absolute"){if(this.options.width!=null){this.options.width=(this.options.width-this.originalWidth);}if(this.options.height!=null){this.options.height=(this.options.height-this.originalHeight);}}},update:function(_29){if(this.options.width!=null){this.element.style.width=(this.options.width*_29+this.originalWidth)+"px";if(!this.options.fromLeft){$W._H.setStyle(this.element,{left:(-1*this.options.width*_29+this.originalLeft)+"px"});}}if(this.options.height!=null){this.element.style.height=(this.options.height*_29+this.originalHeight)+"px";if(!this.options.fromTop){$W._H.setStyle(this.element,{top:(-1*this.options.height*_29+this.originalTop)+"px"});}}}});$W._M.scale=function(_2a,_2b){["WebSquare.effect.scale"];try{this.element=_2a;var _2c=$W.extend({scaleX:true,scaleY:true,scaleFromCenter:false,scaleFromEnd:false,scaleFrom:100,scaleTo:_2b},arguments[2]||{});$W._M.effectManager.add(this,_2c);}catch(e){$e(e);}};$W.extend($W.extend($W._M.scale.prototype,$W._M.base.prototype),{setup:function(){this.elementPositioning=$W._H.getStyle(this.element,"position");this.originalTop=parseInt(this.element.style.top,10);this.originalLeft=parseInt(this.element.style.left,10);this.factor=(this.options.scaleTo-this.options.scaleFrom)/100;this.dims=null;this.dims=[parseInt(this.element.style.height,10),parseInt(this.element.style.width,10)];},update:function(_2d){var _2e=(this.options.scaleFrom/100)+(this.factor*_2d);this.setDimensions(this.dims[0]*_2e,this.dims[1]*_2e);},setDimensions:function(_2f,_30){var d={};if(this.options.scaleX){d.width=_30+"px";}if(this.options.scaleY){d.height=_2f+"px";}if(this.options.scaleFromCenter){var _32=(_2f-this.dims[0])/2;var _33=(_30-this.dims[1])/2;if(this.options.scaleY){d.top=this.originalTop-_32+"px";}if(this.options.scaleX){d.left=this.originalLeft-_33+"px";}}if(this.options.scaleFromEnd){var _32=(_2f-this.dims[0]);var _33=(_30-this.dims[1]);if(this.options.scaleY){d.top=parseInt(this.originalTop-_32,10)+"px";}if(this.options.scaleX){d.left=parseInt(this.originalLeft-_33,10)+"px";}}$W._H.setStyle(this.element,d);}});$W._M.pathAnimation=function(_34){["WebSquare.effect.pathAnimation"];try{this.element=_34;if(arguments.length<2){return;}this.fromOptions=$W.extend({pointList:[]},arguments[1]||{});this.toOptions=$W.extend({pointList:[]},arguments[2]||{});var _35=$W.extend({id:"",graphicUtil:null},arguments[3]||{});$W._M.effectManager.add(this,_35);}catch(e){$e(e);}};$W.extend($W.extend($W._M.pathAnimation.prototype,$W._M.base.prototype),{setup:function(){var _36=this.fromOptions.pointList.length;var _37=this.toOptions.pointList.length;this.pointLength=Math.min(_36,_37);this.updatePointList=new Array(this.pointLength);for(var i=0;i<this.pointLength;i++){this.updatePointList[i]=new $W.point2d(0,0);}},update:function(pos){for(var i=0;i<this.pointLength;i++){this.updatePointList[i].x=this.fromOptions.pointList[i].x+pos*(this.toOptions.pointList[i].x-this.fromOptions.pointList[i].x);this.updatePointList[i].y=this.fromOptions.pointList[i].y+pos*(this.toOptions.pointList[i].y-this.fromOptions.pointList[i].y);}this.options.graphicUtil.drawToolkit.modifyPath(this.options.id,{pointList:this.updatePointList,closeFlag:false});},finish:function(){}});$W._M.rectAnimation=function(_3b){["WebSquare.effect.rectAnimation"];try{this.element=_3b;if(arguments.length<2){return;}this.fromOptions=$W.extend({},arguments[1]||{});this.toOptions=$W.extend({},arguments[2]||{});var _3c=$W.extend({id:"",graphicUtil:null},arguments[3]||{});$W._M.effectManager.add(this,_3c);}catch(e){$e(e);}};$W.extend($W.extend($W._M.rectAnimation.prototype,$W._M.base.prototype),{setup:function(){if(this.fromOptions.x!=null&&this.toOptions.x!=null){this.modifyX=true;}if(this.fromOptions.y!=null&&this.toOptions.y!=null){this.modifyY=true;}if(this.fromOptions.width!=null&&this.toOptions.width!=null){this.modifyWidth=true;}if(this.fromOptions.height!=null&&this.toOptions.height!=null){this.modifyHeight=true;}},update:function(pos){var x=this.fromOptions.x+pos*(this.toOptions.x-this.fromOptions.x);var y=this.fromOptions.y+pos*(this.toOptions.y-this.fromOptions.y);var _40=this.fromOptions.width+pos*(this.toOptions.width-this.fromOptions.width);var _41=this.fromOptions.height+pos*(this.toOptions.height-this.fromOptions.height);if(this.options.svg3D){var _42=(this.options.inverse?_41:_40)/3;var _43=[{x:x,y:y},{x:x+_42,y:y-_42},{x:x+_42+_40,y:y-_42},{x:x+_40,y:y}];this.options.graphicUtil.drawToolkit.modifyPath(this.options.id+"_upper",{pointList:_43,closeFlag:true});var _44=[{x:x+_40,y:y},{x:x+_40+_42,y:y-_42},{x:x+_40+_42,y:y+_41-_42},{x:x+_40,y:y+_41}];this.options.graphicUtil.drawToolkit.modifyPath(this.options.id+"_right",{pointList:_44,closeFlag:true});}this.options.graphicUtil.drawToolkit.modifyRectangle(this.options.id,{x:this.modifyX?x:null,y:this.modifyY?y:null,width:this.modifyWidth?_40:null,height:this.modifyHeight?_41:null});},finish:function(){}});$W._M.arcAnimation=function(_45){["WebSquare.effect.arcAnimation"];try{this.element=_45;if(arguments.length<2){return;}this.fromOptions=$W.extend({},arguments[1]||{});this.toOptions=$W.extend({},arguments[2]||{});var _46=$W.extend({id:"",graphicUtil:null},arguments[3]||{});$W._M.effectManager.add(this,_46);}catch(e){$e(e);}};$W.extend($W.extend($W._M.arcAnimation.prototype,$W._M.base.prototype),{setup:function(){if(this.fromOptions.centerX!=null&&this.toOptions.centerX!=null&&this.fromOptions.centerY!=null&&this.toOptions.centerY!=null&&this.fromOptions.radius!=null&&this.toOptions.radius!=null&&this.fromOptions.startAngle!=null&&this.fromOptions.endAngle!=null&&this.toOptions.startAngle!=null&&this.toOptions.endAngle!=null){this.modify=true;}this.movingVector=new $W.point2d(0,0);this.center=new $W.point2d(0,0);},update:function(pos){if(this.modify){this.options.graphicUtil.drawToolkit.modifyArc(this.options.id,{centerX:this.fromOptions.centerX+pos*(this.toOptions.centerX-this.fromOptions.centerX),centerY:this.fromOptions.centerY+pos*(this.toOptions.centerY-this.fromOptions.centerY),radius:this.fromOptions.radius+pos*(this.toOptions.radius-this.fromOptions.radius),startAngle:this.fromOptions.startAngle+pos*(this.toOptions.startAngle-this.fromOptions.startAngle),endAngle:this.fromOptions.endAngle+pos*(this.toOptions.endAngle-this.fromOptions.endAngle)});}},finish:function(){}});$W._M.blindDown=function(_48){["WebSquare.effect.blindDown"];try{this.element=_48;$W._H.setStyle(this.element,{display:"none"});var _49=$W.extend({},arguments[1]||{});$W._M.effectManager.add(this,_49);}catch(e){$e(e);}};$W.extend($W.extend($W._M.blindDown.prototype,$W._M.base.prototype),{setup:function(){this.originalHeight=parseInt(this.element.style.height,10);$W._H.setStyle(this.element,{height:0,overflow:"hidden",display:"block"});},update:function(pos){this.element.style.height=this.originalHeight*pos;},finish:function(){}});$W._M.blindUp=function(_4b){["WebSquare.effect.blindUp"];try{this.element=_4b;$W._H.setStyle(this.element,{display:"none"});var _4c=$W.extend({},arguments[1]||{});$W._M.effectManager.add(this,_4c);}catch(e){$e(e);}};$W.extend($W.extend($W._M.blindUp.prototype,$W._M.base.prototype),{setup:function(){this.originalHeight=parseInt(this.element.style.height,10);$W._H.setStyle(this.element,{overflow:"hidden",display:"block"});},update:function(pos){$W._H.setStyle(this.element,{height:this.originalHeight*(1-pos)});},finish:function(){}});$W._M.slide=function(_4e){["WebSquare.effect.slide"];try{this.element=_4e;$W._H.setStyle(this.element,{display:"none"});var _4f=$W.extend({direction:"down"},arguments[1]||{});$W._M.effectManager.add(this,_4f);}catch(e){$e(e);}};$W.extend($W.extend($W._M.slide.prototype,$W._M.base.prototype),{setup:function(){this.originalLeft=parseInt(this.element.style.left,10);this.originalTop=parseInt(this.element.style.top,10);this.originalWidth=parseInt(this.element.style.width,10);this.originalHeight=parseInt(this.element.style.height,10);$W._H.setStyle(this.element,{display:"block"});},update:function(pos){switch(this.options.direction){case "down":this.element.style.top=this.originalTop+this.originalHeight*(-1+pos)+"px";break;case "up":this.element.style.top=this.originalTop+this.originalHeight*(1-pos)+"px";break;case "left":this.element.style.left=this.originalLeft+this.originalWidth*(1-pos)+"px";break;case "right":this.element.style.left=this.originalLeft+this.originalWidth*(-1+pos)+"px";break;}},finish:function(){}});$W._M.opacity=function(_51){["WebSquare.effect.opacity"];try{this.element=_51;var _52=$W.extend({opacity:0},arguments[1]||{});$W._M.effectManager.add(this,_52);}catch(e){$e(e);}};$W.extend($W.extend($W._M.opacity.prototype,$W._M.base.prototype),{setup:function(){},update:function(pos){var _54=1*(1-pos)+this.options.opacity*pos;$W._H.setOpacity(this.element,_54);},finish:function(){}});$W._M.newEffect=function(_55){["WebSquare.effect.newEffect"];try{this.element=_55;var _56=$W.extend({},arguments[1]||{});$W._M.effectManager.add(this,_56);}catch(e){$e(e);}};$W.extend($W.extend($W._M.newEffect.prototype,$W._M.base.prototype),{setup:function(){},update:function(pos){},finish:function(){}});$W._M.animate=function(_58,_59,_5a,_5b){["WebSquare.effect.animate"];try{this.options=$W.extend({mode:"absolute",transition:null},_5b||{});var _5c=function(pos){for(var _5e in _59){var _5f=_59[_5e];var _60=_5a[_5e];var _61="";switch(_5e){case "left":case "top":case "width":case "height":_5f=parseInt(_5f,10);_60=parseInt(_60,10);_61=_5f+(_60-_5f)*pos;_58.style[_5e]=_61+"px";break;case "scrollLeft":case "scrollTop":_5f=parseInt(_5f,10);_60=parseInt(_60,10);_61=_5f+(_60-_5f)*pos;_58[_5e]=_61+"px";break;case "opacity":_5f=parseInt(_5f,10);_60=parseInt(_60,10);_61=_5f+(_60-_5f)*pos;$W._H.setOpacity(_58,_61);break;case "color":break;}}};var _62=new $W.thread(_58.id,_5c);_62.run();}catch(e){$W.exception.printStackTrace(e);}};;WebSquare.effect=$W._M;$W.threadManager=function(){this.threadHash={};};$W.threadManager.prototype.add=function(_1){if(this.threadHash[_1.id]){this.threadHash[_1.id].abort();}this.threadHash[_1.id]=_1;};$W.threadManager.prototype.remove=function(_2){this.threadHash[_2.id]=null;};$W.threadManager=new $W.threadManager();$W.thread=function(id,_4,_5){this.id=id;this.callback=_4;this.options=$W.extend({delay:0,duration:1000,fps:60,mode:"",context:this},_5||{});this.timeState="abort";this.interval=null;};$W.thread.prototype.run=function(){$W.threadManager.add(this);var _6=new Date().getTime();this.startTime=this.options.delay+_6;this.finishTime=this.startTime+this.options.duration;this.currentFrame=0;var _7=this;this.interval=setInterval(function(){var _8=new Date().getTime();_7.runTime(_8);},10);this.timeState="run";};$W.thread.prototype.abort=function(){clearInterval(this.interval);this.interval=null;this.timeState="abort";$W.threadManager.remove(this);};$W.thread.prototype.sleep=function(){};$W.thread.prototype.runTime=function(_9){if(_9>=this.startTime){if(_9>=this.finishTime){this.update(1);this.abort();return;}var _a=(_9-this.startTime)/(this.finishTime-this.startTime);var _b=Math.round(_a*this.options.fps*this.options.duration/1000);if(_b>this.currentFrame){this.update(_a);this.currentFrame=_b;}}};$W.thread.prototype.update=function(_c){this.callback.call(this.options.context,_c);};imports("engine/domIterator.js");$W._c={};$W._c.clear=function(){$l(" WebSquare memory leak initialize start ");for(var k in window._funs){window._funs[k]=null;}for(var i in window._objs){if(typeof window._objs[i]._closures!="undefined"){for(var j in window._objs[i]._closures){try{window._objs[i].detachEvent(window._objs[i]._closures[j].name,window._objs[i]._closures[j]);window._objs[i]._closures[j]=null;window._funs[j]=null;}catch(e){}}window._objs[i]._closures=null;window._objs[i]=null;}}window._objs=null;$l(" WebSquare memory leak initialize end ");};$W._c.cleanObj=function(_4){try{for(var i in _4){$W._c.cleanObj(_4[i]);}}catch(e){}delete _4;};$W._c.clearElement=function(_6){var _7=null;var i=0;var _9=0;var _a="";_7=_6.attributes;if(_7){_9=_7.length;for(i=0;i<_9;i++){_a=_7[i].name;if(typeof _6[_a]=="function"){_6[_a]=null;}}}_7=_6.childNodes;if(_7){_9=_7.length;for(i=0;i<_9;i++){this.clearElement(_6.childNodes[i]);}}};$W._c.applyParentObject=function(_b,_c){["WebSquare.event.applyParentObject"];try{return _c.apply(_b,arguments);}catch(e){$W.exception.printStackTrace(e);}};$W._c.addListener=function(_d,_e,_f,_10){["WebSquare.event.addListener"];$W.addListenerCnt++;try{_10=_10||false;if(_d.attachEvent){try{if(_d!=window){if(_e=="onload"){$W.onload=_f;}else{_d.attachEvent(_e,_f.closure(_d,_e));}}else{_d.attachEvent(_e,_f);}}catch(e){$W.exception.printStackTrace(e);}}else{if(_d.addEventListener){try{if((typeof _e!="undefined")&&(_e!=null)&&(_e!="")){if(_e.startsWith("on")){_d.addEventListener(_e.slice(2),_f,_10);}else{_d.addEventListener(_e,_f,_10);}}}catch(e){$W.exception.printStackTrace(e);}}}}catch(e){$l("ERROR ["+_d.id+"] ["+_e+"] at WebSquare.event.addListener");$W.exception.printStackTrace(e);}};$W._c.removeListener=function(_11,_12,_13,_14){["WebSquare.event.removeListener"];try{_14=_14||false;if(_11.detachEvent){try{if(_11!=window){_11.detachEvent(_12,_13.closure(_11,_12));}else{_11.detachEvent(_12,_13);}}catch(e){$W.exception.printStackTrace(e);}}else{if(_11.removeEventListener){try{_11.removeEventListener(_12.slice(2),_13,_14);}catch(e){$W.exception.printStackTrace(e);}}}}catch(e){$W.exception.printStackTrace(e);}};$W._c.addEvents=function(o,_16,_17){["WebSquare.event.addActions"];var _18=[];try{if(typeof _16!="undefined"&&_16!=null){if(typeof _17!="undefined"){var _19={};for(var i=0;i<_17.length;i++){_19[_17[i]]="";}var _1b=[];for(var i=0;i<_16.length;i++){if(typeof _19[_16[i].name]=="undefined"){_18.push(_16[i]);}else{_1b.push(_16[i]);}}_16=_1b;}var _1c=undefined;try{_1c=$W._N.getComponentById(o.id);}catch(e){$W.exception.printStackTrace(e);}if(typeof _1c!="undefined"){for(var i=0;i<_16.length;i++){switch(_16[i].action){case "script":if(typeof _16[i].param.handler=="string"){eval("var obfuscator_eventHandler = "+_16[i].param.handler);_16[i].param.handler=obfuscator_eventHandler;}if(typeof _16[i].param.handler=="function"){var obfuscator_obj=_1c;var obfuscator_xmlEvents=_16;eval("var obfuscator_event"+i+" = obfuscator_xmlEvents[i].name;");eval("var applyEvent"+i+" = function(e){ WebSquare.event.fireEvent.call(obfuscator_obj, obfuscator_obj, obfuscator_event"+i+" , e );};");$W._c.addListener(o,_16[i].name,eval("applyEvent"+i),false);}break;case "send":case "dispatch":case "refresh":case "setValue":case "prompt":case "reset":case "rebuild":case "recalculate":case "revalidate":case "setfocus":case "load":case "toggle":case "insert":case "copy":case "delete":case "setindex":case "upload":default:var obfuscator_obj=_1c;var obfuscator_event=_16[i].name;eval("var applyEvent"+i+" = function(e){ WebSquare.event.fireEvent.call(obfuscator_obj, obfuscator_obj, obfuscator_event , e);};");$W._c.addListener(o,_16[i].name,eval("applyEvent"+i),false);break;}}if(typeof _1c.userEventList=="object"&&typeof _1c.userEventList.length=="number"){_1c.userEventList=_1c.userEventList.concat(_16);}else{_1c.userEventList=_16;}}else{for(var i=0;i<_16.length;i++){switch(_16[i].action){case "script":if(typeof _16[i].param.handler=="string"){eval("var obfuscator_eventHandler = "+_16[i].param.handler);_16[i].param.handler=obfuscator_eventHandler;}if(typeof _16[i].param.handler=="function"){$W._c.addListener(o,_16[i].name,_16[i].param.handler);}break;case "send":$W._c.addListener(o,_16[i].name,function(){$W._J.executeSubmission(_16[i].param.submission);});break;case "refresh":var _1d=_16[i].param.model;var _1e=$W._J.getModelByID(_1d);if(_1e!=null){$W._c.addListener(o,_16[i].name,function(){_1e.refresh();});}break;case "setValue":if(typeof _16[i].param.xpath!="undefined"){var _1f=function(){var _20="";if(typeof _16[i].param.value!="undefined"){_20=$W._J.getInstanceValue(_16[i].param.value);}else{if(typeof _16[i].param._text!="undefined"){_20=_text;}}var _21=new $W._e.WebSquareSetValueAction(null,null,_16[i].param.xpath,_20);_21.activate();};$W._c.addListener(o,_16[i].name,_1f);}break;case "upload":var _1f=function(){var _22=new $W._e.WebSquareUploadAction(_16[i].param);_22.activate();};$W._c.addListener(o,_16[i].name,_1f);break;case "dispatch":case "prompt":case "reset":case "rebuild":case "recalculate":case "revalidate":case "setfocus":case "load":case "toggle":case "insert":case "copy":case "delete":case "setindex":default:$W.logger.printLog("[WebSquare.event.addEvents]"+$W._m.getMessage("E_event_AddEventError",_16[i].action));break;}}}}}catch(e){$W.exception.printStackTrace(e);}return _18;};$W._c.addUserEvents=function(o,obfuscator_Actions,_24){["WebSquare.event.addUserEvents"];var _25=[];try{if(obfuscator_Actions){if(typeof _24!="undefined"){var _26={};for(var i=0;i<_24.length;i++){_26[_24[i]]="";}var _28=[];for(var i=0;i<obfuscator_Actions.length;i++){if(typeof _26[obfuscator_Actions[i].name]=="undefined"){_25.push(obfuscator_Actions[i]);}else{_28.push(obfuscator_Actions[i]);}}obfuscator_Actions=_28;}if(typeof o.userEventList=="object"&&typeof o.userEventList.length=="number"){o.userEventList=o.userEventList.concat(obfuscator_Actions);}else{o.userEventList=obfuscator_Actions;}}}catch(e){$W.exception.printStackTrace(e);}return _25;};$W._c.fireEvent=function(o,ev){["WebSquare.event.fireEvent"];try{var _2b=o.userEventList;if(o.options&&o.options.parentEvent&&(o!=o.options.parentEvent)){o.options.parentEvent.childFiredEvent.apply(o.options.parentEvent,arguments);return;}if(_2b){var _2c=null;var ret=undefined;for(var i=0;i<_2b.length;i++){if(typeof _2b[i].name!="undefined"&&_2b[i].name==ev.toLowerCase()){switch(_2b[i].action){case "script":if(typeof _2b[i].param.handler=="string"){var _2f=_2b[i].param.handler;try{if(o.scope_obj){eval("WebSquare.scope_obj="+o.scope_obj.id+";\n with(WebSquare.util.getComponentById('"+o.scope_obj.id+"').scope){\n if(typeof "+_2b[i].param.handler+" != \"undefined\"){\n var udc_obj = "+o.scope_obj.id+"; \n var obfuscator_eventHandler = "+_2b[i].param.handler+"\n}\nWebSquare.scope_obj=null;\n}");}else{eval("if(typeof "+_2b[i].param.handler+" != \"undefined\"){var obfuscator_eventHandler = "+_2b[i].param.handler+"}");}}catch(e){_2b[i].param.handler=_2f;$W.logger.printLog("Event error ["+o.id+",ev:"+_2b[i].name+"] : "+e.message);break;}}else{obfuscator_eventHandler=_2b[i].param.handler;}if(typeof obfuscator_eventHandler=="function"){if(_2c==null){_2c=[];if(arguments.length>2){for(var j=2;j<arguments.length;j++){_2c.push(arguments[j]);}}}if(!_2b[i].disabled){if(o.scope_obj){ret=(function(_31,_32,_33){$W.scope_obj=_32.scope_obj.id;var _34;with(_32.scope_obj.scope){_34=_31.apply(_32,_33);}$W.scope_obj=null;return _34;})(obfuscator_eventHandler,o,_2c);}else{ret=obfuscator_eventHandler.apply(o,_2c);}}}else{$W.logger.printLog("Event error ["+o.id+",ev:"+_2b[i].name+"] : "+_2b[i].param.handler+" is not a function");}break;case "send":$W._J.executeSubmission(_2b[i].param.submission);break;case "dispatch":var _35=parseInt(_2b[i].param.delay);if(!isNaN(_35)){setTimeout("WebSquare.event.fireEvent( WebSquare.core.getComponentById( '"+_2b[i].param.target+"'), '"+_2b[i].param.name+"');",_35);}else{$W._c.fireEvent($W._N.getComponentById(_2b[i].param.target),_2b[i].param.name);}break;case "refresh":var _36=_2b[i].param.model;var _37=$W._J.getModelByID(_36);if(_37!=null){_37.refresh();}break;case "setValue":if(typeof _2b[i].param.xpath!="undefined"){var _38="";if(typeof _2b[i].param.value!="undefined"){_38=$W._J.getInstanceValue(_2b[i].param.value);}else{if(typeof _2b[i].param._text!="undefined"){_38=_text;}}var _39=new $W._e.WebSquareSetValueAction(null,null,_2b[i].param.xpath,_38);_39.activate();}break;case "prompt":break;case "reset":break;case "rebuild":break;case "recalculate":break;case "revalidate":break;case "setfocus":break;case "load":break;case "toggle":break;case "insert":break;case "copy":break;case "delete":break;case "setindex":break;case "upload":var _3a=new $W._e.WebSquareUploadAction(_2b[i].param);_3a.activate();break;case "popup":var _3b=new $W._e.WebSquarePopupAction(_2b[i].param);_3b.activate();break;default:break;}}}if(typeof ret!="undefined"){return ret;}}}catch(e){$W.exception.printStackTrace(e,null,o);}};$W._c.fireSystemEvent=function(o,_3d,_3e){["WebSquare.event.fireSystemEvent"];try{if(!$W._G.isIE()&&"createEvent" in document){if(_3d.slice(0,2)=="on"){_3d=_3d.substring(2,_3d.length);}var ev=document.createEvent("HTMLEvents");ev.initEvent(_3d,true,true);for(var key in _3e){ev[key]=_3e[key];}o.render.dispatchEvent(ev);}else{if("createEventObject" in document){if(_3d.slice(0,2)!="on"){_3d="on"+_3d;}var ev=document.createEventObject();ev.eventType=_3d;ev.cancelBubble=true;ev.returnValue=true;for(var key in _3e){ev[key]=_3e[key];}o.render.fireEvent(_3d,ev);}}}catch(e){$W.exception.printStackTrace(e);}};$W._c.getTarget=function(e){["WebSquare.event.getTarget"];try{if(e==null){return null;}if(e.target){return e.target;}else{if(e.srcElement){return e.srcElement;}}return null;}catch(e){$W.exception.printStackTrace(e);}};$W._c.getRelatedTarget=function(e){["WebSquare.event.getRelatedTarget"];try{if(e==null){return null;}else{if(e.relatedTarget){return e.relatedTarget;}else{if(window.event!=undefined&&event.fromElement){return e.fromElement===$W._c.getTarget(e)?e.toElement:e.fromElement;}}}return null;}catch(e){$W.exception.printStackTrace(e);}};$W._c.getClientX=function(e){["WebSquare.event.getClientX"];try{if($W._N.browserCheck.ie){return event.clientX;}else{return e.clientX;}}catch(e){$W.exception.printStackTrace(e);}};$W._c.getClientY=function(e){["WebSquare.event.getClientY"];try{if($W._N.browserCheck.ie){return event.clientY;}else{return e.clientY;}}catch(e){$W.exception.printStackTrace(e);}};$W._c.getOffsetX=function(ev){["WebSquare.event.getOffsetX"];try{if($W._N.browserCheck.ie){return event.offsetX;}else{var e=ev.target;var _47=$W._H.getAbsoluteLeft(e);return ev.pageX-_47;}}catch(e){$W.exception.printStackTrace(e);}};$W._c.getOffsetY=function(ev){["WebSquare.event.getOffsetY"];try{if($W._N.browserCheck.ie){return event.offsetY;}else{var e=ev.target;var _4a=$W._H.getAbsoluteTop(e);return ev.pageY-_4a;}}catch(e){$W.exception.printStackTrace(e);}};$W._c.getScreenX=function(e){["WebSquare.event.getScreenX"];try{if($W._N.browserCheck.ie){return event.screenX;}else{return e.screenX;}}catch(e){$W.exception.printStackTrace(e);}};$W._c.getScreenY=function(e){["WebSquare.event.getScreenY"];try{if($W._N.browserCheck.ie){return event.screenY;}else{return e.screenY;}}catch(e){$W.exception.printStackTrace(e);}};$W._c.getMouseX=function(e){["WebSquare.event.getClientX"];try{e=e||event;var _4e=e.clientX;_4e+=$W.document.documentElement.scrollLeft||$W.document.body.scrollLeft;if($W._G.isMobile()){_4e=e.touches.item(0).pageX;}return _4e;}catch(e){$W.exception.printStackTrace(e);}};$W._c.getMouseY=function(e){["WebSquare.event.getClientX"];try{e=e||event;var _50=e.clientY;_50+=$W.document.documentElement.scrollTop||$W.document.body.scrollTop;if($W._G.isMobile()){_50=e.touches.item(0).pageY;}return _50;}catch(e){$W.exception.printStackTrace(e);}};$W._c.stopPropagation=function(e){["WebSquare.event.stopPropagation"];try{if(e.stopPropagation){e.stopPropagation();}else{e.cancelBubble=true;}}catch(e){$W.exception.printStackTrace(e);}};$W._c.preventDefault=function(e){["WebSquare.event.preventDefault"];try{if(e.preventDefault){e.preventDefault();}else{e.returnValue=false;}}catch(e){$W.exception.printStackTrace(e);}};$W._c.stopEvent=function(e){["WebSquare.event.stopEvent"];try{$W._c.stopPropagation(e);$W._c.preventDefault(e);}catch(e){$W.exception.printStackTrace(e);}};$W._c.bindAsEventListener=function(_54,_55){return function(e){_55.apply(_54,[e||window.event].concat(Array.prototype.slice.call(arguments,2)));};};$W._z=function(){this.cache=null;};$W._z.prototype.addListener=function(_57,_58,_59,_5a){_5a=_5a||null;if(_57.addEventListener){_57.addEventListener(_58.slice(2),_59,_5a);}else{if(_57.attachEvent){_57.attachEvent(_58,_59);}}this.setCache(_57,_58,_59,_5a);};$W._z.prototype.removeListener=function(_5b,_5c,_5d,_5e){_5e=_5e||null;if(_5b.removeEventListener){_5b.removeEventListener(_5c.slice(2),_5d,_5e);}else{if(_5b.detachEvent){_5b.detachEvent(_5c,_5d);}}};$W._z.prototype.setCache=function(_5f,_60,_61,_62){if(!this.cache){this.cache=[];}this.cache.push([_5f,_60,_61,_62]);};$W._z.prototype.clearCache=function(){if(!this.cache){return;}for(var i=0;i<this.cache.length;i++){this.removeListener.apply(this,this.cache[i]);this.cache[i][0]=null;}this.cache=null;};$W._z.prototype.bind=function(_64,_65){var _66=[];for(var i=2;i<arguments.length;i++){_66.push(arguments[i]);}return function(){_65.apply(_64,_66);};};$W._z.prototype.bindAsEventListener=function(_68,_69){var _6a=[];for(var i=2;i<arguments.length;i++){_6a.push(arguments[i]);}return function(e){_69.apply(_68,[e||window.event].concat(_6a));};};$W._z.prototype.clearElement=function(_6d){var _6e=null;var i=0;var _70=0;var _71="";_6e=_6d.attributes;if(_6e){_70=_6e.length;for(i=0;i<_70;i++){_71=_6e[i].name;if(typeof _6d[_71]=="function"){_6d[_71]=null;}}}};$W._z.prototype.getTarget=function(e,_73){_73=_73||"main";var _74=$W._c.getTarget(e);while(_74){var _75=_74.getAttribute("catch");if(_75&&_75.indexOf(_73)>-1){break;}_74=_74.parentNode;}return _74;};$W._z.prototype.getTargetIterator=function(e,_77){var _78=$W._c.getTarget(e);return new $W.targetIterator(_78,_77);};$W._z.prototype.getChildIterator=function(_79){return new $W.childIterator(_79);};$W._z.prototype.addEvents=function(o,_7b,_7c){var _7d=[];try{if(typeof _7b!="undefined"&&_7b!=null){if(typeof _7c!="undefined"){var _7e={};for(var i=0;i<_7c.length;i++){_7e[_7c[i]]="";}var _80=[];for(var i=0;i<_7b.length;i++){if(typeof _7e[_7b[i].name]=="undefined"){_7d.push(_7b[i]);}else{_80.push(_7b[i]);}}_7b=_80;}var _81=undefined;try{_81=$W._N.getComponentById(o.id);}catch(e){}if(typeof _81!="undefined"){for(var i=0;i<_7b.length;i++){switch(_7b[i].action){case "script":if(typeof _7b[i].param.handler=="string"){eval("var obfuscator_eventHandler = "+_7b[i].param.handler);_7b[i].param.handler=obfuscator_eventHandler;}if(typeof _7b[i].param.handler=="function"){var obfuscator_obj=_81;var obfuscator_xmlEvents=_7b;eval("var obfuscator_event"+i+" = obfuscator_xmlEvents[i].name;");eval("var applyEvent"+i+" = function(e){ WebSquare.event.fireEvent.call(obfuscator_obj, obfuscator_obj, obfuscator_event"+i+" , e );};");this.addListener(o,_7b[i].name,eval("applyEvent"+i),false);}break;case "send":case "dispatch":case "refresh":case "setValue":case "prompt":case "reset":case "rebuild":case "recalculate":case "revalidate":case "setfocus":case "load":case "toggle":case "insert":case "copy":case "delete":case "setindex":case "upload":default:var obfuscator_obj=_81;var obfuscator_event=_7b[i].name;eval("var applyEvent"+i+" = function(e){ WebSquare.event.fireEvent.call(obfuscator_obj, obfuscator_obj, obfuscator_event , e);};");this.addListener(o,_7b[i].name,eval("applyEvent"+i),false);break;}}if(typeof _81.userEventList=="object"&&typeof _81.userEventList.length=="number"){_81.userEventList.concat(_7b);}else{_81.userEventList=_7b;}}else{for(var i=0;i<_7b.length;i++){switch(_7b[i].action){case "script":if(typeof _7b[i].param.handler=="string"){eval("var obfuscator_eventHandler = "+_7b[i].param.handler);_7b[i].param.handler=obfuscator_eventHandler;}if(typeof _7b[i].param.handler=="function"){this.addListener(o,_7b[i].name,_7b[i].param.handler);}break;case "send":this.addListener(o,_7b[i].name,function(){$W._J.executeSubmission(_7b[i].param.submission);});break;case "refresh":var _82=_7b[i].param.model;var _83=$W._J.getModelByID(_82);if(_83!=null){this.addListener(o,_7b[i].name,function(){_83.refresh();});}break;case "setValue":if(typeof _7b[i].param.xpath!="undefined"){var _84=function(){var _85="";if(typeof _7b[i].param.value!="undefined"){_85=$W._J.getInstanceValue(_7b[i].param.value);}else{if(typeof _7b[i].param._text!="undefined"){_85=_text;}}var _86=new $W._e.WebSquareSetValueAction(null,null,_7b[i].param.xpath,_85);_86.activate();};this.addListener(o,_7b[i].name,_84);}break;case "upload":var _84=function(){var _87=new $W._e.WebSquareUploadAction(_7b[i].param);_87.activate();};this.addListener(o,_7b[i].name,_84);break;case "dispatch":case "prompt":case "reset":case "rebuild":case "recalculate":case "revalidate":case "setfocus":case "load":case "toggle":case "insert":case "copy":case "delete":case "setindex":default:$W.logger.printLog("[WebSquare.event.addEvents]"+$W._m.getMessage("E_event_AddEventError",_7b[i].action));break;}}}}}catch(e){$W.exception.printStackTrace(e);}return _7d;};$W._c.addEvent=function(_88,_89,_8a){if(!_8a.$$guid){_8a.$$guid=$W._c.addEvent.guid++;}if(!_88.events){_88.events={};}var _8b=_88.events[_89];if(!_8b){_8b=_88.events[_89]={};if(_88["on"+_89]){_8b[0]=_88["on"+_89];}}_8b[_8a.$$guid]=_8a;_88["on"+_89]=$W._c.handleEvent;};$W._c.removeEvent=function(_8c,_8d,_8e){if(_8c.events&&_8c.events[_8d]){delete _8c.events[_8d][_8e.$$guid];}};$W._c.handleEvent=function(_8f){var _90=true;_8f=_8f||window.event;var _91=this.events[_8f.type];for(var i in _91){this.$$handleEvent=_91[i];if(this.$$handleEvent(_8f)===false){_90=false;}}return _90;};$W._c.fixEvent=function(_93){_93.preventDefault=$W._c.fixEvent.preventDefault;_93.stopPropagation=$W._c.fixEvent.stopPropagation;};$W._c.fixEvent.preventDefault=function(){this.returnValue=false;};$W._c.fixEvent.stopPropagation=function(){this.cancelBubble=true;};$W._c.isEventSupported=function(_94,_95){["WebSquare.event.isEventSupported"];var _96=false;try{if(!_94){return false;}var _97=_95;if(typeof _97==="string"&&(_97.charAt(0)!=="o"||_97.charAt(1)!=="n")){_97="on"+_97;}_96=_97 in _94;if(!_96){if(_94.setAttribute&&_94.removeAttribute){_94.setAttribute(_97,"");_96=(typeof _94[_97]==="function");if(typeof _94[_97]!=="undefined"){_94[_97]=undefined;}_94.removeAttribute(_97);}}}catch(e){$W.exception.printStackTrace(e);}return _96;};;WebSquare.event=$W._c;;WebSquare.event2=$W._z;$W._y={};$W._y.skinTag=$W.externalCSSURL.slice(0);$W._y.addImport=function(_1,_2){["WebSquare.skin.addImport"];try{if(typeof _1==="string"){var _3={};_3.href=$W._N.getURL(_1);_3.type="text/css";_3.rel="stylesheet";_1=_3;}var _4=false;for(var i in $W._y.skinTag){if(_1.href==$W._y.skinTag[i]){_4=true;break;}}if(_4&&$W._N.docType!="quirk"){}else{$W._y.skinTag.push(_1.href);if($W._N.getConfiguration("/WebSquare/stylesheet/@import")=="link"){if(_2==true){$W.cssManager.linkExternalCSS(_1);}else{$W.cssManager.linkControlCSS(_1);}}else{var _6=_1.href;var _7=$W._N.load(_6);if(_2==true){$W.cssManager.addExternalCSS(_7);}else{$W.cssManager.addControlCSS(_7);}}}}catch(e){$W.exception.printStackTrace(e);}};$W._y.parseCSS=function(_8){["WebSquare.skin.parseCss"];try{if($W._N.browserCheck.ie){var _9=$W.document.createStyleSheet();_9.cssText=_8;}else{if($W._N.browserCheck.opera){var _a=$W.document.createElementNS("http://www.w3.org/1999/xhtml","style");_a.appendChild(document.createTextNode(_8));$W.document.getElementsByTagName("head").item(0).appendChild(_a);}else{var _a=$W.document.createElementNS("http://www.w3.org/1999/xhtml","style");_a.appendChild(document.createTextNode(_8));$W.document.getElementsByTagName("head").item(0).appendChild(_a);}}}catch(e){$W.exception.printStackTrace(e);}};$W._y.importCSS=function(_b){["WebSquare.skin.importCSS"];try{var _c=$W._B.getElementsByTagName(_b.documentElement,"style",$W._N._XML_NAMESPACE.XHTML);var _d="";for(var i=0;i<_c.length;i++){var _f=_c[i];if(_f.nodeType==1){var _10=_f.childNodes;for(var j=0;j<_10.length;j++){var _12=_10[j];if(_12.nodeType==4||_12.nodeType==3){_d+=_12.nodeValue;}}}}if(_d.wq_trim()!=""){$W.cssManager.addInternalCSS(_d);}var _10=_b.childNodes;for(var i=0;i<_10.length;i++){var _f=_10[i];if(_f.nodeType==7&&_f.nodeName==="xml-stylesheet"){var _13=_f.data.wq_replaceAll("=","");var _14=_13.split("\"");_14.pop();var obj={};for(var j=0;j<_14.length;j+=2){obj[_14[j].wq_trim()]=_14[j+1];}if(obj.href){obj.href=$W._N.getURL(obj.href);}if(obj.type==undefined){obj.type="text/css";}if(obj.rel==undefined){obj.rel="stylesheet";}$W._y.addImport(obj,true);}}}catch(e){$W.exception.printStackTrace(e);}};$W._y.applyClass=function(obj,_17){["WebSquare.skin.applyClass"];try{obj.className=_17;}catch(e){}};$W._y.ClassStyleCache={};$W._y.makeTime=0;$W._y.makeClassStyle=function(_18){["WebSquare.skin.makeClassStyle"];var _19={};if(typeof _18=="undefined"||_18==null||_18==""){return _19;}if(typeof $W._y.ClassStyleCache[_18]!="undefined"&&$W._y.ClassStyleCache[_18]!=null){return $W._y.ClassStyleCache[_18];}try{var _1a=$W.document.styleSheets;if($W._N.browserCheck.ie){for(var i=_1a.length-1;i>=0;i--){var _1c=_1a[i];for(var j=0;j<_1c.rules.length;j++){var _1e=_1c.rules.item(j);if(typeof _1e.selectorText=="undefined"){continue;}var _1f=_1e.selectorText;var _20=_1f.lastIndexOf(".");if(_20>-1){var end=_1f.indexOf(" ",_20);if(end>-1){_1f=_1f.substring(_20+1,end);}else{_1f=_1f.substring(_20+1);}}if(_1f==_18){var _22=_1e.style.cssText.split(";");for(var k=0;k<_22.length;k++){var s=_22[k].split(":");if(s[1]!=null){if(s[1].indexOf("url")>=0){s[1]=s[1].wq_trim();if(s[1].startsWith("url")){var _25=s[1].substring(3).wq_trim();if(_25.charAt(0)=="("&&_25.charAt(_25.length-1)==")"){s[1]="url("+$W._N.getImageURL(_25.substring(1,_25.length-1))+")";}}}_19[(s[0].wq_trim()).capitalizeStyle()]=s[1].wq_trim();}}$W._y.ClassStyleCache[_18]=_19;break;}}}}else{if($W._N.browserCheck.opera){for(var i=_1a.length-1;i>=0;i--){var _1c=_1a[i];for(var j=0;j<_1c.cssRules.length;j++){var _1e=_1c.cssRules[j];if(typeof _1e.selectorText=="undefined"){continue;}var _1f=_1e.selectorText;var _20=_1f.lastIndexOf(".");if(_20>-1){var end=_1f.indexOf(" ",_20);if(end>-1){_1f=_1f.substring(_20+1,end);}else{_1f=_1f.substring(_20+1);}}if(_1f==_18){var _22=_1e.style.cssText.split(";");for(var k=0;k<_22.length;k++){var idx=_22[k].indexOf(":");if(idx>-1){var _27=_22[k].substring(0,idx);var _28=_22[k].substring(idx+1);_19[(_27.wq_trim()).capitalizeStyle()]=_28.wq_trim();}}$W._y.ClassStyleCache[_18]=_19;break;}}}}else{for(var i=_1a.length-1;i>=0;i--){var _1c=_1a[i];for(var j=0;j<_1c.cssRules.length;j++){var _1e=_1c.cssRules[j];if(typeof _1e.selectorText=="undefined"){continue;}var _1f=_1e.selectorText;var _20=_1f.lastIndexOf(".");if(_20>-1){var end=_1f.indexOf(" ",_20);if(end>-1){_1f=_1f.substring(_20+1,end);}else{_1f=_1f.substring(_20+1);}}_1f=_1f.toLowerCase();_18=_18.toLowerCase();if(_1f==_18){var _22=_1e.style.cssText.split(";");for(var k=0;k<_22.length;k++){var s=_22[k].split(":");if(s[1]!=null){if(s[1].indexOf("url")>=0){s[1]=s[1].wq_trim();if(s[1].startsWith("url")){if(s[1].indexOf("http")>=0){index=2;while(s[index]!=null){s[1]=s[1]+":"+s[index];index++;}}else{var _25=s[1].substring(3).wq_trim();if(_25.charAt(0)=="("&&_25.charAt(_25.length-1)==")"){s[1]="url("+$W._N.getImageURL(_25.substring(1,_25.length-1))+")";}}}}_19[(s[0].wq_trim()).capitalizeStyle()]=s[1].wq_trim();}}$W._y.ClassStyleCache[_18]=_19;break;}}}}}}catch(e){$W.exception.printStackTrace(e);}return _19;};$W._y.makeBackgroundImageUrl=function(_29){["WebSquare.skin.makeBackgroundImageUrl"];var _2a="";if(typeof _29=="undefined"||_29==null||_29==""){return "";}try{var _2b=$W.document.styleSheets;if($W._N.browserCheck.ie){for(var i=_2b.length-1;i>=0;i--){var _2d=_2b[i];for(var j=0;j<_2d.rules.length;j++){var _2f=_2d.rules.item(j);if(typeof _2f.selectorText=="undefined"){continue;}var _30=_2f.selectorText;var _31=_30.lastIndexOf(".");if(_31>-1){var end=_30.indexOf(" ",_31);if(end>-1){_30=_30.substring(_31+1,end);}else{_30=_30.substring(_31+1);}}if(_30==_29){var _33=_2f.style.cssText.split(";");for(var k=0;k<_33.length;k++){var s=_33[k].split(":");if(s[1]!=null&&(s[0].toUpperCase()=="BACKGROUND-IMAGE")){if(s[1].indexOf("url")>=0){s[1]=s[1].wq_trim();if(s[1].startsWith("url")){var _36=s[1].substring(3).wq_trim();if(_36.charAt(0)=="("&&_36.charAt(_36.length-1)==")"){s[1]=$W._N.getImageURL(_36.substring(1,_36.length-1));}}}_2a=s[1].wq_trim();}}break;}}}}else{if($W._N.browserCheck.opera){for(var i=_2b.length-1;i>=0;i--){var _2d=_2b[i];for(var j=0;j<_2d.cssRules.length;j++){var _2f=_2d.cssRules[j];if(typeof _2f.selectorText=="undefined"){continue;}var _30=_2f.selectorText;var _31=_30.lastIndexOf(".");if(_31>-1){var end=_30.indexOf(" ",_31);if(end>-1){_30=_30.substring(_31+1,end);}else{_30=_30.substring(_31+1);}}if(_30==_29){var _33=_2f.style.cssText.split(";");for(var k=0;k<_33.length;k++){var s=_33[k].split(":");var idx=_33[k].indexOf(":");if(idx>-1){var _38=_33[k].substring(0,idx);var _39=_33[k].substring(idx+1);if(_38.toUpperCase().wq_trim()=="BACKGROUND-IMAGE"){if(_39.indexOf("url")>=0){_39=_39.wq_trim();if(_39.startsWith("url")){var _36=_39.substring(3).wq_trim();_36=_36.replace(/"/g,"");if(_36.charAt(0)=="("&&_36.charAt(_36.length-1)==")"){var _3a=_36.lastIndexOf($W.baseURI);_3a+=$W.baseURI.length;_39=$W._N.getImageURL(_36.substring(_3a,_36.length-1));}}}_2a=_39;}}}break;}}}}else{for(var i=_2b.length-1;i>=0;i--){var _2d=_2b[i];for(var j=0;j<_2d.cssRules.length;j++){var _2f=_2d.cssRules[j];if(typeof _2f.selectorText=="undefined"){continue;}var _30=_2f.selectorText;var _31=_30.lastIndexOf(".");if(_31>-1){var end=_30.indexOf(" ",_31);if(end>-1){_30=_30.substring(_31+1,end);}else{_30=_30.substring(_31+1);}}_30=_30.toLowerCase();_29=_29.toLowerCase();if(_30==_29){var _33=_2f.style.cssText.split(";");for(var k=0;k<_33.length;k++){var s=_33[k].split(":");if(s[1]!=null&&(s[0].toUpperCase().wq_trim()=="BACKGROUND-IMAGE")){if(s[1].indexOf("url")>=0){s[1]=s[1].wq_trim();if(s[1].startsWith("url")){if(s[1].indexOf("http")>=0){index=2;while(s[index]!=null){s[1]=s[1]+":"+s[index];index++;}}else{var _36=s[1].substring(3).wq_trim();if(_36.charAt(0)=="("&&_36.charAt(_36.length-1)==")"){s[1]=$W._N.getImageURL(_36.substring(1,_36.length-1));}}}}_2a=s[1].wq_trim();}}break;}}}}}}catch(e){$W.exception.printStackTrace(e);}return _2a;};$W._y.loadCSS=function(url){["WebSquare.skin.loadCSS"];try{if(!url||url===""){return;}var _3c=$W._N.load(url);if($W._N.browserCheck.ie){var _3d=$W.document.createStyleSheet();_3d.cssText=_3c;}else{var _3e=$W.document.createElementNS("http://www.w3.org/1999/xhtml","style");_3e.appendChild(document.createTextNode(_3c));$W.document.getElementsByTagName("head")[0].appendChild(_3e);}}catch(e){$W.exception.printStackTrace(e);}};;WebSquare.skin=$W._y;$W._m={};$W._m.getMessage=function(){["WebSquare.language.getMessage"];try{var _1="";if(arguments.length==0){return "";}if(typeof WebSquareLang[arguments[0]]=="undefined"){$W.logger.printLog("'"+arguments[0]+"' is not defined.");_1="";}else{_1=WebSquareLang[arguments[0]];}for(var i=1;i<arguments.length;i++){try{_1=_1.replace(eval("/%"+i+"/g"),arguments[i]);}catch(e){$W.logger.printLog(e.message);}}return _1;}catch(e){$W.logger.printLog(e.message);}};;WebSquare.language=$W._m;$W.point2d=function(x,y){this.x=null;this.y=null;if(isNaN(x)){x=0;}if(isNaN(y)){y=0;}this.x=x;this.y=y;};$W.point2d.prototype.assign=function(_3){this.x=_3.x;this.y=_3.y;};$W.point2d.prototype.add=function(_4){["WebSquare.point2d.add"];try{return new $W.point2d(this.x+_4.x,this.y+_4.y);}catch(e){$W.exception.printStackTrace(e);}};$W.point2d.prototype.subtract=function(_5){["WebSquare.point2d.subtract"];try{return new $W.point2d(this.x-_5.x,this.y-_5.y);}catch(e){$W.exception.printStackTrace(e);}};$W.point2d.prototype.scale=function(_6){["WebSquare.point2d.scale"];try{return new $W.point2d(this.x*_6,this.y*_6);}catch(e){$W.exception.printStackTrace(e);}};$W.point2d.prototype.getSize=function(){["WebSquare.point2d.getSize"];try{return Math.sqrt(this.x*this.x+this.y*this.y);}catch(e){$W.exception.printStackTrace(e);}};$W.point2d.prototype.innerProduct=function(_7){["WebSquare.point2d.innerProduct"];try{return this.x*_7.x+this.y*_7.y;}catch(e){$W.exception.printStackTrace(e);}};$W.point2d.prototype.crossProduct=function(_8){["WebSquare.point2d.crossProduct"];try{}catch(e){$W.exception.printStackTrace(e);}};$W.point3d=function(x,y,z){this.x=null;this.y=null;if(isNaN(x)){x=0;}if(isNaN(y)){y=0;}if(isNaN(z)){z=0;}this.x=x;this.y=y;this.z=z;};$W.point3d.prototype.assign=function(_c){this.x=_c.x;this.y=_c.y;this.z=_c.z;};$W.point3d.prototype.add=function(_d){["WebSquare.point3d.add"];try{return new $W.point3d(this.x+_d.x,this.y+_d.y,this.z+_d.z);}catch(e){$W.exception.printStackTrace(e);}};$W.point3d.prototype.subtract=function(_e){["WebSquare.point3d.subtract"];try{return new $W.point3d(this.x-_e.x,this.y-_e.y,this.z-_e.z);}catch(e){$W.exception.printStackTrace(e);}};$W.point3d.prototype.scale=function(_f){["WebSquare.point3d.scale"];try{return new $W.point3d(this.x*_f,this.y*_f,this.z*_f);}catch(e){$W.exception.printStackTrace(e);}};$W.point3d.prototype.getSize=function(){["WebSquare.point3d.getSize"];try{return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z);}catch(e){$W.exception.printStackTrace(e);}};$W.point3d.prototype.innerProduct=function(rhs){["WebSquare.point3d.innerProduct"];try{return this.x*rhs.x+this.y*rhs.y+this.z*rhs.z;}catch(e){$W.exception.printStackTrace(e);}};$W.point3d.prototype.crossProduct=function(rhs){["WebSquare.point3d.crossProduct"];try{}catch(e){$W.exception.printStackTrace(e);}};$W.matrix=function(row,col){["WebSquare.matrix"];try{this.rowCount=null;this.colCount=null;this.data=null;this.rowCount=row|0;this.colCount=col|0;this.data=new Array(row);for(var i=0;i<row;i++){this.data[i]=new Array(col);}for(var i=0;i<row;i++){for(var j=0;j<col;j++){this.data[i][j]=0;}}}catch(e){$W.exception.printStackTrace(e);}};$W.matrix.prototype.add=function(mat){["WebSquare.matrix.add"];try{var _17=new $W.matrix(this.rowCount,this.colCount);if(this.rowCount==mat.rowCount&&this.colCount==mat.colCount){for(var i=0;i<this.rowCount;i++){for(var j=0;j<this.colCount;j++){_17.data[i][j]=this.data[i][j]+mat.data[i][j];}}}return _17;}catch(e){$W.exception.printStackTrace(e);}};$W.matrix.prototype.scale=function(_1a){["WebSquare.matrix.scale"];try{for(var i=0;i<this.rowCount;i++){for(var j=0;j<this.colCount;j++){this.data[i][j]*=_1a;}}}catch(e){$W.exception.printStackTrace(e);}};$W.matrix.prototype.multiplyMatrix=function(rhs){["WebSquare.matrix.add"];try{var l=this.rowCount;var m=this.colCount;var m2=rhs.rowCount;var n=mat.colCount;var _22=new $W.matrix(l,n);if(m==m2){for(var i=0;i<l;i++){for(var j=0;j<n;j++){var sum=0;for(var k=0;k<m;k++){sum+=this.data[i][k]*rhs.data[k][j];}_22.data[i][j]=sum;}}}return _22;}catch(e){$W.exception.printStackTrace(e);}};$W.matrix.prototype.rightMultiply2d=function(_27){["WebSquare.matrix.rightMultiply2d"];try{var _28=new $W.point2d();_28.x=this.data[0][0]*_27.x+this.data[0][1]*_27.y;_28.y=this.data[1][0]*_27.x+this.data[1][1]*_27.y;return _28;}catch(e){$W.exception.printStackTrace(e);}};$W.matrix.prototype.rightMultiply3d=function(_29){["WebSquare.matrix.rightMultiply3d"];try{var _2a=new $W.point3d();_2a.x=this.data[0][0]*_29.x+this.data[0][1]*_29.y+this.data[0][2]*_29.z;_2a.y=this.data[1][0]*_29.x+this.data[1][1]*_29.y+this.data[1][2]*_29.z;_2a.z=this.data[2][0]*_29.x+this.data[2][1]*_29.y+this.data[2][2]*_29.z;return _2a;}catch(e){$W.exception.printStackTrace(e);}};$W._i={rotMatrix2:new $W.matrix(2,2),rotMatrix3:new $W.matrix(3,3),rotMatrix4:new $W.matrix(4,4)};$W._i.translate2d=function(_2b,_2c){["WebSquare.geometry.translate2d"];try{_2b.x=_2b.x+_2c.x;_2b.y=_2b.y+_2c.y;}catch(e){$W.exception.printStackTrace(e);}};$W._i.translate3d=function(_2d,_2e){["WebSquare.geometry.translate3d"];try{_point2d.x+=_2e.x;_point2d.y+=_2e.y;_point2d.z+=_2e.z;}catch(e){$W.exception.printStackTrace(e);}};$W._i.reflect2d=function(_2f,_30){["WebSquare.geometry.reflect2d"];try{if(_30.x==1&&_30.y==1){this.rotMatrix2.data[0][0]=0;this.rotMatrix2.data[0][1]=1;this.rotMatrix2.data[1][0]=1;this.rotMatrix2.data[1][1]=0;}else{if(_30.x==0&&_30.y==1){this.rotMatrix2.data[0][0]=-1;this.rotMatrix2.data[0][1]=0;this.rotMatrix2.data[1][0]=0;this.rotMatrix2.data[1][1]=1;}}return this.rotMatrix2.rightMultiply2d(_2f);}catch(e){$W.exception.printStackTrace(e);}};$W._i.reflect3d=function(_31,_32){["WebSquare.geometry.reflect3d"];try{}catch(e){$W.exception.printStackTrace(e);}};$W._i.rotate2d=function(_33,_34,_35){["WebSquare.geometry.rotate2d"];try{this.rotMatrix2.data[0][0]=Math.cos(_35*Math.PI/180);this.rotMatrix2.data[0][1]=Math.sin(_35*Math.PI/180)*-1;this.rotMatrix2.data[1][0]=Math.sin(_35*Math.PI/180);this.rotMatrix2.data[1][1]=Math.cos(_35*Math.PI/180);return this.rotMatrix2.rightMultiply2d(_33.subtract(_34)).add(_34);}catch(e){$W.exception.printStackTrace(e);}};$W._i.rotate3d=function(_36,_37,_38){["WebSquare.geometry.rotate3d"];try{}catch(e){$W.exception.printStackTrace(e);}};;WebSquare.geometry=$W._i;requires("engine/effect.js");$W._D={};$W._D.shape=function(id){["WebSquare.shape.shape"];this.id=id;this.renderType="";};$W._D.shape.prototype.render=function(_2){["WebSquare.shape.render"];alert("should override WebSquare.shape.render");};$W._D.shape.prototype.renderTime=function(_3,_4){["WebSquare.shape.render"];this.render(_3);};$W._D.lineShape=function(id,_6,_7,_8,_9,_a,_b){["WebSquare.shape.lineShape"];try{_b=$W.extend({},_b);$W._D.shape.call(this,id);this.startX=_6;this.startY=_7;this.endX=_8;this.endY=_9;this.style=_a;this.params=_b;this.graphicObj=null;}catch(e){$W.exception.printStackTrace(e);}};$W._D.lineShape.inherit($W._D.shape);$W._D.lineShape.prototype.render=function(_c){["WebSquare.shape.lineShape.render"];try{if(this.style.borderColor=="autoDark"){this.style.borderColor=_c.getDarkColor(this.style.backgroundColor,4);}this.graphicObj=_c.drawToolkit.createLine(this.id,this.style.borderWidth,this.startX,this.startY,this.endX,this.endY,this.style.borderColor,true,this.style.zIndex);return this.graphicObj;}catch(e){$W.exception.printStackTrace(e);}};$W._D.lineShape.prototype.renderTime=function(_d,_e){["WebSquare.shape.lineShape.renderTime"];try{var _f=this;if(_e!=null&&_e>=0){setTimeout(function(){_f.graphicObj=_d.drawToolkit.createLine(_f.id,this.style.borderWidth,_f.startX,_f.startY,_f.endX,_f.endY,this.style.borderColor,true,this.style.zIndex);},_e);}return null;}catch(e){$W.exception.printStackTrace(e);}};$W._D.arcShape=function(id,_11,_12,_13,_14,_15,_16,_17){["WebSquare.shape.arcShape"];try{_17=$W.extend({},_17);$W._D.shape.call(this,id);this.centerX=_11;this.centerY=_12;this.radius=_13;this.startAngle=_14;this.endAngle=_15;this.style=_16;this.params=_17;this.graphicObj=null;}catch(e){$W.exception.printStackTrace(e);}};$W._D.arcShape.inherit($W._D.shape);$W._D.arcShape.prototype.render=function(_18){["WebSquare.shape.arcShape.render"];try{if(this.style.borderColor=="autoDark"){this.style.borderColor=_18.getDarkColor(this.style.backgroundColor,4);}if(this.renderType.indexOf("[animation]")>-1){if(this.renderType.indexOf("[animation]1")>-1){this.graphicObj=_18.drawToolkit.createArc(this.id,this.style.borderWidth,this.centerX,this.centerY,1,this.startAngle,this.endAngle,this.style.borderColor,this.style.backgroundColor,true,this.style.zIndex);new $W._M.arcAnimation(null,{centerX:this.centerX,centerY:this.centerY,radius:this.radius,startAngle:this.startAngle,endAngle:this.startAngle},{centerX:this.centerX,centerY:this.centerY,radius:this.radius,startAngle:this.startAngle,endAngle:this.endAngle},{id:this.id,graphicUtil:_18,duration:0.5});}else{if(this.renderType.indexOf("[animation]2")>-1){var _19=new $W.point2d(this.radius/2,0);var _1a=new $W.point2d(0,0);var _1b=(this.startAngle+this.endAngle)/2;_19=$W._i.rotate2d(_19,_1a,-_1b);this.graphicObj=_18.drawToolkit.createArc(this.id,this.style.borderWidth,this.centerX+_19.x,this.centerY+_19.y,this.radius,this.startAngle,this.endAngle,this.style.borderColor,this.style.backgroundColor,true,this.style.zIndex);new $W._M.arcAnimation(null,{centerX:this.centerX+_19.x,centerY:this.centerY+_19.y,radius:this.radius,startAngle:this.startAngle,endAngle:this.endAngle},{centerX:this.centerX,centerY:this.centerY,radius:this.radius,startAngle:this.startAngle,endAngle:this.endAngle},{id:this.id,graphicUtil:_18,transition:$W._M.transitions.square4,duration:0.5});}else{this.graphicObj=_18.drawToolkit.createArc(this.id,this.style.borderWidth,this.centerX,this.centerY,1,this.startAngle,this.endAngle,this.style.borderColor,this.style.backgroundColor,true,this.style.zIndex);new $W._M.arcAnimation(null,{centerX:this.centerX,centerY:this.centerY,startAngle:0,endAngle:0,radius:this.radius},{centerX:this.centerX,centerY:this.centerY,startAngle:this.startAngle,endAngle:this.endAngle,radius:this.radius},{id:this.id,graphicUtil:_18,duration:0.5});}}}else{this.graphicObj=_18.drawToolkit.createArc(this.id,this.style.borderWidth,this.centerX,this.centerY,this.radius,this.startAngle,this.endAngle,this.style.borderColor,this.style.backgroundColor,true,this.style.zIndex);}if(this.renderType.indexOf("[gradient]")>-1){var _1c=_18.getBrightColor(this.style.backgroundColor,2);_18.drawToolkit.addLinearGradient(this.id,"bottom_top",this.style.backgroundColor,_1c);}return this.graphicObj;}catch(e){$W.exception.printStackTrace(e);}};$W._D.circleShape=function(id,_1e,_1f,_20,_21,_22){["WebSquare.shape.circleShape"];try{_22=$W.extend({},_22);$W._D.shape.call(this,id);this.centerX=_1e;this.centerY=_1f;this.radius=_20;this.style=_21;this.params=_22;this.graphicObj=null;}catch(e){$W.exception.printStackTrace(e);}};$W._D.circleShape.inherit($W._D.shape);$W._D.circleShape.prototype.render=function(_23){["WebSquare.shape.circleShape.render"];try{if(this.style.borderColor=="autoDark"){this.style.borderColor=_23.getDarkColor(this.style.backgroundColor,4);}this.graphicObj=_23.drawToolkit.createCircle(this.id,this.style.borderWidth,this.centerX,this.centerY,this.radius,this.style.borderColor,this.style.backgroundColor,true,this.style.zIndex);if(this.renderType.indexOf("[gradient]")>-1){var _24=_23.getBrightColor(this.style.backgroundColor,2);_23.drawToolkit.addLinearGradient(this.id,"bottom_top",this.style.backgroundColor,_24);}return this.graphicObj;}catch(e){$W.exception.printStackTrace(e);}};$W._D.rectangleShape=function(id,_26,_27,_28,_29,_2a,_2b){["WebSquare.shape.rectangleShape"];try{_2b=$W.extend({},_2b);$W._D.shape.call(this,id);this.startX=_26;this.startY=_27;this.endX=_28;this.endY=_29;this.style=_2a;this.params=_2b;this.graphicObj=null;}catch(e){$W.exception.printStackTrace(e);}};$W._D.rectangleShape.inherit($W._D.shape);$W._D.rectangleShape.prototype.render=function(_2c){["WebSquare.shape.rectangleShape.render"];try{var _2d=Math.abs(this.endX-this.startX);var _2e=Math.abs(this.endY-this.startY);var _2f=Math.min(this.startX,this.endX);var _30=Math.min(this.startY,this.endY);if(this.style.borderColor=="autoDark"){this.style.borderColor=_2c.getDarkColor(this.style.backgroundColor,4);}if(this.renderType.indexOf("[animation]")>-1){this.graphicObj=_2c.drawToolkit.createRectangle(this.id,this.style.borderWidth,_2f,_30,0,0,this.style.borderColor,this.style.backgroundColor,true,this.style.zIndex);var _31=this.renderType.indexOf("[inverse]")>=0;var _32=!_31?{x:_2f,y:_30+_2e,width:_2d,height:0}:{x:_2f,y:_30,width:0,height:_2e};new $W._M.rectAnimation(null,_32,{x:_2f,y:_30,width:_2d,height:_2e},{id:this.id,graphicUtil:_2c,transition:$W._M.transitions.linear,duration:0.5,inverse:_31,svg3D:(_2c.platformType==="svg"&&this.renderType.indexOf("[3D]")>=0)});}else{this.graphicObj=_2c.drawToolkit.createRectangle(this.id,this.style.borderWidth,_2f,_30,_2d,_2e,this.style.borderColor,this.style.backgroundColor,true,this.style.zIndex);}if(this.renderType.indexOf("[gradient]")>-1){var _33=_2c.getBrightColor(this.style.backgroundColor,2);_2c.drawToolkit.addLinearGradient(this.id,"bottom_top",this.style.backgroundColor,_33);}var _34=_2d;if(this.renderType.indexOf("[inverse]")>-1){_34=_2e;}if(this.renderType.indexOf("[3D]")>-1){_2c.drawToolkit.add3DEffect(this.id,_34);}return this.graphicObj;}catch(e){$W.exception.printStackTrace(e);}};$W._D.pathShape=function(id,_36,_37,_38){["WebSquare.shape"];try{_38=$W.extend({},_38);$W._D.shape.call(this,id);this.pointArr=_36;this.style=_37;this.params=$W.extend({closeFlag:true,fillFlag:true},_38);this.graphicObj=null;}catch(e){$W.exception.printStackTrace(e);}};$W._D.pathShape.inherit($W._D.shape);$W._D.pathShape.prototype.render=function(_39){["pathShape.render"];try{if(this.style.borderColor=="autoDark"){this.style.borderColor=_39.getDarkColor(this.style.backgroundColor,4);}if(this.renderType.indexOf("[animation]")>-1){if(this.renderType.indexOf("[animation]1")>-1){this.graphicObj=_39.drawToolkit.createPath2(this.id,this.style.borderWidth,[],this.style.borderColor,this.style.backgroundColor,this.params.fillFlag,this.params.closeFlag,true,this.style.zIndex);var _3a=new $W.point2d(0,0);for(var i=0;i<this.pointArr.length;i++){if(i==0){_3a.x=this.pointArr[i].x;_3a.y=this.pointArr[i].y;}}var _3c=new Array(this.pointArr.length);for(var i=0;i<_3c.length;i++){_3c[i]=new $W.point2d(_3a.x,_3a.y);}new $W._M.pathAnimation(null,{pointList:_3c},{pointList:this.pointArr},{id:this.id,graphicUtil:_39,transition:$W._M.transitions.sinodial,duration:0.5});}else{this.graphicObj=_39.drawToolkit.createPath2(this.id,this.style.borderWidth,[],this.style.borderColor,this.style.backgroundColor,this.params.fillFlag,this.params.closeFlag,true,this.style.zIndex);var _3a=new $W.point2d(0,0);for(var i=0;i<this.pointArr.length;i++){_3a.x+=this.pointArr[i].x;_3a.y+=this.pointArr[i].y;if(i==this.pointArr.length-1){_3a.x/=this.pointArr.length;_3a.y/=this.pointArr.length;}}var _3c=new Array(this.pointArr.length);for(var i=0;i<_3c.length;i++){_3c[i]=new $W.point2d(_3a.x,_3a.y);}new $W._M.pathAnimation(null,{pointList:_3c},{pointList:this.pointArr},{id:this.id,graphicUtil:_39,transition:$W._M.transitions.sinodial,duration:0.5});}}else{if(this.params.closeFlag==true){this.graphicObj=_39.drawToolkit.createPath(this.id,this.style.borderWidth,this.pointArr,this.style.borderColor,this.style.backgroundColor,true,this.style.zIndex);}else{this.graphicObj=_39.drawToolkit.createPath2(this.id,this.style.borderWidth,this.pointArr,this.style.borderColor,this.style.backgroundColor,this.params.fillFlag,this.params.closeFlag,true,this.style.zIndex);}}return this.graphicObj;}catch(e){$W.exception.printStackTrace(e);}};$W._D.textShape=function(id,_3e,_3f,_40,_41,_42){["WebSquare.shape.textShape"];try{_42=$W.extend({},_42);$W._D.shape.call(this,id);this.text=_3e;this.centerX=_3f;this.centerY=_40;this.style=_41;this.params=_42;this.graphicObj=null;}catch(e){$W.exception.printStackTrace(e);}};$W._D.textShape.inherit($W._D.shape);$W._D.textShape.prototype.render=function(_43){["WebSquare.shape.textShape.render"];try{var _44=document.createElement("div");var _45=parseInt(this.style.fontSize);if(isNaN(_45)){_45=12;}var _46=this.text.length*_45;_44.id=this.id;$W._N.applyStyle(_44,this.style);_44.style.width=_46+"px";_44.style.left=this.centerX-_46/2+"px";_44.style.top=this.centerY-_45/2+"px";_44.innerHTML=this.text;if(this.params.graphicID){_44.graphicID=this.params.graphicID;}if(this.params.className){_44.className=this.params.className;}_43.drawToolkit.appendObj(_44.id,_44,false);_43.render.appendChild(_44);this.graphicObj=_44;}catch(e){$W.exception.printStackTrace(e);}return this.graphicObj;};$W._D.shapeComposite=function(id){["WebSquare.shape.shapeComposite"];try{$W._D.shape.call(this,id);this.shapeList=new Array();this.graphicObj=null;}catch(e){$W.exception.printStackTrace(e);}};$W._D.shapeComposite.inherit($W._D.shape);$W._D.shapeComposite.prototype.addShape=function(_48){["WebSquare.shape.shapeComposite.addShape"];try{this.shapeList.push(_48);}catch(e){$W.exception.printStackTrace(e);}};$W._D.shapeComposite.prototype.render=function(_49){["WebSquare.shape.shapeComposite.render"];try{if(this.renderType=="sequence Animation"){var _4a=0;for(var i=0;i<this.shapeList.length;i++){_4a+=50;this.shapeList[i].renderTime(_49,_4a);}}else{if(this.renderType=="simultaneous Animation"){var _4a=0;for(var i=0;i<this.shapeList.length;i++){this.shapeList[i].renderTime(_49,_4a);}}else{for(var i=0;i<this.shapeList.length;i++){if(this.renderType!=null&&this.renderType!=""){this.shapeList[i].renderType=this.renderType;}var _4c=this.shapeList[i].render(_49);}}}}catch(e){$W.exception.printStackTrace(e);}};$W._D.debugPoint=function(_4d,_4e,_4f){["WebSquare.shape.debugPoint"];try{if(_4e==null){_4e=$W.document.body;}_4f=$W.extend({style:{},colorIndex:0,graphicUtil:null},_4f||{});var _50=new Array("#b83c55","#6142a4","#3771df","#43993c","#c8d238","#db7141","#7380C1","#7BB39C","#AED22F","#AFC084","#FC9C32","#DB4C81","#9B60C1","#DCD64F","#C7725B","#C0C3B8","#C181B3","#DBAC46","#838B9E","#82C6D2","#4F77AE");var _51=5;var _52=2;var _53=$W._H.extendStyle({position:"absolute",backgroundColor:_50[_4f.colorIndex],borderColror:_50[_4f.colorIndex],borderStyle:"solid",borderWidth:"0px",width:_51,height:_52},_4f.style||{});if(_4f.graphicUtil){var _54=new $W._D.circleShape("debug_circle",_4d.x,_4d.y,3,_53);_54.render(_4f.graphicUtil);}else{var div=$W.document.createElement("div");$W._H.setStyle(div,_53);$W._H.setStyle(div,{left:_4d.x-_51/2,top:_4d.y-_52/2});_4e.appendChild(div);}}catch(e){$W.exception.printStackTrace(e);}};;WebSquare.shape=$W._D;$W.configManager=function(_1){if(Object.prototype.toString.call(_1)==="[object Array]"){this.xmlDoc=_1;}else{this.xmlDoc=[_1];}this.configCache={};};$W.configManager.prototype.setConfig=function(_2){["WebSquare.configManager.setConfig"];try{if(Object.prototype.toString.call(_2)==="[object Array]"){this.xmlDoc=_2;}else{this.xmlDoc=[_2];}this.configCache={};}catch(e){$W.exception.printStackTrace(e);}};$W.configManager.prototype.parseConfig=function(_3){["WebSquare.configManager.parseConfig"];try{var _4={};for(var i=0;i<this.xmlDoc.length;i++){var _6=$W._B.findNode(this.xmlDoc[i],"/WebSquare/"+_3);if(_6){for(var _7=_6.firstChild;_7!=null;_7=_7.nextSibling){if(_7.nodeType==1){var _8=_7.tagName;var _9=$W._B.getValue(_7,"@value");_4[_8]=_9;}}break;}}this.configCache[_3]=_4;}catch(e){$W.exception.printStackTrace(e);}};$W.configManager.prototype.getConfig=function(_a){["WebSquare.configManager.getConfig"];try{if(!this.configCache[_a]){this.parseConfig(_a);}return this.configCache[_a];}catch(e){$W.exception.printStackTrace(e);}};$W.configManager=new $W.configManager($W.BootLoader.configurationDOM);$W._E={};$W._E.CSSStyleSheet=function(){this.rules=[];this.ruleIndex=[];if(document.createStyleSheet&&false){this.sheet=document.createStyleSheet();}else{this.styleElement=document.createElement("style");document.getElementsByTagName("head")[0].appendChild(this.styleElement);this.sheet=this.styleElement.styleSheet?this.styleElement.styleSheet:this.styleElement.sheet;}};$W._E.CSSStyleSheet.addRuleRe1=new RegExp("^\\{?([^\\}])");$W._E.CSSStyleSheet.addRuleRe2=new RegExp("^\\{[^\\}]*\\}$");$W._E.CSSStyleSheet.prototype.addRule=function(_1,_2){["WebSquare.styleSheet.CSSStyleSheet.prototype.addRule"];try{var _3;if(!this.sheet){_2=_2.replace($W._E.CSSStyleSheet.addRuleRe1,"$1");if(!this.ruleIndex[_1]){this.ruleIndex[_1]=this.rules.length;}this.rules[this.ruleIndex[_1]]=_2;var _4="";for(var _5 in this.ruleIndex){_4=_5+" {"+this.rules[this.ruleIndex[_5]]+"}";}this.styleElement.innerHTML=_4;}else{if(this.sheet.addRule){_2=_2.replace($W._E.CSSStyleSheet.addRuleRe1,"$1");var r=this.sheet.rules.length;this.sheet.addRule(_1,_2);_3=this.sheet.rules[r];this.ruleIndex[_1]=r;this.rules=this.sheet.rules;}else{if(this.sheet.insertRule){if(!$W._E.CSSStyleSheet.addRuleRe2.test(_2)){_2="{"+_2+"}";}var r=this.sheet.cssRules.length;this.sheet.insertRule(_1+" "+_2,r);_3=this.sheet.cssRules[r];this.ruleIndex[_1]=r;if(this.rules.length==0){this.rules=this.sheet.cssRules;}}else{alert("Cannot create rule");}}}return _3;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._E.CSSStyleSheet.prototype.changeRule=function(_7,_8,_9){["WebSquare.styleSheet.CSSStyleSheet.prototype.changeRule"];try{var _a=this.ruleIndex[_7];if(typeof _a=="undefined"){this.addRule(_7,_8+":"+_9);return;}if(!this.sheet){var _b=this.rules[_a];if(_b){var _c=new RegExp("^(.*"+_8+"\\s*:\\s*)([^;]*)(.*)$");var _d=_c.exec(_b);if(_d){if(_d[4]!=_9){this.rules[_a]=_d[1]+_9+_d[3];}}else{this.rules[_a]=_b+"; "+_8+": "+_9+";";}_b="";for(var _e in this.ruleIndex){_b=_e+" {"+this.rules[this.ruleIndex[_e]]+"}";}this.styleElement.innerHTML=_b;}var _b="";var _b="";for(var _e in this.ruleIndex){_b=_e+" {"+this.rules[this.ruleIndex[_e]]+"}";}}else{if(this.rules[_a].style){var m=/^([^-]*)-([a-z])(.*)$/.exec(_8);while(m){_8=m[1]+m[2].toUpperCase()+m[3];m=/^([^-]*)-([a-z])(.*)$/.exec(_8);}var _10=this;setTimeout(function(){_10.rules[_a].style[_8]=_9;},1);}else{if(this.sheet.insertRule){var _11=this.rules[_a];if(_11){var _b=_11.cssText;var _c=new RegExp("^[^\\{]*(\\{.*"+_8+"\\s*\\:\\s*)([^};]*)([^}]*})");var _d=_c.exec(_b);if(_d){if(_d[4]!=_9){_b=_d[1]+_9+_d[3];this.sheet.deleteRule(_a);this.sheet.insertRule(_7+" "+_b,_a);}}else{var _c=new RegExp("\\{([^}]*)}");_d=_c.exec(_b);_b="{ "+_d[1]+"; "+_8+": "+_9+" }";this.sheet.deleteRule(_a);this.sheet.insertRule(_7+" "+_b,_a);}}}}}}catch(e){$W.exception.printStackTrace(e);}};$W._E.CSSStyleSheet.prototype.getRuleProperty=function(_12,_13){var _14=this.ruleIndex[_12];if(typeof _14=="undefined"){return;}if(!this.sheet){var _15=this.rules[_14];if(_15){var _16=new RegExp("^.*"+_13+"s*:s*([^;]*)");var _17=_16.exec(_15);if(_17){return _17[1];}}}else{if(this.rules[_14].style){var m=/^([^-]*)-([a-z])(.*)$/.exec(_13);while(m){_13=m[1]+m[2].toUpperCase()+m[3];m=/^([^-]*)-([a-z])(.*)$/.exec(_13);}var _19=this.rules[_14].style;return _19[_13];}else{if(this.sheet.insertRule){var _1a=this.rules[_14];if(_1a){_15=_1a.cssText;var _16=new RegExp("^.*"+_13+"\\s*\\:\\s*([^};]*)");var _17=_16.exec(_15);if(_17){return _17[1];}}}}}};$W._E.CSSStyleSheet.prototype.getRule=function(_1b){var _1c=this.ruleIndex[_1b];if(typeof _1c=="undefined"){return;}if(!this.sheet){var _1d=this.rules[_1c];return _1d;}else{if(this.rules[_1c].style){var _1e=this.rules[_1c].style;return _1e.cssText;}else{if(this.sheet.insertRule){var _1f=this.rules[_1c];if(_1f){_1d=_1f.cssText;return _1d;}}}}};$W.cssStyleSheet={};$W.cssStyleSheet.styleSheet=null;$W.cssStyleSheet.initialize=function(){if($W.cssStyleSheet.styleSheet==null){$W.cssStyleSheet.styleSheet=new $W._E.CSSStyleSheet();}};$W.cssStyleSheet.addRule=function(_20,_21){["WebSquare.cssStyleSheet.addRule"];try{$W.cssStyleSheet.initialize();$W.cssStyleSheet.styleSheet.addRule(_20,_21);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W.cssStyleSheet.changeRule=function(_22,_23,_24){["WebSquare.cssStyleSheet.changeRule"];$W.cssStyleSheet.initialize();$W.cssStyleSheet.styleSheet.changeRule(_22,_23,_24);};$W.cssStyleSheet.getRuleProperty=function(_25,_26){$W.cssStyleSheet.initialize();$W.cssStyleSheet.styleSheet.getRuleProperty(_25,_26);};$W.cssStyleSheet.getRule=function(_27){$W.cssStyleSheet.initialize();$W.cssStyleSheet.styleSheet.getRule(_27);};;WebSquare.styleSheet=$W._E;$W.eventControl=function(){["WebSquare.eventControl"];try{this.cache=null;}catch(e){$W.exception.printStackTrace(e);}};if(document.addEventListener&&!$W._G.isIE()){$W.eventControl.prototype.addListener=function(_1,_2,_3,_4){try{_4=_4||null;if(_2.toLowerCase().wq_trim()=="onchange"){return;}var ff=function(e){if((this.getAttribute&&this.getAttribute("disabled")==="disabled")||(typeof this.disabled!="undefined"&&(this.disabled||this.getAttribute("disabled")=="true"))){return;}else{_3.apply(_1,arguments);}};var _7=_2.slice(2);if(_2.toLowerCase()=="onmousewheel"&&$W._N.browserCheck.moz){_7="DOMMouseScroll";}_1.addEventListener(_7,ff,_4);this.setCache(_1,_2,ff,_4);}catch(e){$l(this.addListener.caller,"caller");$W.exception.printStackTrace(e);}};}else{if(document.attachEvent){$W.eventControl.prototype.addListener=function(_8,_9,_a,_b){try{_b=_b||null;if(_9.toLowerCase().wq_trim()=="onchange"){return;}var ff=function(){if((_8.getAttribute&&_8.getAttribute("disabled")==="disabled")||(typeof _8.disabled!="undefined"&&(_8.disabled||_8.getAttribute("disabled")=="true"))){return;}else{_a.apply(_8,arguments);}};_8.attachEvent(_9,ff);this.setCache(_8,_9,ff,_b);}catch(e){$l(this.addListener.caller,"caller");$W.exception.printStackTrace(e);}};}else{$W.eventControl.prototype.addListener=function(){};}}$W.eventControl.prototype.addListener2=function(_d,_e,_f,_10){try{var _11=(function(_12,_13){return function(e){_13.call(_12,e||window.event);};})(_10||_d,_f);if(_d.attachEvent){_d.attachEvent(_e,_11);}else{if(_d.addEventListener){_e=_e.slice(2);if(_e.wq_trim().toLowerCase()=="mousewheel"&&$W._G.isFF()){_e="DOMMouseScroll";}_d.addEventListener(_e,_11,false);}}this.setCache(_d,_e,_11,null);}catch(e){$W.exception.printStackTrace(e);}};$W.eventControl.prototype.removeListener=function(_15,_16,_17,_18){["WebSquare.eventControl.removeListener"];try{_18=_18||null;try{if(!$W._G.isIE()&&_15.removeEventListener){_15.removeEventListener(_16.slice(2),_17,_18);}else{if(_15.detachEvent){_15.detachEvent(_16,_17);}}}catch(e){}}catch(e){$W.exception.printStackTrace(e);}};$W.eventControl.prototype.setCache=function(_19,_1a,_1b,_1c){["WebSquare.eventControl.setCache"];try{if(!this.cache){this.cache=[];}this.cache.push([_19,_1a,_1b,_1c]);}catch(e){$W.exception.printStackTrace(e);}};$W.eventControl.prototype.clearCache=function(){["WebSquare.eventControl.clearCache"];try{if(!this.cache){return;}for(var i=0;i<this.cache.length;i++){this.removeListener.apply(this,this.cache[i]);this.cache[i]=null;}this.cache=null;}catch(e){$W.exception.printStackTrace(e);}};$W.eventControl.prototype.bindAsEventListener=function(_1e,_1f){["WebSquare.eventControl.bindAsEventListener"];try{var _20=[];for(var i=2;i<arguments.length;i++){_20.push(arguments[i]);}return function(e){if(_1e["__removed_object__"]){return;}if(_1e.getDisabled&&_1e.getDisabled()==true){return;}if(e&&e.type!="resize"&&_1e.options&&(_1e.options.pluginName!="gridView"&&_1e.options.pluginName!="grid")){var _23=_1e.getReadOnly&&_1e.getReadOnly()==true;var _24=false;if(_23&&_1e.options){if(_1e.options.pluginName=="input"&&_1e.options.copyOnReadOnly=="noFormat"){if($W._G.isIEAllVersion()){_24=e.keyCode==67&&(e.ctrlKey||e.metaKey);}else{_24=e.type=="copy";}}else{if(_1e.options.pluginName=="anchor"&&_1e.options.enableReadOnly){$W._c.preventDefault(e);}}}if(_23&&!_24){return;}}if(e&&e.type==="mousedown"){$W.getBody().getLayerListener().otherClick(e);}_1f.apply(_1e,[e||window.event].concat(_20));};}catch(e){$W.exception.printStackTrace(e);}};$W.eventControl.prototype.clearElement=function(_25){["WebSquare.eventControl.clearElement"];try{var _26=null;var i=0;var _28=0;var _29="";_26=_25.attributes;if(_26){_28=_26.length;for(i=0;i<_28;i++){if(_26[i]){_29=_26[i].name;if(typeof _25[_29]=="function"){_25[_29]=null;}}}}}catch(e){$W.exception.printStackTrace(e);}};$W.eventControl.prototype.getTarget=function(e,_2b){["WebSquare.eventControl.getTarget"];try{_2b=_2b||"main";var _2c=$W._c.getTarget(e);while(_2c){var _2d=_2c.getAttribute("catch");if(_2d&&_2d.indexOf(_2b)>-1){break;}_2c=_2c.parentNode;}return _2c;}catch(e){$W.exception.printStackTrace(e);}};$W.eventControl.prototype.getTargetIterator=function(e,_2f){["WebSquare.eventControl.getTargetIterator"];try{var _30=$W._c.getTarget(e);return new $W.targetIterator(_30,_2f);}catch(e){$W.exception.printStackTrace(e);}};$W.eventControl.prototype.getChildIterator=function(_31){["WebSquare.eventControl.getChildIterator"];try{return new $W.childIterator(_31);}catch(e){$W.exception.printStackTrace(e);}};$W.eventControl.prototype.isMe=function(e,_33){["WebSquare.eventControl.isMe"];try{var _34=$W._c.getTarget(e);while(_34!=null){if(_34==_33){return true;}_34=_34.parentNode;}return false;}catch(e){$W.exception.printStackTrace(e);}};$W.eventControl.prototype.isMine=function(e,_36){["WebSquare.eventControl.isMine"];try{var _37=$W._c.getTarget(e);while(_37!=null){if(_37.id&&_37.id.indexOf(_36.id)>=0){return true;}_37=_37.parentNode;}return false;}catch(e){$W.exception.printStackTrace(e);}};$W.eventControl.prototype.addEvents=function(_38,_39){["WebSquare.eventControl.addEvents"];var _3a=[];try{if(_38!=null&&_39!=null){for(var i=0;i<_39.length;i++){if($W._c.isEventSupported(_38.render,_39[i].name)){switch(_39[i].action){case "script":if(typeof _39[i].param.handler=="function"||typeof _39[i].param.handler=="string"){if(_38.systemEventList[_39[i].name]==undefined||!(_38.systemEventList[_39[i].name].count>0)){_38.systemEventList[_39[i].name]={};_38.systemEventList[_39[i].name].count=1;var _3c=(function(_3d){return function(e){$W._c.fireEvent(_38,_3d,e);};})(_39[i].name);this.addListener(_38.render,_39[i].name,_3c,false);if(_38.event.cache){_38.systemEventList[_39[i].name].handler=_38.event.cache[_38.event.cache.length-1][2];}}else{_38.systemEventList[_39[i].name].count++;}}else{$W.logger.printLog("Event error ["+_38.id+",ev:"+_39[i].name+"] : "+_39[i].param.handler+" is not a function");break;}break;default:var obfuscator_obj=_38;var obfuscator_event=_39[i].name;eval("var applyEvent"+i+" = function(e){ WebSquare.event.fireEvent(obfuscator_obj, obfuscator_event , e);};");if(_38.systemEventList[_39[i].name]==undefined||!(_38.systemEventList[_39[i].name].count>0)){_38.systemEventList[_39[i].name]={};_38.systemEventList[_39[i].name].count=1;_38.systemEventList[_39[i].name].handler=eval("applyEvent"+i);this.addListener(_38.render,_39[i].name,_38.systemEventList[_39[i].name].handler,false);}else{_38.systemEventList[_39[i].name].count++;}break;}}else{}}_38.userEventList=_38.userEventList.concat(_39);}}catch(e){$W.exception.printStackTrace(e);}};$W.eventControl.prototype.addUserEvents=function(_3f,obfuscator_Actions,_40){["WebSquare.eventControl.addUserEvents"];var _41=[];try{if(obfuscator_Actions){if(typeof _40!="undefined"){var _42={};for(var i=0;i<_40.length;i++){_42[_40[i]]="";}var _44=[];for(var i=0;i<obfuscator_Actions.length;i++){if(typeof _42[obfuscator_Actions[i].name]=="undefined"){_41.push(obfuscator_Actions[i]);}else{_44.push(obfuscator_Actions[i]);}}obfuscator_Actions=_44;}_3f.userEventList=_3f.userEventList.concat(obfuscator_Actions);}}catch(e){$W.exception.printStackTrace(e);}return _41;};$W.eventControl.prototype.hasEvent=function(_45,_46){["WebSquare.eventControl.hasEvent"];try{if(!this.cache){return false;}var ret=false;for(var i=0;i<this.cache.length;i++){if(this.cache[i][0]["id"]===_45&&this.cache[i][1]===_46){ret=true;break;}}return ret;}catch(e){$W.exception.printStackTrace(e);}};$W.eventControl.prototype.removeEvent=function(_49,_4a){["WebSquare.eventControl.hasEvent"];try{if(!this.cache){return 0;}var ret=0;for(var i=this.cache.length-1;i>=0;i--){if(this.cache[i][0]["id"]===_49&&this.cache[i][1]===_4a){this.removeListener.apply(this,this.cache[i]);this.cache[i]=null;this.cache.splice(i,1);ret++;}}return ret;}catch(e){$W.exception.printStackTrace(e);}};requires("uiplugin/control/eventControl.js");$W._K={};$W._K.ghostDragManager=function(){["WebSquare.uiplugin.ghostDragManager"];try{this.init();this.event=new $W.eventControl();var _1=this;this.mouseMoveListener=function(e){_1.update.apply(_1,arguments);};this.mouseUpListener=function(e){_1.finish.apply(_1,arguments);};}catch(e){$W.exception.printStackTrace(e);}};$W._K.ghostDragManager.prototype.init=function(){["WebSquare.uiplugin.ghostDragManager.init"];try{this.dragGhost=null;this.element=null;this.target=null;this.currentFrame=0;this.deltaX=0;this.deltaY=0;this.oldMouseX=-1;this.oldMouseY=-1;this.status="stop";this.options={id:"w2drag",className:"w2drag",contents:"",direction:"x y",resizeDirection:"width height",frameGap:20,delay:0,mode:"move",applyMousePosition:false,dropClass:"",onDrop:null,makeGhostLayer:null,useDragLayer:false,handleStart:null,handleUpdate:null,handleFinish:null,beforeStart:null,afterFinish:null};this.original={position:"",left:0,top:0,width:0,height:0,mouseX:0,mouseY:0};}catch(e){$W.exception.printStackTrace(e);}};$W._K.ghostDragManager.prototype.activate=function(e,_5,_6){["WebSquare.uiplugin.ghostDragManager.activate"];try{if($W._G.isMobile()==true){$W._c.addListener(document.documentElement,"ontouchmove",this.mouseMoveListener);$W._c.addListener(document.documentElement,"ontouchend",this.mouseUpListener);}else{$W._c.addListener(document.documentElement,"onmousemove",this.mouseMoveListener);$W._c.addListener(document.documentElement,"onmouseup",this.mouseUpListener);}if($W._G.isFF()){$W._c.preventDefault(e);}this.options=$W.extend(this.options,_6||{});var _7=$W._H.getAbsoluteLeft(_5);var _8=$W._H.getAbsoluteTop(_5);var _9=this.getDragGhost();var _a=$W._H.getAbsoluteTop(_9.render);var _b=$W._H.getAbsoluteLeft(_9.render);if(_9.render.style.display=="none"){_a=0;_b=0;}if(_9.saveOffsetTop==undefined){_9.saveOffsetTop=_a;}if(_9.saveOffsetLeft==undefined){_9.saveOffsetLeft=_b;}_9.saveLeft=_7;_9.saveTop=_8;if(this.options.makeGhostLayer){_9=this.options.makeGhostLayer(_9,e);if(this.options.mode=="resize"||this.options.mode=="resize_right"||this.options.mode=="resize_bottom"){_9.show();}}_9.render.innerHTML=this.options.contents;if(_9){this.dragGhost=_9;this.element=_5;this.target=this.dragGhost.render;this.original={left:this.dragGhost.saveOffsetLeft+_7,top:this.dragGhost.saveOffsetTop+_8,width:this.target.offsetWidth,height:this.target.offsetHeight,mouseX:$W._c.getMouseX(e),mouseY:$W._c.getMouseY(e)};}$W.getBody().addClass("w2drag_activate");}catch(e){$W.exception.printStackTrace(e);}};$W._K.ghostDragManager.prototype.drawSize=function(_c,_d){["WebSquare.uiplugin.ghostDragManager.drawSize"];try{if(this.target){if(_c>=0&&this.options.resizeDirection.indexOf("width")>-1){this.target.style.width=_c+"px";}if(_d>=0&&this.options.resizeDirection.indexOf("height")>-1){this.target.style.height=_d+"px";}}}catch(e){$W.exception.printStackTrace(e);}};$W._K.ghostDragManager.prototype.drawPosition=function(x,y){["WebSquare.uiplugin.ghostDragManager.drawPosition"];try{if(this.target){if(this.options.direction.indexOf("x")>-1){this.target.style.left=x+"px";}if(this.options.direction.indexOf("y")>-1){this.target.style.top=y+"px";}}}catch(e){$W.exception.printStackTrace(e);}};$W._K.ghostDragManager.prototype.start=function(e){["WebSquare.uiplugin.ghostDragManager.start"];try{if(this.status=="stop"){this.status="started";if(this.options.beforeStart){this.options.beforeStart(e);}if(this.options.handleStart){this.options.handleStart(e);}this.dragGhost.show();this.dragGhost.setPosition(this.dragGhost.saveLeft,this.dragGhost.saveTop);}}catch(e){$W.exception.printStackTrace(e);}};$W._K.ghostDragManager.prototype.update=function(e){["WebSquare.uiplugin.ghostDragManager.update"];try{var _12=false;if(this.target){$W._c.stopEvent(e);var _13=$W._c.getMouseX(e);var _14=$W._c.getMouseY(e);if(this.oldMouseX!=_13||this.oldMouseY!=_14){this.oldMouseX=_13;this.oldMouseY=_14;_12=true;}this.deltaX=_13-this.original.mouseX;this.deltaY=_14-this.original.mouseY;}if(_12&&this.target&&Math.abs(this.deltaX)+Math.abs(this.deltaY)>this.options.delay){this.start(e);}if(_12&&this.target&&this.status=="started"){if(this.options.mode=="move"){this.options.applyMousePosition?this.drawPosition(this.original.mouseX+this.deltaX,this.original.mouseY+this.deltaY):this.drawPosition(this.original.left+this.deltaX,this.original.top+this.deltaY);}else{if(this.options.mode=="resize"){var _15=this.original.width+this.deltaX;var _16=this.original.height+this.deltaY;var _17=this.original.left;var top=this.original.top;if(_15<0){_15=Math.abs(_15);_17=_17-_15;}if(_16<0){_16=Math.abs(_16);top=top-_16;}this.options.applyMousePosition?this.drawPosition(this.original.mouseX,this.original.mouseY):this.drawPosition(_17,top);this.drawSize(_15,_16);}else{if(this.options.mode=="resize_right"){var _15=this.original.width+this.deltaX;var _16=this.original.height;var _17=this.original.left;var top=this.original.top;if(_15<0){_15=Math.abs(_15);_17=_17-_15;}this.options.applyMousePosition?this.drawPosition(this.original.mouseX,this.original.mouseY):this.drawPosition(_17,top);this.drawSize(_15,_16);}else{if(this.options.mode=="resize_bottom"){var _15=this.original.width;var _16=this.original.height+this.deltaY;var _17=this.original.left;var top=this.original.top;if(_16<0){_16=Math.abs(_16);top=top-_16;}this.options.applyMousePosition?this.drawPosition(this.original.mouseX,this.original.mouseY):this.drawPosition(_17,top);this.drawSize(_15,_16);}}}}if(this.options.handleUpdate){this.options.handleUpdate(this.original.left,this.original.top,this.deltaX,this.deltaY,e);}if(this.options.onDragover){var _19=null;if(this.options.dragoverClass!=""){var it=this.event.getTargetIterator(e);while(it.next()){if(it.match(this.options.dragoverClass)){_19=it.getElement();it.stop();}}it=null;}this.options.onDragover(this.element,_19,this.original.left,this.original.top,this.deltaX,this.deltaY,e);}}}catch(e){$W.exception.printStackTrace(e);}};$W._K.ghostDragManager.prototype.finish=function(e){["WebSquare.uiplugin.ghostDragManager.finish"];try{if(this.target){if(this.status=="started"||this.dragGhost.getStyle("visibility")=="visible"){if(!$W._G.isMobile()){$W._c.removeListener(document.documentElement,"onmousemove",this.mouseMoveListener);$W._c.removeListener(document.documentElement,"onmouseup",this.mouseUpListener);}else{$W._c.removeListener(document.documentElement,"ontouchmove",this.mouseMoveListener);$W._c.removeListener(document.documentElement,"ontouchend",this.mouseUpListener);}if(this.options.onDrop){var _1c=null;if(this.options.dropClass!=""){var it=this.event.getTargetIterator(e);while(it.next()){if(it.match(this.options.dropClass)){_1c=it.getElement();it.stop();}}it=null;}this.options.onDrop(this.element,_1c,this.original.left,this.original.top,this.deltaX,this.deltaY,e);}if(this.options.handleFinish){this.options.handleFinish(this.original.left,this.original.top,this.deltaX,this.deltaY,e);}if(this.options.afterFinish){this.options.afterFinish(this.original.left,this.original.top,this.deltaX,this.deltaY,e);}this.dragGhost.hide();}this.init();$W.getBody().removeClass("w2drag_activate");}}catch(e){$W.exception.printStackTrace(e);}};$W._K.ghostDragManager.prototype.getDragGhost=function(){["WebSquare.dragdrop.ghostDragManager.getDragGhost"];try{var _1e=null;var _1f=$W.getBody();if(_1f){_1e=_1f.getChild(this.options.id);if(!_1e){requires("uiplugin/group/group.js");_1e=new $W._a._p(this.options.id,{className:"w2drag "+this.options.className});_1e.writeTo(_1f,null,this.parentFrame);_1e.activate();_1e.hide();}}return _1e;}catch(e){$W.exception.printStackTrace(e);}};$W._K.gDragManager=new $W._K.ghostDragManager();$W._K.sortDragManager=function(){["WebSquare.uiplugin.sortDragManager"];try{this.sortGroupArrHash={};this.sortItemArrHash={};this.event=new $W.eventControl();}catch(e){$W.exception.printStackTrace(e);}};$W._K.sortDragManager.prototype.registerItem=function(obj,_21){_21=$W.extend({handle:obj.render},_21||{});obj.addClass(obj.render,"w2sort_item");this.event.addListener(_21.handle,"onmousedown",function(e){$W._c.stopEvent(e);$W._K.sDragManager.activate(e,obj.render,_21);});};$W._K.sortDragManager.prototype.registerGroup=function(_23,_24,_25){["WebSquare.uiplugin.sortDragManager.init"];try{var _26=[];var it=this.event.getChildIterator(_24.render);while(it.next()){if(it.match("w2sort_item")){_26.push(it.getElement());}}if(!this.sortGroupArrHash[_23]){this.sortGroupArrHash[_23]=[];}if(!this.sortItemArrHash[_23]){this.sortItemArrHash[_23]=[];}this.sortGroupArrHash[_23].push({groupElement:_24.render,sortItemArr:_26});this.sortItemArrHash[_23]=this.sortItemArrHash[_23].concat(_26);}catch(e){$W.exception.printStackTrace(e);}};$W._K.sortDragManager.prototype.activate=function(e,_29,_2a){["WebSquare.uiplugin.sortDragManager.activate"];try{var _2b=this;var _2c=_29;var _2d=null;_2a=$W.extend({className:"w2drag_widget_ghost",makeGhostLayer:function(_2e){_2e.setSize(_2c.offsetWidth,_2c.offsetHeight);return _2e;},handleStart:function(){var _2f=_2c.offsetWidth;var _30=_2c.offsetHeight;_2d=document.createElement("div");_2d.style.width=_2f+"px";_2d.style.height=_30+"px";_2d.className="w2sort_ghost";_2c.parentNode.insertBefore(_2d,_2c);_2c.old_display=_2c.style.display;_2c.style.display="none";_2b.initCache();},handleUpdate:function(x,y,dx,dy,e){var _36=$W._c.getMouseX(e);var _37=$W._c.getMouseY(e);for(var id in _2b.sortGroupArrHash){var _39=_2b.sortGroupArrHash[id];var _3a=_2b.sortItemArrHash[id];for(var i=0;i<_39.length;i++){var _3c=_39[i];var _3d=_2b.isIn(_36,_37,_3c.groupElement);if(_3d!="out"){_3c.groupElement.appendChild(_2d);}}for(var i=0;i<_3a.length;i++){var _3e=_3a[i];if(_3e!=_2c){var _3f=_2b.isIn(_36,_37,_3e);if(_3f=="top"&&_2d!=_3e.previousSibling){_3e.parentNode.insertBefore(_2d,_3e);_2b.initCache();}else{if(_3f=="bottom"&&_2d!=_3e.nextSibling){_3e.parentNode.insertBefore(_2d,_3e.nextSibling);_2b.initCache();}else{}}}}}},handleFinish:function(x,y,dx,dy){_2d.parentNode.insertBefore(_2c,_2d);_2d.parentNode.removeChild(_2d);_2c.style.display=_2c.old_display;}},_2a||{});$W._K.gDragManager.activate(e,_2c,_2a);}catch(e){$W.exception.printStackTrace(e);}};$W._K.sortDragManager.prototype.initCache=function(){["WebSquare.uiplugin.sortDragManager.initCache"];try{return;}catch(e){$W.exception.printStackTrace(e);}};$W._K.sortDragManager.prototype.isIn=function(x,y,_46){["WebSquare.uiplugin.sortDragManager.isIn"];try{var _47=$W._H.getAbsoluteLeft(_46);var top=$W._H.getAbsoluteTop(_46);var _49=_46.clientWidth;var _4a=_46.clientHeight;var _4b="";if(x>_47&&x<_47+_49&&y>top&&y<top+_4a/2){_4b="top";}else{if(x>_47&&x<_47+_49&&y>top+_4a/2&&y<top+_4a){_4b="bottom";}else{_4b="out";}}return _4b;}catch(e){$W.exception.printStackTrace(e);}};$W._K.sDragManager=new $W._K.sortDragManager();$W.dragdrop2={"droppable":{},"scrollable":{},"scrollByDragDelay":300,"scrollByDragSpeed":50};;WebSquare.dragdrop=$W._K;$W._C={};$W._C.createFormatter=function(_1,_2,_3,_4,_5,_6,_7){["WebSquare.format.createFormatter"];try{var _8=null;if(_3){_8=new $W._C.formatterAdapter(_1,_2,_3,_4);_8.scope_id=_7;return _8;}if(_1!=""){switch(_1){case "text":_8=new $W._C.textFormatter(_1,_2,_3,_4);break;case "bigDecimal":case "number":if(_2==""){_8=new $W._C.emptyFormatter(_1,_2,_3,_4);}else{_8=new $W._C.numberFormatter(_1,_2,_3,_4,_5,_6);}break;case "euro":_8=new $W._C.euroFormatter(_1,_2,_3,_4,_5,_6);break;case "rupee":_8=new $W._C.rupeeFormatter(_1,_2,_3,_4,_5,_6);break;case "tenge":_8=new $W._C.tengeFormatter(_1,_2,_3,_4,_5,_6);break;case "date":_8=new $W._C.dateFormatter(_1,_2,_3,_4);break;case "time":_8=new $W._C.timeFormatter(_1,_2,_3,_4);break;default:_8=new $W._C.emptyFormatter(_1,_2,_3,_4);}}else{_8=new $W._C.emptyFormatter(_1,_2,_3,_4);}_8.scope_id=_7;return _8;}catch(e){$W.exception.printStackTrace(e);}};$W._C.formatter=function(_9,_a,_b,_c){["WebSquare.format.formatter"];try{this.type=_9||"text";this.masking=_a||"";this.userFunc=_b||null;this.ioFormat=_c||null;this.count=0;this.hash_format_to_original={};}catch(e){$W.exception.printStackTrace(e);}};$W._C.formatter.prototype.setMasking=function(_d){this.masking=_d;};$W._C.formatter.prototype.format=function(_e,_f){["WebSquare.format.formatter.format"];try{if($W._G.isNull(_e)){return "";}_e=_e.toString();var _10=this.executeFormat(_e,_f);if(this.count>100){this.hash_format_to_original={};this.count=0;}this.hash_format_to_original[_10]=_e;this.count++;return _10;}catch(e){$W.exception.printStackTrace(e);}};$W._C.formatter.prototype.unformat=function(_11){["WebSquare.format.formatter.unformat"];try{if(this.hash_format_to_original[_11]!=undefined){return this.hash_format_to_original[_11];}else{return _11;}}catch(e){$W.exception.printStackTrace(e);}};$W._C.formatter.prototype.executeFormat=function(_12){alert("you should override 'executeFormat'");};$W._C.emptyFormatter=function(_13,_14,_15,_16){$W._C.formatter.call(this,_13,_14,_15,_16);};$W.extend($W._C.emptyFormatter.prototype,$W._C.formatter.prototype);$W._C.emptyFormatter.prototype.executeFormat=function(_17){return _17;};$W._C.textFormatter=function(_18,_19,_1a,_1b){$W._C.formatter.call(this,_18,_19,_1a,_1b);};$W.extend($W._C.textFormatter.prototype,$W._C.formatter.prototype);$W._C.textFormatter.prototype.executeFormat=function(_1c){["WebSquare.format.textFormatter.executeFormat"];try{_1c=$W._A.formatText(_1c,this.masking,this.ioFormat);return _1c;}catch(e){$W.exception.printStackTrace(e);}};$W._C.numberFormatter=function(_1d,_1e,_1f,_20,_21,_22){$W._C.formatter.call(this,_1d,_1e,_1f,_20);this.delemeter=_21;this.decimalDelimeter=_22;};$W.extend($W._C.numberFormatter.prototype,$W._C.formatter.prototype);$W._C.numberFormatter.prototype.executeFormat=function(_23,_24){["WebSquare.format.numberFormatter.executeFormat"];try{_23=$W._A.formatCurrency(_23,this.masking,this.ioFormat,_24,this.delemeter,this.decimalDelimeter);return _23;}catch(e){$W.exception.printStackTrace(e);}};$W._C.euroFormatter=function(_25,_26,_27,_28,_29,_2a){$W._C.formatter.call(this,_25,_26,_27,_28);this.delemeter=_29;this.decimalDelimeter=_2a;};$W.extend($W._C.euroFormatter.prototype,$W._C.formatter.prototype);$W._C.euroFormatter.prototype.executeFormat=function(_2b,_2c){["WebSquare.format.euroFormatter.executeFormat"];try{_2b=$W._A.formatEuroCurrency(_2b,this.masking,this.ioFormat,_2c,this.delemeter,this.decimalDelimeter);return _2b;}catch(e){$W.exception.printStackTrace(e);}};$W._C.rupeeFormatter=function(_2d,_2e,_2f,_30,_31,_32){$W._C.formatter.call(this,_2d,_2e,_2f,_30);this.delemeter=_31;this.decimalDelimeter=_32;};$W.extend($W._C.rupeeFormatter.prototype,$W._C.formatter.prototype);$W._C.rupeeFormatter.prototype.executeFormat=function(_33,_34){["WebSquare.format.rupeeFormatter.executeFormat"];try{_33=$W._A.formatRupeeCurrency(_33,this.masking,this.ioFormat,_34,this.delemeter,this.decimalDelimeter);return _33;}catch(e){$W.exception.printStackTrace(e);}};$W._C.tengeFormatter=function(_35,_36,_37,_38,_39,_3a){$W._C.formatter.call(this,_35,_36,_37,_38);this.delemeter=_39;this.decimalDelimeter=_3a;};$W.extend($W._C.tengeFormatter.prototype,$W._C.formatter.prototype);$W._C.tengeFormatter.prototype.executeFormat=function(_3b,_3c){["WebSquare.format.tengeFormatter.executeFormat"];try{_3b=$W._A.formatTengeCurrency(_3b,this.masking,this.ioFormat,_3c,this.delemeter,this.decimalDelimeter);return _3b;}catch(e){$W.exception.printStackTrace(e);}};$W._C.dateFormatter=function(_3d,_3e,_3f,_40){$W._C.formatter.call(this,_3d,_3e,_3f,_40);};$W.extend($W._C.dateFormatter.prototype,$W._C.formatter.prototype);$W._C.dateFormatter.prototype.executeFormat=function(_41){["WebSquare.format.dateFormatter.executeFormat"];try{_41=$W._A.formatDate(_41,this.masking,this.ioFormat);return _41;}catch(e){$W.exception.printStackTrace(e);}};$W._C.timeFormatter=function(_42,_43,_44,_45){$W._C.formatter.call(this,_42,_43,_44,_45);};$W.extend($W._C.timeFormatter.prototype,$W._C.formatter.prototype);$W._C.timeFormatter.prototype.executeFormat=function(_46){["WebSquare.format.timeFormatter.executeFormat"];try{_46=$W._A.formatTime(_46,this.masking,this.ioFormat);return _46;}catch(e){$W.exception.printStackTrace(e);}};$W._C.formatterAdapter=function(_47,_48,_49,_4a){$W._C.formatter.call(this,_47,_48,_49,_4a);this.userFunc=_49;};$W.extend($W._C.formatterAdapter.prototype,$W._C.formatter.prototype);$W._C.formatterAdapter.prototype.executeFormat=function(_4b){["WebSquare.format.formatterAdapter.executeFormat"];try{if(typeof this.userFunc!="function"){try{var _4c=$W._G.getGlobalFunction(this.userFunc,this.scope_id);if(_4c!=null){this.userFunc=_4c;}}catch(e){}}if(typeof this.userFunc=="function"){_4b=this.userFunc(_4b);}return _4b;}catch(e){$W.exception.printStackTrace(e);}};;WebSquare.format=$W._C;$W._H={styleHash:new Object()};$W._H.camelize=function(_1){["WebSquare.style.makeStyle"];var _2=_1.split("-");if(_2.length==1){return _2[0];}var _3=_1.indexOf("-")==0?_2[0].charAt(0).toUpperCase()+_2[0].substring(1):_2[0];for(var i=1,len=_2.length;i<len;i++){var s=_2[i];_3+=s.charAt(0).toUpperCase()+s.substring(1);}return _3;};$W._H.setStyle=function(_6,_7,_8){["WebSquare.style.setStyle"];if(typeof _7=="object"){for(var _9 in _7){_6.style[$W._H.camelize(_9)]=_7[_9];}}else{if(typeof _7=="string"){var _9=_7.capitalizeStyle();if(_9=="opacity"){if(_6.style.opacity===undefined){var _a=parseFloat(_8,10);_a=isNaN(_a)?1:_a;_9="filter";_8="alpha(opacity="+100*_a+")";}}else{if(_9=="float"){if(_6.style.cssFloat!==undefined){_6.style.cssFloat=_8;}else{if(_6.style.styleFloat!==undefined){_6.style.styleFloat=_8;}}}}_6.style[_9]=_8;}}};if(document.documentElement.currentStyle){$W._H.getStyleProperty=function(_b,_c){_c=_c.wq_trim().capitalizeStyle();var _d=_b.currentStyle[_c];if(_c.toLowerCase().indexOf("color")>-1){return $W._G.toHexColor(_d);}else{return _d;}};}else{if(window.getComputedStyle){$W._H.getStyleProperty=function(_e,_f){var _10=document.defaultView.getComputedStyle(_e,null).getPropertyValue(_f);if(_f.toLowerCase().indexOf("color")>-1){return $W._G.toHexColor(_10);}else{return _10;}};}else{$W._H.getStyleProperty=function(_11,_12){var _13=_11.style[_12];if(_12.toLowerCase().indexOf("color")>-1){return $W._G.toHexColor(_13);}else{return _13;}};}}$W._H.getStyle=function(_14,_15){["WebSquare.style.getStyle"];var _16=$W._H.getStyleProperty(_14,_15);if(!_16){if(_15=="opacity"){var _17=$W._H.getStyleProperty(_14,"filter");var _18=_17.match(/alpha\(.*\)/gi)||[""];var _19=_18[0].match(/opacity=\d+/gi)||[""];_16=(parseInt(_19[0].substr(8)||"100",10)/100)+"";}else{if(_15=="float"){_16=$W._H.getStyleProperty(_14,"styleFloat");}}}return _16;};$W._H.OpacRe1=new RegExp("Gecko");$W._H.OpacRe2=new RegExp("Konqueror|Safari|KHTML");$W._H.OpacRe3=new RegExp("MSIE");$W._H.OpacRe4=new RegExp("alpha\\([^\\)]*\\)","gi");$W._H.setOpacity=function(_1a,_1b){if(_1b==1){$W._H.setStyle(_1a,{opacity:($W._H.OpacRe1.test(navigator.userAgent)&&!$W._H.OpacRe2.test(navigator.userAgent))?0.999999:null});if($W._H.OpacRe3.test(navigator.userAgent)){$W._H.setStyle(_1a,{filter:$W._H.getStyle(_1a,"filter").replace($W._H.OpacRe4,"")});}}else{if(_1b<0.00001){_1b=0;}$W._H.setStyle(_1a,{opacity:_1b});if($W._H.OpacRe3.test(navigator.userAgent)){$W._H.setStyle(_1a,{filter:$W._H.getStyle(_1a,"filter").replace($W._H.OpacRe4,"")+"alpha(opacity="+_1b*100+")"});}}};$W._H.extendStyle=function(_1c,_1d){["WebSquare.style.makeStyleString"];var _1e=new Object();for(key in _1c){_1e[$W._H.camelize(key)]=_1c[key];}for(key in _1d){var _1f=$W._H.camelize(key);_1e[_1f]=_1d[key];}return _1e;};$W._H.setSize=function(_20,_21,_22){["WebSquare.style.setSize"];try{if(!_20){return;}_21=parseInt(_21);_22=parseInt(_22);if(_21!=null&&!isNaN(_21)&&_21>=0){_20.style.width=_21+"px";}if(_22!=null&&!isNaN(_22)&&_22>=0){_20.style.height=_22+"px";}}catch(e){$W.exception.printStackTrace(e);}};$W._H.getSize=function(_23,_24){["WebSquare.style.getSize"];try{if(!_23){return;}var _24=_24.toLowerCase();if(_24=="height"){return _23.clientHeight;}else{if(_24=="width"){return _23.clientWidth;}else{if(_24=="innerheight"){var _25=parseInt($W._H.getStyleProperty(_23,"padding-top"))||0;var _26=parseInt($W._H.getStyleProperty(_23,"padding-bottom"))||0;return _23.clientHeight+_25+_26;}else{if(_24=="innerwidth"){var _27=parseInt($W._H.getStyleProperty(_23,"padding-left"))||0;var _28=parseInt($W._H.getStyleProperty(_23,"padding-right"))||0;return _23.clientWidth+_27+_28;}else{if(_24=="outerheight"){var _29=parseInt($W._H.getStyleProperty(_23,"border-top-width"))||0;var _2a=parseInt($W._H.getStyleProperty(_23,"border-bottom-width"))||0;var _25=parseInt($W._H.getStyleProperty(_23,"padding-top"))||0;var _26=parseInt($W._H.getStyleProperty(_23,"padding-bottom"))||0;return _23.clientHeight+_29+_2a+_25+_26;}else{if(_24=="outerwidth"){var _2b=parseInt($W._H.getStyleProperty(_23,"border-left-width"))||0;var _2c=parseInt($W._H.getStyleProperty(_23,"border-right-width"))||0;var _27=parseInt($W._H.getStyleProperty(_23,"padding-left"))||0;var _28=parseInt($W._H.getStyleProperty(_23,"padding-right"))||0;return _23.clientWidth+_2b+_2c+_27+_28;}else{if(_24=="outermarginheight"){var _29=parseInt($W._H.getStyleProperty(_23,"border-top-width"))||0;var _2a=parseInt($W._H.getStyleProperty(_23,"border-bottom-width"))||0;var _25=parseInt($W._H.getStyleProperty(_23,"padding-top"))||0;var _26=parseInt($W._H.getStyleProperty(_23,"padding-bottom"))||0;var _2d=parseInt($W._H.getStyleProperty(_23,"margin-top"))||0;var _2e=parseInt($W._H.getStyleProperty(_23,"margin-bottom"))||0;return _23.clientHeight+_29+_2a+_25+_26+_2d+_2e;}else{if(_24=="outermarginwidth"){var _2b=parseInt($W._H.getStyleProperty(_23,"border-left-width"))||0;var _2c=parseInt($W._H.getStyleProperty(_23,"border-right-width"))||0;var _27=parseInt($W._H.getStyleProperty(_23,"padding-left"))||0;var _28=parseInt($W._H.getStyleProperty(_23,"padding-right"))||0;var _2f=parseInt($W._H.getStyleProperty(_23,"margin-left"))||0;var _30=parseInt($W._H.getStyleProperty(_23,"margin-right"))||0;return _23.clientWidth+_2b+_2c+_27+_28+_2f+_30;}}}}}}}}$l("getSize : wrong sizeName["+_24+"]");return;}catch(e){$W.exception.printStackTrace(e);}};$W._H.animate=function(_31,_32,_33){var _33=_33||{duration:500};_33.easing=_33.easing||"ease";_33.startTime=new Date();_33.key=_33.key||"WebSquare.style.animate_"+Math.random();_33.delay=15;if(typeof _32=="object"){if(_31&&_31.render){_31=_31.render;}var _34=$W._G.isArray(_31)?_31:[_31];var _35=[];var _36=[];for(var i=0;i<_34.length;i++){var el=_34[i];var _39={};var _3a=_32;for(var key in _3a){_39[key]=$W._H.getStyle(el,key);if(typeof _39[key]=="string"){var str=(_3a[key]+"").wq_trim();if(str.startsWith("+=")){_3a[key]=parseFloat(_39[key])+parseFloat(str.substr(2));}else{if(str.startsWith("-=")){_3a[key]=parseFloat(_39[key])-parseFloat(str.substr(2));}}}}_35.push(_39);_36.push(_3a);}_32=function(t){for(var i=0;i<_34.length;i++){var el=_34[i];var _40=_35[i];var _41=_36[i];for(var key in _41){var _43=parseFloat(_40[key]);var _44=_40[key].substr((_43+"").length);var _45=_43+t*(_41[key]-_43);$W._H.setStyle(el,key,_45+_44);}}};}else{if(!_33.caller&&_31){_33.caller=_31;}}var _46=function(){var _47=(new Date()-_33.startTime)/_33.duration;(_47>1)&&(_47=1);t=$W._H.cubicBezierAtTime(_47,_33.easing,_33.duration);_32.call(_33.caller,t);if(t<1){$W._N.setTimer(_46,_33);}else{if(_33.complete){_33.complete.call(_33.caller);}}};$W._N.setTimer(_46,_33);return _33.key;};$W._H.cubicBezierAtTime=function(t,cp,_4a){if(typeof cp=="string"){switch(cp){case "ease":cp=[0.25,0.1,0.25,1];break;case "linear":cp=[0,0,1,1];break;case "ease-in":cp=[0.42,0,1,1];break;case "ease-out":cp=[0,0,0.58,1];break;case "ease-in-out":cp=[0.42,0,0.58,1];break;case "deceleration":cp=[0,0,0,1];break;case "acceleration":cp=[1,0,1,1];break;case "default":default:cp=[0.25,0.1,0.25,1];}}var p1x=cp[0],p1y=cp[1],p2x=cp[2],p2y=cp[3];var ax=0,bx=0,cx=0,ay=0,by=0,cy=0;function sampleCurveX(t){return ((ax*t+bx)*t+cx)*t;}function sampleCurveY(t){return ((ay*t+by)*t+cy)*t;}function sampleCurveDerivativeX(t){return (3*ax*t+2*bx)*t+cx;}function solveEpsilon(_50){return 1/(200*_50);}function solve(x,_52){return sampleCurveY(solveCurveX(x,_52));}function solveCurveX(x,_54){var t0,t1,t2,x2,d2,i;function fabs(n){if(n>=0){return n;}else{return 0-n;}}for(t2=x,i=0;i<8;i++){x2=sampleCurveX(t2)-x;if(fabs(x2)<_54){return t2;}d2=sampleCurveDerivativeX(t2);if(fabs(d2)<0.000001){break;}t2=t2-x2/d2;}t0=0;t1=1;t2=x;if(t2<t0){return t0;}if(t2>t1){return t1;}while(t0<t1){x2=sampleCurveX(t2);if(fabs(x2-x)<_54){return t2;}if(x>x2){t0=t2;}else{t1=t2;}t2=(t1-t0)*0.5+t0;}return t2;}cx=3*p1x;bx=3*(p2x-p1x)-cx;ax=1-cx-bx;cy=3*p1y;by=3*(p2y-p1y)-cy;ay=1-cy-by;return solve(t,solveEpsilon(_4a));};$W._H.addClass=function(_57,_58){["WebSquare.style.addClass"];try{if(!_57||!_58){return;}var _59=_57.className.wq_trim();var _5a=_59.split(" ");for(var i=0;i<_5a.length;i++){var tmp=_5a[i].wq_trim();if((" "+tmp+" ").indexOf(" "+_58+" ")>-1){if(i==_5a.length-1){return;}}else{continue;}}if(_5a.length>1){_59+=" ";}_59+=_58.wq_trim();_57.className=_59;}catch(e){$W.exception.printStackTrace(e);}};$W._H.removeClass=function(_5d,_5e){["WebSquare.style.removeClass"];try{if(!_5d||!_5e){return;}var _5f=_5d.className.split(" ");var _60=[];for(var i=0;i<_5f.length;i++){var tmp=_5f[i].wq_trim();if((" "+tmp+" ").indexOf(" "+_5e+" ")>-1){continue;}else{if(tmp.length>0){_60.push(tmp);}}}_5d.className=_60.join(" ");}catch(e){$W.exception.printStackTrace(e);}};$W._H.show=function(_63,_64){["WebSquare.style.show"];try{if(!_63){return;}if(typeof _64==="undefined"){_64="block";}_63.style.display=_64;_63.style.visibility="visible";if($W._G.isIE(6)){$W._H.addClass(_63," ");}_63.setAttribute("aria-hidden","false");if($W.layer.disabledList.length>0){$W._H.addClass(_63,"w2modal_popupLayer");}}catch(e){$W.exception.printStackTrace(e);}};$W._H.hide=function(_65){["WebSquare.style.hide"];try{if(!_65){return;}_65.style.display="none";_65.style.visibility="hidden";_65.setAttribute("aria-hidden","true");$W._H.removeClass(_65,"w2modal_popupLayer");}catch(e){$W.exception.printStackTrace(e);}};$W._H.getAbsoluteTop=function(_66){["WebSquare.style.getAbsoluteTop"];var _67=0;try{if(!_66){return 0;}if(_66.getBoundingClientRect!=null){var top=_66.getBoundingClientRect().top;var doc=_66.ownerDocument;var _6a=doc.documentElement;var _6b=doc.body;var _6c=(doc.window===doc)?doc:(doc.nodeType===9?(doc.defaultView||doc.parentWindow):null);var _6d=_6a.clientTop||_6b.clientTop||0;var _6e=_6c.pageYOffset||_6a.scrollTop;if($W._G.isIE(9)||$W._G.isIE(10)){_6e=_6a.scrollTop;}var _6f=_6b.getBoundingClientRect();var _70=($W._G.isIE("6")||$W._G.isIE("7"))?((_6f.bottom-_6f.top)/_6b.offsetHeight):1;_67=(top+_6e-_6d)/_70;}else{var _71=_66;var _72=_66;var _73=0;while(_72.tagName!="BODY"){var _74=$W._G.parseFloat($W._G.getStyleProperty(_72,"border-top-width"),0);if($W._G.isOpera()){_74=0;}var top=_72.offsetTop;if($W._G.getStyleProperty(_72,"position")=="fixed"){top=$W._G.parseFloat($W._G.getStyleProperty(_72,"top"),0);if(!$W._G.isIE("6")){_73+=top+_74-_72.scrollTop+_74+(window.scrollY||document.documentElement.scrollTop);break;}}else{if($W._G.getStyleProperty(_72,"position")!="static"||_71==_72){_73+=top+_74-_72.scrollTop;}else{_73-=_72.scrollTop;}}_72=_72.parentNode;}_67=_73;}}catch(e){}return _67;};$W._H.getAbsoluteLeft=function(_75){["WebSquare.style.getAbsoluteLeft"];var _76=0;try{if(!_75){return 0;}if(_75.getBoundingClientRect!=null){var _77=_75.getBoundingClientRect().left;var doc=_75.ownerDocument;var _79=doc.documentElement;var _7a=doc.body;var _7b=(doc.window===doc)?doc:(doc.nodeType===9?(doc.defaultView||doc.parentWindow):null);var _7c=_79.clientLeft||_7a.clientLeft||0;var _7d=_7b.pageXOffset||_79.scrollLeft;if($W._G.isIE(9)||$W._G.isIE(10)){_7d=_79.scrollLeft;}var _7e=_7a.getBoundingClientRect();var _7f=($W._G.isIE("6")||$W._G.isIE("7"))?((_7e.right-_7e.left)/_7a.offsetWidth):1;_76=(_77+_7d-_7c)/_7f;}else{var _80=0;var _81=_75;var _82=_75;while(_81.tagName!="BODY"){var _83=$W._G.parseFloat($W._G.getStyleProperty(_81,"border-left-width"),0);if($W._G.isOpera()){_83=0;}var _77=_81.offsetLeft;if($W._G.getStyleProperty(_81,"position")=="fixed"){if(typeof $W._G.getStyleProperty(_81,"left")=="number"){_77=$W._G.parseFloat($W._G.getStyleProperty(_81,"left"),0);}if(!$W._G.isIE("6")){_80+=_77+_83-_81.scrollLeft+(window.scrollX||document.documentElement.scrollLeft);break;}}else{if($W._G.getStyleProperty(_81,"position")!="static"||_82==_81){_80+=_77+_83-_81.scrollLeft;}else{_80-=_81.scrollLeft;}}_81=_81.parentNode;}_76=_80;}}catch(e){}return _76;};$W._H.getRelativeTop=function(_84,_85){["WebSquare.style.getRelativeTop"];var _86=0;try{_86=$W._H.getAbsoluteTop(_84)-$W._H.getAbsoluteTop(_85);}catch(e){}return _86;};$W._H.getRelativeLeft=function(_87,_88){["WebSquare.style.getRelativeLeft"];var _89=0;try{_89=$W._H.getAbsoluteLeft(_87)-$W._H.getAbsoluteLeft(_88);}catch(e){}return _89;};;WebSquare.style=$W._H;$W._p={};$W.IValidate=function(){};$W.IValidate.prototype.validate=function(){return true;};$W.IValidate.prototype.setMandatory=function(_1){if(this.validator){if(_1==false){this.validator.removeCommand(new $W._p.mandatoryCommand(this.options.mandatory));}else{this.validator.addCommand(new $W._p.mandatoryCommand(_1));}this.onPropertyChange("mandatory",_1);}this.options.mandatory=_1;};$W.IValidate.prototype.getMandatory=function(){return this.options.mandatory;};$W.IValidate.prototype.setMinLength=function(_2){if(this.validator){this.validator.removeCommand(new $W._p.minLengthCommand(this.options.minLength));this.validator.addCommand(new $W._p.minLengthCommand(_2));}this.options.minlength=_2;};$W.IValidate.prototype.getMinLength=function(){return this.options.minlength;};$W.IValidate.prototype.setMaxLength=function(_3){if(this.validator){this.validator.removeCommand(new $W._p.maxLengthCommand(this.options.maxLength));this.validator.addCommand(new $W._p.maxLengthCommand(_3));}this.options.maxlength=_3;if(this.render&&this.render.tagName.toLowerCase()=="input"){this.render.maxLength=_3;}};$W.IValidate.prototype.getMaxLength=function(){return this.options.maxlength;};$W.IValidate.prototype.setMinByteLength=function(_4){if(this.validator){this.validator.removeCommand(new $W._p.minByteLengthCommand(this.options.minByteLength));this.validator.addCommand(new $W._p.minByteLengthCommand(_4));}this.options.minByteLength=_4;};$W.IValidate.prototype.getMinByteLength=function(){return this.options.minByteLength;};$W.IValidate.prototype.setMaxByteLength=function(_5){if(this.validator){this.validator.removeCommand(new $W._p.maxByteLengthCommand(this.options.maxByteLength));this.validator.addCommand(new $W._p.maxByteLengthCommand(_5));}this.options.maxByteLength=_5;};$W.IValidate.prototype.getMaxByteLength=function(){return this.options.maxByteLength;};$W.IValidate.prototype.getAllowChar=function(){return this.options.allowChar;};$W.IValidate.prototype.setIgnoreChar=function(_6){this.options.ignoreChar=_6;};$W.IValidate.prototype.getIgnoreChar=function(){return this.options.ignoreChar;};$W.IValidate.prototype.getDisplayMessage=function(){return this.options.displaymessage;};$W.IValidate.prototype.getInvalidMessage=function(){return this.options.invalidMessage;};$W._p.validateCommand=function(){};$W._p.validateCommand.prototype.executeValidate=function(_7){alert("you should override 'executeValidate'");return true;};$W._p.validateCommand.prototype.executeValidateString=function(_8){alert("you should override 'executeValidateString'");return _8;};$W._p.validateCommand.prototype.executeValidateKeyPress=function(_9,_a,e){alert("you should override 'executeValidateKeyPress'");return true;};$W._p.validateCommand.prototype.executeInvalidMessage=function(){alert("you should override 'executeInvalidMessage'");return "invalidMessage";};$W._p.validateCommand.prototype.getType=function(){alert("you should override 'getType'");return "";};$W._p.validateCommand.prototype.getValue=function(){alert("you should override 'getValue'");return "";};$W._p.invalidObject=function(_c,_d){["WebSquare.validator.invalidObject"];try{this.invalidCommand=_d;this.callerId=_c;}catch(e){$W.exception.printStackTrace(e);}};$W._p.invalidObject.prototype.getCaller=function(){var _e=null;try{_e=$W._N.getComponentById(this.callerId);}catch(e){}return _e;};$W._p.invalidObject.prototype.getType=function(){if(this.invalidCommand){return this.invalidCommand.getType();}return "";};$W._p.invalidObject.prototype.getValue=function(){if(this.invalidCommand){return this.invalidCommand.getValue();}return "";};$W._p.invalidObject.prototype.getPrefix=function(){return null;};$W._p.validateInvoker=function(id,_10){["WebSquare.validator.validateInvoker"];try{this.commandList=[];this.invalidMessage=_10.invalidMessage||"";this.displaymessage=_10.displaymessage||false;this.invalidMessageFunc=_10.invalidMessageFunc||null;if(this.invalidMessageFunc){if(this.invalidMessageFunc.indexOf("(")<0){this.invalidMessageFunc+="()";}this.invalidMsgFuncName=this.invalidMessageFunc.substring(0,this.invalidMessageFunc.indexOf("("));this.tmpFunc=this.invalidMessageFunc.replace(this.invalidMsgFuncName,"this.doValidate");}this.callerId=id;if(typeof _10.mandatory!="undefined"&&_10.mandatory==true){this.addCommand(new $W._p.mandatoryCommand(_10.mandatory));}if(typeof _10.allowChar!="undefined"&&_10.allowChar!=""){this.addCommand(new $W._p.allowCharCommand(_10.allowChar));}if(typeof _10.ignoreChar!="undefined"&&_10.ignoreChar!=""){this.addCommand(new $W._p.ignoreCharCommand(_10.ignoreChar));}if(typeof _10.maxlength!="undefined"&&_10.maxlength!=-1){this.addCommand(new $W._p.maxLengthCommand(_10.maxlength));}if(typeof _10.minlength!="undefined"&&_10.minlength!=-1){this.addCommand(new $W._p.minLengthCommand(_10.minlength));}if(typeof _10.maxByteLength!="undefined"&&_10.maxByteLength!=-1){this.addCommand(new $W._p.maxByteLengthCommand(_10.maxByteLength,_10.byteCheckIgnoreChar));}if(typeof _10.minByteLength!="undefined"&&_10.minByteLength!=-1){this.addCommand(new $W._p.minByteLengthCommand(_10.minByteLength));}if(typeof _10.validator!="undefined"&&_10.validator!=""){this.addCommand(new $W._p.commandAdapter(_10.validator));}}catch(e){$W.exception.printStackTrace(e);}};$W._p.validateInvoker.prototype.addCommand=function(_11,_12){["WebSquare.validator.validateInvoker.addCommand"];try{if(_12===true){this.commandList.unshift(_11);}else{this.commandList.push(_11);}}catch(e){$W.exception.printStackTrace(e);}};$W._p.validateInvoker.prototype.removeCommand=function(_13){["WebSquare.validator.validateInvoker.removeCommand"];try{var _14=new Array();for(var i=0;i<this.commandList.length;i++){if(this.commandList[i].getType()!=_13.getType()){_14.push(this.commandList[i]);}}this.commandList=_14;}catch(e){$W.exception.printStackTrace(e);}};$W._p.validateInvoker.prototype.clearCommand=function(){["WebSquare.validator.validateInvoker.clearCommand"];try{this.commandList=null;this.commandList=[];}catch(e){$W.exception.printStackTrace(e);}};$W._p.validateInvoker.prototype.applyPriority=function(){["WebSquare.validator.validateInvoker.applyPriority"];try{}catch(e){$W.exception.printStackTrace(e);}};$W._p.validateInvoker.prototype.validate=function(_16){["WebSquare.validator.validateInvoker.validate"];try{var _17=true;var _18="";this.obfuscator_invalidObject=null;for(var i=0;i<this.commandList.length;i++){if(!this.commandList[i].executeValidate(_16)){_17=false;var _1a=this.commandList[i].executeInvalidMessage();_18+=(_1a+"\n");this.obfuscator_invalidObject=new $W._p.invalidObject(this.callerId,this.commandList[i]);break;}}if(_17==false){if(this.invalidMessage!=""&&this.invalidMessage!=undefined){_18=this.invalidMessage;}if(this.invalidMessageFunc&&this.obfuscator_invalidObject){try{_18=eval(this.tmpFunc);}catch(e){_18="";}}if(this.displaymessage==true&&_18){try{alert(_18);}catch(e){}}}return _17;}catch(e){$W.exception.printStackTrace(e);}};$W._p.validateInvoker.prototype.doValidate=function(){var _1b=eval(this.invalidMsgFuncName);var ret=_1b.apply(this.obfuscator_invalidObject,arguments);return ret;};$W._p.validateInvoker.prototype.validateString=function(_1d){["WebSquare.validator.validateInvoker.validateString"];try{this.applyPriority();for(var i=0;i<this.commandList.length;i++){_1d=this.commandList[i].executeValidateString(_1d);}return _1d;}catch(e){$W.exception.printStackTrace(e);}};$W._p.validateInvoker.prototype.validateKeyPress=function(_1f,_20,e){["WebSquare.validator.validateInvoker.validateKeyPress"];try{if((e.metaKey==true||e.ctrlKey==true)&&(e.charCode==67||e.charCode==99||e.charCode==86||e.charCode==118)){return true;}var _22=true;for(var i=0;i<this.commandList.length;i++){if(!this.commandList[i].executeValidateKeyPress(_1f,_20,e)){_22=false;break;}}return _22;}catch(e){$W.exception.printStackTrace(e);}};$W._p.mandatoryCommand=function(_24){this.mandatory=_24;};$W.extend($W._p.mandatoryCommand.prototype,$W._p.validateCommand.prototype);$W._p.mandatoryCommand.prototype.getType=function(){return "mandatory";};$W._p.mandatoryCommand.prototype.getValue=function(){return "";};$W._p.mandatoryCommand.prototype.executeValidate=function(_25){["WebSquare.validator.mandatoryCommand.executeValidate"];try{if(_25!=""){return true;}else{return false;}}catch(e){$W.exception.printStackTrace(e);}};$W._p.mandatoryCommand.prototype.executeValidateString=function(_26){return _26;};$W._p.mandatoryCommand.prototype.executeValidateKeyPress=function(_27){return true;};$W._p.mandatoryCommand.prototype.executeInvalidMessage=function(){var _28=$W._m.getMessage("V_error_mandatory");return _28;};$W._p.maxLengthCommand=function(max){this.maxLength=max||0;};$W.extend($W._p.maxLengthCommand.prototype,$W._p.validateCommand.prototype);$W._p.maxLengthCommand.prototype.getType=function(){return "maxLength";};$W._p.maxLengthCommand.prototype.getValue=function(){return this.maxLength;};$W._p.maxLengthCommand.prototype.executeValidate=function(_2a){var _2b=true;if(_2a.length>this.maxLength){_2b=false;}return _2b;};$W._p.maxLengthCommand.prototype.executeValidateString=function(_2c){["WebSquare.validator.maxLengthCommand.executeValidateString"];try{if(_2c&&_2c.length>this.maxLength){_2c=_2c.substr(0,this.maxLength);}return _2c;}catch(e){$W.exception.printStackTrace(e);}};$W._p.maxLengthCommand.prototype.executeValidateKeyPress=function(_2d,_2e,e){["WebSquare.validator.maxLengthCommand.executeValidateKeyPress"];try{_2d.maxLength=this.maxLength;return true;}catch(e){$W.exception.printStackTrace(e);}};$W._p.maxLengthCommand.prototype.executeInvalidMessage=function(){var _30=$W._m.getMessage("V_error_maxLength",this.maxLength);return _30;};$W._p.minLengthCommand=function(min){this.minLength=min||0;};$W.extend($W._p.minLengthCommand.prototype,$W._p.validateCommand.prototype);$W._p.minLengthCommand.prototype.getType=function(){return "minLength";};$W._p.minLengthCommand.prototype.getValue=function(){return this.minLength;};$W._p.minLengthCommand.prototype.executeValidate=function(_32){["WebSquare.validator.minLengthCommand.executeValidate"];try{var _33=true;if(_32.length<this.minLength){_33=false;}return _33;}catch(e){$W.exception.printStackTrace(e);}};$W._p.minLengthCommand.prototype.executeValidateString=function(_34){return _34;};$W._p.minLengthCommand.prototype.executeValidateKeyPress=function(_35,_36,e){return true;};$W._p.minLengthCommand.prototype.executeInvalidMessage=function(){var _38=$W._m.getMessage("V_error_minLength",this.minLength);return _38;};$W._p.maxByteLengthCommand=function(max,_3a){this.maxByteLength=max||0;this.byteCheckIgnoreChar=_3a||"";};$W.extend($W._p.maxByteLengthCommand.prototype,$W._p.validateCommand.prototype);$W._p.maxByteLengthCommand.prototype.getType=function(){return "maxByteLength";};$W._p.maxByteLengthCommand.prototype.getValue=function(){return this.maxByteLength;};$W._p.maxByteLengthCommand.prototype.executeValidate=function(_3b){try{var _3c=true;var _3d=$W._G.getStringByteSize(_3b);if(_3d>this.maxByteLength){_3c=false;}return _3c;}catch(e){$W.exception.printStackTrace(e);}};$W._p.maxByteLengthCommand.prototype.executeValidateString=function(_3e){["WebSquare.validator.maxByteLengthCommand.executeValidateString"];try{var _3f=$W._G.getStringByteSize(_3e,this.byteCheckIgnoreChar);while(_3e.length>0&&_3f>this.maxByteLength){_3e=_3e.substr(0,_3e.length-1);_3f=$W._G.getStringByteSize(_3e,this.byteCheckIgnoreChar);}return _3e;}catch(e){$W.exception.printStackTrace(e);}};$W._p.maxByteLengthCommand.prototype.executeValidateKeyPress=function(_40,_41,e){["WebSquare.validator.maxByteLengthCommand.executeValidateKeyPress"];return true;};$W._p.maxByteLengthCommand.prototype.executeInvalidMessage=function(){var _43=$W._m.getMessage("V_error_maxByteLength",this.maxByteLength);return _43;};$W._p.minByteLengthCommand=function(min){this.minByteLength=min||0;};$W.extend($W._p.minByteLengthCommand.prototype,$W._p.validateCommand.prototype);$W._p.minByteLengthCommand.prototype.getType=function(){return "minByteLength";};$W._p.minByteLengthCommand.prototype.getValue=function(){return this.minByteLength;};$W._p.minByteLengthCommand.prototype.executeValidate=function(_45){["WebSquare.validator.minByteLengthCommand.executeValidate"];try{var _46=true;var _47=$W._G.getStringByteSize(_45);if(_47<this.minByteLength){_46=false;}return _46;}catch(e){$W.exception.printStackTrace(e);}};$W._p.minByteLengthCommand.prototype.executeValidateString=function(_48){return _48;};$W._p.minByteLengthCommand.prototype.executeValidateKeyPress=function(_49,_4a,e){return true;};$W._p.minByteLengthCommand.prototype.executeInvalidMessage=function(){var _4c=$W._m.getMessage("V_error_minByteLength",this.minByteLength);return _4c;};$W._p.allowCharCommand=function(_4d){this.allowChar=_4d;this.regExp=new RegExp("["+_4d+"]","g");};$W.extend($W._p.allowCharCommand.prototype,$W._p.validateCommand.prototype);$W._p.allowCharCommand.prototype.getType=function(){return "allowChar";};$W._p.allowCharCommand.prototype.getValue=function(){return this.allowChar;};$W._p.allowCharCommand.prototype.executeValidate=function(_4e){["WebSquare.validator.allowCharCommand.executeValidate"];try{var _4f=true;var _50=_4e.match(this.regExp);if(_4e!=""){if(!_50||(_50&&_50.length!==_4e.length)){_4f=false;}}return _4f;}catch(e){$W.exception.printStackTrace(e);}};$W._p.allowCharCommand.prototype.executeValidateString=function(_51){["WebSquare.validator.allowCharCommand.executeValidateString"];try{var _52=_51.match(this.regExp);if(_52){_51=_52.join("");}else{_51="";}return _51;}catch(e){$W.exception.printStackTrace(e);}};$W._p.allowCharCommand.prototype.executeValidateKeyPress=function(_53,_54,e){["WebSquare.validator.allowCharCommand.executeValidateKeyPress"];try{var _56=true;if(e){var _57=(e.charCode)?e.charCode:e.keyCode;var _58=String.fromCharCode(_57);if(!_58.match(this.regExp)){_56=false;}if($W._G.isFF()&&e.charCode==0){_56=true;}if($W._G.isOpera()){if($W._G.isOpera()){if($W._G.getIgnoreKeyPressCodes()[_57]){_56=true;}}}}return _56;}catch(e){$W.exception.printStackTrace(e);}};$W._p.allowCharCommand.prototype.executeInvalidMessage=function(){var _59=$W._m.getMessage("V_error_allowChar",this.allowChar);return _59;};$W._p.ignoreCharCommand=function(_5a){this.ignoreChar=_5a;this.regExp=new RegExp("["+_5a+"]","g");};$W.extend($W._p.ignoreCharCommand.prototype,$W._p.validateCommand.prototype);$W._p.ignoreCharCommand.prototype.getType=function(){return "ignoreChar";};$W._p.ignoreCharCommand.prototype.getValue=function(){return this.ignoreChar;};$W._p.ignoreCharCommand.prototype.executeValidate=function(_5b){["WebSquare.validator.ignoreCharCommand.executeValidate"];try{var _5c=true;if(_5b!=""){if(_5b.match(this.regExp)){_5c=false;}}return _5c;}catch(e){$W.exception.printStackTrace(e);}};$W._p.ignoreCharCommand.prototype.executeValidateString=function(_5d){["WebSquare.validator.ignoreCharCommand.executeValidateString"];try{_5d=_5d.replace(this.regExp,"");return _5d;}catch(e){$W.exception.printStackTrace(e);}};$W._p.ignoreCharCommand.prototype.executeValidateKeyPress=function(_5e,_5f,e){["WebSquare.validator.ignoreCharCommand.executeValidateKeyPress"];try{var _61=true;if(e){var _62=(e.charCode)?e.charCode:e.keyCode;var _63=String.fromCharCode(_62);if(_63.match(this.regExp)){_61=false;}}return _61;}catch(e){$W.exception.printStackTrace(e);}};$W._p.ignoreCharCommand.prototype.executeInvalidMessage=function(){var _64=$W._m.getMessage("V_error_ignoreChar",this.ignoreChar);return _64;};$W._p.numberCommand=function(_65,_66){if(!_65){_65=",";}if(!_66){_66=".";}this.pattern=new RegExp("^[+-]?[0-9]*["+_66+"]?[0-9]*");this.delimeter=_65;this.decimalDelimeter=_66;};$W.extend($W._p.numberCommand.prototype,$W._p.validateCommand.prototype);$W._p.numberCommand.prototype.getType=function(){return "number";};$W._p.numberCommand.prototype.getValue=function(){return "";};$W._p.numberCommand.prototype.executeValidate=function(_67){["WebSquare.validator.numberCommand.executeValidate"];try{return true;}catch(e){$W.exception.printStackTrace(e);}};$W._p.numberCommand.prototype.executeValidateString=function(_68){["WebSquare.validator.numberCommand.executeValidateString"];try{var _69=_68.match(/[0-9\+\-\.]+/g);if(_69){_68=_69.join("");}else{_68="";}return _68;}catch(e){$W.exception.printStackTrace(e);}};$W._p.numberCommand.prototype.executeValidateKeyPress=function(_6a,_6b,e){["WebSquare.validator.numberCommand.executeValidateKeyPress"];try{var _6d=true;if(e){var _6e=$W._c.getTarget(e);var _6f=(e.charCode)?e.charCode:e.keyCode;var _70=String.fromCharCode(_6f);var _71=$W._A.getSelection(_6a);var _72=_6b.substr(0,_71.start)+_70+_6b.substr(_71.end);var _73=_72.match(this.pattern);if(_73&&_73+""==_72){_6d=true;}else{_6d=false;}if($W._G.isFF()&&e.charCode==0){_6d=true;}else{if($W._G.isOpera()){if($W._G.getIgnoreKeyPressCodes()[_6f]){_6d=true;}}}}return _6d;}catch(e){$W.exception.printStackTrace(e);}};$W._p.numberCommand.prototype.executeInvalidMessage=function(){return "";};$W._p.digitCommand=function(_74,_75){if(!_74){_74=",";}if(!_75){_75=".";}this.delimeter=_74;this.decimalDelimeter=_75;};$W.extend($W._p.digitCommand.prototype,$W._p.validateCommand.prototype);$W._p.digitCommand.prototype.getType=function(){return "digit";};$W._p.digitCommand.prototype.getValue=function(){return "";};$W._p.digitCommand.prototype.executeValidate=function(_76){["WebSquare.validator.digitCommand.executeValidate"];try{return true;}catch(e){$W.exception.printStackTrace(e);}};$W._p.digitCommand.prototype.executeValidateString=function(_77){["WebSquare.validator.digitCommand.executeValidateString"];try{var _78="";if(_77.charAt(0)==="+"||_77.charAt(0)==="-"){_78=_77.charAt(0);_77=_77.substr(1);}var _79=_77.match(/[^0]+[0-9]*/g);if(_79!=null){var _7a="";if(_77.match(/^0+[^0-9]/)!=null){_7a="0";}_79=_7a+_79.join("");}else{if(_77!==""){_79="0";}else{_79="";}}_77=_78+_79;return _77;}catch(e){$W.exception.printStackTrace(e);}};$W._p.digitCommand.prototype.executeValidateKeyPress=function(_7b,_7c,e){["WebSquare.validator.digitCommand.executeValidateKeyPress"];return true;};$W._p.digitCommand.prototype.executeInvalidMessage=function(){return "";};$W._p.dateCommand=function(){requires("uiplugin/helper/dateHelper.js");this.dateHelper=new $W._a._D();};$W.extend($W._p.dateCommand.prototype,$W._p.validateCommand.prototype);$W._p.dateCommand.prototype.getType=function(){return "date";};$W._p.dateCommand.prototype.getValue=function(){return "";};$W._p.dateCommand.prototype.executeValidate=function(_7e){["WebSquare.validator.dateCommand.executeValidate"];try{var _7f=true;switch(_7e.length){case 6:var _80=_7e.substr(0,4);var _81=_7e.substr(4,2);if(isNaN(parseInt(_81,10))||parseInt(_81,10)<1||parseInt(_81,10)>12){_7f=false;}break;case 8:var _80=_7e.substr(0,4);var _81=_7e.substr(4,2);var _82=_7e.substr(6,2);if(isNaN(parseInt(_81,10))||parseInt(_81,10)<1||parseInt(_81,10)>12){_7f=false;}var _83=this.dateHelper.getMonthCount(_80,_81);if(isNaN(parseInt(_82,10))||parseInt(_82,10)<1||parseInt(_82,10)>_83){_7f=false;}break;case 10:var _80=_7e.substr(0,4);var _81=_7e.substr(4,2);var _82=_7e.substr(6,2);var _84=_7e.substr(8,2);if(isNaN(parseInt(_81,10))||parseInt(_81,10)<1||parseInt(_81,10)>12){_7f=false;}var _83=this.dateHelper.getMonthCount(_80,_81);if(isNaN(parseInt(_82,10))||parseInt(_82,10)<1||parseInt(_82,10)>_83){_7f=false;}if(isNaN(parseInt(_84,10))||parseInt(_84,10)<0||parseInt(_84,10)>23){_7f=false;}break;case 12:var _80=_7e.substr(0,4);var _81=_7e.substr(4,2);var _82=_7e.substr(6,2);var _84=_7e.substr(8,2);var _85=_7e.substr(10,2);if(isNaN(parseInt(_81,10))||parseInt(_81,10)<1||parseInt(_81,10)>12){_7f=false;}var _83=this.dateHelper.getMonthCount(_80,_81);if(isNaN(parseInt(_82,10))||parseInt(_82,10)<1||parseInt(_82,10)>_83){_7f=false;}if(isNaN(parseInt(_84,10))||parseInt(_84,10)<0||parseInt(_84,10)>23){_7f=false;}if(isNaN(parseInt(_85,10))||parseInt(_85,10)<0||parseInt(_85,10)>59){_7f=false;}break;case 14:var _80=_7e.substr(0,4);var _81=_7e.substr(4,2);var _82=_7e.substr(6,2);var _84=_7e.substr(8,2);var _85=_7e.substr(10,2);var _86=_7e.substr(12,2);if(isNaN(parseInt(_81,10))||parseInt(_81,10)<1||parseInt(_81,10)>12){_7f=false;}var _83=this.dateHelper.getMonthCount(_80,_81);if(isNaN(parseInt(_82,10))||parseInt(_82,10)<1||parseInt(_82,10)>_83){_7f=false;}if(isNaN(parseInt(_84,10))||parseInt(_84,10)<0||parseInt(_84,10)>23){_7f=false;}if(isNaN(parseInt(_85,10))||parseInt(_85,10)<0||parseInt(_85,10)>59){_7f=false;}if(isNaN(parseInt(_86,10))||parseInt(_86,10)<0||parseInt(_86,10)>59){_7f=false;}break;default:_7f=false;break;}return _7f;}catch(e){$W.exception.printStackTrace(e);}};$W._p.dateCommand.prototype.executeValidateString=function(_87){["WebSquare.validator.dateCommand.executeValidateString"];try{return _87;}catch(e){$W.exception.printStackTrace(e);}};$W._p.dateCommand.prototype.executeValidateKeyPress=function(_88,_89,e){["WebSquare.validator.dateCommand.executeValidateKeyPress"];try{return true;}catch(e){$W.exception.printStackTrace(e);}};$W._p.dateCommand.prototype.executeInvalidMessage=function(){var _8b=$W._m.getMessage("V_error_date");return _8b;};$W._p.euroCommand=function(_8c,_8d){if(!_8c){_8c=".";}if(!_8d){_8d=",";}this.pattern=new RegExp("^[0-9]*["+_8d+"]?[0-9]*");this.delimeter=_8c;this.decimalDelimeter=_8d;};$W.extend($W._p.euroCommand.prototype,$W._p.validateCommand.prototype);$W._p.euroCommand.prototype.getType=function(){return "euro";};$W._p.euroCommand.prototype.getValue=function(){return "";};$W._p.euroCommand.prototype.executeValidate=function(_8e){["WebSquare.validator.euroCommand.executeValidate"];try{return true;}catch(e){$W.exception.printStackTrace(e);}};$W._p.euroCommand.prototype.executeValidateString=function(_8f){["WebSquare.validator.euroCommand.executeValidateString"];try{var _90=_8f.match(new RegExp("[0-9\\"+this.decimalDelimeter+"]+","g"));if(_90){_8f=_90.join("");}else{_8f="";}return _8f;}catch(e){$W.exception.printStackTrace(e);}};$W._p.euroCommand.prototype.executeValidateKeyPress=function(_91,_92,e){["WebSquare.validator.euroCommand.executeValidateKeyPress"];try{var _94=true;if(e){var _95=$W._c.getTarget(e);var pos=$W._A.getCaretPos(_95);var _97=(e.charCode)?e.charCode:e.keyCode;var _98=String.fromCharCode(_97);var _99=_92.substr(0,pos)+_98+_92.substr(pos);var _9a=_99.match(this.pattern);if(_9a&&_9a+""==_99){_94=true;}else{_94=false;}if($W._G.isFF()&&e.charCode==0){_94=true;}else{if($W._G.isOpera()){if($W._G.getIgnoreKeyPressCodes()[_97]){_94=true;}}}}return _94;}catch(e){$W.exception.printStackTrace(e);}};$W._p.euroCommand.prototype.executeInvalidMessage=function(){return "";};$W._p.rupeeCommand=function(_9b,_9c){if(!_9b){_9b=".";}if(!_9c){_9c=",";}this.pattern=new RegExp("^[0-9]*["+_9c+"]?[0-9]*");this.delimeter=_9b;this.decimalDelimeter=_9c;};$W.extend($W._p.rupeeCommand.prototype,$W._p.validateCommand.prototype);$W._p.rupeeCommand.prototype.getType=function(){return "rupee";};$W._p.rupeeCommand.prototype.getValue=function(){return "";};$W._p.rupeeCommand.prototype.executeValidate=function(_9d){["WebSquare.validator.rupeeCommand.executeValidate"];try{return true;}catch(e){$W.exception.printStackTrace(e);}};$W._p.rupeeCommand.prototype.executeValidateString=function(_9e){["WebSquare.validator.rupeeCommand.executeValidateString"];try{var _9f=_9e.match(new RegExp("[0-9\\"+this.decimalDelimeter+"]+","g"));if(_9f){_9e=_9f.join("");}else{_9e="";}return _9e;}catch(e){$W.exception.printStackTrace(e);}};$W._p.rupeeCommand.prototype.executeValidateKeyPress=function(_a0,_a1,e){["WebSquare.validator.rupeeCommand.executeValidateKeyPress"];try{var _a3=true;if(e){var _a4=$W._c.getTarget(e);var pos=$W._A.getCaretPos(_a4);var _a6=(e.charCode)?e.charCode:e.keyCode;var _a7=String.fromCharCode(_a6);var _a8=_a1.substr(0,pos)+_a7+_a1.substr(pos);var _a9=_a8.match(this.pattern);if(_a9&&_a9+""==_a8){_a3=true;}else{_a3=false;}if($W._G.isFF()&&e.charCode==0){_a3=true;}else{if($W._G.isOpera()){if($W._G.getIgnoreKeyPressCodes()[_a6]){_a3=true;}}}}return _a3;}catch(e){$W.exception.printStackTrace(e);}};$W._p.rupeeCommand.prototype.executeInvalidMessage=function(){return "";};$W._p.tengeCommand=function(_aa,_ab){if(!_aa){_aa=" ";}if(!_ab){_ab="-";}this.pattern=new RegExp("^[0-9]*["+_ab+"]?[0-9]*");this.delimeter=_aa;this.decimalDelimeter=_ab;};$W.extend($W._p.tengeCommand.prototype,$W._p.validateCommand.prototype);$W._p.tengeCommand.prototype.getType=function(){return "tenge";};$W._p.tengeCommand.prototype.getValue=function(){return "";};$W._p.tengeCommand.prototype.executeValidate=function(_ac){["WebSquare.validator.tengeCommand.executeValidate"];try{return true;}catch(e){$W.exception.printStackTrace(e);}};$W._p.tengeCommand.prototype.executeValidateString=function(_ad){["WebSquare.validator.tengeCommand.executeValidateString"];try{var _ae=_ad.match(new RegExp("[0-9\\"+this.decimalDelimeter+"]+","g"));if(_ae){_ad=_ae.join("");}else{_ad="";}return _ad;}catch(e){$W.exception.printStackTrace(e);}};$W._p.tengeCommand.prototype.executeValidateKeyPress=function(_af,_b0,e){["WebSquare.validator.tengeCommand.executeValidateKeyPress"];try{var _b2=true;if(e){var _b3=$W._c.getTarget(e);var pos=$W._A.getCaretPos(_b3);var _b5=(e.charCode)?e.charCode:e.keyCode;var _b6=String.fromCharCode(_b5);var _b7=_b0.substr(0,pos)+_b6+_b0.substr(pos);var _b8=_b7.match(this.pattern);if(_b8&&_b8+""==_b7){_b2=true;}else{_b2=false;}if($W._G.isFF()&&e.charCode==0){_b2=true;}else{if($W._G.isOpera()){if($W._G.getIgnoreKeyPressCodes()[_b5]){_b2=true;}}}}return _b2;}catch(e){$W.exception.printStackTrace(e);}};$W._p.tengeCommand.prototype.executeInvalidMessage=function(){return "";};$W._p.commandAdapter=function(_b9){this.userFunc=_b9;};$W.extend($W._p.commandAdapter.prototype,$W._p.validateCommand.prototype);$W._p.commandAdapter.prototype.executeValidate=function(_ba){return true;};$W._p.commandAdapter.prototype.getType=function(){return "user";};$W._p.commandAdapter.prototype.getValue=function(){return "";};$W._p.commandAdapter.prototype.executeValidateString=function(_bb){["WebSquare.validator.commandAdapter.executeValidateString"];try{if(typeof this.userFunc!="function"){try{this.userFunc=eval(this.userFunc);}catch(e){}}if(typeof this.userFunc=="function"){_bb=this.userFunc(_bb);}return _bb;}catch(e){$W.exception.printStackTrace(e);}};$W._p.commandAdapter.prototype.executeValidateKeyPress=function(_bc,_bd,e){return true;};$W._p.commandAdapter.prototype.executeInvalidMessage=function(){return "";};;WebSquare.validator=$W._p;$W._f={commandList:[],testFrame:null,currentTestCount:-1,totalTestCount:-1,lock:false,options:{interval:0,showSuccess:true,showLog:false}};$W._f.start=function(){["WebSquare.wUnit.start"];try{this.testFrame=parent.document.getElementById("testFrame");this.testSuiteFrame=parent.document.getElementById("testSuiteFrame");this.selenium_myiframe=parent.document.getElementById("selenium_myiframe");this.commandList=[];this.currentTestCount=-1;this.totalTestCount=-1;this.totalTestCount=-1;this.lock=false;}catch(e){$W.exception.printStackTrace(e);}};$W._f.stop=function(){};$W._f.log=function(){["WebSquare.wUnit.log"];try{var _1=true;var _2=[];for(var i=0;i<this.commandList.length;i++){if(this.commandList[i].success==false){_2.push(i);$l("--fail.."+i);_1=false;}}if($W.logger.getErrorLog()!=""){_1=false;}$lobj2(this.commandList,{log:true});$l("  wUnit TEST : "+_1);if(this.options.showSuccess==true){if(_1){alert("wUnit Test SUCCESS");}else{alert("wUnit Test FAIL "+_2.length+"\n see : "+_2);}}if(_1==false||this.options.showLog==true){$W.logger.showLog();}}catch(e){$W.exception.printStackTrace(e);}};$W._f.runTimeout=function(){["WebSquare.wUnit.runTimeout"];try{var _4=this;var _5=_4.options.interval;if(this.currentTestCount<this.commandList.length){if(this.commandList[this.currentTestCount].command=="pause"){_5=_5+parseInt(this.commandList[this.currentTestCount].target);}}setTimeout(function(){var _6=_4.executeCommand(_4.currentTestCount);if(_6){_4.currentTestCount++;_4.runTimeout();}else{_4.log();}},_5);}catch(e){$W.exception.printStackTrace(e);}};$W._f.run=function(){["WebSquare.wUnit.run"];try{var _7=$W._G.getBoolean($W._r.getParameter("bySelenium"));if(_7==true){}else{this.currentTestCount=0;this.totalTestCount=this.commandList.length;this.runTimeout();}}catch(e){$W.exception.printStackTrace(e);}};$W._f.executeCommand=function(_8){["WebSquare.wUnit.executeCommand"];try{if(_8>this.commandList.length||!this.commandList[_8]){return false;}var _9=this.commandList[_8].command;switch(_9){case "set":eval(this.commandList[_8].target);this.commandList[_8].success="pass";break;case "assert":var _a=eval(this.commandList[_8].target);if(typeof _a!="undefined"&&_a!=null){_a=_a.toString();}if(_a==this.commandList[_8].value){this.commandList[_8].success=true;this.commandList[_8].message="";}else{this.commandList[_8].success=false;this.commandList[_8].message="value '"+this.commandList[_8].value+"' is different from the actual value '"+_a+"'";}break;case "assertNot":var _a=eval(this.commandList[_8].target);if(typeof _a!="undefined"&&_a!=null){_a=_a.toString();}if(_a!=this.commandList[_8].value){this.commandList[_8].success=true;this.commandList[_8].message="";}else{this.commandList[_8].success=false;this.commandList[_8].message="value '"+this.commandList[_8].value+"' is same with the actual value '"+_a+"'";}break;case "object":break;case "exec":var _a=eval("this."+this.commandList[_8].target);this.commandList[_8].success="pass";break;case "assertExec":var _a=eval("this."+this.commandList[_8].target);if(typeof _a!="undefined"&&_a!=null){_a=_a.toString();}if(_a==this.commandList[_8].value){this.commandList[_8].success=true;this.commandList[_8].message="";}else{this.commandList[_8].success=false;this.commandList[_8].message="value '"+this.commandList[_8].value+"' is different from the actual value '"+_a+"'";}break;default:}}catch(e){$l("[wUnit] error to execute command.  idx:"+_8);$W.exception.printStackTrace(e);return false;}return true;};$W._f.setOptions=function(_b){$W.extend(this.options,_b);};$W._f.addCommand=function(_c,_d,_e){["WebSquare.wUnit.addCommand"];try{_c=_c||"";_d=_d||"";_e=_e||"";this.commandList.push({command:_c,target:_d,value:_e,success:null,message:""});}catch(e){$W.exception.printStackTrace(e);}};$W._f.click=function(id){["WebSquare.wUnit.click"];try{var dom=document.getElementById(id);if(dom){dom.click();}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._f.editGridCell=function(id,row,col){["WebSquare.wUnit.editGridCell"];try{var dom=document.getElementById(id+"_cell_"+row+"_"+col);if(dom){dom.click();}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._f.getGridScrollX=function(id){["WebSquare.wUnit.editGridCell"];try{var dom=document.getElementById(id+"_scrollX_right");if(dom){return dom.scrollLeft;}return null;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._f.getGridScrollXRange=function(id,min,max){["WebSquare.wUnit.editGridCell"];try{var dom=document.getElementById(id+"_scrollX_right");if(dom){return min<=dom.scrollLeft&&dom.scrollLeft<=max;}return null;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._f.checkCell=function(id){["WebSquare.wUnit.checkCell"];try{var dom=this.getEditCellDom(id);var _1d=$W._A.getSelection(dom);if(_1d.start!=_1d.end){return true;}return false;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._f.getEditCellInfo=function(id){["WebSquare.wUnit.getEditCellInfo"];try{var _1f=$W._G.getComponentById(id);if(_1f){var col=_1f.getFocusedColumnIndex();var row=_1f.getFocusedRowIndex();var _22=document.getElementById(id+"_cell_"+row+"_"+col);if(_22){var _23=_1f.getCellInfo(_22);return _23;}}return null;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._f.getEditCellDom=function(id){["WebSquare.wUnit.getEditCellDom"];try{var _25=$W._G.getComponentById(id);var _26=this.getEditCellInfo(id);var _27=_25.getFocusedColumnID();return document.getElementById(_26.mainGridId+_26.id);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._f.openGridCalendar=function(id){["WebSquare.wUnit.openCalendar"];try{var dom=this.getEditCellDom(id);if(dom){this.openCalendar(dom.id);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._f.openCalendar=function(id){["WebSquare.wUnit.openCalendar"];try{var dom=document.getElementById(id+"_img");if(dom){dom.click();}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._f.openSelectbox=function(id){["WebSquare.wUnit.openCalendar"];try{var dom=document.getElementById(id+"_button");if(dom){dom.click();}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._f.checkInputCalendarPos=function(id){["WebSquare.wUnit.checkInputCalendarPos"];try{return true;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._f.checkGridSelectboxPos=function(id){["WebSquare.wUnit.checkSelectboxPos"];try{var dom=this.getEditCellDom(id);if(dom){return this.checkSelectboxPos(dom.id);}return null;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._f.checkSelectboxPos=function(id){["WebSquare.wUnit.checkSelectboxPos"];try{var _32=document.getElementById(id);var _33=$W._H.getAbsoluteLeft(_32);var _34=$W._H.getAbsoluteTop(_32);var _34=$W._H.getAbsoluteTop(_32);var _35=_32.offsetHeight;var _36=document.getElementById(id+"_itemTable");var _37=$W._H.getAbsoluteLeft(_36);var _38=$W._H.getAbsoluteTop(_36);var _39=_36.offsetHeight;if(Math.abs(_33-_37)<3&&(Math.abs(_34+_35-_38)<3||Math.abs(_38+_39-_34)<3)){return true;}return false;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._f.keyinInput=function(_3a,_3b,_3c){["WebSquare.wUnit.keyinInput"];try{var obj=$W._N.getComponentById(_3c)||$W._G.getComponentById(_3a);var _3e=document.getElementById(_3a);if(obj&&_3e){if(obj.focus){obj.focus();}for(var i=0;i<_3b.length;i++){var _40=_3b.charCodeAt(i);var _41={charCode:_40,keyCode:_40,target:_3e};if(obj.handleKeydownEvent){obj.handleKeydownEvent(_41);$W._c.fireEvent(obj,"onkeydown","");}var _42;if(obj.handleKeypressEvent){_42=obj.validator.validateKeyPress(obj.render,obj.getValue(),_41);if(!_42){}else{_3e.value=_3e.value+String.fromCharCode(_40);}$W._c.fireEvent(obj,"onkeypress","");}if(obj.handleKeyupEvent){obj.handleKeyupEvent(_41);$W._c.fireEvent(obj,"onkeyup","");}}if(obj.blur){obj.blur();}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._f.keyinInputCalendar=function(_43,_44){["WebSquare.wUnit.keyinInputCalendar"];try{var obj=$W._G.getComponentById(_43);var _46=document.getElementById(_43+"_input");if(obj&&_46){if(obj.focus){obj.focus();}for(var i=0;i<_44.length;i++){var _48=_44.charCodeAt(i);var _49={charCode:_48,keyCode:_48};if(obj.handleKeydownEvent){obj.handleKeydownEvent(_49);}var _4a;if(obj.handleKeypressEvent){_4a=obj.validator.validateKeyPress(obj.render,obj.getValue(),_49);if(!_4a){}else{_46.value=_46.value+String.fromCharCode(_48);}}if(obj.handleKeyupEvent){obj.handleKeyupEvent(_49);}}if(obj.blur){obj.blur();}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._f.keyinGridCell=function(_4b,_4c,_4d){["WebSquare.wUnit.keyinGridCell"];try{var _4e=$W._G.getComponentById((_4d||"grid1"));var td=document.getElementById(_4b);var _50=_4e.getCellInfo(td);var obj=_4e.dom[_50.mainGridId+_50.id];var _52=document.getElementById(obj.id);if(obj&&_52){if(obj.focus){obj.focus();}for(var i=0;i<_4c.length;i++){var _54=_4c.charCodeAt(i);var _55={charCode:_54,keyCode:_54,target:_52};if(obj.handleKeydownEvent){obj.handleKeydownEvent(_55);}var _56;if(obj.handleKeypressEvent){_56=obj.validator.validateKeyPress(obj.render,obj.getValue(),_55);if(!_56){}else{_52.value=_52.value+String.fromCharCode(_54);}}if(obj.handleKeyupEvent){obj.handleKeyupEvent(_55);}}if(obj.blur){obj.blur();}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._f.getGridCellDisplayData=function(id,_58){["WebSquare.wUnit.getGridCellDisplayData"];try{var dom=document.getElementById(id);var str=dom?dom.innerHTML:"";var _5b=/<[^<|>]*>/g;str=str.replace(_5b,"");return str;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._f.getInnerHTML=function(id,_5d){["WebSquare.wUnit.getInnerHTML"];try{var dom=document.getElementById(id);if(dom){return dom.innerHTML;}return null;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._f.getProperty=function(id,_60){["WebSquare.wUnit.getProperty"];try{var dom=document.getElementById(id);if(dom){var _62=dom[_60];return _62;}return null;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._f.getStyle=function(id,_64){["WebSquare.wUnit.getProperty"];try{var dom=document.getElementById(id);if(dom){var _66=$W._G.getStyleProperty(dom,_64);return _66;}return null;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._f.doesExist=function(id){["WebSquare.wUnit.doesExist"];try{var dom=document.getElementById(id);if(dom){return true;}else{return false;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._f.isVisible=function(id){["WebSquare.wUnit.isVisible"];try{var dom=document.getElementById(id);if(dom){if($W._G.getStyleProperty(dom,"display")=="none"){return false;}if($W._G.getStyleProperty(dom,"visibility")=="hidden"){return false;}if(dom.offsetWidth==0||dom.offsetHeight==0){return false;}return true;}return null;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._f.clickSelectboxIndex=function(id,idx){var _6d=$W._G.getComponentById(id);if(_6d.options.renderType=="native"){_6d.setSelectedIndex(idx);}else{$W._f.click(id+"_button");var _6e=document.getElementById(id+"_itemTable");var _6f=_6e.firstChild.firstChild.childNodes;setTimeout(function(){_6f[idx].firstChild.click();},20);}};$W._f.getTextNode=function(id){var obj=document.getElementById(id);var _72=obj.firstChild;return _72.data;};$W._f.compareXML=function(src,_74,_75,_76){var _77=src.documentElement;var _78=_74.documentElement;var _79=$W._f.compareNode(_77,_78,_75,_76);if(!_79){$l("\uc6d0\ubcf8 XML "+$W._B.indent(src));$l("\ube44\uad50\ub300\uc0c1 XML "+$W._B.indent(_74));}return _79;};$W._f.compareNode=function(src,_7b,_7c,_7d){if(src==null){$l("src node is null");return false;}if(_7b==null){$l("dest node is null");return false;}var _7e=src.nodeName;var _7f=_7b.nodeName;if(_7e==_7f){if(typeof _7d!="undefined"){for(var i=0;i<_7d.length;i++){src.removeAttribute(_7d[i]);_7b.removeAttribute(_7d[i]);}}if(_7c){var _81=src.attributes;for(var i=0;_81!=null&&i<_81.length;i++){var _82=_81[i];if($W.nodeValueDeprecated){if(_7b.getAttribute(_82.name)!=_82.value){$l("\uc18d\uc131 ["+_82.name+"] \uc774\uc804\uac12["+_82.value+"] \ubcc0\uacbd\ub41c\uac12["+_7b.getAttribute(_82.name)+"]");return false;}}else{if(_7b.getAttribute(_82.nodeName)!=_82.nodeValue){$l("\uc18d\uc131 ["+_82.nodeName+"] \uc774\uc804\uac12["+_82.nodeValue+"] \ubcc0\uacbd\ub41c\uac12["+_7b.getAttribute(_82.nodeName)+"]");return false;}}}}var _83=src.firstChild;var _84=_7b.firstChild;while(_83!=null){if(_84==null){$l(src.nodeName+" \ud558\uc704\ub178\ub4dc\uc758 \uac1c\uc218\uac00 \ub2e4\ub985\ub2c8\ub2e4. \uc6d0\ubcf8\ub178\ub4dc\uc218["+src.childNodes.length+"] \ube44\uad50\ub300\uc0c1\ub178\ub4dc\uc218["+_7b.childNodes.length+"]");return false;}while(_83!=null&&(_83.nodeType==3||_83.nodeType==4||_83.nodeType==8)){_83=_83.nextSibling;}while(_84!=null&&(_84.nodeType==3||_84.nodeType==4||_84.nodeType==8)){_84=_84.nextSibling;}if(_83==null||_84==null){break;}if(_83.nodeType!=_84.nodeType){$l(src.nodeName+" \ud558\uc704\ub178\ub4dc\uc758 \uc885\ub958\uac00 \ub2e4\ub985\ub2c8\ub2e4. \uc6d0\ubcf8["+_83.nodeType+"] \ube44\uad50\ub300\uc0c1["+_84.nodeType+"]");return false;}else{if(_83.nodeType==1){if(!$W._f.compareNode(_83,_84,_7c,_7d)){return false;}}else{if(_83.nodeType==3){if(_83.nodeValue!=destNode.nodeValue){$l(src.nodeName+" \ud558\uc704\ub178\ub4dc\uc758 TextNode \uac12\uc774 \ub2e4\ub985\ub2c8\ub2e4. \uc6d0\ubcf8["+_83.nodeType+"] \ube44\uad50\ub300\uc0c1["+_84.nodeType+"]");return false;}}else{if(_83.nodeType==4){if(_83.nodeValue!=destNode.nodeValue){$l(src.nodeName+" \ud558\uc704\ub178\ub4dc\uc758 CData \uac12\uc774 \ub2e4\ub985\ub2c8\ub2e4. \uc6d0\ubcf8["+_83.nodeType+"] \ube44\uad50\ub300\uc0c1["+_84.nodeType+"]");return false;}}}}}_83=_83.nextSibling;_84=_84.nextSibling;}if(_83!=null){while(_83!=null&&(_83.nodeType==8||_83.nodeType==3||_83.nodeType==4)){_83=_83.nextSibling;}if(_83!=null){$l(src.nodeName+" \ud558\uc704\ub178\ub4dc\uc758 \uac1c\uc218\uac00 \ub2e4\ub985\ub2c8\ub2e4. \uc6d0\ubcf8\ub178\ub4dc\uc218["+src.childNodes.length+"] \ube44\uad50\ub300\uc0c1\ub178\ub4dc\uc218["+_7b.childNodes.length+"]");return false;}}if(_84!=null){while(_84!=null&&(_84.nodeType==8||_84.nodeType==3||_84.nodeType==4)){_84=_84.nextSibling;}if(_84!=null){$l(src.nodeName+" \ud558\uc704\ub178\ub4dc\uc758 \uac1c\uc218\uac00 \ub2e4\ub985\ub2c8\ub2e4. \uc6d0\ubcf8\ub178\ub4dc\uc218["+src.childNodes.length+"] \ube44\uad50\ub300\uc0c1\ub178\ub4dc\uc218["+_7b.childNodes.length+"]");return false;}}}else{$l("\ub178\ub4dc\uc758 \uc774\ub984\uc774 \ub2e4\ub985\ub2c8\ub2e4. \uc6d0\ubcf8["+src.nodeName+"] \ube44\uad50\ub300\uc0c1["+_7b.nodeName+"]");return false;}return true;};;WebSquare.wUnit=$W._f;$W._I={};$W._I.DefaultXML2JSONString=function(_1,_2){["WebSquare.json.DefaultXML2JSONString"];var _3="";var _4=[];if($W._B.isDocumentString(_1)){_1=$W._B.parse(_1);}if($W._B.isDocument(_1)){$W._I.XMLparseForJSON(_1.documentElement,_4,false);}_3=_4.join("");return _3;};$W._I.XML2JSONString=function(_5,_6){var _7=$W._N.getConfiguration("/WebSquare/json/xml2jsonFunction/@value");if(_7){$W._I.XML2JSONString=eval(_7);if($W._I.XML2JSONString){$W.logger.printLog("XML2JSON conversion rule exists in config.xml. [/WebSquare/json/@xml2jsonFunction]");}else{$W._I.XML2JSONString=$W._I.DefaultXML2JSONString;}}else{$W._I.XML2JSONString=$W._I.DefaultXML2JSONString;}return $W._I.XML2JSONString(_5,_6);};$W._I.parseType=function(_8){["WebSquare.json.parseType"];if(_8&&_8.childNodes&&_8.childNodes.length>0){var _9={};var _a=0;for(var i=0;i<_8.childNodes.length;i++){if(_8.childNodes[i].nodeType==1){if(_9[_8.childNodes[i].nodeName]==true){return "array";}_9[_8.childNodes[i].nodeName]=true;_a++;}}if(_a==0){return "string";}else{return "object";}}else{return "string";}};$W._I.XMLparseForJSON=function(_c,_d,_e){["WebSquare.json.XMLparseForJSON"];var _f=_c.getAttribute("type");if(!_f){_f=$W._I.parseType(_c);}if(_e){_d.push("\"");_d.push(_c.nodeName);_d.push("\" : ");}if(_f==="object"){var _10=true;_d.push("{");for(var i=0;i<_c.childNodes.length;i++){if(_c.childNodes[i].nodeType==1){if(_10){_10=false;}else{_d.push(", ");}_d.push($W._I.XMLparseForJSON(_c.childNodes[i],_d,true));}}_d.push("}");}else{if(_f==="array"){var _10=true;_d.push("[");for(var i=0;i<_c.childNodes.length;i++){if(_c.childNodes[i].nodeType==1){if(_10){_10=false;}else{_d.push(", ");}_d.push($W._I.XMLparseForJSON(_c.childNodes[i],_d,false));}}_d.push("]");}else{if(_f==="number"){if(_c.childNodes&&_c.childNodes[0].nodeValue){_d.push(_c.childNodes[0].nodeValue);}}else{if(_f==="true"){_d.push("true");}else{if(_f==="false"){_d.push("false");}else{if(_f==="null"){_d.push("null");}else{_d.push("\"");if(_c.childNodes&&_c.childNodes[0]){_d.push($W._B.decode(_c.childNodes[0].nodeValue).wq_replaceAll("\\","\\\\").wq_replaceAll("\"","\\\"").wq_replaceAll("\n","\\n"));}_d.push("\"");}}}}}}};$W._I.DefaultJSON2XML=function(_12,_13){["WebSquare.json.DefaultJSON2XML"];var _14;if(_12.constructor===String){_14=eval("("+_12+")");}else{_14=_12;}var _15=[];var _16="<object type=\"object\">";var _17="<array type=\"array\">";var _18="</object>";var _19="</array>";var _1a=-1;if(_14.constructor===Array){_1a=1;_15.push(_17);}else{if(typeof _14=="object"){_1a=2;_15.push(_16);}}for(var i in _14){$W._I._recursiveJSON2XML(_15,_14[i],i,_1a);}if(_14.constructor===Array){_15.push(_19);}else{if(typeof _14=="object"){_15.push(_18);}}var _1c=_15.join("");var _1d=$W._B.parse(_1c);return _1d;};$W._I.DefaultJSON2XMLString=function(_1e,_1f){["WebSquare.json.DefaultJSON2XMLString"];var _20;if(_1e.constructor===String){_20=eval("("+_1e+")");}else{_20=_1e;}var _21=[];var _22="<object type=\"object\">";var _23="<array type=\"array\">";var _24="</object>";var _25="</array>";var _26=-1;if(_20.constructor===Array){_26=1;_21.push(_23);}else{if(typeof _20=="object"){_26=2;_21.push(_22);}}for(var i in _20){$W._I._recursiveJSON2XML(_21,_20[i],i,_26);}if(_20.constructor===Array){_21.push(_25);}else{if(typeof _20=="object"){_21.push(_24);}}var _28=_21.join("");return _28;};$W._I.JSON2XML=function(_29,_2a){var _2b=$W._N.getConfiguration("/WebSquare/json/json2xmlFunction/@value");if(_2b){$W._I.JSON2XML=eval(_2b);if($W._I.JSON2XML){$W.logger.printLog("JSON2XML conversion rule exists in config.xml. [/WebSquare/json/@json2xmlFunction]");}else{$W._I.JSON2XML=$W._I.DefaultJSON2XML;}}else{$W._I.JSON2XML=$W._I.DefaultJSON2XML;}return $W._I.JSON2XML(_29,_2a);};$W._I.JSON2XMLString=function(_2c,_2d){var _2e=$W._N.getConfiguration("/WebSquare/json/json2xmlFunction/@value");if(_2e){$W._I.JSON2XMLString=eval(_2e);if($W._I.JSON2XMLString){$W.logger.printLog("JSON2XMLString conversion rule exists in config.xml. [/WebSquare/json/@json2xmlFunction]");}else{$W._I.JSON2XMLString=$W._I.DefaultJSON2XMLString;}}else{$W._I.JSON2XMLString=$W._I.DefaultJSON2XMLString;}return $W._I.JSON2XMLString(_2c,_2d);};$W._I.JSONExtend=function(){var _2f={};var i=0;var _31=arguments.length;var _32=function(obj){for(var _34 in obj){if(Object.prototype.hasOwnProperty.call(obj,_34)){if(Object.prototype.toString.call(obj[_34])==="[object Object]"){_2f[_34]=$W._I.JSONExtend(_2f[_34],obj[_34]);}else{_2f[_34]=obj[_34];}}}};for(;i<_31;i++){var obj=arguments[i];_32(obj);}return _2f;};$W._I._recursiveJSON2XML=function(_36,_37,key,_39){["WebSquare.json._recursiveJSON2XML"];var _3a="<object type=\"object\">";var _3b="<array type=\"array\">";var _3c="</object>";var _3d="</array>";if(_37==null){_36.push("<"+key+" type=\""+_37+"\"/>");}else{if(typeof _37=="string"){if(_39==1){_36.push("<value>"+$W._B.encode(_37)+"</value>");}else{if(_39==2){_36.push("<"+key+">"+$W._B.encode(_37)+"</"+key+">");}}}else{if(typeof _37=="number"){if(_39==1){_36.push("<value type=\"number\">"+_37+"</value>");}else{if(_39==2){_36.push("<"+key+" type=\"number\">"+_37+"</"+key+">");}}}else{if(typeof _37=="boolean"){if(_39==1){_36.push("<value type=\""+_37+"\"/>");}else{if(_39==2){_36.push("<"+key+" type=\""+_37+"\"/>");}}}else{if(_37.constructor===Array){if(isNaN(parseInt(key))){_39=1;_36.push("<"+key+" type=\"array\">");}else{if(_37.constructor!==Array&&typeof _37=="object"){_39=2;_36.push(_3a);}else{_39=1;_36.push(_3b);}}for(var j in _37){$W._I._recursiveJSON2XML(_36,_37[j],j,_39);}if(isNaN(parseInt(key))){_39=1;_36.push("</"+key+">");}else{if(_37.constructor!==Array&&typeof _37=="object"){_36.push(_3c);}else{_36.push(_3d);}}}else{if(typeof _37=="object"){if(_37.constructor===Array&&isNaN(parseInt(key))){_39=1;_36.push("<"+key+" type=\"array\">");}else{if(_37.constructor===Array){_39=1;_36.push(_3b);}else{if(isNaN(parseInt(key))){_39=2;_36.push("<"+key+" type=\"object\">");}else{_39=2;_36.push(_3a);}}}for(var j in _37){$W._I._recursiveJSON2XML(_36,_37[j],j,_39);}if(_37.constructor===Array&&isNaN(parseInt(key))){_36.push("</"+key+">");}else{if(_37.constructor===Array){_36.push(_3d);}else{if(isNaN(parseInt(key))){_36.push("</"+key+">");}else{_36.push(_3c);}}}}}}}}}};if(typeof JSON!=="object"){JSON={};}(function(){"use strict";function f(n){return n<10?"0"+n:n;}if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null;};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf();};}var cx,escapable,gap,indent,meta,rep;function quote(_41){escapable.lastIndex=0;return escapable.test(_41)?"\""+_41.replace(escapable,function(a){var c=meta[a];return typeof c==="string"?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4);})+"\"":"\""+_41+"\"";}function str(key,_45){var i,k,v,length,mind=gap,partial,value=_45[key];if(value&&typeof value==="object"&&typeof value.toJSON==="function"){value=value.toJSON(key);}if(typeof rep==="function"){value=rep.call(_45,key,value);}switch(typeof value){case "string":return quote(value);case "number":return isFinite(value)?String(value):"null";case "boolean":case "null":return String(value);case "object":if(!value){return "null";}gap+=indent;partial=[];if(Object.prototype.toString.apply(value)==="[object Array]"){length=value.length;for(i=0;i<length;i+=1){partial[i]=str(i,value)||"null";}v=partial.length===0?"[]":gap?"[\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"]":"["+partial.join(",")+"]";gap=mind;return v;}if(rep&&typeof rep==="object"){length=rep.length;for(i=0;i<length;i+=1){if(typeof rep[i]==="string"){k=rep[i];v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v);}}}}else{for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v);}}}}v=partial.length===0?"{}":gap?"{\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"}":"{"+partial.join(",")+"}";gap=mind;return v;}}if((typeof JSON.stringify!=="function")||$W._N.browserCheck.ie){escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r","\"":"\\\"","\\":"\\\\"};JSON.stringify=function(_47,_48,_49){var i;gap="";indent="";if(typeof _49==="number"){for(i=0;i<_49;i+=1){indent+=" ";}}else{if(typeof _49==="string"){indent=_49;}}rep=_48;if(_48&&typeof _48!=="function"&&(typeof _48!=="object"||typeof _48.length!=="number")){throw new Error("JSON.stringify");}return str("",{"":_47});};}if(typeof JSON.parse!=="function"||$W._N.browserCheck.ie){cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;JSON.parse=function(_4b,_4c){var j;function walk(_4e,key){var k,v,value=_4e[key];if(value&&typeof value==="object"){for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=walk(value,k);if(v!==undefined){value[k]=v;}else{delete value[k];}}}}return _4c.call(_4e,key,value);}_4b=String(_4b);cx.lastIndex=0;if(cx.test(_4b)){_4b=_4b.replace(cx,function(a){return "\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4);});}if(/^[\],:{}\s]*$/.test(_4b.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){j=eval("("+_4b+")");return typeof _4c==="function"?walk({"":j},""):j;}throw new SyntaxError("JSON.parse");};}}());;WebSquare.json=$W._I;try{if(!window["jQuery"]){var versionXPath=$W._N.getConfiguration("/WebSquare/jquerySupport/@src");if(versionXPath!=""){requires(versionXPath);if(!window["jQuery"]){requires("externalJS/jquery/jquery-1.10.2.min.js");$l("ERROR :  config.xml\uc758 jquerySupport \ud0dc\uadf8 version \uacbd\ub85c\ub97c \ud655\uc778\ud574\uc8fc\uc138\uc694. \ud604\uc7ac \uc0ac\uc6a9\ud558\uace0 \uc788\ub294 \ubc84\uc804\uc740 default \ubc84\uc804 "+$.fn.jquery+" \uc785\ub2c8\ub2e4.");}}else{requires("externalJS/jquery/jquery-1.10.2.min.js");}}if(window["jQuery"]){(function($){$.expr[":"].wq=function(_2,_3,_4){var _5=null;if("idToUUID" in $W){_5=$W.idCache[$W.idToUUID[$(_2).attr("id")]];}else{_5=$W.WebSquareDocument.componentIdCache[$(_2).attr("id")];}if(_5&&_5.render==_2){if(_4[3]===""||_4[3]==undefined||_4[3]=="*"){return true;}else{return _5.options.pluginName==_4[3].trim();}}return false;};var _6=function(_7){return new _6.fn.init(_7);};var wq=function(_9,_a){var _b=this;if(this.length>0&&!this[0].getPluginName){_b=_6(this);}if(_9){for(var i=0;i<_b.length;i++){var _d=[];for(var j=1;j<arguments.length;j++){_d.push(arguments[j]);}_b[i][_9].apply(_b[i],_d);}}return _b;};_6.fn=_6.prototype={constructor:_6,init:function(_f){if(!_f[0].getPluginName){for(var i=0;i<_f.length;i++){var _11=null;if("idToUUID" in $W){_11=$W.idCache[$W.idToUUID[$(_f[i]).attr("id")]];}else{_11=$W.WebSquareDocument.componentIdCache[$(_f[i]).attr("id")];}if(_11&&_11.render==_f[i]){this.push(_11);}}}},selector:"",length:0,size:$.fn.size,toArray:$.fn.toArray,pushStack:$.fn.pushStack,push:[].push,sort:[].sort,splice:[].splice,wq:wq,jq:function(_12,_13){if(this[0].getPluginName){var _14=[];for(var i=0;i<this.length;i++){_14.push(this[i].render);}this.splice(0,this.length);for(var i=0;i<_14.length;i++){this.push(_14[i]);}}if(_12){var _16=[];for(var j=1;j<arguments.length;j++){_16.push(arguments[j]);}return $(this)[_12].apply($(this),_16);}return $(this);},get:function(_18,_19){var _1a=[];for(var j=1;j<arguments.length;j++){_1a.push(arguments[j]);}return this[0][_18].apply(this[0],_1a);},each:function(_1c){if(typeof _1c=="function"){for(var i=0;i<this.length;i++){_1c.call(this[i],i,this[i]);}}},map:function(obj,_1f){if(typeof _1f=="function"){var _20=[];if(Object.prototype.toString.call(obj)==="[object Array]"){for(var i=0;i<obj.length;i++){_20.push(_1f.call(obj,obj[i],i));}}else{for(var i in obj){_20.push(_1f.call(obj,obj[i],i));}}return _20;}}};_6.fn.init.prototype=_6.fn;jQuery.fn.extend({wq:wq});})(jQuery);}}catch(e){$W.exception.printStackTrace(e);};WebSquare.jquerySupport=$W._F;$W._n=function(){};$W._n.prototype.setStyle=function(_1,_2){["WebSquare.css.setStyle"];try{if(!this.render){return;}$W._H.setStyle(this.render,_1,_2);}catch(e){$W.exception.printStackTrace(e);}};$W._n.prototype.setStyleAsync=function(_3,_4){["WebSquare.css.setStyleAsync"];try{if(!this.render){return;}if(!this.__setStyleAsyncPeriod){this.__setStyleAsyncPeriod=1;}$W._N.setTimer(function(){$W._N.measureTime(function(_5){this.__setStyleAsyncPeriod=parseInt(_5.aver,10);},{key:this.id+"_setStyleAsync",caller:this});$W._H.setStyle(this.render,_3,_4);},{key:this.id+"_setStyleAsync",caller:this,delay:this.__setStyleAsyncPeriod,max:this.__setStyleAsyncPeriod});}catch(e){$W.exception.printStackTrace(e);}};$W._n.prototype.getStyle=function(_6){["WebSquare.css.getStyle"];try{if(!this.render){return null;}return $W._H.getStyle(this.render,_6);}catch(e){$W.exception.printStackTrace(e);}};$W._n.prototype.setPosition=function(x,y,_9){["WebSquare.css.setPosition"];try{if(!this.render){return;}x=parseInt(x);y=parseInt(y);_9=_9||"absolute";if(_9=="absolute"){if(x!=null&&!isNaN(x)){this.render.style.left=x+"px";}if(y!=null&&!isNaN(y)){this.render.style.top=y+"px";}}else{if(_9=="delta"){if(x!=null&&!isNaN(x)){this.render.style.left=this.render.offsetLeft+x+"px";}if(y!=null&&!isNaN(y)){this.render.style.top=this.render.offsetTop+y+"px";}}}}catch(e){$W.exception.printStackTrace(e);}};$W._n.prototype.getPosition=function(_a){["WebSquare.css.getPosition"];try{if(!this.render){return;}var _a=_a.toLowerCase();if(_a=="top"){return this.render.offsetTop;}else{if(_a=="left"){return this.render.offsetLeft;}}$l("getPosition : wrong positionName["+_a+"]");return;}catch(e){$W.exception.printStackTrace(e);}};$W._n.prototype.getAbsolutePosition=function(_b,_c){["WebSquare.css.getAbsolutePosition"];try{var _d=_c==undefined?this.render:_c;if(_b=="top"){return $W._H.getAbsoluteTop(_d);}else{if(_b=="left"){return $W._H.getAbsoluteLeft(_d);}}$l("getPosition : wrong positionName["+_b+"]");return;}catch(e){$W.exception.printStackTrace(e);}};$W._n.prototype.setSize=function(_e,_f){["WebSquare.css.setSize"];try{$W._H.setSize(this.render,_e,_f);}catch(e){$W.exception.printStackTrace(e);}};$W._n.prototype.getSize=function(_10){["WebSquare.css.getSize"];try{return $W._H.getSize(this.render,_10);}catch(e){$W.exception.printStackTrace(e);}};$W._n.prototype.show=function(_11){["WebSquare.css.show"];try{$W._H.show(this.render,_11);if(!($W._G.isIE()&&parseInt($W._N.browserVersion(),10)<10)){this.refreshAdaptive();}this.checkResize_recursive(this);}catch(e){$W.exception.printStackTrace(e);}};$W._n.prototype.hide=function(){["WebSquare.css.hide"];try{$W._H.hide(this.render);}catch(e){$W.exception.printStackTrace(e);}};$W._n.prototype.refreshAdaptive=function(){["WebSquare.css.refreshAdaptive"];try{if(this.options.pluginName=="group"){if(this.options.tagname=="table"&&(this.options.adaptive=="crosstab"||this.options.adaptive=="layout")){var _12=parseInt(this.options.adaptiveThreshold)||480;if(parseInt(top.document.documentElement.clientWidth||top.document.body.clientWidth)<=_12){this.removeAdaptive();this.addAdaptive();}}}if(this.constructor===$W.tag){if(typeof this.element.getAttribute!="undefined"){var _13=this.element.getAttribute("adaptive");if(_13=="crosstab"||_13=="layout"){var _12=parseInt(this.element.getAttribute("adaptiveThreshold"))||480;if(parseInt(top.document.documentElement.clientWidth||top.document.body.clientWidth)<=_12){this.removeAdaptive();this.addAdaptive();}}}}for(var i=0;i<this.childControlList.length;i++){if(this.childControlList[i].refreshAdaptive){this.childControlList[i].refreshAdaptive();}}}catch(e){$W.exception.printStackTrace(e);}};$W._n.prototype.setOpacity=function(_15){["WebSquare.css.setOpacity"];try{this.setStyle("opacity",_15);}catch(e){$W.exception.printStackTrace(e);}};$W._n.prototype.getOpacity=function(){["WebSquare.css.getOpacity"];try{return this.getStyle("opacity");}catch(e){$W.exception.printStackTrace(e);}};$W._n.addClassRe=new RegExp("\\s\\s");$W._n.prototype.addClass=function(_16){["WebSquare.css.addClass"];try{if(arguments.length===1){this.__addClass(this.render,arguments[0]);}else{if(arguments.length===2){this.__addClass(arguments[0],arguments[1]);}}}catch(e){$W.exception.printStackTrace(e);}};$W._n.prototype.__addClass=function(_17,_18){["WebSquare.css.__addClass"];try{if(!_17||!_18){return;}var _19=_17.className;if(this.__hasClass(_17,_18)==false){_19+=(" "+_18);_19=_19.replace($W._n.addClassRe," ").wq_trim();}_17.className=_19;}catch(e){$W.exception.printStackTrace(e);}};$W._n.prototype.removeClass=function(_1a){["WebSquare.css.removeClass"];try{if(arguments.length===1){this.__removeClass(this.render,arguments[0]);}else{if(arguments.length===2){this.__removeClass(arguments[0],arguments[1]);}}}catch(e){$W.exception.printStackTrace(e);}};$W._n.prototype.__removeClass=function(_1b,_1c){["WebSquare.css.__removeClass"];try{if(!_1b||!_1c){return;}var _1d=$W._N.getConfiguration("/WebSquare/style/removeDefaultClass/@value");if(_1d==""||_1d=="false"){if(this.__hasClass(this.options.className,_1c)==true){return;}}var _1e=" "+_1b.className+" ";_1e=_1e.replace(" "+_1c+" "," ");_1e=_1e.replace($W._n.addClassRe," ").wq_trim();_1b.className=_1e;}catch(e){$W.exception.printStackTrace(e);}};$W._n.prototype.changeClass=function(_1f,_20){["WebSquare.css.changeClass"];try{if(arguments.length===2){this.__changeClass(this.render,arguments[0],arguments[1]);}else{if(arguments.length===3){this.__changeClass(arguments[0],arguments[1],arguments[2]);}}}catch(e){$W.exception.printStackTrace(e);}};$W._n.prototype.__changeClass=function(_21,_22,_23){["WebSquare.css.__changeClass"];try{this.removeClass(_21,_22);this.addClass(_21,_23);}catch(e){$W.exception.printStackTrace(e);}};$W._n.prototype.hasClass=function(_24){["WebSquare.css.hasClass"];try{if(arguments.length===1){return this.__hasClass(this.render,arguments[0]);}else{if(arguments.length===2){return this.__hasClass(arguments[0],arguments[1]);}}return false;}catch(e){$W.exception.printStackTrace(e);}};$W._n.prototype.__hasClass=function(_25,_26){["WebSquare.css.__hasClass"];try{var _27=typeof _25=="string"?(_25||""):_25.className;var _28=" "+_27+" ";return _28.indexOf(" "+_26+" ")>=0;}catch(e){$W.exception.printStackTrace(e);}};$W._n.prototype.toggleClass=function(_29){["WebSquare.css.toggleClass"];try{if(arguments.length===1){return this.__toggleClass(this.render,arguments[0]);}else{if(arguments.length===2){return this.__toggleClass(arguments[0],arguments[1]);}}return false;}catch(e){$W.exception.printStackTrace(e);}};$W._n.prototype.__toggleClass=function(_2a,_2b){["WebSquare.css.__toggleClass"];try{if(this.hasClass(_2a,_2b)){this.removeClass(_2a,_2b);}else{this.addClass(_2a,_2b);}}catch(e){$W.exception.printStackTrace(e);}};$W._n.prototype.movable=function(_2c,_2d){["WebSquare.css.movable"];try{if(!this.render){return;}var _2e=this;if(!this.handleFinishMove){var id="";var _30="";id="w2drag_move";_30="w2drag_move";_2d=$W.extend({id:id,className:_30,makeGhostLayer:function(_31){_31.setSize(_2e.render.offsetWidth,_2e.render.offsetHeight);return _31;},handleFinish:function(x,y,dx,dy){var _36=parseInt(_2e.getStyle("left"));var top=parseInt(_2e.getStyle("top"));_2e.setPosition(_36+dx,top+dy);}},_2d||{});this.handleFinishMove=function(e){$W._c.stopEvent(e);$W._K.gDragManager.activate(e,_2e.render,_2d);};}if(_2c){this.event.addListener(this.render,"onmousedown",this.handleFinishMove);this.event.addListener(this.render,"ontouchstart",this.handleFinishMove);}else{this.event.removeListener(this.render,"onmousedown",this.handleFinishMove);this.event.removeListener(this.render,"ontouchstart",this.handleFinishMove);}}catch(e){$W.exception.printStackTrace(e);}};$W._n.prototype.resizable=function(_39,_3a){["WebSquare.css.movable"];try{if(!this.render){return;}var _3b=this;if(!this.handleFinishResize){this.handleFinishResize=function(e){$W._c.stopEvent(e);$W._K.gDragManager.activate(e,_3b.render,{id:"w2drag_resize",className:"w2drag_resize",mode:"resize",makeGhostLayer:function(_3d){_3d.setSize(_3b.render.offsetWidth,_3b.render.offsetHeight);return _3d;},handleFinish:function(x,y,dx,dy){var _42=parseInt(_3b.getStyle("width"));var _43=parseInt(_3b.getStyle("height"));_3b.setSize(_42+dx,_43+dy);}});};}if(_39){this.event.addListener(this.render,"onmousedown",this.handleFinishResize);}else{this.event.removeListener(this.render,"onmousedown",this.handleFinishResize);}}catch(e){$W.exception.printStackTrace(e);}};$W._n.prototype.visible=function(_44){["WebSquare.css.visible"];try{if(!this.render){return;}var _44=$W._G.getBoolean(_44);this.render.style.visibility=_44?"visible":"hidden";}catch(e){$W.exception.printStackTrace(e);}};$W._n.prototype.showBySize=function(){["WebSquare.css.showBySize"];try{if(!this.render){return;}this.setStyle("visibility","visible");this.render.style.overflow="";this.render.style.width="";this.render.style.height="";}catch(e){$W.exception.printStackTrace(e);}};$W._n.prototype.hideBySize=function(){["WebSquare.css.hideBySize"];try{if(!this.render){return;}this.setStyle("visibility","hidden");this.render.style.overflow="hidden";this.render.style.width="0px";this.render.style.height="0px";}catch(e){$W.exception.printStackTrace(e);}};$W._n.prototype.getStyleValue=function(_45){return this.getStyle(_45);};$W._n.prototype.getStyleIntValue=function(_46){return parseInt(this.getStyle(_46));};$W._n.prototype.getStyleProperty=function(_47){["WebSquare.css.getStyleProperty"];try{return this.getStyle(_47);}catch(e){$W.exception.printStackTrace(e);}};$W._n.prototype.getClass=function(){["WebSquare.css.getClass"];try{return this.options.className;}catch(e){$W.exception.printStackTrace(e);}};$W._n.prototype.highlight=function(_48){["WebSquare.css.highlight"];try{if(!this.render){return;}this.render.style.border=_48?"solid 1px blue":"";}catch(e){$W.exception.printStackTrace(e);}};$W._n.prototype.enable=function(){};$W._n.prototype.disable=function(){};$W._n.prototype.hover=function(_49,_4a){};$W._n.prototype.checkResize_recursive=function(_4b){["WebSquare.css.checkResize_recursive"];try{if(typeof _4b.checkResize=="function"){_4b.checkResize();}if(_4b.options.pluginName=="inputCalendar"&&typeof _4b.setSetting=="function"){_4b.setSetting();}if(_4b.childControlList){for(var i=0;i<_4b.childControlList.length;i++){this.checkResize_recursive(_4b.childControlList[i]);}}}catch(e){$W.exception.printStackTrace(e);}};;WebSquare.css=$W._n;$W.IAction=function(){};$W.IAction.prototype.activate=function(){alert("you should override 'activate' for "+this.id);};$W.IAction.prototype.setAction=function(){alert("you should override 'setAction' for "+this.id);};$W.IVisible=function(){};$W.IVisible.prototype.toHTML=function(){alert("you should override 'toHTML' for "+this.id);};$W.widget=function(){};requires("uiplugin/control/widget.js");requires("uiplugin/control/IVisible.js");requires("uiplugin/control/IAction.js");$W.control=function(id,_2,_3){["WebSquare.control"];try{$W.widget.call(this);this.parentControl=null;this.childControlList=[];}catch(e){$W.exception.printStackTrace(e);}};$W.extend($W.control.prototype,$W.widget.prototype);$W.extend($W.control.prototype,$W.IVisible.prototype);$W.extend($W.control.prototype,$W.IAction.prototype);$W.control.prototype.initialize=function(){["WebSquare.control.initialize"];try{}catch(e){$W.exception.printStackTrace(e);}};$W.control.prototype.addControl=function(_4,_5){["WebSquare.control.addControl"];try{if(!_4){return;}var _6=this;do{if(_4==_6){$l("cannot execute : "+this.id+".addControl("+_4.id+");");return;}_6=_6.parentControl;}while(_6);if(_4.parentControl){_4.parentControl.removeControl(_4);}this.childControlList.push(_4);if(this.render){_4.domStatus="new";}_4.parentControl=this;if(_5){this.refreshDom();}try{if(this.parentFrame!=undefined&&$W.idCache[this.parentFrame]){_4.parentFrame=this.parentFrame;var _7=$W.idCache[_4.parentFrame];_7.childAllControlList.push(_4.uuid);if(_7.options&&_7.options.scope){}}else{if(_4.parentFrame!=undefined&&$W.idCache[_4.parentFrame]){var _7=$W.idCache[_4.parentFrame];_7.childAllControlList.push(_4.uuid);if(_7.options&&_7.options.scope){}}}}catch(e){$W.exception.printStackTrace(e,null,this);$W.exception.printError("parentFrame is not wframe");}}catch(e){$W.exception.printStackTrace(e);}};$W.control.prototype.removeControl=function(_8){["WebSquare.control.removeControl"];try{for(var i in this.childControlList){if(this.childControlList[i]==_8){this.childControlList.splice(i,1);}}_8.parentControl=null;}catch(e){$W.exception.printStackTrace(e);}};$W.control.prototype.getParent=function(){["WebSquare.control.getParent"];try{return this.parentControl;}catch(e){$W.exception.printStackTrace(e);}};$W.control.prototype.getChild=function(id){["WebSquare.control.getChild"];try{for(var i=0;i<this.childControlList.length;i++){var _c=this.childControlList[i];if(_c.id==id){return _c;}}return null;}catch(e){$W.exception.printStackTrace(e);}};$W.control.prototype.getChildren=function(){["WebSquare.control.getChildren"];try{return this.childControlList;}catch(e){$W.exception.printStackTrace(e);}};$W.control.prototype.getAllChildren=function(){["WebSquare.control.getChildren"];try{var _d=this.getChildren().slice(0);var _e=new Array();for(var _f=_d.pop();_f!=null;_f=_d.pop()){if($W.idCache[_f.uuid]!=undefined&&_f.options&&_f.options.pluginName){_e.unshift(_f);}_d=_d.concat(_f.getChildren());}return _e;}catch(e){$W.exception.printStackTrace(e);}};$W.control.prototype.getChildrenCount=function(){["WebSquare.control.getChildrenCount"];try{return this.childControlList.length;}catch(e){$W.exception.printStackTrace(e);}};$W.control.prototype.clearChildren=function(){["WebSquare.control.getChildrenCount"];try{this.childControlList=[];}catch(e){$W.exception.printStackTrace(e);}};$W.control.prototype.toHTML=function(){alert("you should override 'toHTML' for "+this.id);};$W.control.prototype.activate=function(){alert("you should override 'activate' for "+this.id);};$W.control.prototype.setAction=function(){alert("you should override 'setAction' for "+this.id);};$W.control.prototype.destroy=function(_10){["WebSquare.control.destroy"];try{if(typeof this.finalize=="function"){try{this.finalize();}catch(e){$W.logger.printLog("[ERROR] finalize : "+this.id);}}if(typeof this.unbind=="function"){this.unbind();}if(this.render&&this.render.nodeName=="IFRAME"){var _11=this.getWindow();try{var _12=this.render.getAttribute("src");if(_12){this.render.setAttribute("src","");}if(_11.WebSquare&&_11.WebSquare.getBody){_11.WebSquare.getBody().remove();}}catch(e){}}if(this.modelControl){this.modelControl.unbindRef();this.modelControl.unbindItemset();}if(this.childControlList){for(var i=this.childControlList.length-1;i>=0;i--){window[$W.noConflict].comp[this.childControlList[i].id]=null;delete window[$W.noConflict].comp[this.childControlList[i].id];$W.idCache[this.childControlList[i].uuid]=null;delete $W.idCache[this.childControlList[i].uuid];this.childControlList[i].destroy(_10);for(var k in this.childControlList[i]){this.childControlList[i][k]=null;delete this.childControlList[i][k];}delete this.childControlList[i];}}this.childControlList=[];this.parentControl=null;window[$W.noConflict].comp[this.id]=null;delete window[$W.noConflict].comp[this.id];$W.idToUUID[this.id]=null;delete $W.idToUUID[this.id];$W.idCache[this.uuid]=null;delete $W.idCache[this.uuid];if(window[this.id]){window[this.id]=null;}var _15={"secret":"input","selectbox":"select1","radio":"select1","multiselect":"select","checkbox":"select","checkcombobox":"select","switch":"Switch"};if(this.options){var _16=_15[this.options.pluginName]||this.options.pluginName;var arr=$W.WebSquareDocument.componentsCache[_16]||$W.WebSquareDocument.componentsCache[this._wTagName]||[];for(var idx=0,len=arr.length;idx<len;idx++){if(arr[idx]==this.uuid){arr[idx]=null;arr.splice(idx,1);}}if($W._N.memoryLeakComponent[_16]){$W._N.memoryLeakComponentCount+=$W._N.memoryLeakComponent[_16];}}if(this.event){if(this.render){this.event.clearElement(this.render);}this.event.clearCache();}$W.getBody().getLayerListener().remove(this.id);if(this.render!=null&&!_10){$W.removeNode(this.render);this.render=null;}for(var i in this){delete this[i];}}catch(e){$W.exception.printStackTrace(e,null,this);}};requires("engine/cssStyleSheet.js");$W.cssManager=function(){this.cache=true;this.convertedCSSText=null;this.controlCSSText=null;this.importedCSSText=null;this.internalCSSText=null;this.externalCSSText=null;this.externalCSSLink=null;this.controlCSSLink=null;this.classStyleCache=[];this.excludeList=[];this.excludeList["trigger"]="1";this.excludeList["submit"]="1";this.excludeList["inputCalendar"]="1";this.heightPattern=/(?:^|;)\s*height\s*:\s*(\d*)px\s*(?:$|;)/ig;this.widthPattern=/(?:^|;)\s*width\s*:\s*(\d*)px\s*(?:$|;)/ig;};$W.cssManager.prototype.startCache=function(){this.cache=true;};$W.cssManager.prototype.endCache=function(){this.cache=false;};$W.cssManager.prototype.initialize=function(){this.convertedCSSText=[];this.controlCSSText=[];this.internalCSSText=[];this.externalCSSText=[];this.externalCSSLink=[];this.controlCSSLink=[];};$W.cssManager.prototype.addConvertedCSS=function(_1,_2){if(_2==""){return;}if(this.cache==true){this.convertedCSSText.push(_1+" {"+_2+"} \n");}else{$W.cssStyleSheet.addRule(_1,_2);}};$W.cssManager.prototype.addControlCSS=function(_3){this.controlCSSText.push(_3+"\n");};$W.cssManager.prototype.addInternalCSS=function(_4){this.internalCSSText.push(_4+"\n");};$W.cssManager.prototype.addExternalCSS=function(_5){this.externalCSSText.push(_5+"\n");};$W.cssManager.prototype.linkControlCSS=function(_6){this.controlCSSLink.push(_6);};$W.cssManager.prototype.linkExternalCSS=function(_7){this.externalCSSLink.push(_7);};$W.cssManager.prototype.toCSS=function(){var _8=[];if(this.controlCSSText&&this.controlCSSText.length>0){_8=_8.concat(["/*controlCSSText*/\n"]);_8=_8.concat(this.controlCSSText);_8=_8.concat(["\n\n"]);}if(this.convertedCSSText&&this.convertedCSSText.length>0){_8=_8.concat(["/*convertedCSSText*/\n"]);_8=_8.concat(this.convertedCSSText);_8=_8.concat(["\n\n"]);}if(this.externalCSSText&&this.externalCSSText.length>0){_8=_8.concat(["/*externalCSSText*/\n"]);_8=_8.concat(this.externalCSSText);_8=_8.concat(["\n\n"]);}if(this.internalCSSText&&this.internalCSSText.length>0){_8=_8.concat(["/*internalCSSText*/\n"]);_8=_8.concat(this.internalCSSText);}return _8.join("");};$W.cssManager.prototype.executeImport=function(_9){["WebSquare.cssManager.executeImport"];try{var _a=[];var _b=$W.document.getElementsByTagName("head")[0];for(var i=0,len=this.controlCSSLink.length;i<len;i++){var _d=$W.document.createElement("link");for(var _e in this.controlCSSLink[i]){_d[_e]=this.controlCSSLink[i][_e];}if(_9!=undefined){_b.insertBefore(_d,_9);}else{_b.appendChild(_d);}_a.push(_d);$W.logger.printLog("import core css : "+_d.href);}for(var i=0,len=this.externalCSSLink.length;i<len;i++){var _d=$W.document.createElement("link");for(var _e in this.externalCSSLink[i]){if(_e!=""){_d[_e]=this.externalCSSLink[i][_e];}}if(_9!=undefined){_b.insertBefore(_d,_9);if($W._N.browserCheck.ie){_b.insertBefore(_9,_9);}}else{_b.appendChild(_d);}_a.push(_d);$W.logger.printLog("import user css : "+_d.href);}this.controlCSSLink=[];this.externalCSSLink=[];var _f=this.toCSS();if(_f){if($W._N.browserCheck.ie){var s=document.createElement("style");s.setAttribute("type","text/css");s.styleSheet.cssText=_f;if(_9!=undefined){_b.insertBefore(s,_9);}else{_b.appendChild(s);}_a.push(s);}else{var s=$W.document.createElementNS("http://www.w3.org/1999/xhtml","style");s.setAttribute("type","text/css");s.appendChild(document.createTextNode(_f));if(_9!=undefined){_b.insertBefore(s,_9);}else{_b.appendChild(s);}_a.push(s);}}this.initialize();this.endCache();_b=null;return _a;}catch(e){$W.exception.printStackTrace(e);}};$W.cssManager.prototype.resizeStyle=function(id,_12){["WebSquare.cssManager.styleToClass"];try{var _13=_12["style"];if(_13&&_13!=""){var _14=this.setResizeStyle(_13,_12);if(_14!=null&&_14.newSizeStyle!=null){_12["style"]=_13+";"+_14.newSizeStyle;}}return _12;}catch(e){$W.exception.printStackTrace(e);}};$W.cssManager.prototype.styleToClass=function(id,_16){["WebSquare.cssManager.styleToClass"];try{for(var idx in _16){if(idx.indexOf("Style")>-1){var _18=_16[idx];if(_18!=""){var _19=idx+"Class";var _1a="#"+id+" ."+_19;$W.cssManager.addConvertedCSS(_1a,_18);_16[idx]="";var _1b=idx.replace("Style","Class");if(!_16[_1b]){_16[_1b]="";}if(_16[_1b]!=""){_16[_1b]+=" ";}_16[_1b]+=_19;}}}return _16;}catch(e){$W.exception.printStackTrace(e);}};$W.cssManager.prototype.setResizeStyle=function(_1c,_1d){["WebSquare.cssManager.setResizeStyle"];if(this.excludeList[_1d.pluginName]!=null){return null;}var _1e="";var _1f=null;var _20=/(?:^|;)\s*height\s*:\s*(\d*)px\s*(?:$|;)/i;var _21=_20.exec(_1c);if(_21&&_21.length==2){var _22=parseInt(_21[1]);_1f=this.getSizeObj(_1c,_1d,_1f);_1f.newSizeStyle=";height:"+(_22-(_1f.paddingTop+_1f.paddingBottom+_1f.borderTopWidth+_1f.borderBottomWidth))+"px";}var _23=/(?:^|;)\s*width\s*:\s*(\d*)px\s*(?:$|;)/i;var _24=_23.exec(_1c);if(_24&&_24.length==2){var _25=parseInt(_24[1]);_1f=this.getSizeObj(_1c,_1d,_1f);_1f.newSizeStyle+=";width:"+(_25-(_1f.paddingLeft+_1f.paddingRight+_1f.borderLeftWidth+_1f.borderRightWidth))+"px";}return _1f;};$W.cssManager.prototype.getSizeObj=function(_26,_27,_28){["WebSquare.cssManager.getSizeObj"];if(_28!=null){return _28;}var _29={};_29.paddingTop=0;_29.paddingBottom=0;_29.paddingLeft=0;_29.paddingRight=0;_29.borderTopWidth=0;_29.borderBottomWidth=0;_29.borderLeftWidth=0;_29.borderRightWidth=0;_29.newSizeStyle="";var _2a=new $W.sizeObj(_26);var _2b=this.getSizeStyleObj("w2"+_27.pluginName);var _2c=this.getSizeStyleObj(_27.className);_29=this.inherit(_29,_2b);_29=this.inherit(_29,_2c);_29=this.inherit(_29,_2a);return _29;};$W.cssManager.prototype.inherit=function(_2d,_2e){if(_2e==null){return _2d;}if(_2e.paddingTop!=null){_2d.paddingTop=_2e.paddingTop;}if(_2e.paddingBottom!=null){_2d.paddingBottom=_2e.paddingBottom;}if(_2e.paddingLeft!=null){_2d.paddingLeft=_2e.paddingLeft;}if(_2e.paddingRight!=null){_2d.paddingRight=_2e.paddingRight;}if(_2e.borderTopWidth!=null){_2d.borderTopWidth=_2e.borderTopWidth;}if(_2e.borderBottomWidth!=null){_2d.borderBottomWidth=_2e.borderBottomWidth;}if(_2e.borderLeftWidth!=null){_2d.borderLeftWidth=_2e.borderLeftWidth;}if(_2e.borderRightWidth!=null){_2d.borderRightWidth=_2e.borderRightWidth;}return _2d;};$W.cssManager.prototype.getSizeStyleObj=function(_2f){["WebSquare.cssManager.getSizeStyleObj"];if(_2f==null||_2f==""){return null;}var _30=this.classStyleCache[_2f];if(_30==null){var _31=this.toCSS();var reg=new RegExp("[.]"+_2f+"[ \t\n\r]*{([^}]*)}");var _33=_31.match(reg);var _34="";if(_33!=null&&_33.length==2){_34=_33[1];}_30=new $W.sizeObj(_34);this.classStyleCache[_2f]=_30;}return _30;};$W.sizeObj=function(_35){this.paddingTop=null;this.paddingBottom=null;this.paddingLeft=null;this.paddingRight=null;this.borderTopWidth=null;this.borderBottomWidth=null;this.borderLeftWidth=null;this.borderRightWidth=null;var _36=_35.split(";");for(var i=0;i<_36.length;i++){var _38=_36[i].toLowerCase();if(_38.indexOf("padding")>=0){this.setPaddingProperty(_38);}else{if(_38.indexOf("border")>=0){this.setBorderProperty(_38);}}}};$W.sizeObj.prototype.toString=function(){var ret="paddingTop["+this.paddingTop+"] ";ret+="paddingBottom["+this.paddingBottom+"] ";ret+="paddingLeft["+this.paddingLeft+"] ";ret+="paddingRight["+this.paddingRight+"] ";ret+="borderTopWidth["+this.borderTopWidth+"] ";ret+="borderBottomWidth["+this.borderBottomWidth+"] ";ret+="borderLeftWidth["+this.borderLeftWidth+"] ";ret+="borderRightWidth["+this.borderRightWidth+"] ";};$W.sizeObj.prototype.setPaddingProperty=function(_3a){var _3b=_3a.split(":");var _3c=_3b[0].wq_trim();var _3d=_3b[1].wq_trim();if(_3d==""){return;}if(_3c=="padding"){var _3e=_3d.split(" ");if(_3e.length==1){this.paddingTop=parseInt(_3e[0]);this.paddingRight=parseInt(_3e[0]);this.paddingBottom=parseInt(_3e[0]);this.paddingLeft=parseInt(_3e[0]);}else{if(_3e.length==2){this.paddingTop=parseInt(_3e[0]);this.paddingRight=parseInt(_3e[1]);this.paddingBottom=parseInt(_3e[0]);this.paddingLeft=parseInt(_3e[1]);}else{if(_3e.length==3){this.paddingTop=parseInt(_3e[0]);this.paddingRight=parseInt(_3e[1]);this.paddingBottom=parseInt(_3e[2]);this.paddingLeft=parseInt(_3e[1]);}else{if(_3e.length==4){this.paddingTop=parseInt(_3e[0]);this.paddingRight=parseInt(_3e[1]);this.paddingBottom=parseInt(_3e[2]);this.paddingLeft=parseInt(_3e[3]);}}}}}else{if(_3c.indexOf("padding-left")>=0){this.paddingLeft=parseInt(_3d);}else{if(_3c.indexOf("padding-top")>=0){this.paddingTop=parseInt(_3d);}else{if(_3c.indexOf("padding-right")>=0){this.paddingRight=parseInt(_3d);}else{if(_3c.indexOf("padding-bottom")>=0){this.paddingBottom=parseInt(_3d);}}}}}};$W.sizeObj.prototype.setBorderProperty=function(_3f){var _40=_3f.split(":");var _41=_40[0].wq_trim();var _42=_40[1].wq_trim();var svl=_42.split(" ");var _44=null;for(var i=0;i<svl.length;i++){if(svl[i].indexOf("px")>=0){_44=parseInt(svl[i]);}}if(_44==null){return;}if(_41=="border"){this.borderTopWidth=_44;this.borderBottomWidth=_44;this.borderLeftWidth=_44;this.borderRightWidth=_44;}else{if(_41=="border-width"){this.borderTopWidth=_44;this.borderBottomWidth=_44;this.borderLeftWidth=_44;this.borderRightWidth=_44;}else{if(_41.indexOf("border-left")>=0){this.borderLeftWidth=_44;}else{if(_41.indexOf("border-top")>=0){this.borderTopWidth=_44;}else{if(_41.indexOf("border-right")>=0){this.borderRightWidth=_44;}else{if(_41.indexOf("border-bottom")>=0){this.borderBottomWidth=_44;}}}}}}};$W.sizeObj.prototype.inherit=function(_46){if(_46==null){return;}this.paddingTop=(_46.paddingTop!=null)?_46.paddingTop:this.paddingTop;this.paddingBottom=(_46.paddingBottom!=null)?_46.paddingBottom:this.paddingBottom;this.paddingLeft=(_46.paddingLeft!=null)?_46.paddingLeft:this.paddingLeft;this.paddingRight=(_46.paddingRight!=null)?_46.paddingRight:this.paddingRight;this.borderTopWidth=(_46.borderTopWidth!=null)?_46.borderTopWidth:this.borderTopWidth;this.borderBottomWidth=(_46.borderBottomWidth!=null)?_46.borderBottomWidth:this.borderBottomWidth;this.borderLeftWidth=(_46.borderLeftWidth!=null)?_46.borderLeftWidth:this.borderLeftWidth;this.borderRightWidth=(_46.borderRightWidth!=null)?_46.borderRightWidth:this.borderRightWidth;};$W.sizeObj.prototype.nullToZero=function(_47){this.paddingTop=this.paddingTop||0;this.paddingBottom=this.paddingBottom||0;this.paddingLeft=this.paddingLeft||0;this.paddingRight=this.paddingRight||0;this.borderTopWidth=this.borderTopWidth||0;this.borderBottomWidth=this.borderBottomWidth||0;this.borderLeftWidth=this.borderLeftWidth||0;this.borderRightWidth=this.borderRightWidth||0;};$W.cssManager=new $W.cssManager();$W.cssManager.initialize();$W.cssManager.startCache();$W.cssCustomizer=function(){};$W.cssCustomizer.prototype.setClassName=function(_1){["WebSquare.css.addClass"];try{if(!_1){return;}var _2="w2"+this.getPluginName()+" "+_1;this.setClassByElement(_2);}catch(e){$W.exception.printStackTrace(e);}};$W.cssCustomizer.prototype.addClassName=function(_3){["WebSquare.cssCustomizer.addSelfClass"];try{this.addClass(this.render,_3);}catch(e){$W.exception.printStackTrace(e);}};$W.cssCustomizer.prototype.removeClassName=function(_4){["WebSquare.cssCustomizer.addSelfClass"];try{this.removeClass(this.render,_4);}catch(e){$W.exception.printStackTrace(e);}};$W.cssCustomizer.prototype.getChildEl=function(_5,_6,_7){["WebSquare.controlFactory.getChildEl"];try{if(this.getClassByElement(_6)==_5){this.addClass(_6,_7);return _6;}else{for(var i=0;i<_6.children.length;i++){if(_6.children[i].children.length>0){if(_6.children[i]!=null){this.getChildEl(_5,_6.children[i],_7);}else{$l("child\uac00 null \uc785\ub2c8\ub2e4.");}}else{if(_6!=null){if(this.getClassByElement(_6)==_5){return _6;}}}}}}catch(e){$W.exception.printStackTrace(e);}};$W.cssCustomizer.prototype.removeChildEl=function(_9,_a,_b){["WebSquare.controlFactory.getChildEl"];try{if(this.getClassByElement(_a)==_9){this.removeClass(_a,_b);return _a;}else{for(var i=0;i<_a.children.length;i++){if(_a.children[i].children.length>0){if(_a.children[i]!=null){this.removeChildEl(_9,_a.children[i],_b);}else{$l("child\uac00 null \uc785\ub2c8\ub2e4.");}}else{if(_a!=null){if(this.getClassByElement(_a)==_9){return _a;}}}}}}catch(e){$W.exception.printStackTrace(e);}};$W.cssCustomizer.prototype.getClassByElement=function(_d){["WebSquare.cssCustomizer.getClass"];try{return this.ssplit(_d["className"])||this.ssplit(_d.getAttribute("class"))||"";}catch(e){$W.exception.printStackTrace(e);}};$W.cssCustomizer.prototype.setClassByElement=function(_e){["WebSquare.cssCustomizer.getClass"];try{if(!_e){return;}this.render.className=_e;}catch(e){$W.exception.printStackTrace(e);}};$W.cssCustomizer.prototype.ssplit=function(_f){["WebSquare.cssCustomizer.getClass"];try{if(typeof _f=="undefined"||_f==null){return _f;}var _10=_f.split(" ");if(_10.length>0){return _10[0];}else{return _f;}}catch(e){$W.exception.printStackTrace(e);}};requires("uiplugin/control/control.js");$W.htmlControl=function(id,_2,_3){["WebSquare.htmlControl"];try{$W.control.call(this);}catch(e){$W.exception.printStackTrace(e);}};$W.extend($W.htmlControl.prototype,$W.control.prototype);$W.control.prototype.toHTML=function(){alert("you should override 'toHTML' for "+this.id);};$W.control.prototype.activate=function(){alert("you should override 'activate' for "+this.id);};$W.control.prototype.setAction=function(){alert("you should override 'setAction' for "+this.id);};$W._a={};requires("uiplugin/control/control.js");requires("uiplugin/control/css.js");requires("uiplugin/control/modelControl.js");requires("uiplugin/control/eventControl.js");$W._t=function(id,_2,_3){["WebSquare.xfControl"];try{this.parentControl=null;this.childControlList=[];this.id=id;this.uuid=$W.UUIDPrefix+"_"+$W.UUID++;this.element=_3;this.render=null;this.options=this.getConfiguredOptions();this.scope_obj=null;this.scope_id=null;if(_3){this.options=$W.extendKeepingType(this.options,$W.WebSquareparser.parseAttribute(_3));this.options.xmlEvents=$W.WebSquareparser.parseEvent(_3);}if(!this.id){this.id=this.options.id;}this.options.id=this.id;if(_2){if(_2._skipExtend!==true){this.options=$W.extendKeepingType(this.options,_2);}if(_2._idCollisionCheck!=undefined){this.options._idCollisionCheck=_2._idCollisionCheck;}if(_2._scope_obj_uuid){this.options._scope_obj_uuid=_2._scope_obj_uuid;if(_2._scope_obj_org_id){this.options._scope_obj_org_id=_2._scope_obj_org_id;}if(_2._scope_obj_runtime_id){this.options._scope_obj_runtime_id=_2._scope_obj_runtime_id;}this.scope_obj=$W.idCache[this.options._scope_obj_uuid];if(this.scope_obj!=null){this.scope_id=this.scope_obj.id;if(_2._scope_obj_org_id&&_2._scope_obj_runtime_id){this.id=this.options.id=this.options._scope_obj_runtime_id;this.org_id=this.options._scope_obj_org_id;if(!this.scope_obj.scope){this.scope_obj.scope={};}this.scope_obj.scope[this.org_id]=this;}}}}if(_3){var _4=$W._B.getLocalName(_3);var _5=$W.WebSquareDocument.componentsCache;var _6=_5[_4];if(!_6){_6=_5[_4]=[];}_6.push(this.uuid);this._wTagName=_4;}if(!this.id){this.options.id=this.id=this.uuid;}else{if(window[$W.noConflict].comp[this.id]!=null||window[$W.noConflict].data[this.id]!=null){if(this.options._idCollisionCheck){if(window[$W.noConflict].comp[this.id]!=null&&window[$W.noConflict].comp[this.id]["_orgUUID"]==window[$W.noConflict].comp[this.id]["uuid"]){window[$W.noConflict].comp[this.id]["_orgId"]=null;delete window[$W.noConflict].comp[this.id]["_orgId"];}else{if($W.WebSquaredoc.idCollisionList[this.id]==undefined){var _7=window[$W.noConflict].comp[this.id]||window[$W.noConflict].data[this.id];$W.WebSquaredoc.idCollisionList[this.id]=[_7.uuid];}$W.WebSquaredoc.idCollisionList[this.id].push(this.uuid);var _8=$W._m.getMessage("E_comp_duplicated_Msg",id)||"id["+id+"] \uac00 \uc911\ubcf5\uc0ac\uc6a9\ub418\uc5c8\uc2b5\ub2c8\ub2e4. \uc18c\uc2a4\ucf54\ub4dc\ub97c \ud655\uc778\ud558\uc138\uc694.";$W.logger.printLog(_8);alert(_8);}}else{try{var _7=window[$W.noConflict].comp[this.id]||window[$W.noConflict].data[this.id];if(_7!=null&&typeof _7.remove=="function"){_7.remove();}}catch(e){$W.exception.printStackTrace(e,null,this);}}}}$W.idCache[this.uuid]=this;$W.idToUUID[this.id]=this.uuid;if($W._N.getConfiguration("/WebSquare/globalExposure/@value").toLowerCase()!="false"){if(this.options.pluginName!="body"){window[this.id]=this;}}if(this.options.pluginName!="body"){window[$W.noConflict].comp[this.id]=this;}if($W._N.docType=="quirk"){this.options=$W.cssManager.resizeStyle(this.id,this.options);}if(this.options.pluginName=="selectbox"){if(_2&&_2.renderType){this.options.renderType=_2.renderType;}}this.dom={};this.attributes=[];if(_3&&this.options.parseAttributes){this.attributes=$W.WebSquareparser.parseAttributesNode(_3);this.getAttributeNode=this.getAttributeNode||$W._t.attributes.getAttributeNode;this.setAttributeNode=this.setAttributeNode||$W._t.attributes.setAttributeNode;this.removeAttributeNode=this.removeAttributeNode||$W._t.attributes.removeAttributeNode;}this.activeStatus="stop";this.completed=false;this.domStatus="";this.modelControl=new $W.modelControl(this.id,this.options.model,this.options.ref,this.options.bind,this.options._scope_obj_uuid);this.event=new $W.eventControl();if(this.scope_obj!=null&&this.scope_obj.options.scopeVariable){if(typeof this.options["for"]==="string"&&this.options["for"]){var _9=scopePrefix+this.options["for"];if($W.getComponentById(_9)!=null){this.options["for"]=_9;}}}this.initialize(_3);this.bindAsEventList=[];this.bindAsUserEventList=[];this.userEventList=[];this.systemEventList={};this.dataObjInfo={};}catch(e){$W.exception.printStackTrace(e,null,this);}};$W.extend($W._t.prototype,$W.control.prototype);$W.extend($W._t.prototype,$W._n.prototype);$W._t.prototype.defaultOptions={};$W._t.prototype.configuredOptions={};$W._t.prototype.getConfiguredOptions=function(){var _a=this.defaultOptions.pluginName;var _b,values;var _c={};if(!this.configuredOptions[_a]){var _d=$W.extendKeepingType({id:"",pluginType:"xfControl",pluginName:"",userEvents:[],systemEvents:[],xmlEvents:null,value:"",ref:"",model:"",bind:"",style:"",className:"",tabIndex:"",readOnly:false,disabled:false,useLocale:false,localeRef:"",useConfig:false,toolTip:"",parentEvent:"",_idCollisionCheck:false,_scope_obj_uuid:null,_scope_obj_org_id:"",_scope_obj_runtime_id:"",preventMultipleClick:false},this.defaultOptions);if(_d.useConfig||$W._G.getBoolean($W._N.getConfiguration("/WebSquare/"+_a+"/useConfig/@value"))){var _e=$W.configManager.getConfig(_a);_d=$W.extendKeepingType(_d,_e);}_b=[];values=[];for(var _f in _d){_b.push(_f);values.push(_d[_f]);}this.configuredOptions[_a]={keys:_b,values:values};}else{_b=this.configuredOptions[_a].keys;values=this.configuredOptions[_a].values;}for(var i=0;i<_b.length;i++){_c[_b[i]]=values[i];}return _c;};$W._t.prototype.initialize=function(_11){["WebSquare.xfControl.initialize"];try{}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._t.prototype.finalize=function(){["WebSquare.xfControl.finalize"];try{$W._c.fireEvent(this,"ondestroyed");}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._t.prototype.applyConfigOption=function(_12){["WebSquare.xfControl.applyConfigOption"];try{var _13=$W.configManager.getConfig(this.options.pluginName);_12=$W.extendKeepingType(_12,_13);return _12;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._t.prototype.setProperty=function(_14,_15){["WebSquare.xfControl.setProperty"];try{if(this.render[_14]!=_15){this.render[_14]=_15;var _16=typeof _14==="string"?_14.toLowerCase():_14;if(_16==="disabled"||_16==="readonly"){if(_15){this.render.setAttribute(_16,_16);}else{this.render.removeAttribute(_16);}}this.onPropertyChange(_14,_15);}}catch(e){$W.exception.printStackTrace(e);}return this;};$W._t.prototype.getProperty=function(_17){["WebSquare.xfControl.getProperty"];try{return this.render[_17];}catch(e){$W.exception.printStackTrace(e);}};$W._t.prototype.setAttribute=function(_18,_19){["WebSquare.xfControl.setAttribute"];try{if(this.options[_18]!=_19){this.options[_18]=_19;$W._c.fireEvent(this,"onattributechanged",_18,_19);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._t.prototype.getAttribute=function(_1a){["WebSquare.xfControl.getAttribute"];try{return this.options[_1a];}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._t.prototype.setUserData=function(key,_1c){["WebSquare.xfControl.setUserData"];try{if(this.defaultOptions[key]!==undefined){$l("!!!WARNING - ["+key+"] can't define as UserData key!!!");return false;}else{this.options[key]=_1c;return true;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._t.prototype.getUserData=function(key){["WebSquare.xfControl.getUserData"];try{if(this.defaultOptions[key]!==undefined){$l("!!!WARNING - ["+key+"] is not UserData key!!!");return;}else{return this.options[key];}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._t.prototype.redraw=function(){["WebSquare.xfControl.redraw"];try{if(!this.render){return;}var _1e=this.toHTML();var _1f=/(\<[^<>]*\>)(.*)(\<\/.*\>)/;var _20=_1e.match(_1f);if(_20&&_20.length==4){var _21=_20[1];var _22=_20[2];var _23=_20[3];this.render.innerHTML=_22;}else{alert("cannot redraw : "+this.id);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._t.prototype.writeTo=function(_24,_25,_26){["WebSquare.xfControl.writeTo"];try{if(this.render){return;}var _27=this.toHTML().wq_trim();var _28={"iframe":true,"img":true,"a":true,"source":true,"embed":true,"form":true,"frame":true,"frameset":true,"line":true,"script":true,"object":true};var bp1=_27.indexOf(">")+1;var bp2=_27.lastIndexOf("<");var _2b=bp2<bp1;var _2c=_27.substring(0,bp1).wq_trim();var _2d=_2b?"":_27.substring(bp1,bp2);var _2e=_2b?"":_27.substring(bp2).wq_trim();if((_2c!=""&&_2e!="")||(_2c!=""&&_2b)){var _2f=_2c.match(/\<([^ \>]*)/)[1].toLowerCase();if(_28[_2f]){var re1=/&/g;_2c=_2c.replace(re1,"&amp;");}var _31=$W._B.parse(_2c+_2e);var _32=$W.WebSquareparser.parseAttribute(_31.documentElement);if(_2f==="table"){var _33=document.createElement("div");_33.innerHTML=_27;this.render=_33.firstChild;try{for(var idx in _32){if(idx=="style"){this.render.style.cssText=_32[idx];}else{if(idx=="className"){this.render.className=_32[idx];}else{this.render[idx]=_32[idx];}}}}catch(e){$W.exception.printStackTrace(e,null,this);}}else{this.render=document.createElement(_2f);try{for(var idx in _32){if(idx=="style"){this.render.style.cssText=_32[idx];}else{if(idx=="className"){this.render.className=_32[idx];}else{this.render[idx]=_32[idx];}}}if(_2d&&_2f!="iframe"&&_2f!="input"&&_2f!="img"){this.render.innerHTML=_2d;}}catch(e){$W.exception.printStackTrace(e,null,this);}}if(typeof _25=="number"&&_24.targetNode){if(_24.render){_24.render.insertBefore(this.render,_24.targetNode);if(this.parentControl!=_24){_24.addControl(this);}}else{if(_24.insertBefore){_24.insertBefore(this.render,_24.targetNode);}else{alert("cannot writeTo : "+this.id);}}}else{if(_24.render){_24.render.appendChild(this.render);if(this.parentControl!=_24){_24.addControl(this);}}else{if(_24.appendChild){_24.appendChild(this.render);}else{alert("cannot writeTo : "+this.id);}}}}try{if(_26!=undefined&&$W.idCache[_26]){this.parentFrame=_26;$W.idCache[_26].childAllControlList.push(this.uuid);}}catch(e){$W.exception.printStackTrace(e,null,this);$W.exception.printError("parentFrame is not wframe");}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._t.appendToRe1=new RegExp("[\\n\\t\\r]*","g");$W._t.appendToRe2=new RegExp("(^\\<[^<>]*\\>)(.*)(\\<\\/.*\\>$)");$W._t.appendToRe3=new RegExp("\\<([^ \\>]*)");$W._t.prototype.appendTo=function(_35,_36){["WebSquare.xfControl.appendTo"];try{if(this.render){return;}var _37="";var _38="";var _39="";var _3a=this.toHTML().wq_trim();_3a=_3a.replace($W._t.appendToRe1,"");var _3b=_3a.match($W._t.appendToRe2);if(_3b&&_3b.length==4){_37=_3b[1];_38=_3b[2];_39=_3b[3];}else{if(!_3b&&_3a.charAt(0)=="<"&&_3a.charAt(_3a.length-1)==">"){_37=_3a;}}if(_37!=""){var _3c=$W._B.parse(_37+_39);var _3d=$W.WebSquareparser.parseAttribute(_3c.documentElement);var _3e=_37.match($W._t.appendToRe3)[1];this.render=document.createElement(_3e);try{for(var idx in _3d){if(idx=="style"){this.render.style.cssText=_3d[idx];continue;}else{if(idx=="className"){this.render.className=_3d[idx];continue;}}this.render.setAttribute(idx,_3d[idx]);}}catch(e){$W.exception.printStackTrace(e,null,this);}if(_3e.toLowerCase()=="div"){this.render.innerHTML=_38;}else{var _40=$W._B.parse(_3a);var _41=_40.documentElement.childNodes;if(_41.length>0){for(var i=0;i<_41.length;i++){var _43=_41[i];this.render.appendChild($W._G.XMLToHTML(_43));}}}if(_35.contentRender){_35.contentRender.appendChild(this.render);_35.addControl(this);}else{if(_35.render){_35.render.appendChild(this.render);_35.addControl(this);}else{if(_35.appendChild){_35.appendChild(this.render);}else{alert("cannot appendTo : "+this.id);}}}}try{if(_36!=undefined&&$W.idCache[_36]){this.parentFrame=_36;$W.idCache[_36].childAllControlList.push(this.uuid);}}catch(e){$W.exception.printStackTrace(e,null,this);$W.exception.printError("parentFrame is not wframe");}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._t.prototype.appendChild=function(_44){["WebSquare.xfControl.appendChild"];try{if(!this.render||!_44){return;}if(_44.render){this.render.appendChild(_44.render);}else{this.render.appendChild(_44);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._t.prototype.refreshDom=function(){["WebSquare.xfControl.refreshDom"];try{if(!this.render){return;}for(var i=0;i<this.childControlList.length;i++){var _46=this.childControlList[i];_46.refreshDom();if(_46.domStatus=="new"){if(_46.render){this.render.appendChild(_46.render);}else{_46.writeTo(this);}_46.domStatus="";}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._t.prototype.refresh=function(){};$W._t.prototype.refreshItemset=function(){};$W._t.prototype.preActivate=function(){["WebSquare.xfControl.preActivate"];try{if(this.activeStatus!="stop"){$W.logger.printLog("duplicated call for preActivate");return;}this.setRender();var _47=this.childControlList;if((this.options.pluginName==="wframe"||this.options.pluginName=="pageInherit")&&_47[0]!=null){_47=_47[0].childControlList;}for(var i=0;i<_47.length;i++){if(_47[i].activeStatus=="stop"){_47[i].preActivate();}}if(this.render){this.activeStatus="preActive";if(this.setPreAction){this.setPreAction();}this.modelControl.binding();}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._t.prototype.activate=function(){["WebSquare.xfControl.activate"];try{if(this.activeStatus=="active"){$l("!!!WARNING!!! duplicate call 'activate' for : "+this.id);return;}if(this.activeStatus=="stop"){this.preActivate();}var _49=this.childControlList;if((this.options.pluginName==="wframe"||this.options.pluginName=="pageInherit")&&_49[0]!=null){_49=_49[0].childControlList;}for(var i=0;i<_49.length;i++){if(_49[i].activeStatus!="active"){_49[i].activate();}}if(this.render){this.activeStatus="active";this.setUserAction();this.setAction();if(this.options.tabIndex){if(this.options.pluginType=="uiplugin.inputCalendar"){var _4b=this.getElementById(this.id+"_input");_4b.tabIndex=this.options.tabIndex;}else{if(this.options.pluginType=="uiplugin.selectbox"&&this.options.renderType=="native"){var _4c=this.getElementById(this.id+"_input_0");_4c.tabIndex=this.options.tabIndex;}else{this.render.tabIndex=this.options.tabIndex;}}}if(this.options.readOnly==true){this.setReadOnly(this.options.readOnly);}if(this.options.disabled==true){this.setDisabled(this.options.disabled);}if(this.options.toolTip!=""){this.setToolTip(this.render,this.options.toolTip);}$W._c.fireEvent(this,"oncreated",this.options);if(this.modelControl.isDataCollectionRefBinded){this.bind("onclick",this.setRefPosition);}if(this.modelControl.isDataCollectionRefBinded){}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._t.prototype.deactivate=function(){["WebSquare.xfControl.deactivate"];try{this.activeStatus="stop";for(var i=0;i<this.childControlList.length;i++){this.childControlList[i].deactivate();}this.modelControl.unbinding();this.event.clearElement(this.render);this.event.clearCache();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._t.prototype.remove=function(_4e){["WebSquare.xfControl.remove"];try{var _4f=null;if(this.render!=null){_4f=this.render.getAttribute("id");}var _50=this.getParent();this.destroy(_4e);var _51=null;if(_4f){_51=document.getElementById(_4f);}if(_51!=null&&!_4e){$W.removeNode(_51);_51=null;}if(_50){_50.removeControl(this);}for(var i in $W.getBody().childControlList){if($W.getBody().childControlList[i]==this){$W.getBody().childControlList.splice(i,1);}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._t.prototype.empty=function(){["WebSquare.xfControl.empty"];try{this.destroy();this.render.innerHTML="";return;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._t.prototype.adaptDocType=function(){["WebSquare.xfControl.adaptDocType"];try{if("trigger".indexOf(this.options.pluginName)>-1){return;}if(this.render!=document.body){var _53=this.render.offsetWidth;if(_53==0||true){var _54=this.getStyle("height");var _55=this.getStyle("width");var _56={paddingTop:parseInt(this.getStyle("padding-top"))||0,paddingBottom:parseInt(this.getStyle("padding-bottom"))||0,paddingLeft:parseInt(this.getStyle("padding-left"))||0,paddingRight:parseInt(this.getStyle("padding-right"))||0,borderTopWidth:parseInt(this.getStyle("border-top-width"))||0,borderBottomWidth:parseInt(this.getStyle("border-bottom-width"))||0,borderLeftWidth:parseInt(this.getStyle("border-left-width"))||0,borderRightWidth:parseInt(this.getStyle("border-right-width"))||0};if(_54.indexOf("px")>-1){_54=parseInt(_54);var _57=_54-(_56.paddingTop+_56.paddingBottom+_56.borderTopWidth+_56.borderBottomWidth);this.setStyle("height",_57+"px");}else{if(_54.indexOf("%")>-1){}else{}}if(_55.indexOf("px")>-1){_55=parseInt(_55);var _58=_55-(_56.paddingLeft+_56.paddingRight+_56.borderLeftWidth+_56.borderRightWidth);this.setStyle("width",_58+"px");}else{if(_55.indexOf("%")>-1){}else{}}}else{var _54=parseInt(this.getStyle("height"));var _55=parseInt(this.getStyle("width"));this.setStyle("width",(_55-(this.render.offsetWidth-_55))+"px");this.setStyle("height",(_54-(this.render.offsetHeight-_54))+"px");}}}catch(e){$l("error in adaptDocType : "+this.id);$W.exception.printStackTrace(e,null,this);}};$W._t.prototype.setRender=function(dom){["WebSquare.xfControl.setRender"];try{if(dom){if(this.render){this.render.parentNode.insertBefore(dom,this.render);this.render.parentNode.removeChild(this.render);}this.render=dom;}else{if(!this.render||this.render.parentElement==null){this.render=document.getElementById(this.id);}else{}}if(!this.render){}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._t.prototype.getID=function(){["WebSquare.xfControl.getID"];try{return this.id;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._t.prototype.build=function(){["WebSquare.xfControl.build"];try{this.setLayout();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._t.prototype.setUserAction=function(){["WebSquare.xfControl.setUserAction"];try{if(this.options.xmlEvents){this.options.xmlEvents=this.event.addUserEvents(this,this.options.xmlEvents,this.options.userEvents);if(this.options.xmlEvents.length>0){this.event.addEvents(this,this.options.xmlEvents);}}for(var opt in this.options){if(opt.slice(0,3)=="ev:"){var _5b=this.options[opt].split(",");for(var j=0;j<_5b.length;j++){this.bind(opt.slice(3),_5b[j]);}}}if(this.options.eventPause){this.setEventPause(this.options.eventPause,true);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._t.prototype.setLayout=function(){};$W._t.prototype.onComplete=function(){if(this.activeStatus!="active"){return;}if(this.completed){return;}var _5d=this.childControlList;if((this.options.pluginName==="wframe"||this.options.pluginName=="pageInherit")&&_5d[0]!=null){_5d=_5d[0].childControlList;}if(_5d&&_5d.length>0){for(var i=0;i<_5d.length;i++){if(!_5d[i].completed&&typeof _5d[i].onComplete=="function"&&_5d[i].getPluginName&&_5d[i].getPluginName()!="multiupload"){_5d[i].onComplete();}}}this.completed=true;};$W._t.prototype.setToolTip=function(){$W.getBody().setToolTip(this.render,this.options.toolTip);if(this.options.toolTip!=""){this.render.setAttribute("aria-describedby","_balloonTip");}};$W._t.prototype.setInstanceValue=function(_5f,_60){["WebSquare.xfControl.setInstanceValue"];try{if($W._N.forcedValueSetting==null){$W._N.forcedValueSetting=$W._N.getConfiguration("/WebSquare/forcedValueSetting/@value");}if($W._N.forcedValueSetting=="true"){$W._J.setInstanceValue(_5f,_60);}else{var _61=new $W._e.WebSquareSetValueAction(null,null,_5f,_60,this.id);_61.activate();}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._t.prototype.blur=function(){["WebSquare.xfControl.blur"];try{this.render.blur();}catch(e){$W.exception.printStackTrace(e);}};$W._t.prototype.click=function(){["WebSquare.xfControl.click"];try{this.render.click();}catch(e){$W.exception.printStackTrace(e);}};$W._t.prototype.focus=function(){["WebSquare.xfControl.focus"];try{this.render.focus();}catch(e){$W.exception.printStackTrace(e);}};$W._t.prototype.select=function(){["WebSquare.xfControl.focus"];try{this.render.select();}catch(e){$W.exception.printStackTrace(e);}};$W._t.prototype.getTabIndex=function(){["WebSquare.xfControl.getTabIndex"];try{return this.options.tabIndex;}catch(e){$W.exception.printStackTrace(e);}};$W._t.prototype.onPropertyChange=function(_62,_63){["WebSquare.xfControl.onPropertyChange"];};$W._t.prototype.setDisabled=function(_64){["WebSquare.xfControl.setDisabled"];try{_64=$W._G.getBoolean(_64);this.options.disabled=_64;this.setProperty("disabled",_64);}catch(e){$W.exception.printStackTrace(e);}return _64;};$W._t.prototype.getDisabled=function(){["WebSquare.xfControl.getDisabled"];try{return this.options&&this.options.disabled;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._t.prototype.setReadOnly=function(_65){["WebSquare.xfControl.setReadOnly"];try{_65=$W._G.getBoolean(_65);this.options.readOnly=_65;this.setProperty("readOnly",_65);}catch(e){$W.exception.printStackTrace(e,null,this);}return _65;};$W._t.prototype.getReadOnly=function(){["WebSquare.xfControl.getReadOnly"];try{return this.options.readOnly;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._t.prototype.getRef=function(){["WebSquare.xfControl.getRef"];try{return this.options.ref;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._t.prototype.displayLocaleValue=function(){if(this.options.localeRef!=null&&this.options.localeRef!=""){var _66=this.getLocaleValue(this.options.localeRef);this.setValue(_66);}};$W._t.prototype.getLocaleValue=function(ref){if(typeof ref=="undefined"||ref==null){ref=this.options.localeRef;}ref=ref.wq_trim();var ret=$W.WebSquareLang[ref];if(ret==null){ret="global_undefined";}return ret;};$W._t.prototype.getDomList=function(key,_6a,_6b){["WebSquare.xfControl.getLabelList"];_6b=_6b||this.render;if(this.dom[key]==null){this.dom[key]=_6b.getElementsByTagName(_6a);}return this.dom[key];};$W._t.prototype.getElementById=function(id){["WebSquare.xfControl.getElementById"];if(this.dom[id]==null){this.dom[id]=document.getElementById(id);}return this.dom[id];};$W._t.prototype.getPluginName=function(){return this.options.pluginName;};$W._t.prototype.toHTML=function(){alert("you should override 'toHTML' for "+this.id);};$W._t.prototype.setAction=function(){alert("you should override 'setAction' for "+this.id);};$W._t.prototype.childFiredEvent=function(o,ev){arguments[0]=this;$W._c.fireEvent.apply(null,arguments);};$W._t.prototype.addEvent=function(_6f,_70,_71){["WebSquare.xfControl.addEvent"];try{_71=_71||"script";var _72={name:_6f,action:_71,param:{handler:_70}};if(!this.options.xmlEvents){this.options.xmlEvents=[];}this.options.xmlEvents.push(_72);if(this.activeStatus=="active"){var _73=this.event.addUserEvents(this,[_72],this.options.userEvents);if(_73.length>0){this.event.addEvents(this,_73);}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._t.prototype.bind=function(_74,_75){["WebSquare.xfControl.bind"];try{if(typeof _74==="string"&&(_74.slice(0,2)!="on")){_74="on"+_74;}if(typeof _74==="string"){_74=_74.toLowerCase();var _76=_74.indexOf("(");if(_76>=0){_74=_74.slice(0,_76);}}this.addEvent(_74,_75);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._t.prototype.trigger=function(_77,_78){["WebSquare.xfControl.trigger"];try{if(typeof _77==="string"&&(_77.slice(0,2)!="on")){_77="on"+_77;}if(typeof _77==="string"){_77=_77.toLowerCase();var _79=_77.indexOf("(");if(_79>=0){_77=_77.slice(0,_79);}}var _7a=false;if(this.options.userEvents!=undefined){for(var i=0;i<this.options.userEvents.length;i++){if(this.options.userEvents[i]===_77){_7a=true;break;}}}if(!_7a&&$W._c.isEventSupported(this.render,_77)){if(_78&&extraParamteres.constructor==Array){$W._c.fireSystemEvent(this,_77,_78[0]);}else{$W._c.fireSystemEvent(this,_77);}}else{var _7c=[this,_77];_7c=_7c.concat(_78);$W._c.fireEvent.apply($W._c.fireEvent,_7c);_7c[0]=null;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._t.prototype.unbind=function(_7d,_7e){["WebSquare.xfControl.unbind"];try{if(typeof _7d==="string"&&(_7d.slice(0,2)!="on")){_7d="on"+_7d;}if(typeof _7d==="string"){_7d=_7d.toLowerCase();var _7f=_7d.indexOf("(");if(_7f>=0){_7d=_7d.slice(0,_7f);}}if(typeof _7d==="string"&&typeof _7e==="function"){for(var i=this.userEventList.length-1;i>=0;i--){if(_7d===this.userEventList[i].name&&_7e===this.userEventList[i].param.handler){this.userEventList.splice(i,1);if(typeof this.systemEventList[_7d]==="object"){this.systemEventList[_7d].count--;if(this.systemEventList[_7d].count<=0){this.event.removeListener(this.render,_7d,this.systemEventList[_7d].handler);delete this.systemEventList[_7d];}}}}}else{if(typeof _7d==="string"&&_7e==undefined){for(var i=this.userEventList.length-1;i>=0;i--){if(_7d===this.userEventList[i].name){this.userEventList.splice(i,1);}}if(typeof this.systemEventList[_7d]==="object"){this.event.removeListener(this.render,_7d,this.systemEventList[_7d].handler);delete this.systemEventList[_7d];}}else{for(var ev in this.systemEventList){this.event.removeListener(this.render,ev,this.systemEventList[ev].handler);}this.userEventList=[];this.systemEventList={};}}if(this.options){this.options.xmlEvents=this.userEventList.slice();}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._t.prototype.setEventPause=function(_82,_83){var _84={};var _85=false;if(typeof _82=="string"&&_82!=""){var _86=_82.split(",");for(var i=0;i<_86.length;i++){if(_86[i]){_84[_86[i]]=true;}}}else{_85=true;}for(var i=this.userEventList.length-1;i>=0;i--){if(_85||_84[this.userEventList[i].name]){this.userEventList[i].disabled=_83;}}};$W._t.prototype.getGenerator=function(){var _88=this;while(_88.parentControl){_88=_88.parentControl;if(_88.options&&_88.options.pluginName=="generator"){break;}}return _88;};$W._t.prototype.getGeneratedIndex=function(){if(this.options){var _89=this.getGenerator();for(var i=0;i<_89.generatedIndexSet.length;i++){if(this.options.g_index==_89.generatedIndexSet[i]){return i;}}}else{return null;}};$W._t.prototype.getGeneratedComponent=function(id){var _8c=this.getGeneratedIndex();var _8d=this.getGenerator();return _8d.getChild(_8c,id);};$W._t.prototype.getAttributesString=function(obj){var str=" ";var _90;if(obj){for(var i in obj){if(i.charAt(0)!="@"){_90=obj[i]+"";str+=i+"='"+_90.wq_replaceAll("'","&#39;")+"' ";}}}else{if(this.options.parseAttributes){for(var i=0;i<this.attributes.length;i++){_90=this.attributes[i].value?this.attributes[i].value.wq_replaceAll("'","&#39;"):"";str+=this.attributes[i].name+"='"+_90+"' ";}}}return str;};$W._t.prototype.invoke=function(_92,_93,_94,_95){["WebSquare.uiplugin.xfControl.invoke"];try{var _94=$W.extend({excludePlugin:"",excludeId:"",includePlugin:"",includeId:""},_94||{});var _95=_95||[];if(!this.getPluginName){if(this.childControlList){for(var i=0;i<this.childControlList.length;i++){$W._t.prototype.invoke.call(this.childControlList[i],_92,_93,_94,_95);}}return;}var _97={"group":true,"tabContainer":true,"Switch":true,"repeat":true};if(!_97[this.getPluginName()]){$l("The components 'invoke' is not capable of running the component["+this.id+"].");return;}var _98=this.getChildren();for(var i=0;i<_98.length;i++){var _99=_98[i];if(!_99.getPluginName){$W._t.prototype.invoke.call(_99,_92,_93,_94,_95);}else{if(_97[_99.getPluginName()]){_99.invoke(_92,_93,_94,_95);}else{if(_94.includePlugin.wq_trim().length>0||_94.includeId.wq_trim().length>0){if((" "+_94.includePlugin+" ").indexOf(" "+_99.options.pluginName+" ")===-1&&(" "+_94.includeId+" ").indexOf(" "+_99.id+" ")===-1){continue;}}else{if((" "+_94.excludePlugin+" ").indexOf(" "+_99.options.pluginName+" ")>-1||(" "+_94.excludeId+" ").indexOf(" "+_99.id+" ")>-1){continue;}}switch(_92){case "assert":if(_99.getValue){var _9a="";if(typeof _93==="function"){_9a=_93(_99);}else{_9a=_93;}if(_99.getValue()==_9a){var obj={};obj.id=_99.id;obj.result=true;_95.push(obj);}else{var obj={};obj.id=_99.id;obj.result=false;_95.push(obj);}}break;default:if(_99[_92]&&typeof _99[_92]==="function"){if(typeof _93==="function"){var obj={};obj.id=_99.id;obj.result=_99[_92](_93(_99));_95.push(obj);}else{var obj={};obj.id=_99.id;obj.result=_99[_92](_93);_95.push(obj);}}break;}}}}return _95;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._t.prototype.getTitle=function(){return this.render.getAttribute("title");};$W._t.prototype.setTitle=function(_9c){this.render.setAttribute("title",_9c);};$W._t.prototype.makeScope=function(_9d){if(!this.scope){this.scope={};}if(_9d.childControlList){for(var i=0;i<_9d.childControlList.length;i++){var _9f=_9d.childControlList[i];if(_9f.org_id){this.scope[_9f.org_id]=_9f;}if(!_9f.options||(_9f.options.pluginName!=="wframe"&&!_9f.options.udcName)){this.makeScope(_9f);}}}};$W._t.attributes=(function(){var _a0={a:["href","target","name","title"]};var _a1={};var _a2=function(_a3){var _a4=_a1[_a3];if(!_a4){var _a5=_a0[_a3];_a4={};if(_a5){for(var i=0;i<_a5.length;i++){_a4[_a5[i]]=true;}}var _a7=$W.configManager.getConfig("attributes/whiteList");if(_a7&&_a7[_a3]){var _a8=_a7[_a3].split(",");for(var i=0;i<_a8.length;i++){_a4[_a8[i]]=true;}}_a1[_a3]=_a4;}return _a4;};var _a9=function(_aa){["WebSquare.xfControl.getAttributeNode"];try{return this.render.getAttribute(_aa);}catch(e){$W.exception.printStackTrace(e);}};var _ab=function(_ac,_ad){["WebSquare.xfControl.setAttributeNode"];try{if(_a2(this.options.tagname)[_ac]){this.render.setAttribute(_ac,_ad);}else{$W.logger.printLog("Cannot set '"+_ac+"' attribute node on ["+this.id+"]. See attributes configurations.");}}catch(e){$W.exception.printStackTrace(e);}};var _ae=function(_af){["WebSquare.xfControl.removeAttributeNode"];try{if(_a2(this.options.tagname)[_af]){this.render.removeAttribute(_af);}else{$W.logger.printLog("Cannot remove '"+_af+"' attribute node on ["+this.id+"]. See attributes configurations.");}}catch(e){$W.exception.printStackTrace(e);}};return {getAttributeNode:_a9,setAttributeNode:_ab,removeAttributeNode:_ae};})();$W._t.prototype.broadcast=function(_b0){["WebSquare.xfControl.prototype.broadcast"];try{for(var id in this.dataObjInfo){var _b2=this.dataObjInfo[id];switch(_b2.initializeType){case "linkedDataList":if(_b0.linkedDataList){_b2[_b0.linkedDataList[0]].apply(_b2,_b0.linkedDataList[1]||[]);}break;}}if(this.element){if(this.element.tagName=="w2:grid"||this.element.tagName=="w2:gridView"){if(_b0.gridView){this[_b0.gridView[0]].apply(this,_b0.gridView[1]);}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._t.prototype.rollback=function(){["WebSquare.xfControl.prototype.rollback"];try{var _b3=this.modelControl.getData();var _b4=this.getValue();var _b5=this.options.keepValue?_b4:_b3;if(_b5!=_b4){this.setValue(_b5);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._t.prototype.setRefPosition=function(){["WebSquare.xfControl.prototype.setRefPosition"];try{if(this.modelControl.isDataCollectionRefBinded){var _b6=this.modelControl.dataCollectionRefInfo.dataComp;if(_b6){switch(_b6.initializeType){case "dataList":if(typeof _b6.rowPosition=="number"){var _b7=_b6.getColumnPosition();var _b8=this.modelControl.dataCollectionRefInfo.colID;if(_b7!=_b8){_b6.setColumnPosition(_b8);}}break;}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._t.prototype.fireRefEvent=function(){["WebSquare.xfControl.prototype.frieRefEvent"];try{if(this.modelControl.isDataCollectionRefBinded){var _b9=this.modelControl.dataCollectionRefInfo.dataComp;if(_b9){switch(_b9.initializeType){case "dataList":if(typeof _b9.rowPosition=="number"){var _ba=_b9.getColumnPosition();var _bb=this.modelControl.dataCollectionRefInfo.colID;var _bc=this.getValue();if(_ba==_bb){var _bd=_b9.fireOnBeforeColumnChangeEvent({"newValue":_bc});if(_bd===false){this.rollback();}}}break;}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._t.prototype.clone=function(_be,_bf){["WebSquare.xfControl.prototype.clone"];try{var _c0=this.element.cloneNode(true);_c0.setAttribute("id",_be);return $W._G.dynamicCreate(_be,this.options.pluginName,_c0,_bf);}catch(e){$W.exception.printStackTrace(e,null,this);}};;WebSquare.xfControl=$W._t;$W.modelControl=function(id,_2,_3,_4,_5){["WebSquare.modelControl"];try{this.id=id;this.model=_2;this.ref=_3;this.bind=_4;this.itemsetObj=null;this.useRef=false;this.useBind=false;this.useItemset=false;this.isDataCollectionRefBinded=false;this.isDataCollectionItemsetBinded=false;this.dataCollectionRefInfo={};this.dataCollectionItemsetInfo={};this.scope_uuid=_5;}catch(e){$W.exception.printStackTrace(e);}};$W.modelControl.prototype.setItemset=function(_6,_7,_8){["WebSquare.modelControl.setItemset"];try{this.itemsetObj={nodeset:_6||"",label:_7||"",value:_8||""};}catch(e){$W.exception.printStackTrace(e);}};$W.modelControl.prototype.binding=function(){["WebSquare.modelControl.binding"];try{if(this.isDataCollectionItemsetBinded||(this.ref&&this.ref.indexOf("data:")>-1)){this.dataCollectionBinding(this.ref);}else{this.bindRef();this.bindItemset();}}catch(e){$W.exception.printStackTrace(e);}};$W.modelControl.prototype.bindRef=function(){["WebSquare.modelControl.bindRef"];try{if(this.ref&&this.ref!=""){$W.WebSquaredoc.refElement.push(new $W.RefElement(this.ref,this.id));$W._J.setBindElement(this.ref,this.id);this.useRef=true;}}catch(e){$W.exception.printStackTrace(e);}};$W.modelControl.prototype.bindItemset=function(){["WebSquare.modelControl.bindItemset"];try{if(this.itemsetObj&&this.itemsetObj.nodeset!=""){$W.WebSquaredoc.itemsetElement.push(new $W.ItemsetElement(this.itemsetObj.nodeset,this.itemsetObj.label,this.itemsetObj.value,this.id));this.useItemset=true;}}catch(e){$W.exception.printStackTrace(e);}};$W.modelControl.prototype.unbindRef=function(){["WebSquare.modelControl.unbindRef"];try{if(this.isDataCollectionRefBinded){this.useRef=false;this.isDataCollectionRefBinded=false;if(this.dataCollectionRefInfo.dataComp&&this.dataCollectionRefInfo.dataComp.childCompHash){this.dataCollectionRefInfo.dataComp.removeChild(this.dataCollectionRefInfo.childComp.id);}this.dataCollectionRefInfo={};}else{for(var j in $W.WebSquaredoc.refElement){var _a=$W.WebSquaredoc.refElement[j];var _b=_a.id;if(_b==this.id){$W.WebSquaredoc.refElement.splice(j,1);this.useRef=false;}}}}catch(e){$W.exception.printStackTrace(e);}};$W.modelControl.prototype.unbindItemset=function(){["WebSquare.modelControl.unbindItemset"];try{if(this.isDataCollectionItemsetBinded){this.useItemset=false;this.isDataCollectionItemsetBinded=false;if(this.dataCollectionItemsetInfo.dataComp){this.dataCollectionItemsetInfo.dataComp.removeChild(this.dataCollectionItemsetInfo.childComp.id);}this.dataCollectionItemsetInfo={};}else{for(var k in $W.WebSquaredoc.itemsetElement){var _d=$W.WebSquaredoc.itemsetElement[k];var _e=_d.id;try{if(_e==this.id){$W.WebSquaredoc.itemsetElement.splice(k,1);this.useItemset=false;}}catch(e){}}}}catch(e){$W.exception.printStackTrace(e);}};$W.modelControl.prototype.unbinding=function(){["WebSquare.modelControl.unbinding"];try{if(this.ref!=""){}if(this.itemsetObj.nodeset!=""){}if(this.ref!=""){}}catch(e){$W.exception.printStackTrace(e);}};$W.modelControl.prototype.isBinded=function(){["WebSquare.modelControl.isBinded"];return this.useRef;};$W.modelControl.prototype.isItemsetBinded=function(){["WebSquare.modelControl.isItemsetBinded"];return this.useItemset;};$W.modelControl.prototype.setRef=function(_f){["WebSquare.modelControl.setRef"];try{var _10=_f||"";if(this.useRef&&typeof _10=="string"&&_10.length>0){this.ref=_10;this.binding();}}catch(e){$W.exception.printStackTrace(e);}};$W.modelControl.prototype.setData=function(_11,_12){["WebSquare.modelControl.setData"];try{if(this.useRef==true){if(this.getData()!=_11){if(this.isDataCollectionRefBinded){_12=_12||"column";$W._j.api.setRefValue(this.dataCollectionRefInfo,_11,_12);}else{$W._J.setInstanceValue(this.ref,_11);}}return true;}return false;}catch(e){$W.exception.printStackTrace(e);}};$W.modelControl.prototype.getData=function(){["WebSquare.modelControl.getData"];try{if(this.ref!=""){if(this.isDataCollectionRefBinded){return $W._j.api.getRefValue(this.dataCollectionRefInfo);}else{return $W._J.getInstanceValue(this.ref,this.model);}}else{return "";}}catch(e){$W.exception.printStackTrace(e);}};$W.modelControl.prototype.setItemsetData=function(_13){["WebSquare.modelControl.setItemsetData"];try{}catch(e){$W.exception.printStackTrace(e);}};$W.modelControl.prototype.getItemsetData=function(){["WebSquare.modelControl.getItemsetData"];try{var _14=[];if(this.itemsetObj.nodeset!=""){var _15=this.itemsetObj.label;var _16=this.itemsetObj.value;while(1){var _17=_15.lastIndexOf("/");if(_17<0){break;}_15=_15.substring(0,_17);}while(1){var _18=_16.lastIndexOf("/");if(_18<0){break;}_16=_16.substring(0,_18);}var _19=this.itemsetObj.nodeset;var _1a=this.itemsetObj.label;var _1b=this.itemsetObj.value;if(_16==_15&&_16!=""){var _1c=_1a.lastIndexOf("/");var _1d=_1b.lastIndexOf("/");if(_1c>0&&_1d>0){_19+="/"+_15;_1a=_1a.replace(_15+"/","");_1b=_1b.replace(_16+"/","");}}if(_19.lastIndexOf("/")==_19.length-1){_19=_19.substring(0,_19.lastIndexOf("/"));}if(_1a.indexOf("/")==0){_1a=_1a.substring(1);}if(_1b.indexOf("/")==0){_1b=_1b.substring(1);}var _1e=$W._J.findInstanceNodes(_19);if(_1e){for(var i=0;i<_1e.length;++i){var _20=_1e[i];var _15=$W._B.getValue(_20,_1a);var _16=$W._B.getValue(_20,_1b);_14.push({label:_15,value:_16,xml:_20});}}}return _14;}catch(e){$W.exception.printStackTrace(e);}};$W.modelControl.prototype.getDataCollectionItemsetData=function(_21,_22){["WebSquare.modelControl.getDataCollectionItemsetData"];try{var _23=this.getDataComp();var _24;if(_23){_24=_23.id;}else{_24=this.itemsetObj.nodeset.slice("data:".length);}var _25=$W._N.getComponentById(_21);this.isDataCollectionItemsetBinded=true;if(_25){$W._j.api.addRelation(_25.id,_24);}if(_23&&$W.idCache[_23.uuid]){_23.addChild(_25);this.dataCollectionItemsetInfo["dataComp"]=_23;this.dataCollectionItemsetInfo["childComp"]=_25;switch(_23.initializeType){case "linkedDataList":case "dataList":var _26=[];var _27={};if(_22&&_22.allData===true){var _28=_23.getTotalRow();for(var i=0;i<_28;i++){var _2a=_23.bodyIdColIndexMap[this.itemsetObj.label];var _2b=_23.bodyIdColIndexMap[this.itemsetObj.value];var _2c=_23.cellInfoHash[this.itemsetObj.label];var _2d=_23.cellInfoHash[this.itemsetObj.value];var _2e="";var _2f="";if(_2c&&_2c.options.inputType=="expression"){_2e=_2c.getExpressionValue(i);}else{if(_23.initializeType==="dataList"){_2e=_23.dataArr[i*_23.cellIdList.length+_2a];}else{_2e=_23._dataList.dataArr[_23.initialRowIndexArr[i]*_23.cellIdList.length+_2a];}}if(_2d&&_2d.options.inputType=="expression"){_2f=_2d.getExpressionValue(i);}else{if(_23.initializeType==="dataList"){_2f=_23.dataArr[i*_23.cellIdList.length+_2b];}else{_2f=_23._dataList.dataArr[_23.initialRowIndexArr[i]*_23.cellIdList.length+_2b];}}if(_27[_2e]==_2f){continue;}_27[_2e]=_2f;_26.push({label:_2e,value:_2f});}}else{var _28=_23.getDataLength();for(var i=0;i<_28;i++){var _2e=_23.getCellData(i,this.itemsetObj.label);var _2f=_23.getCellData(i,this.itemsetObj.value);if(_27[_2e]==_2f){continue;}_27[_2e]=_2f;_26.push({label:_2e,value:_2f});}}return _26;case "dataMap":var _26=[];var _27={};for(var i=0;i<_23.getCount();i++){var _2e=_23.get(this.itemsetObj.label);var _2f=_23.get(this.itemsetObj.value);if(_27[_2e]==_2f){continue;}_27[_2e]=_2f;_26.push({label:_2e,value:_2f});}return _26;}}}catch(e){$W.exception.printStackTrace(e);}};$W.modelControl.prototype.dataCollectionBinding=function(_30){["WebSquare.modelControl.dataCollectionBinding"];try{this.dataCollectionBindRef(_30);this.dataCollectionBindItemset(_30);}catch(e){$W.exception.printStackTrace(e);}};$W.modelControl.prototype.dataCollectionBindRef=function(_31){["WebSquare.modelControl.dataCollectionBindRef"];try{if(this.ref&&this.ref!=""){this.isDataCollectionRefBinded=true;var _32=_31.split(".");var _33=this.getDataComp(_32[0].slice("data:".length));var _34=$W._N.getComponentById(this.id);if(_33){_33.addRefComp(_34);this.dataCollectionRefInfo["dataComp"]=_33;this.dataCollectionRefInfo["childComp"]=_34;switch(_33.initializeType){case "linkedDataList":case "dataList":this.dataCollectionRefInfo["colID"]=_32[1];break;case "dataMap":this.dataCollectionRefInfo["key"]=_32[1];break;}$W._j.api.addRefRelation(_34.id,_33.id);}else{$W._j.api.addRefRelation(_34.id,_32[0].slice("data:".length));}this.useRef=true;}}catch(e){$W.exception.printStackTrace(e);}};$W.modelControl.prototype.dataCollectionBindItemset=function(){["WebSquare.modelControl.dataCollectionBindItemset"];try{if(this.itemsetObj&&this.itemsetObj.nodeset!=""){this.useItemset=true;}}catch(e){$W.exception.printStackTrace(e);}};$W.modelControl.prototype.getDataComp=function(_35){["WebSquare.modelControl.getDataComp"];try{var _36=_35||this.itemsetObj.nodeset.slice("data:".length);var ret=null;if(this.scope_uuid&&$W.idCache[this.scope_uuid]!=undefined){ret=$W.idCache[this.scope_uuid].scope[_36];if(ret==undefined){ret=$W._j["comp"][$W.idCache[this.scope_uuid].id+"_"+_36]||null;if(ret!=null){$W.idCache[this.scope_uuid].scope[_36]=ret;}}}if(ret==null){ret=$W._j["comp"][_36];}return ret;}catch(e){$W.exception.printStackTrace(e);}};requires("uiplugin/control/control.js");requires("uiplugin/control/xfControl.js");requires("uiplugin/control/htmlControl.js");requires("uiplugin/control/cssManager.js");requires("uiplugin/control/controlFactory.js");requires("uiplugin/control/executeHelper.js");requires("uiplugin/balloonTip/balloonTip.js");$W.controlManager=function(){["WebSquare.controlManager"];try{this.bodyControl=null;this.helperList=new Array();this.addHelper(new $W.visibleHelper());this.addHelper(new $W.actionHelper());}catch(e){$W.exception.printStackTrace(e);}};$W.controlManager.prototype.addHelper=function(_1){["WebSquare.controlManager.addHelper"];try{this.helperList.push(_1);}catch(e){$W.exception.printStackTrace(e);}};$W.controlManager.prototype.run=function(_2,_3){["WebSquare.controlManager.run"];try{$W._N.docType=$W._N.getConfiguration("docType")||"quirk";$W.cssManager.startCache();this.bodyControl=$W.controlFactory.create(null,null,_2);$W.cssManager.endCache();var _4=$W._J.getModelByID();if(_4){for(var i=0;i<$W.pageInheritSubmissionList.length;i++){var _6=$W.pageInheritSubmissionList[i];while(_6.length>0){var _7=_6.pop();_7.parentElement=_4.element;_4.submissions.push(_7);}}for(var i=0;i<$W.pageInheritWorkflowList.length;i++){var _8=$W.pageInheritWorkflowList[i];while(_8.length>0){var _9=_8.pop();_9.parentElement=_4.element;_4.workflows.push(_9);}}}if(_3){$W.BootLoader.performanceCheck.mid3=new Date();$W.BootLoader.printLog("[SPA4][CREATE] WebSquare Object Creation Complete. Time:"+($W.BootLoader.performanceCheck.mid3.getTime()-$W.BootLoader.performanceCheck.mid2.getTime())+"ms");}else{$W.BootLoader.performanceCheck.mid3=new Date();$W.BootLoader.printLog("[STEP4][CREATE] WebSquare Object Creation Complete. Time:"+($W.BootLoader.performanceCheck.mid3.getTime()-$W.BootLoader.performanceCheck.mid2.getTime())+"ms");}$W._N.executePointScript(4);$W.setBody(this.bodyControl);var _a=this;if($W.pageInheritScriptArr){$W.externalScriptArr=$W.pageInheritScriptArr.concat($W.externalScriptArr);$W.pageInheritScriptArr=[];}if($W.externalScriptArr.length>0){$W.externalScriptArr.push(function(){if(!$W.callExecuteHelper){$W.callExecuteHelper=true;_a.executeHelper(_3);}});$W._G.js.apply(null,$W.externalScriptArr);$W.externalScriptArr=[];}else{if(!$W.callExecuteHelper){$W.callExecuteHelper=true;this.executeHelper(_3);}}}catch(e){$W.exception.printStackTrace(e);}};$W.controlManager.prototype.executeHelper=function(_b){["WebSquare.controlManager.executeHelper"];try{for(var i=0;i<this.helperList.length;i++){this.helperList[i].execute(this.bodyControl,_b);}}catch(e){$W.exception.printStackTrace(e);}};$W.controlFactory=function(){this.createControlHash={"script":"pass","label":"pass","value":"pass","choices":"pass","item":"pass","itemset":"pass","tab":"pass","tabs":"pass","mainMenu":"pass","childMenu":"pass","node":"pass","attributes":"pass","switch":"Switch","case":"group","contents":"group","content":"group","autoFinder":"autoComplete"};var _1=$W._N.getConfiguration("/WebSquare/parseHtml/@script")||"false";if(_1=="true"){this.createControlHash.script="script";}};$W.controlFactory.prototype.create=function(id,_3,_4,_5,_6,_7){["WebSquare.controlFactory.create"];try{if(_5=="self"){var _8=this.createControl(id,_3,_4,null,_7,_6);_5=_8;}else{var _8=this.createControl(id,_3,_4,_5,_7,_6);}if(_8){_8.parentFrame=_6;var _9=_3&&_3.pluginName?_3.pluginName:$W._B.getLocalName(_4);if(_8.options&&_8.options.parseChild){for(var _a=_4.firstChild;_a!=null;_a=_a.nextSibling){var _b=this.create(null,null,_a,_5,_6,_7);if(_b){_8.addControl(_b);}}}if(_8.options&&(_8.options.pluginName=="wframe"||_8.options.pluginName=="pageInherit")){_8.makeFrame();}}return _8;}catch(e){$W.exception.printStackTrace(e);}};$W.controlFactory.prototype.createControl=function(id,_d,_e,_f,_10,_11){["WebSquare.controlFactory.createControl"];try{if(!_10&&!_e){return null;}var _12=null;if(_d!=null){_d._idCollisionCheck=true;}else{_d={"_idCollisionCheck":true,"_skipExtend":true};}var _13=_f!=undefined&&$W.idCache[_f.uuid]!=undefined;if(_13){_d["_scope_obj_uuid"]=_f.uuid;}if((_e==undefined&&_10)||_e.nodeType==1){var _14=id||_e.getAttribute("id");if(!_14&&_13){_14=$W.UUIDPrefix+"_"+$W.UUID;}if(_14){var _15=_f?_f.id:"";id=(_15?_15+"_":"")+_14;}else{id=_14;}if(_13){_d["_scope_obj_org_id"]=_14;_d["_scope_obj_runtime_id"]=id;}var _16=_d&&_d.pluginName?_d.pluginName:$W._B.getLocalName(_e);var _17=$W._N._XML_NAMESPACE;if((_10||_e.namespaceURI==_17["XFORMS"]||_e.namespaceURI==_17["W2"])&&_16!="tag"&&_16!="style"){var _18=this.createControlHash[_16]||_16;switch(_18){case "pass":return null;case "secret":_18="uiplugin.input";if(_e==undefined&&_10){_d.type="password";_d.pluginName="secret";}else{_e.setAttribute("type","password");_e.setAttribute("pluginName","secret");}break;case "select1":var _19=_e.getAttribute("appearance");if(_19=="full"){_18="uiplugin.radio";}else{_18="uiplugin.selectbox";}break;case "select":var _19=_e.getAttribute("appearance");if(_19=="full"){_18="uiplugin.checkbox";}else{if(_19=="checkcombobox"){_18="uiplugin.checkcombobox";}else{_18="uiplugin.multiselect";}}break;default:_18="uiplugin."+_18;break;}try{var _1a=$W._G.loadedUserComponentPluginName[_18.slice(9)];var _1b=$W._G.loadedInheritComponentPluginName[_18.slice(9)];if(_1a){var _1c=$W._G.loadedUserComponent[_1a];var xml=_1c.cloneNode(true);var _1e=xml.getAttribute("class");if(_e!=undefined){if(_d==null){_d={};}$W.extendKeepingType(_d,$W.WebSquareparser.parseAttribute(_e));_d._skipExtend=false;}if(_1e&&_d.className){_d.className=_1e+" "+_d.className;}else{if(_1e&&!_d.className){_d.className=_1e;}}if(_e){while(_e.childNodes[0]){var _1f=_e.childNodes[0];var _20=$W._B.nodeInfoObj(_1f);var _21=_20.nodeName;if((_1f.nodeType==1)&&_21=="script"){var _22=_1f.attributes;var _23=false;for(var j=0;j<_22.length;j++){var att=_22[j];if($W._B.matchNode(att,"event",$W._N._XML_NAMESPACE.EVENTS)){_23=true;break;}}if(_23){xml.appendChild(_1f);}else{_e.removeChild(_1f);}}else{_e.removeChild(_1f);}}}_d.pluginName=null;_d.udcName=_18.slice(9);if(!id){id=$W.UUIDPrefix+"_"+$W.UUID++;}_12=this.create(id,_d,xml,"self",_11,_10);if(!_d.style){_12.options.style="";}_f=_12;_12.makeScope(_12);if(_11&&$W.idCache[_11]!=undefined){$W.idCache[_11].scopeLazyList.push(_12.uuid);}}else{if(_1b){var _1c=$W._G.loadedInheritComponent[_1b];var xml=_1c.cloneNode(true);var _1e=xml.getAttribute("class");if(_e!=undefined){if(_d==null){_d={};}_d.pluginName=null;$W.extendKeepingType(_d,$W.WebSquareparser.parseAttribute(_e));_d._skipExtend=false;}if(_1e&&_d.className){_d.className=_1e+" "+_d.className;}else{if(_1e&&!_d.className){_d.className=_1e;}}while(_e.childNodes[0]){xml.appendChild(_e.childNodes[0]);}_d.inheritedCompName=_18.slice(9);if(!id){id=$W.UUIDPrefix+"_"+$W.UUID++;}_12=this.create(id,_d,xml,"self",_11,_10);if(!_d.style){_12.options.style="";}_f=_12;_12.makeScope(_12);if(_11&&$W.idCache[_11]!=undefined){$W.idCache[_11].scopeLazyList.push(_12.uuid);}}else{requires(_18);var obfuscator_compNameAry=_18.split(".");var _26=$W._G.isMobile();if(_e){if(obfuscator_compNameAry[1]=="selectbox"){var _27=_e.getAttribute("renderType");var _28=_e.getAttribute("tableRender");if(!_27){_27=$W._N.getConfiguration("/WebSquare/selectbox/renderType/@"+(_26?"mobile":"value"))||"auto";}if(_28==="ul"&&!(_27=="auto"&&_26)){}else{if(_27=="native"||_27=="select"||(_27=="auto"&&_26)){_d.renderType=_27;obfuscator_compNameAry[1]+="_native";}}}}if(_d&&_d.inheritedCompName){if(!$W[obfuscator_compNameAry[0]][_d.inheritedCompName]){$W[obfuscator_compNameAry[0]][_d.inheritedCompName]=function(id,_2a,_2b){$W[obfuscator_compNameAry[0]][obfuscator_compNameAry[1]].call(this,id,_2a,_2b);};$W.extend($W[obfuscator_compNameAry[0]][_d.inheritedCompName].prototype,$W[obfuscator_compNameAry[0]][obfuscator_compNameAry[1]].prototype);var _2c;if(_e){var _2d=_e.firstChild;for(var _2e=_2d;_2e!=null;_2e=_2e.nextSibling){if(_2e.nodeName=="w2:inheritOverride"){_2c=_2e;break;}}}if(_2c){var _2f=$W._B.getCDataNodeValue(_2c).trim();if(_2f!=""){_2f="."+_2f;}eval("(function(){ var superComponent = WebSquare[obfuscator_compNameAry[0]][obfuscator_compNameAry[1]].prototype;"+"WebSquare"+"."+obfuscator_compNameAry[0]+"."+_d.inheritedCompName+_2f+"})();");}for(key in $W[obfuscator_compNameAry[0]][_d.inheritedCompName].prototype.overrideFunc){$W[obfuscator_compNameAry[0]][_d.inheritedCompName].prototype[key]=$W[obfuscator_compNameAry[0]][_d.inheritedCompName].prototype.overrideFunc[key];}}_12=new $W[obfuscator_compNameAry[0]][_d.inheritedCompName](id,_d,_e);_12.options.inheritFrom=obfuscator_compNameAry[1];}else{_12=new $W[obfuscator_compNameAry[0]][obfuscator_compNameAry[1]](id,_d,_e);}}}if(_f&&_12){_12.org_id=_14;_12.scope_obj=_f;_12.scope_id=_f.id;}}catch(e){$W.exception.printStackTrace(e);return null;}}else{if(_16=="body"){requires("uiplugin.body");_12=new $W._a.bm(id,null,_e);}else{if(this.createControlHash[_16]!="pass"){requires("uiplugin/html/tag.js");_12=new $W.tag(id,null,_e);}}if(_f&&_12){_12.org_id=_14;_12.scope_obj=_f;_12.scope_id=_f.id;}}}else{if(_e.nodeType==3){if(_e.nodeValue.wq_trim()!=""){requires("uiplugin/html/tag.js");_12=new $W.tag(id,null,_e);if(_f&&_12){_12.org_id=_14;_12.scope_obj=_f;_12.scope_id=_f.id;}}}else{_12=null;}}return _12;}catch(e){$W.exception.printStackTrace(e,"id ["+id+"] compName["+_18+"]");}};$W.controlFactory=new $W.controlFactory();requires("uiplugin/control/controlIterator.js");$W.executeHelper=function(){["WebSquare.executeHelper"];};$W.executeHelper.prototype.execute=function(_1){};$W.visibleHelper=function(){};$W.extend($W.visibleHelper.prototype,$W.executeHelper.prototype);$W.visibleHelper.prototype.execute=function(_2,_3){["WebSquare.visibleHelper.execute"];try{$W.WebSquaredoc.cssList=$W.WebSquaredoc.cssList.concat($W.cssManager.executeImport());var _4=$W._N.getConfiguration("/WebSquare/visibleHelper/targetHandler/@value");var obfuscator_msg=null;var _5=false;if(typeof WebSquareExternal!="undefined"&&WebSquareExternal){_5=WebSquareExternal.skipRender;}if(_5||($W.targetInfo&&$W.targetInfo.constructor==Array)){}else{var _6=new Date();obfuscator_msg=_2.toHTML();var _7=new Date();$W.BootLoader.printLog("html string generation. Time :"+(_7-_6)+"ms");}if(_5){}else{if(_4!=null&&_4!=""){var _8=eval(_4+"(obfuscator_msg);");if(_8!=undefined){if(typeof _8=="string"){_8=document.getElementById(_8);}_8.style.cssText=_2.options.style;}$W.useVisibleHelper=true;}else{if($W.targetInfo){if(typeof $W.targetInfo=="string"){var _8=document.getElementById($W.targetInfo);if(_8){_8.innerHTML=obfuscator_msg;}_8.style.cssText=_2.options.style;}else{if($W.targetInfo.constructor==Array){var _6=new Date();for(var i=0;i<$W.targetInfo.length;i++){var _a=$W.targetInfo[i];var _b=$W.idToUUID[_a.component];if(_b&&$W.idCache[_b]!=undefined){var _c=_a.target;if(typeof _c==="string"){_c=document.getElementById(_c);}_c.innerHTML=$W.idCache[_b].toHTML();}}var _7=new Date();$W.BootLoader.printLog(" html string generation. Time :"+(_7-_6)+"ms");}else{if(typeof $W.targetInfo=="object"){$W.targetInfo.innerHTML=obfuscator_msg;}}}$W.targetInfo="";}else{document.body.innerHTML=obfuscator_msg;document.body.style.cssText=_2.options.style;}}}if(!("onhashchange" in window)&&(_3||location.hash.lastIndexOf("w2xPath")>=0)){if($W._G._hiddenFrame){if(document.getElementById($W._G._hiddenFrame.id)==null){document.body.appendChild($W._G._hiddenFrame);}}else{$W._G._makeFrame();}$W._G._iframe_wait=true;$W._G._hiddenFrame.contentWindow.location.search=$W.w2xPath;}if($W._N.getConfiguration("/WebSquare/mobile/hideAddressBar/@value")=="true"&&$W._G.isMobile()){document.body.scrollTop=1;}try{if(typeof WebSquareExternal!="undefined"){if(WebSquareExternal.xmlInstance){WebSquareExternal.xmlInstance=$W._B.parse(WebSquareExternal.xmlInstance);}if(WebSquareExternal.targetInstance){var _d;if(WebSquareExternal.xmlInstance){_d=WebSquareExternal.xmlInstance;}else{if(WebSquareExternal.jsonInstance){_d=$W._I.JSON2XML(WebSquareExternal.jsonInstance);}}if(_d){$W.WebSquaredoc.models[0].rebuild(_d,WebSquareExternal.targetInstance);$W.WebSquaredoc.models[0].refresh();}}}}catch(ee){$W.exception.printStackTrace(ee);}if(_3){$W.BootLoader.performanceCheck.mid4=new Date();$W.BootLoader.printLog("[SPA5][RENDER] HTML Rendering Complete. Time:"+($W.BootLoader.performanceCheck.mid4.getTime()-$W.BootLoader.performanceCheck.mid3.getTime())+"ms");_2.preActivate();$W.BootLoader.performanceCheck.mid5=new Date();$W.BootLoader.printLog("[SPA6][ADJUST] Pre Event Activation. Time:"+($W.BootLoader.performanceCheck.mid5.getTime()-$W.BootLoader.performanceCheck.mid4.getTime())+"ms");}else{$W.BootLoader.performanceCheck.mid4=new Date();$W.BootLoader.printLog("[STEP5][RENDER] HTML Rendering Complete. Time:"+($W.BootLoader.performanceCheck.mid4.getTime()-$W.BootLoader.performanceCheck.mid3.getTime())+"ms");$W._N.executePointScript(5);_2.preActivate();$W.BootLoader.performanceCheck.mid5=new Date();$W.BootLoader.printLog("[STEP6][ADJUST] Pre Event Activation. Time:"+($W.BootLoader.performanceCheck.mid5.getTime()-$W.BootLoader.performanceCheck.mid4.getTime())+"ms");$W._N.executePointScript(6);}}catch(e){$W.exception.printStackTrace(e);}};$W.actionHelper=function(){};$W.extend($W.actionHelper.prototype,$W.executeHelper.prototype);$W.actionHelper.prototype.execute=function(_e,_f){["WebSquare.actionHelper.execute"];try{var _10=$W._N.getConfiguration("/WebSquare/postDrawMode/@value")||"asynchronous";if(_10==="synchronous"){$W.BootLoader.printLog("[WebSquare.actionHelper.execute]postDrawMode : synchronous");if($W._G._stopProcess(_f)){return;}$W._j["activated"]=true;for(var _11 in $W._j["comp"]){$W._j["comp"][_11].activate();}_e.activate();if(_f){$W.BootLoader.performanceCheck.mid6=new Date();$W.BootLoader.printLog("[SPA7][EVENT] Event Activation. Time:"+($W.BootLoader.performanceCheck.mid6.getTime()-$W.BootLoader.performanceCheck.mid5.getTime())+"ms");}else{$W.BootLoader.performanceCheck.mid6=new Date();$W.BootLoader.printLog("[STEP7][EVENT] Event Activation. Time:"+($W.BootLoader.performanceCheck.mid6.getTime()-$W.BootLoader.performanceCheck.mid5.getTime())+"ms");$W._N.executePointScript(7);}if($W._G._stopProcess(_f)){return;}$W.startOnLoad(_f);if($W._G._stopProcess(_f)){return;}else{if("onhashchange" in window){window.onhashchange=$W._G.onhashchange;}else{$W._G._wait_for_iframe_reload(_f);}}_e.onComplete();$W._j.api.onComplete();}else{$W.BootLoader.printLog("[WebSquare.actionHelper.execute]postDrawMode : asynchronous");$W._N.setTimer(function(){if($W._G._stopProcess(_f)){return;}$W._j["activated"]=true;for(var _12 in $W._j["comp"]){$W._j["comp"][_12].activate();}_e.activate();if(_f){$W.BootLoader.performanceCheck.mid6=new Date();$W.BootLoader.printLog("[SPA7][EVENT] Event Activation. Time:"+($W.BootLoader.performanceCheck.mid6.getTime()-$W.BootLoader.performanceCheck.mid5.getTime())+"ms");}else{$W.BootLoader.performanceCheck.mid6=new Date();$W.BootLoader.printLog("[STEP7][EVENT] Event Activation. Time:"+($W.BootLoader.performanceCheck.mid6.getTime()-$W.BootLoader.performanceCheck.mid5.getTime())+"ms");$W._N.executePointScript(7);}if($W._G._stopProcess(_f)){return;}$W.startOnLoad(_f);if($W._G._stopProcess(_f)){return;}else{if("onhashchange" in window){window.onhashchange=$W._G.onhashchange;}else{$W._G._wait_for_iframe_reload(_f);}}_e.onComplete();$W._j.api.onComplete();},{key:"WebSquare_startOnload",caller:this,delay:1});}}catch(e){$W.exception.printStackTrace(e);}};$W._a.aw=function(id,_2,_3){["WebSquare.uiplugin.balloonTip"];$W._t.call(this,id,_2,_3);};$W.extend($W._a.aw.prototype,$W._t.prototype);$W._a.aw.prototype.defaultOptions={pluginType:"uiplugin.balloonTip",pluginName:"balloonTip",editable:true};$W._a.aw.prototype.initialize=function(_4){["WebSquare.uiplugin.balloonTip.initialize"];try{}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aw.prototype.toHTML=function(){["WebSquare.uiplugin.balloonTip.toHTML"];try{var _5=[];var _6=(this.options.style=="")?"":"style='"+this.options.style+"'";_5.push("<div id='"+this.id+"' "+_6+" class='w2balloonTip'>");_5.push("<table id='"+this.id+"_mytable' class='w2balloonTip_table' cellpadding='0' cellspacing='0'>");_5.push("<tr>");_5.push("<td class='w2balloonTip_col_topleft'></td>");_5.push("<td class='w2balloonTip_col_topcenter'></td>");_5.push("<td class='w2balloonTip_col_topright'></td>");_5.push("</tr>");_5.push("<tr>");_5.push("<td class='w2balloonTip_col_centerleft'><div class='w2balloonTip_left'></div></td>");_5.push("<td class='w2balloonTip_col_centercenter'>");_5.push("<div id='"+this.id+"_label' role='tooltip' class='w2balloonTip_label'>12121212</div>");_5.push("</td>");_5.push("<td class='w2balloonTip_col_centerright'><div class='w2balloonTip_right'></div></td>");_5.push("</tr>");_5.push("<tr>");_5.push("<td id='bleft' class='w2balloonTip_col_bottomleft'></td>");_5.push("<td class='w2balloonTip_col_bottomcenter'></td>");_5.push("<td id='bright' class='w2balloonTip_col_bottomright'></td>");_5.push("</tr>");_5.push("</table>");_5.push("</div>");return _5.join("");}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aw.prototype.setAction=function(){["WebSquare.uiplugin.balloonTip.setAction"];try{this.dom.label=document.getElementById(this.id+"_label");}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aw.prototype.setValue=function(_7){try{this.dom.label.innerHTML=_7;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aw.prototype.getValue=function(){try{return this.dom.label.innerHTML;}catch(e){$W.exception.printStackTrace(e,null,this);}};;WebSquare.uiplugin.balloonTip=$W._a.aw;try{$W.createLocalStorage=function(_1){try{if($W["localStorage"]==undefined){$W["localStorage"]=(function(_2){var _3="websquare_localStorage_keyList";var _4=";";if("localStorage" in _2&&typeof _2["localStorage"]!=="unknown"&&_2["localStorage"]!==null){var _5=_2["localStorage"];var _6={};_6.length=_5.length;_6.key=function(_7){var _7=Number(_7);if(isNaN(_7)||_7>=this.length||_7<0){return null;}return _5.key(_7);};_6.getItem=function(_8){return _5.getItem(_8);};_6.setItem=function(_9,_a){var ch=_9.charAt(0);var _c=/[a-zA-Z]/;if(_c.exec(ch)){if(_9===_3){$l(_3+": This key is reserved.[localStorage]");return null;}if(_9.search(_4)>=0){$l(_4+": The key name must not contain colon(;).[localStorage]");return null;}_5.setItem(_9,_a);this.length=_5.length;}else{$l("The key name must start with [a-zA-Z][localStorage]");return null;}};_6.removeItem=function(_d){_5.removeItem(_d);this.length=_5.length;};_6.clear=function(){_5.clear();this.length=_5.length;};_6.getAllItem=function(){var r={};for(var _f in _5){r[_f]=_5[_f];}return r;};return _6;}else{var _10="websquare_localStorage";var _11="div";var _6={};var _12="";var _13={};var _14=function(){if(document.getElementById(_13.id)!=null){return;}_13=document.createElement(_11);_13.id=_10+"_"+_11;_13.style.display="none";_13.style.position="absolute";_13.style.top="-999999px";_13.style.behavior="url(\"#default#userData\")";document.body.appendChild(_13);_13.load(_10);_12=_13.getAttribute(_3)||"";_6.length=_12.split(_4).length-1;};_6.length=0;_6.key=function(_15){_14();var _15=Number(_15);if(isNaN(_15)||_15>=this.length||_15<0){return null;}var _16=_12.split(_4);var ret=_16[_15];return ret;};_6.getItem=function(key){_14();return _13.getAttribute(key);};_6.setItem=function(key,_1a){_14();var ch=key.charAt(0);var exp=/[a-zA-Z]/;if(exp.exec(ch)){if(key===_3){$l(_3+": This key is reserved.[localStorage]");return null;}if(key.search(_4)>=0){$l(_4+": The key name must not contain colon(;).[localStorage]");return null;}_13.setAttribute(key,_1a);if(_12.search(key)<0){_12+=key+_4;this.length++;}_13.setAttribute(_3,_12);try{_13.save(_10);}catch(e){$l(e.name+" : localstorage overflowed[localStorage]");}}else{$l("The key name must start with [a-zA-Z]");return null;}};_6.removeItem=function(key){_14();_13.removeAttribute(key);var _1e=_12;_12=_1e.replace(key+_4,"");if(_1e!==_12){this.length--;}_13.setAttribute(_3,_12);_13.save(_10);};_6.clear=function(){_14();var _1f=_12.split(_4);for(var i=0;i<_1f.length-1;i++){_13.removeAttribute(_1f[i]);}_13.removeAttribute(_3);_12="";this.length=0;_13.save(_10);};_6.getAllItem=function(){_14();var r={};var _22=_12.split(_4);for(var i=0;i<_22.length-1;i++){var key=_22[i];r[key]=_13.getAttribute(key);}return r;};return _6;}})(_1);}if($W._u){$W._u.local=$W["localStorage"];}}catch(e){$W.exception.printStackTrace(e);}};}catch(e){$W.exception.printStackTrace(e);};WebSquare.localStorage=$W._d;$W._u={"getSubmission":$W._J.getSubmission,"createSubmission":$W._J.createSubmission,"deleteSubmission":$W._J.deleteSubmission,"executeSubmission":$W._J.executeSubmission,"getStringByteSize":$W._G.getStringByteSize,"getRefToReqData":$W._G.getRefToReqData,"dynamicCreate":$W._G.dynamicCreate,"createWorkflow":$W._J.createWorkflow,"deleteWorkflow":$W._J.deleteWorkflow,"getWorkflow":$W._J.getWorkflow,"getRunningWorkflow":$W._J.getRunningWorkflow,"isRunningWorkflow":$W._J.isRunningWorkflow,"getRunningWorkflowID":$W._J.getRunningWorkflowID,"rejectWorkflow":$W._J.rejectWorkflow,"executeWorkflow":$W._J.executeWorkflow,"executeSerial":$W._J.executeSerial,"executeParallel":$W._J.executeParallel,"executeWhilst":$W._J.executeWhilst,"openPopup":$W._G.openPopup,"getPopupParam":$W._G.getPopupParam,"closePopup":$W._G.closePopup,"getPopup":$W._G.getPopup,"getPopupWindow":$W._G.getPopupWindow,"isPopup":$W._G.isPopup,"setDocumentLang":$W._G.setDocumentLang,"setDisabled":$W._G.setDisabled,"setDomain":$W._G.setDomain,"url":$W._G.url,"js":$W._G.js,"reinitialize":$W._G.reinitialize,"clearPage":$W._G.clearPage,"setTimeout":$W._G.setTimeout,"clearTimeout":$W._G.clearTimeout,"setInterval":$W._G.setInterval,"clearInterval":$W._G.clearInterval,"getTimeoutKeys":$W._G.getTimeoutKeys,"getIntervalKeys":$W._G.getIntervalKeys,"getIntervalKeyList":$W._G.getIntervalKeyList,"getTimeoutKeyList":$W._G.getTimeoutKeyList,"toTimestampString":$W._s.toTimestampString,"dateDiff":$W._s.dateDiff,"dateAdd":$W._s.dateAdd,"getFormattedDate":$W._s.getFormattedDate,"getCurrentServerDate":$W._s.getCurrentServerDate,"getMaxMinYear":$W._s.getMaxMinYear,"parseDate":$W._s.parseDate,"showModal":$W.layer.showModal,"hideModal":$W.layer.hideModal,"log":$W.logger.printLog,"getParameter":$W._r.getParameter,"getAllParameter":$W._r.getAllParameter,"getBASE64Parameter":$W._r.getBASE64Parameter,"getAllBASE64Parameter":$W._r.getAllBASE64Parameter,"URLEncoder":$W._A.URLEncoder,"ajax":$W._r.ajax,"download":$W._r.download,"local":$W._d,"top":$W._l,"data":$W._j.api,"getRuntimeId":$W._G.getRuntimeId,"isWFramePopup":$W._G.isWFramePopup,"getPopupUrl":$W._G.getPopupUrl,"getPopupId":$W._G.getPopupId,"getParentId":$W._G.getParentId,"getParentFrame":$W._G.getParentFrame};window[$W.noConflict]=$W._u;window[$W.noConflict]["comp"]={};;WebSquare.api=$W._u;(function(_1){imports("engine/collection.js");imports("engine/WebSquareDocument.js");imports("engine/Parser.js");imports("engine/Model.js");imports("engine/Actions.js");imports("engine/ModelUtil.js");imports("engine/DataCollection.js");imports("engine/Events.js");imports("engine/form.js");imports("engine/net.js");imports("engine/session.js");imports("engine/localStorage.js");imports("engine/util.js");imports("engine/date.js");imports("engine/big.js");imports("engine/text.js");imports("engine/layer.js");imports("engine/cookie.js");imports("engine/event.js");imports("engine/skin.js");imports("engine/language.js");imports("engine/style.js");imports("engine/json.js");requires("engine/geometry.js");requires("engine/shape.js");requires("engine/effect.js");requires("engine/dragdrop.js");requires("engine/wUnit.js");requires("engine/thread.js");requires("engine/cssStyleSheet.js");requires("engine/configManager.js");requires("uiplugin/control/controlManager.js");requires("engine/api.js");requires("engine/jquerySupport.js");requires("externalJS/papaparse.js");var _2=_1.document;var _3=$W._N.getConfiguration("/WebSquare/spa/variable/@value");if(_3){var _4=_3.split(",");for(var i=0;i<_4.length;i++){var _6=_4[i].wq_trim();try{if(eval("typeof "+_6+" != \"undefined\" && "+_6+" != null")){throw ({"message":"variable auto creation error : ["+_6+"] already exist!"});}_1[_6]={};_1[_6][$W.noConflict]=$W._u;}catch(e){$W.exception.printStackTrace(e,null);}}}if($W._N.getConfiguration("/WebSquare/localStorage/@defer")!="true"){$W.createLocalStorage(_1);}$W.BootLoader.loadLanguagePack();try{if(document.createElementNS&&!!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect){$W.graphicPlatformType="svg";}else{$W.graphicPlatformType="vml";}if($W.graphicPlatformType==="vml"){_2.namespaces.add("v","urn:schemas-microsoft-com:vml");$W.defaultStyle=_2.createStyleSheet();$W.defaultStyle.addRule("v\\:group","behavior: url(#default#VML);");$W.defaultStyle.addRule("v\\:line","behavior: url(#default#VML);");$W.defaultStyle.addRule("v\\:stroke","behavior: url(#default#VML);");$W.defaultStyle.addRule("v\\:oval","behavior: url(#default#VML);");$W.defaultStyle.addRule("v\\:rect","behavior: url(#default#VML);");$W.defaultStyle.addRule("v\\:roundrect","behavior: url(#default#VML);");$W.defaultStyle.addRule("v\\:image","behavior: url(#default#VML);");$W.defaultStyle.addRule("v\\:roundrect","behavior: url(#default#VML);");$W.defaultStyle.addRule("v\\:shape","behavior: url(#default#VML);");$W.defaultStyle.addRule("v\\:path","behavior: url(#default#VML);");$W.defaultStyle.addRule("v\\:fill","behavior: url(#default#VML);");$W.defaultStyle.addRule("v\\:extrusion","behavior: url(#default#VML);");}}catch(e){$W.BootLoader.printStackTrace(e,"VML Namespace");}if($W._N.getConfiguration("debug")=="true"){$W.logger.debug=true;}$W.logger.debugKey=$W._N.getConfiguration("debugKey");if($W._N.getConfiguration("exceptionHandler")!="system"&&$W.skipLog!==true){if($W._N.browserCheck.ie){_1.onerror=$W.exception.ieErrorHandler;}else{_1.onerror=$W.exception.ffErrorHandler;}}if($W._N.getConfiguration("/WebSquare/checkUpdate/@enable")=="true"){$W._G.checkInterval=$W._G.parseInt($W._N.getConfiguration("/WebSquare/checkUpdate/@interval"),30000);$W._G.checkMode=$W._N.getConfiguration("/WebSquare/checkUpdate/@mode");$W._G.checkURL=$W._N.getConfiguration("/WebSquare/checkUpdate/@serverUrl");if($W._G.checkMode==""||$W._G.checkURL==""){$W._G.checkMode="client";}_1.setTimeout("WebSquare.util.checkUpdate()",$W._G.checkInterval);}$W.requestID="";var _7=$W._N.getConfiguration("/WebSquare/submission/requestID/@value");if(_7!=""){$W.requestID=_7+"=";}requires("engine/initCSS.js");$W.initialize=function(_8,_9){["WebSquare.initialize"];if(!_8){var _a=$W._G.getUrlHashText();if(_a){_8=_a;}else{if("onhashchange" in window&&window.onhashchange==null){window.onhashchange=$W._G.onhashchange;}return true;}}$W.allValue=$W._N.getConfiguration("/WebSquare/allValue/@value")||"all";var _b="",urlFunc="",xmlDoc;if($W.WebSquaredoc==null){try{$W.pageURLPrefix=$W._N.getConfiguration("/WebSquare/pageURLPrefix/@value");$W.pageURLPrefixType=$W._N.getConfiguration("/WebSquare/pageURLPrefix/@type");var _c=$W._N.getConfiguration("/WebSquare/pageURLPrefix/@ignoreW2xPath");if($W.pageXMLString){xmlDoc=$W._B.parse($W.pageXMLString);$W.pageXMLString=null;}else{if($W.pageURLPrefix!==""&&$W.pageURLPrefixType=="function"){if($W.pageURLPrefix.indexOf("()")==-1){urlFunc=$W.pageURLPrefix+"()";}else{urlFunc=$W.pageURLPrefix;}if(_c.toLowerCase()=="true"){urlFunc=urlFunc.wq_replaceAll("()","(obfuscator_url)");xmlDoc=$W._B.load(eval("(function(){var obfuscator_url = \""+_8+"\";return "+urlFunc+"})();"),null);}else{xmlDoc=$W._B.load(eval(urlFunc)+_8,null);}}else{if($W.pageURLPrefix!==""&&$W.pageURLPrefixType!="function"){xmlDoc=$W._B.load($W.pageURLPrefix+_8,null);}else{xmlDoc=$W._B.load(_8,null);}}}if(xmlDoc!=null){$W.WebSquaredoc=new $W.WebSquareDocument(xmlDoc);$W.WebSquaredoc.cssList=$W.externalCSSDOM.slice(0);$W.WebSquaredoc.parsing(_9);return true;}else{_b=$W._N.getConfiguration("/WebSquare/pageFaultMsg/@value");if(_b!="false"){$W.loadErrorHandler({code:"E_initializer_XMLLoadFailError",msg:$W._m.getMessage("E_initializer_XMLLoadFailError",_8)});}}}catch(e){if(_b!="false"){$W.loadErrorHandler({code:"E_initializer_XMLLoadFailError1",msg:$W._m.getMessage("E_initializer_XMLLoadFailError1",_8)});}$W.exception.printStackTrace(e);}}return false;};$W.setParentObj=function(){if(typeof opener!="undefined"&&opener!=null){$W.parentObj=opener;}else{if(typeof parent!="undefined"&&parent!=null){$W.parentObj=parent;}else{}}};$W.startPopupApplication=function(_d){["WebSquare.startPopupApplication"];if($W._N.getConfiguration("/WebSquare/localStorage/@defer")=="true"){$W.createLocalStorage(window);}$W.nowRendering=true;var _e=$W._N.getConfiguration("/WebSquare/preProcessor/systemPreProcessor/@value");if(_e!=null&&_e!=""){if(eval(_e)==false){return;}}$W.setParentObj();if($W.logger.debug){$W.startPopupApplication1(_d);}else{$W.startPopupApplication2(_d);}};$W.startPopupApplication1=function(_f){["WebSquare.startPopupApplication1"];$W.setLanguagePack();$W._N.extNamespace();var _10="";if(_f){$W.w2xPath=_f;}else{if((_10=$W._r.getParameter("w2xPath"))!=""){$W.w2xPath=_10;}else{if((_10=$W._r.getParameter("wq_spaParam"))!=""){try{var _11=parent.WebSquare.idCache[_10].render.getAttribute("src").slice(0);var _12=_11.lastIndexOf("w2xPath");if(_12>=0){var _13=_11.slice(_12);_13=_13.split(/[\&\?\#]/)[0];var _14=_13.split("=");if(_14.length==2){$W.w2xPath=(_14[1]).wq_trim();}}else{$W.w2xPath=$W._N.getConfiguration("/WebSquare/welcome-file");}}catch(e){$W.w2xPath=$W._N.getConfiguration("/WebSquare/welcome-file");}}else{$W.w2xPath=$W._N.getConfiguration("/WebSquare/welcome-file");}}}var re=/[\\]/g;$W.w2xPath=$W.w2xPath.replace(re,"/");var _16=$W.w2xPath.lastIndexOf("/");var _17="";var _18="";if(typeof WebSquareExternal=="object"&&WebSquareExternal!=null){_17=WebSquareExternal.w2xHome||"";_18=WebSquareExternal.w2xDocumentRoot||"";}if(_17==""&&$W._r.getParameter("w2xHome")==""){if(_16>-1){$W.w2xHome=$W.w2xPath.substring(0,_16+1);}else{$W.w2xHome="/";}}else{$W.w2xHome=_17||$W._r.getParameter("w2xHome");}if(_16>-1){$W.logFileName=" "+$W.w2xPath.substring(_16+1);}else{$W.logFileName=" "+$W.w2xPath;}var _19=$W._N.getConfiguration("/WebSquare/DocumentRoot");var _1a=_18||$W._r.getParameter("w2xDocumentRoot");if(_1a=="/"||_1a=="\\"){$W.w2xDocumentRoot="";}else{if(_1a!=""){$W.w2xDocumentRoot=_1a;}else{if(_19!=null&&_19!=""){$W.w2xDocumentRoot=_19;}else{$W.w2xDocumentRoot="";}}}var _1b=$W.initialize($W.w2xPath);var _1c=$W._N.getConfiguration("/WebSquare/preProcessor/businessPreProcessor/@value");if(_1c!=null&&_1c!=""){eval(_1c);}if(_1b&&$W.parentObj.WebSquare!=undefined){var _1d=$W.parentObj.WebSquare.dataObject;var _1e=$W.parentObj.WebSquare.srcData;var _1f=$W.parentObj.WebSquare.destData;var _20;var _21=false;var _22="";var _23=$W._r.getParameter("popupID");if($W.parentObj.WebSquare.docTitleInfo){_22=$W.parentObj.WebSquare.docTitleInfo[_23];}if(_22){_2.title=_22;}if(typeof _1d!="undefined"&&_1d!=null){try{var _24=_1d.type.toLowerCase();var _25;var _26=_1d.name;var _27=typeof _1d.data;if(_26){switch(_24){case "string":if(_27=="string"){_25=_1d.data;}else{if(_27=="object"){$W.logger.printLog("PopUp dataObject error : data of dataObject is in discord with type of dataObject!");return;}}break;case "json":if(_27=="string"){var _28=JSON.parse(_1d.data);if(_28){_25=_28;}}else{if(_27=="object"){var _1b=$W._N.isXML(_1d.data);if(_1b){$W.logger.printLog("PopUp dataObject error : data of dataObject is in discord with type of dataObject!!");return;}else{_25=_1d.data;}}}break;case "xml":if(_27=="string"){var _28=$W._B.parse(_1d.data);if(_28){_25=_28;}}else{if(_27=="object"){var _1b=$W._N.isXML(_1d.data);if(_1b){_25=_1d.data;}else{$W.logger.printLog("PopUp dataObject error : data of dataObject is in discord with type of dataObject!!");return;}}}break;case "array":_25=_1d.data;break;}$W._G.setData(_26,_25);}}catch(e){$W.exception.printStackTrace(e,null,this);}}if(!(typeof _1e=="undefined"||_1e==null||_1e==""||typeof _1f=="undefined"||_1f==null||_1f=="")){try{_21=_1e.indexOf("data:")>-1?true:false;if(_21){var _29=_1e.wq_replaceAll("data:","");var _2a=$W.parentObj.WebSquare.util.getComponentById(_29);if(_2a){switch(_2a.initializeType){case "dataList":_1e=_2a.getAllJSON();break;case "dataMap":_1e=_2a.getJSON();break;}}}else{var _2b=$W.parentObj.WebSquare.ModelUtil.findSerializedNode(_1e);_1e=$W._B.parse(_2b).documentElement;}}catch(e){}try{if(_21){var _2c=_1f.wq_replaceAll("data:","");var _2d=$W._G.getComponentById(_2c);if(!_2d){$l("Error! : No match data. Must be the same as a srcDataType, a destDataType!"+"["+_2c+"]");return;}}else{_20=$W._J.findInstanceNode(_1f);}}catch(e){}if(_21&&typeof _1e!="undefined"&&_1e!=null){_2d.setJSON(_1e,true);}else{if(typeof _20!="undefined"&&_20!=null&&typeof _1e!="undefined"&&_1e!=null){var _2e=_20.childNodes;var _2f=_1e.childNodes;for(var j=_2e.length-1;j>=0;j--){_20.removeChild(_2e.item(j));}if($W._N.browserCheck.ieAllVersion){var _31=_2f.length-1;for(var j=0;j<=_31;j++){$W._B.appendChild(_20,_2f[0]);}}else{for(var j=0;j<=_2f.length-1;j++){$W._B.appendChild(_20,_2f[j]);}}var _32=$W._J.getModelByID($W.parentObj.WebSquare.destModelID);$W.WebSquaredoc.unrender($W.parentObj.WebSquare.destData);_32.refresh();}}}}if(_1b){}};$W.startPopupApplication2=function(src){["WebSquare.startPopupApplication2"];try{$W.startPopupApplication1(src);}catch(e){$W.exception.printStackTrace(e);}};$W.nowRendering=false;$W.startApplication=function(src){["WebSquare.startApplication"];$W.nowRendering=true;if($W._N.getConfiguration("/WebSquare/localStorage/@defer")=="true"){$W.createLocalStorage(window);}var _35=$W._N.getConfiguration("/WebSquare/preProcessor/systemPreProcessor/@value");if(_35!=null&&_35!=""){if(eval(_35)==false){return;}}$W.setLanguagePack();if($W.logger.debug){$W.startApplication1(src);}else{$W.startApplication2(src);}};$W.initializeComponent=function(src,_37){["WebSquare.initializeComponent"];if($W.WebSquaredoc!=null){$W.initializeComponent_wframe(src,_37);return;}$W.nowRendering=true;if($W._N.getConfiguration("/WebSquare/localStorage/@defer")=="true"){$W.createLocalStorage(window);}var _38=$W._N.getConfiguration("/WebSquare/preProcessor/systemPreProcessor/@value");if(_38!=null&&_38!=""){if(eval(_38)==false){return;}}$W.setLanguagePack();$W._N.extNamespace();if(src){$W.targetInfo=_37;$W.w2xPath=src;}else{if($W._r.getParameter("w2xPath")!=""){$W.w2xPath=$W._r.getParameter("w2xPath");}}$W._loadCSS();if(1==2){var _39="ErtOqpezr Ukptvqtzp IIWENNA Stwbreo Agp Zvydtn Vmfwnvzh";}var re=/[\\]/g;$W.w2xPath=$W.w2xPath.replace(re,"/");var _3b=$W.w2xPath.lastIndexOf("/");var _3c="";var _3d="";if(typeof WebSquareExternal=="object"&&WebSquareExternal!=null){_3c=WebSquareExternal.w2xHome||"";_3d=WebSquareExternal.w2xDocumentRoot||"";}if(_3c==""&&$W._r.getParameter("w2xHome")==""){if(_3b>-1){$W.w2xHome=$W.w2xPath.substring(0,_3b+1);}else{$W.w2xHome="/";}}else{$W.w2xHome=_3c||$W._r.getParameter("w2xHome");}if(_3b>-1){$W.logFileName=" "+$W.w2xPath.substring(_3b+1);}else{$W.logFileName=" "+$W.w2xPath;}var _3e=$W._N.getConfiguration("/WebSquare/DocumentRoot");var _3f=_3d||$W._r.getParameter("w2xDocumentRoot");if(_3f=="/"||_3f=="\\"){$W.w2xDocumentRoot="";}else{if(_3f!=""){$W.w2xDocumentRoot=_3f;}else{if(_3e!=null&&_3e!=""){$W.w2xDocumentRoot=_3e;}else{$W.w2xDocumentRoot="";}}}$W.logger.printLog("w2xDocumentRoot["+$W.w2xDocumentRoot+"]");$W.logger.printLog("w2xHome        ["+$W.w2xHome+"]");$W.logger.printLog("w2xPath        ["+$W.w2xPath+"]");$W.logger.printLog("w2xTheme       ["+$W.w2xTheme+"]");var _40=$W.initialize($W.w2xPath);var _41=$W._N.getConfiguration("/WebSquare/preProcessor/businessPreProcessor/@value");if(_41!=null&&_41!=""){eval(_41);}};$W.initializeComponent_wframe=function(src,_43){["WebSquare.initializeComponent_wframe"];try{requires("uiplugin.wframe");var _44=new $W._a._B($W.UUIDPrefix+"_"+$W.UUID++,{src:src});_44.makeFrame();_44.createFlag=true;var _45=_44.frameDoc.scriptSection;if(_44.wframeScript.length>0){for(var i=0;i<_44.wframeScript.length;i++){_45+=_44.wframeScript[i];}}$W.BootLoader.globalEval(_45);_44.frameDoc.scriptSection="";_44.setAction();for(var i=0;i<_43.length;i++){var obj=_43[i];var _48=$W.idToUUID[obj.component];if(_48&&$W.idCache[_48]!=undefined){var _49=obj.target;if(typeof _49==="string"){_49=document.getElementById(_49);}targetComp=$W.idCache[_48];_49.innerHTML=targetComp.toHTML();targetComp.activate();targetComp.onComplete();}}}catch(e){$W.exception.printStackTrace(e,null);}};$W.changeComponent=function(_4a,_4b,_4c){["WebSquare.changeComponent"];try{var _4d=(typeof _4a==="string")?$W._G.getComponentById(_4a):_4a;var _4e=(typeof _4b==="string")?$W._G.getComponentById(_4b):_4b;var _4f=_4c||_4d.render.parentNode;_4f.removeChild(_4d.render);if(_4e.render==null){_4e.writeTo(_4f);}else{_4f.appendChild(_4e.render);}if(_4e.activeStatus!=="active"){_4e.activate();}return _4e;}catch(e){$W.exception.printStackTrace(e);}};$W.setGridEvent=function(e){};$W.loadingApplication=function(){["WebSquare.loadingApplication"];$W.nowRendering=true;_1.onbeforeunload=$W._c.clear;var _51=$W._N.getConfiguration("/WebSquare/preProcessor/systemPreProcessor/@value");if(_51!=null&&_51!=""){if(eval(_51)==false){return;}}$W.initApplicationEngine();var _52=_2.body;$W.parseHtmlBody(_52);};$W.initApplicationEngine=function(){["WebSquare.initApplicationEngine"];$W._N.extNamespace();$W.w2xPath="";$W.w2xHome="/";$W.w2xDocumentRoot="/";if($W.WebSquaredoc==null){try{$W.WebSquaredoc=new $W.WebSquareDocument(null);$W.WebSquaredoc.cssList=$W.externalCSSDOM.slice(0);if($W.WebSquareParser==null){$W.WebSquareparser=new $W._o.WebSquareParser();}return true;}catch(e){alert(e.message);$W.exception.printStackTrace(e);}}var _53=$W._N.getConfiguration("/WebSquare/preProcessor/businessPreProcessor/@value");if(_53!=null&&_53!=""){eval(_53);}if(typeof $W.onload=="function"){$W.onload();}$W.scriptSection="";};$W.parseHtmlBody=function(_54){var _55=_54.childNodes;for(var i=0;i<_55.length;i++){var _57=_55[i];$W.parseHtmlBody(_57);if(_57.nodeName.toLowerCase()=="div"&&_57.getAttribute("type")=="w2"){var _58=_57.getAttribute("src");if(_58!=null){var _59=$W._B.load(_58,true);$W.WebSquaredoc.renderW2(_59,_57);}}}};$W.startApplication1=function(src){["WebSquare.startApplication1"];$W._N.extNamespace();var _5b="";if(src){$W.w2xPath=src;}else{if((_5b=$W._r.getParameter("w2xPath"))!=""){$W.w2xPath=_5b;}else{if((_5b=$W._r.getParameter("wq_spaParam"))!=""){try{var _5c=parent.WebSquare.idCache[_5b].render.getAttribute("src").slice(0);var _5d=_5c.lastIndexOf("w2xPath");if(_5d>=0){var _5e=_5c.slice(_5d);_5e=_5e.split(/[\&\?\#]/)[0];var _5f=_5e.split("=");if(_5f.length==2){$W.w2xPath=(_5f[1]).wq_trim();}}else{$W.w2xPath=$W._N.getConfiguration("/WebSquare/welcome-file");}}catch(e){$W.w2xPath=$W._N.getConfiguration("/WebSquare/welcome-file");}}else{$W.w2xPath=$W._N.getConfiguration("/WebSquare/welcome-file");}}}if(1==2){var _60="ErtOqpezr Ukptvqtzp IIWENNA Stwbreo Agp Zvydtn Vmfwnvzh";}var re=/[\\]/g;$W.w2xPath=$W.w2xPath.replace(re,"/");var _62=$W.w2xPath.lastIndexOf("/");var _63="";var _64="";if(typeof WebSquareExternal=="object"&&WebSquareExternal!=null){_63=WebSquareExternal.w2xHome||"";_64=WebSquareExternal.w2xDocumentRoot||"";}if(_63==""&&$W._r.getParameter("w2xHome")==""){if(_62>-1){$W.w2xHome=$W.w2xPath.substring(0,_62+1);}else{$W.w2xHome="/";}}else{$W.w2xHome=_63||$W._r.getParameter("w2xHome");}if(_62>-1){$W.logFileName=" "+$W.w2xPath.substring(_62+1);}else{$W.logFileName=" "+$W.w2xPath;}var _65=$W._N.getConfiguration("/WebSquare/DocumentRoot");var _66=_64||$W._r.getParameter("w2xDocumentRoot");if(_66=="/"||_66=="\\"){$W.w2xDocumentRoot="";}else{if(_66!=""){$W.w2xDocumentRoot=_66;}else{if(_65!=null&&_65!=""){$W.w2xDocumentRoot=_65;}else{$W.w2xDocumentRoot="";}}}$W.logger.printLog("w2xDocumentRoot["+$W.w2xDocumentRoot+"]");$W.logger.printLog("w2xHome        ["+$W.w2xHome+"]");$W.logger.printLog("w2xPath        ["+$W.w2xPath+"]");$W.logger.printLog("w2xTheme       ["+$W.w2xTheme+"]");var _67=$W.initialize($W.w2xPath);var _68=$W._N.getConfiguration("/WebSquare/preProcessor/businessPreProcessor/@value");if(_68!=null&&_68!=""){eval(_68);}if(_67){}};$W.startOnLoad=function(spa){["WebSquare.startOnLoad"];var _6a=$W._N.getConfiguration("/WebSquare/clearMemory/@value");if(_6a=="true"){_1.onbeforeunload=function(){if(WebSquare_clearMemory){var _6b=false;try{if($W._G.isSPA()&&$W._G.isIE()&&$W._N.browserVersion()<=10){$W._N.clearJQuery();_6b=true;}}catch(e){}if(!_6b){WebSquare_clearMemory();}}};}$W.nowRendering=false;if(typeof $W.onload=="function"){$W.onload();}$W._c.fireEvent($W.getBody(),"onpageload");var _6c=true;if($W.pageInheritScript&&$W.pageInheritScript.length>0){if($W.BootLoader.traceWframe){for(var i=0;i<$W.pageInheritScript.length;i++){$W.BootLoader.globalEval($W.pageInheritScript[i],"internal");}}else{$W.scriptSection=$W.pageInheritScript.join("")+$W.scriptSection;}$W.pageInheritScript=[];_6c=false;}if($W.wframeScript&&$W.wframeScript.length>0){if(!$W.BootLoader.traceWframe){$W.scriptSection+=$W.wframeScript.reverse().join("");$W.wframeScript=[];}_6c=false;}if(!_6c){$W.scriptSection=$W.scriptIdentifier+$W.w2xPath+"\";"+$W.scriptSection;}var _6e=$W._N.getConfiguration("/WebSquare/postScript/@value");if(_6e=="true"){$W.scriptSection+=$W._N.getConfiguration("/WebSquare/postScript");}$W.BootLoader.globalEval($W.scriptSection,"internal");$W.scriptSection="";if($W.BootLoader.traceWframe&&$W.wframeScript&&$W.wframeScript.length>0){for(var i=$W.wframeScript.length-1;i>=0;i--){$W.BootLoader.globalEval($W.wframeScript[i],"internal");}$W.wframeScript=[];}$W.scriptSectionExcuteFlag="executed";$W.BootLoader.performanceCheck.end=new Date();if(spa){$W.BootLoader.printLog("[SPA8][EXECUTE] JS load and Global Script Execution Completed. Time:"+($W.BootLoader.performanceCheck.end.getTime()-$W.BootLoader.performanceCheck.mid6.getTime())+"ms");$W.BootLoader.printLog("[SPA SUMMARY] Initial procedures completed. Duration : "+($W.BootLoader.performanceCheck.end.getTime()-$W.BootLoader.performanceCheck.start.getTime())+", \uc2dc\uac04 \uc694\uc57d :\t"+($W.BootLoader.performanceCheck.mid1.getTime()-$W.BootLoader.performanceCheck.start.getTime())+"\t"+($W.BootLoader.performanceCheck.mid2.getTime()-$W.BootLoader.performanceCheck.mid1.getTime())+"\t"+($W.BootLoader.performanceCheck.mid3.getTime()-$W.BootLoader.performanceCheck.mid2.getTime())+"\t"+($W.BootLoader.performanceCheck.mid4.getTime()-$W.BootLoader.performanceCheck.mid3.getTime())+"\t"+($W.BootLoader.performanceCheck.mid5.getTime()-$W.BootLoader.performanceCheck.mid4.getTime())+"\t"+($W.BootLoader.performanceCheck.mid6.getTime()-$W.BootLoader.performanceCheck.mid5.getTime())+"\t"+($W.BootLoader.performanceCheck.end.getTime()-$W.BootLoader.performanceCheck.mid6.getTime())+"\t"+($W.BootLoader.performanceCheck.end.getTime()-$W.BootLoader.performanceCheck.start.getTime()));}else{$W.BootLoader.printLog("[STEP8][EXECUTE] JS load and Global Script Execution Completed. Time:"+($W.BootLoader.performanceCheck.end.getTime()-$W.BootLoader.performanceCheck.mid6.getTime())+"ms");$W.BootLoader.printLog("[STEP SUMMARY] Initial procedures completed. Duration : "+($W.BootLoader.performanceCheck.end.getTime()-$W.BootLoader.performanceCheck.start.getTime())+" \uc2dc\uac04 \uc694\uc57d :\t"+($W.BootLoader.performanceCheck.mid1.getTime()-$W.BootLoader.performanceCheck.start.getTime())+"\t"+($W.BootLoader.performanceCheck.mid2.getTime()-$W.BootLoader.performanceCheck.mid1.getTime())+"\t"+($W.BootLoader.performanceCheck.mid3.getTime()-$W.BootLoader.performanceCheck.mid2.getTime())+"\t"+($W.BootLoader.performanceCheck.mid4.getTime()-$W.BootLoader.performanceCheck.mid3.getTime())+"\t"+($W.BootLoader.performanceCheck.mid5.getTime()-$W.BootLoader.performanceCheck.mid4.getTime())+"\t"+($W.BootLoader.performanceCheck.mid6.getTime()-$W.BootLoader.performanceCheck.mid5.getTime())+"\t"+($W.BootLoader.performanceCheck.end.getTime()-$W.BootLoader.performanceCheck.mid6.getTime())+"\t"+($W.BootLoader.performanceCheck.end.getTime()-$W.BootLoader.performanceCheck.start.getTime()));$W._N.executePointScript(8);}try{if($W.lazyImportsArr.length>0){$W.lazyImportsArr.push(function(){$W.BootLoader.printLog("defer JavaScript loaded.");});$W.BootLoader.printLog("defer JavaScript loading.");$W._G.js.apply(null,$W.lazyImportsArr);$W.lazyImportsArr=[];}}catch(e){$W.exception.printStackTrace(e);}try{if(window.frameElement!=null&&window.parent!==window.self&&window.parent.WebSquare!=undefined){parent.window[$W.noConflict].comp[frameElement.id].onFrameComplete();}}catch(e){$W.exception.printStackTrace(e);}};$W.startApplication2=function(src){try{$W.startApplication1(src);}catch(e){$W.exception.printStackTrace(e);}};$W.loadApplication=function(_70,_71,_72){["WebSquare.loadApplication"];$W.nowRendering=true;var _73=$W._N.getConfiguration("/WebSquare/preProcessor/systemPreProcessor/@value");if(_73!=null&&_73!=""){if(eval(_73)==false){return;}}if($W.logger.debug){$W.loadApplication1(_70,_71,_72);}else{$W.loadApplication2(_70,_71,_72);}};$W.loadApplication1=function(_74,_75,_76){["WebSquare.loadApplication1"];$W.WebSquaredoc=null;_2.body.innerHTML="";if(typeof _74=="string"&&_74!=""){$W.w2xPath=_74.wq_trim();}else{$W.w2xPath=$W._N.getConfiguration("/WebSquare/welcome-file");}var re=/[\\]/g;$W.w2xPath=$W.w2xPath.replace(re,"/");var _78=$W.w2xPath.lastIndexOf("/");if(typeof _75=="string"&&_75!=""){$W.w2xHome=_75.wq_trim();}else{if(_78>-1){$W.w2xHome=$W.w2xPath.substring(0,_78+1);}else{$W.w2xHome="/";}}if(_78>-1){$W.logFileName=" "+$W.w2xPath.substring(_78+1);}else{$W.logFileName=" "+$W.w2xPath;}if(typeof _76=="string"&&_76!=""&&_76!="/"&&_76!="\\"){$W.w2xDocumentRoot=_76.wq_trim();}else{$W.w2xDocumentRoot="";}var _79=$W.initialize($W.w2xPath);var _7a=$W._N.getConfiguration("/WebSquare/preProcessor/businessPreProcessor/@value");if(_7a!=null&&_7a!=""){eval(_7a);}if(_79){}};$W.loadApplication2=function(_7b,_7c,_7d){["WebSquare.loadApplication2"];try{$W.loadApplication1(_7b,_7c,_7d);}catch(e){$W.exception.printStackTrace(e);}};$W.useLanguagePack=false;$W.setLanguagePack=function(){if(!$W.useUserSystemLang){$W.useLanguagePack=$W._N.getConfiguration("/WebSquare/languagePack/@useLanguagePack");if($W.useLanguagePack=="true"){var _7e=$W.BootLoader.getBrowserLanguage();$W.loagLanguagePack(_7e);$W.systemLanguage=_7e;}else{$W.WebSquareLang={};}}};$W.loagLanguagePack=function(_7f){var _7f=$W._k.getCookie("system_language")||_7f||"ko";var _80=$W._N.getConfiguration("/WebSquare/languagePack/url[@lang='"+_7f+"']/@value");imports(_80);};$W.isAxLogger=true;$W.ax_logger=function(_81){};})(window);$W.historyManager=function(){this.maxSize=50;this.historyArr=[];};$W.historyManager.prototype.set=function(_1,id,_3,_4){if(this.historyArr.length>=this.maxSize){this.historyArr.shift();}this.historyArr.push([_1,id,_3||{},_4||{}]);};$W.historyManager.prototype.get=function(_5,id){var _7={};for(var i=this.historyArr.length-1;i>=0;i--){var _9=this.historyArr[i];if(_9[0]==_5&&_9[1]==id){_7=_9[2];break;}}return _7;};$W.historyManager.prototype.clear=function(){for(var i=0;i<this.historyArr.length;i++){this.historyArr[i]=null;}this.historyArr=[];};$W.historyManager.prototype.setKeyEvent=function(_b){$W._c.addEvent(document.documentElement,"keydown",$W._c.bindAsEventListener(this,this.handlerKeydownEvent));};$W.historyManager.prototype.handlerKeydownEvent=function(e){var _d=(e.charCode)?e.charCode:e.keyCode;switch(_d){case 37:break;case 38:break;case 39:break;case 40:break;case 33:break;case 34:break;case 27:break;case 90:if(e.ctrlKey){if(this.historyArr.length>0){var _e=this.historyArr.pop();if(_e[3].onRestore){_e[3].onRestore.call(this,_e[2]);}}}break;case 68:if(e.ctrlKey){$W._c.stopEvent(e);}break;case 75:if(e.ctrlKey){var _f=$W._N.getConfiguration("/WebSquare/cloneTab/@value")||"false";if(_f=="false"){$W._c.stopEvent(e);}}break;default:break;}};$W.historyManager=new $W.historyManager();$W.historyManager.setKeyEvent();$W.itemsetControl=function(){};$W.itemsetControl.prototype.initializeItemArr=function(_1,_2){["WebSquare.itemsetControl.prototype.initializeItemArr"];var _3=$W.WebSquareparser.parseItemset(_1);this.modelControl.setItemset(_3.nodeset,_3.label,_3.value);this.itemsetObj=_3;this.itemArr=[];this.allItemArr=[];var _4=$W.WebSquareparser.parseChoices(_1,_2);if(_4.length>0){this.itemArr=_4;}else{if(_3.nodeset.match("data:")){var id=this.id;if(this.element.tagName=="w2:column"){if(!this.comp){return;}id=this.comp.id;}this.modelControl.dataCollectionBindItemset(this.itemsetObj.nodeset);this.itemArr=this.modelControl.getDataCollectionItemsetData(id)||[];this.allItemArr=this.modelControl.getDataCollectionItemsetData(id,{"allData":true})||[];}else{this.itemArr=this.modelControl.getItemsetData();}}if(this.options.useLocale){this.itemArr=this.getLocaleItemArr(this.itemArr);this.allItemArr=this.getLocaleItemArr(this.allItemArr);}this.initializeFilter(_1);if(this.filterFunc==null&&typeof this.setSelectItemArr=="function"){this.setSelectItemArr();}};$W.itemsetControl.prototype.refreshItemArr=function(){["WebSquare.itemsetControl.prototype.refreshItemArr"];this.itemArr;if(this.modelControl.isDataCollectionItemsetBinded){this.itemArr=this.modelControl.getDataCollectionItemsetData(this.id)||[];this.allItemArr=this.modelControl.getDataCollectionItemsetData(this.id,{"allData":true})||[];}else{this.itemArr=this.modelControl.getItemsetData();}if(this.options.useLocale){this.itemArr=this.getLocaleItemArr(this.itemArr);this.allItemArr=this.getLocaleItemArr(this.allItemArr);}this.originalItemArr=this.itemArr;if(this.filterFunc!=null){this.filterItemArr();}else{if(typeof this.setSelectItemArr=="function"){this.setSelectItemArr();}}};$W.itemsetControl.prototype.setNodeSet=function(_6,_7,_8){["WebSquare.itemsetControl.setNodeSet"];try{this.modelControl.unbindItemset();_6=($W._G.isNull(_6))?this.itemsetObj.nodeset:_6;_7=($W._G.isNull(_7))?this.itemsetObj.label:_7;_8=($W._G.isNull(_8))?this.itemsetObj.value:_8;this.modelControl.setItemset(_6,_7,_8);this.itemsetObj=this.modelControl.itemsetObj;this.itemArr;if(this.itemsetObj.nodeset.match("data:")){this.itemArr=this.modelControl.getDataCollectionItemsetData(this.id);this.allItemArr=this.modelControl.getDataCollectionItemsetData(this.id,{"allData":true});}else{this.itemArr=this.modelControl.getItemsetData();}if(this.options.useLocale){this.itemArr=this.getLocaleItemArr(this.itemArr);this.allItemArr=this.getLocaleItemArr(this.allItemArr);}this.originalItemArr=this.itemArr;if(this.filterFunc!=null){this.filterItemArr();}if(this.itemsetObj.nodeset.match("data:")){this.modelControl.dataCollectionBindItemset();}else{this.modelControl.bindItemset();}this.refreshItemset("replace");}catch(e){$W.exception.printStackTrace(e,null,this);}};$W.itemsetControl.prototype.getDataListInfo=function(){try{var _9=null;if(this.itemsetObj){_9={};if(this.itemsetObj.nodeset.match("data:")){_9.nodeset=this.itemsetObj.nodeset.slice(0);_9.id=_9.nodeset.wq_replaceAll("data:","");_9.value=this.itemsetObj.value;_9.label=this.itemsetObj.label;}else{_9.nodeset=this.itemsetObj.nodeset.slice(0);_9.value=this.itemsetObj.value;_9.label=this.itemsetObj.label;}}return _9;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W.itemsetControl.prototype.setGridNodeSet=function(_a,_b,_c,_d){["WebSquare.itemsetControl.setGridNodeSet"];try{if(this.itemTableMode!="grid"){return;}var _e=false;if(_b!=this.itemsetObj.label||_c!=this.itemsetObj.value){_e=true;}this.itemsetObj.nodeset=_a;if(_e){this.itemsetObj.label=_b;this.itemsetObj.value=_c;}if(Object.prototype.toString.call(_d)==="[object Array]"){for(var i=0;i<this.itemsetObj.items.length;i++){this.itemsetObj.items[i]=_d[i];}}else{$l("setGridNodeSet \ud568\uc218\ub97c \uc2e4\ud589\ud558\ub294 \uc911 "+this.id+" \uc758 gridItemset\uc758 \uceec\ub7fc\uc5d0 \ub300\ud55c \uc815\ubcf4\uac00 \uc798\ubabb\ub418\uc5c8\uc2b5\ub2c8\ub2e4.");return;}this.modelControl.unbindItemset();_a=($W._G.isNull(_a))?this.itemsetObj.nodeset:_a;_b=($W._G.isNull(_b))?this.itemsetObj.label:_b;_c=($W._G.isNull(_c))?this.itemsetObj.value:_c;this.modelControl.setItemset(_a,_b,_c);this.itemArr=this.modelControl.getItemsetData();if(this.options.useLocale){this.itemArr=this.getLocaleItemArr(this.itemArr);}this.originalItemArr=this.itemArr;if(this.filterFunc!=null){this.filterItemArr();}this.modelControl.bindItemset();this.refreshItemset();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W.itemsetControl.prototype.getItemArray=function(){["WebSquare.itemsetControl.prototype.refreshItemArr"];return this.itemArr;};$W.itemsetControl.prototype.getLocaleItemArr=function(_10,key){["WebSquare.itemsetControl.prototype.getLocaleItemArr"];if(typeof key=="undefined"||key==null){key="label";}for(var i=0;i<_10.length;i++){var _13=_10[i];_13[key]=this.getLocaleValue(_13[key]);}return _10;};$W.itemsetControl.prototype.initializeFilter=function(_14){["WebSquare.itemsetControl.prototype.initializeFilter"];var _15=this.options.filter;this.originalItemArr=this.itemArr;this.setFilterFunc(_15);this.filterItemArr();};$W.itemsetControl.prototype.setFilter=function(_16){["WebSquare.itemsetControl.prototype.setFilter"];var _17=this.getValue();this.setFilterFunc(_16);this.filterItemArr();this.componentRedraw(_17);};$W.itemsetControl.prototype.setFilterFunc=function(_18){["WebSquare.itemsetControl.prototype.setFilterFunc"];try{if(typeof _18=="undefined"||_18==null||_18==""){this.filterFunc=null;}else{this.filterFunc=eval(_18);}}catch(e){this.filterFunc=null;$W.exception.printStackTrace(e);}};$W.itemsetControl.prototype.filterItemArr=function(){["WebSquare.itemsetControl.prototype.filterItemArr"];if(this.filterFunc==null){this.itemArr=this.originalItemArr;}else{this.itemArr=[];for(var i=0;i<this.originalItemArr.length;i++){var _1a=this.originalItemArr[i];if(this.match(_1a)){this.itemArr.push(_1a);}}if(typeof this.setSelectItemArr=="function"){this.setSelectItemArr();}}};$W.itemsetControl.prototype.match=function(_1b){["WebSquare.itemsetControl.prototype.match"];try{return this.filterFunc.call(this.filterFunc,_1b.label,_1b.value,_1b.xml);}catch(e){$W.exception.printStackTrace(e);return false;}};$W.itemsetControl.prototype.initializeGridItemArr=function(_1c,_1d){["WebSquare.itemsetControl.prototype.initializeGridItemArr"];if(!this.itemsetObj){this.itemsetObj={nodeset:"",value:"",label:"",items:[]};}var _1e=this.itemsetObj;_1d=_1d||"xf";try{var _1f=_1c.nodeName;if(_1f.indexOf(":")>=0){_1d=_1f.split(":")[0];}}catch(e){}if(_1c){var _20=(_1d=="xf")?$W._N._XML_NAMESPACE.XFORMS:$W._N._XML_NAMESPACE.W2;var _21=$W._B.findNode(_1c,"*['"+"choices"+"'=local-name()]['"+_20+"'=namespace-uri()]");if(_21){var _22=$W._B.findNode(_21,"*['"+"gridItemset"+"'=local-name()]['"+$W._N._XML_NAMESPACE.W2+"'=namespace-uri()]");if(_22){_1e.nodeset=$W._B.getValue(_22,"@nodeset");if(_1e.nodeset.wq_trim().substr(-1)=="/"){_1e.nodeset=_1e.nodeset.wq_trim().slice(0,-1);}this.gridOptions=$W.WebSquareparser.parseAttribute(_22);_1e.labelId=this.gridOptions.labelId;_1e.valueId=this.gridOptions.valueId;_1e.label=this.gridOptions.label;_1e.value=this.gridOptions.value;var _23=$W._B.getChildren(_21,"*['"+"gridItemset"+"'=local-name()]['"+$W._N._XML_NAMESPACE.W2+"'=namespace-uri()]");for(var i=0;i<_23.length;i++){delete _23[i]["@tagName"];if(_1e.labelId&&_23[i].id===_1e.labelId){_1e.label=_23[i].ref;}if(_1e.valueId&&_23[i].id===_1e.valueId){_1e.value=_23[i].ref;}}_1e.items=_23;}}}this.modelControl.setItemset(_1e.nodeset,_1e.label,_1e.value);this.refreshGridItemArr();};$W.itemsetControl.prototype.refreshGridItemArr=function(){this.itemArr=[];this.gridItemArr=[];this.gridRowItemArr=[];var _25=this.itemsetObj;if(_25.nodeset){if(_25.nodeset.match("data:")){var _26=this.modelControl.getDataComp();if(_26!=null){this.itemArr=this.modelControl.getDataCollectionItemsetData(this.modelControl.id);this.allItemArr=this.modelControl.getDataCollectionItemsetData(this.modelControl.id,{"allData":true});this.gridItemArr=_26.getAllData();this.gridOptions.dataComp=_26;}}else{var _27=$W._J.findInstanceNodes(_25.nodeset);if(_27){for(var i=0;i<_27.length;++i){this.itemArr.push({label:$W._B.getValue(_27[i],_25.label),value:$W._B.getValue(_27[i],_25.value),xml:_27[i]});var _29={};for(var j=0;j<_25.items.length;j++){if(!_25.items[j].id){_25.items[j].id=this.id+"_items"+j;}var _2b="";var ref=_25.items[j].ref;if(ref){if(_25.label&&ref===_25.label){_25.labelId=_25.items[j].id;}else{if(_25.value&&ref===_25.value){_25.valueId=_25.items[j].id;}}_2b=$W._B.getValue(_27[i],ref);}this.gridItemArr.push(_2b);_29[_25.items[j].id]=_2b;}this.gridRowItemArr.push(_29);}}}}if(typeof this.setSelectItemArr=="function"){this.setSelectItemArr();}};$W.itemsetControl.prototype.initializeGridViewItemArr=function(_2d,_2e){["WebSquare.itemsetControl.prototype.initializeGridViewItemArr"];if(!this.itemsetObj){this.itemsetObj={nodeset:"",value:"",label:"",items:[]};}var _2f=this.itemsetObj;_2e=_2e||"xf";try{var _30=_2d.nodeName;if(_30.indexOf(":")>=0){_2e=_30.split(":")[0];}}catch(e){}if(_2d){var _31=(_2e=="xf")?$W._N._XML_NAMESPACE.XFORMS:$W._N._XML_NAMESPACE.W2;var _32=$W._B.findNode(_2d,"*['"+"choices"+"'=local-name()]['"+_31+"'=namespace-uri()]");if(_32){var _33=$W._B.findNode(_32,"*['"+"gridViewItemset"+"'=local-name()]['"+$W._N._XML_NAMESPACE.W2+"'=namespace-uri()]");if(_33){_2f.nodeset=$W._B.getValue(_33,"@nodeset");if(_2f.nodeset.wq_trim().substr(-1)=="/"){_2f.nodeset=_2f.nodeset.wq_trim().slice(0,-1);}this.gridViewOptions=$W.WebSquareparser.parseAttribute(_33);_2f.labelId=this.gridViewOptions.labelId;_2f.valueId=this.gridViewOptions.valueId;_2f.label=this.gridViewOptions.label;_2f.value=this.gridViewOptions.value;var _34=$W._B.getChildren(_32,"*['"+"gridViewItemset"+"'=local-name()]['"+$W._N._XML_NAMESPACE.W2+"'=namespace-uri()]");for(var i=0;i<_34.length;i++){delete _34[i]["@tagName"];if(_2f.labelId&&_34[i].id===_2f.labelId){_2f.label=_34[i].ref;}if(_2f.valueId&&_34[i].id===_2f.valueId){_2f.value=_34[i].ref;}}_2f.items=_34;}}}this.modelControl.setItemset(_2f.nodeset,_2f.label,_2f.value);this.refreshGridViewItemArr();};$W.itemsetControl.prototype.refreshGridViewItemArr=function(){this.gridViewItemArr=[];this.gridViewRowItemArr=[];var _36=this.itemsetObj;if(_36.nodeset){if(_36.nodeset.match("data:")){var _37=this.modelControl.getDataComp();if(_37!=null){if(this.options.inputType==="select"){var _38=_37.getColumnCount();var _39=_37.getRowCount();var _3a=[];var _3b=[];for(var i=0;i<_38;i++){if(_36.value===_37.cellIdList[i]){_3a=_37.getColData(_36.value);}if(_36.label===_37.cellIdList[i]){_3b=_37.getColData(_36.label);}}var _3d;var _3e;var _3f=[];for(var l=0;l<_39;l++){_3d=_3b[l];_3e=_3a[l];_3f.push({label:_3d,value:_3e});}this.itemArr=_3f;}else{this.itemArr=this.modelControl.getDataCollectionItemsetData(this.modelControl.id);this.allItemArr=this.modelControl.getDataCollectionItemsetData(this.modelControl.id,{"allData":true});}this.gridViewItemArr=_37.getAllData();this.gridViewOptions.dataComp=_37;}}}if(typeof this.setSelectItemArr=="function"){this.setSelectItemArr();}};$W._j.dataController=function(){["WebSquare.DataCollection.dataController"];};$W._j.dataController.prototype.getRealRowIndex=function(_1){["WebSquare.DataCollection.dataController.prototype.getRealRowIndex"];var _2=this.filteredRowIndexArr[_1];return _2;};$W._j.dataController.prototype.getFilteredRowIndex=function(_3){["WebSquare.DataCollection.dataController.prototype.getFilteredRowIndex"];if(this.filteredRowIndexArr[this.filteredRowIndexMap[_3]]!==_3){this.filteredRowIndexMap={};for(var i=0;i<this.filteredRowIndexArr.length;i++){this.filteredRowIndexMap[this.filteredRowIndexArr[i]]=i;}}return this.filteredRowIndexMap[_3];};$W._j.dataController.prototype.getTotalRow=function(){["WebSquare.DataCollection.dataController.prototype.getTotalRow"];try{var _5=this.dataArr.length/this.oneRowDataLength;return _5;}catch(e){$W.exception.printStackTrace(e);}};$W._j.dataController.prototype.getTotalCol=function(){["WebSquare.DataCollection.dataController.prototype.getTotalCol"];try{var _6=this.oneRowDataLength;return _6;}catch(e){$W.exception.printStackTrace(e);}};$W._j.dataController.prototype.getRowCount=function(){["WebSquare.DataCollection.dataController.prototype.getRowCount"];try{return this.getDataLength();}catch(e){$W.exception.printStackTrace(e);}};$W._j.dataController.prototype._getData=function(_7,_8){["WebSquare.DataCollection.dataController.prototype._getData"];try{var _8=this.getColumnIndex(_8);value=this.dataArr[_7*this.getColumnCount()+_8];if(value==null){value="";}return value;}catch(e){$W.exception.printStackTrace(e);}};$W._j.dataController.prototype.getCellData=function(_9,_a){["WebSquare.DataCollection.dataController.prototype.getCellData"];try{var _b;var _c;if(typeof _a=="number"){_b=_a;_c=this.cellIdList[_b];}else{_b=this.bodyIdColIndexMap[_a];_c=_a;}var _d=(this.options.depthColumn)?_9:this.filteredRowIndexArr[_9];var _e=this.cellInfoHash[_c];if(_e){if(_e.options.inputType=="expression"){return _e.getExpressionValue(_d);}var _f=this.dataArr[_d*this.cellIdList.length+_b];if(_f==null){_f="";}return _f;}}catch(e){$W.exception.printStackTrace(e);}};$W._j.dataController.prototype.getOriginalCellData=function(_10,_11){["WebSquare.DataCollection.dataController.prototype.getOriginalCellData"];try{var _12;if(typeof _11=="number"){_12=_11;}else{_12=this.bodyIdColIndexMap[_11];}var _13=(this.options.depthColumn)?_10:this.filteredRowIndexArr[_10];var _14=this.originalDataArr[_13*this.cellIdList.length+_12];if(_14==null){_14="";}return _14;}catch(e){$W.exception.printStackTrace(e);}};$W._j.dataController.prototype._getOriginalCellData=function(_15,_16){["WebSquare.DataCollection.dataController.prototype._getOriginalCellData"];try{var _17;if(typeof _16=="number"){_17=_16;}else{_17=this.bodyIdColIndexMap[_16];}var _18=this.originalDataArr[_15*this.cellIdList.length+_17];if(_18==null){_18="";}return _18;}catch(e){$W.exception.printStackTrace(e);}};$W._j.dataController.prototype.getDataLength=function(){["WebSquare.DataCollection.dataController.prototype.getDataLength"];return this.filteredRowIndexArr.length;};$W._j.dataController.prototype.getColCnt=function(){["WebSquare.DataCollection.dataController.prototype.getColCnt"];try{return this.getTotalCol();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataController.prototype.getDepth=function(_19){["WebSquare.DataCollection.dataController.prototype.getDepth"];var _1a=-1;if(this.options.depthColumn){_1a=parseInt(this._getData(_19,this.getColumnID(this.options.depthColumn)));}return _1a;};$W._j.dataController.prototype.hasChild=function(_1b){["WebSquare.DataCollection.dataController.prototype.hasChild"];var _1c=_1b+1;var _1d=this.getTotalCol();var _1e=this.getColumnID(this.options.depthColumn);if(this.options.dataColumn=="dataList"){_1e=this.getColumnID(this.options.depthColumn);}var _1f=parseInt(this._getData(_1b,_1e));var _20=parseInt(this._getData(_1c,_1e));_20=(isNaN(_20))?0:_20;return (_1f<_20);};$W._j.dataController.prototype.getColSum=function(_21){["WebSquare.DataCollection.dataController.prototype.getColSum"];try{var _22="";var _23=this.getColData(_21);if(_23.length>0){for(var i=0;i<_23.length;i++){if(typeof _23[i]=="string"){if(_23[i].replace(/^\s+|\s+$/g,"")==""){_23[i]="0";}}}_22=eval(_23.join("+"));}return $W._G.setPrecision(_22);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataController.prototype.getColAvg=function(_25){["WebSquare.DataCollection.dataController.prototype.getColAvg"];try{var _26="";var _27=this.getColData(_25);if(_27.length>0){for(var i=0;i<_27.length;i++){if(typeof _27[i]=="string"){if(_27[i].replace(/^\s+|\s+$/g,"")==""){_27[i]="0";}}}_26=eval(_27.join("+"));}if(_26==""){return "";}else{return _26/_27.length;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataController.prototype.getColMax=function(_29){["WebSquare.DataCollection.dataController.prototype.getColMax"];try{var max=null;var _2b=this.getColData(_29);for(var i=0;i<_2b.length;i++){var _2d=parseFloat(_2b[i]);if(!isNaN(_2d)){if(max==null||max<_2d){max=_2d;}}}max=(max==null)?"":max;max=$W._G.setPrecision(max);return max;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataController.prototype.getColMin=function(_2e){["WebSquare.DataCollection.dataController.prototype.getColMin"];try{var min=null;var _30=this.getColData(_2e);for(var i=0;i<_30.length;i++){var _32=parseFloat(_30[i]);if(!isNaN(_32)){if(min==null||min>_32){min=_32;}}}min=(min==null)?"":min;min=$W._G.setPrecision(min);return min;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataController.prototype.getColData=function(_33,_34){["WebSquare.DataCollection.dataController.prototype.getColData"];try{var _35=[];var _36=this.getColumnIndex(_33);var _37=this.getTotalRow();if(typeof _34==="object"&&_34!=null&&_34.length>=0&&_34.length<=_37){var _38=_34.length;for(var row=0;row<_38;row++){_35.push(this._getData(_34[row],_36));}}else{for(var row=0;row<_37;row++){_35.push(this._getData(row,_36));}}return _35;}catch(e){$W.exception.printStackTrace(e);}};$W._j.dataController.prototype.getRowData=function(_3a,_3b){["WebSquare.DataCollection.dataController.prototype.getRowData"];try{var _3c=[];for(var col=0;col<this.getColumnCount();col++){_3c.push(this.getCellData(_3a,col));}return _3c;}catch(e){$W.exception.printStackTrace(e);}};$W._j.dataController.prototype._getRowData=function(_3e){["WebSquare.DataCollection.dataController.prototype._getRowData"];try{var _3f=[];for(var col=0;col<this.getColumnCount();col++){_3f.push(this._getData(_3e,col));}return _3f;}catch(e){$W.exception.printStackTrace(e);}};$W._j.dataController.prototype.getOriginalRowData=function(_41){["WebSquare.DataCollection.dataController.prototype.getOriginalRowData"];try{var _42=(this.options.depthColumn)?_41:this.getRealRowIndex(_41);return this._getOriginalRowData(_42);}catch(e){$W.exception.printStackTrace(e);}};$W._j.dataController.prototype._getOriginalRowData=function(_43){["WebSquare.DataCollection.dataController.prototype._getOriginalRowData"];try{var _44=[];for(var col=0;col<this.getColumnCount();col++){_44.push(this._getOriginalCellData(_43,col));}return _44;}catch(e){$W.exception.printStackTrace(e);}};$W._j.dataController.prototype.getDataRow=function(_46){["WebSquare.DataCollection.dataController.prototype.getDataRow"];try{var _47=[];for(var col=0;col<this.getColumnCount();col++){var _49=this.getColumnID(col);_47[_49]=this.getCellData(_46,col);}return _47;}catch(e){$l("dataController.getDataRow :"+e.message);$W.exception.printStackTrace(e,null,this);}};$W._j.dataController.prototype.getMatchedData=function(_4a,_4b,_4c,_4d,_4e,_4f){["WebSquare.DataCollection.dataController.prototype.getMatchedData"];try{this.broadcast({"gridView":["_endEdit"]});var _50=[];var _51=this.getMatchedIndex(_4a,_4b,_4c,_4d,_4e);for(var i=0;i<_51.length;i++){_50.push(this.getRowData(_51[i],_4f));}return _50;}catch(e){$W.exception.printStackTrace(e);}};$W._j.dataController.prototype.getUnmatchedData=function(_53,_54,_55,_56,_57,_58){["WebSquare.DataCollection.dataController.prototype.getUnmatchedData"];try{this.broadcast({"gridView":["_endEdit"]});var _59=[];var _5a=this.getUnmatchedIndex(_53,_54,_55,_56,_57);for(var i=0;i<_5a.length;i++){_59.push(this.getRowData(_5a[i],_58));}return _59;}catch(e){$W.exception.printStackTrace(e);}};$W._j.dataController.prototype.getMatchedColumnData=function(_5c,_5d,_5e,_5f,_60,_61){["WebSquare.DataCollection.dataController.prototype.getMatchedColumnData"];try{this.broadcast({"gridView":["_endEdit"]});var _62=[];var _63=this.getMatchedIndex(_5c,_5d,_5f,_60,_61);for(var i=0;i<_63.length;i++){_62.push(this.getCellData(_63[i],_5e));}return _62;}catch(e){$W.exception.printStackTrace(e);}};$W._j.dataController.prototype.getUnmatchedColumnData=function(_65,_66,_67,_68,_69,_6a){["WebSquare.DataCollection.dataController.prototype.getUnmatchedColumnData"];try{this.broadcast({"gridView":["_endEdit"]});var _6b=[];var _6c=this.getUnmatchedIndex(_65,_66,_68,_69,_6a);for(var i=0;i<_6c.length;i++){_6b.push(this.getCellData(_6c[i],_67));}return _6b;}catch(e){$W.exception.printStackTrace(e);}};$W._j.dataController.prototype.getFilteredColData=function(_6e){["WebSquare.DataCollection.dataController.prototype.getFilteredColData"];var _6f=[];_6e=this.getColumnIndex(_6e);var _70=this.getColumnID(_6e);for(var row=0;row<this.getDataLength();row++){var _72=row;if(this.options.depthColumn){_72=this.filteredRowIndexArr[row];}_6f.push(this.getCellData(_72,_70));}return _6f;};$W._j.dataController.prototype.getMatchedIndex=function(_73,_74,_75,_76,_77){["WebSquare.DataCollection.dataController.prototype.getMatchedIndex"];try{_75=(typeof _75=="undefined"||_75==null)?true:_75;_75=$W._G.getBoolean(_75);if(_75!=false){_75=true;}var _78=this.getColumnIndex(_73);if(this.options.depthColumn||this.options.getMatchedFromAllData){var _79=this.getColData(_78);}else{var _79=this.getFilteredColData(_78);}var _7a=[];if(typeof _76!="number"){_76=0;}if(typeof _77!="number"){_77=_79.length;}if(_77>_79.length){_77=_79.length;}for(var i=_76;i<_77;i++){var _7c=_79[i];if(_75==true){if(_7c===_74){_7a.push(i);}}else{if(_7c.indexOf(_74)>-1){_7a.push(i);}}}return _7a;}catch(e){$W.exception.printStackTrace(e);}};$W._j.dataController.prototype.getUnmatchedIndex=function(_7d,_7e,_7f,_80,_81){["WebSquare.DataCollection.dataController.prototype.getUnmatchedIndex"];try{if(_7f!=false){_7f=true;}var _82=this.getColumnIndex(_7d);if(this.options.depthColumn){var _83=this.getColData(_82);}else{var _83=this.getFilteredColData(_82);}var _84=[];if(typeof _80!="number"){_80=0;}if(typeof _81!="number"){_81=_83.length;}if(_81>_83.length){_81=_83.length;}for(var i=_80;i<_81;i++){var _86=_83[i];if(_7f==true){if(_86!==_7e){_84.push(i);}}else{if(_86.indexOf(_7e)<=-1){_84.push(i);}}}return _84;}catch(e){$W.exception.printStackTrace(e);}};$W._j.dataController.prototype.toArray=function(str){["WebSquare.DataCollection.dataController.prototype.toArray"];try{if(typeof str!="string"){if(str===null){$W.logger.printLog("[WebSquare.DataCollection.dataController.toArray] parameter is null.["+this.id+"]");}else{$W.logger.printLog("[WebSquare.DataCollection.dataController.toArray] parameter isn't string. ["+(typeof str)+"]["+this.id+"]");}return [];}var re=/^\[\s*\]$/g;if(str.match(re)!=null){return (new Array());}var _89=str.split("\",\"");_89[0]=_89[0].substr(2);_89[_89.length-1]=_89[_89.length-1].substr(0,((_89[_89.length-1]).length-2));return _89;}catch(e){$W.exception.printStackTrace(e);}};$W._j.dataController.prototype.getMappingData=function(_8a,_8b,_8c){["WebSquare.DataCollection.dataController.prototype.getMappingData"];try{var _8d={};var _8e;var _8f=0;var _90=this.cellIdList.length;var _91=_8b.length;var _92=_8a.length/_91;for(var i=0;i<_91;i++){_8e=false;for(var j=0;j<_90;j++){if(_8b[i]===this.cellIdList[j]){_8e=true;_8d[j]=i;break;}}if(!_8e){_8f++;}}if(_8f===_91){$W.logger.printLog("[WebSquare.DataCollection.dataController.setData] not exist all target column in ["+this.id+"]");return [];}var _95=new Array(_92*_90);var _96,dataIdx;for(var _97=0;_97<_92;_97++){for(var _98=0;_98<_90;_98++){dataIdx=_8d[_98];if(typeof dataIdx!="undefined"){_96=_8a[dataIdx+(_97*_91)];_95[_97*_90+_98]=_96;}else{_95[_97*_90+_98]="";}}}_8a=null;return _95;}catch(e){$W.exception.printStackTrace(e);}};$W._j.dataController.prototype.getRangeData=function(_99,to,_9b,_9c){["WebSquare.DataCollection.dataController.prototype.getRangeData"];try{var _9d=[];var _9e;if(this.options.depthColumn){_9e=this.getTotalRow()-1;}else{_9e=this.getDataLength()-1;}if(_99>to){var tmp=to;to=_99;_99=tmp;}if(_99<0){_99=0;}if(to>_9e){to=_9e;}for(var i=_99;i<=to;i++){_9d=_9d.concat(this.getRowData(i,_9c));}return _9d;}catch(e){$W.exception.printStackTrace(e);}};$W._j.dataController.prototype.getAllData=function(_a1){["WebSquare.DataCollection.dataController.prototype.getAllData"];try{this.broadcast({"gridView":["_endEdit"]});if(this.getTotalRow()!=this.getDataLength()){var _a2=[];var _a3=this.getTotalRow();for(var i=0;i<_a3;i++){var _a5=this._getRowData(i,_a1);for(var j=0;j<_a5.length;j++){_a2.push(_a5[j]);}}return _a2;}else{var _a2=[];var _a7=this.getDataLength();for(var i=0;i<_a7;i++){var _a5=this.getRowData(i,_a1);for(var j=0;j<_a5.length;j++){_a2.push(_a5[j]);}}return _a2;}}catch(e){$W.exception.printStackTrace(e);}};$W._j.dataController.prototype.getAllArrayEvalString=function(){["WebSquare.DataCollection.dataController.prototype.getAllArrayEvalString"];try{this.broadcast({"gridView":["_endEdit"]});var ret="[";for(var i=0;i<this.dataArr.length;i++){var t=this.dataArr[i];if(typeof t==="string"){if(t.indexOf("\"")>=0){t=t.replaceAll("\"","\\\"");}t="\""+t+"\"";}if(i<this.dataArr.length-1){ret+=t+",";}else{ret+=t;}}ret+="]";return ret;}catch(e){$W.exception.printStackTrace(e);}};$W._j.dataController.prototype.getColumnDistinctDataArray=function(_ab,_ac){["WebSquare.DataCollection.dataController.prototype.getColumnDistinctDataArray"];try{this.broadcast({"gridView":["_endEdit"]});var _ad=[];var _ae={};if(typeof _ab=="string"){_ab=this.bodyIdColIndexMap[_ab];}var _af=this.getCellInfo(_ab);var _b0=this.getColData(_ab);for(var i=0;i<_b0.length;i++){var _b2=_b0[i];_ae[_b2]=1;}for(var _b3 in _ae){_ad.push(_b3);}if(_ac&&_ac.sort==false){return _ad;}if(_af.options.dataType=="text"){_ad=_ad.sort();}else{_ad=_ad.sort(this.comparator);}return _ad;}catch(e){$W.exception.printStackTrace(e);}};$W._j.dataController.prototype.getAllFilteredData=function(_b4){["WebSquare.DataCollection.dataController.prototype.getAllFilteredData"];this.broadcast({"gridView":["_endEdit"]});var _b5=[];for(var i=0;i<this.getDataLength();i++){_b5=_b5.concat(this.getRowData(i,_b4));}return _b5;};$W._j.dataController.prototype.getChildrenRowArr=function(_b7){["WebSquare.DataCollection.dataController.prototype.getChildrenRowArr"];var _b8=[];if(this.options.depthColumn){var _b9=this.getTotalCol();var _ba=this.getTotalRow();var col=this.options.depthColumn;var _bc=this.getColumnID(col);var row=_b7+1;var _be=parseInt(this._getData(_b7,_bc),10);if(row<_ba&&this._getData(row,_bc)>(_be)){_b8.push(row);var _bf=parseInt(this._getData(row,_bc),10);var _c0=true;}if(_c0){for(var row=_b7+2;row<_ba;row++){if(this._getData(row,_bc)<(_be+1)){break;}if(this._getData(row,_bc)<(_bf+1)){_b8.push(row);_bf=parseInt(this._getData(row,_bc),10);}}}}return _b8;};$W._j.dataController.prototype.getRecursiveRowIndex=function(_c1){["WebSquare.DataCollection.dataController.prototype.getRecursiveRowIndex"];try{var _c2=[];var _c3=this.getChildrenRowArr(_c1);for(var i=0;i<_c3.length;i++){var _c5=_c3[i];_c2.push(_c5);_c2=_c2.concat(this.getRecursiveRowIndex(_c5));}return _c2;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataController.prototype.getParentRowIndex=function(_c6){["WebSquare.DataCollection.dataController.prototype.getParentRowIndex "];try{var _c7=-1;if(this.options.depthColumn){var _c8=this.getTotalCol();var col=this.options.depthColumn;var _ca=this.getColumnID(col);var _cb=parseInt(this._getData(_c6,_ca));for(var row=_c6-1;row>=0;row--){if(this._getData(row,_ca)<_cb){return row;}}}return _c7;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataController.prototype.getRangeXML=function(_cd,to,_cf){["WebSquare.DataCollection.dataController.prototype.getRangeXML"];try{var _d0;if(this.options.depthColumn){_d0=this.getTotalRow()-1;}else{_d0=this.getDataLength()-1;}if(_cd>to){var tmp=to;to=_cd;_cd=tmp;}if(_cd<0){_cd=0;}if(to>_d0){to=_d0;}var _d2=[];for(var i=_cd;i<=to;i++){_d2.push(i);}var _d4=this.getArrXML(_d2,_cf);return _d4;}catch(e){$W.exception.printStackTrace(e);}};$W._j.dataController.prototype.getMatchedXML=function(_d5,_d6,_d7,_d8,_d9,_da){["WebSquare.DataCollection.dataController.prototype.getMatchedXML"];try{this.broadcast({"gridView":["_endEdit"]});var _db=this.getMatchedIndex(_d5,_d6,_d7,_d8,_d9);var _dc=this.getArrXML(_db,_da);return _dc;}catch(e){$W.exception.printStackTrace(e);}};$W._j.dataController.prototype.getUnmatchedXML=function(_dd,_de,_df,_e0,_e1,_e2){["WebSquare.DataCollection.dataController.prototype.getUnmatchedXML"];try{this.broadcast({"gridView":["_endEdit"]});var _e3=this.getUnmatchedIndex(_dd,_de,_df,_e0,_e1);var _e4=this.getArrXML(_e3,_e2);return _e4;}catch(e){$W.exception.printStackTrace(e);}};$W._j.dataController.prototype.getRowXML=function(_e5,_e6){["WebSquare.DataCollection.dataController.prototype.getRowXML"];try{var _e7=this.getRangeXML(_e5,_e5,_e6);var uri;if(this.initializeType=="dataMap"){uri=this.options.baseNode+"/"+this.options.repeatNode.split("/")[0];}else{uri=this.options.baseNode+"/"+this.options.repeatNode;}_e7=$W._B.findNode(_e7,uri);_e7=$W._B.parse($W._B.serialize(_e7));return _e7;}catch(e){$W.exception.printStackTrace(e);}};$W._j.dataController.prototype.getAllXML=function(_e9){["WebSquare.DataCollection.dataController.prototype.getAllXML"];try{this.broadcast({"gridView":["_endEdit"]});if(this.getTotalRow()==this.getDataLength()){return this.getAllFilteredXML(_e9);}else{return this.getAllArrXML(_e9);}}catch(e){$W.exception.printStackTrace(e);}};$W._j.dataController.prototype.getAllFilteredXML=function(_ea){["WebSquare.DataCollection.dataController.prototype.getAllFilteredXML"];try{this.broadcast({"gridView":["_endEdit"]});var _eb=this.getDataLength();var _ec=[];for(var i=0;i<_eb;i++){_ec.push(i);}var _ee=this.getArrXML(_ec,_ea);return _ee;}catch(e){$W.exception.printStackTrace(e);}};$W._j.dataController.prototype.getRowJSON=function(_ef,_f0){["WebSquare.DataCollection.dataController.prototype.getRowJSON"];try{if(typeof _f0==="undefined"||_f0==null){_f0={};}var _f1={};var _f2=(this.options.depthColumn||_f0.realRowIndex)?_ef:this.filteredRowIndexArr[_ef];var _f3=this.cellIdList.length;if(typeof _f0.includeColumns==="object"&&_f0.includeColumns!=null&&_f0.includeColumns.constructor===Array){var _f4=_f0.includeColumns.length;for(var i=0;i<_f4;i++){var _f6=_f0.includeColumns[i];var _f7=this.cellInfoHash[_f6];if(_f7){if(_f7.options.inputType=="expression"){_f1[_f6]=_f7.getExpressionValue(_f2);}else{var col=this.bodyIdColIndexMap[_f6];_f1[_f6]=this.dataArr[_f2*_f3+col];if(_f1[_f6]==null){_f1[_f6]="";}}}}}else{for(var col=0;col<_f3;col++){var _f6=this.cellIdList[col];var _f7=this.cellInfoHash[_f6];if(_f7){if(_f7.options.inputType=="expression"){_f1[_f6]=_f7.getExpressionValue(_f2);}else{_f1[_f6]=this.dataArr[_f2*_f3+col];if(_f1[_f6]==null){_f1[_f6]="";}}}}}var _f9=this.options.rowStatusNodeName;if(_f0.rowStatusNodeName){_f9=_f0.rowStatusNodeName;}if(this.initializeType=="dataList"||this.initializeType=="removeManager"){_f1[_f9]=this.rowStatusArr[_f2];if(this.options.rowNumData){_f1["rowNum"]=_ef+1;}}return _f1;}catch(e){$W.exception.printStackTrace(e);}};$W._j.dataController.prototype.getVirtualRowJSON=function(_fa,_fb,_fc){["WebSquare.DataCollection.dataController.prototype.getVirtualRowJSON"];try{var _fd={};_fb=this.getColumnID(_fb);for(var col=0;col<this.getColumnCount();col++){var _ff=this.getColumnID(col);if(_ff==_fb){_fd[_ff]=_fc;}else{_fd[_ff]=this.getCellData(_fa,_ff);}}return _fd;}catch(e){$W.exception.printStackTrace(e);}};$W._j.dataController.prototype.getAllJSON=function(_100){["WebSquare.DataCollection.dataController.prototype.getAllJSON"];try{this.broadcast({"gridView":["_endEdit"]});var _101=[];var _102=this.getTotalRow();var _103=this.getDataLength();if(_102!=_103){if(typeof _100==="undefined"||_100==null){_100={"realRowIndex":true};}else{_100.realRowIndex=true;}for(var i=0;i<_102;i++){_101.push(this.getRowJSON(i,_100));}}else{for(var i=0;i<_103;i++){_101.push(this.getRowJSON(i,_100));}}if(this.options.customFormatter!=undefined){var _105=$W._G.getGlobalFunction(this.options.customFormatter);if(_105!=null){_101=_105(this,_101);}}return _101;}catch(e){$W.exception.printStackTrace(e);}};$W._j.dataController.prototype.getRangeJSON=function(from,to,_108){["WebSquare.DataCollection.dataController.prototype.getRangeJSON"];try{var _109=[];var _10a;if(this.options.depthColumn){_10a=this.getTotalRow()-1;}else{_10a=this.getDataLength()-1;}if(from>to){var tmp=to;to=from;from=tmp;}if(from<0){from=0;}if(to>_10a){to=_10a;}for(var i=from;i<=to;i++){_109.push(this.getRowJSON(i,_108));}if(this.options.customFormatter!=undefined){var _10d=$W._G.getGlobalFunction(this.options.customFormatter);if(_10d!=null){_109=_10d(this,_109);}}return _109;}catch(e){$W.exception.printStackTrace(e);}};$W._j.dataController.prototype.getMatchedJSON=function(_10e,_10f,_110,_111,_112,_113){["WebSquare.DataCollection.dataController.prototype.getMatchedJSON"];try{this.broadcast({"gridView":["_endEdit"]});var _114=[];var _115=this.getMatchedIndex(_10e,_10f,_110,_111,_112,_113);for(var i=0;i<_115.length;i++){_114.push(this.getRowJSON(_115[i],_113));}if(this.options.customFormatter!=undefined){var _117=$W._G.getGlobalFunction(this.options.customFormatter);if(_117!=null){_114=_117(this,_114);}}return _114;}catch(e){$W.exception.printStackTrace(e);}};$W._j.dataController.prototype.getUnmatchedJSON=function(_118,_119,_11a,_11b,_11c,_11d){["WebSquare.DataCollection.dataController.prototype.getUnmatchedJSON"];try{this.broadcast({"gridView":["_endEdit"]});var _11e=[];var _11f=this.getUnmatchedIndex(_118,_119,_11a,_11b,_11c,_11d);for(var i=0;i<_11f.length;i++){_11e.push(this.getRowJSON(_11f[i],_11d));}if(this.options.customFormatter!=undefined){var _121=$W._G.getGlobalFunction(this.options.customFormatter);if(_121!=null){_11e=_121(this,_11e);}}return _11e;}catch(e){$W.exception.printStackTrace(e);}};$W._j.dataController.prototype.getAllFilteredJSON=function(_122){["WebSquare.DataCollection.dataController.prototype.getAllFilteredJSON"];this.broadcast({"gridView":["_endEdit"]});var _123=[];var _124=this.getDataLength();for(var i=0;i<_124;i++){_123.push(this.getRowJSON(i,_122));}return _123;};$W._j.dataController.prototype.getFusionChartData=function(_126,_127,_128){["WebSquare.DataCollection.dataController.prototype.getFusionChartData"];try{var _129={};var _12a=this.getAllArray();var _12b;if(!_127){_127=_12a.columnInfo[0];}if(!_128){var _12c=new Array();for(var i=1;i<=_12a.columnInfo.length;i++){if(this.getCellInfo(i).options.dataType=="number"){_12c.push(_12a.columnInfo[i]);}}if(_126.toLowerCase()=="msstackedcolumn2d"){_12b=[];_12b[0]=new Array(_12c[0]);_12b[1]=new Array(_12c[1]);}else{if(_126.toLowerCase()=="msstackedcolumn2dlinedy"){_12b=[];_12b[0]=new Array(_12c[0]);_12b[1]=new Array(_12c[1]);_12b[2]=new Array(_12c[2]);}else{_128=_12c;}}}else{_12b=_128.wq_replaceAll("'","\"");_12b=JSON.parse(_12b);_128=_12b[0];}this._singleSerises=function(){var obj=[];var data=this.getAllJSON();for(var i=0;i<data.length;i++){var _131={"label":data[i][_127],"value":data[i][_128[0]]};obj.push(_131);}_129.data=obj;return _129;};this._multiSerises=function(){_129=this._getFusionChartCategory();_129.dataset=[];for(var i=0;i<_128.length;i++){var _133=this._getFusionChartSeriesDate(i);_129["dataset"].push(_133);}return _129;};this._msStacked=function(){_129=this._getFusionChartCategory();_129.dataset=[];for(var i=0;i<_12b.length;i++){_128=_12b[i];var obj={};obj.dataset=[];for(var j=0;j<_128.length;j++){var _137=this._getFusionChartSeriesDate(j);obj["dataset"].push(_137);}_129["dataset"].push(obj);}return _129;};this._msStackedColumn2DLineDY=function(){_129=this._getFusionChartCategory();_129.dataset=[];for(var i=0;i<_12b.length-1;i++){_128=_12b[i];var obj={};obj.dataset=[];for(var j=0;j<_128.length;j++){var _13b=this._getFusionChartSeriesDate(j);obj["dataset"].push(_13b);}_129["dataset"].push(obj);}_129.lineset=[];var _13c=_12b.length-1;_128=_12b[_13c];for(var i=0;i<_128.length;i++){var _13b=this._getFusionChartSeriesDate(i);_129["lineset"].push(_13b);}return _129;};this._scatter=function(){_129.dataset=[];var _13d=this.getColData(_127).unique();for(var i=0;i<_13d.length;i++){var obj1={};obj1.data=[];for(var j=0;j<this.getRowCount();j++){if(_13d[i]==this.getCellData(j,_127)){var obj2={};if(_126.toLowerCase()=="scatter"){obj2={"x":this.getCellData(j,_128[0]),"y":this.getCellData(j,_128[1])};}else{if(_126.toLowerCase()=="bubble"){obj2={"x":this.getCellData(j,_128[0]),"y":this.getCellData(j,_128[1]),"z":this.getCellData(j,_128[2])};}}obj1["data"].push(obj2);}}obj1["seriesname"]=_13d[i];_129["dataset"].push(obj1);}return _129;};this._zoomLine=function(){if(this.getRowCount()==1){_129={"categories":[{"category":this.getCellData(0,_127)}]};_129.dataset=[];for(var i=0;i<_128.length;i++){var obj={};obj["seriesname"]=this.getColumnName(_128[i]);obj["data"]=this.getCellData(0,_128[i]);_129["dataset"].push(obj);}return _129;}else{return this._multiSerises();}};this._getFusionChartCategory=function(){var obj=[];var data=this.getColData(_127);for(var i=0;i<data.length;i++){var _147={"label":data[i]};obj.push(_147);}return {"categories":[{"category":obj}]};};this._getFusionChartSeriesDate=function(_148){var obj={};obj.data=[];var _14a;var _14b=[];if(typeof _128[_148]!="string"){_14a=_128[_148].id;obj["seriesname"]=this.getColumnName(_14a);for(var obj1 in _128[_148]){if(_128[_148].hasOwnProperty(obj1)){if(this.hasColumn(_128[_148][obj1])&&obj1.toLowerCase()!="id"){var obj3={};obj3[obj1]=_128[_148][obj1];_14b.push(obj3);}else{obj[obj1]=_128[_148][obj1];}}}}else{_14a=_128[_148];obj["seriesname"]=this.getColumnName(_14a);}for(var j=0;j<this.getRowCount();j++){var obj2={"value":this.getCellData(j,_14a)};for(var i=0;i<_14b.length;i++){for(var obj4 in _14b[i]){obj2[obj4]=this.getCellData(j,_14b[i][obj4]);}}obj["data"].push(obj2);}return obj;};Array.prototype.unique=function(){var a={};for(var i=0;i<this.length;i++){if(typeof a[this[i]]=="undefined"){a[this[i]]=1;}}this.length=0;for(var i in a){this[this.length]=i;}return this;};switch(_126.toLowerCase()){case "column2d":return this._singleSerises();break;case "column3d":return this._singleSerises();break;case "bar2d":return this._singleSerises();break;case "bar3d":return this._singleSerises();break;case "pie2d":return this._singleSerises();break;case "pie3d":return this._singleSerises();break;case "doughnut2d":return this._singleSerises();break;case "doughnut3d":return this._singleSerises();break;case "pareto2d":return this._singleSerises();break;case "pareto3d":return this._singleSerises();break;case "line":return this._singleSerises();break;case "area2d":return this._singleSerises();break;case "ssgrid":return this._singleSerises();break;case "funnel":return this._singleSerises();break;case "pyramid":return this._singleSerises();break;case "sparkline":return this._singleSerises();break;case "sparkcolumn":return this._singleSerises();break;case "sparkwinloss":return this._singleSerises();break;case "mscolumn2d":return this._multiSerises();break;case "mscolumn3d":return this._multiSerises();break;case "msline":return this._multiSerises();break;case "msarea":return this._multiSerises();break;case "msbar2d":return this._multiSerises();break;case "msbar3d":return this._multiSerises();break;case "marimekko":return this._multiSerises();break;case "stackedcolumn2d":return this._multiSerises();break;case "stackedcolumn3d":return this._multiSerises();break;case "stackedarea2d":return this._multiSerises();break;case "stackedbar2d":return this._multiSerises();break;case "stackedbar3d":return this._multiSerises();break;case "mscombi3d":return this._multiSerises();break;case "mscombi2d":return this._multiSerises();break;case "mscolumnline3d":return this._multiSerises();break;case "stackedcolumn2dline":return this._multiSerises();break;case "stackedcolumn3dline":return this._multiSerises();break;case "mscombidy2d":return this._multiSerises();break;case "mscolumn3dlinedy":return this._multiSerises();break;case "scrollcolumn2d":return this._multiSerises();break;case "scrollline2d":return this._multiSerises();break;case "scrollArea2d":return this._multiSerises();break;case "scrollstackedcolumn2d":return this._multiSerises();break;case "scrollcombi2d":return this._multiSerises();break;case "scrollcombidy2d":return this._multiSerises();break;case "stackedcolumn3dlinedy":return this._multiSerises();break;case "scatter":return this._scatter();break;case "bubble":return this._scatter();break;case "zoomline":return this._zoomLine();break;case "msstackedcolumn2d":return this._msStacked();break;case "msstackedcolumn2dlinedy":return this._msStackedColumn2DLineDY();break;}}catch(e){$W.exception.printStackTrace(e);}};$W._j.dataController.prototype.getfwGanttChartData=function(info){["WebSquare.DataCollection.dataController.prototype.getfwGanttChartData"];try{var _155={};_155.chart={};_155.categories=[];_155.processes={};_155.processes.process=[];_155.datatable={};_155.datatable.datacolumn=[];_155.tasks={};_155.tasks.task=[];_155.legend={};_155.legend.item=[];var _156=info.monthNames.split(",");var _157=info.quarterNames.split(",");var _158=info.dataColumns.split(",");var _159=this.getColumnDistinctDataArray(info.processNode,{sort:false});var _15a=[];if(_158!=""){for(var i=0;i<_158.length;i++){_15a[i]=this.getColumnDistinctDataArray(_158[i],{sort:false});}}var _15c=this.getColumnDistinctDataArray(info.taskNode,{sort:false});var _15d=[];_15d.push(info.startDateNode);_15d.push(info.endDateNode);var _15e=[];var _15f={},processidData,taskid_list={},taskidData;if(info.processIdNode&&info.taskIdNode){processidData=this.getColumnDistinctDataArray(info.processIdNode,{sort:false});taskidData=this.getColumnDistinctDataArray(info.taskIdNode,{sort:false});for(var i=0;i<processidData.length;i++){_15f[_159[i]]=processidData[i];}}this._getGanttTaskData=function(_160,_161,_162,_163,_164,_165){var _166=this.getRowCount();var _167=this.getMatchedIndex(info.taskNode,_160,true,0,_166);var _168=[];for(var i=0;i<_167.length;i++){var obj={};var _16b=this.getCellData(_167[i],info.processNode);obj.label=this.getCellData(_167[i],info.taskNode);obj.processid=_161[_16b];obj.color=_165[_16b];if(info.taskIdNode){obj.id=this.getCellData(_167[i],info.taskIdNode);}else{obj.id=obj.processid+"_"+i;}if($W._G.getBoolean(info.multiTasks)){var len=_162.length;var val1=100/len/2/2;var val2=100/len;var val3=100/len/2;var idx=_167[i]%len;obj.toppadding=val2*idx+val1+"%";obj.height=val3+"%";}if(typeof _163=="object"){if(info.dateformat=="yyyyMMdd"){obj.start=$W._A.formatDate(this.getCellData(_167[i],_163[0]),"yyyy/MM/dd","yyyyMMdd");obj.end=$W._A.formatDate(this.getCellData(_167[i],_163[1]),"yyyy/MM/dd","yyyyMMdd");}else{obj.start=this.getCellData(_167[i],_163[0]);obj.end=this.getCellData(_167[i],_163[1]);}}_168.push(obj);if(info.dateformat=="dd/mm/yyyy"||info.dateformat=="dd-mm-yyyy"){if(info.dateformat.indexOf("/")!=-1){var _171="$2/$1/$3";if($W._G.isFF()){_171="$3/$2/$1";}_164.push(new Date(obj.start.replace(/(\d{2})\/(\d{2})\/(\d{4})/,_171)));_164.push(new Date(obj.end.replace(/(\d{2})\/(\d{2})\/(\d{4})/,_171)));}else{if(info.dateformat.indexOf("-")!=-1){var _171="$2-$1-$3";if($W._G.isFF()){_171="$3-$2-$1";}_164.push(new Date(obj.start.replace(/(\d{2})-(\d{2})-(\d{4})/,_171)));_164.push(new Date(obj.end.replace(/(\d{2})-(\d{2})-(\d{4})/,_171)));}}}else{_164.push(new Date(obj.start));_164.push(new Date(obj.end));}}return _168;};var _172=[];var _173={};var _174={};var j=0;var _176=info.plotColor.split(",");for(var i=0;i<_159.length;i++,j++){var temp={};if(info.processIdNode&&info.taskIdNode){temp.id=_15f[_159[i]];}else{temp.id="process_"+i;}temp.name=_159[i];_173[_159[i]]=temp.id;if(_176.length>j){_174[_159[i]]=_176[j];}else{j=0;_174[_159[i]]=_176[j];}_172.push(temp);}_155.processes.process=_172;var text=[];if(_158!=""){for(var i=0;i<_15a.length;i++){for(var j=0;j<_15a[i].length;j++){var temp={};temp.label=_15a[i][j];text.push(temp);}_155.datatable.datacolumn.push({"text":text});text=[];}}var _179=[];for(var i=0;i<_15c.length;i++){var task=this._getGanttTaskData(_15c[i],_173,_15c,_15d,_15e,_174);_179=_179.concat(task);}_155.tasks.task=_179;_155.tasks["showlabels"]="1";if($W._G.getBoolean(info.autoCategory)||info.version=="3.11"){_15e.sort(function(a,b){return a-b;});var _17d=_15e[0];var _17e=_15e[_15e.length-1];this._getMonthOfFirstDay=function(date){return (new Date(date.getFullYear(),date.getMonth()+1,1)).getDate();};this._getMonthOfLastDay=function(date){return (new Date(date.getFullYear(),date.getMonth()+1,0)).getDate();};if(info.timeBase.toLowerCase()=="date"){var _181=this._getMonthOfFirstDay(_17d);var _182=this._getMonthOfLastDay(_17e);var _183=_17d.getFullYear()+"/"+(_17d.getMonth()+1)+"/"+_181;var _184=_17e.getFullYear()+"/"+(_17e.getMonth()+1)+"/"+_182;var _185=new Date(_183);var _186=new Date(_184);var _187=[];var _188=new Date(_185.getTime());_187.push(new Date(_185.getTime()));while(_188.getTime()<_186.getTime()){_187.push(new Date(_188.setDate(this._getMonthOfLastDay(_188))));_188=new Date(_188.setDate(this._getMonthOfFirstDay(_188)));_188=new Date(_188.setMonth((_188.getMonth()+1)>12?0:(_188.getMonth()+1)));_187.push(_188);}var form=info.dateformat=="dd/mm/yyyy"||info.dateformat=="dd-mm-yyyy"||info.dateformat=="mm/dd/yyyy"||info.dateformat=="mm-dd-yyyy"||info.dateformat=="yyyy-mm-dd"||info.dateformat=="yyyy/mm/dd"?info.dateformat.wq_replaceAll("mm","MM"):info.dateformat;if(form=="yyyyMMdd"){form="yyyy/MM/dd";}if(info.categoryDepth==2){var obj2={};obj2.category=[];var _18b={"quater1_start":"/01/01","quater1_end":"/03/31","quater2_start":"/04/01","quater2_end":"/06/30","quater3_start":"/07/01","quater3_end":"/09/30","quater4_start":"/10/01","quater4_end":"/12/31"};var _18c=new Date(_185.getTime());while(_18c.getTime()<_186.getTime()){var tobj={};if(_18c.getMonth()+1<=3){tobj["start"]=$W._s.getFormattedDate(_18c,form);tobj["end"]=$W._s.getFormattedDate(new Date(_18c.getFullYear()+_18b.quater1_end),form);tobj["label"]=_157[0];obj2.category.push(tobj);_18c=new Date(_18c.getFullYear()+_18b.quater2_start);}else{if(_18c.getMonth()+1<=6){tobj["start"]=$W._s.getFormattedDate(_18c,form);tobj["end"]=$W._s.getFormattedDate(new Date(_18c.getFullYear()+_18b.quater2_end),form);tobj["label"]=_157[1];obj2.category.push(tobj);_18c=new Date(_186.getFullYear()+_18b.quater3_start);}else{if(_18c.getMonth()+1<=9){tobj["start"]=$W._s.getFormattedDate(_18c,form);tobj["end"]=$W._s.getFormattedDate(new Date(_18c.getFullYear()+_18b.quater3_end),form);tobj["label"]=_157[2];obj2.category.push(tobj);_18c=new Date(_18c.getFullYear()+_18b.quater4_start);}else{tobj["start"]=$W._s.getFormattedDate(_18c,form);tobj["end"]=$W._s.getFormattedDate(new Date(_18c.getFullYear()+_18b.quater4_end),form);tobj["label"]=_157[3];obj2.category.push(tobj);if(_18c<_186){_18c=new Date(_18c.getFullYear()+1+_18b.quater1_start);}}}}}if(info.resizeLastMonth){obj2.category[obj2.category.length-1].end=$W._s.getFormattedDate(_186,form);}_155.categories.push(obj2);}var obj={};obj.category=[];for(var i=0;i<_187.length;i=i+2){var tobj={};tobj["start"]=$W._s.getFormattedDate(_187[i],form);tobj["end"]=$W._s.getFormattedDate(_187[i+1],form);tobj["label"]=_156[_187[i].getMonth()];if(tobj.start&&tobj.end){obj.category.push(tobj);}}_155.categories.push(obj);}else{if(info.timeBase.toLowerCase()=="time"){if(info.timeGap=="12"){var _187=["00:00:00","11:59:59","12:00:00","23:59:59"];var _18f=WebSquareLang.fwGanttChart_ampm.split(",");var obj={};obj.category=[];for(var i=0;i<_187.length;i+=2){var tobj={};tobj["start"]=_187[i];tobj["end"]=_187[i+1];switch(i){case 0:tobj["label"]=_18f[0];break;case 2:tobj["label"]=_18f[1];break;}obj.category.push(tobj);}_155.chart.outputdateformat="hh:mn ampm";_155.categories.push(obj);}else{if(info.timeGap=="6"){var _187=["00:00:00","05:59:59","06:00:00","11:59:59","12:00:00","17:59:59","18:00:00","23:59:59"];var _18f=WebSquareLang.fwGanttChart_timeGap6Label.split(",");var obj={};obj.category=[];for(var i=0;i<_187.length;i+=2){var tobj={};tobj["start"]=_187[i];tobj["end"]=_187[i+1];switch(i){case 0:tobj["label"]=_18f[0];break;case 2:tobj["label"]=_18f[1];break;case 4:tobj["label"]=_18f[2];break;case 6:tobj["label"]=_18f[3];break;}obj.category.push(tobj);}_155.chart.outputdateformat="hh:mn ampm";_155.categories.push(obj);}else{var _187=["00:00:00","02:59:59","03:00:00","05:59:59","06:00:00","08:59:59","09:00:00","11:59:59","12:00:00","14:59:59","15:00:00","17:59:59","18:00:00","20:59:59","21:00:00","23:59:59"];var _18f=WebSquareLang.fwGanttChart_timeGap3Label.split(",");var obj={};obj.category=[];for(var i=0;i<_187.length;i+=2){var tobj={};tobj["start"]=_187[i];tobj["end"]=_187[i+1];switch(i){case 0:tobj["label"]=_18f[0];break;case 2:tobj["label"]=_18f[1];break;case 4:tobj["label"]=_18f[2];break;case 6:tobj["label"]=_18f[3];break;case 8:tobj["label"]=_18f[4];break;case 10:tobj["label"]=_18f[5];break;case 12:tobj["label"]=_18f[6];break;case 14:tobj["label"]=_18f[7];break;}obj.category.push(tobj);}_155.chart.outputdateformat="hh:mn ampm";_155.categories.push(obj);}}}else{if(info.timeBase.toLowerCase()=="datetime"){if(info.timeGap=="12"){var _183=(_17d.getMonth()+1)+"/"+_17d.getDate()+"/"+_17d.getFullYear()+" 00:00:00";var _184=(_17e.getMonth()+1)+"/"+_17e.getDate()+"/"+_17e.getFullYear()+" 23:59:59";var _185=new Date(_183);var _186=new Date(_184);var _187=[];var _188=new Date(_185.getTime());_187.push(_188);while(_188<_186){if(_188.getSeconds()=="0"){_188=new Date(_188.getTime()+(3600*12-1)*1000);_187.push(_188);}else{_188=_188.getTime()+1000;_188=new Date(_188);_187.push(_188);}}var obj={};obj.category=[];if(info.categoryDepth==2){var obj2={};obj2.category=[];for(var i=0;i<_187.length;i+=4){var tobj={};tobj["start"]=_187[i];tobj["end"]=_187[i+3];tobj["label"]=$W._s.getFormattedDate(_187[i],"yyyy/MM/dd");obj2.category.push(tobj);}_155.categories.push(obj2);}var _18f=WebSquareLang.fwGanttChart_ampm.split(",");for(var i=0;i<_187.length;i+=2){var tobj={};tobj["start"]=_187[i];tobj["end"]=_187[i+1];if((_187[i+1].getHours()*1)>12){tobj["label"]=_18f[1];}else{tobj["label"]=_18f[0];}obj.category.push(tobj);}_155.categories.push(obj);}else{if(info.timeGap.toLowerCase()=="24"){var _183=(_17d.getMonth()+1)+"/"+_17d.getDate()+"/"+_17d.getFullYear()+" 00:00:00";var _184=(_17e.getMonth()+1)+"/"+_17e.getDate()+"/"+_17e.getFullYear()+" 23:59:59";var _185=new Date(_183);var _186=new Date(_184);var _187=[];var _188=new Date(_185.getTime());_187.push(_188);while(_188<_186){if(_188.getSeconds()=="0"){_188=new Date(_188.getTime()+(3600*24-1)*1000);_187.push(_188);}else{_188=_188.getTime()+1000;_188=new Date(_188);_187.push(_188);}}if(info.categoryDepth==2){var obj2={};obj2.category=[];var _181=this._getMonthOfFirstDay(_17d);var _182=this._getMonthOfLastDay(_17e);var _183=_17d.getFullYear()+"/"+(_17d.getMonth()+1)+"/"+_181;var _184=_17e.getFullYear()+"/"+(_17e.getMonth()+1)+"/"+_182;var _185=new Date(_183);var _186=new Date(_184);var _190=[];var _188=new Date(_185.getTime());_190.push(new Date(_185.getTime()));while(_188.getTime()<_186.getTime()){_190.push(new Date(_188.setDate(this._getMonthOfLastDay(_188))));_188=new Date(_188.setDate(this._getMonthOfFirstDay(_188)));_188=new Date(_188.setMonth((_188.getMonth()+1)>12?0:(_188.getMonth()+1)));_190.push(_188);}for(var i=0;i<_190.length;i=i+2){var tobj={};tobj["start"]=$W._s.getFormattedDate(_190[i],info.dateformat);tobj["end"]=$W._s.getFormattedDate(_190[i+1],info.dateformat);tobj["label"]=_156[_190[i].getMonth()];if(tobj.start&&tobj.end){obj2.category.push(tobj);}}_155.categories.push(obj2);}var obj={};obj.category=[];for(var i=0;i<_187.length;i+=2){var tobj={};tobj["start"]=_187[i];tobj["end"]=_187[i+1];tobj["label"]=info.categoryDepth==2?$W._s.getFormattedDate(_187[i],"dd")+WebSquareLang.fwGanttChart_dateSuffix:$W._s.getFormattedDate(_187[i],"yyyy/MM/dd");obj.category.push(tobj);}_155.chart.outputdateformat="dd/mm/yyyy hh:mn:ss ampm";_155.categories.push(obj);}}}}}}return _155;}catch(e){$W.exception.printStackTrace(e);}};$W._j.dataController.prototype.getRealtimeData=function(_191,_192,_193,_194){var _195={};var _196=this.getAllArray();if(!_191){_191=_196.columnInfo[0];}if(!_192){_192=_196.columnInfo[1];}if(!_193){var _197=new Array();for(var i=0;i<_196.columnInfo.length;i++){if(this.getCellInfo(i).options.dataType=="number"){_197.push(_196.columnInfo[i]);}}_193=_197[0];}this._multiSerises=function(){_195={};_195.categories=[{category:[]}];_195.dataset=[];var _199=_194.plotColor.split(",");var _19a=this.getColumnDistinctDataArray(_192,{sort:false});for(var i=0;i<_19a.length;i++){var _19c=this._getfwRealtimeChartSeriesDate(_19a[i]);_19c["color"]=_199[i];_195["dataset"].push(_19c);}return _195;};this._getfwRealtimeChartSeriesDate=function(_19d){var obj={};obj["seriesname"]=_19d;return obj;};return this._multiSerises();};$W._j.dataController.prototype.getFusionChartSimpleData=function(_19f,_1a0,_1a1,_1a2){["WebSquare.DataCollection.dataController.prototype.getFusionChartSimpleData"];try{var _1a3={};var _1a4=this.getAllArray();if(!_1a0){_1a0=_1a4.columnInfo[0];}if(!_1a1){_1a1=_1a4.columnInfo[1];}if(!_1a2){var _1a5=new Array();for(var i=0;i<_1a4.columnInfo.length;i++){if(this.getCellInfo(i).options.dataType=="number"){_1a5.push(_1a4.columnInfo[i]);}}_1a2=_1a5[0];}this._singleSerises=function(){var obj=[];var data=this.getAllJSON();for(var i=0;i<data.length;i++){var _1aa={"label":data[i][_1a0],"value":data[i][_1a2]};obj.push(_1aa);}_1a3.data=obj;return _1a3;};this._multiSerises=function(){_1a3=this._getFusionChartCategory();_1a3.dataset=[];var _1ab=this.getColumnDistinctDataArray(_1a1,{sort:false});for(var i=0;i<_1ab.length;i++){var _1ad=this._getFusionChartSeriesDate(_1ab[i]);_1a3["dataset"].push(_1ad);}return _1a3;};this._combiSerises=function(){return false;};this._msStacked=function(){return false;};this._msStackedColumn2DLineDY=function(){return false;};this._scatter=function(){return false;};this._zoomLine=function(){if(this.getRowCount()==1){return false;}else{return this._multiSerises();}};this._getFusionChartCategory=function(){var obj=[];var _1af=this.getColumnDistinctDataArray(_1a0,{sort:false});for(var i=0;i<_1af.length;i++){var _1b1={"label":_1af[i]};obj.push(_1b1);}return {"categories":[{"category":obj}]};};this._getFusionChartSeriesDate=function(_1b2){var obj={};obj.data=[];obj["seriesname"]=_1b2;var _1b4=this.getColumnDistinctDataArray(_1a0,{sort:false});var _1b5=this.getRowCount();var _1b6=this.getMatchedIndex(_1a1,_1b2,true,0,_1b5);for(var i=0;i<_1b4.length;i++){var obj2={"value":0};for(var j=0;j<_1b6.length;j++){if(_1b4[i]==this.getCellData(_1b6[j],_1a0)){obj2={"value":this.getCellData(_1b6[j],_1a2)};}}obj["data"].push(obj2);}return obj;};switch(_19f.toLowerCase()){case "column2d":return this._singleSerises();break;case "column3d":return this._singleSerises();break;case "bar2d":return this._singleSerises();break;case "bar3d":return this._singleSerises();break;case "pie2d":return this._singleSerises();break;case "pie3d":return this._singleSerises();break;case "doughnut2d":return this._singleSerises();break;case "doughnut3d":return this._singleSerises();break;case "pareto2d":return this._singleSerises();break;case "pareto3d":return this._singleSerises();break;case "line":return this._singleSerises();break;case "area2d":return this._singleSerises();break;case "ssgrid":return this._singleSerises();break;case "funnel":return this._singleSerises();break;case "pyramid":return this._singleSerises();break;case "sparkline":return this._singleSerises();break;case "sparkcolumn":return this._singleSerises();break;case "sparkwinloss":return this._singleSerises();break;case "mscolumn2d":return this._multiSerises();break;case "mscolumn3d":return this._multiSerises();break;case "msline":return this._multiSerises();break;case "msarea":return this._multiSerises();break;case "msbar2d":return this._multiSerises();break;case "msbar3d":return this._multiSerises();break;case "marimekko":return this._multiSerises();break;case "stackedcolumn2d":return this._multiSerises();break;case "stackedcolumn3d":return this._multiSerises();break;case "stackedarea2d":return this._multiSerises();break;case "stackedbar2d":return this._multiSerises();break;case "stackedbar3d":return this._multiSerises();break;case "mscombi3d":return this._combiSerises();break;case "mscombi2d":return this._combiSerises();break;case "mscolumnline3d":return this._combiSerises();break;case "stackedcolumn2dline":return this._combiSerises();break;case "stackedcolumn3dline":return this._combiSerises();break;case "mscombidy2d":return this._combiSerises();break;case "mscolumn3dlinedy":return this._combiSerises();break;case "stackedcolumn3dlinedy":return this._combiSerises();break;case "scrollcolumn2d":return this._multiSerises();break;case "scrollline2d":return this._multiSerises();break;case "scrollArea2d":return this._multiSerises();break;case "scrollstackedcolumn2d":return this._multiSerises();break;case "scrollcombi2d":return this._combiSerises();break;case "scrollcombidy2d":return this._combiSerises();break;case "scatter":return this._scatter();break;case "bubble":return this._scatter();break;case "zoomline":return this._zoomLine();break;case "msstackedcolumn2d":return this._msStacked();break;case "msstackedcolumn2dlinedy":return this._msStackedColumn2DLineDY();break;}}catch(e){$W.exception.printStackTrace(e);}};$W._j.dataController.prototype.getRowArray=function(_1ba){["WebSquare.DataCollection.dataController.prototype.getRowArray"];try{var _1bb={};_1bb["columnInfo"]=this.cellIdList;_1bb["data"]=this.getRowData(_1ba);return _1bb;}catch(e){$W.exception.printStackTrace(e);}};$W._j.dataController.prototype.getAllArray=function(_1bc){["WebSquare.DataCollection.dataController.prototype.getAllArray"];try{var _1bd={};if(typeof _1bc==="undefined"||_1bc==null){_1bc={};}if(typeof _1bc.includeColumns==="object"&&_1bc.includeColumns!=null&&_1bc.includeColumns.constructor===Array){_1bd["columnInfo"]=_1bc.includeColumns;}else{_1bd["columnInfo"]=this.cellIdList;}_1bd["data"]=this.getAllData(_1bc);return _1bd;}catch(e){$W.exception.printStackTrace(e);}};$W._j.dataController.prototype.getRangeArray=function(from,to,_1c0){["WebSquare.DataCollection.dataController.prototype.getRangeArray"];try{var _1c1={};_1c1["columnInfo"]=this.cellIdList;_1c1["data"]=this.getRangeData(from,to,_1c0);return _1c1;}catch(e){$W.exception.printStackTrace(e);}};$W._j.dataController.prototype.getMatchedArray=function(_1c2,_1c3,_1c4,_1c5,_1c6,_1c7){["WebSquare.DataCollection.dataController.prototype.getMatchedArray"];try{if(typeof _1c7==="undefined"||_1c7==null){_1c7={};}var _1c8={};if(typeof _1c7.includeColumns==="object"&&_1c7.includeColumns!=null&&_1c7.includeColumns.constructor===Array){_1c8["columnInfo"]=_1c7.includeColumns;}else{_1c8["columnInfo"]=this.cellIdList;}var _1c9=this.getMatchedIndex(_1c2,_1c3,_1c4,_1c5,_1c6);var _1ca=[];for(var i=0;i<_1c9.length;i++){_1ca=_1ca.concat(this.getRowData(_1c9[i],_1c7));}_1c8["data"]=_1ca;return _1c8;}catch(e){$W.exception.printStackTrace(e);}};$W._j.dataController.prototype.getUnmatchedArray=function(_1cc,_1cd,_1ce,_1cf,_1d0,_1d1){["WebSquare.DataCollection.dataController.prototype.getUnmatchedArray"];try{if(typeof _1d1==="undefined"||_1d1==null){_1d1={};}var _1d2={};if(typeof _1d1.includeColumns==="object"&&_1d1.includeColumns!=null&&_1d1.includeColumns.constructor===Array){_1d2["columnInfo"]=_1d1.includeColumns;}else{_1d2["columnInfo"]=this.cellIdList;}var _1d3=this.getUnmatchedIndex(_1cc,_1cd,_1ce,_1cf,_1d0);var _1d4=[];for(var i=0;i<_1d3.length;i++){_1d4=_1d4.concat(this.getRowData(_1d3[i],_1d1));}_1d2["data"]=_1d4;return _1d2;}catch(e){$W.exception.printStackTrace(e);}};$W._j.dataController.prototype.setCellData=function(_1d6,_1d7,data,_1d9,_1da){["WebSquare.DataCollection.dataController.prototype.setCellData"];try{this._setCellData.call(this,_1d6,_1d7,data,_1d9,_1da);}catch(e){$W.exception.printStackTrace(e);}};$W._j.dataController.prototype._setCellData=function(_1db,_1dc,_1dd,_1de,_1df,_1e0,_1e1){["WebSquare.DataCollection.dataController.prototype._setCellData"];try{if(typeof _1db=="object"&&_1db!=null){_1dc=_1db.colID;_1dd=_1db.value;_1de=_1db.direction;_1df=_1db.skipBroadCast;_1e0=_1db.noEvent;var _1e2=_1db.filteredRowIndex;_1db=null;_1db=_1e2;}if(_1df!==false){_1df=_1df||_1e0||$W._j["stopBroadCast"];}if(_1dd===null||_1dd===undefined){_1dd="";}this.broadcast({"gridView":["notifyBeforeSettedCellData"]});_1dc=this.getColumnID(_1dc);var _1e3=this.getColumnIndex(_1dc);var _1e4=this.getTotalRow();var _1e5=this.getTotalCol();var _1e6=(this.options.depthColumn)?_1db:this.filteredRowIndexArr[_1db];var _1e7=this.cellIdList.length;if(_1db>=0&&_1e6<_1e4&&_1e3>=0&&_1e3<_1e5){var _1e8=this.cellInfoHash[_1dc];var _1e9=_1e8.options.inputType||"text";var _1ea="";if(_1e8){if(_1e8.options.inputType=="expression"){_1ea=_1e8.getExpressionValue(_1e6);}else{_1ea=this.dataArr[_1e6*_1e7+_1e3];if(_1ea==null){_1ea="";}}}if(_1e8.options.dataType=="bigDecimal"&&typeof _1dd=="string"){if(_1e8.options.keepEmptyString&&_1dd===""){_1dd="";}else{_1dd=$W._b(_1dd).toString();}}else{if(_1e8.options.dataType=="bigDecimal"){$l("If dataType is bigDecimal, value must be entered to String."+"["+this.id+"]");_1dd=$W._b(_1dd).toString();}else{if(this.options.keepDataType&&_1e8.options.dataType=="number"&&(!isNaN(parseFloat(_1dd))&&isFinite(_1dd))){_1dd=Number(_1dd);}}}var _1eb=_1dd.toString().replace(/\r(\n)?/,"\n");var _1ec=_1ea.toString().replace(/\r(\n)?/,"\n");if(_1eb!==_1ec){if(this.initializeType=="dataList"&&!_1e0){var _1ed=$W._c.fireEvent(this,"onbeforecelldatachange",{"rowIndex":_1db,"colID":_1dc,"oldValue":_1ea,"newValue":_1dd});if(_1ed===false){this.broadcast({"gridView":["notifyCellChanged",[_1db,_1dc]],"fusionchart":["refresh"],"fwFunnelChart":["refresh"],"fwSparkChart":["refresh"],"fwPyramidChart":["refresh"],"fwGanttChart":["refresh"],"treeview":["notifyInvalid"],"generalComp":["rollback"]});return;}}this.dataArr[_1e6*_1e7+_1e3]=_1dd;if(!_1e8.options.ignoreStatus){var _1ee=false;var _1ef=this.originalDataArr[_1e6*_1e7+_1e3];if($W._G.isNull(_1ef)){_1ef="";}if(_1ef===_1dd){var _1f0=[];for(var t=0;t<_1e7;t++){if(this.ignoreStatusColArr[t]===true){continue;}_1f0.push(this.originalDataArr[_1e6*_1e7+t]);}var _1f2=[];for(var t=0;t<_1e7;t++){if(this.ignoreStatusColArr[t]===true){continue;}var _1f3="";if(_1e8.options.inputType=="expression"){_1f3=_1e8.getExpressionValue(_1e6);}else{_1f3=this.dataArr[_1e6*_1e7+t];if(_1f3==null){_1f3="";}}_1f2.push(_1f3);}var _1f4=false;for(var i=0;i<_1f0.length;i++){if(_1f0[i]!=_1f2[i]){_1f4=true;break;}}if(!_1f4){_1ee=true;}}if(_1ee){if(this.rowStatusArr[_1e6]=="U"){this.modifyRowStatus(_1db,"R");}}else{this._updateRowStatus(_1e6);}}if(this.initializeType=="dataList"){this.fireOnModelChangeEvent({"type":"cell","rowIndex":_1db,"colID":_1dc,"oldValue":_1ea,"newValue":_1dd});if(!_1e0){$W._c.fireEvent(this,"oncelldatachange",{"rowIndex":_1db,"colID":_1dc,"oldValue":_1ea,"newValue":_1dd});}}if(!_1df){var _1f6=this.getFilteredRowIndex(_1e6);if(_1f6==undefined){_1f6=_1db;}this.broadcast({"colID":_1dc,"gridView":["notifySettedCellData",[_1f6,_1dc,_1dd]],"linkedDataList":["notifyCellChanged",[_1e6,_1dc,_1dd]],"fusionChart":["refresh"],"fwFunnelChart":["refresh"],"fwSparkChart":["refresh"],"fwPyramidChart":["refresh"],"fwGanttChart":["refresh"],"pivot":["refreshItemset",[{type:"cell",refresh:true,rowIndex:_1e6,colID:_1dc,newValue:_1dd,oldValue:_1ea}]],"treeview":["notifySetCellData",[_1f6,_1dc,_1dd,_1ea]],"generalComp":"both","excludeId":_1e1});}}}}catch(e){$W.exception.printStackTrace(e);}};$W._j.dataController.prototype._setData=function(_1f7,_1f8,_1f9){["WebSquare.DataCollection.dataController.prototype._setData"];try{var _1f8=this.getColumnIndex(_1f8);this.dataArr[_1f7*this.getColumnCount()+_1f8]=_1f9;}catch(e){$W.exception.printStackTrace(e);}};$W._j.dataController.prototype.setOriginalCellData=function(_1fa,_1fb,_1fc){["WebSquare.DataCollection.dataController.prototype.setOriginalCellData"];try{var _1fd=this.getColumnIndex(_1fb);var _1fe=(this.options.depthColumn)?_1fa:this.getRealRowIndex(_1fa);this._setOriginalCellData.call(this,_1fe,_1fd,_1fc);}catch(e){$W.exception.printStackTrace(e);}};$W._j.dataController.prototype._setOriginalCellData=function(_1ff,_200,data){["WebSquare.DataCollection.dataController.prototype._setOriginalCellData"];try{var _202=this.getColumnIndex(_200);if(data===null||data===undefined){data="";}var _203=this.getTotalRow();var _204=this.getTotalCol();var _205="";if(_1ff>=0&&_1ff<_203&&_202>=0&&_202<_204){_205=this.getOriginalCellData(_1ff,_202);}if(_1ff>=0&&_1ff<_203&&_202>=0&&_202<_204){var _206=data.toString().replace(/\r(\n)?/,"\n");var _207=_205.toString().replace(/\r(\n)?/,"\n");if(_206!==_207){var _208=this.cellInfoHash[this.cellIdList[_202]];this.originalDataArr[_1ff*this.getColumnCount()+_202]=data;}}}catch(e){$W.exception.printStackTrace(e);}};$W._j.dataController.prototype.setColumnDefaultValue=function(_209,_20a){["WebSquare.dataController.grid.prototype.setColumnDefaultValue"];try{var _20b=this.getColumnIndex(_209);var _20c=this.getCellInfo(_20b);_20c.options.defaultValue=_20a;this.broadcast({"linkedDataList":["notifyDataChanged"],"gridView":["notifySetColumnDefaultValue",[_20b,_20a]],"generalComp":"both"});}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataController.prototype.setRowData=function(_20d,_20e,_20f,_210,_211){["WebSquare.DataCollection.dataController.prototype.setRowData"];try{if(_20e==null){$l("data is null");return;}this.broadcast({"treeview":["notifyBeforeSetRowData",[_20d,_20f]]});if(!_20f){_20d=this.insertRow(_20d);}var _212=this.getColumnCount();var _213=false;var _214={};if(typeof _210==="object"&&_210!=null&&_210.constructor===Array){_213=true;for(var t=0;t<_210.length;t++){_214[_210[t]]=true;}}for(var col=0;col<_212;col++){var _217=this.cellIdList[col];var _218=this.cellInfoHash[_217];if(_213&&!_214[colID]){if(this.initializeType==="dataMap"&&!_211){this._setCellData({filteredRowIndex:_20d,colID:colID,value:_218.options.defaultValue,noEvent:true});}continue;}var _219=_20e[col];if(_219==null){_219=_218.options.defaultValue;}this._setCellData({filteredRowIndex:_20d,colID:col,value:_219,noEvent:true});}var _21a=this.filteredRowIndexArr[_20d];this.broadcast({"gridView":["notifyRowModified",[_20d]],"linkedDataList":["notifyRowChanged",[_21a]],"fusionChart":["refresh"],"fwFunnelChart":["refresh"],"fwSparkChart":["refresh"],"fwPyramidChart":["refresh"],"fwGanttChart":["refresh"],"treeview":["notifySetRowData",[_20d]],"generalComp":"both"});}catch(e){$W.exception.printStackTrace(e);}};$W._j.dataController.prototype.setOriginalDataArr=function(_21b){["WebSquare.dataController.grid.prototype.setOriginalDataArr"];try{this.originalDataArr=_21b;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataController.prototype.setDataFile=function(arr,_21d,_21e,_21f,type){["WebSquare.DataCollection.dataController.prototype.setDataFile"];try{if(type==undefined){type=1;}if(typeof arr=="string"){arr=this.toArray(arr);}var _221=0;var _222=[];for(var i=0;i<_21e.length;i++){var _224=$W._N.getComponentById(_21f).getCellInfo(_21e[i]);if(_224.options.inputType=="expression"){_222.push(i);}}_221=arr.length/_21e.length;for(var i=0;i<_222.length;i++){for(var j=0;j<_221;j++){var _226=j*_21e.length+parseInt(_222[i],10);arr[_226]="";}}for(var i=0;i<_21e.length;i++){var _224=$W._N.getComponentById(_21f).getCellInfo(_21e[i]);var _227=_224.id;var _228=_224.options.dataType;if(_224.itemsetObj&&_224.itemsetObj.nodeset!=""&&_224.itemsetObj.nodeset.wq_replaceAll(" ","").indexOf("data:")>=0&&(typeof _224.itemArr=="undefined"||_224.itemArr)){_224.itemArr=[];var _229=_224.itemsetObj.nodeset.replace("data:","");var _22a=$W._j["comp"][_229];if(_22a&&$W.idCache[_22a.uuid]){switch(_22a.initializeType){case "linkedDataList":case "dataList":var _22b=[];var _22c={};for(var k=0;k<_22a.getDataLength();k++){var _22e=_22a.getCellData(k,_224.itemsetObj.label);var _22f=_22a.getCellData(k,_224.itemsetObj.value);if(_22c[_22e]==_22f){continue;}_22c[_22e]=_22f;_22b.push({label:_22e,value:_22f});}_224.itemArr=_22b;break;case "dataMap":var _22b=[];var _22c={};for(var k=0;k<_22a.getCount();k++){var _22e=_22a.get(_224.itemsetObj.label);var _22f=_22a.get(_224.itemsetObj.value);if(_22c[_22e]==_22f){continue;}_22c[_22e]=_22f;_22b.push({label:_22e,value:_22f});}_224.itemArr=_22b;break;}}}if(_224.options.inputType=="select"){var _230=[];for(var j=0;j<_224.itemArr.length;j++){var _231=_224.itemArr[j];if(type!=2){_230[_231.label]=_231.value;}else{_230[_231.value]=_231.value;}}for(var j=0;j<_221;j++){var _226=j*_21e.length+i;arr[_226]=_230[arr[_226]];}}else{if(_224.options.inputType=="checkcombobox"){var _230=[];for(var j=0;j<_224.itemArr.length;j++){var _231=_224.itemArr[j];_230[_231.label]=_231.value;}for(var j=0;j<_221;j++){var _226=j*_21e.length+i;var _232=[];var _233=arr[_226].split(_224.separator);for(var k=0;k<_233.length;k++){_232.push(_230[_233[k]]);}arr[_226]=_232.join(_224.separator);}}else{if(_224.options.inputType=="autoComplete"){var _230=[];for(var j=0;j<_224.itemArr.length;j++){var _231=_224.itemArr[j];_230[_231.label]=_231.value;}for(var j=0;j<_221;j++){var _226=j*_21e.length+i;arr[_226]=_230[arr[_226]];}}}}if(_224.options.displayFormat!=""){for(var j=0;j<_221;j++){var _226=j*_21e.length+i;var _234=arr[_226];var _235=_224.options.displayFormat;if(_228=="number"||_228=="bigDecimal"){retVal=$W._A.unformatCurrency(_235,_234);}else{if(_228=="date"){retVal=$W._A.unformatDate(_235,_234);}else{if(_228=="time"){retVal=$W._A.unformatTime(_235,_234);}else{retVal=$W._A.unformatText(_235,_234);}}}arr[_226]=retVal;}}}this.setData(arr,_21d,_21e);}catch(e){$W.exception.printStackTrace(e);}};$W._j.dataController.prototype.setData=function(arr,_237,_238){["WebSquare.DataCollection.dataController.prototype.setData"];try{if(typeof arr=="string"){arr=this.toArray(arr);}if(_238){if(!(_238 instanceof Array)&&(typeof _238=="string")){_238=this.toArray(_238);}if(!$W._G.isInteger(arr.length/_238.length)){$W.logger.printLog("[WebSquare.DataCollection.dataController.setData] Inconsistent array. Array length["+arr.length+"] is not a multiple of column length["+_238.length+"].["+this.id+"]");return;}arr=this.getMappingData(arr,_238,_237);}if(!$W._G.isInteger(arr.length/this.oneRowDataLength)){$W.logger.printLog("[WebSquare.DataCollection.dataController.setData] Inconsistent array. Array length["+arr.length+"] is not a multiple of column length["+this.oneRowDataLength+"].["+this.id+"]");return;}this.setGridData(arr,_237);this.broadcast({"gridView":["notifySettedData",[_237]]});}catch(e){$W.exception.printStackTrace(e);}};$W._j.dataController.prototype.setGridData=function(arr,_23a){["WebSquare.DataCollection.dataController.prototype.setGridData"];try{this.filterManager.clear();this.filteredRowIndexArr=[];var len=this.getTotalRow();for(var i=0;i<len;i++){this.filteredRowIndexArr.push(i);}this.broadcast({"gridView":["clearHeaderSort"]});var _23d=arr.length/this.oneRowDataLength;if(this.options.keepDataType){var _23e=this.getTotalCol();for(var i=0;i<_23e;i++){var _23f=this.getCellInfo(i);if(_23f.options.dataType=="number"){for(var j=0;j<_23d;j++){var _241=arr[j*this.oneRowDataLength+i];if(!isNaN(parseFloat(_241))&&isFinite(_241)){arr[j*this.oneRowDataLength+i]=Number(_241);}}}}}_23a=_23a||false;var _242=this.getTotalRow();if(_23a){this.dataArr=this.dataArr.concat(arr);this.originalDataArr=this.originalDataArr.concat(arr);}else{_242=0;this.dataArr=arr;this.filteredRowIndexArr=[];this.originalDataArr=[];this.originalDataArr=this.dataArr.slice(0);if(this.initializeType=="dataList"){this.removeManager.removeAll();}}for(var i=0;i<_23d;i++){this.filteredRowIndexArr.push(i+_242);}this.initRowStatus(_242);if(!(this.options.keepRowPosition&&_23a)||!this.options.keepRowPosition){this.rowPosition=null;}this.broadcast({"linkedDataList":["notifyDataChanged"],"gridView":["notifySettedGridData",[arr,_23a,_242]],"fusionChart":["refresh"],"fwFunnelChart":["refresh"],"fwSparkChart":["refresh"],"fwRealtimeChart":["refresh"],"fwPyramidChart":["refresh"],"fwGanttChart":["refresh"],"pivot":["refreshItemset",[{type:"render",refresh:true}]],"generalComp":"both"});$W._c.fireEvent(this,"ondataload");}catch(e){$W.exception.printStackTrace(e);}};$W._j.dataController.prototype.insertData=function(_243,_244){["WebSquare.DataCollection.dataController.prototype.insertData"];try{return this._insertData(_243,_244);}catch(e){$W.exception.printStackTrace(e);}};$W._j.dataController.prototype._insertData=function(_245,_246,_247){["WebSquare.DataCollection.dataController.prototype.insertData"];try{if(_246==null){$l("data is null");return;}var _248=this.getColumnCount();var _249=_246.length/this.getColumnCount();if(_246){if(!(_246 instanceof Array)){return;}if(!$W._G.isInteger(_249)){$W.logger.printLog("[WebSquare.DataCollection.dataController.getMappingData] Inconsistent array. Array length["+_246.length+"] is not a multiple of column length["+_248+"].["+this.id+"]");return;}}var _24a={};var _24b=[];var _24c=_249;var end=0;var d=1;if(_247<0){_24c=1;end=_249+1;d=-1;}var _24f=this.filteredRowIndexArr[_245];for(var row=_24c;row*d>end*d;row-=d){var _251=_245+row-1;_24a[_251]=[];_24b.push(_251);this.insertRow(_245,{noEvent:true});for(var col=0;col<_248;col++){var _253=_246[_248*(row-1)+col];this._setCellData({filteredRowIndex:_245,colID:col,value:_253,noEvent:true});_24a[_251].push(_253);}}this.broadcast({"gridView":["notifyDataChanged"],"linkedDataList":["notifyRowInserted",[_24f,_24b]],"fusionChart":["refresh"],"fwFunnelChart":["refresh"],"fwSparkChart":["refresh"],"fwPyramidChart":["refresh"],"fwGanttChart":["refresh"],"generalComp":"both"});$W._c.fireEvent(this,"oninsertrow",{"insertedDataObj":_24a});}catch(e){$W.exception.printStackTrace(e);}};$W._j.dataController.prototype.setRowXML=function(_254,_255,_256,_257,_258){["WebSquare.DataCollection.dataController.prototype.setRowXML"];try{if(_255==null){$l("data is null");return;}this.broadcast({"treeview":["notifyBeforeSetRowData",[_254,_256]]});if(!_256){_254=this.insertRow(_254);}var _259;if(typeof _255.documentElement=="undefined"){_259=_255;}else{_259=_255.documentElement;}var _25a=[];var obfuscator_rowDataObj={};var _25b=this.getColumnCount();var _25c=false;var _25d={};if(typeof _257==="object"&&_257!=null&&_257.constructor===Array){_25c=true;for(var t=0;t<_257.length;t++){_25d[_257[t]]=true;}}for(var col=0;col<_25b;col++){var _260=this.cellIdList[col];var _261=null;var _262=this.cellInfoHash[_260];var node=null;if(_25c&&!_25d[colID]){if(this.initializeType==="dataMap"&&!_258){this._setCellData({filteredRowIndex:_254,colID:colID,value:_262.options.defaultValue,noEvent:true});}continue;}if(_262.options.importFormatter){_25a.push(_260);continue;}else{if((node=_259.selectSingleNode(_260))!=null){if(this.options.valueNode==""||this.allowTextNode){if(this.allowTextNode){var temp=$W._B.getCDataNodeValue(node);_261=temp==null?this.getTextNodeValue(node):temp;}else{_261=this.getTextNodeValue(node);}if(!_261&&this.allowTextNode){if(this.options.valueNode==""){_261=null;}else{_261=node.getAttribute(this.options.valueNode);}}}else{_261=node.getAttribute(this.options.valueNode);}}else{if((node=$W._B.getElementsByTagName(_259,_260)[0])!=null){if(this.options.valueNode==""||this.allowTextNode){if(this.allowTextNode){var temp=$W._B.getCDataNodeValue(node);_261=temp==null?this.getTextNodeValue(node):temp;}else{_261=this.getTextNodeValue(node);}if(!_261&&this.allowTextNode){if(this.options.valueNode==""){_261=null;}else{_261=node?node.getAttribute(this.options.valueNode):null;}}}else{_261=node?node.getAttribute(this.options.valueNode):null;}}}}if(_261==null){_261=_262.options.defaultValue;}this._setCellData({filteredRowIndex:_254,colID:col,value:_261,noEvent:true});obfuscator_rowDataObj[_260]=_261;}for(var i=0;i<_25a.length;i++){var _262=this.cellInfoHash[_25a[i]];try{var obfuscator_rowIndex=_254;var _266=$W._G.getGlobalFunction(_262.options.importFormatter,this.scope_id);_261=_266.call(this,obfuscator_rowDataObj,obfuscator_rowIndex,_25a[i]);}catch(e){_261=_262.options.defaultValue;$W.exception.printStackTrace(e,null,this);}this._setCellData({filteredRowIndex:_254,colID:_25a[i],value:_261,noEvent:true});}var _267=this.filteredRowIndexArr[_254];this.broadcast({"gridView":["notifyRowModified",[_254]],"linkedDataList":["notifyRowChanged",[_267]],"fusionChart":["refresh"],"fwFunnelChart":["refresh"],"fwSparkChart":["refresh"],"fwPyramidChart":["refresh"],"fwGanttChart":["refresh"],"treeview":["notifySetRowData",[_254]],"generalComp":"both"});}catch(e){$W.exception.printStackTrace(e);}};$W._j.dataController.prototype.setXML=function(_268,_269,_26a){["WebSquare.DataCollection.dataController.prototype.setXML"];try{if(_268==null){$W.logger.printLog("[WebSquare.DataCollection.dataController.setXML] XML is null["+this.id+"]");return;}var _26b=this.xmlData2ArrData(_268,_26a);if(typeof _26b=="undefined"){$W.logger.printLog("[WebSquare.DataCollection.dataController.setXML] DataArray which converted from XML is undefined.["+this.id+"]");return;}this.setData(_26b,_269);}catch(e){$W.exception.printStackTrace(e);}};$W._j.dataController.prototype.insertXML=function(_26c,_26d){["WebSquare.DataCollection.dataController.prototype.insertXML"];try{if(_26d==null){$l("data is null");return;}var _26e;if(typeof _26d.documentElement=="undefined"){_26e=_26d;}else{_26e=_26d.documentElement;}var _26f=this.xmlData2ArrData(_26e);this.insertData(_26c,_26f);}catch(e){$W.exception.printStackTrace(e);}};$W._j.dataController.prototype.setJSON=function(_270,_271,_272){["WebSquare.DataCollection.dataController.prototype.setJSON"];try{if(_270==null){$W.logger.printLog("[WebSquare.DataCollection.dataController.setJSON] data is null["+this.id+"]");return;}if(this.options.customUnformatter!=undefined){var _273=$W._G.getGlobalFunction(this.options.customUnformatter);if(_273!=null){_270=_273(this,_270);}}var _274=this.jsonData2ArrData(_270,_272);if(typeof _274=="undefined"){$W.logger.printLog("[WebSquare.DataCollection.dataController.setJSON] DataArray which converted from JSON is undefined.["+this.id+"]");return;}this.setData(_274,_271);}catch(e){$W.exception.printStackTrace(e);}};$W._j.dataController.prototype.setRowJSON=function(_275,_276,_277,_278,_279){["WebSquare.DataCollection.dataController.prototype.setRowJSON"];try{if(_276==null){$l("data is null");return;}this.broadcast({"treeview":["notifyBeforeSetRowData",[_275,_277]]});if(!_277){_275=this.insertRow(_275);}var _27a=this.getColumnCount();var obfuscator_rowData=_276;var _27b=false;var _27c={};if(typeof _278==="object"&&_278!=null&&_278.constructor===Array){_27b=true;for(var t=0;t<_278.length;t++){_27c[_278[t]]=true;}}for(var _27e in _276){if(_27b&&!_27c[_27e]){if(this.initializeType==="dataMap"&&!_279){var _27f=this.getCellInfo(_27e);this._setCellData({filteredRowIndex:_275,colID:_27e,value:_27f.options.defaultValue,noEvent:true});}continue;}var _27f=this.getCellInfo(_27e);var _280=null;if(_27f.options.importFormatter){try{var obfuscator_columnIndex=this.getColumnIndex(_27e);var _281=$W._G.getGlobalFunction(_27f.options.importFormatter,this.scope_id);if(typeof _281==="function"){_280=_281.call(this,obfuscator_rowData,obfuscator_columnIndex,_27e);}}catch(e){_280=_27f.options.defaultValue;$W.exception.printStackTrace(e,null,this);}}else{_280=_276[_27e];}if(_280==null){_280=_27f.options.defaultValue;}this._setCellData({filteredRowIndex:_275,colID:_27e,value:_280,noEvent:true});}var _282=this.filteredRowIndexArr[_275];this.broadcast({"gridView":["notifyRowModified",[_275]],"linkedDataList":["notifyRowChanged",[_282]],"fusionChart":["refresh"],"fwFunnelChart":["refresh"],"fwSparkChart":["refresh"],"fwPyramidChart":["refresh"],"fwGanttChart":["refresh"],"treeview":["notifySetRowData",[_275]],"generalComp":"both"});}catch(e){$W.exception.printStackTrace(e);}};$W._j.dataController.prototype.insertJSON=function(_283,_284){["WebSquare.DataCollection.dataController.prototype.insertJSON"];try{if(_284==null){$W.logger.printLog("[WebSquare.DataCollection.dataController.insertJSON] data is null["+this.id+"]");return;}if(this.options.customUnformatter!=undefined){var _285=$W._G.getGlobalFunction(this.options.customUnformatter);if(_285!=null){_284=_285(this,_284);}}var _286=this.jsonData2ArrData(_284);if(typeof _286=="undefined"){$W.logger.printLog("[WebSquare.DataCollection.dataController.insertJSON] DataArray which converted from JSON is undefined.["+this.id+"]");return;}this.insertData(_283,_286);}catch(e){$W.exception.printStackTrace(e);}};$W._j.dataController.prototype.setArray=function(_287,_288,_289){["WebSquare.DataCollection.dataController.prototype.setArray"];try{if(_287==null){$W.logger.printLog("[WebSquare.DataCollection.dataController.setArray] data is null["+this.id+"]");return;}var _28a=_287.data;var _28b=[];if(typeof _289==="object"&&_289!=null&&_289.constructor===Array){_28b=_289;}else{_28b=_287.columnInfo;}if(typeof _28a=="undefined"){$W.logger.printLog("[WebSquare.DataCollection.dataController.setArray] DataArray which converted from jsonArray is undefined.["+this.id+"]");return;}this.setData(_28a,_288,_28b);}catch(e){$W.exception.printStackTrace(e);}};$W._j.dataController.prototype.setArrayFile=function(_28c,_28d,_28e,type){["WebSquare.DataCollection.dataController.prototype.setArrayFile"];try{if(type==undefined){type=1;}if(_28c==null){$W.logger.printLog("[WebSquare.DataCollection.dataController.setArrayFile] data is null["+this.id+"]");return;}var _290=_28c.data;var _291=_28c.columnInfo;if(typeof _290=="undefined"){$W.logger.printLog("[WebSquare.DataCollection.dataController.setArrayFile] DataArray which converted from jsonArray is undefined.["+this.id+"]");return;}this.setDataFile(_290,_28d,_291,_28e,type);}catch(e){$W.exception.printStackTrace(e);}};$W._j.dataController.prototype.setRowArray=function(_292,_293,_294){["WebSquare.DataCollection.dataController.prototype.setRowArray"];try{if(_293==null){$W.logger.printLog("[WebSquare.DataCollection.dataController.setRowArray] data is null["+this.id+"]");return;}var _295=[];_295=this.getMappingData(_293.data,_293.columnInfo);if(_295.length==0){$W.logger.printLog("[WebSquare.DataCollection.dataController.setRowArray] DataArray which converted from jsonArray is undefined.["+this.id+"]");return;}this.setRowData(_292,_295,_294);}catch(e){$W.exception.printStackTrace(e);}};$W._j.dataController.prototype.rowMoveUp=function(_296){["WebSquare.dataController.grid.prototype.rowMoveUp"];try{var _297=(this.options.depthColumn)?_296:this.getRealRowIndex(_296);if(_297>=this.getRowCount()){_297=this.getRowCount()-1;}if(_297<=0){return;}else{var _298=_297-1;var _299=_297;var len=this.oneRowDataLength;var temp;for(var i=0;i<len;i++){temp=this.dataArr[len*_298+i];this.dataArr[len*_298+i]=this.dataArr[len*_299+i];this.dataArr[len*_299+i]=temp;temp=this.originalDataArr[len*_298+i];this.originalDataArr[len*_298+i]=this.originalDataArr[len*_299+i];this.originalDataArr[len*_299+i]=temp;}var _29d=this.getRowStatus(_296-1);var _29e=this.getRowStatus(_296);this._setRowStatus(_298,_29e);this._setRowStatus(_299,_29d);var _297=this.filteredRowIndexArr[_296];this.broadcast({"linkedDataList":["notifyRowMoveUp",[_297]],"gridView":["notifyRowMoveUp",[_296]],"generalComp":"both"});}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataController.prototype.rowMoveDown=function(_29f){["WebSquare.dataController.grid.prototype.rowMoveDown"];try{var _2a0=(this.options.depthColumn)?_29f:this.getRealRowIndex(_29f);if(_2a0<0){_2a0=0;}if(_2a0>=this.getRowCount()-1){return;}else{var _2a1=_2a0+1;var _2a2=_2a0;var len=this.oneRowDataLength;var temp;for(var i=0;i<len;i++){temp=this.dataArr[len*_2a1+i];this.dataArr[len*_2a1+i]=this.dataArr[len*_2a2+i];this.dataArr[len*_2a2+i]=temp;temp=this.originalDataArr[len*_2a1+i];this.originalDataArr[len*_2a1+i]=this.originalDataArr[len*_2a2+i];this.originalDataArr[len*_2a2+i]=temp;}var _2a6=this.getRowStatus(_29f+1);var _2a7=this.getRowStatus(_29f);this._setRowStatus(_2a1,_2a7);this._setRowStatus(_2a2,_2a6);var _2a0=this.filteredRowIndexArr[_29f];this.broadcast({"linkedDataList":["notifyRowMoveDown",[_2a0]],"gridView":["notifyRowMoveDown",[_29f]],"generalComp":"both"});}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataController.prototype.insertRow=function(_2a8,_2a9){["WebSquare.DataCollection.dataController.prototype.insertRow"];try{_2a9=_2a9||{};var _2aa=this.getDataLength();var _2ab=this.getTotalRow();if(isNaN(parseInt(_2a8))){_2a8=_2aa;}var _2ac=_2a8;if(this.filterManager.useFilter()||_2ac>_2ab){_2ac=_2ab;}if(!this.options.depthColumn&&_2a8>this.getDataLength()){_2a8=this.getDataLength();}this.broadcast({"gridView":["notifyBeforeInsertedRow",[_2a8]]});var _2ad=this.getTotalCol();var _2ae=[_2ac*_2ad,0];var _2af=[];for(var i=0;i<_2ad;i++){var _2b1=this.getCellInfo(i);var _2b2=_2b1.options.defaultValue;_2ae.push(_2b2);_2af.push(_2b2);}[].splice.apply(this.dataArr,_2ae);[].splice.apply(this.originalDataArr,_2ae);this._createRowStatus(_2ac);var _2b3=this.filteredRowIndexArr.length;if(this.options.depthColumn){for(var i=0;i<this.filteredRowIndexArr.length;i++){if(this.filteredRowIndexArr[i]<=_2ac&&_2ac<this.filteredRowIndexArr[i+1]){_2b3=i;break;}else{if(_2ac==this.filteredRowIndexArr[i+1]){_2b3=i+1;break;}}}}else{_2b3=_2a8;}for(var i=0;i<this.filteredRowIndexArr.length;i++){if(this.filteredRowIndexArr[i]>=_2ac){this.filteredRowIndexArr[i]++;}}this.filteredRowIndexArr.splice(_2b3,0,_2ac);var _2ac=this.filteredRowIndexArr[_2a8];if(!_2a9.noEvent){this.broadcast({"linkedDataList":["notifyRowInserted",[_2ac]],"gridView":["notifyAfterInsertedRow",[_2b3]],"treeview":["notifyInsertRow",[_2b3]],"generalComp":"both"});var _2b4={};_2b4[_2b3]=_2af;$W._c.fireEvent(this,"oninsertrow",{"insertedDataObj":_2b4});}else{this.broadcast({"gridView":["notifyAfterInsertedRow",[_2b3,true]]});}return _2a8;}catch(e){$W.exception.printStackTrace(e);}};$W._j.dataController.prototype.removeRow=function(_2b5,_2b6){["WebSquare.DataCollection.dataController.prototype.removeRow"];try{_2b6=_2b6||{};if(_2b5==null){_2b5=this.getTotalRow()-1;}_2b5=parseInt(_2b5,10);var _2b7=(this.options.depthColumn)?_2b5:this.getRealRowIndex(_2b5);var _2b8=this.getTotalCol();if(_2b7==null||_2b7>=this.getTotalRow()){return;}if(this.options.depthColumn&&_2b6.removeChildren!==false&&this.hasChild(_2b7)){var _2b9=this.getRecursiveRowIndex(_2b7);_2b9.push(_2b7);_2b6.noEvent=true;_2b6.removeChildren=false;return this.removeRows(_2b9,_2b6);}this.broadcast({"gridView":["notifyBeforeRemovedRow",[_2b5]]});var _2ba=this.dataArr.splice(_2b7*_2b8,_2b8);var _2bb=this.removeRowStatus(_2b5);this.originalDataArr.splice(_2b7*_2b8,_2b8);var _2bc=this.getFilteredRowIndex(_2b7);if(_2bc>-1){this.filteredRowIndexArr.splice(_2bc,1);}for(var i=0;i<this.filteredRowIndexArr.length;i++){if(this.filteredRowIndexArr[i]>=_2b7){this.filteredRowIndexArr[i]--;}}if(this.initializeType=="dataList"&&(!this.options.removeDummyRowStatus||this.options.removeDummyRowStatus&&_2bb!="C")){this.saveRemovedRow(_2b7,_2ba);}var _2be=_2ba.slice(0);if(!_2b6.noEvent){this.broadcast({"linkedDataList":["notifyRowRemoved",[_2b7]],"gridView":["notifyAfterRemovedRow",[_2bc,null,_2b7]],"treeview":["notifyRemoveRow",[_2b5]],"generalComp":"both"});var _2bf={};_2bf[_2bc]=_2be;$W._c.fireEvent(this,"onremoverow",{"removedDataObj":_2bf});}else{this.broadcast({"gridView":["notifyAfterRemovedRow",[_2bc,true,_2b7]]});}return _2ba;}catch(e){$W.exception.printStackTrace(e);}};$W._j.dataController.prototype.removeRows=function(_2c0,_2c1){["WebSquare.DataCollection.dataController.prototype.removeRows"];try{_2c1=_2c1||{noEvent:true};var _2c2=this.getTotalCol();function compare(a,b){if(parseInt(a)<parseInt(b)){return 1;}return -1;}_2c0=_2c0.sort(compare);var _2c5=[];var _2c6={};for(var i=0;i<_2c0.length;i++){var _2c8=this.removeRow(_2c0[i],_2c1);_2c6[_2c0[i]]=_2c8.slice(0);_2c5.push(_2c8);}this.rowPosition=null;this.columnPosition=null;if(!_2c1.skipNotify){this.broadcast({"gridView":["notifyRowChanged"],"linkedDataList":["notifyRowRemoved"],"fusionChart":["refresh"],"fwFunnelChart":["refresh"],"fwSparkChart":["refresh"],"fwPyramidChart":["refresh"],"fwGanttChart":["refresh"],"generalComp":"both"});}$W._c.fireEvent(this,"onremoverow",{"removedDataObj":_2c6});return _2c5;}catch(e){$W.exception.printStackTrace(e);}};$W._j.dataController.prototype.removeAll=function(info){["WebSquare.DataCollection.dataController.prototype.removeAll"];try{if(info==undefined||info.skipSavingRemovedData!="true"){if(this.initializeType=="dataList"){this.removeManager.setData(this.getAllData(),true);}}if(!this.dataArr){return;}var _2ca=this.dataArr.slice(0);this.dataArr=[];this.originalDataArr=[];this.filteredRowIndexArr=[];this.initRowStatus(0);this.broadcast({"linkedDataList":["notifyRemoveAll"],"gridView":["notifyRemovedAll"],"generalComp":"both","pivot":["refreshItemset",[{type:"render",refresh:true}]]});var _2cb=false;if(this.userEventList){for(var i=this.userEventList.length-1;i>=0;i--){if(this.userEventList[i].name=="onremoverow"){_2cb=true;break;}}if(_2cb){var _2cd=_2ca.slice(0);var _2ce={};var _2cf=_2cd.length/this.oneRowDataLength;for(var i=0;i<_2cf;i++){_2ce[i]=_2cd.splice(0,this.oneRowDataLength);}$W._c.fireEvent(this,"onremoverow",{"removedDataObj":_2ce});}}return _2ca;}catch(e){$W.exception.printStackTrace(e);}};$W._j.dataController.prototype.removeRange=function(_2d0,_2d1){["WebSquare.DataCollection.dataController.prototype.removeRange"];try{var _2d2=[];for(var row=_2d1;row>=_2d0;row--){_2d2.push(row);}return this.removeRows(_2d2);}catch(e){$W.exception.printStackTrace(e);}};$W._j.dataController.prototype.reform=function(){["WebSquare.DataCollection.dataController.prototype.reform"];try{this.initRowStatus();this.originalDataArr=this.dataArr.slice(0);if(this.initializeType=="dataList"){this.removeManager.removeAll();}this.broadcast({"linkedDataList":["notifyReformed"],"gridView":["notifyReformed"],"generalComp":"both"});}catch(e){$W.exception.printStackTrace(e);}};$W._j.dataController.prototype.undoRow=function(_2d4){["WebSquare.DataCollection.dataController.prototype.undoRow"];try{this._undoRow(_2d4);var _2d5=this.filteredRowIndexArr[_2d4];this.broadcast({"linkedDataList":["notifyRowChanged",[_2d5]],"gridView":["notifyRowModified",[_2d4]],"generalComp":"both"});}catch(e){$W.exception.printStackTrace(e);}};$W._j.dataController.prototype._undoRow=function(_2d6){["WebSquare.DataCollection.dataController.prototype._undoRow"];try{var _2d7;var _2d8=(this.options.depthColumn)?_2d6:this.getRealRowIndex(_2d6);for(var j=0;j<this.oneRowDataLength;j++){_2d7=this.getColumnID(j);var _2da=this.originalDataArr[_2d8*this.oneRowDataLength+j];this._setData(_2d8,j,_2da);}this._updateRowStatus(_2d8);this._undeleteRowStatus(_2d8);}catch(e){$W.exception.printStackTrace(e);}};$W._j.dataController.prototype.undoAll=function(){["WebSquare.DataCollection.dataController.prototype.undoAll"];try{var _2db=this.getRowIndexByStatus("UDV");for(var i=0;i<_2db.length;i++){var _2dd=_2db[i];this._undoRow(_2dd);}this.broadcast({"linkedDataList":["notifyDataChanged"],"gridView":["notifyDataChanged"],"generalComp":"both"});}catch(e){$W.exception.printStackTrace(e);}};;WebSquare.uiplugin.dataController=$W._a.aK;$W._j.statusController=function(){["WebSquare.DataCollection.statusController"];};$W._j.statusController.prototype.getRowStatusValue=function(_1){["WebSquare.DataCollection.statusController.prototype.getRowStatusValue"];try{var _2=(this.options.depthColumn)?_1:this.getRealRowIndex(_1);return this._getRowStatusValue(_2);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.statusController.prototype._getRowStatusValue=function(_3){["WebSquare.DataCollection.statusController.prototype._getRowStatusValue"];try{var _4=this.rowStatusArr[_3];switch(_4){case "R":return 0;break;case "U":return 1;break;case "C":return 2;break;case "D":return 3;break;case "V":return 4;break;case "E":return 5;break;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.statusController.prototype.getRowStatus=function(_5){["WebSquare.DataCollection.statusController.prototype.getRowStatus"];try{var _6=(this.options.depthColumn)?_5:this.getRealRowIndex(_5);return this._getRowStatus(_6);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.statusController.prototype._getRowStatus=function(_7){["WebSquare.DataCollection.statusController.prototype._getRowStatus"];try{return this.rowStatusArr[_7];}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.statusController.prototype.getRowIndexByStatus=function(_8){["WebSquare.DataCollection.statusController.prototype.getRowIndexByStatus"];try{var _9=[];for(var i=0;i<this.getTotalRow();i++){var _b=(this.options.depthColumn)?i:this.getRealRowIndex(i);if(_8.indexOf(this.rowStatusArr[_b])>-1){_9.push(i);}}return _9;}catch(e){$W.exception.printStackTrace(e);}};$W._j.statusController.prototype.getInsertedIndex=function(){["WebSquare.DataCollection.statusController.prototype.getInsertedIndex"];try{return this.getRowIndexByStatus("C");}catch(e){$W.exception.printStackTrace(e);}};$W._j.statusController.prototype.getUpdatedIndex=function(){["WebSquare.DataCollection.statusController.prototype.getUpdatedIndex"];try{return this.getRowIndexByStatus("U");}catch(e){$W.exception.printStackTrace(e);}};$W._j.statusController.prototype.getDeletedIndex=function(){["WebSquare.DataCollection.statusController.prototype.getDeletedIndex"];try{return this.getRowIndexByStatus("DV");}catch(e){$W.exception.printStackTrace(e);}};$W._j.statusController.prototype.getVoidIndex=function(){["WebSquare.DataCollection.statusController.prototype.getVoidIndex"];try{return this.getRowIndexByStatus("V");}catch(e){$W.exception.printStackTrace(e);}};$W._j.statusController.prototype.getOnlyDeletedIndex=function(){["WebSquare.DataCollection.statusController.prototype.getDeletionsIndex"];try{return this.getRowIndexByStatus("D");}catch(e){$W.exception.printStackTrace(e);}};$W._j.statusController.prototype.getModifiedIndex=function(){["WebSquare.DataCollection.statusController.prototype.getModifiedIndex"];try{return this.getRowIndexByStatus("CUD");}catch(e){$W.exception.printStackTrace(e);}};$W._j.statusController.prototype.getInsertedData=function(_c){["WebSquare.DataCollection.statusController.prototype.getInsertedData"];try{this.broadcast({"gridView":["_endEdit"]});var _d=[];var _e=this.getInsertedIndex();for(var i=0;i<_e.length;i++){_d.push(this.getRowData(_e[i],_c));}return _d;}catch(e){$W.exception.printStackTrace(e);}};$W._j.statusController.prototype.getInsertedXML=function(_10){["WebSquare.DataCollection.statusController.prototype.getInsertedXML"];try{this.broadcast({"gridView":["_endEdit"]});var _11=this.getInsertedIndex();var _12=this.getArrXML(_11,_10);return _12;}catch(e){$W.exception.printStackTrace(e);}};$W._j.statusController.prototype.getInsertedJSON=function(_13){["WebSquare.DataCollection.statusController.prototype.getInsertedJSON"];try{this.broadcast({"gridView":["_endEdit"]});var _14=[];var _15=this.getInsertedIndex();for(var i=0;i<_15.length;i++){_14.push(this.getRowJSON(_15[i],_13));}if(this.options.customFormatter!=undefined){var _17=$W._G.getGlobalFunction(this.options.customFormatter);if(_17!=null){_14=_17(this,_14);}}return _14;}catch(e){$W.exception.printStackTrace(e);}};$W._j.statusController.prototype.getInsertedArray=function(_18){["WebSquare.DataCollection.statusController.prototype.getInsertedArray"];try{if(typeof _18==="undefined"||_18==null){_18={};}var _19={};if(typeof _18.includeColumns==="object"&&_18.includeColumns!=null&&_18.includeColumns.constructor===Array){_19["columnInfo"]=_18.includeColumns;}else{_19["columnInfo"]=this.cellIdList;}this.broadcast({"gridView":["_endEdit"]});var _1a=[];var _1b=this.getInsertedIndex();for(var i=0;i<_1b.length;i++){_1a=_1a.concat(this.getRowData(_1b[i],_18));}_19["data"]=_1a;return _19;}catch(e){$W.exception.printStackTrace(e);}};$W._j.statusController.prototype.getDeletedData=function(_1d,_1e){["WebSquare.DataCollection.statusController.prototype.getDeletedData"];try{this.broadcast({"gridView":["_endEdit"]});var _1f=[];var _20=this.getDeletedIndex();for(var i=0;i<_20.length;i++){_1f.push(this.getRowData(_20[i],_1e));}if(!_1d&&this.initializeType=="dataList"){for(var i=0;i<this.removeManager.getDataLength();i++){_1f.push(this.removeManager.getRowData(i,_1e));}}if(this.options.customFormatter!=undefined){var _22=$W._G.getGlobalFunction(this.options.customFormatter);if(_22!=null){_1f=_22(this,_1f);}}return _1f;}catch(e){$W.exception.printStackTrace(e);}};$W._j.statusController.prototype.getDeletedXML=function(_23,_24){["WebSquare.DataCollection.statusController.prototype.getDeletedXML"];try{this.broadcast({"gridView":["_endEdit"]});var _25=this.getDeletedIndex();var _26=this.getArrXML(_25,_24);if(!_23&&this.initializeType=="dataList"){if(this.options.removedDataMatch){var _27=$W._B.findNode(_26,this.options.baseNode);for(var i=0;i<this.removeManager.getDataLength();i++){var _29=_27;var _2a=this.options.repeatNode.split("/");for(var j=0;j<_2a.length-1;j++){var _2c=_2a[j];var idx=_2c.indexOf(":");if(idx>=0){try{var _2e=_2c.substring(0,idx);var _2f=$W._N.getNamespaces(node);if(_2f[_2e]){_2c=_2c+" xmlns:"+_2e+"=\""+_2f[_2e]+"\"";}}catch(e){}}_29=_29.appendChild($W._B.parse("<"+_2c+"/>").documentElement);}_29.appendChild(this.removeManager.getRowXML(i,_24).documentElement);}}else{var _30=$W._B.findNode(_26,this.options.baseNode);for(var i=0;i<this.removeManager.getDataLength();i++){_30.appendChild(this.removeManager.getRowXML(i,_24).documentElement);}}}return _26;}catch(e){$W.exception.printStackTrace(e);}};$W._j.statusController.prototype.getDeletedJSON=function(_31,_32){["WebSquare.DataCollection.statusController.prototype.getDeletedJSON"];try{this.broadcast({"gridView":["_endEdit"]});var _33=[];var _34=this.getDeletedIndex();for(var i=0;i<_34.length;i++){_33.push(this.getRowJSON(_34[i],_32));}if(!_31&&this.initializeType=="dataList"){for(var i=0;i<this.removeManager.getDataLength();i++){_33.push(this.removeManager.getRowJSON(i,_32));}}return _33;}catch(e){$W.exception.printStackTrace(e);}};$W._j.statusController.prototype.getDeletedArray=function(_36,_37){["WebSquare.DataCollection.statusController.prototype.getDeletedArray"];try{if(typeof _37==="undefined"||_37==null){_37={};}var _38={};if(typeof _37.includeColumns==="object"&&_37.includeColumns!=null&&_37.includeColumns.constructor===Array){_38["columnInfo"]=_37.includeColumns;}else{_38["columnInfo"]=this.cellIdList;}this.broadcast({"gridView":["_endEdit"]});var _39=[];var _3a=this.getDeletedIndex();for(var i=0;i<_3a.length;i++){_39=_39.concat(this.getRowData(_3a[i],_37));}if(!_36&&this.initializeType=="dataList"){for(var i=0;i<this.removeManager.getDataLength();i++){_39=_39.concat(this.removeManager.getRowData(i,_37));}}_38["data"]=_39;return _38;}catch(e){$W.exception.printStackTrace(e);}};$W._j.statusController.prototype.getVoidData=function(_3c,_3d){["WebSquare.DataCollection.statusController.prototype.getVoidData"];try{this.broadcast({"gridView":["_endEdit"]});var _3e=[];var _3f=this.getVoidIndex();for(var i=0;i<_3f.length;i++){_3e.push(this.getRowData(_3f[i]));}if(!_3c&&this.initializeType=="dataList"){for(var i=0;i<this.removeManager.getDataLength();i++){_3e.push(this.removeManager.getRowData(i));}}return _3e;}catch(e){$W.exception.printStackTrace(e);}};$W._j.statusController.prototype.getVoidXML=function(_41,_42){["WebSquare.DataCollection.statusController.prototype.getVoidXML"];try{this.broadcast({"gridView":["_endEdit"]});var _43=this.getVoidIndex();var _44=this.getArrXML(_43,_42);if(!_41&&this.initializeType=="dataList"){if(this.options.removedDataMatch){var _45=$W._B.findNode(_44,this.options.baseNode);for(var i=0;i<this.removeManager.getDataLength();i++){var _47=_45;var _48=this.options.repeatNode.split("/");for(var j=0;j<_48.length-1;j++){var _4a=_48[j];var idx=_4a.indexOf(":");if(idx>=0){try{var _4c=_4a.substring(0,idx);var _4d=$W._N.getNamespaces(node);if(_4d[_4c]){_4a=_4a+" xmlns:"+_4c+"=\""+_4d[_4c]+"\"";}}catch(e){}}_47=_47.appendChild($W._B.parse("<"+_4a+"/>").documentElement);}_47.appendChild(this.removeManager.getRowXML(i,_42).documentElement);}}else{var _4e=$W._B.findNode(_44,this.options.baseNode);for(var i=0;i<this.removeManager.getDataLength();i++){_4e.appendChild(this.removeManager.getRowXML(i,_42).documentElement);}}}return _44;}catch(e){$W.exception.printStackTrace(e);}};$W._j.statusController.prototype.getVoidJSON=function(_4f,_50){["WebSquare.DataCollection.statusController.prototype.getVoidJSON"];try{this.broadcast({"gridView":["_endEdit"]});var _51=[];var _52=this.getVoidIndex();for(var i=0;i<_52.length;i++){_51.push(this.getRowJSON(_52[i]));}if(!_4f&&this.initializeType=="dataList"){for(var i=0;i<this.removeManager.getDataLength();i++){_51.push(this.removeManager.getRowJSON(i));}}if(this.options.customFormatter!=undefined){var _54=$W._G.getGlobalFunction(this.options.customFormatter);if(_54!=null){_51=_54(this,_51);}}return _51;}catch(e){$W.exception.printStackTrace(e);}};$W._j.statusController.prototype.getVoidArray=function(_55,_56){["WebSquare.DataCollection.statusController.prototype.getVoidArray"];try{var _57={};_57["columnInfo"]=this.cellIdList;this.broadcast({"gridView":["_endEdit"]});var _58=[];var _59=this.getVoidIndex();for(var i=0;i<_59.length;i++){_58=_58.concat(this.getRowData(_59[i]));}if(!_55&&this.initializeType=="dataList"){for(var i=0;i<this.removeManager.getDataLength();i++){_58=_58.concat(this.removeManager.getRowData(i));}}_57["data"]=_58;return _57;}catch(e){$W.exception.printStackTrace(e);}};$W._j.statusController.prototype.getOnlyDeletedData=function(_5b,_5c){["WebSquare.DataCollection.statusController.prototype.getOnlyDeletedData"];try{this.broadcast({"gridView":["_endEdit"]});var _5d=[];var _5e=this.getOnlyDeletedIndex();for(var i=0;i<_5e.length;i++){_5d.push(this.getRowData(_5e[i]));}if(!_5b&&this.initializeType=="dataList"){for(var i=0;i<this.removeManager.getDataLength();i++){_5d.push(this.removeManager.getRowData(i));}}return _5d;}catch(e){$W.exception.printStackTrace(e);}};$W._j.statusController.prototype.getOnlyDeletedXML=function(_60,_61){["WebSquare.DataCollection.statusController.prototype.getOnlyDeletedXML"];try{this.broadcast({"gridView":["_endEdit"]});var _62=this.getOnlyDeletedIndex();var _63=this.getArrXML(_62,_61);if(!_60&&this.initializeType=="dataList"){if(this.options.removedDataMatch){var _64=$W._B.findNode(_63,this.options.baseNode);for(var i=0;i<this.removeManager.getDataLength();i++){var _66=_64;var _67=this.options.repeatNode.split("/");for(var j=0;j<_67.length-1;j++){var _69=_67[j];var idx=_69.indexOf(":");if(idx>=0){try{var _6b=_69.substring(0,idx);var _6c=$W._N.getNamespaces(node);if(_6c[_6b]){_69=_69+" xmlns:"+_6b+"=\""+_6c[_6b]+"\"";}}catch(e){}}_66=_66.appendChild($W._B.parse("<"+_69+"/>").documentElement);}_66.appendChild(this.removeManager.getRowXML(i,_61).documentElement);}}else{var _6d=$W._B.findNode(_63,this.options.baseNode);for(var i=0;i<this.removeManager.getDataLength();i++){_6d.appendChild(this.removeManager.getRowXML(i,_61).documentElement);}}}return _63;}catch(e){$W.exception.printStackTrace(e);}};$W._j.statusController.prototype.getOnlyDeletedJSON=function(_6e,_6f){["WebSquare.DataCollection.statusController.prototype.getOnlyDeletedJSON"];try{this.broadcast({"gridView":["_endEdit"]});var _70=[];var _71=this.getOnlyDeletedIndex();for(var i=0;i<_71.length;i++){_70.push(this.getRowJSON(_71[i]));}if(!_6e&&this.initializeType=="dataList"){for(var i=0;i<this.removeManager.getDataLength();i++){_70.push(this.removeManager.getRowJSON(i));}}if(this.options.customFormatter!=undefined){var _73=$W._G.getGlobalFunction(this.options.customFormatter);if(_73!=null){_70=_73(this,_70);}}return _70;}catch(e){$W.exception.printStackTrace(e);}};$W._j.statusController.prototype.getOnlyDeletedArray=function(_74,_75){["WebSquare.DataCollection.statusController.prototype.getOnlyDeletedArray"];try{var _76={};_76["columnInfo"]=this.cellIdList;this.broadcast({"gridView":["_endEdit"]});var _77=[];var _78=this.getOnlyDeletedIndex();for(var i=0;i<_78.length;i++){_77=_77.concat(this.getRowData(_78[i]));}if(!_74&&this.initializeType=="dataList"){for(var i=0;i<this.removeManager.getDataLength();i++){_77=_77.concat(this.removeManager.getRowData(i));}}_76["data"]=_77;return _76;}catch(e){$W.exception.printStackTrace(e);}};$W._j.statusController.prototype.getUpdatedData=function(_7a){["WebSquare.DataCollection.statusController.prototype.getUpdatedData"];try{this.broadcast({"gridView":["_endEdit"]});var _7b=[];var _7c=this.getUpdatedIndex();for(var i=0;i<_7c.length;i++){_7b.push(this.getRowData(_7c[i],_7a));}return _7b;}catch(e){$W.exception.printStackTrace(e);}};$W._j.statusController.prototype.getUpdatedXML=function(_7e){["WebSquare.DataCollection.statusController.prototype.getUpdatedXML"];try{this.broadcast({"gridView":["_endEdit"]});var _7f=this.getUpdatedIndex();var _80=this.getArrXML(_7f,_7e);return _80;}catch(e){$W.exception.printStackTrace(e);}};$W._j.statusController.prototype.getUpdatedJSON=function(_81){["WebSquare.DataCollection.statusController.prototype.getUpdatedJSON"];try{this.broadcast({"gridView":["_endEdit"]});var _82=[];var _83=this.getUpdatedIndex();for(var i=0;i<_83.length;i++){_82.push(this.getRowJSON(_83[i],_81));}if(this.options.customFormatter!=undefined){var _85=$W._G.getGlobalFunction(this.options.customFormatter);if(_85!=null){_82=_85(this,_82);}}return _82;}catch(e){$W.exception.printStackTrace(e);}};$W._j.statusController.prototype.getUpdatedArray=function(_86){["WebSquare.DataCollection.statusController.prototype.getUpdatedArray"];try{if(typeof _86==="undefined"||_86==null){_86={};}var _87={};if(typeof _86.includeColumns==="object"&&_86.includeColumns!=null&&_86.includeColumns.constructor===Array){_87["columnInfo"]=_86.includeColumns;}else{_87["columnInfo"]=this.cellIdList;}this.broadcast({"gridView":["_endEdit"]});var _88=[];var _89=this.getUpdatedIndex();for(var i=0;i<_89.length;i++){_88=_88.concat(this.getRowData(_89[i]));}_87["data"]=_88;return _87;}catch(e){$W.exception.printStackTrace(e);}};$W._j.statusController.prototype.getRemovedData=function(_8b){["WebSquare.DataCollection.statusController.prototype.getRemovedData"];try{return this.removeManager.getAllData(_8b);}catch(e){$W.exception.printStackTrace(e);}};$W._j.statusController.prototype.getRemovedXML=function(_8c){["WebSquare.DataCollection.statusController.prototype.getRemovedXML"];try{if(typeof _8c==="undefined"||_8c==null){_8c={};}_8c.id=this.id;return this.removeManager.getAllXML(_8c);}catch(e){$W.exception.printStackTrace(e);}};$W._j.statusController.prototype.getRemovedJSON=function(_8d){["WebSquare.DataCollection.statusController.prototype.getRemovedJSON"];try{return this.removeManager.getAllJSON(_8d);}catch(e){$W.exception.printStackTrace(e);}};$W._j.statusController.prototype.getRemovedArray=function(_8e){["WebSquare.DataCollection.statusController.prototype.getRemovedArray"];try{return this.removeManager.getAllArray(_8e);}catch(e){$W.exception.printStackTrace(e);}};$W._j.statusController.prototype.getModifiedData=function(_8f){["WebSquare.DataCollection.statusController.prototype.getModifiedData"];try{_8f=_8f||{};this.broadcast({"gridView":["_endEdit"]});var _90=[];var _91=this.getModifiedIndex();for(var i=0;i<_91.length;i++){_90.push(this.getRowData(_91[i],_8f));}if(this.initializeType=="dataList"&&(_8f.saveRemovedData||(this.options.saveRemovedData&&_8f.saveRemovedData!==false))){for(var i=0;i<this.removeManager.getDataLength();i++){_90.push(this.removeManager.getRowData(i,_8f));}}return _90;}catch(e){$W.exception.printStackTrace(e);}};$W._j.statusController.prototype.getModifiedXML=function(_93){["WebSquare.DataCollection.statusController.prototype.getModifiedXML"];try{_93=_93||{};this.broadcast({"gridView":["_endEdit"]});var _94=this.getModifiedIndex();var _95=this.getArrXML(_94,_93);if(this.initializeType=="dataList"&&(_93.saveRemovedData||(this.options.saveRemovedData&&_93.saveRemovedData!==false))){if(this.options.removedDataMatch){var _96=$W._B.findNode(_95,this.options.baseNode);for(var i=0;i<this.removeManager.getDataLength();i++){var _98=_96;var _99=this.options.repeatNode.split("/");for(var j=0;j<_99.length-1;j++){var _9b=_99[j];var idx=_9b.indexOf(":");if(idx>=0){try{var _9d=_9b.substring(0,idx);var _9e=$W._N.getNamespaces(node);if(_9e[_9d]){_9b=_9b+" xmlns:"+_9d+"=\""+_9e[_9d]+"\"";}}catch(e){}}_98=_98.appendChild($W._B.parse("<"+_9b+"/>").documentElement);}_98.appendChild(this.removeManager.getRowXML(i,_93).documentElement);}}else{var _9f=$W._B.findNode(_95,this.options.baseNode);for(var i=0;i<this.removeManager.getDataLength();i++){_9f.appendChild(this.removeManager.getRowXML(i,_93).documentElement);}}}return _95;}catch(e){$W.exception.printStackTrace(e);}};$W._j.statusController.prototype.getModifiedJSON=function(_a0){["WebSquare.DataCollection.statusController.prototype.getModifiedJSON"];try{_a0=_a0||{};this.broadcast({"gridView":["_endEdit"]});var _a1=[];var _a2=[];var _a3=[];var _a4=this.getModifiedIndex();for(var i=0;i<_a4.length;i++){_a1.push(this.getRowJSON(_a4[i],_a0));}if(this.initializeType=="dataList"&&(_a0.saveRemovedData||(this.options.saveRemovedData&&_a0.saveRemovedData!==false))){for(var i=0;i<this.removeManager.getDataLength();i++){_a2.push(this.removeManager.getRowJSON(i,_a0));}}if(_a0&&_a0.DB){_a3=_a3.concat(_a2);_a3=_a3.concat(_a1);}else{if(_a0&&_a0.excludeRemovedData){_a3=_a3.concat(_a1);}else{_a3=_a3.concat(_a1);_a3=_a3.concat(_a2);}}if(this.options.customFormatter!=undefined){var _a6=$W._G.getGlobalFunction(this.options.customFormatter);if(_a6!=null){_a3=_a6(this,_a3);}}return _a3;}catch(e){$W.exception.printStackTrace(e);}};$W._j.statusController.prototype.getModifiedArray=function(_a7){["WebSquare.DataCollection.statusController.prototype.getModifiedArray"];try{if(typeof _a7==="undefined"||_a7==null){_a7={};}var _a8={};if(typeof _a7.includeColumns==="object"&&_a7.includeColumns!=null&&_a7.includeColumns.constructor===Array){_a8["columnInfo"]=_a7.includeColumns;}else{_a8["columnInfo"]=this.cellIdList;}this.broadcast({"gridView":["_endEdit"]});var _a9=[];var _aa=this.getModifiedIndex();for(var i=0;i<_aa.length;i++){_a9=_a9.concat(this.getRowData(_aa[i],_a7));}if(this.initializeType=="dataList"&&(_a7.saveRemovedData||(this.options.saveRemovedData&&_a7.saveRemovedData!==false))){for(var i=0;i<this.removeManager.getDataLength();i++){_a9=_a9.concat(this.removeManager.getRowData(i,_a7));}}_a8["data"]=_a9;return _a8;}catch(e){$W.exception.printStackTrace(e);}};$W._j.statusController.prototype._setRowStatus=function(_ac,_ad){["WebSquare.DataCollection.statusController.prototype._setRowStatus"];try{var _ae=this.rowStatusArr[_ac];if(_ad!=_ae){this.rowStatusArr[_ac]=_ad;}return _ae;}catch(e){$W.exception.printStackTrace(e);}};$W._j.statusController.prototype.initRowStatus=function(_af){["WebSquare.DataCollection.statusController.prototype.initRowStatus"];try{if(_af==null||typeof _af=="undefined"){_af=0;}if(_af==0){this.rowStatusArr=[];}var _b0=this.getTotalRow();for(var i=_af;i<_b0;i++){switch(this.initializeType){case "removeManager":this.rowStatusArr.push("E");break;default:this.rowStatusArr.push("R");break;}}}catch(e){$W.exception.printStackTrace(e);}};$W._j.statusController.prototype._createRowStatus=function(_b2){["WebSquare.DataCollection.statusController.prototype._createRowStatus"];try{this.rowStatusArr=this.rowStatusArr.slice(0,_b2).concat(["C"]).concat(this.rowStatusArr.slice(_b2));this.broadcast({"gridView":["notifyCreatedRowStatus",[_b2]]});}catch(e){$W.exception.printStackTrace(e);}};$W._j.statusController.prototype._updateRowStatus=function(_b3){["WebSquare.DataCollection.statusController.prototype._updateRowStatus"];try{var _b4=this.rowStatusArr[_b3];var _b5=_b4;if(_b4=="C"||_b4=="D"){return;}var _b6=false;var _b7=this.getTotalCol();for(var col=0;col<_b7;col++){var _b9=this.cellInfoHash[this.cellIdList[col]];var _ba=_b9.options.inputType;var _bb=this._getOriginalCellData(_b3,_b9.id);var _bc=this._getData(_b3,col);if(_ba!="expression"&&this.ignoreStatusColArr[col]!=true&&_bb===0){if(_bc===""){_b6=true;break;}else{if(_bb!=_bc){_b6=true;break;}}}else{if(_ba!="expression"&&this.ignoreStatusColArr[col]!=true&&_bb!=_bc){if(_bb!==null||_bc!==""){_b6=true;break;}}}}if(_b4=="R"){if(_b6==true){_b4="U";}}else{if(_b4=="U"){if(_b6==false){_b4="R";}}}this._setRowStatus(_b3,_b4);var _bd=this.getFilteredRowIndex(_b3);if(_b4!=_b5){$W._c.fireEvent(this,"onrowstatuschange",[{"rowIndex":_bd,"newRowStatus":_b4,"oldRowStatus":_b5}]);}this.broadcast({"gridView":["notifyStatusChanged",[{"rowIndex":[_bd]}]]});}catch(e){$W.exception.printStackTrace(e);}};$W._j.statusController.prototype.removeRowStatus=function(_be){["WebSquare.DataCollection.statusController.prototype.removeRowStatus"];try{var _bf=(this.options.depthColumn)?_be:this.getRealRowIndex(_be);var _c0=this.rowStatusArr[_bf];this.rowStatusArr.splice(_bf,1);this.broadcast({"gridView":["notifyRemovedRowStatus",[_bf]]});return _c0;}catch(e){$W.exception.printStackTrace(e);}};$W._j.statusController.prototype.deleteRow=function(_c1){["WebSquare.DataCollection.statusController.prototype.deleteRow"];try{var _c2=(this.options.depthColumn)?_c1:this.getRealRowIndex(_c1);var _c3=this.getFilteredRowIndex(_c2);if(this.options.depthColumn&&this.hasChild(_c2)){var _c4=this.getChildrenRowArr(_c2);this.deleteRows(_c4);}this._deleteRowStatus(_c2);this.broadcast({"linkedDataList":["notifyDeleteRow",[_c2]],"gridView":["notifyDeleteRow",[_c3]]});}catch(e){$W.exception.printStackTrace(e);}};$W._j.statusController.prototype.deleteRows=function(_c5){["WebSquare.DataCollection.statusController.prototype.deleteRows"];try{var _c6=this.getTotalCol();function compare(a,b){if(parseInt(a)<parseInt(b)){return 1;}return -1;}_c5=_c5.sort(compare);var _c9=[];for(var i=0;i<_c5.length;i++){var _cb=this.deleteRow(_c5[i]);_c9.push(_cb);}return _c9;}catch(e){$W.exception.printStackTrace(e);}};$W._j.statusController.prototype.undeleteRows=function(_cc){["WebSquare.DataCollection.statusController.prototype.deleteRows"];try{var _cd=this.getTotalCol();function compare(a,b){if(parseInt(a)<parseInt(b)){return 1;}return -1;}_cc=_cc.sort(compare);var _d0=[];for(var i=0;i<_cc.length;i++){var _d2=this.undeleteRow(_cc[i]);_d0.push(_d2);}return _d0;}catch(e){$W.exception.printStackTrace(e);}};$W._j.statusController.prototype._deleteRowStatus=function(_d3){["WebSquare.DataCollection.statusController.prototype._deleteRowStatus"];try{var _d4="";if(_d4=="D"||_d4=="V"){return;}var _d5=this.rowStatusArr[_d3];if(_d5=="C"){_d4="V";}else{_d4="D";}this._setRowStatus(_d3,_d4);var _d6=this.getFilteredRowIndex(_d3);if(_d4!=_d5){$W._c.fireEvent(this,"onrowstatuschange",[{"rowIndex":_d6,"newRowStatus":_d4,"oldRowStatus":_d5}]);}if(_d6>-1){this.broadcast({"gridView":["notifyStatusChanged",[_d6]]});}}catch(e){$W.exception.printStackTrace(e);}};$W._j.statusController.prototype.undeleteRow=function(_d7){["WebSquare.DataCollection.statusController.prototype.undeleteRow"];try{var _d8=(this.options.depthColumn)?_d7:this.getRealRowIndex(_d7);if(this.options.depthColumn&&this.hasChild(_d8)){var _d9=this.getChildrenRowArr(_d8);this.undeleteRows(_d9);}this._undeleteRowStatus(_d8);this.broadcast({"gridView":["notifyUndeleteRow",[_d7]]});}catch(e){$W.exception.printStackTrace(e);}};$W._j.statusController.prototype._undeleteRowStatus=function(_da){["WebSquare.DataCollection.statusController.prototype._undeleteRowStatus"];try{var _db=this.rowStatusArr[_da];var _dc=_db;if(_db!="D"&&_db!="V"){return;}if(_db=="V"){_db="C";}else{var _dd=false;var _de=this.getTotalCol();for(var col=0;col<_de;col++){var _e0=this.getCellInfo(col);var _e1=_e0.options.inputType;if(_e1!="expression"&&this.ignoreStatusColArr[col]!=true&&this._getOriginalCellData(_da,_e0.id)!=this._getData(_da,col)){_dd=true;break;}}if(_dd){_db="U";}else{_db="R";}}this._setRowStatus(_da,_db);var _e2=this.getFilteredRowIndex(_da);if(_db!=_dc){$W._c.fireEvent(this,"onrowstatuschange",[{"rowIndex":_e2,"newRowStatus":_db,"oldRowStatus":_dc}]);}this.broadcast({"gridView":["notifyStatusChanged",[{"rowIndex":[_e2]}]]});}catch(e){$W.exception.printStackTrace(e);}};$W._j.statusController.prototype.modifyAllStatus=function(_e3){["WebSquare.DataCollection.statusController.prototype.modifyAllStatus"];try{var _e4=[];for(var i=0;i<this.rowStatusArr.length;i++){var _e6=this._setRowStatus(i,_e3);if(_e3!=_e6){_e4.push({"rowIndex":i,"newRowStatus":_e3,"oldRowStatus":_e6});}}$W._c.fireEvent(this,"onrowstatuschange",_e4);this.broadcast({"gridView":["notifyModifyAllStatus",[_e3]]});}catch(e){$W.exception.printStackTrace(e);}};$W._j.statusController.prototype.modifyRangeStatus=function(_e7,to,_e9){["WebSquare.DataCollection.statusController.prototype.modifyRangeStatus"];try{var _ea=[];var _eb;if(this.options.depthColumn){_eb=this.getTotalRow();}else{_eb=this.getDataLength();}if(0<=_e7&&to<=_eb){for(var i=_e7;i<=to;i++){var _ed=(this.options.depthColumn)?i:this.getRealRowIndex(i);var _ee=this._setRowStatus(_ed,_e9);if(_e9!=_ee){_ea.push({"rowIndex":i,"newRowStatus":_e9,"oldRowStatus":_ee});}}}$W._c.fireEvent(this,"onrowstatuschange",_ea);this.broadcast({"gridView":["notifyModifyRangeStatus",[_e7,to,_e9]]});}catch(e){$W.exception.printStackTrace(e);}};$W._j.statusController.prototype.modifyMatchedStatus=function(_ef,_f0,_f1){["WebSquare.DataCollection.statusController.prototype.modifyMatchedStatus"];try{var _f2=[];var _f3;if(this.options.depthColumn){_f3=this.getTotalRow();}else{_f3=this.getDataLength();}for(var row=0;row<_f3;row++){var _f5=this.getColumnID(_ef);if(this.getCellData(row,_f5)+""==_f0+""){var _f6=(this.options.depthColumn)?row:this.getRealRowIndex(row);var _f7=this._setRowStatus(_f6,_f1);if(_f1!=_f7){_f2.push({"rowIndex":row,"newRowStatus":_f1,"oldRowStatus":_f7});}}}$W._c.fireEvent(this,"onrowstatuschange",_f2);this.broadcast({"gridView":["notifyModifyMatchedStatus",[_ef,_f0,_f1]]});}catch(e){$W.exception.printStackTrace(e);}};$W._j.statusController.prototype.modifyRowStatus=function(_f8,_f9){["WebSquare.DataCollection.statusController.prototype.modifyRowStatus"];try{var _fa;if(this.options.depthColumn){_fa=this.getTotalRow();}else{_fa=this.getDataLength();}if(_f8>-1&&_f8<_fa){var _fb=(this.options.depthColumn)?_f8:this.getRealRowIndex(_f8);var _fc=this._setRowStatus(_fb,_f9);if(_f9!=_fc){$W._c.fireEvent(this,"onrowstatuschange",[{"rowIndex":_f8,"newRowStatus":_f9,"oldRowStatus":_fc}]);}this.broadcast({"gridView":["notifyModifyRowStatus",[_f8,_f9]]});}}catch(e){$W.exception.printStackTrace(e);}};$W._j.statusController.prototype.getRowPosition=function(){["WebSquare.DataCollection.statusController.prototype.getRowPosition"];try{var _fd=typeof this.rowPosition=="number"?this.rowPosition:null;return _fd;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.statusController.prototype.setRowPosition=function(_fe,_ff){["WebSquare.DataCollection.statusController.prototype.setRowPosition"];try{_fe=parseInt(_fe,10);if(isNaN(_fe)){_fe=null;}var _100=this.rowPosition;if(_100!=_fe){if(!_ff){var _101=$W._c.fireEvent(this,"onbeforerowpositionchange",{"oldRowIndex":_100,"newRowIndex":_fe});if(_101===false){return false;}}this.rowPosition=_fe;if(!_ff){$W._c.fireEvent(this,"onrowpositionchange",{"oldRowIndex":_100,"newRowIndex":_fe});}this.broadcast({"linkedDataList":["notifyRowPositionChanged"],"generalComp":"refresh"});return true;}}catch(e){$W.exception.printStackTrace(e);}};$W._j.statusController.prototype.getColumnPosition=function(){["WebSquare.DataCollection.statusController.prototype.getColumnPosition"];try{return this.getColumnID(this.columnPosition)||"";}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.statusController.prototype.setColumnPosition=function(_102,_103){["WebSquare.DataCollection.statusController.prototype.setColumnPosition"];try{var _104=this.getColumnIndex(_102);if(this.columnPosition!=_104){var _105=this.getColumnID(this.columnPosition);var _106=this.getColumnID(_102);var _107=$W._c.fireEvent(this,"onbeforecolumnchange",{"oldColumnID":_105,"newColumnID":_106});if(_107===false){return false;}this.columnPosition=_104;$W._c.fireEvent(this,"oncolumnchange",{"oldColumnID":_105,"newColumnID":_106});return true;}}catch(e){$W.exception.printStackTrace(e);}};$W._j.statusController.prototype.saveRemovedRow=function(_108,_109){["WebSquare.DataCollection.statusController.prototype.saveRemovedRow"];try{this.removeManager.setRowData(this.removeManager.getDataLength(),_109);this.removeManager.modifyAllStatus("E");}catch(e){$W.exception.printStackTrace(e,null,this);}};;WebSquare.uiplugin.statusController=$W._a._a;$W._j.dataListCellController=function(){["WebSquare.DataCollection.dataListCellController"];};$W._j.dataListCellController.prototype.getCellInfo=function(td){["WebSquare.DataCollection.dataListCellController.prototype.getCellInfo"];var _2="";if(typeof td=="string"){_2=td;}else{if(typeof td=="number"){_2=this.cellIdList[td];}}return this.cellInfoHash[_2]||{options:{}};};$W._j.dataListCellController.prototype.getColumnCount=function(){return this.cellIdList.length;};$W._j.dataListCellController.prototype.getColumnID=function(_3){if(typeof _3=="string"){var _4=this.cellInfoHash[_3];if(_4){return _3;}else{return null;}}var _5=this.cellIdList[_3];if(_5){return _5;}else{return null;}};$W._j.dataListCellController.prototype.getColumnIndex=function(_6){["WebSquare.DataCollection.dataListCellController.prototype.getColumnIndex"];if(typeof _6=="number"){return _6;}return this.bodyIdColIndexMap[_6];};$W._j.dataListCellController.prototype.hasColumn=function(_7){["WebSquare.DataCollection.dataListCellController.prototype.hasColumn"];try{if(typeof _7=="number"){_7=this.getColumnID(_7);}var _8=false;if(typeof this.bodyIdColIndexMap[_7]=="number"){_8=true;}return _8;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataListCellController.prototype.getColumnName=function(_9){["WebSquare.DataCollection.dataListCellController.prototype.getColumnName"];if(typeof _9=="number"){_9=this.getColumnID(_9);}var _a=this.getCellInfo(_9);return _a?_a.name:"";};$W._j.dataListCellController.prototype.setColumnName=function(_b,_c){["WebSquare.DataCollection.dataListCellController.prototype.setColumnName"];if(typeof _b=="number"){_b=this.getColumnID(_b);}var _d=this.getCellInfo(_b);if(_d&&_d.name){_d.name=_c;}this.broadcast({"fusionChart":["refresh"]});};$W._j.dataListCellInfo=function(_e,_f,_10){["WebSquare.DataCollection.dataListCellInfo"];this.options={name:"",id:"",col_id:"",colIndex:"",defaultValue:"",value:"",useFilter:false,dataType:"text",valueType:"binary",trueValue:null,falseValue:null,ignoreStatus:false,keepEmptyString:false};this.mainDataList=_f;if(_e){this.setOptions(_e);}if(this.options.value!=""&&this.options.defaultValue==""){this.options.defaultValue=this.options.value;}if(this.options.value==""&&this.options.defaultValue!=""){this.options.value=this.options.defaultValue;}this.id=this.options.col_id;this.options.id=this.options.col_id;this.name=this.options.name||"";this.mainDataList.ignoreStatusColArr[_10]=this.options.ignoreStatus;};$W._j.dataListCellInfo.prototype.setOptions=function(_11){if(this.mainDataList.elementType=="XML"){if(this.mainDataList.initializeType=="grid"){var _12=_11.getAttribute("inputType")||"text";this.configOptions=$W.configManager.getConfig("grid/column[@inputType='"+_12+"']");this.options=$W.extendKeepingType(this.options,this.configOptions);}var _13=[];for(var _14 in this.options){_13[_14.toLowerCase()]=_14;}var _15=_11.attributes;for(var i=0;i<_15.length;i++){var _17=_15[i];var _18=_17.name;var _19=_17.value;if(_18=="class"){this.options["className"]=_19;}else{if(_19.wq_trim()!=""){if(_13[_18]){_18=_13[_18];}if(typeof this.options[_18]=="boolean"){_19=$W._G.getBoolean(_19);}else{if(typeof this.options[_18]=="number"){_19=$W._G.getNumber(_19);}}this.options[_18]=_19;}}}}else{if(this.mainDataList.elementType=="JSON"){for(var key in _11){this.options[key]=_11[key];}this.options.col_id=_11.id;}}this.element=_11;};$W._j.dataListCellInfo.prototype.getExpressionValue=function(_1b){this.rowIndex=_1b;var _1c="";var str=this.options.expression;if(this.expressionStr==null){if(str!=""&&str!=undefined){str=str.replace(/[sS][uU][mM][\s]*[(]/g,"this.colsum(");str=str.replace(/[aA][vV][gG][\s]*[(]/g,"this.colavg(");str=str.replace(/[mM][aA][xX][\s]*[(]/g,"this.colmax(");str=str.replace(/[mM][iI][nN][\s]*[(]/g,"this.colmin(");str=str.replace(/[cC][aA][lL][cC][\s]*[(]/g,"this.colcalc(");str=str.replace(/[dD][iI][sS][pP][lL][aA][yY][\s]*[(]/g,"this.display(");str=str.replace(/[rR][oO][wW][iI][nN][dD][eE][xX][\s]*[(]/g,"this.getRowIndex(");str=str.replace(/rowStatus[\s]*[(]/ig,"this.rowStatus(");}this.expressionStr=str;}_1c=eval(this.expressionStr);return _1c;};$W._j.dataListCellInfo.prototype.rowStatus=function(){var _1e=this.mainDataList.getRowStatusValue(this.rowIndex);switch(_1e){case 0:return "R";break;case 1:return "U";break;case 2:return "C";break;case 3:return "D";break;case 4:return "V";break;}};$W._j.dataListCellInfo.prototype.colsum=function(){var ret=0;for(var i=0;i<arguments.length;i++){var _21=this.mainDataList.getColumnIndex(arguments[i]);var _22=this.mainDataList.getColumnOption(this.options.col_id,"dataType");if(_22==="bigDecimal"){ret=$W._b(ret).plus($W._b(this.mainDataList._getData(this.rowIndex,_21)))||0;}else{ret+=parseFloat(this.mainDataList._getData(this.rowIndex,_21))||0;}}return ret;};$W._j.dataListCellInfo.prototype.colavg=function(){var ret=0;var _24=this.mainDataList.getColumnOption(this.options.col_id,"dataType");for(var i=0;i<arguments.length;i++){var _26=this.mainDataList.getColumnIndex(arguments[i]);if(_24==="bigDecimal"){ret=$W._b(ret).plus($W._b(this.mainDataList._getData(this.rowIndex,_26)))||0;}else{ret+=parseFloat(this.mainDataList._getData(this.rowIndex,_26))||0;}}if(_24==="bigDecimal"){ret=$W._b(ret).divide($W._b(arguments.length)).toString();}else{ret=ret/arguments.length;}return ret;};$W._j.dataListCellInfo.prototype.colmax=function(){var ret=0;var _28=this.mainDataList.getColumnOption(this.options.col_id,"dataType");for(var i=0;i<arguments.length;i++){var _2a=this.mainDataList.getColumnIndex(arguments[i]);if(_28==="bigDecimal"){ret=$W._b(ret).compare($W._b(this.mainDataList._getData(this.rowIndex,_2a)))||0;}else{var tmp=parseFloat(this.mainDataList._getData(this.rowIndex,_2a))||0;if(i==0||tmp>ret){ret=tmp;}}}return ret;};$W._j.dataListCellInfo.prototype.colmin=function(){var ret=0;var _2d=this.mainDataList.getColumnOption(this.options.col_id,"dataType");for(var i=0;i<arguments.length;i++){var _2f=this.mainDataList.getColumnIndex(arguments[i]);if(_2d==="bigDecimal"){ret=$W._b(ret).toString()==="0"?$W._b(this.mainDataList._getData(this.rowIndex,_2f)):$W._b(ret);ret=$W._b(ret).compare($W._b(this.mainDataList._getData(this.rowIndex,_2f)),true)||0;}else{var tmp=parseFloat(this.mainDataList._getData(this.rowIndex,_2f))||0;if(i==0||tmp<ret){ret=tmp;}}}return ret;};$W._j.dataListCellInfo.prototype.colcalc=function(str){var ret=0;function _push(_33,ele){_33[_33.length]=ele;}function _pop(_35){var _36=_35[_35.length-1];delete _35[_35.length-1];_35.length--;return (_36);}function isOperation(who){return ((!isOperator(who)&&(who!="(")&&(who!=")"))?true:false);}function isOperator(who){return ((who=="+"||who=="-"||who=="*"||who=="/"||who=="^"||who=="%")?true:false);}function topStack(_39){return (_39[_39.length-1]);}function isEmpty(_3a){return ((_3a.length==0)?true:false);}function isCalculation(who){if(who=="^"){return (5);}if((who=="*")||(who=="/")||(who=="%")){return (4);}if((who=="+")||(who=="-")){return (3);}if(who=="("){return (2);}if(who==")"){return (1);}}function InfixToPostfix(_3c,_3d,_3e){var _3d=new Array();var _3f=new Array();var _40=0;_3c=Tokens(_3c);for(var i=0;i<_3c.length;i++){if(isOperation(_3c[i])){_3d[_40]=_3c[i];_40++;}if(isOperator(_3c[i])){if(_3c[i]!="^"){while((!isEmpty(_3f))&&(isCalculation(_3c[i])<=isCalculation(topStack(_3f)))){_3d[_40]=topStack(_3f);_pop(_3f);_40++;}}else{while((!isEmpty(_3f))&&(isCalculation(_3c[i])<isCalculation(topStack(_3f)))){_3d[_40]=topStack(_3f);_pop(_3f);_40++;}}_push(_3f,_3c[i]);}if(_3c[i]=="("){_push(_3f,_3c[i]);}if(_3c[i]==")"){while(topStack(_3f)!="("){_3d[_40]=_pop(_3f);_40++;}_pop(_3f);}}while(!isEmpty(_3f)){if(topStack(_3f)=="("){_pop(_3f);}else{_3d[_3d.length]=_pop(_3f);}}var _42="";for(var i=0;i<_3d.length;i++){_42+=_3d[i];}if(_3e==0){return (_42);}else{return (_3d);}}function PostfixToInfix(_43){var _44=new Array();_43=_43.split("");for(var i=0;i<_43.length;i++){if(isOperation(_43[i])){_push(_44,_43[i]);}else{var _46=topStack(_44);_pop(_44);var _47="("+topStack(_44)+_43[i]+_46+")";_pop(_44);_push(_44,_47);}}return (topStack(_44));}function Tokens(str){var _49=str.split("");var _4a=new String("");var _4b=new Array();var _4c=0;for(var i=0;i<_49.length;i++){if(isOperation(_49[i])&&_49[i].match(/\s/)==null){_4a+=_49[i];}if(isOperator(_49[i])||_49[i]==")"||_49[i]=="("){if(_4a!=""){_4b[_4c]=_4a;_4c++;}_4a="";_4b[_4c]=_49[i];_4c++;}if(i==_49.length-1){if(_4a!=""){_4b[_4c]=_4a;}}}return (_4b);}function Calculation(_4e,_4f,sym){var _51;try{if(sym=="+"){_51=_4e.plus(_4f);}if(sym=="-"){_51=_4e.minus(_4f);}if(sym=="*"){_51=_4e.times(_4f);}if(sym=="/"){_51=_4e.divide(_4f);}if(sym=="^"){_51=_4e.pow(_4f);}if(sym=="%"){_51=_4e.mod(_4f);}return (_51);}catch(e){$W.exception.printStackTrace(e);}}function PostfixEval(_52){var _53=new Array();var _54;var _55;for(var i=0;i<_52.length;i++){if(isOperation(_52[i])){_push(_53,_52[i]);}else{_54=eval(topStack(_53));if(_54.constructor!=$W.bigDecimalObj){_54=$W._b(_54);}_pop(_53);_55=eval(topStack(_53));if(_55.constructor!=$W.bigDecimalObj){_55=$W._b(_55);}var _57=Calculation(_55,_54,_52[i]);_pop(_53);_push(_53,_57);}}return (topStack(_53));}var _58=InfixToPostfix(str);for(var i in _58){var _5a=this.mainDataList.getColumnIndex(_58[i]);_58[i]=_5a!=undefined?$W._b(this.mainDataList._getData(this.rowIndex,_5a)):_58[i];}return PostfixEval(_58);};$W._j.dataListCellInfo.prototype.display=function(){var _5b=this.mainDataList.getColumnIndex(arguments[0]);var ret=this.mainDataList.getCellData(this.rowIndex,_5b);return ret;};$W._j.dataListCellInfo.prototype.getRowIndex=function(){return this.mainDataList.getDisplayRowIndex(this.rowIndex);};;WebSquare.uiplugin.dataListCellController=$W._a._j;$W._j.dataListApiController=function(_1){["WebSquare.DataCollection.dataListApiController"];};$W._j.dataListApiController.prototype.getBroadcast=function(){return (this._broadCastFlag!==false);};$W._j.dataListApiController.prototype.setBroadcast=function(_2){if(_2===false){this._broadCastFlag=_2;}else{this._broadCastFlag=true;}};$W._j.dataListApiController.prototype.broadcast=function(_3){["WebSquare.DataCollection.dataListApiController.prototype.broadcast"];try{if($W._j["stopBroadCast"]||!this.getBroadcast()){return;}for(var id in this.childCompHash){var _5=null;if(_3.excludeId&&_3.excludeId[id]){if(_3.gridView&&_3.gridView[0]==="notifySettedCellData"){_5=_3.gridView[1].slice(0);_5[3]=true;}else{continue;}}var _6=this.childCompHash[id];if(_6!=null&&$W.idCache[_6.uuid]&&(typeof _6.render=="undefined"||_6.render!=null)){if(_6.activeStatus=="stop"&&typeof _6.preActivate=="function"){_6.preActivate();}var _7=_6.options.pluginName||_6.initializeType;switch(_7){case "linkedDataList":if(_3.linkedDataList){_6[_3.linkedDataList[0]].apply(_6,_3.linkedDataList[1]||[]);}break;case "grid":case "gridView":if(_3.gridView){_6[_3.gridView[0]].apply(_6,_5||_3.gridView[1]||[]);}break;case "fusionchart":if(_3.fusionChart){_6[_3.fusionChart[0]].apply(_6,_3.fusionChart[1]||[]);}break;case "mapchart":if(_3.generalComp=="refreshItemset"||_3.generalComp=="both"||_3.generalComp=="refreshItemArr"){_6.refreshDataLists(this.id);}break;case "pivot":if(_3.pivot){_6[_3.pivot[0]].apply(_6,_3.pivot[1]||[]);}break;case "treeview":if(_3.treeview){_6[_3.treeview[0]].apply(_6,_3.treeview[1]||[]);break;}default:if(_3.generalComp=="refreshItemset"||_3.generalComp=="both"){if(_6.modelControl.useItemset){_6.refreshItemset(_3.refreshMode);}}else{if(_3.generalComp=="rollback"){_6["rollback"]();}}break;}}}for(var id in this.refCompHash){if(_3.excludeId&&_3.excludeId[id]){continue;}var _6=this.refCompHash[id];if(_6!=null&&$W.idCache[_6.uuid]){if(_6.options.pluginName.indexOf("fw")<0&&_6.options.pluginName!=="fusionchart"&&_3.colID&&_6.modelControl&&_6.modelControl.dataCollectionRefInfo&&_6.modelControl.dataCollectionRefInfo.colID!=_3.colID){continue;}if(_6.activeStatus=="stop"&&typeof _6.preActivate=="function"){_6.preActivate();}switch(_6.options.pluginName){case "fusionchart":if(_3.fusionChart){_6[_3.fusionChart[0]].apply(_6,_3.fusionChart[1]||[]);}break;case "fwFunnelChart":if(_3.fwFunnelChart){_6[_3.fwFunnelChart[0]].apply(_6,_3.fwFunnelChart[1]||[]);}break;case "fwGanttChart":if(_3.fwGanttChart){_6[_3.fwGanttChart[0]].apply(_6,_3.fwGanttChart[1]||[]);}break;case "fwPyramidChart":if(_3.fwPyramidChart){_6[_3.fwPyramidChart[0]].apply(_6,_3.fwPyramidChart[1]||[]);}break;case "fwSparkChart":if(_3.fwSparkChart){_6[_3.fwSparkChart[0]].apply(_6,_3.fwSparkChart[1]||[]);}break;case "fwRealtimeChart":if(_3.fwRealtimeChart){_6[_3.fwRealtimeChart[0]].apply(_6,_3.fwRealtimeChart[1]||[]);}break;case "linkedDataList":if(_3.linkedDataList){_6.refresh();}break;default:if(_3.generalComp=="refresh"||_3.generalComp=="both"){if(_6.modelControl.useRef){_6.refresh();}}else{if(_3.generalComp=="binding"){_6["modelControl"]["binding"]();}}break;}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataListApiController.prototype.synchronize=function(){["WebSquare.DataCollection.dataListApiController.prototype.synchronize"];try{var _8=$W._j.parentToChildRelation[this.id];if(_8){for(var _9 in _8){if(_8[_9]){this.childCompHash[_9]=$W._G.getComponentById(_9);}}}this.broadcast({"gridView":["setDataList"],"linkedDataList":["setDataList"],"generalComp":["refreshItemArr"]});}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataListApiController.prototype.synchronizeRef=function(){["WebSquare.DataCollection.dataListApiController.prototype.synchronizeRef"];try{var _a=$W._j.parentToChildRef[this.id];if(_a){for(var _b in _a){if(_a[_b]){this.refCompHash[_b]=$W._G.getComponentById(_b);}}}this.broadcast({"gridView":["drawData",[0,0]],"generalComp":["refresh"]});}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataListApiController.prototype._addRelation=function(_c){["WebSquare.DataCollection.dataListApiController.prototype._addRelation"];try{if(!this.childCompHash){return;}var _d=$W._G.getComponentById(_c);if(!_d){return;}this.childCompHash[_c]=_d;if(_d.activeStatus=="stop"&&typeof _d.preActivate=="function"&&!_d.skipPreActivate){_d.preActivate();}var _e=_d.options.pluginName||_d.initializeType;switch(_e){case "linkedDataList":case "grid":case "gridView":_d.setDataList();break;default:break;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataListApiController.prototype._addRefRelation=function(_f){["WebSquare.DataCollection.dataListApiController.prototype._addRefRelation"];try{if(!this.refCompHash){return;}var _10=$W._G.getComponentById(_f);if(!_10){return;}this.refCompHash[_f]=_10;if(_10.activeStatus=="stop"&&typeof _10.preActivate=="function"){_10.preActivate();}var _11=_10.options.pluginName||_10.initializeType;switch(_11){case "grid":case "gridView":_10.drawData(0,0);break;default:if(_10.modelControl.useRef){_10.refresh();}break;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataListApiController.prototype.addChild=function(_12){["WebSquare.DataCollection.dataListApiController.prototype.addChild"];try{if(this.childCompHash){this.childCompHash[_12.id]=_12;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataListApiController.prototype.removeChild=function(_13){["WebSquare.DataCollection.dataListApiController.prototype.removeChild"];try{if(this.childCompHash){delete this.childCompHash[_13];}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataListApiController.prototype.addRefComp=function(_14){["WebSquare.DataCollection.dataListApiController.prototype.addRefComp"];try{this.refCompHash[_14.id]=_14;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataListApiController.prototype.removeRefComp=function(_15){["WebSquare.DataCollection.dataListApiController.prototype.removeRefComp"];try{delete this.refCompHash[_15];}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataListApiController.prototype.getConfiguredOptions=function(){["WebSquare.DataCollection.dataListApiController.prototype.getConfiguredOptions"];try{var _16=this.defaultOptions.pluginName;var _17,values;var ret={};this.configuredOptions={};if(!this.configuredOptions[_16]){var _19=$W.extendKeepingType({id:"",pluginType:"xfControl",pluginName:"",userEvents:[],xmlEvents:null,value:"",model:"",bind:"",style:"",useConfig:false},this.defaultOptions);if(_19.useConfig||$W._G.getBoolean($W._N.getConfiguration("/WebSquare/"+_16+"/useConfig/@value"))){var _1a=$W.configManager.getConfig(_16);_19=$W.extendKeepingType(_19,_1a);}_17=[];values=[];for(var key in _19){_17.push(key);values.push(_19[key]);}this.configuredOptions[_16]={keys:_17,values:values};}else{_17=this.configuredOptions[_16].keys;values=this.configuredOptions[_16].values;}for(var i=0;i<_17.length;i++){ret[_17[i]]=values[i];}return ret;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataListApiController.prototype.getStructure=function(){["WebSquare.DataCollection.dataListApiController.prototype.getStructure"];try{switch(this.elementType){case "XML":return this.xml2JSON(this.element);break;case "JSON":return this.json2Structure();break;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataListApiController.prototype.json2Structure=function(){["WebSquare.DataCollection.dataListApiController.prototype.json2Structure"];try{var _1d=this.element;var _1e={attr:{id:this.id},rowArr:[[]]};_1e.attr=$W.extendKeepingType(_1e.attr,_1d.options);for(var i=0;i<_1d.columnInfo.length;i++){var _20=_1d.columnInfo[i];_1e.rowArr[0].push(_20);}return _1e;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataListApiController.prototype.getInitializeType=function(){["WebSquare.DataCollection.dataListApiController.prototype.getInitializeType"];try{return this.getObjectType();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataListApiController.prototype.setColumnFilter=function(_21,_22,_23,_24){["WebSquare.DataCollection.dataListApiController.prototype.setColumnFilter"];try{var _25=this.getColumnIndex(_21);this.broadcast({"gridView":["notifyBeforeSettedColumnFilter"]});if(typeof arguments[0]==="object"&&!$W._G.isString(arguments[0])){if(arguments[0].type!=="row"&&arguments[0].type!=="func"&&arguments[0].type!=="regExp"){throw new Error("type does not support.[type:"+arguments[0].type+"]");}this.setFilter({type:arguments[0].type,colIndex:(typeof arguments[0].colIndex=="string"&&(arguments[0].colIndex).toLowerCase()=="rowstatus()")?"@rowStatus":arguments[0].colIndex,key:arguments[0].key,condition:arguments[0].condition,param:arguments[0].param});}else{this.setFilter({type:"row",colIndex:_25,key:_22,condition:_23,exactMatch:_24});}this.broadcast({"gridView":["notifyAfterSettedColumnFilter"]});}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataListApiController.prototype.removeColumnFilter=function(_26){["WebSquare.DataCollection.dataListApiController.prototype.removeColumnFilter"];try{var _27=this.getColumnID(_26);this.broadcast({"gridView":["notifyBeforeRemovedColumnFilter"]});this.removeFilter({type:"row",colIndex:_26.toLowerCase()=="rowstatus()"?"@rowStatus":_27,key:""},false);this.removeFilter({type:"func",colIndex:_27,key:""},false);this.removeFilter({type:"regExp",colIndex:_27,key:""},true);this.broadcast({"gridView":["notifyAfterRemovedColumnFilter"]});}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataListApiController.prototype.clearSortFilter=function(){["WebSquare.DataCollection.dataListApiController.prototype.clearSortFilter"];try{var _28="sort^@";this.filterManager.deleteFilterById(_28,false);this.filterManager.executeAllFilter(this.dataArr,this.getTotalRow(),this.getColumnCount());this.sortStatusInfo={};this.sortStatusArr=[];this.broadcast({"gridView":["notifyClearSortFilter"]});}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataListApiController.prototype.removeColumnFilterAll=function(){["WebSquare.DataCollection.dataListApiController.prototype.removeColumnFilter"];try{this.clearFilter();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataListApiController.prototype.removeFilter=function(_29,_2a){["WebSquare.DataCollection.dataListApiController.prototype.removeFilter"];try{_29=$W.extend({type:"",colIndex:-1,key:"",condition:"and"},_29||{});_2a=(typeof _2a=="undefined")?true:_2a;if(_29.colIndex!="@rowStatus"){if(typeof _29.colIndex=="string"){_29.colIndex=this.getColumnIndex(_29.colIndex);}}var _2b=_29.type+"^@"+_29.colIndex+"^@"+_29.key;this.filterManager.deleteFilter(_2b,this.dataArr,this.getTotalRow(),this.getTotalCol(),_29,_2a);this.broadcast({"gridView":["notifyRemovedFilter"],"generalComp":"both"});}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataListApiController.prototype.clearFilter=function(_2c){["WebSquare.DataCollection.dataListApiController.prototype.clearFilter"];try{this.filterManager.clear();this.filteredRowIndexArr=[];var len=this.getTotalRow();for(var i=0;i<len;i++){this.filteredRowIndexArr.push(i);}if(!_2c){this.broadcast({"gridView":["notifyClearFilter"],"generalComp":"both"});}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataListApiController.prototype.sort=function(_2f,_30){["WebSquare.DataCollection.dataListApiController.prototype.sort"];try{switch(_30){case 0:this.setFilter({type:"sort",sortIndex:_2f,sortOrder:"1",dataType:"text"});break;case 1:this.setFilter({type:"sort",sortIndex:_2f,sortOrder:"-1",dataType:"text"});break;case 2:this.clearSortFilter();break;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataListApiController.prototype.clearSort=function(){["WebSquare.DataCollection.dataListApiController.prototype.removeColumnFilter"];try{this.broadcast({"gridView":["notifyBeforeClearSort"]});this.clearSortFilter();this.broadcast({"gridView":["notifySetFocusedCell"],"generalComp":"both"});}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataListApiController.prototype.multisort=function(_31){["WebSquare.DataCollection.dataListApiController.prototype.multisort"];try{_31.type="sort";_31.sortOrder=_31.sortOrder||[];var _32;var _33;var _34=typeof _31.sortIndex;var _35=typeof _31.sortOrder;if(_34=="object"){_32=_31.sortIndex;}else{if(_34=="string"){_32=_31.sortIndex.split(" ");}}if(_35=="object"){_33=_31.sortOrder;}else{if(_35=="string"){_33=_31.sortOrder.split(" ");}}for(var i=0;i<_32.length-_33.length;i++){_33.push(1);}var _37=[];for(var i=0;i<_32.length;i++){var _38=this.getCellInfo(this.getColumnID(_32[i]));var _39=_38.options.dataType=="number"?"number":"text";_37.push(_39);}_31.dataType=_37.join(" ");this.setFilter(_31);this.broadcast({"gridView":["notifyMultisort"],"generalComp":"both"});}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataListApiController.prototype.setFilter=function(_3a){["WebSquare.DataCollection.dataListApiController.prototype.setFilter"];try{this.broadcast({"gridView":["notifySaveFocusedCell"]});_3a=$W.extend({type:"",colIndex:-1,key:"",condition:"and",bodyIdColIndexMap:this.bodyIdColIndexMap,dataList:this.id},_3a||{});if(_3a.colIndex!="@rowStatus"){if(typeof _3a.colIndex=="string"){_3a.colIndex=this.bodyIdColIndexMap[_3a.colIndex];}var _3b=this.getCellInfo(_3a.colIndex);var _3c=_3b.options.dataType;_3a.columnDataType=_3c;}var _3d=false;if(_3a.sortIndex){this.sortStatusInfo={};this.sortStatusArr=[];var _3e=[];var _3f=[];var _40=[];if(typeof _3a.sortIndex=="string"){_3e=_3a.sortIndex.wq_trim().split(" ");}else{_3e=_3a.sortIndex;}if(_3a.sortOrder&&typeof _3a.sortOrder=="string"){_3f=_3a.sortOrder.wq_trim().split(" ");}else{if(typeof _3a.sortOrder=="object"){_3f=_3a.sortOrder;}}if(_3a.dataType){_40=_3a.dataType.wq_trim().split(" ");}_3a.sortIndexArr=[];_3a.sortOrderArr=[];_3a.dataTypeArr=[];_3a.sortIdArr=[];_3a.numberExtractionValueArr=[];for(var i=0;i<_3e.length;i++){if(isNaN(_3e[i])){if(_3a.isExpression&&_3a.fakeExpressionArr){_3a.sortIndexArr.push(this.getColCnt());}else{_3a.sortIndexArr.push(this.bodyIdColIndexMap[_3e[i]]);}}else{_3a.sortIndexArr.push(parseInt(_3e[i],10));}var _42=parseInt(_3f[i]);if(isNaN(_42)){_42=1;}_3a.sortOrderArr.push(_42);_3a.dataTypeArr.push(_40[i]||"text");if(_3a.isExpression&&_3a.fakeExpressionArr){_3a.sortIdArr.push(_3e[i]);}else{_3a.sortIdArr.push(this.getColumnID(_3a.sortIndexArr[i]));}var _43={};var _3b=this.getCellInfo(_3a.sortIdArr[i]);var _44=_3b.options.numberExtraction=="true"?true:false;_3a.numberExtractionValueArr.push(_44);var _45=_3b.options.dataType=="number"?"number":"text";_43.colID=_3a.sortIdArr[i];_43.sortOrder=_3a.sortOrderArr[i];_43.dataType=_45;if(_3a.dataType!=_45){_3a.dataType=_45;_3a.dataTypeArr[i]=_45;}this.sortStatusInfo[_43.colID]=_43;this.sortStatusArr.push(_43);this.sortStatusArr[_43.colID]=_43;}_3d=true;}_3a.numberExtraction=this.options.numberExtraction;var _46=_3a.type+"^@"+_3a.colIndex+"^@"+_3a.key;this.filterManager.addFilter(_46,this.getTotalRow(),this.getTotalCol(),_3a);this.broadcast({"gridView":["notifySettedFilter",[{"isSort":_3d}]],"generalComp":"both"});}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataListApiController.prototype.getFilterList=function(){["WebSquare.DataCollection.dataListApiController.prototype.getFilterList"];try{var ret=[];for(var i=0;i<this.filterManager.filterArr.length;i++){ret.push(this.filterManager.filterArr[i].options);}return ret;}catch(e){$W.exception.printStackTrace(e);}};$W._j.dataListApiController.prototype.setXMLLayout=function(_49,_4a,_4b){["WebSquare.DataCollection.dataListApiController.prototype.setXMLLayout"];try{if(_49!="undefined"&&_49!=null&&_49!=""){if(_49.endsWith("/")){this.options.baseNode=_49.substring(0,_49.length-1);}else{this.options.baseNode=_49;}}else{this.options.baseNode="";}if(_4a!="undefined"&&_4a!=null){if(_4a.startsWith("/")){_4a=_4a.substring(1);}if(_4a.endsWith("/")){_4a=_4a.substring(0,_4a.length-1);}this.options.repeatNode=_4a;}if(_4b!="undefined"&&_4b!=null){this.options.valueNode=_4b;}else{this.options.valueNode="";}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataListApiController.prototype.xmlData2ArrData=function(_4c,_4d){["WebSquare.DataCollection.dataListApiController.prototype.xmlData2ArrData"];try{if(_4c==null){return;}if(_4c.nodeType==9){var _4e=_4c.selectNodes("/"+this.options.baseNode+"/"+this.options.repeatNode);}else{var _4f=this.options.baseNode;if(_4f.startsWith(_4c.tagName)){var _4f=_4f.replace(_4c.tagName,".");var _4e=_4c.selectNodes(_4f+"/"+this.options.repeatNode);}if(_4e.length==0){_4c=$W._B.parse($W._B.serialize(_4c));var _4e=_4c.selectNodes("/"+this.options.baseNode+"/"+this.options.repeatNode);}}var _50=[];var _51=this.options.valueNode;var _52=_51==null||_51=="";var _53=$W._G.getTextNodeValue;var _54=_4e.length;var _55=this.cellIdList.length;var _56=[];for(var i=0;i<_55;i++){_56[i]=this.getCellInfo(this.cellIdList[i]);}var _58={};var _59=false;if(typeof _4d==="object"&&_4d!=null&&_4d.constructor===Array){_59=true;for(var t=0;t<_4d.length;t++){_58[_4d[t]]=true;}}for(var i=0;i<_54;i++){var obfuscator_i=i;var obfuscator_rowXml=_4e[i];var len=_50.length;var obfuscator_rowDataObj={};var _5c=[];for(var j=0;j<_55;j++){var _5e=this.cellIdList[j];if(_59&&!_58[_5e]){_50[len+j]=_56[j].options.defaultValue;if(this.options.xmlEncode&&_50[len+j]!=null){_50[len+j]=$W._B.decode(_50[len+j]);}obfuscator_rowDataObj[_5e]=_50[len+j];continue;}if(_56[j].options.importExp){try{_50[len+j]=eval(_56[j].options.importExp);}catch(e){_50[len+j]=_56[j].options.defaultValue;$W.exception.printStackTrace(e,null,this);}}else{if(_56[j].options.importFormatter){_5c.push(j);continue;}else{var _5f=_4e[i].selectSingleNode(_5e);if(_5f!=null){if(_52){_50[len+j]=_53(_5f);}else{_50[len+j]=_5f.getAttribute(_51);}}else{_50[len+j]=_56[j].options.defaultValue;}}}if(this.options.xmlEncode&&_50[len+j]!=null){_50[len+j]=$W._B.decode(_50[len+j]);}obfuscator_rowDataObj[_5e]=_50[len+j];}for(var _60=0;_60<_5c.length;_60++){try{var _61=$W._G.getGlobalFunction(_56[_5c[_60]].options.importFormatter,this.scope_id);_50[len+_5c[_60]]=_61.call(this,obfuscator_rowDataObj,obfuscator_i,_5c[_60]);}catch(e){_50[len+_5c[_60]]=_56[_5c[_60]].options.defaultValue;$W.exception.printStackTrace(e,null,this);}}}return _50;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataListApiController.prototype.jsonData2ArrData=function(_62,_63){["WebSquare.DataCollection.dataListApiController.prototype.jsonData2ArrData"];try{if(_62==null){return;}var _64=[];var _65=this.options.valueNode;var _66=_62.length;var _67=this.cellIdList.length;var _68=[];for(var i=0;i<_67;i++){_68[i]=this.getCellInfo(this.cellIdList[i]);}var _6a={};var _6b=false;if(typeof _63==="object"&&_63!=null&&_63.constructor===Array){var _6b=true;for(var t=0;t<_63.length;t++){_6a[_63[t]]=true;}}for(var i=0;i<_66;i++){var obfuscator_i=i;var obfuscator_rowXml=_62[i];var len=_64.length;for(var j=0;j<_67;j++){var obfuscator_j=j;var _6f=this.cellIdList[j];if(_6b&&!_6a[_6f]){_64[len+j]=_68[j].options.defaultValue;continue;}if(_68[j].options.importExp){try{_64[len+j]=eval(_68[j].options.importExp);}catch(e){_64[len+j]=_68[j].options.defaultValue;$W.exception.printStackTrace(e,null,this);}}else{if(_68[j].options.importFormatter){try{var _70=$W._G.getGlobalFunction(_68[j].options.importFormatter,this.scope_id);_64[len+j]=_70.call(this,obfuscator_rowXml,obfuscator_i,_6f);}catch(e){_64[len+j]=_68[j].options.defaultValue;$W.exception.printStackTrace(e,null,this);}}else{var _71=_62[i][_6f];if(_71!=null){_64[len+j]=_71;}else{_64[len+j]=_68[j].options.defaultValue;}}}}}return _64;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataListApiController.prototype.columnValue=function(_72,_73){["WebSquare.DataCollection.dataListApiController.prototype.columnValue"];if(typeof _72[_73]!="undefined"){return _72[_73];}if(typeof _72.selectSingleNode!="undefined"){var _74=_72.selectSingleNode(_73);if(_74!=null){var _75=this.options.valueNode;var _76=_75==null||_75=="";if(_76){return this.getTextNodeValue(_74);}else{return _74.getAttribute(_75);}}}var _77=this.getCellInfo(_73);if(_77&&_77.options){return _77.options.defaultValue;}return "";};$W._j.dataListApiController.prototype.xpathValue=function(_78,_79){["WebSquare.DataCollection.dataListApiController.prototype.xpathValue"];try{var v=$W._B.findNode(_78,_79);if(v==null){return "";}if(v.nodeType==1){for(var _7b=v.firstChild;_7b!=null;_7b=_7b.nextSibling){if(_7b.nodeType==3){return _7b.nodeValue;}}}else{return v.nodeValue;}}catch(e){$l("xpath exeption");$W.exception.printStackTrace(e,null,this);}return "";};$W._j.dataListApiController.prototype.rowIndexValue=function(_7c){["WebSquare.DataCollection.dataListApiController.prototype.rowIndexValue"];return _7c;};$W._j.dataListApiController.prototype.getArrXML=function(_7d,_7e){["WebSquare.DataCollection.dataListApiController.prototype.getArrXML"];try{if(typeof _7e==="undefined"||_7e==null){_7e={};}var _7f;switch(this.initializeType){case "grid":for(var id in this.childCompHash){return this.childCompHash[id].getArrXML(_7d);}case "gridView":case "dataList":_7f=this.id;break;case "dataMap":case "removeManager":case "linkedDataList":_7f=this.parent.id;break;}if(_7e.id){_7f=_7e.id;}else{_7f=this.id;if(this.scope_obj){_7f=this.org_id||this.id;}}var _81=(_7e.initializeType)?_7e.initializeType:this.initializeType;var _82=(_7e.rowStatusNodeName)?_7e.rowStatusNodeName:this.options.rowStatusNodeName;var _83=(_7e.baseNode||_7e.baseNode=="")?_7e.baseNode:this.options.baseNode;var _84=(_7e.repeatNode||_7e.repeatNode=="")?_7e.repeatNode:this.options.repeatNode;var _85=(_7e.idAttribute||_7e.idAttribute=="")?_7e.idAttribute:this.options.idAttribute;var _86=(_7e.valueAttribute||_7e.valueAttribute=="")?_7e.valueAttribute:this.options.valueAttribute;if(_7d instanceof Array){var _87=false;this.tagNmArr=_83.replace(/\[[^\]]+\]/g,"").split("/");_85=_85==""?"id":_85;for(var i=0;i<this.tagNmArr.length;i++){if(this.tagNmArr[i]!=null&&this.tagNmArr[i].wq_trim()!=""){if(!_87){var _89=[];var _8a=$W._B.parse("<"+this.tagNmArr[i]+"/>");_8a.documentElement.setAttribute(_85,_7f);_89.push(_8a.documentElement);_87=true;}else{var _8b=_8a.createElement(this.tagNmArr[i]);_8b.setAttribute(_85,_7f);_89.push(_8b);_89[i-1].appendChild(_89[i]);}}}switch(this.initializeType){case "dataList":if(this.options.attributeMap){var _8c=$W._G.getComponentById(this.options.attributeMap);if(_8c){for(var i=0;i<_89.length;i++){for(var j=0;j<_8c.getCount();j++){_89[i].setAttribute(_8c.getKey(j),_8c.get(j));}}}}break;}var _8e=_84.replace(/\[[^\]]+\]/g,"").split("/");var _8f=null;for(var i=0;i<_7d.length;i++){var obfuscator_rowIndex=_7d[i];_8f=[];var obfuscator_objLastNode=null;for(var j=0;j<_8e.length;j++){if(_8e[j]!=""){var _90=_8a.createElement(_8e[j]);_8f.push(_90);if(j==0){_89[_89.length-1].appendChild(_90);}else{_8f[j-1].appendChild(_8f[j]);}}}obfuscator_objLastNode=_8f[_8e.length-1];switch(this.initializeType){case "dataList":obfuscator_objLastNode.setAttribute("index",obfuscator_rowIndex);break;case "removeManager":obfuscator_objLastNode.setAttribute("index","removed");break;case "dataMap":if(this.parent.options.attributeMap){var _8c=$W._G.getComponentById(this.parent.options.attributeMap);for(var i=0;i<_8f.length;i++){_8f[i].setAttribute(_85,this.parent.id);if(_8c){for(var j=0;j<_8c.getCount();j++){_8f[i].setAttribute(_8c.getKey(j),_8c.get(j));}}}}else{for(var i=0;i<_8f.length;i++){_8f[i].setAttribute(_85,this.parent.id);}}break;}var _91=this.getColumnCount()+1;if(typeof _7e.includeColumns==="object"&&_7e.includeColumns!=null&&_7e.includeColumns.constructor===Array){_91=_7e.includeColumns.length+1;}else{_91=this.getColumnCount()+1;}var _92=new Array(_91);for(var t=0;t<_91;t++){if(t==_91-1){if(_81!="dataList"&&_81!="removeManager"&&_81!="linkedDataList"){continue;}var obfuscator_cellValue="";obfuscator_cellValue=this.getRowStatus(obfuscator_rowIndex);if(obfuscator_cellValue==null){obfuscator_cellValue="";}if(this.options.xmlEncode){obfuscator_cellValue=$W._B.encode(obfuscator_cellValue);}_92[t]=_8a.createElement(_82);if(_86==""){var _94=_8a.createTextNode(obfuscator_cellValue);_92[t].appendChild(_94);}else{_92[t].setAttribute(_86,obfuscator_cellValue);}_92[t].setAttribute("statusValue",this.getRowStatusValue(obfuscator_rowIndex));obfuscator_objLastNode.appendChild(_92[t]);if(this.options.rowNumData){var obfuscator_rowNumValue=_8a.createTextNode(obfuscator_rowIndex+1);_92[t+1]=_8a.createElement("rowNum");_92[t+1].appendChild(obfuscator_rowNumValue);obfuscator_objLastNode.appendChild(_92[t+1]);}}else{var obfuscator_columnID="";if(typeof _7e.includeColumns==="object"&&_7e.includeColumns!=null&&_7e.includeColumns.constructor===Array){obfuscator_columnID=_7e.includeColumns[t];}else{obfuscator_columnID=this.cellIdList[t];}var col=this.bodyIdColIndexMap[obfuscator_columnID];var _96=this.cellInfoHash[obfuscator_columnID];var obfuscator_cellValue="";var _97=(this.options.depthColumn)?obfuscator_rowIndex:this.filteredRowIndexArr[obfuscator_rowIndex];if(_96){if(_96.options.inputType=="expression"){obfuscator_cellValue=_96.getExpressionValue(_97);}else{obfuscator_cellValue=this.dataArr[_97*this.cellIdList.length+col];}}if(obfuscator_cellValue==null){obfuscator_cellValue="";}if(this.options.xmlEncode){obfuscator_cellValue=$W._B.encode(obfuscator_cellValue);}_92[t]=_8a.createElement(obfuscator_columnID);if(_86==""){var _94=_8a.createTextNode(obfuscator_cellValue);_92[t].appendChild(_94);}else{_92[t].setAttribute(_86,obfuscator_cellValue);}obfuscator_objLastNode.appendChild(_92[t]);}}}return _8a;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataListApiController.prototype.getAllArrXML=function(_98){["WebSquare.DataCollection.dataListApiController.prototype.getArrXML"];try{if(typeof _98==="undefined"||_98==null){_98={};}var _99;switch(this.initializeType){case "grid":for(var id in this.childCompHash){return this.childCompHash[id].getAllArrXML();}case "dataList":case "gridView":_99=this.id;break;case "dataMap":case "removeManager":case "linkedDataList":_99=this.parent.id;break;}if(_98.id){_99=_98.id;}else{_99=this.id;if(this.scope_obj){_99=this.org_id||this.id;}}var _9b=(_98.initializeType)?_98.initializeType:this.initializeType;var _9c=(_98.rowStatusNodeName)?_98.rowStatusNodeName:this.options.rowStatusNodeName;var _9d=(_98.baseNode||_98.baseNode=="")?_98.baseNode:this.options.baseNode;var _9e=(_98.repeatNode||_98.repeatNode=="")?_98.repeatNode:this.options.repeatNode;var _9f=(_98.idAttribute||_98.idAttribute=="")?_98.idAttribute:this.options.idAttribute;var _a0=(_98.valueAttribute||_98.valueAttribute=="")?_98.valueAttribute:this.options.valueAttribute;var _a1=false;this.tagNmArr=_9d.replace(/\[[^\]]+\]/g,"").split("/");var _9f=_9f==""?"id":_9f;for(var i=0;i<this.tagNmArr.length;i++){if(this.tagNmArr[i]!=null&&this.tagNmArr[i].wq_trim()!=""){if(!_a1){var _a3=[];var _a4=$W._B.parse("<"+this.tagNmArr[i]+"/>");_a4.documentElement.setAttribute(_9f,_99);_a3.push(_a4.documentElement);_a1=true;}else{var _a5=_a4.createElement(this.tagNmArr[i]);_a5.setAttribute(_9f,_99);_a3.push(_a5);_a3[i-1].appendChild(_a3[i]);}}}switch(this.initializeType){case "dataList":if(this.options.attributeMap){var _a6=$W._G.getComponentById(this.options.attributeMap);if(_a6){for(var i=0;i<_a3.length;i++){for(var j=0;j<_a6.getCount();j++){_a3[i].setAttribute(_a6.getKey(j),_a6.get(j));}}}}break;}var _a8=_9e.replace(/\[[^\]]+\]/g,"").split("/");var _a9=null;for(var i=0;i<this.getTotalRow();i++){var obfuscator_rowIndex=i;_a9=[];var obfuscator_objLastNode=null;for(var j=0;j<_a8.length;j++){if(_a8[j]!=""){var _aa=_a4.createElement(_a8[j]);_a9.push(_aa);if(j==0){_a3[_a3.length-1].appendChild(_aa);}else{_a9[j-1].appendChild(_a9[j]);}}}obfuscator_objLastNode=_a9[_a8.length-1];switch(this.initializeType){case "dataList":obfuscator_objLastNode.setAttribute("index",obfuscator_rowIndex);break;case "removeManager":obfuscator_objLastNode.setAttribute("index","removed");break;case "dataMap":if(this.parent.options.attributeMap){var _a6=$W._G.getComponentById(this.parent.options.attributeMap);for(var i=0;i<_a9.length;i++){_a9[i].setAttribute(_9f,this.parent.id);if(_a6){for(var j=0;j<_a6.getCount();j++){_a9[i].setAttribute(_a6.getKey(j),_a6.get(j));}}}}else{for(var i=0;i<_a9.length;i++){_a9[i].setAttribute(_9f,this.parent.id);}}break;}var _ab=0;if(typeof _98.includeColumns==="object"&&_98.includeColumns!=null&&_98.includeColumns.constructor===Array){_ab=_98.includeColumns.length+1;}else{_ab=this.getColumnCount()+1;}var _ac=new Array(_ab);for(var t=0;t<_ab;t++){if(t==_ab-1){if(_9b!="dataList"&&_9b!="removeManager"&&_9b!="linkedDataList"){continue;}var obfuscator_cellValue="";obfuscator_cellValue=this._getRowStatus(obfuscator_rowIndex);if(obfuscator_cellValue==null){obfuscator_cellValue="";}if(this.options.xmlEncode){obfuscator_cellValue=$W._B.encode(obfuscator_cellValue);}_ac[t]=_a4.createElement(_9c);if(_a0==""){var _ae=_a4.createTextNode(obfuscator_cellValue);_ac[t].appendChild(_ae);}else{_ac[t].setAttribute(_a0,obfuscator_cellValue);}_ac[t].setAttribute("statusValue",this._getRowStatusValue(obfuscator_rowIndex));obfuscator_objLastNode.appendChild(_ac[t]);}else{var obfuscator_columnID="";if(typeof _98.includeColumns==="object"&&_98.includeColumns!=null&&_98.includeColumns.constructor===Array){obfuscator_columnID=_98.includeColumns[t];}else{obfuscator_columnID=this.cellIdList[t];}var col=this.bodyIdColIndexMap[obfuscator_columnID];var _b0=this.getCellInfo(col);var obfuscator_cellValue="";obfuscator_cellValue=this._getData(obfuscator_rowIndex,col);if(this.options.xmlEncode){obfuscator_cellValue=$W._B.encode(obfuscator_cellValue);}_ac[t]=_a4.createElement(obfuscator_columnID);if(_a0==""){var _ae=_a4.createTextNode(obfuscator_cellValue);_ac[t].appendChild(_ae);}else{_ac[t].setAttribute(_a0,obfuscator_cellValue);}obfuscator_objLastNode.appendChild(_ac[t]);}}}return _a4;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataListApiController.prototype.xml2JSON=function(_b1){var obj={attr:{},rowArr:[]};for(var i=0;i<_b1.attributes.length;i++){if($W.nodeValueDeprecated){obj.attr[_b1.attributes[i].name]=_b1.attributes[i].value;}else{obj.attr[_b1.attributes[i].nodeName]=_b1.attributes[i].nodeValue;}}var _b4;var _b5;switch(this.initializeType){case "removeManager":case "dataList":_b4="columnInfo";_b5="column";break;case "dataMap":_b4="keyInfo";_b5="key";break;case "grid":_b4="row";_b5="column";break;}var _b6=$W._B.getElementsByTagName(_b1,_b4,$W._N._XML_NAMESPACE.W2);for(var i=0;i<_b6.length;i++){var _b7=$W._B.getElementsByTagName(_b6[i],_b5,$W._N._XML_NAMESPACE.W2);var _b8=[];for(var j=0;j<_b7.length;j++){var _ba=_b7[j];var col={"@xml":_ba};for(var k=0;k<_ba.attributes.length;k++){if($W.nodeValueDeprecated){col[_ba.attributes[k].name]=_ba.attributes[k].value;}else{col[_ba.attributes[k].nodeName]=_ba.attributes[k].nodeValue;}}col["@xml"].setAttribute("col_id",col.id);col["@xml"].setAttribute("id",this.id+"_"+col.id);_b8.push(col);}obj.rowArr.push(_b8);}if(_b6.length===0){obj.rowArr.push([]);}return obj;};$W._j.dataListApiController.prototype.getTextNodeValue=function(_bd){["WebSquare.DataCollection.dataListApiController.prototype.getTextNodeValue"];var _be=null;for(var _bf=_bd.firstChild;_bf!=null;_bf=_bf.nextSibling){if(_bf.nodeType=="3"){_be=_bf.nodeValue;}}return _be;};$W._j.dataListApiController.prototype.getID=function(){["WebSquare.DataCollection.dataListApiController.prototype.getID"];try{return this.id;}catch(e){$W.exception.printStackTrace(e);}};$W._j.dataListApiController.prototype.getOption=function(_c0){["WebSquare.DataCollection.dataListApiController.prototype.getOption"];try{var _c1=_c0 in this.options;var _c2=this.options.attributeMap;if(_c1){return this.options[_c0];}else{if(_c2){var _c3=$W._G.getComponentById(_c2);if(_c3&&_c3.hasKey(_c0)){return _c3.get(_c0);}}}return;}catch(e){$W.exception.printStackTrace(e);}};$W._j.dataListApiController.prototype.setOption=function(key,_c5){["WebSquare.DataCollection.dataListApiController.prototype.setOption"];try{if(typeof _c5=="string"&&_c5.wq_trim()=="$none"){_c5="";}if(key in this.options){this.options[key]=_c5;}var _c6=this.options.attributeMap;if(_c6){var _c7=$W._G.getComponentById(_c6);if(_c7&&_c7.hasKey(key)){_c7.set(key,_c5);}}}catch(e){$W.exception.printStackTrace(e);}};$W._j.dataListApiController.prototype.syncWithAttributeMap=function(key,_c9){["WebSquare.DataCollection.dataListApiController.prototype.syncWithAttributeMap"];try{if(this.options.attributeMap){var _ca=$W._G.getComponentById(this.options.attributeMap);if(_ca){var _cb=_ca.getCount();for(var i=0;i<_cb;i++){var key=_ca.getKey(i);var _c9=_ca.get(i);this.options[key]=_c9;}}}}catch(e){$W.exception.printStackTrace(e);}};$W._j.dataListApiController.prototype.getObjectType=function(){["WebSquare.DataCollection.dataListApiController.getObjectType"];try{var _cd=this.initializeType;if(_cd=="dataList"){return _cd;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataListApiController.prototype.reset=function(){["WebSquare.DataCollection.dataListApiController.reset"];try{if(this.initializeType=="dataList"){this.removeAll();if(this.elementType=="XML"){var _ce=$W._B.getElementsByTagName(this.element,"data",$W._N._XML_NAMESPACE.W2)[0];if(_ce){if(this.useData){this.allowTextNode=true;var _cf=$W._B.getElementsByTagName(_ce,"row",$W._N._XML_NAMESPACE.W2);for(var i=0;i<_cf.length;i++){this.setRowXML(i,_cf[i]);}this.modifyAllStatus("R");this.allowTextNode=false;}}}else{if(this.elementType=="JSON"){if(this.useData&&this.element.data){this.setJSON(this.element.data);this.modifyAllStatus("R");}}}this.reform();}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataListApiController.prototype.initDataList=function(){["WebSquare.DataCollection.dataListApiController.initDataList"];try{this.broadcast({"gridView":["notifyBeforeInitDataList"]});ret=this.dataList.removeAll();this.clearFilter();this.broadcast({"gridView":["notifyAfterInitDataList"]});return ret;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataListApiController.prototype.getColumnOption=function(_d1,_d2){["WebSquare.DataCollection.dataListApiController.getColumnOption"];try{var ret;var _d4=this.getCellInfo(_d1);ret=_d4.options[_d2];return ret;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataListApiController.prototype.setColumnOption=function(_d5,_d6,_d7){["WebSquare.DataCollection.dataListApiController.getColumnOption"];try{var ret;var _d9=this.getCellInfo(_d5);_d9.options[_d6]=_d7;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataListApiController.prototype.setRowNumData=function(_da){["WebSquare.DataCollection.dataListApiController.prototype.setRowNumData"];try{if($W._G.getBoolean(_da)){this.options.rowNumData=true;}else{this.options.rowNumData=false;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataListApiController.prototype.getColumnInfo=function(_db,_dc){["WebSquare.DataCollection.dataListApiController.prototype.setRowNumData"];try{var id="";var _de=-1;if(typeof _db=="number"){id=this.cellIdList[_db];_de=_db;}else{id=_db;_de=this.bodyIdColIndexMap[_db];}if(typeof _dc!=="number"){_dc=0;}if(_de>-1&&_de<this.structure.rowArr[_dc].length){var _df={};for(var _e0 in this.structure.rowArr[_dc][_de]){if(_e0==="@xml"){continue;}_df[_e0]=this.structure.rowArr[_dc][_de][_e0];}return _df;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataListApiController.prototype.getInfo=function(_e1,_e2){["WebSquare.DataCollection.dataListApiController.prototype.setRowNumData"];try{var ret={};if(typeof _e1!=="string"){if(this.initializeType==="dataList"){_e1="dataListInfo";}else{if(this.initializeType==="dataMap"){_e1="dataMapInfo";}else{_e1="attr";}}}if(typeof _e2!=="string"){if(this.initializeType==="dataList"){_e2="columnInfo";}else{if(this.initializeType==="dataMap"){_e2="keyInfo";}else{_e2="col";}}}ret[_e1]=$W.extend({},this.structure.attr);ret[_e2]={};if(this.structure.rowArr.length>1){for(var i=0;i<this.structure.rowArr.length;i++){var _e5=_e2+i;ret[_e2][_e5]={};for(var j=0;j<this.structure.rowArr[i].length;j++){ret[_e2][_e5][this.cellIdList[j]]=this.getColumnInfo(j,i);}}}else{if(this.structure.rowArr.length===1){for(var i=0;i<this.structure.rowArr[0].length;i++){ret[_e2][this.cellIdList[i]]=this.getColumnInfo(i);}}}return ret;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataListApiController.prototype.fireOnModelChangeEvent=function(_e7){["WebSquare.DataCollection.dataListApiController.prototype.fireOnModelChangeEvent"];try{if(_e7){var _e8={"type":_e7.type,"rowIndex":_e7.rowIndex,"colID":_e7.colID,"oldValue":_e7.oldValue,"newValue":_e7.newValue};$W._c.fireEvent(this,"onmodelchange",_e8);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataListApiController.prototype.fireOnBeforeColumnChangeEvent=function(_e9){["WebSquare.DataCollection.dataListApiController.prototype.fireOnBeforeColumnChangeEvent"];try{if(_e9){return $W._c.fireEvent(this,"onbeforecolumnchange",{"oldColID":_e9.oldColumnID,"newColID":_e9.newColumnID});}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataListApiController.prototype.fireOnColumnChangeEvent=function(_ea){["WebSquare.DataCollection.dataListApiController.prototype.fireOnColumnChangeEvent"];try{if(_ea){return $W._c.fireEvent(this,"oncolumnchange",{"oldColID":_ea.oldColumnID,"newColID":_ea.newColumnID});}}catch(e){$W.exception.printStackTrace(e,null,this);}};;WebSquare.uiplugin.dataListApiController=$W._a.bg;$W._j.filterController=function(_1){this.parent=_1;this.filterArr=[];this.allRowIndexArr=[];this.firstFiltering=true;};$W._j.filterController.prototype.useFilter=function(){if(this.filterArr.length!=0){return true;}return false;};$W._j.filterController.prototype.clear=function(){this.filterArr=[];this.firstFiltering=true;};$W._j.filterController.prototype._setAllRowIndexArr=function(_2){if(this.allRowIndexArr.length!=_2){this.allRowIndexArr=[];for(var i=0;i<_2;i++){this.allRowIndexArr.push(i);}}};$W._j.filterController.prototype.executeAllFilter=function(_4,_5,_6){this._setAllRowIndexArr(_5);this.firstFiltering=true;for(var i=0;i<this.filterArr.length;i++){this.executeFilter(this.filterArr[i],_4,_5,_6);}if(this.filterArr.length==0){for(var i=0;i<this.parent.getDataLength();i++){this.parent.filteredRowIndexArr[i]=i;}}};$W._j.filterController.prototype.executeFilter=function(_8,_9,_a,_b){["WebSquare.DataCollection.filterController.prototype.executeFilter"];try{if(_8.options.condition=="and"){if(this.firstFiltering){this.parent.filteredRowIndexArr=_8.execute(_9,_a,_b,this.allRowIndexArr);}else{this.parent.filteredRowIndexArr=_8.execute(_9,_a,_b,this.parent.filteredRowIndexArr);}}else{if(_8.options.condition=="or"){var _c=_8.execute(_9,_a,_b,this.allRowIndexArr);if(this.firstFiltering){this.parent.filteredRowIndexArr=this.mergeArray(this.allRowIndexArr,_c);}else{this.parent.filteredRowIndexArr=this.mergeArray(this.parent.filteredRowIndexArr,_c);}}else{if(_8.options.condition==">"||_8.options.condition==">="||_8.options.condition=="<"||_8.options.condition=="<="){if(_8.options.columnDataType!="number"){this.parent.filteredRowIndexArr=this.allRowIndexArr;this.firstFiltering=false;return;}if(this.firstFiltering){this.parent.filteredRowIndexArr=_8.executeCondition(_9,_a,_b,this.allRowIndexArr);}else{this.parent.filteredRowIndexArr=_8.executeCondition(_9,_a,_b,this.parent.filteredRowIndexArr);}}}}this.firstFiltering=false;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.filterController.prototype.addFilter=function(_d,_e,_f,_10){["WebSquare.DataCollection.filterController.prototype.addFilter"];try{var _11=_10.fakeExpressionArr?_10.fakeExpressionArr:this.parent.dataArr;if(_10.sortIndexArr){var _12=[];for(var i=0;i<_10.sortIdArr.length;i++){var idx=this.parent.getColumnIndex(_10.sortIdArr[i]);if(_10.isExpression){_12.push(_10.sortIndexArr[i]);}else{_12.push(idx);}}_10.sortIndexArr=_12;}this._setAllRowIndexArr(_e);var _15=null;if(_10.type=="row"){_15=new $W.rowFilter(_d,_10);}else{if(_10.type=="user"){_15=new $W.userFilter(_d,_10);}else{if(_10.type=="cell"){_15=new $W.cellFilter(_d,_10);}else{if(_10.type=="sort"){var _16=_10.sortIndex;if(typeof _16=="string"){var _16=_10.sortIndex.split(" ");}if(_10.isExpression){var _17=this.parent.getColCnt();var _18=this.parent.getColumnIndex(_10.cellInfo.options.id);_10.colIndex=_17;if(_10.fakeExpressionArr){_17++;_f++;_18=this.parent.getColCnt();}for(var i=0;i<_16.length;i++){for(var j=0;j<_e;j++){var _1a=_10.cellInfo.getDisplayData(null,j,true);_11[_18+_17*j]=_1a;}}}_15=new $W.sortFilter(_d,_10);this.deleteFilterById("sort^@",false);}else{if(_10.type=="func"){_15=new $W.funcFilter(_d,_10);}else{if(_10.type=="regExp"){_15=new $W.regExpFilter(_d,_10);}}}}}}this.executeFilter(_15,_11,_e,_f);this.filterArr.push(_15);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.filterController.prototype.deleteFilter=function(_1b,_1c,_1d,_1e,_1f,_20){if(typeof _20=="undefined"){_20=true;}var _21=[];for(var i=0;i<this.filterArr.length;i++){if(this.filterArr[i].id.indexOf(_1b)==-1){_21.push(this.filterArr[i]);}}this.filterArr=_21;if(_20==true){this.firstFiltering=true;for(var i=0;i<this.filterArr.length;i++){this.executeFilter(this.filterArr[i],_1c,_1d,_1e);}if(this.filterArr.length==0){var _1d=this.parent.getTotalRow();this.parent.filteredRowIndexArr=[];for(var i=0;i<_1d;i++){this.parent.filteredRowIndexArr.push(i);}}}};$W._j.filterController.prototype.mergeArray=function(_23,_24){var _25=[];var _26=[];for(var i=0;i<_23.length;i++){_25[_23[i]]=1;}for(var i=0;i<_24.length;i++){_25[_24[i]]=1;}for(var i=0;i<_25.length;i++){if(_25[i]==1){_26.push(i);}}return _26;};$W._j.filterController.prototype.deleteFilterById=function(_28,_29){if(typeof _29=="undefined"){_29=true;}var _2a=[];for(var i=0;i<this.filterArr.length;i++){if(this.filterArr[i].id.indexOf(_28)==-1){_2a.push(this.filterArr[i]);}}this.filterArr=_2a;if(_29==true){}else{if(this.filterArr.length==0){this.firstFiltering=true;}}};$W._j.filterController.prototype.getOriginalRowIndex=function(_2c){var _2d=this.filteredRowIndexArr[_2c];return _2d;};$W._j.filterController.prototype.getDisplayRowIndex=function(_2e){if(this.parent._dataList.filteredRowIndexArr.length!=0){for(var i=0;i<this.parent._dataList.filteredRowIndexArr.length;i++){if(_2e==this.parent._dataList.filteredRowIndexArr[i]){return i;}}}return _2e;};$W.filter=function(id){this.id=id;};$W.filter.prototype.execute=function(_31,_32,_33,_34){alert("overriede 'executeFilter'");};$W.rowFilter=function(id,_36){$W.filter.call(this,id);this.options=$W.extend({colIndex:-1,key:"",condition:"and",exactMatch:false},_36||{});};$W.extend($W.rowFilter.prototype,$W.filter.prototype);$W.rowFilter.prototype.execute=function(_37,_38,_39,_3a){var _3b=[];for(var i=0;i<_3a.length;i++){var row=_3a[i];var _3e=$W._G.getComponentById(this.options.dataList);var _3f=this.options.colIndex=="@rowStatus"?_3e.rowStatusArr[row]:_37[row*_39+this.options.colIndex];if(_3f==null){_3f="";}if(this.options.exactMatch){if(_3f==this.options.key){_3b.push(row);}}else{if(_3f.indexOf(this.options.key)>-1){_3b.push(row);}}}return _3b;};$W.rowFilter.prototype.executeCondition=function(_40,_41,_42,_43){var _44=[];for(var i=0;i<_43.length;i++){var row=_43[i];var _47;var _48;if(this.options.columnDataType=="number"){_47=parseFloat(_40[row*_42+this.options.colIndex])||0;_48=parseFloat(this.options.key);}if(this.options.condition==">"){if(_47>_48){_44.push(row);}}else{if(this.options.condition==">="){if(_47>=_48){_44.push(row);}}else{if(this.options.condition=="<"){if(_47<_48){_44.push(row);}}else{if(this.options.condition=="<="){if(_47<=_48){_44.push(row);}}}}}}return _44;};$W.userFilter=function(id,_4a){$W.filter.call(this,id);this.options=$W.extend({key:"",condition:"and"},_4a||{});};$W.extend($W.userFilter.prototype,$W.filter.prototype);$W.userFilter.prototype.getColumnData=function(_4b,_4c,_4d,_4e,_4f){if(typeof _4f=="string"){_4f=this.options.bodyIdColIndexMap[_4f];}var _50=_4b[_4e*_4d+_4f];return _50;};$W.userFilter.prototype.execute=function(_51,_52,_53,_54){var exp=this.options.key.replace(/col[\s]*\(/g,"this.getColumnData(dataArr, totalRow, totalCol, row, ");var _56=[];for(var i=0;i<_54.length;i++){if(eval(exp)){_56.push(_54[i]);}}return _56;};$W.cellFilter=function(id,_59){$W.filter.call(this,id);this.options=$W.extend({key:""},_59||{});};$W.extend($W.cellFilter.prototype,$W.filter.prototype);$W.cellFilter.prototype.execute=function(_5a,_5b,_5c,_5d){var _5e=[];for(var i=0;i<_5d.length;i++){var row=_5d[i];for(var col=0;col<_5c;col++){var _62=_5a[row*_5c+col];if(_62==null){_62="";}if(_62.indexOf(this.options.key)>-1){_5e.push(row);}}}return _5e;};$W.sortFilter=function(id,_64){$W.filter.call(this,id);this.options=$W.extend({colIndex:"",sortIndex:"",sortOrder:"",dataType:"",sortIndexArr:[],sortOrderArr:[],dataTypeArr:[],sortFuncArr:[],sortIdArr:[]},_64||{});};$W.extend($W.sortFilter.prototype,$W.filter.prototype);$W.sortFilter.prototype.execute=function(_65,_66,_67,_68){var _69=_68.slice(0).sort(function(a,b){return (a-b);});var _6c=this.options;var _6d=[];for(var i=0;i<_69.length;i++){_6d[i]=_69[i]*_67;}var _6f=[];for(var i=0;i<_6c.sortIndexArr.length;i++){_6f[i]={};if(_6c.sortFuncArr[i]){for(var j=0;j<_6d.length;j++){_6f[i][_69[j]]=_65[_6d[j]+_6c.sortIndexArr[i]];}}else{if(_6c.dataTypeArr[i]=="number"){for(var j=0;j<_6d.length;j++){var _71=_65[_6d[j]+_6c.sortIndexArr[i]];if(_6c.numberExtractionValueArr[i]==true){_71+="";_71=_71.replace(/[^\+\-\.0-9]/g,"");}_6f[i][_69[j]]=(_71==="")?"":Number(_71);}}else{for(var j=0;j<_6d.length;j++){_6f[i][_69[j]]=_65[_6d[j]+_6c.sortIndexArr[i]]||"";}}}}if(_6c.sortLabel){for(var i=0;i<_6c.sortIndexArr.length;i++){for(var j=0;j<_6d.length;j++){_6f[i][j]=this.changeValueToLabel(_6f[i][j],i);}}}if(_6f.length==1){if(!_6c.sortFuncArr[0]){var _72=_6c.sortOrderArr[0];var _73=_6f[0];if(_6c.ignoreEmptyStringOnSort=="true"){_69.sort(function(lhs,rhs){if(_73[lhs]===_73[rhs]){return 0;}else{if(_73[lhs]===""){return 1;}else{if(_73[rhs]===""){return -1;}else{if(_73[lhs]>_73[rhs]){return _72;}else{return -(_72);}}}}});}else{if(_6c.setEmptyStringFirstOnSort=="true"){_69.sort(function(lhs,rhs){if(_73[lhs]==_73[rhs]){if(_73[lhs]===0&&_73[rhs]===""){return _72;}else{if(_73[lhs]===""&&_73[rhs]===0){return -(_72);}}return 0;}else{if(_73[lhs]===""){return -(_72);}else{if(_73[rhs]===""){return _72;}else{if(_73[lhs]>_73[rhs]){return _72;}else{return -(_72);}}}}});}else{if(_6c.setEmptyStringSortableOnSort=="true"){_69.sort(function(lhs,rhs){if(_73[lhs]===_73[rhs]){return 0;}else{if(_73[lhs]===""){return -(_72);}else{if(_73[rhs]===""){return _72;}else{if(_73[lhs]>_73[rhs]){return _72;}else{return -(_72);}}}}});}else{_69.sort(function(lhs,rhs){if(_73[lhs]==_73[rhs]){return 0;}else{if(_73[lhs]>_73[rhs]){return _72;}else{return -(_72);}}});}}}}else{var _7c=_6c.sortFuncArr[0];var _73=_6f[0];_69.sort(function(lhs,rhs){return _7c(_73[lhs],_73[rhs]);});}}else{_69.sort(function(lhs,rhs){for(var i=0;i<_6f.length;i++){var _82;if(!_6c.sortFuncArr[i]){if(_6f[i][lhs]==_6f[i][rhs]){_82=0;}else{if(_6f[i][lhs]<_6f[i][rhs]){_82=-(_6c.sortOrderArr[i]);}else{_82=_6c.sortOrderArr[i];}}}else{_82=_6c.sortFuncArr[i](_6f[i][lhs],_6f[i][rhs]);}if(_82!=0){return _82;}}return 0;});}return _69;};$W.sortFilter.prototype.changeValueToLabel=function(_83,i){var _85=this.options.sortItemArr;var _86=this.options.sortItemsetIdObj;var _87=_86["label"]||"label";var _88=_86["value"]||"value";if(_85[i]&&_85[i].length>0){for(var j=0;j<_85[i].length;j++){if(_83==_85[i][j][_88]){return _85[i][j][_87];}}}else{return _83;}};$W.funcFilter=function(id,_8b){$W.filter.call(this,id);this.options=$W.extend({colIndex:-1,key:"",condition:"and"},_8b||{});};$W.extend($W.funcFilter.prototype,$W.filter.prototype);$W.funcFilter.prototype.execute=function(_8c,_8d,_8e,_8f){if(typeof this.options.key!=="function"){throw new Error("This key is not a Function.[key:"+this.options.key+"]");}var _90=[];for(var i=0;i<_8f.length;i++){var row=_8f[i];if(this.options.key(_8c[row*_8e+this.options.colIndex],this.options.param,row)){_90.push(row);}}return _90;};$W.regExpFilter=function(id,_94){$W.filter.call(this,id);this.options=$W.extend({colIndex:-1,key:"",condition:"and"},_94||{});this.regExp=this.options.key;};$W.extend($W.regExpFilter.prototype,$W.filter.prototype);$W.regExpFilter.prototype.execute=function(_95,_96,_97,_98){if(!$W._G.isRegExp(this.regExp)){throw new Error("This key is not a regular expression.[key:"+this.regExp+"]");}var _99=[];for(var i=0;i<_98.length;i++){var row=_98[i];var _9c=_95[row*_97+this.options.colIndex]+"";if(_9c==null){_9c="";}if(_9c.match(this.regExp)){_99.push(row);}}return _99;};;WebSquare.uiplugin.filterController=$W._a.aq;requires("uiplugin/dataList/dataController.js");requires("uiplugin/dataList/statusController.js");requires("uiplugin/dataList/filterController.js");requires("uiplugin/dataList/dataListCellController.js");requires("uiplugin/dataList/dataListApiController.js");$W._j.dataList=function(id,_2,_3,_4,_5){["WebSquare.DataCollection.dataList"];try{this.initialize(id,_2,_3,_4,_5);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W.extend($W._j.dataList.prototype,$W._j.dataController.prototype);$W.extend($W._j.dataList.prototype,$W._j.statusController.prototype);$W.extend($W._j.dataList.prototype,$W._j.filterController.prototype);$W.extend($W._j.dataList.prototype,$W._j.dataListCellController.prototype);$W.extend($W._j.dataList.prototype,$W._j.dataListApiController.prototype);$W._j.dataList.prototype.defaultOptions={useConfig:true,pluginType:"DataCollection.dataList",pluginName:"dataList",userEvents:["onbeforerowpositionchange","onrowpositionchange","oncelldatachange","onbeforecelldatachange","oninsertrow","onremoverow","ondataload","onmodelchange","onbeforecolumnchange","oncolumnchange","onbeforecolumnfilterchange","onaftercolumnfilterchange"],baseNode:"list",repeatNode:"map",valueNode:"",valueAttribute:"",idAttribute:"",rowStatusNodeName:"rowStatus",importFormatter:"",JSONPath:"",rowNumData:false,saveRemovedData:true,removeDummyRowStatus:false,removedDataMatch:false,getMatchedFromAllData:false,keepRowPosition:false};$W._j.dataList.prototype.initialize=function(id,_7,_8,_9,_a){["WebSquare.DataCollection.dataList.prototype.initialize"];try{this.elementType=_8.elementType?_8.elementType:"XML";this.initializeType=_9||"dataList";this.id=id;this.uuid=$W.UUIDPrefix+"_"+$W.UUID++;this.element=_8;this.options=this.getConfiguredOptions();this._broadCastFlag=true;this.scope_id=null;if(_8){switch(this.elementType){case "XML":this.options=$W.extendKeepingType(this.options,$W.WebSquareparser.parseAttribute(_8));if(this.initializeType=="dataList"){this.options.xmlEvents=$W.WebSquareparser.parseEvent(_8);}break;case "JSON":this.options=$W.extendKeepingType(this.options,_8.option);this.options.id=_8.id;break;}}if(_7){this.options=$W.extendKeepingType(this.options,_7);}if(!this.id){this.id=this.options.id;}if($W.idCache[_a]&&$W.idCache[_a].options.scope){var _b=this.id;var _c=$W.idCache[_a]?$W.idCache[_a].id:"";var id=(_c?_c+"_":"")+this.id;this.id=id;this.org_id=_b;this.scope_obj=$W.idCache[_a];this.scope_obj.scope[this.org_id]=this;this.scope_id=this.scope_obj.id;}this.options.id=this.id;if(_8){var _d="dataList";var _e=$W.WebSquareDocument.componentsCache;var _f=_e[_d];if(!_f){_f=_e[_d]=[];}_f.push(this.uuid);}if(!this.id){this.options.id=this.id=this.uuid;}else{if(window[$W.noConflict].data[this.id]!=null||window[$W.noConflict].comp[this.id]!=null){var _10=$W._m.getMessage("E_dc_duplicated_Msg",this.id,"dataList")||"id["+this.id+"] \uac00 \uc911\ubcf5\uc0ac\uc6a9\ub418\uc5c8\uc2b5\ub2c8\ub2e4. \uae30\uc874\uc5d0 \uc788\ub358 dataList\ub97c \uc0ad\uc81c\ud558\uace0 \uc0c8\ub85c \uc0dd\uc131\ud569\ub2c8\ub2e4.";$W.logger.printLog(_10);var _11=$W._j["stopBroadCast"];try{$W._j["stopBroadCast"]=true;$W._j.api.remove(this.id);$W._j["stopBroadCast"]=_11;}catch(e){_11=$W._j["stopBroadCast"];}}}$W.idCache[this.uuid]=this;$W.idToUUID[this.id]=this.uuid;if(this.initializeType=="dataList"){window[$W.noConflict].data[this.id]=this;if($W._N.getConfiguration("/WebSquare/globalExposure/@value").toLowerCase()!="false"){window[this.id]=this;}}this.event=new $W.eventControl();this.initializeDataList(_8);this.bindAsEventList=[];this.bindAsUserEventList=[];this.userEventList=[];this.systemEventList={};if(this.initializeType=="dataList"&&this.options.xmlEvents){this.options.xmlEvents=this.event.addUserEvents(this,this.options.xmlEvents,this.options.userEvents);if(this.options.xmlEvents.length>0){this.event.addEvents(this,this.options.xmlEvents);}}if(_a!=undefined&&$W.idCache[_a]){this.parentFrame=_a;$W.idCache[_a].childAllControlList.push(this.uuid);}$W._c.fireEvent(this,"onload",null);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataList.prototype.initializeDataList=function(_12){["WebSquare.DataCollection.dataList.prototype.initializeDataList"];try{this.childCompHash={};this.refCompHash={};this.activated=false;switch(this.initializeType){case "dataList":if(this.options.attributeMap){if(!$W._j.attributeMapInfo[this.options.attributeMap]){$W._j.attributeMapInfo[this.options.attributeMap]=[];}$W._j.attributeMapInfo[this.options.attributeMap].push(this.id);this.syncWithAttributeMap();}}this.filterManager=new $W._j.filterController(this);if(this.initializeType=="dataList"){if(this.elementType=="JSON"){this.removeManager=new $W._j.dataList(this.id+"??removeManager",this.options,this.element,"removeManager");}else{this.removeManager=new $W._j.dataList(this.id+"??removeManager",this.options,this.element.cloneNode(true),"removeManager");}}else{var _13=this.id.split("??");this.parent=$W._G.getComponentById(_13[0]);}this.columnPosition=null;this.rowPosition=null;this.dataArr=[];this.originalDataArr=[];this.filteredRowIndexArr=[];this.filteredRowIndexMap={};this.oneRowDataLength=0;this.bodyIdColIndexMap={};this.cellInfoHash={};this.cellIdList=[];this.rowStatusArr=[];this.ignoreStatusColArr=[];this.structure=this.getStructure();if(this.options.valueAttribute.wq_trim()=="$none"){this.options.valueAttribute="";}var _14=this.options.valueNode==""?this.options.valueAttribute:this.options.valueNode;_14=this.options.valueAttribute==""?this.options.valueNode:this.options.valueAttribute;this.options.valueNode=_14;this.options.valueAttribute=_14;var _15=0;var _16=this.structure.rowArr;for(var i=0;i<_16.length;i++){this.oneRowDataLength+=_16[i].length;for(var j=0;j<_16[i].length;j++){var _19=_16[i][j];if(this.elementType=="JSON"){_19["@xml"]=_19;}var _1a=new $W._j.dataListCellInfo(_19["@xml"],this,_15);this.cellIdList.push(_19.id);this.bodyIdColIndexMap[_1a.id]=_15;this.cellInfoHash[_1a.id]=_1a;_15++;}}if(this.initializeType=="dataList"){$W._j.api.addChild(this);this.synchronize();this.synchronizeRef();if(this.elementType=="XML"){var _1b=$W._B.getElementsByTagName(_12,"data",$W._N._XML_NAMESPACE.W2)[0];if(_1b){this.useData=$W._G.getBoolean(_1b.getAttribute("use"));if(this.useData){this.allowTextNode=true;var _1c=$W._B.getElementsByTagName(_1b,"row",$W._N._XML_NAMESPACE.W2);var _1d=$W._j["stopBroadCast"];$W._j["stopBroadCast"]=true;for(var i=0;i<_1c.length;i++){this.setRowXML(i,_1c[i]);}$W._j["stopBroadCast"]=_1d;this.broadcast({"linkedDataList":["notifyDataChanged"],"gridView":["notifySettedGridData"],"fusionChart":["refresh"],"fwFunnelChart":["refresh"],"fwSparkChart":["refresh"],"fwPyramidChart":["refresh"],"fwGanttChart":["refresh"],"generalComp":"both"});this.originalDataArr=this.dataArr.slice(0);this.modifyAllStatus("R");this.allowTextNode=false;}}}else{if(this.elementType=="JSON"){this.useData=$W._G.getBoolean(this.element.option.useData);if(this.useData&&this.element.data){this.setJSON(this.element.data);this.modifyAllStatus("R");}}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataList.prototype.finalize=function(){["WebSquare.DataCollection.dataList.prototype.finalize"];try{this.removeAll({"skipSavingRemovedData":"true"});for(var _1e in this.childCompHash){var _1f=this.childCompHash[_1e];if(_1f){if(_1f.constructor==$W._j.linkedDataList||_1f.constructor==$W._j.dataMap||_1f.constructor==$W._j.dataList){if(!$W._j["stopBroadCast"]){_1f.refresh();}$W._j.api.remove(_1e);}else{_1f.successBinding=false;}}else{delete this.childCompHash[_1e];}}this.activated=false;if(this.removeManager&&this.removeManager.id){$W._j.api.remove(this.removeManager.id);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataList.prototype.activate=function(){["WebSquare.DataCollection.dataList.prototype.activate"];try{if(!this.activated){for(var opt in this.options){if(opt.slice(0,3)=="ev:"){var _21=this.options[opt].split(",");for(var j=0;j<_21.length;j++){this.bind(opt.slice(3),_21[j]);}}}if(this.options.eventPause){this.setEventPause(this.options.eventPause,true);}}this.activated=true;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataList.prototype.addEvent=function(_23,_24,_25){["WebSquare.dataList.addEvent"];try{_25=_25||"script";var _26={name:_23,action:_25,param:{handler:_24}};if(!this.options.xmlEvents){this.options.xmlEvents=[];}this.options.xmlEvents.push(_26);this.event.addUserEvents(this,[_26],this.options.userEvents);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataList.prototype.bind=function(_27,_28){["WebSquare.dataList.bind"];try{if(typeof _27==="string"&&(_27.slice(0,2)!="on")){_27="on"+_27;}if(_27==="string"){_27=_27.toLowerCase();}this.addEvent(_27,_28);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataList.prototype.trigger=function(_29,_2a){["WebSquare.dataList.trigger"];try{if(typeof _29==="string"&&(_29.slice(0,2)!="on")){_29="on"+_29;}var _2b=false;if(this.options.userEvents!=undefined){for(var i=0;i<this.options.userEvents.length;i++){if(this.options.userEvents[i]===_29){_2b=true;break;}}}if(!_2b&&$W._c.isEventSupported(this.render,_29)){if(_2a&&extraParamteres.constructor==Array){$W._c.fireSystemEvent(this,_29,_2a[0]);}else{$W._c.fireSystemEvent(this,_29);}}else{var _2d=[this,_29];_2d=_2d.concat(_2a);$W._c.fireEvent.apply($W._c.fireEvent,_2d);_2d[0]=null;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataList.prototype.unbind=function(_2e,_2f){["WebSquare.dataList.unbind"];try{if(typeof _2e==="string"&&(_2e.slice(0,2)!="on")){_2e="on"+_2e;}if(typeof _2e==="string"&&typeof _2f==="function"){for(var i=0;i<this.userEventList.length;i++){if(_2e===this.userEventList[i].name&&_2f===this.userEventList[i].param.handler){this.userEventList.splice(i,1);if(typeof this.systemEventList[_2e]==="object"){this.systemEventList[_2e].count--;if(this.systemEventList[_2e].count<=0){this.event.removeListener(this.render,_2e,this.systemEventList[_2e].handler);delete this.systemEventList[_2e];}}}}}else{if(typeof _2e==="string"&&_2f==undefined){for(var i=this.userEventList.length-1;i>=0;i--){if(_2e===this.userEventList[i].name){this.userEventList.splice(i,1);}}if(typeof this.systemEventList[_2e]==="object"){this.event.removeListener(this.render,_2e,this.systemEventList[_2e].handler);delete this.systemEventList[_2e];}}else{for(var ev in this.systemEventList){this.event.removeListener(this.render,ev,this.systemEventList[ev].handler);}this.userEventList=[];this.systemEventList={};}}this.options.xmlEvents=this.userEventList.slice();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataList.prototype.onComplete=function(){if(this.completed){$l("!!!WARNING!!! duplicate call 'onComplete' for : "+this.id);return;}this.completed=true;};$W._j.dataList.prototype.setEventPause=function(_32,_33){var _34={};var _35=false;if(typeof _32=="string"&&_32!=""){var _36=_32.split(",");for(var i=0;i<_36.length;i++){if(_36[i]){_34[_36[i]]=true;}}}else{_35=true;}for(var i=this.userEventList.length-1;i>=0;i--){if(_35||_34[this.userEventList[i].name]){this.userEventList[i].disabled=_33;}}};;WebSquare.uiplugin.dataList=$W._a.at;$W._j.dataMapApiController=function(){["WebSquare.DataCollection.dataMapApiController"];};$W._j.dataMapApiController.prototype.getBroadcast=function(){return (this._broadCastFlag!==false);};$W._j.dataMapApiController.prototype.setBroadcast=function(_1){if(_1===false){this._broadCastFlag=_1;}else{this._broadCastFlag=true;}};$W._j.dataMapApiController.prototype.broadcast=function(_2){["WebSquare.DataCollection.dataMapApiController.prototype.broadcast"];try{if($W._j["stopBroadCast"]||!this.getBroadcast()){return;}for(var id in this.childCompHash){var _4=this.childCompHash[id];if(_4!=null&&$W.idCache[_4.uuid]&&(typeof _4.render=="undefined"||_4.render!=null)){if(_4.activeStatus=="stop"&&typeof _4.preActivate=="function"){_4.preActivate();}switch(_4.initializeType){case "linkedDataList":if(_2.linkedDataList){_4[_2.linkedDataList[0]](_2.linkedDataList[1]);break;}default:if(_2.generalComp=="refreshItemset"||_2.generalComp=="both"){if(_4.modelControl.useItemset){_4.refreshItemset();}}else{if(_2.generalComp=="rollback"){_4["rollback"]();}}break;}}}for(var id in this.refCompHash){var _4=this.refCompHash[id];if(_4!=null&&$W.idCache[_4.uuid]){if(_2.key&&_4.modelControl&&_4.modelControl.dataCollectionRefInfo&&_4.modelControl.dataCollectionRefInfo.key!=_2.key){continue;}if(_4.activeStatus=="stop"&&typeof _4.preActivate=="function"){_4.preActivate();}switch(_4.initializeType){case "linkedDataList":if(_2.linkedDataList){_4.refresh();break;}default:if(_2.generalComp=="refresh"||_2.generalComp=="both"){if(_4.modelControl.useRef){_4.refresh();}}else{if(_2.generalComp=="binding"){_4["modelControl"]["binding"]();}}break;}}}if($W._j.attributeMapInfo[this.id]){for(var i=0;i<$W._j.attributeMapInfo[this.id].length;i++){var _6=$W._j.attributeMapInfo[this.id][i];var _7=$W._G.getComponentById(_6);_7.syncWithAttributeMap();}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataMapApiController.prototype.synchronize=function(){["WebSquare.DataCollection.dataMapApiController.prototype.synchronize"];try{var _8=$W._j.parentToChildRelation[this.id];if(_8){for(var _9 in _8){if(_8[_9]){this.childCompHash[_9]=$W._G.getComponentById(_9);}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataMapApiController.prototype.synchronizeRef=function(){["WebSquare.DataCollection.dataMapApiController.prototype.synchronizeRef"];try{var _a=$W._j.parentToChildRef[this.id];if(_a){for(var _b in _a){if(_a[_b]){this.refCompHash[_b]=$W._G.getComponentById(_b);}}}this.broadcast({"generalComp":["binding"]});}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataMapApiController.prototype._addRelation=function(_c){["WebSquare.DataCollection.dataMapApiController.prototype._addRelation"];try{if(!this.childCompHash){return;}var _d=$W._G.getComponentById(_c);if(!_d){return;}this.childCompHash[_c]=_d;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataMapApiController.prototype._addRefRelation=function(_e){["WebSquare.DataCollection.dataMapApiController.prototype._addRefRelation"];try{if(!this.refCompHash){return;}var _f=$W._G.getComponentById(_e);if(!_f){return;}this.refCompHash[_e]=_f;if(_f.activeStatus=="stop"&&typeof _f.preActivate=="function"){_f.preActivate();}_f["modelControl"]["binding"]();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataMapApiController.prototype.addChild=function(_10){["WebSquare.DataCollection.dataMapApiController.prototype.addChild"];try{this.childCompHash[_10.id]=_10;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataMapApiController.prototype.removeChild=function(_11){["WebSquare.DataCollection.dataMapApiController.prototype.removeChild"];try{delete this.childCompHash[_11];}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataMapApiController.prototype.addRefComp=function(_12){["WebSquare.DataCollection.dataMapApiController.prototype.addRefComp"];try{this.refCompHash[_12.id]=_12;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataMapApiController.prototype.removeRefComp=function(_13){["WebSquare.DataCollection.dataMapApiController.prototype.removeRefComp"];try{delete this.refCompHash[_13];}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataMapApiController.prototype.syncWithAttributeMap=function(key,_15){["WebSquare.DataCollection.dataMapApiController.prototype.syncWithAttributeMap"];try{if(this.options.attributeMap&&this.options.attributeMap!=this.id){var _16=$W._G.getComponentById(this.options.attributeMap);if(_16){var _17=_16.getCount();for(var i=0;i<_17;i++){var key=_16.getKey(i);var _15=_16.get(i);this.options[key]=_15;}}}}catch(e){$W.exception.printStackTrace(e);}};$W._j.dataMapApiController.prototype.hasKey=function(key){["WebSquare.DataCollection.dataMapApiController.prototype.hasKey"];try{key=this.getKey(key);return this._dataList.hasColumn(key);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataMapApiController.prototype.getID=function(){["WebSquare.DataCollection.dataMapApiController.prototype.getID"];try{return this.id;}catch(e){$W.exception.printStackTrace(e);}};$W._j.dataMapApiController.prototype.getOption=function(key){["WebSquare.DataCollection.dataMapApiController.prototype.getOption"];try{var _1b=key in this.options;var _1c=this.options.attributeMap;if(_1b){return this.options[key];}else{if(_1c){var _1d=$W._G.getComponentById(_1c);if(_1d.hasKey(key)){return _1d.get(key);}}}return;}catch(e){$W.exception.printStackTrace(e);}};$W._j.dataMapApiController.prototype.setOption=function(key,_1f){["WebSquare.DataCollection.dataMapApiController.prototype.setOption"];try{if(typeof _1f=="string"&&_1f.wq_trim()=="$none"){_1f="";}var _20={"bind":true,"id":true,"pluginName":true,"pluginType":true};if(key in this.options){this.options[key]=_1f;if(this._dataList&&this._dataList.options&&!_20[key]){this._dataList.options[key]=_1f;}}var _21=this.options.attributeMap;if(_21){var _22=$W._G.getComponentById(_21);if(_22.hasKey(key)){_22.set(key,_1f);}}}catch(e){$W.exception.printStackTrace(e);}};$W._j.dataMapApiController.prototype.getKey=function(_23){["WebSquare.DataCollection.dataMapApiController.prototype.getKey"];try{return this._dataList.getColumnID(_23);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataMapApiController.prototype.getIndex=function(key){["WebSquare.DataCollection.dataMapApiController.prototype.getKey"];try{return this._dataList.getColumnIndex(key);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataMapApiController.prototype.getCount=function(){["WebSquare.DataCollection.dataMapApiController.prototype.getCount"];try{return this._dataList.getTotalCol();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataMapApiController.prototype.get=function(key){["WebSquare.DataCollection.dataMapApiController.prototype.get"];try{key=this.getKey(key);return this._dataList.getCellData(0,key);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataMapApiController.prototype.getOriginal=function(key){["WebSquare.DataCollection.dataMapApiController.prototype.getOriginal"];try{var _27;key=this.getKey(key);if(key){_27=this._dataList.getOriginalCellData(0,key);}return _27;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataMapApiController.prototype.getArray=function(_28){["WebSquare.DataCollection.dataMapApiController.prototype.getArray"];try{return this._dataList.getRowData(0,_28);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataMapApiController.prototype.getXML=function(_29){["WebSquare.DataCollection.dataMapApiController.prototype.getXML"];try{_29=_29||{};var ret=this._dataList.getRowXML(0,_29);if(_29.id){if(ret.documentElement!=undefined){ret.documentElement.setAttribute("id",_29.id);}else{ret.setAttribute("id",_29.id);}}return ret;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataMapApiController.prototype.getJSON=function(_2b){["WebSquare.DataCollection.dataMapApiController.prototype.getJSON"];try{var _2c=this._dataList.getRowJSON(0,_2b);if(this.options.customFormatter!=undefined){var _2d=$W._G.getGlobalFunction(this.options.customFormatter);if(_2d!=null){_2c=_2d(this,_2c);}}return _2c;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataMapApiController.prototype.getType=function(key){["WebSquare.DataCollection.dataMapApiController.prototype.getType"];try{key=this.getKey(key);var _2f=this._dataList.getCellInfo(key);if(_2f){return _2f.options?_2f.options.dataType:"";}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataMapApiController.prototype.getDefaultValue=function(key){["WebSquare.DataCollection.dataMapApiController.prototype.getDefaultValue"];try{key=this.getKey(key);var _31=this._dataList.getCellInfo(key);if(_31){return _31.options?_31.options.defaultValue:"";}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataMapApiController.prototype.getName=function(key){["WebSquare.DataCollection.dataMapApiController.prototype.getName"];try{key=this.getKey(key);var _33=this._dataList.getCellInfo(key);if(_33){return _33.name?_33.name:"";}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataMapApiController.prototype.getInitializeType=function(){["WebSquare.DataCollection.dataMapApiController.prototype.getInitializeType"];try{return this.getObjectType();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataMapApiController.prototype.set=function(key,_35){["WebSquare.DataCollection.dataMapApiController.prototype.set"];try{key=this.getKey(key);if(key!=null&&key!=undefined){var _36=this._dataList.getCellData(0,key);if(_36!==_35){this._dataList.setCellData(0,key,_35);if(!this.firstSetting[key]&&this.options.firstSet){this.setOriginal(key,_36);}else{this.setOriginal(key,_35);}$W._c.fireEvent(this,"onmodelchange",{"key":key,"oldValue":_36,"newValue":_35});}this.broadcast({"key":key,"linkedDataList":["refresh"],"generalComp":"both"});}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataMapApiController.prototype.setArray=function(_37,_38){["WebSquare.DataCollection.dataMapApiController.prototype.setArray"];try{this._dataList.setRowData(0,_37,true,_38,this.options.keepValue);for(var i=0;i<this.getCount();i++){this.setOriginal(i,this.get(i));}this.broadcast({"linkedDataList":["refresh"],"generalComp":"both"});}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataMapApiController.prototype.setXML=function(xml,_3b,_3c){["WebSquare.DataCollection.dataMapApiController.prototype.setXML"];try{_3b=_3b===false?false:true;this._dataList.setRowXML(0,xml,_3b,_3c,this.options.keepValue);if(this.options.firstSetSubmission){this.firstSetting={};}for(var i=0;i<this.getCount();i++){this.setOriginal(i,this.get(i));}$W._c.fireEvent(this,"onsetdata");this.broadcast({"linkedDataList":["refresh"],"generalComp":"both"});}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataMapApiController.prototype.setJSON=function(_3e,_3f,_40){["WebSquare.DataCollection.dataMapApiController.prototype.setJSON"];try{if(this.options.customUnformatter!=undefined){var _41=$W._G.getGlobalFunction(this.options.customUnformatter);if(_41!=null){_3e=_41(this,_3e);}}this._dataList.setRowJSON(0,_3e,true,_40,this.options.keepValue);var cnt=this.getCount();if(this.options.firstSetSubmission){this.firstSetting={};}for(var i=0;i<cnt;i++){this.setOriginal(i,this.get(i));}$W._c.fireEvent(this,"onsetdata");this.broadcast({"linkedDataList":["refresh"],"generalComp":"both"});}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataMapApiController.prototype.setOriginal=function(key,_45){["WebSquare.DataCollection.dataMapApiController.prototype.setOriginal"];try{key=this.getKey(key);if(!this.firstSetting[key]){this._dataList.setOriginalCellData(0,key,_45);this.firstSetting[key]=true;}if(this.firstSetting[key]&&key){this.statusHash[key]=(this.getOriginal(key)==this.get(key))?true:false;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataMapApiController.prototype.addColumn=function(_46){["WebSquare.DataCollection.dataMapApiController.prototype.addColumn"];try{var _47=this.getCount();var _48=this._dataList.elementType;this._dataList.elementType="JSON";var _49=new $W._j.dataListCellInfo(_46,this._dataList,_47);this._dataList.elementType=_48;this._dataList.cellIdList.push(_46.id);this._dataList.bodyIdColIndexMap[_49.id]=_47;this._dataList.cellInfoHash[_49.id]=_49;this._dataList.oneRowDataLength=++_47;var _4a=_49.options.defaultValue||"";if(_4a!=""){this.firstSetting[_49.options.id]=true;this.statusHash[_49.options.id]=true;}this._dataList.dataArr.push(_4a);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataMapApiController.prototype.reform=function(){["WebSquare.DataCollection.dataMapApiController.prototype.reform"];try{this._dataList.reform();for(var key in this.statusHash){this.statusHash[key]=true;}this.broadcast({"linkedDataList":["refresh"],"generalComp":"both"});}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataMapApiController.prototype.undo=function(){["WebSquare.DataCollection.dataMapApiController.prototype.undo"];try{var _4c=this.getCount();for(var i=0;i<_4c;i++){var key=this.getKey(i);var _4f=this.getOriginal(key);this.set(key,_4f);}this.broadcast({"linkedDataList":["refresh"],"generalComp":"both"});}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataMapApiController.prototype.getConfiguredOptions=function(){["WebSquare.DataCollection.dataMapApiController.prototype.getConfiguredOptions"];try{var _50=this.defaultOptions.pluginName;var _51,values;var ret={};this.configuredOptions={};if(!this.configuredOptions[_50]){var _53=$W.extendKeepingType({id:"",pluginType:"xfControl",pluginName:"",userEvents:[],xmlEvents:null,value:"",model:"",bind:"",style:"",useConfig:false},this.defaultOptions);if(_53.useConfig||$W._G.getBoolean($W._N.getConfiguration("/WebSquare/DataCollection"+_50+"/useConfig/@value"))){var _54=$W.configManager.getConfig(_50);_53=$W.extendKeepingType(_53,_54);}_51=[];values=[];for(var key in _53){_51.push(key);values.push(_53[key]);}this.configuredOptions[_50]={keys:_51,values:values};}else{_51=this.configuredOptions[_50].keys;values=this.configuredOptions[_50].values;}for(var i=0;i<_51.length;i++){ret[_51[i]]=values[i];}return ret;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataMapApiController.prototype.getModifiedKey=function(){["WebSquare.DataCollection.dataMapApiController.prototype.getModifiedKey"];try{var _57=[];for(var k in this.statusHash){if(!this.statusHash[k]){_57.push(k);}}return _57;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataMapApiController.prototype.getModifiedIndex=function(){["WebSquare.DataCollection.dataMapApiController.prototype.getModifiedIndex"];try{var _59=[];var _5a=[];_5a=this.getModifiedKey();for(var i=0;i<_5a.length;i++){_59.push(this.getIndex(_5a[i]));}return _59;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataMapApiController.prototype.getModifiedData=function(){["WebSquare.DataCollection.dataMapApiController.prototype.getModifiedData"];try{var _5c=[];var _5d=this.getModifiedIndex();for(var i=0;i<_5d.length;i++){_5c.push(this.get(_5d[i]));}return _5c;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataMapApiController.prototype.getModifiedXML=function(){["WebSquare.DataCollection.dataMapApiController.prototype.getModifiedXML"];try{var _5f=this.getModifiedKey();var obfuscator_index=-1;var _60=function(_61){obfuscator_index++;var _62=_61[obfuscator_index];var str="<"+_62+">";if(obfuscator_index<_61.length-1){str+=_60(_61);}str+="</"+_62+">";return str;};var _64=this.getOption("baseNode").split();var _65=_60(_64);var _66=$W._B.parse(_65).documentElement;for(var i=0;i<_5f.length;i++){var _68=$W._B.parse("<"+_5f[i]+"></"+_5f[i]+">").documentElement;if(this.getOption("valueAttribute")){_68.setAttribute(this.getOption("valueAttribute"),this.get(_5f[i]));}else{_68.appendChild(document.createTextNode(this.get(_5f[i])));}_66.appendChild(_68);}return _66;}catch(e){$W.exception.printStackTrace(e);}};$W._j.dataMapApiController.prototype.getModifiedJSON=function(){["WebSquare.DataCollection.dataMapApiController.prototype.getModifiedData"];try{var _69={};var _6a=this.getModifiedIndex();for(var i=0;i<_6a.length;i++){var _6c=this.getKey(_6a[i]);_69[_6c]=this.get(_6a[i]);}if(this.options.customFormatter!=undefined){var _6d=$W._G.getGlobalFunction(this.options.customFormatter);if(_6d!=null){_69=_6d(this,_69);}}return _69;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataMapApiController.prototype.getModifiedArray=function(){["WebSquare.DataCollection.dataMapApiController.prototype.getModifiedArray"];try{var _6e={};_6e["key"]=this.getModifiedKey();_6e["value"]=this.getModifiedData();return _6e;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataMapApiController.prototype.getObjectType=function(){["WebSquare.DataCollection.dataMapApiController.getObjectType"];try{var _6f=this.initializeType;if(_6f=="dataMap"){return _6f;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataMapApiController.prototype.reset=function(){["WebSquare.DataCollection.dataMapApiController.reset"];try{if(this.initializeType=="dataMap"){this.statusHash={};this.firstSetting={};this._dataList.removeAll();if(this.elementType=="XML"){var _70=$W._B.getElementsByTagName(this.element,"data",$W._N._XML_NAMESPACE.W2)[0];if(_70){if(this.useData){this._dataList.allowTextNode=true;this.setXML(_70,false);this._dataList.allowTextNode=false;}else{this._dataList.allowTextNode=true;this.setEmpty();this._dataList.allowTextNode=false;}}else{this._dataList.allowTextNode=true;this.setEmpty();this._dataList.allowTextNode=false;}}else{if(this.elementType=="JSON"){if(this.useData&&this.element.data){this.setJSON(this.element.data);}}}if(this._dataList.getRowCount()==0){this._dataList.insertRow(0);var _71=this.getCount();for(var i=0;i<_71;i++){var _73=this._dataList.getCellInfo(i);var _74=_73.options.defaultValue;if(_74!=""){this.firstSetting[_73.options.id]=true;this.statusHash[_73.options.id]=true;}}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataMapApiController.prototype.setEmpty=function(){["WebSquare.DataCollection.dataMapApiController.setEmpty"];try{if(this._dataList.getRowCount()==0){this._dataList.insertRow(0);}var _75=this.getCount();for(i=0;i<_75;i++){var key=this.getKey(i);var _77=this._dataList.getCellInfo(i);var _78=_77.options.defaultValue;this.set(key,_78);this.setOriginal(key,_78);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataMapApiController.prototype.getKeyInfo=function(key,_7a){["WebSquare.DataCollection.dataMapApiController.getInfo"];try{return this._dataList.getColumnInfo(key,_7a);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataMapApiController.prototype.getInfo=function(_7b,_7c){["WebSquare.DataCollection.dataMapApiController.getInfo"];try{return this._dataList.getInfo(_7b,_7c);}catch(e){$W.exception.printStackTrace(e,null,this);}};;WebSquare.uiplugin.dataMapApiController=$W._a._H;requires("uiplugin/dataList/dataList.js");requires("uiplugin/dataMap/dataMapApiController.js");$W._j.dataMap=function(id,_2,_3,_4,_5){["WebSquare.DataCollection.dataMap"];try{this.initialize(id,_2,_3,_4,_5);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W.extend($W._j.dataMap.prototype,$W._j.dataMapApiController.prototype);$W._j.dataMap.prototype.defaultOptions={useConfig:true,pluginType:"DataCollection.dataMap",pluginName:"dataMap",userEvents:["onmodelchange","onvalidatekey","onsetdata"],baseNode:"map",repeatNode:"",valueNode:"",valueAttribute:"",idAttribute:"",JSONPath:"",firstSet:false,firstSetSubmission:false,keepValue:false};$W._j.dataMap.prototype.initialize=function(id,_7,_8,_9,_a){["WebSquare.DataCollection.dataMap.prototype.initialize"];try{this.elementType=_8.elementType?_8.elementType:"XML";this.initializeType="dataMap";this.id=id;this.uuid=$W.UUIDPrefix+"_"+$W.UUID++;this.element=_8;this.options=this.getConfiguredOptions();this._broadCastFlag=true;if(_8){switch(this.elementType){case "XML":this.options=$W.extendKeepingType(this.options,$W.WebSquareparser.parseAttribute(_8));this.options.xmlEvents=$W.WebSquareparser.parseEvent(_8);break;case "JSON":this.options=$W.extendKeepingType(this.options,_8.option);this.options.id=_8.id;break;}}if(_7){this.options=$W.extendKeepingType(this.options,_7);}if(!this.id){this.id=this.options.id;}if($W.idCache[_a]&&$W.idCache[_a].options.scope){var _b=this.id;var _c=$W.idCache[_a]?$W.idCache[_a].id:"";var id=(_c?_c+"_":"")+this.id;this.id=id;this.org_id=_b;this.scope_obj=$W.idCache[_a];this.scope_obj.scope[this.org_id]=this;this.scope_id=this.scope_obj.id;}this.options.id=this.id;if(_8){var _d="dataMap";var _e=$W.WebSquareDocument.componentsCache;var _f=_e[_d];if(!_f){_f=_e[_d]=[];}_f.push(this.uuid);}if(!this.id){this.options.id=this.id=this.uuid;}else{if(window[$W.noConflict].data[this.id]!=null||window[$W.noConflict].comp[this.id]!=null){var _10=$W._m.getMessage("E_dc_duplicated_Msg",this.id,"dataMap")||"id["+this.id+"] \uac00 \uc911\ubcf5\uc0ac\uc6a9\ub418\uc5c8\uc2b5\ub2c8\ub2e4. \uae30\uc874\uc5d0 \uc788\ub358 dataMap\uc744 \uc0ad\uc81c\ud558\uace0 \uc0c8\ub85c \uc0dd\uc131\ud569\ub2c8\ub2e4.";$W.logger.printLog(_10);var _11=$W._j["stopBroadCast"];try{$W._j["stopBroadCast"]=true;$W._j.api.remove(this.id);$W._j["stopBroadCast"]=_11;}catch(e){_11=$W._j["stopBroadCast"];}}}$W.idCache[this.uuid]=this;$W.idToUUID[this.id]=this.uuid;window[$W.noConflict].data[this.id]=this;if($W._N.getConfiguration("/WebSquare/globalExposure/@value").toLowerCase()!="false"){window[this.id]=this;}this.event=new $W.eventControl();this.initializeDataMap(_8);this.bindAsEventList=[];this.bindAsUserEventList=[];this.userEventList=[];this.systemEventList={};if(this.options.xmlEvents){this.options.xmlEvents=this.event.addUserEvents(this,this.options.xmlEvents,this.options.userEvents);if(this.options.xmlEvents.length>0){this.event.addEvents(this,this.options.xmlEvents);}}if(_a!=undefined&&$W.idCache[_a]){this.parentFrame=_a;$W.idCache[_a].childAllControlList.push(this.uuid);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataMap.prototype.initializeDataMap=function(_12){try{this.childCompHash={};this.refCompHash={};this.statusHash={};this.firstSetting={};this.activated=false;if(this.options.attributeMap){if(this.id!=this.options.attributeMap){if(!$W._j.attributeMapInfo[this.options.attributeMap]){$W._j.attributeMapInfo[this.options.attributeMap]=[];}$W._j.attributeMapInfo[this.options.attributeMap].push(this.id);this.syncWithAttributeMap();}}if(this.options.valueAttribute.wq_trim()=="$none"){this.options.valueAttribute="";}var _13=this.options.valueNode==""?this.options.valueAttribute:this.options.valueNode;_13=this.options.valueAttribute==""?this.options.valueNode:this.options.valueAttribute;this.options.valueNode=_13;this.options.valueAttribute=_13;this.options.repeatNode=this.options.baseNode;this.element=_12;if(this.elementType=="JSON"){_12.columnInfo=_12.keyInfo;}this._dataList=new $W._j.dataList(this.id+"??dataList",this.options,_12,"dataMap");if(this.initializeType=="dataMap"){$W._j.api.addChild(this);this.synchronize();this.synchronizeRef();if(this.elementType=="XML"){var _14=$W._B.getElementsByTagName(_12,"data",$W._N._XML_NAMESPACE.W2)[0];if(_14){this.useData=$W._G.getBoolean(_14.getAttribute("use"));if(this.useData){this._dataList.allowTextNode=true;this.setXML(_14,false);this._dataList.allowTextNode=false;}}}else{if(this.elementType=="JSON"){this.useData=this.element.option.useData;if(this.useData&&this.element.data){this.setJSON(this.element.data);}}}if(this._dataList.getRowCount()==0){this._dataList.insertRow(0);var _15=this.getCount();for(var i=0;i<_15;i++){var _17=this._dataList.getCellInfo(i);var _18=_17.options.defaultValue;if(_18!=""){this.firstSetting[_17.options.id]=true;this.statusHash[_17.options.id]=true;}}}}if($W._j.attributeMapInfo[this.id]){for(var i=0;i<$W._j.attributeMapInfo[this.id].length;i++){var _19=$W._j.attributeMapInfo[this.id][i];var _1a=$W._G.getComponentById(_19);_1a.syncWithAttributeMap();}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataMap.prototype.finalize=function(){["WebSquare.DataCollection.dataMap.prototype.finalize"];try{this.activated=false;if(this._dataList.id){$W._j.api.remove(this._dataList.id);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataMap.prototype.activate=function(){["WebSquare.DataCollection.dataMap.prototype.activate"];try{if(!this.activated){for(var opt in this.options){if(opt.slice(0,3)=="ev:"){var _1c=this.options[opt].split(",");for(var j=0;j<_1c.length;j++){this.bind(opt.slice(3),_1c[j]);}}}if(this.options.eventPause){this.setEventPause(this.options.eventPause,true);}}this.activated=true;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataMap.prototype.addEvent=function(_1e,_1f,_20){["WebSquare.dataMap.addEvent"];try{_20=_20||"script";var _21={name:_1e,action:_20,param:{handler:_1f}};if(!this.options.xmlEvents){this.options.xmlEvents=[];}this.options.xmlEvents.push(_21);this.event.addUserEvents(this,[_21],this.options.userEvents);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataMap.prototype.bind=function(_22,_23){["WebSquare.dataMap.bind"];try{if(typeof _22==="string"&&(_22.slice(0,2)!="on")){_22="on"+_22;}if(_22==="string"){_22=_22.toLowerCase();}this.addEvent(_22,_23);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataMap.prototype.trigger=function(_24,_25){["WebSquare.dataMap.trigger"];try{if(typeof _24==="string"&&(_24.slice(0,2)!="on")){_24="on"+_24;}var _26=false;if(this.options.userEvents!=undefined){for(var i=0;i<this.options.userEvents.length;i++){if(this.options.userEvents[i]===_24){_26=true;break;}}}if(!_26&&$W._c.isEventSupported(this.render,_24)){if(_25&&extraParamteres.constructor==Array){$W._c.fireSystemEvent(this,_24,_25[0]);}else{$W._c.fireSystemEvent(this,_24);}}else{var _28=[this,_24];_28=_28.concat(_25);$W._c.fireEvent.apply($W._c.fireEvent,_28);_28[0]=null;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataMap.prototype.unbind=function(_29,_2a){["WebSquare.dataMap.unbind"];try{if(typeof _29==="string"&&(_29.slice(0,2)!="on")){_29="on"+_29;}if(typeof _29==="string"&&typeof _2a==="function"){for(var i=0;i<this.userEventList.length;i++){if(_29===this.userEventList[i].name&&_2a===this.userEventList[i].param.handler){this.userEventList.splice(i,1);if(typeof this.systemEventList[_29]==="object"){this.systemEventList[_29].count--;if(this.systemEventList[_29].count<=0){this.event.removeListener(this.render,_29,this.systemEventList[_29].handler);delete this.systemEventList[_29];}}}}}else{if(typeof _29==="string"&&_2a==undefined){for(var i=this.userEventList.length-1;i>=0;i--){if(_29===this.userEventList[i].name){this.userEventList.splice(i,1);}}if(typeof this.systemEventList[_29]==="object"){this.event.removeListener(this.render,_29,this.systemEventList[_29].handler);delete this.systemEventList[_29];}}else{for(var ev in this.systemEventList){this.event.removeListener(this.render,ev,this.systemEventList[ev].handler);}this.userEventList=[];this.systemEventList={};}}this.options.xmlEvents=this.userEventList.slice();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataMap.prototype.onComplete=function(){if(this.completed){$l("!!!WARNING!!! duplicate call 'onComplete' for : "+this.id);return;}this.completed=true;};$W._j.dataMap.prototype.setEventPause=function(_2d,_2e){var _2f={};var _30=false;if(typeof _2d=="string"&&_2d!=""){var _31=_2d.split(",");for(var i=0;i<_31.length;i++){if(_31[i]){_2f[_31[i]]=true;}}}else{_30=true;}for(var i=this.userEventList.length-1;i>=0;i--){if(_30||_2f[this.userEventList[i].name]){this.userEventList[i].disabled=_2e;}}};;WebSquare.uiplugin.dataMap=$W._a.ac;$W._j.linkedFilterController=function(_1){this.parent=_1;this.filterArr=[];this.colArr=[];for(var i=0;i<this.parent._dataList.cellIdList.length;i++){var _3=this.parent._dataList.cellIdList[i];this.colArr[_3]=_3;}};$W._j.linkedFilterController.prototype.runFilter=function(_4){["WebSquare.DataCollection.linkedFilterController.prototype.runFilter"];try{this.evaluateFilterCondition(_4);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.linkedFilterController.prototype.runSort=function(_5){["WebSquare.DataCollection.linkedFilterController.prototype.runSort"];try{this.evaluateSortCondition(_5);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.linkedFilterController.prototype.evaluateFilterCondition=function(_6){["WebSquare.DataCollection.linkedFilterController.prototype.evaluateFilterCondition"];try{if(typeof _6!="string"||_6.trim()==""){this.parent.broadcast({"gridView":["notifySettedFilter",[{isSort:false}]]});return;}var _7;if(this.parent.conditionInfo.filterInfo.parse){_7=this.parent.conditionInfo.filterInfo.condition;}else{var _8=_6;_7="this.executeLinkedFilter({condition:'and'";if(_6!=""){_6=_6.trim();_6=_6.replaceAll("\"","'");_6=_6.replace(/[\s]*[=][=][\s]*/g,",operator:'E', key:");_6=_6.replace(/[\s]*[!][=][\s]*/g,",operator:'IE', key:");_6=_6.replace(/[\s]*[>][=][\s]*/g,",operator:'GTE', key:");_6=_6.replace(/[\s]*[<][=][\s]*/g,",operator:'LTE', key:");_6=_6.replace(/[\s]*[>][\s]*/g,",operator:'GT', key:");_6=_6.replace(/[\s]*[<][\s]*/g,",operator:'LT', key:");_6=_6.replace(/[\s]+[nN][oO][tT][\s]*[lL][iI][kK][eE][\s]+/g,",operator:'NOTLIKE', key:");_6=_6.replace(/[\s]+[lL][iI][kK][eE][\s]+/g,",operator:'LIKE', key:");_6=_6.replace(/[cC][oO][lL][\s]*[(]/g,",colID:this.getColumnID(");_6=_6.replace(/[rR][oO][wW][sS][tT][aA][tT][uU][sS][\s]*[(][\s]*[)]/g,",colID:'@rowStatus'");_6=_6.replace(/[\s]*[&][&][\s]*/g," });this.executeLinkedFilter({condition:'and'");_6=_6.replace(/[\s]*[|][|][\s]*/g," });this.executeLinkedFilter({condition:'or'");_6=_6.replace(/[vV][aA][lL][\s]*[(]/g,"this.getComponentValue(");_6=_6.replace(/[rR][eE][fF][\s]*[(]/g,"this.getRefValue(");}_7=_7+_6+"});";}try{eval(_7);this.parent.conditionInfo.filterInfo.parse=true;this.parent.conditionInfo.filterInfo.condition=_7;}catch(e){try{this.deprecatedEvaluateFilterCondition(_8);}catch(e){this.parent.conditionInfo.filterInfo.parse=false;$l(" filter error ");this.parent.broadcast({"gridView":["notifySettedFilter",[{"isSort":false}]]});}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.linkedFilterController.prototype.deprecatedEvaluateFilterCondition=function(_9){["WebSquare.DataCollection.linkedFilterController.prototype.deprecatedEvaluateFilterCondition"];function _push(_a,_b){_a[_a.length]=_b;}function _pop(_c){var _d=_c[_c.length-1];delete _c[_c.length-1];_c.length--;return (_d);}function isOperation(_e){return ((!isOperator(_e)&&(_e!="(")&&(_e!=")"))?true:false);}function isOperator(_f){return (_f==="&"||_f==="|")?true:false;}function topStack(_10){return (_10[_10.length-1]);}function isEmpty(_11){return ((_11.length==0)?true:false);}function isCalculation(who){if(who=="("){return (2);}if(who==")"){return (1);}return 3;}function InfixToPostfix(_13,_14,_15){var _14=new Array();var _16=new Array();var _17=0;_13=Tokens(_13);for(var i=0;i<_13.length;i++){if(isOperation(_13[i])){_14[_17]=_13[i];_17++;}if(isOperator(_13[i])){if(_13[i]!="^"){while((!isEmpty(_16))&&(isCalculation(_13[i])<=isCalculation(topStack(_16)))){_14[_17]=topStack(_16);_pop(_16);_17++;}}else{while((!isEmpty(_16))&&(isCalculation(_13[i])<isCalculation(topStack(_16)))){_14[_17]=topStack(_16);_pop(_16);_17++;}}_push(_16,_13[i]);}if(_13[i]=="("){_push(_16,_13[i]);}if(_13[i]==")"){while(topStack(_16)!="("){_14[_17]=_pop(_16);_17++;}_pop(_16);}}while(!isEmpty(_16)){if(topStack(_16)=="("){_pop(_16);}else{_14[_14.length]=_pop(_16);}}var _19="";for(var i=0;i<_14.length;i++){_19+=_14[i];}if(_15==0){return (_19);}else{return (_14);}}function PostfixToInfix(_1a){var _1b=new Array();_1a=_1a.split("");for(var i=0;i<_1a.length;i++){if(isOperation(_1a[i])){_push(_1b,_1a[i]);}else{var _1d=topStack(_1b);_pop(_1b);var _1e="("+topStack(_1b)+_1a[i]+_1d+")";_pop(_1b);_push(_1b,_1e);}}return (topStack(_1b));}function Tokens(str){var _20=str.split("");var _21=new String("");var _22=new Array();var _23=0;for(var i=0;i<_20.length;i++){if(isOperation(_20[i])&&_20[i].match(/\s/)==null){_21+=_20[i];}if(isOperator(_20[i])||_20[i]==")"||_20[i]=="("){if(_21!=""){_22[_23]=_21;_23++;}_21="";_22[_23]=_20[i];_23++;}if(i==_20.length-1){if(_21!=""){_22[_23]=_21;}}}return (_22);}function Calculation(_25,_26,sym){try{var ZU;if(sym==="&"){ZU="&&";}else{ZU="||";}return (_25+" "+ZU+" "+_26);}catch(e){$W.exception.printStackTrace(e);}}function PostfixEval(_29,_2a){var _2b=new Array();var _2c;var _2d;for(var i=0;i<_29.length;i++){if(isOperation(_29[i])){_push(_2b,_29[i]);}else{_2c=topStack(_2b);_pop(_2b);_2d=topStack(_2b);var _2f=Calculation(_2d,_2c,_29[i]);_pop(_2b);_2b.unshift(_2f);}}return (topStack(_2b));}var _30="this.executeLinkedFilter{ 'and', this.colArr['";if(_9!=""){_9=_9.trim();_9=_9.replace(/[\s]*[&][&][\s]*/g,"&");_9=_9.replace(/[\s]*[|][|][\s]*/g,"|");_9=_9.replace(/[vV][aA][lL][\s]*[(].*[)]/g,function(_31){return _31.wq_replaceAll("(","!_!").wq_replaceAll(")","_!_");});_9=_9.replace(/[rR][eE][fF][\s]*[(].*[)]/g,function(_32){return _32.wq_replaceAll("(","!_!").wq_replaceAll(")","_!_");});_9=_9.replace(/[\s]+[nN][oO][tT][\s]*[lL][iI][kK][eE][\s]+/g,"#LIKE#");_9=_9.replace(/[\s]+[lL][iI][kK][eE][\s]+/g,"$LIKE$");_9=_9.replace(/[rR][oO][wW][sS][tT][aA][tT][uU][sS][\s]*[(][\s]*[)]/g,"@rowStatus");_9=PostfixEval(InfixToPostfix(_9));_9=_9.wq_replaceAll("!_!","(").wq_replaceAll("_!_",")");_9=_9.wq_replaceAll("#LIKE#"," NOTLIKE ");_9=_9.wq_replaceAll("$LIKE$"," LIKE ");_9=_9.replace(/[vV][aA][lL][\s]*[(]/g,"this.getComponentValue{");_9=_9.replace(/[rR][eE][fF][\s]*[(]/g,"this.getRefValue{");_9=_9.replace(/[\s]*[=][=][\s]*/g,"'], 'E', ");_9=_9.replace(/[\s]*[!][=][\s]*/g,"'], 'IE', ");_9=_9.replace(/[\s]*[>][=][\s]*/g,"'], 'GTE', ");_9=_9.replace(/[\s]*[<][=][\s]*/g,"'], 'LTE', ");_9=_9.replace(/[\s]*[>][\s]*/g,"'], 'GT', ");_9=_9.replace(/[\s]*[<][\s]*/g,"'], 'LT', ");_9=_9.replace(/[\s]+[lL][iI][kK][eE][\s]+/g,"'], 'LIKE', ");_9=_9.replace(/[\s]+[nN][oO][tT][\s]*[lL][iI][kK][eE][\s]+/g,"'], 'NOTLIKE', ");_9=_9.replace(/[\s]*[&][&][\s]*/g,"); this.executeLinkedFilter{ 'and', this.colArr['");_9=_9.replace(/[\s]*[|][|][\s]*/g,"); this.executeLinkedFilter{ 'or', this.colArr['");}_30=_30+_9+");";_30=_30.replace(/[\s]*[(][\s]*/g,"");_30=_30.wq_replaceAll("this.colArr['@rowStatus']","'@rowStatus'");var _33=_30.split(";");_30="";for(var i=0;i<_33.length;i++){if(_33[i]!=""){_33[i]=_33[i].replace(/[{][\s]*/g,"(");var _35=_33[i].match(/[(]/g).length;var _36=_33[i].match(/[)]/g).length;if(_35<=_36){_33[i]=_33[i].replace(/[)][\s]*/g,"");for(var j=0;j<_35;j++){if(j==_35-1){_33[i]=_33[i]+");";}else{_33[i]=_33[i]+")";}}}_30+=_33[i];}}eval(_30);this.parent.conditionInfo.filterInfo.parse=true;this.parent.conditionInfo.filterInfo.condition=_30;};$W._j.linkedFilterController.prototype.executeLinkedFilter=function(_38){["WebSquare.DataCollection.linkedFilterController.prototype.executeLinkedFilter"];try{var key;var _3a;var _3b;var _3c;if(arguments.length>1){_3c=arguments[0];_3a=arguments[1];_3b=arguments[2];key=arguments[3];}else{_3c=_38.condition;_3a=_38.colID;_3b=_38.operator;key=_38.key;}var _3d={};_3d.type="row";_3d.colIndex=_3a;_3d.condition=_3c;switch(_3b){case "GT":_3d.operator=">";break;case "GTE":_3d.operator=">=";break;case "LT":_3d.operator="<";break;case "LTE":_3d.operator="<=";break;case "E":_3d.operator="==";break;case "IE":_3d.operator="!=";break;case "LIKE":_3d.operator="LIKE";break;case "NOTLIKE":_3d.operator="NOTLIKE";break;}if(key==="*"||key===$W.allValue){_3d.key="";}else{_3d.key=key||"";_3d.exactMatch=true;}this.parent.conditionInfo.keyArray.push(_3d.key);this.parent.conditionInfo.columnArray.push(_3d.colIndex);this.parent.setFilter(_3d);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.linkedFilterController.prototype.evaluateSortCondition=function(str){["WebSquare.DataCollection.linkedFilterController.prototype.evaluateSortCondition"];try{if(typeof str!="string"||str.trim()==""){return;}var _3f;if(this.parent.conditionInfo.sortInfo.parse){_3f=this.parent.conditionInfo.sortInfo.condition;}else{_3f="this.executeLinkedSort([";if(str!=""){str=str.trim();str=str.replace(/[aA][sS][cC][\s]*[(]/g,"{ order: 1, columns: ");str=str.replace(/[dD][eE][sS][cC][\s]*[(]/g,"{ order: -1, columns: ");str=str.replace(/[)]/g,"");str=str.replace("&&","}, ");str=str.replace("||","}, ");}_3f=_3f+str+"}]);";}try{eval(_3f);this.parent.conditionInfo.sortInfo.parse=true;this.parent.conditionInfo.sortInfo.condition=_3f;}catch(e){this.parent.conditionInfo.sortInfo.parse=false;$l(" sort error ");}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.linkedFilterController.prototype.executeLinkedSort=function(_40){["WebSquare.DataCollection.linkedFilterController.prototype.executeLinkedSort"];try{var _41={sortIndex:[],sortOrder:[]};for(var _42=0;_42<_40.length;_42++){var _43=_40[_42];var _44=_43.columns.split(",");for(var i=0;i<_44.length;i++){_41.sortIndex.push(_44[i].trim());_41.sortOrder.push(_43.order);}}if(_41.sortIndex.length>0){this.parent.multisort(_41);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.linkedFilterController.prototype.getRefValue=function(uri){["WebSquare.DataCollection.linkedFilterController.prototype.getRefValue"];try{uri=uri.replace("data:","");uriArr=uri.split(".");var _47=$W._G.getComponentById(uriArr[0]);if(_47){if(!this.parent.conditionInfo.targetInfo[uriArr[0]]){this.parent.conditionInfo.targetInfo[uriArr[0]]=[];}this.parent.conditionInfo.targetInfo[uriArr[0]].push(uriArr[1]);_47.addRefComp(this.parent);this.parent.conditionInfo.filterInfo.useRef=true;switch(_47.initializeType){case "linkedDataList":case "dataList":return _47.getCellData(_47.getRowPosition(),uriArr[1])||"";case "dataMap":return _47.get(uriArr[1]);}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.linkedFilterController.prototype.getComponentValue=function(uri){["WebSquare.DataCollection.linkedFilterController.prototype.getComponentValue"];try{var _49=$W._G.getComponentById(uri);if(_49){this.parent.conditionInfo.targetInfo[uri]=true;_49.dataObjInfo[this.parent.id]=this.parent;return _49.getValue();}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.linkedFilterController.prototype.getColumnID=function(_4a){["WebSquare.DataCollection.linkedFilterController.prototype.getColumnID"];try{return _4a;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.linkedFilterController.prototype.getKey=function(key){["WebSquare.DataCollection.linkedFilterController.prototype.getKey"];try{return key;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.linkedFilterController.prototype.useFilter=function(){if(this.filterArr.length!=0){return true;}return false;};$W._j.linkedFilterController.prototype.clear=function(){this.filterArr=[];};$W._j.linkedFilterController.prototype.executeAllFilter=function(){for(var i=0;i<this.filterArr.length;i++){this.executeFilter(this.filterArr[i]);}};$W._j.linkedFilterController.prototype.restartFilter=function(){this.parent.initialRowIndexArr=this.parent._dataList.filteredRowIndexArr.slice(0);this.parent.filteredRowIndexArr=this.parent._dataList.filteredRowIndexArr.slice(0);for(var i=0;i<this.parent.initialFilterList.length;i++){this.executeFilter(this.parent.initialFilterList[i]);this.deleteFilterById(this.parent.initialFilterList[i].id,false);}this.parent.initialRowIndexArr=this.parent.filteredRowIndexArr.slice(0);for(var i=0;i<this.filterArr.length;i++){this.executeFilter(this.filterArr[i]);}this.filterArr=this.parent.initialFilterList.concat(this.filterArr);};$W._j.linkedFilterController.prototype.executeFilter=function(_4e){["WebSquare.DataCollection.linkedFilterController.prototype.executeFilter"];try{var _4f=false;if(_4e.options.operator==">"||_4e.options.operator==">="||_4e.options.operator=="<"||_4e.options.operator=="<="||_4e.options.operator=="!="||_4e.options.operator=="LIKE"||_4e.options.operator=="NOTLIKE"){_4f=true;}if(_4e.options.condition=="and"){this.parent.filteredRowIndexArr=_4f?_4e.executeCondition(this.parent.uuid,"and"):_4e.execute(this.parent.uuid,"and");}else{if(_4e.options.condition=="or"){var _50=_4f?_4e.executeCondition(this.parent.uuid,"or"):_4e.execute(this.parent.uuid,"or");this.parent.filteredRowIndexArr=this.mergeArray(this.parent.filteredRowIndexArr,_50);}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.linkedFilterController.prototype.addFilter=function(_51,_52){["WebSquare.DataCollection.linkedFilterController.prototype.addFilter"];try{if(_52.sortIndexArr){var _53=[];for(var i=0;i<_52.sortIdArr.length;i++){_53.push(this.parent._dataList.getColumnIndex(_52.sortIdArr[i]));}_52.sortIndexArr=_53;}var _55=null;if(_52.type=="row"){_55=new $W.linkedRowFilter(_51,_52);}else{if(_52.type=="user"){_55=new $W.linkedUserFilter(_51,_52);}else{if(_52.type=="cell"){_55=new $W.linkedCellFilter(_51,_52);}else{if(_52.type=="sort"){_55=new $W.linkedSortFilter(_51,_52);this.deleteFilterById("sort^@",false);}else{if(_52.type=="func"){_55=new $W.linkedFuncFilter(_51,_52);}else{if(_52.type=="regExp"){_55=new $W.linkedRegExpFilter(_51,_52);}}}}}}this.executeFilter(_55);this.filterArr.push(_55);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.linkedFilterController.prototype.deleteFilter=function(_56,_57,_58){if(typeof _58=="undefined"){_58=true;}var _59=[];for(var i=0;i<this.filterArr.length;i++){if(this.filterArr[i].id.indexOf(_56)==-1){_59.push(this.filterArr[i]);}}this.filterArr=_59;this.parent.filteredRowIndexArr=this.parent.initialRowIndexArr.slice(0);if(_58==true){for(var i=0;i<this.filterArr.length;i++){this.executeFilter(this.filterArr[i]);}}};$W._j.linkedFilterController.prototype.mergeArray=function(_5b,_5c){var _5d=[];var _5e=[];for(var i=0;i<_5b.length;i++){_5d[_5b[i]]=1;}for(var i=0;i<_5c.length;i++){_5d[_5c[i]]=1;}for(var i=0;i<_5d.length;i++){if(_5d[i]===1){_5e.push(i);}}return _5e;};$W._j.linkedFilterController.prototype.deleteFilterById=function(_60,_61){if(typeof _61=="undefined"){_61=true;}var _62=[];for(var i=0;i<this.filterArr.length;i++){if(this.filterArr[i].id.indexOf(_60)==-1){_62.push(this.filterArr[i]);}}this.filterArr=_62;};$W._j.linkedFilterController.prototype.replacechar=function(_64){if(_64=="^"||_64=="$"||_64=="."||_64=="["||_64=="]"||_64=="{"||_64=="}"||_64=="+"||_64=="("||_64==")"||_64=="|"){return "\\"+_64;}else{if(_64=="\\"){return "\\"+_64;}}};$W.linkedRowFilter=function(id,_66){this.id=id;this.options=$W.extend({colIndex:-1,key:"",condition:"and",exactMatch:false},_66||{});};$W.linkedRowFilter.prototype.execute=function(_67,_68){var _69=[];var _6a=$W.idCache[_67];var _6b=_6a._dataList.getColumnIndex(this.options.colIndex);var _6c=_6a._dataList.cellIdList.length;var _6d=(_68==="and")?_6a.filteredRowIndexArr:_6a.initialRowIndexArr;for(var i=0;i<_6d.length;i++){var _6f=_6d[i];var _70=this.options.colIndex=="@rowStatus"?_6a._dataList.rowStatusArr[_6f]:_6a._dataList.dataArr[_6f*_6c+_6b];if(_70==null){_70="";}if(this.options.exactMatch){if(_70==this.options.key){_69.push(_6f);}}else{if(_70.indexOf(this.options.key)>-1){_69.push(_6f);}}}return _69;};$W.linkedRowFilter.prototype.executeCondition=function(_71,_72){var _73=[];var _74=$W.idCache[_71];var _75=_74._dataList.getColumnIndex(this.options.colIndex);var _76=_74._dataList.cellIdList.length;var _77=(_72==="and")?_74.filteredRowIndexArr:_74.initialRowIndexArr;for(var i=0;i<_77.length;i++){var _79=_77[i];var _7a;var _7b;if(this.options.columnDataType=="number"){var _7c=_74._dataList.dataArr[_79*_76+_75];if(this.options.numberExtraction==true){_7c+="";_7c=_7c.replace(/[^\+\-\.0-9]/g,"");}_7a=parseFloat(_7c,10)||0;_7b=parseFloat(this.options.key);}else{_7a=this.options.colIndex=="@rowStatus"?_74._dataList.rowStatusArr[_79]:_74._dataList.dataArr[_79*_76+_75];_7b=this.options.key;}if(this.options.operator==">"){if(_7a>_7b){_73.push(_79);}}else{if(this.options.operator==">="){if(_7a>=_7b){_73.push(_79);}}else{if(this.options.operator=="<"){if(_7a<_7b){_73.push(_79);}}else{if(this.options.operator=="<="){if(_7a<=_7b){_73.push(_79);}}else{if(this.options.operator=="!="){if(_7a!=_7b){_73.push(_79);}}else{if(this.options.operator=="LIKE"){if(_7a.match("^(?:"+_7b.wq_replaceAll("_",".").wq_replaceAll("%",".*")+"$)")!=null){_73.push(_79);}}else{if(this.options.operator=="NOTLIKE"){if(_7a.match("^(?:"+_7b.wq_replaceAll("_",".").wq_replaceAll("%",".*")+"$)")==null){_73.push(_79);}}}}}}}}}return _73;};$W.linkedUserFilter=function(id,_7e){this.id=id;this.options=$W.extend({key:"",condition:"and"},_7e||{});};$W.linkedUserFilter.prototype.getColumnData=function(_7f,_80,_81){var _82=$W.idCache[_7f];var _81=_82._dataList.getColumnIndex(_81);var _83=_82._dataList.cellIdList.length;var _84=_82._dataList.dataArr[_80*_83+_81];return _84;};$W.linkedUserFilter.prototype.execute=function(obfuscator_uuid,_85){var exp=this.options.key.replace(/col[\s]*\(/g,"this.getColumnData(obfuscator_uuid, obfuscator_realRow, ");var _87=$W.idCache[obfuscator_uuid];var _88=_87._dataList.getColumnIndex(this.options.colIndex);var _89=_87._dataList.cellIdList.length;var _8a=(_85==="and")?_87.filteredRowIndexArr:_87.initialRowIndexArr;var _8b=[];for(var i=0;i<_8a.length;i++){var obfuscator_realRow=_8a[i];if(eval(exp)){_8b.push(obfuscator_realRow);}}return _8b;};$W.linkedCellFilter=function(id,_8e){this.id=id;this.options=$W.extend({key:""},_8e||{});};$W.linkedCellFilter.prototype.execute=function(_8f,_90){var _91=[];var _92=$W.idCache[_8f];var _93=_92._dataList.getColumnIndex(this.options.colIndex);var _94=_92._dataList.cellIdList.length;var _95=(_90==="and")?_92.filteredRowIndexArr:_92.initialRowIndexArr;var _96=_92._dataList.oneRowDataLength;for(var i=0;i<_95.length;i++){var row=_95[i];for(var col=0;col<_96;col++){var _9a=_92._dataList._getData(row,col);if(_9a==null){_9a="";}if(_9a.indexOf(this.options.key)>-1){_91.push(row);}}}return _91;};$W.linkedSortFilter=function(id,_9c){this.id=id;this.options=$W.extend({colIndex:"",sortIndex:"",sortOrder:"",dataType:"",sortIndexArr:[],sortOrderArr:[],dataTypeArr:[],sortFuncArr:[],sortIdArr:[]},_9c||{});};$W.linkedSortFilter.prototype.execute=function(_9d,_9e){var _9f=[];var _a0=$W.idCache[_9d];var _a1=_a0._dataList.getColumnIndex(this.options.colIndex);var _a2=_a0._dataList.cellIdList.length;var _a3=(_9e==="and")?_a0.filteredRowIndexArr:_a0.initialRowIndexArr;var _a4=_a0._dataList.oneRowDataLength;var _a5=_a3.slice(0).sort(function(a,b){return (a-b);});var _a8=this.options;var _a9=_a0._dataList.dataArr;var _aa=[];for(var i=0;i<_a5.length;i++){_aa[i]=_a5[i]*_a4;}var _ac=[];for(var i=0;i<_a8.sortIndexArr.length;i++){_ac[i]={};if(_a8.sortFuncArr[i]){for(var j=0;j<_aa.length;j++){_ac[i][_a5[j]]=_a9[_aa[j]+_a8.sortIndexArr[i]];}}else{if(_a8.dataTypeArr[i]=="number"){for(var j=0;j<_aa.length;j++){var _ae=_a9[_aa[j]+_a8.sortIndexArr[i]];if(_a8.numberExtractionValueArr[i]==true){_ae+="";_ae=_ae.replace(/[^\+\-\.0-9]/g,"");}_ac[i][_a5[j]]=Number(_ae);}}else{for(var j=0;j<_aa.length;j++){_ac[i][_a5[j]]=_a9[_aa[j]+_a8.sortIndexArr[i]]||"";}}}}if(_ac.length==1){if(!_a8.sortFuncArr[0]){var _af=_a8.sortOrderArr[0];var _b0=_ac[0];_a5.sort(function(lhs,rhs){if(_b0[lhs]==_b0[rhs]){return 0;}else{if(_b0[lhs]>_b0[rhs]){return _af;}else{return -(_af);}}});}else{var _b3=_a8.sortFuncArr[0];var _b0=_ac[0];_a5.sort(function(lhs,rhs){return _b3(_b0[lhs],_b0[rhs]);});}}else{_a5.sort(function(lhs,rhs){for(var i=0;i<_ac.length;i++){var _b9;if(!_a8.sortFuncArr[i]){if(_ac[i][lhs]==_ac[i][rhs]){_b9=0;}else{if(_ac[i][lhs]<_ac[i][rhs]){_b9=-(_a8.sortOrderArr[i]);}else{_b9=_a8.sortOrderArr[i];}}}else{_b9=_a8.sortFuncArr[i](_ac[i][lhs],_ac[i][rhs]);}if(_b9!=0){return _b9;}}return 0;});}return _a5;};$W.linkedFuncFilter=function(id,_bb){this.id=id;this.options=$W.extend({colIndex:-1,key:"",condition:"and"},_bb||{});};$W.linkedFuncFilter.prototype.execute=function(_bc,_bd){if(typeof this.options.key!=="function"){throw new Error("This key is not a Function.[key:"+this.options.key+"]");}var _be=[];var _bf=$W.idCache[_bc];var _c0=_bf._dataList.getColumnIndex(this.options.colIndex);var _c1=_bf._dataList.cellIdList.length;var _c2=(_bd==="and")?_bf.filteredRowIndexArr:_bf.initialRowIndexArr;var _c3=_bf._dataList.oneRowDataLength;for(var i=0;i<_c2.length;i++){var row=_c2[i];if(this.options.key(_bf._dataList._getData(row,this.options.colIndex),this.options.param,row)){_be.push(row);}}return _be;};$W.linkedRegExpFilter=function(id,_c7){this.id=id;this.options=$W.extend({colIndex:-1,key:"",condition:"and"},_c7||{});this.regExp=this.options.key;};$W.linkedRegExpFilter.prototype.execute=function(_c8,_c9){if(!$W._G.isRegExp(this.regExp)){throw new Error("This key is not a regular expression.[key:"+this.regExp+"]");}var _ca=[];var _cb=$W.idCache[_c8];var _cc=_cb._dataList.getColumnIndex(this.options.colIndex);var _cd=_cb._dataList.cellIdList.length;var _ce=(_c9==="and")?_cb.filteredRowIndexArr:_cb.initialRowIndexArr;var _cf=_cb._dataList.oneRowDataLength;for(var i=0;i<_ce.length;i++){var row=_ce[i];var _d2=_cb._dataList._getData(row,this.options.colIndex)+"";if(_d2==null){_d2="";}if(_d2.match(this.regExp)){_ca.push(row);}}return _ca;};;WebSquare.uiplugin.linkedFilterController=$W._a._W;$W._j.linkedDataListApiController=function(){["WebSquare.DataCollection.linkedDataListApiController"];};$W._j.linkedDataListApiController.prototype.getBroadcast=function(){return (this._broadCastFlag!==false);};$W._j.linkedDataListApiController.prototype.setBroadcast=function(_1){if(_1===false){this._broadCastFlag=_1;}else{this._broadCastFlag=true;}};$W._j.linkedDataListApiController.prototype.broadcast=function(_2){["WebSquare.DataCollection.linkedDataListApiController.prototype.broadcast"];try{if($W._j["stopBroadCast"]||!this.getBroadcast()){return;}for(var id in this.childCompHash){var _4=this.childCompHash[id];if(_4!=null&&$W.idCache[_4.uuid]&&_4.render!=null){if(_4.activeStatus=="stop"&&typeof _4.preActivate=="function"){_4.preActivate();}switch(_4.options.pluginName){case "gridView":if(_2.gridView){_4[_2.gridView[0]].apply(_4,_2.gridView[1]||[]);}break;case "fusionchart":if(_2.fusionChart){_4[_2.fusionChart[0]].apply(_4,_2.fusionChart[1]||[]);}break;case "checkcombobox":if(_2.checkcombobox){_4[_2.checkcombobox[0]].apply(_4,_2.checkcombobox[1]||[]);break;}default:if(_2.generalComp=="refreshItemset"||_2.generalComp=="both"){if(_4.modelControl.useItemset){_4.refreshItemset(_2.mode||"keepIndex");}}else{if(_2.generalComp){_4[_2.generalComp[0]].apply(_4,_2.generalComp[1]||[]);}}break;}}}for(var id in this.refCompHash){var _4=this.refCompHash[id];if(_4!=null&&$W.idCache[_4.uuid]){if(_4.activeStatus=="stop"&&typeof _4.preActivate=="function"){_4.preActivate();}switch(_4.options.pluginName){case "linkedDataList":if(_2.linkedDataList){_4.refresh();break;}case "fusionchart":if(_2.fusionChart){_4[_2.fusionChart[0]].apply(_4,_2.fusionChart[1]||[]);}break;default:if(_2.generalComp=="refresh"||_2.generalComp=="both"){if(_4.modelControl.useRef){_4.refresh();}}break;}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.linkedDataListApiController.prototype.synchronize=function(){["WebSquare.DataCollection.linkedDataListApiController.prototype.synchronize"];try{var _5=$W._j.parentToChildRelation[this.id];if(_5){for(var _6 in _5){if(_5[_6]){this.childCompHash[_6]=$W._G.getComponentById(_6);}}}this.broadcast({"gridView":["setDataList"],"generalComp":["refreshItemArr"]});}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.linkedDataListApiController.prototype._addRelation=function(_7){["WebSquare.DataCollection.linkedDataListApiController.prototype._addRelation"];try{if(!this.childCompHash){return;}var _8=$W._G.getComponentById(_7);if(!_8){return;}this.childCompHash[_7]=_8;if(_8.activeStatus=="stop"&&typeof _8.preActivate=="function"&&!_8.skipPreActivate){_8.preActivate();}var _9=_8.options.pluginName||_8.initializeType;switch(_9){case "linkedDataList":case "grid":case "gridView":_8.setDataList();break;default:break;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.linkedDataListApiController.prototype._addRefRelation=function(_a){["WebSquare.DataCollection.linkedDataListApiController.prototype._addRefRelation"];try{if(!this.refCompHash){return;}var _b=$W._G.getComponentById(_a);if(!_b){return;}this.refCompHash[_a]=_b;if(_b.activeStatus=="stop"&&typeof _b.preActivate=="function"){_b.preActivate();}var _c=_b.options.pluginName||_b.initializeType;switch(_c){case "grid":case "gridView":_b.drawData(0,0);break;default:if(_b.modelControl.useRef){_b.refresh();}break;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.linkedDataListApiController.prototype.syncWithParent=function(){["WebSquare.DataCollection.linkedDataListApiController.prototype.syncWithParent"];try{if(this._dataList){this.conditionInfo.targetInfo={};this.conditionInfo.keyArray=[];this.conditionInfo.columnArray=[];this.initialRowIndexArr=[];this.initialFilterList=[];this.filteredRowIndexArr=this._dataList.filteredRowIndexArr.slice(0);this.initialRowIndexArr=this._dataList.filteredRowIndexArr.slice(0);this.filterManager.clear();this.filterManager.runFilter(this.conditionInfo.filterInfo.condition);this.filterManager.runSort(this.conditionInfo.sortInfo.condition);this.initialRowIndexArr=this.filteredRowIndexArr.slice(0);this.initialFilterList=this.filterManager.filterArr.slice(0);if(this.conditionInfo.sortInfo.condition==""&&this.sortStatusInfo){for(var i in this.sortStatusInfo){var _e=this.sortStatusInfo[i].colID;var _f=this.sortStatusInfo[i].sortOrder;if(_f==1){this.sort(_e,0);}else{if(_f==-1){this.sort(_e,1);}}}}this.broadcast({"generalComp":["refreshItemArr"],"checkcombobox":["refreshItemset",["keepIndex2"]]});}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.linkedDataListApiController.prototype.addChild=function(_10){["WebSquare.DataCollection.linkedDataListApiController.prototype.addChild"];try{this.childCompHash[_10.id]=_10;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.linkedDataListApiController.prototype.removeChild=function(_11){["WebSquare.DataCollection.linkedDataListApiController.prototype.removeChild"];try{if(this.childCompHash){delete this.childCompHash[_11];}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.linkedDataListApiController.prototype.addRefComp=function(_12){["WebSquare.DataCollection.linkedDataListApiController.prototype.addRefComp"];try{this.refCompHash[_12.id]=_12;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.linkedDataListApiController.prototype.removeRefComp=function(_13){["WebSquare.DataCollection.linkedDataListApiController.prototype.removeRefComp"];try{delete this.refCompHash[_13];}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.linkedDataListApiController.prototype.refresh=function(_14){["WebSquare.DataCollection.linkedDataListApiController.prototype.refresh"];try{if(this.successBinding){this.syncWithParent();this.broadcast({"gridView":["refresh"],"generalComp":"both","mode":_14});}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.linkedDataListApiController.prototype.refreshRef=function(_15){["WebSquare.DataCollection.linkedDataListApiController.prototype.refreshRef"];try{if(this.successBinding&&this.conditionInfo.filterInfo.useRef){this.syncWithParent();this.broadcast({"gridView":["refresh"],"generalComp":"both","mode":_15});}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.linkedDataListApiController.prototype.getConfiguredOptions=function(){["WebSquare.DataCollection.linkedDataListApiController.prototype.getConfiguredOptions"];try{var _16=this.defaultOptions.pluginName;var _17,values;var ret={};this.configuredOptions={};if(!this.configuredOptions[_16]){var _19=$W.extendKeepingType({id:"",pluginType:"xfControl",pluginName:"",userEvents:[],xmlEvents:null,value:"",model:"",bind:"",style:"",useConfig:false},this.defaultOptions);if(_19.useConfig||$W._G.getBoolean($W._N.getConfiguration("/WebSquare/"+_16+"/useConfig/@value"))){var _1a=$W.configManager.getConfig(_16);_19=$W.extendKeepingType(_19,_1a);}_17=[];values=[];for(var key in _19){_17.push(key);values.push(_19[key]);}this.configuredOptions[_16]={keys:_17,values:values};}else{_17=this.configuredOptions[_16].keys;values=this.configuredOptions[_16].values;}for(var i=0;i<_17.length;i++){ret[_17[i]]=values[i];}return ret;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.linkedDataListApiController.prototype.getOption=function(_1d){["WebSquare.DataCollection.linkedDataListApiController.prototype.getOption"];try{var _1e=_1d in this.options;var _1f=this.options.attributeMap;if(_1e){return this.options[_1d];}else{if(_1f){var _20=$W._G.getComponentById(_1f);if(_20&&_20.hasKey(_1d)){return _20.get(_1d);}}}return;}catch(e){$W.exception.printStackTrace(e);}};$W._j.linkedDataListApiController.prototype.getID=function(){["WebSquare.DataCollection.linkedDataListApiController.prototype.getID"];try{return this.id;}catch(e){$W.exception.printStackTrace(e);}};$W._j.linkedDataListApiController.prototype.setOption=function(key,_22){["WebSquare.DataCollection.linkedDataListApiController.prototype.setOption"];try{if(typeof _22=="string"&&_22.wq_trim()=="$none"){_22="";}if(key in this.options){this.options[key]=_22;}var _23=this.options.attributeMap;if(_23){var _24=$W._G.getComponentById(_23);if(_24&&_24.hasKey(key)){_24.set(key,_22);}}}catch(e){$W.exception.printStackTrace(e);}};$W._j.linkedDataListApiController.prototype.getRealRowIndex=function(_25){["WebSquare.DataCollection.linkedDataListApiController.prototype.getRealRowIndex"];return this.filteredRowIndexArr[_25];};$W._j.linkedDataListApiController.prototype.getLinkedRowIndex=function(_26){["WebSquare.DataCollection.linkedDataListApiController.prototype.getLinkedRowIndex"];return this.getRealRowIndex(_26);};$W._j.linkedDataListApiController.prototype.getParentRealRowIndex=function(_27){["WebSquare.DataCollection.linkedDataListApiController.prototype.getParentRealRowIndex"];return this.initialRowIndexArr[_27];};$W._j.linkedDataListApiController.prototype.getLinkedRealRowIndex=function(_28){["WebSquare.DataCollection.linkedDataListApiController.prototype.getLinkedRowIndex"];var _29=this.filteredRowIndexArr[_28];if(typeof _29=="number"){for(var i=0;i<this.initialRowIndexArr.length;i++){if(this.initialRowIndexArr[i]===_29){return i;}}}return null;};$W._j.linkedDataListApiController.prototype.getFilteredRowIndex=function(_2b){["WebSquare.DataCollection.linkedDataListApiController.prototype.getFilteredRowIndex"];if(this.filteredRowIndexArr[this.filteredRowIndexMap[_2b]]!==_2b){this.filteredRowIndexMap={};for(var i=0;i<this.filteredRowIndexArr.length;i++){this.filteredRowIndexMap[this.filteredRowIndexArr[i]]=i;}}return this.filteredRowIndexMap[_2b];};$W._j.linkedDataListApiController.prototype.getTotalRow=function(){["WebSquare.DataCollection.linkedDataListApiController.prototype.getTotalRow"];try{var _2d=this.initialRowIndexArr.length;return _2d;}catch(e){$W.exception.printStackTrace(e);}};$W._j.linkedDataListApiController.prototype.getTotalCol=function(){["WebSquare.DataCollection.linkedDataListApiController.prototype.getTotalCol"];try{return this._dataList.getTotalCol();}catch(e){$W.exception.printStackTrace(e);}};$W._j.linkedDataListApiController.prototype.getRowCount=function(){["WebSquare.DataCollection.linkedDataListApiController.prototype.getRowCount"];try{return this.getDataLength();}catch(e){$W.exception.printStackTrace(e);}};$W._j.linkedDataListApiController.prototype.getCellData=function(_2e,_2f){["WebSquare.DataCollection.linkedDataListApiController.prototype.getCellData"];try{var _30=this.getRealRowIndex(_2e);return this._dataList.getCellData(_30,_2f);}catch(e){$W.exception.printStackTrace(e);}};$W._j.linkedDataListApiController.prototype.getOriginalCellData=function(_31,_32){["WebSquare.DataCollection.linkedDataListApiController.prototype.getOriginalCellData"];try{var _33=this.getRealRowIndex(_31);return this._dataList.getOriginalCellData(_33,_32);}catch(e){$W.exception.printStackTrace(e);}};$W._j.linkedDataListApiController.prototype.getDataLength=function(){["WebSquare.DataCollection.linkedDataListApiController.prototype.getDataLength"];return this.filteredRowIndexArr.length;};$W._j.linkedDataListApiController.prototype.getColCnt=function(){["WebSquare.DataCollection.linkedDataListApiController.prototype.getColCnt"];try{return this._dataList.getColCnt();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.linkedDataListApiController.prototype.getRowPosition=function(){["WebSquare.DataCollection.linkedDataListApiController.prototype.getRowPosition"];try{return this.getFilteredRowIndex(this._dataList.getRowPosition());}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.linkedDataListApiController.prototype.setRowPosition=function(idx){["WebSquare.DataCollection.linkedDataListApiController.prototype.getRowPosition"];try{return this._dataList.setRowPosition(this.getRealRowIndex(idx));}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.linkedDataListApiController.prototype.getColSum=function(_35){["WebSquare.DataCollection.linkedDataListApiController.prototype.getColSum"];try{var _36="";var _37=this.getColData(_35);if(_37.length>0){for(var i=0;i<_37.length;i++){if(_37[i].replace(/^\s+|\s+$/g,"")==""){_37[i]="0";}}_36=eval(_37.join("+"));}return $W._G.setPrecision(_36);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.linkedDataListApiController.prototype.getColAvg=function(_39){["WebSquare.DataCollection.linkedDataListApiController.prototype.getColAvg"];try{var _3a="";var _3b=this.getColData(_39);if(_3b.length>0){for(var i=0;i<_3b.length;i++){if(_3b[i].replace(/^\s+|\s+$/g,"")==""){_3b[i]="0";}}_3a=eval(_3b.join("+"));}if(_3a==""){return "";}else{return _3a/_3b.length;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.linkedDataListApiController.prototype.getColMax=function(_3d){["WebSquare.DataCollection.linkedDataListApiController.prototype.getColMax"];try{var max=null;var _3f=this.getColData(_3d);for(var i=0;i<_3f.length;i++){var _41=parseFloat(_3f[i]);if(!isNaN(_41)){if(max==null||max<_41){max=_41;}}}max=(max==null)?"":max;max=$W._G.setPrecision(max);return max;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.linkedDataListApiController.prototype.getColMin=function(_42){["WebSquare.DataCollection.linkedDataListApiController.prototype.getColMin"];try{var min=null;var _44=this.getColData(_42);for(var i=0;i<_44.length;i++){var _46=parseFloat(_44[i]);if(!isNaN(_46)){if(min==null||min>_46){min=_46;}}}min=(min==null)?"":min;min=$W._G.setPrecision(min);return min;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.linkedDataListApiController.prototype.getColData=function(_47){["WebSquare.DataCollection.linkedDataListApiController.prototype.getColData"];try{var _48=[];for(var row=0;row<this.filteredRowIndexArr.length;row++){_48.push(this.getCellData(row,_47));}return _48;}catch(e){$W.exception.printStackTrace(e);}};$W._j.linkedDataListApiController.prototype.getRowData=function(_4a){["WebSquare.DataCollection.linkedDataListApiController.prototype.getRowData"];try{var _4b=this.getRealRowIndex(_4a);return this._dataList.getRowData(_4b);}catch(e){$W.exception.printStackTrace(e);}};$W._j.linkedDataListApiController.prototype.getDataRow=function(_4c){["WebSquare.DataCollection.linkedDataListApiController.prototype.getDataRow"];try{var _4d=this.getRealRowIndex(_4c);return this._dataList.getDataRow(_4d);}catch(e){$W.exception.printStackTrace(e);}};$W._j.linkedDataListApiController.prototype.getMatchedData=function(_4e,_4f,_50,_51,_52){["WebSquare.DataCollection.linkedDataListApiController.prototype.getMatchedData"];try{this.broadcast({"gridView":["_endEdit"]});var _53=[];var _54=this.getMatchedIndex(_4e,_4f,_50,_51,_52);for(var i=0;i<_54.length;i++){var _56=this.getFilteredRowIndex(_54[i]);_53.push(this.getRowData(_56));}return _53;}catch(e){$W.exception.printStackTrace(e);}};$W._j.linkedDataListApiController.prototype.getUnmatchedData=function(_57,_58,_59,_5a,_5b){["WebSquare.DataCollection.linkedDataListApiController.prototype.getUnmatchedData"];try{this.broadcast({"gridView":["_endEdit"]});var _5c=[];var _5d=this.getUnmatchedIndex(_57,_58,_59,_5a,_5b);for(var i=0;i<_5d.length;i++){var _5f=this.getFilteredRowIndex(_5d[i]);_5c.push(this.getRowData(_5f));}return _5c;}catch(e){$W.exception.printStackTrace(e);}};$W._j.linkedDataListApiController.prototype.getMatchedColumnData=function(_60,_61,_62,_63,_64,_65){["WebSquare.DataCollection.linkedDataListApiController.prototype.getMatchedColumnData"];try{this.broadcast({"gridView":["_endEdit"]});var _66=[];var _67=this.getMatchedIndex(_60,_61,_63,_64,_65);for(var i=0;i<_67.length;i++){var _69=this.getFilteredRowIndex(_67[i]);_66.push(this.getCellData(_69,_62));}return _66;}catch(e){$W.exception.printStackTrace(e);}};$W._j.linkedDataListApiController.prototype.getUnmatchedColumnData=function(_6a,_6b,_6c,_6d,_6e,_6f){["WebSquare.DataCollection.linkedDataListApiController.prototype.getUnmatchedColumnData"];try{this.broadcast({"gridView":["_endEdit"]});var _70=[];var _71=this.getUnmatchedIndex(_6a,_6b,_6d,_6e,_6f);for(var i=0;i<_71.length;i++){var _73=this.getFilteredRowIndex(_71[i]);_70.push(this.getCellData(_73,_6c));}return _70;}catch(e){$W.exception.printStackTrace(e);}};$W._j.linkedDataListApiController.prototype.getFilteredColData=function(_74){["WebSquare.DataCollection.linkedDataListApiController.prototype.getFilteredColData"];var _75=[];for(var row=0;row<this.getDataLength();row++){_75.push(this.getCellData(row,_74));}return _75;};$W._j.linkedDataListApiController.prototype.getMatchedIndex=function(_77,_78,_79,_7a,_7b){["WebSquare.DataCollection.linkedDataListApiController.prototype.getMatchedIndex"];try{_79=(typeof _79=="undefined"||_79==null)?true:_79;_79=$W._G.getBoolean(_79);if(_79!=false){_79=true;}colIndex=this._dataList.getColumnIndex(_77);var _7c=this.getFilteredColData(colIndex);var _7d=[];if(typeof _7a!="number"){_7a=0;}if(typeof _7b!="number"){_7b=_7c.length;}if(_7b>_7c.length){_7b=_7c.length;}for(var i=_7a;i<_7b;i++){var _7f=_7c[i];var _80=this.getRealRowIndex(i);if(_79==true){if(_7f===_78){_7d.push(_80);}}else{if(_7f.indexOf(_78)>-1){_7d.push(_80);}}}return _7d;}catch(e){$W.exception.printStackTrace(e);}};$W._j.linkedDataListApiController.prototype.getUnmatchedIndex=function(_81,_82,_83,_84,_85){["WebSquare.DataCollection.linkedDataListApiController.prototype.getUnmatchedIndex"];try{if(_83!=false){_83=true;}colIndex=this._dataList.getColumnIndex(_81);var _86=this.getFilteredColData(colIndex);var _87=[];if(typeof _84!="number"){_84=0;}if(typeof _85!="number"){_85=_86.length;}if(_85>_86.length){_85=_86.length;}for(var i=_84;i<_85;i++){var _89=_86[i];var _8a=this.getRealRowIndex(i);if(_83==true){if(_89!==_82){_87.push(_8a);}}else{if(_89.indexOf(_82)<=-1){_87.push(_8a);}}}return _87;}catch(e){$W.exception.printStackTrace(e);}};$W._j.linkedDataListApiController.prototype.getRangeData=function(_8b,to){["WebSquare.DataCollection.linkedDataListApiController.prototype.getRangeData"];try{var _8d=[];if(_8b>to){var tmp=to;to=_8b;_8b=tmp;}if(_8b<0){_8b=0;}if(to>this.getDataLength()-1){to=this.getDataLength()-1;}for(var i=_8b;i<=to;i++){var _90=this.getRealRowIndex(i);_8d=_8d.concat(this.getRowData(_90));}return _8d;}catch(e){$W.exception.printStackTrace(e);}};$W._j.linkedDataListApiController.prototype.getAllData=function(_91){["WebSquare.DataCollection.linkedDataListApiController.prototype.getAllData"];try{this.broadcast({"gridView":["_endEdit"]});if(!_91){_91={};}_91["rowStatusNodeName"]=this.options.rowStatusNodeName;var _92=[];for(var i=0;i<this.initialRowIndexArr.length;i++){_92=_92.concat(this._dataList.getRowData(this.initialRowIndexArr[i],_91));}return _92;}catch(e){$W.exception.printStackTrace(e);}};$W._j.linkedDataListApiController.prototype.getAllFilteredData=function(_94){["WebSquare.DataCollection.linkedDataListApiController.prototype.getAllFilteredData"];this.broadcast({"gridView":["_endEdit"]});if(!_94){_94={};}_94["rowStatusNodeName"]=this.options.rowStatusNodeName;var _95=[];for(var i=0;i<this.filteredRowIndexArr.length;i++){_95=_95.concat(this._dataList.getRowData(this.filteredRowIndexArr[i],_94));}return _95;};$W._j.linkedDataListApiController.prototype.getColumnDistinctDataArray=function(_97){["WebSquare.DataCollection.linkedDataListApiController.prototype.getColumnDistinctDataArray"];try{this.broadcast({"gridView":["_endEdit"]});var _98=[];var _99=[];if(typeof _97=="string"){_97=this._dataList.bodyIdColIndexMap[_97];}var _9a=this._dataList.getCellInfo(_97);var _9b=this.getColData(_97);for(var i=0;i<_9b.length;i++){var _9d=_9b[i];_99[_9d]=1;}for(var _9e in _99){_98.push(_9e);}if(_9a.options.dataType=="text"){_98=_98.sort();}else{_98=_98.sort(this.comparator);}return _98;}catch(e){$W.exception.printStackTrace(e);}};$W._j.linkedDataListApiController.prototype.getRangeXML=function(_9f,to){["WebSquare.DataCollection.linkedDataListApiController.prototype.getRangeXML"];try{var _a1=[];if(_9f>to){var tmp=to;to=_9f;_9f=tmp;}if(_9f<0){_9f=0;}if(to>this.getDataLength()-1){to=this.getDataLength()-1;}var _a3=[];for(var i=_9f;i<=to;i++){var _a5=this.getRealRowIndex(i);_a3.push(_a5);}return this._dataList.getArrXML(_a3);}catch(e){$W.exception.printStackTrace(e);}};$W._j.linkedDataListApiController.prototype.getMatchedXML=function(_a6,_a7,_a8,_a9,_aa){["WebSquare.DataCollection.linkedDataListApiController.prototype.getMatchedXML"];try{this.broadcast({"gridView":["_endEdit"]});var _ab=this.getMatchedIndex(_a6,_a7,_a8,_a9,_aa);return this._dataList.getArrXML(_ab);}catch(e){$W.exception.printStackTrace(e);}};$W._j.linkedDataListApiController.prototype.getUnmatchedXML=function(_ac,_ad,_ae,_af,_b0){["WebSquare.DataCollection.linkedDataListApiController.prototype.getUnmatchedXML"];try{this.broadcast({"gridView":["_endEdit"]});var _b1=this.getUnmatchedIndex(_ac,_ad,_ae,_af,_b0);return this._dataList.getArrXML(_b1);}catch(e){$W.exception.printStackTrace(e);}};$W._j.linkedDataListApiController.prototype.getRowXML=function(_b2){["WebSquare.DataCollection.linkedDataListApiController.prototype.getRowXML"];try{var _b3=this.getRealRowIndex(_b2);return this._dataList.getRowXML(_b3,{"rowStatusNodeName":this.options.rowStatusNodeName});}catch(e){$W.exception.printStackTrace(e);}};$W._j.linkedDataListApiController.prototype.getAllXML=function(_b4){["WebSquare.DataCollection.linkedDataListApiController.prototype.getAllXML"];try{this.broadcast({"gridView":["_endEdit"]});var _b5={"id":this.id,"initializeType":this.initializeType,"baseNode":this.options.baseNode,"repeatNode":this.options.repeatNode,"idAttribute":this.options.idAttribute,"valueAttribute":this.options.valueAttribute,"rowStatusNodeName":this.options.rowStatusNodeName};if(_b4){_b5={"id":_b4.id||this.id,"initializeType":this.initializeType,"baseNode":_b4.baseNode||this.options.baseNode,"repeatNode":_b4.repeatNode==""||_b4.repeatNode?_b4.repeatNode:this.options.repeatNode,"idAttribute":_b4.idAttribute==""||_b4.idAttribute?_b4.idAttribute:this.options.idAttribute,"valueAttribute":_b4.valueAttribute==""||_b4.valueAttribute?_b4.valueAttribute:this.options.valueAttribute,"rowStatusNodeName":_b4.rowStatusNodeName==""||_b4.rowStatusNodeName?_b4.rowStatusNodeName:this.options.rowStatusNodeName};}var _b6=this._dataList.getArrXML(this.initialRowIndexArr,_b5);return _b6;}catch(e){$W.exception.printStackTrace(e);}};$W._j.linkedDataListApiController.prototype.getAllFilteredXML=function(_b7){["WebSquare.DataCollection.linkedDataListApiController.prototype.getAllFilteredXML"];this.broadcast({"gridView":["_endEdit"]});_b7=_b7||{};var _b8={"id":_b7.id||this.id,"initializeType":this.initializeType,"baseNode":_b7.baseNode||this.options.baseNode,"repeatNode":_b7.repeatNode==""||_b7.repeatNode?_b7.repeatNode:this.options.repeatNode,"idAttribute":_b7.idAttribute==""||_b7.idAttribute?_b7.idAttribute:this.options.idAttribute,"valueAttribute":_b7.valueAttribute==""||_b7.valueAttribute?_b7.valueAttribute:this.options.valueAttribute,"rowStatusNodeName":_b7.rowStatusNodeName==""||_b7.rowStatusNodeName?_b7.rowStatusNodeName:this.options.rowStatusNodeName};var _b9=this._dataList.getArrXML(this.filteredRowIndexArr,_b8);return _b9;};$W._j.linkedDataListApiController.prototype.getRowJSON=function(_ba){["WebSquare.DataCollection.linkedDataListApiController.prototype.getRowJSON"];try{var _bb=this.getRealRowIndex(_ba);return this._dataList.getRowJSON(_bb,{"rowStatusNodeName":this.options.rowStatusNodeName});}catch(e){$W.exception.printStackTrace(e);}};$W._j.linkedDataListApiController.prototype.getAllJSON=function(_bc){["WebSquare.DataCollection.linkedDataListApiController.prototype.getAllJSON"];try{this.broadcast({"gridView":["_endEdit"]});if(!_bc){_bc={};}_bc["rowStatusNodeName"]=this.options.rowStatusNodeName;var _bd=[];for(var i=0;i<this.initialRowIndexArr.length;i++){_bd.push(this._dataList.getRowJSON(this.initialRowIndexArr[i],_bc));}return _bd;}catch(e){$W.exception.printStackTrace(e);}};$W._j.linkedDataListApiController.prototype.getAllFilteredJSON=function(_bf){["WebSquare.DataCollection.linkedDataListApiController.prototype.getAllFilteredJSON"];try{this.broadcast({"gridView":["_endEdit"]});if(!_bf){_bf={};}_bf["rowStatusNodeName"]=this.options.rowStatusNodeName;var _c0=[];for(var i=0;i<this.filteredRowIndexArr.length;i++){_c0=_c0.concat(this._dataList.getRowJSON(this.filteredRowIndexArr[i],_bf));}return _c0;}catch(e){$W.exception.printStackTrace(e);}};$W._j.linkedDataListApiController.prototype.getRangeJSON=function(_c2,to){["WebSquare.DataCollection.linkedDataListApiController.prototype.getAllJSON"];try{var _c4=[];if(_c2>to){var tmp=to;to=_c2;_c2=tmp;}if(_c2<0){_c2=0;}if(to>this.getDataLength()-1){to=this.getDataLength()-1;}for(var i=_c2;i<=to;i++){_c4.push(this.getRowJSON(i));}return _c4;}catch(e){$W.exception.printStackTrace(e);}};$W._j.linkedDataListApiController.prototype.getMatchedJSON=function(_c7,_c8,_c9,_ca,_cb){["WebSquare.DataCollection.linkedDataListApiController.prototype.getMatchedJSON"];try{this.broadcast({"gridView":["_endEdit"]});var _cc=[];var _cd=this.getMatchedIndex(_c7,_c8,_c9,_ca,_cb);for(var i=0;i<_cd.length;i++){var _cf=this.getFilteredRowIndex(_cd[i]);_cc.push(this.getRowJSON(_cf));}return _cc;}catch(e){$W.exception.printStackTrace(e);}};$W._j.linkedDataListApiController.prototype.getUnmatchedJSON=function(_d0,_d1,_d2,_d3,_d4){["WebSquare.DataCollection.linkedDataListApiController.prototype.getUnmatchedJSON"];try{this.broadcast({"gridView":["_endEdit"]});var _d5=[];var _d6=this.getUnmatchedIndex(_d0,_d1,_d2,_d3,_d4);for(var i=0;i<_d6.length;i++){var _d8=this.getFilteredRowIndex(_d6[i]);_d5.push(this.getRowJSON(_d8));}return _d5;}catch(e){$W.exception.printStackTrace(e);}};$W._j.linkedDataListApiController.prototype.getFusionChartData=function(_d9,_da,_db){["WebSquare.DataCollection.linkedDataListApiController.prototype.getFusionChartData"];try{var _dc={};var _da=_da;var _dd=_db.wq_replaceAll("'","\"");_dd=JSON.parse(_dd);var _db=_dd[0];this._singleSerises=function(){var obj=[];var _df=this.getAllJSON();for(var i=0;i<_df.length;i++){var _e1={"label":_df[i][_da],"value":_df[i][_db]};obj.push(_e1);}_dc.data=obj;return _dc;};this._multiSerises=function(){_dc=this._getFusionChartCategory();_dc.dataset=[];for(var i=0;i<_db.length;i++){var _e3=this._getFusionChartSeriesDate(i);_dc["dataset"].push(_e3);}return _dc;};this._msStacked=function(){_dc=this._getFusionChartCategory();_dc.dataset=[];for(var i=0;i<_dd.length;i++){_db=_dd[i];var obj={};obj.dataset=[];for(var j=0;j<_db.length;j++){var _e7=this._getFusionChartSeriesDate(j);obj["dataset"].push(_e7);}_dc["dataset"].push(obj);}return _dc;};this._msStackedColumn2DLineDY=function(){_dc=this._getFusionChartCategory();_dc.dataset=[];for(var i=0;i<_dd.length-1;i++){_db=_dd[i];var obj={};obj.dataset=[];for(var j=0;j<_db.length;j++){var _eb=this._getFusionChartSeriesDate(j);obj["dataset"].push(_eb);}_dc["dataset"].push(obj);}_dc.lineset=[];var _ec=_dd.length-1;_db=_dd[_ec];for(var i=0;i<_db.length;i++){var _eb=this._getFusionChartSeriesDate(i);_dc["lineset"].push(_eb);}return _dc;};this._scatter=function(){_dc.dataset=[];var _ed=this.getColData(_da).unique();for(var i=0;i<_ed.length;i++){var _ef={};_ef.data=[];for(var j=0;j<this.getRowCount();j++){if(_ed[i]==this.getCellData(j,_da)){var _f1={};if(_d9.toLowerCase()=="scatter"){_f1={"x":this.getCellData(j,_db[0]),"y":this.getCellData(j,_db[1])};}else{if(_d9.toLowerCase()=="bubble"){_f1={"x":this.getCellData(j,_db[0]),"y":this.getCellData(j,_db[1]),"z":this.getCellData(j,_db[2])};}}_ef["data"].push(_f1);}}_ef["seriesname"]=this.getColumnName(_ed[i]);_dc["dataset"].push(_ef);}return _dc;};this._zoomLine=function(){if(this.getRowCount()==1){_dc={"categories":[{"category":this.getCellData(0,_da)}]};_dc.dataset=[];for(var i=0;i<_db.length;i++){var obj={};obj["seriesname"]=this.getColumnName(_db[i]);obj["data"]=this.getCellData(0,_db[i]);_dc["dataset"].push(obj);}return _dc;}else{return this._multiSerises();}};this._getFusionChartCategory=function(){var obj=[];var _f5=this.getColData(_da);for(var i=0;i<_f5.length;i++){var _f7={"label":_f5[i]};obj.push(_f7);}return {"categories":[{"category":obj}]};};this._getFusionChartSeriesDate=function(_f8){var obj={};obj.data=[];var _fa;var _fb=[];if(typeof _db[_f8]!="string"){_fa=_db[_f8].id;obj["seriesname"]=this.getColumnName(_fa);for(var _fc in _db[_f8]){if(_db[_f8].hasOwnProperty(_fc)){if(this.hasColumn(_db[_f8][_fc])&&_fc.toLowerCase()!="id"){var _fd={};_fd[_fc]=_db[_f8][_fc];_fb.push(_fd);}else{obj[_fc]=_db[_f8][_fc];}}}}else{_fa=_db[_f8];obj["seriesname"]=this.getColumnName(_fa);}for(var j=0;j<this.getRowCount();j++){var _ff={"value":this.getCellData(j,_fa)};for(var i=0;i<_fb.length;i++){for(var obj4 in _fb[i]){_ff[obj4]=this.getCellData(j,_fb[i][obj4]);}}obj["data"].push(_ff);}return obj;};Array.prototype.unique=function(){var a={};for(var i=0;i<this.length;i++){if(typeof a[this[i]]=="undefined"){a[this[i]]=1;}}this.length=0;for(var i in a){this[this.length]=i;}return this;};switch(_d9.toLowerCase()){case "column2d":return this._singleSerises();break;case "column3d":return this._singleSerises();break;case "bar2d":return this._singleSerises();break;case "bar3d":return this._singleSerises();break;case "pie2d":return this._singleSerises();break;case "pie3d":return this._singleSerises();break;case "doughnut2d":return this._singleSerises();break;case "doughnut3d":return this._singleSerises();break;case "pareto2d":return this._singleSerises();break;case "pareto3d":return this._singleSerises();break;case "line2d":return this._singleSerises();break;case "area":return this._singleSerises();break;case "ssgrid":return this._singleSerises();break;case "mscolumn2d":return this._multiSerises();break;case "mscolumn3d":return this._multiSerises();break;case "msline":return this._multiSerises();break;case "msarea":return this._multiSerises();break;case "msbar2d":return this._multiSerises();break;case "msbar3d":return this._multiSerises();break;case "marimekko":return this._multiSerises();break;case "stackedcolumn2d":return this._multiSerises();break;case "stackedcolumn3d":return this._multiSerises();break;case "stackedarea2d":return this._multiSerises();break;case "stackedbar2d":return this._multiSerises();break;case "stackedbar3d":return this._multiSerises();break;case "mscombi3d":return this._multiSerises();break;case "mscombi2d":return this._multiSerises();break;case "mscolumnline3d":return this._multiSerises();break;case "stackedcolumn2dline":return this._multiSerises();break;case "stackedcolumn3dline":return this._multiSerises();break;case "mscombidy2d":return this._multiSerises();break;case "mscolumn3dlinedy":return this._multiSerises();break;case "stackedcolumn3dlinedy":return this._multiSerises();break;case "scrollcolumn2d":return this._multiSerises();break;case "scrollline2d":return this._multiSerises();break;case "scrollArea2d":return this._multiSerises();break;case "scrollstackedcolumn2d":return this._multiSerises();break;case "scrollcombi2d":return this._multiSerises();break;case "scrollcombidy2d":return this._multiSerises();break;case "stackedcolumn3dlinedy":return this._multiSerises();break;case "scatter":return this._scatter();break;case "bubble":return this._scatter();break;case "zoomline":return this._zoomLine();break;case "msstackedcolumn2d":return this._msStacked();break;case "msstackedcolumn2dlinedy":return this._msStackedColumn2DLineDY();break;}}catch(e){$W.exception.printStackTrace(e);}};$W._j.linkedDataListApiController.prototype.getRowArray=function(_104){["WebSquare.DataCollection.linkedDataListApiController.prototype.getRowArray"];try{var _105=this.getRealRowIndex(_104);return this._dataList.getRowArray(_105);}catch(e){$W.exception.printStackTrace(e);}};$W._j.linkedDataListApiController.prototype.getRowStatusValue=function(_106){["WebSquare.DataCollection.linkedDataListApiController.prototype.getRowStatusValue"];try{var _107=this.getRealRowIndex(_106);return this._dataList._getRowStatusValue(_107);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.linkedDataListApiController.prototype.getRowStatus=function(_108){["WebSquare.DataCollection.linkedDataListApiController.prototype.getRowStatus"];try{var _109=this.getRealRowIndex(_108);return this._dataList._getRowStatus(_109);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.linkedDataListApiController.prototype.getRowIndexByStatus=function(_10a){["WebSquare.DataCollection.linkedDataListApiController.prototype.getRowIndexByStatus"];try{var _10b=[];for(var i=0;i<this.getDataLength();i++){var _10d=this.getRealRowIndex(i);if(_10a.indexOf(this._dataList.getRowStatus(_10d))>-1){_10b.push(_10d);}}return _10b;}catch(e){$W.exception.printStackTrace(e);}};$W._j.linkedDataListApiController.prototype.getInsertedIndex=function(){["WebSquare.DataCollection.linkedDataListApiController.prototype.getInsertedIndex"];try{return this.getRowIndexByStatus("C");}catch(e){$W.exception.printStackTrace(e);}};$W._j.linkedDataListApiController.prototype.getUpdatedIndex=function(){["WebSquare.DataCollection.linkedDataListApiController.prototype.getUpdatedIndex"];try{return this.getRowIndexByStatus("U");}catch(e){$W.exception.printStackTrace(e);}};$W._j.linkedDataListApiController.prototype.getDeletedIndex=function(){["WebSquare.DataCollection.linkedDataListApiController.prototype.getDeletedIndex"];try{return this.getRowIndexByStatus("DV");}catch(e){$W.exception.printStackTrace(e);}};$W._j.linkedDataListApiController.prototype.getModifiedIndex=function(){["WebSquare.DataCollection.linkedDataListApiController.prototype.getModifiedIndex"];try{return this.getRowIndexByStatus("CUD");}catch(e){$W.exception.printStackTrace(e);}};$W._j.linkedDataListApiController.prototype.getInsertedData=function(){["WebSquare.DataCollection.linkedDataListApiController.prototype.getDeletedData"];try{this.broadcast({"gridView":["_endEdit"]});var _10e=[];var _10f=this.getInsertedIndex();for(var i=0;i<_10f.length;i++){_10e.push(this.getRowData(_10f[i]));}return _10e;}catch(e){$W.exception.printStackTrace(e);}};$W._j.linkedDataListApiController.prototype.getInsertedXML=function(){["WebSquare.DataCollection.linkedDataListApiController.prototype.getDeletedXML"];try{this.broadcast({"gridView":["_endEdit"]});var _111=this.getInsertedIndex();var _112=this._dataList.getArrXML(_111);return _112;}catch(e){$W.exception.printStackTrace(e);}};$W._j.linkedDataListApiController.prototype.getInsertedJSON=function(){["WebSquare.DataCollection.linkedDataListApiController.prototype.getInsertedJSON"];try{this.broadcast({"gridView":["_endEdit"]});var _113=[];var _114=this.getInsertedIndex();for(var i=0;i<_114.length;i++){_113.push(this.getRowJSON(_114[i]));}return _113;}catch(e){$W.exception.printStackTrace(e);}};$W._j.linkedDataListApiController.prototype.getDeletedData=function(){["WebSquare.DataCollection.linkedDataListApiController.prototype.getDeletedData"];try{this.broadcast({"gridView":["_endEdit"]});var _116=[];var _117=this.getDeletedIndex();for(var i=0;i<_117.length;i++){_116.push(this.getRowData(_117[i]));}return _116;}catch(e){$W.exception.printStackTrace(e);}};$W._j.linkedDataListApiController.prototype.getDeletedXML=function(){["WebSquare.DataCollection.linkedDataListApiController.prototype.getDeletedXML"];try{this.broadcast({"gridView":["_endEdit"]});var _119=this.getDeletedIndex();var _11a=this._dataList.getArrXML(_119);return _11a;}catch(e){$W.exception.printStackTrace(e);}};$W._j.linkedDataListApiController.prototype.getDeletedJSON=function(){["WebSquare.DataCollection.linkedDataListApiController.prototype.getDeletedJSON"];try{this.broadcast({"gridView":["_endEdit"]});var _11b=[];var _11c=this.getDeletedIndex();for(var i=0;i<_11c.length;i++){_11b.push(this.getRowJSON(_11c[i]));}return _11b;}catch(e){$W.exception.printStackTrace(e);}};$W._j.linkedDataListApiController.prototype.getUpdatedData=function(){["WebSquare.DataCollection.linkedDataListApiController.prototype.getUpdatedData"];try{this.broadcast({"gridView":["_endEdit"]});var _11e=[];var _11f=this.getUpdatedIndex();for(var i=0;i<_11f.length;i++){_11e.push(this.getRowData(_11f[i]));}return _11e;}catch(e){$W.exception.printStackTrace(e);}};$W._j.linkedDataListApiController.prototype.getUpdatedXML=function(){["WebSquare.DataCollection.linkedDataListApiController.prototype.getDeletedXML"];try{this.broadcast({"gridView":["_endEdit"]});var _121=this.getUpdatedIndex();var _122=this._dataList.getArrXML(_121);return _122;}catch(e){$W.exception.printStackTrace(e);}};$W._j.linkedDataListApiController.prototype.getUpdatedJSON=function(){["WebSquare.DataCollection.linkedDataListApiController.prototype.getUpdatedJSON"];try{this.broadcast({"gridView":["_endEdit"]});var _123=[];var _124=this.getUpdatedIndex();for(var i=0;i<_124.length;i++){_123.push(this.getRowJSON(_124[i]));}return _123;}catch(e){$W.exception.printStackTrace(e);}};$W._j.linkedDataListApiController.prototype.getModifiedData=function(){["WebSquare.DataCollection.linkedDataListApiController.prototype.getDeletedData"];try{this.broadcast({"gridView":["_endEdit"]});var _126=[];var _127=this.getModifiedIndex();for(var i=0;i<_127.length;i++){_126.push(this.getRowData(_127[i]));}return _126;}catch(e){$W.exception.printStackTrace(e);}};$W._j.linkedDataListApiController.prototype.getModifiedXML=function(){["WebSquare.DataCollection.linkedDataListApiController.prototype.getDeletedXML"];try{this.broadcast({"gridView":["_endEdit"]});var _129=this.getModifiedIndex();var _12a=this._dataList.getArrXML(_129);return _12a;}catch(e){$W.exception.printStackTrace(e);}};$W._j.linkedDataListApiController.prototype.getModifiedJSON=function(){["WebSquare.DataCollection.linkedDataListApiController.prototype.getModifiedJSON"];try{this.broadcast({"gridView":["_endEdit"]});var _12b=[];var _12c=this.getModifiedIndex();for(var i=0;i<_12c.length;i++){_12b.push(this.getRowJSON(_12c[i]));}return _12b;}catch(e){$W.exception.printStackTrace(e);}};$W._j.linkedDataListApiController.prototype.setCondition=function(type,_12f){["WebSquare.DataCollection.linkedDataListApiController.prototype.setCondition"];try{switch(type.toLowerCase()){case "filter":this.setFilterCondition(_12f);break;case "sort":this.setSortCondition(_12f);break;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.linkedDataListApiController.prototype.setFilterCondition=function(_130){["WebSquare.DataCollection.linkedDataListApiController.prototype.setFilterCondition"];try{if(typeof _130=="string"){this.conditionInfo.filterInfo.parse=false;this.conditionInfo.filterInfo.useRef=false;this.conditionInfo.filterInfo.condition=_130;this.syncWithParent();}this.broadcast({"generalComp":"both","mode":"replace"});}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.linkedDataListApiController.prototype.setSortCondition=function(_131){["WebSquare.DataCollection.linkedDataListApiController.prototype.setSortCondition"];try{if(typeof _131=="string"){this.conditionInfo.sortInfo.parse=false;this.conditionInfo.sortInfo.condition=_131;this.syncWithParent();}this.broadcast({"generalComp":"both","mode":"replace"});}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.linkedDataListApiController.prototype.getObjectType=function(){["WebSquare.DataCollection.linkedDataListApiController.prototype.getObjectType"];try{var _132=this.initializeType;if(_132=="linkedDataList"){return _132;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.linkedDataListApiController.prototype.setColumnFilter=function(_133,_134,_135,_136){["WebSquare.DataCollection.linkedDataListApiController.prototype.setColumnFilter"];try{var _137=this._dataList.getColumnIndex(_133);this.broadcast({"gridView":["notifyBeforeSettedColumnFilter"]});if(typeof arguments[0]==="object"&&!$W._G.isString(arguments[0])){if(arguments[0].type!=="row"&&arguments[0].type!=="func"&&arguments[0].type!=="regExp"){throw new Error("type does not support.[type:"+arguments[0].type+"]");}this.setFilter({type:arguments[0].type,colIndex:(arguments[0].colIndex).toLowerCase()=="rowstatus()"?"@rowStatus":arguments[0].colIndex,key:arguments[0].key,condition:arguments[0].condition,param:arguments[0].param});}else{this.setFilter({type:"row",colIndex:_137,key:_134,condition:_135,exactMatch:_136});}this.broadcast({"gridView":["notifyAfterSettedColumnFilter"],"generalComp":"both"});}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.linkedDataListApiController.prototype.removeColumnFilter=function(_138){["WebSquare.DataCollection.linkedDataListApiController.prototype.removeColumnFilter"];try{var _139=this.getColumnID(_138);this.broadcast({"gridView":["notifyBeforeRemovedColumnFilter"]});this.removeFilter({type:"row",colIndex:_138.toLowerCase()=="rowstatus()"?"@rowStatus":_139,key:""},false);this.removeFilter({type:"func",colIndex:_139,key:""},false);this.removeFilter({type:"regExp",colIndex:_139,key:""},true);this.broadcast({"gridView":["notifyAfterRemovedColumnFilter"],"generalComp":"both"});}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.linkedDataListApiController.prototype.clearSortFilter=function(){["WebSquare.DataCollection.linkedDataListApiController.prototype.clearSortFilter"];try{this.setSortCondition("");this.sortStatusInfo={};this.sortStatusArr=[];}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.linkedDataListApiController.prototype.removeColumnFilterAll=function(){["WebSquare.DataCollection.linkedDataListApiController.prototype.removeColumnFilter"];try{this.clearFilter();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.linkedDataListApiController.prototype.getAllNoFilteredData=function(){["WebSquare.DataCollection.linkedDataListApiController.prototype.getAllNoFilteredData"];try{return this._dataList.getAllData();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.linkedDataListApiController.prototype.setFilter=function(_13a){["WebSquare.DataCollection.linkedDataListApiController.prototype.setFilter"];try{this.broadcast({"gridView":["notifySaveFocusedCell"]});_13a=$W.extend({type:"",colIndex:-1,key:"",condition:"and",bodyIdColIndexMap:this.bodyIdColIndexMap},_13a||{});if(_13a.colIndex!="@rowStatus"){if(typeof _13a.colIndex=="string"){_13a.colIndex=this._dataList.bodyIdColIndexMap[_13a.colIndex];}var _13b=this._dataList.getCellInfo(_13a.colIndex);var _13c=_13b.options.dataType;_13a.columnDataType=_13c;}var _13d=false;if(_13a.sortIndex){this.sortStatusInfo={};this.sortStatusArr=[];var _13e=[];var _13f=[];var _140=[];if(typeof _13a.sortIndex=="string"){_13e=_13a.sortIndex.wq_trim().split(" ");}else{_13e=_13a.sortIndex;}if(_13a.sortOrder&&typeof _13a.sortOrder=="string"){_13f=_13a.sortOrder.wq_trim().split(" ");}else{if(typeof _13a.sortOrder=="object"){_13f=_13a.sortOrder;}}if(_13a.dataType){_140=_13a.dataType.wq_trim().split(" ");}_13a.sortIndexArr=[];_13a.sortOrderArr=[];_13a.dataTypeArr=[];_13a.sortIdArr=[];_13a.numberExtractionValueArr=[];for(var i=0;i<_13e.length;i++){if(isNaN(_13e[i])){_13a.sortIndexArr.push(this._dataList.bodyIdColIndexMap[_13e[i]]);}else{_13a.sortIndexArr.push(parseInt(_13e[i],10));}var _142=parseInt(_13f[i]);if(isNaN(_142)){_142=1;}_13a.sortOrderArr.push(_142);_13a.dataTypeArr.push(_140[i]||"text");_13a.sortIdArr.push(this._dataList.getColumnID(_13a.sortIndexArr[i]));var _143={};var _13b=this._dataList.getCellInfo(_13a.sortIdArr[i]);var _144=_13b.options.numberExtraction=="true"?true:false;_13a.numberExtractionValueArr.push(_144);var type=_13b.options.dataType=="number"?"number":"text";_143.colID=_13a.sortIdArr[i];_143.sortOrder=_13a.sortOrderArr[i];_143.dataType=type;if(_13a.dataType!=type){_13a.dataType=type;_13a.dataTypeArr[i]=type;}this.sortStatusInfo[_143.colID]=_143;this.sortStatusArr.push(_143);this.sortStatusArr[_143.colID]=_143;}_13d=true;}_13a.numberExtraction=this._dataList.options.numberExtraction;var _146=_13a.type+"^@"+_13a.colIndex+"^@"+_13a.key;this.filterManager.addFilter(_146,_13a);this.broadcast({"gridView":["notifySettedFilter",[{"isSort":_13d}]]});}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.linkedDataListApiController.prototype.removeFilter=function(_147,_148){["WebSquare.DataCollection.linkedDataListApiController.prototype.removeFilter"];try{_147=$W.extend({type:"",colIndex:-1,key:"",condition:"and"},_147||{});_148=(typeof _148=="undefined")?true:_148;if(_147.colIndex!="@rowStatus"){if(typeof _147.colIndex=="string"){_147.colIndex=this.getColumnIndex(_147.colIndex);}}var _149=_147.type+"^@"+_147.colIndex+"^@"+_147.key;this.filterManager.deleteFilter(_149,_147,_148);this.broadcast({"gridView":["notifyRemovedFilter"],"generalComp":"both"});}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.linkedDataListApiController.prototype.clearFilter=function(_14a){["WebSquare.DataCollection.linkedDataListApiController.prototype.clearFilter"];try{this.filterManager.filterArr=this.initialFilterList.slice(0);this.filteredRowIndexArr=this.initialRowIndexArr.slice(0);if(!_14a){this.broadcast({"gridView":["notifyClearFilter"],"generalComp":"both"});}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.linkedDataListApiController.prototype.sort=function(_14b,_14c){["WebSquare.DataCollection.linkedDataListApiController.prototype.sort"];try{switch(_14c){case 0:this.setFilter({type:"sort",sortIndex:_14b,sortOrder:"1",dataType:"text"});break;case 1:this.setFilter({type:"sort",sortIndex:_14b,sortOrder:"-1",dataType:"text"});break;case 2:this.clearSortFilter();break;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.linkedDataListApiController.prototype.clearSort=function(){["WebSquare.DataCollection.linkedDataListApiController.prototype.removeColumnFilter"];try{this.broadcast({"gridView":["clearHeaderSort"]});this.clearSortFilter();this.broadcast({"gridView":["notifySetFocusedCell"],"generalComp":"both"});}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.linkedDataListApiController.prototype.multisort=function(_14d){["WebSquare.DataCollection.linkedDataListApiController.prototype.multisort"];try{_14d.type="sort";_14d.sortOrder=_14d.sortOrder||[];var _14e;var _14f;var _150=typeof _14d.sortIndex;var _151=typeof _14d.sortOrder;if(_150=="object"){_14e=_14d.sortIndex;}else{if(_150=="string"){_14e=_14d.sortIndex.split(" ");}}if(_151=="object"){_14f=_14d.sortOrder;}else{if(_151=="string"){_14f=_14d.sortOrder.split(" ");}}for(var i=0;i<_14e.length-_14f.length;i++){_14f.push(1);}var _153=[];this.sortStatusInfo={};this.sortStatusArr=[];for(var i=0;i<_14e.length;i++){var _154={};var _150=typeof _14e[i];var _155;if(_150=="string"){_155=this._dataList.getCellInfo(_14e[i]);}else{if(_150=="number"){_155=this._dataList.getCellInfo(this.getColumnID(_14e[i]));}}_154.colID=_14e[i];_154.sortOrder=parseInt(_14f[i]);_154.dataType=(_155.options.dataType!="number")?"text":"number";_153.push(_154.dataType);this.sortStatusInfo[_154.colID]=_154;this.sortStatusArr.push(_154);this.sortStatusArr[_154.colID]=_154;}_14d.dataType=_153.join(" ");this.setFilter(_14d);this.broadcast({"gridView":["drawHeaderSortImages"],"generalComp":"both"});}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.linkedDataListApiController.prototype.getCellInfo=function(td){["WebSquare.DataCollection.linkedDataListApiController.prototype.getCellInfo"];var tdId="";if(typeof td=="string"){tdId=td;}else{if(typeof td=="number"){tdId=this.cellIdList[td];}}return this.cellInfoHash[tdId]||{options:{}};};$W._j.linkedDataListApiController.prototype.getColumnCount=function(){return this.cellIdList.length;};$W._j.linkedDataListApiController.prototype.getColumnID=function(_158){if(typeof _158=="string"){return _158;}var _159=this.cellIdList[_158];if(_159){return _159;}else{return null;}};$W._j.linkedDataListApiController.prototype.getColumnIndex=function(_15a){["WebSquare.DataCollection.linkedDataListApiController.prototype.getColumnIndex"];if(typeof _15a=="number"){return _15a;}return this.bodyIdColIndexMap[_15a];};$W._j.linkedDataListApiController.prototype.hasColumn=function(_15b){["WebSquare.DataCollection.linkedDataListApiController.prototype.hasColumn"];try{if(typeof _15b=="number"){_15b=this.getColumnID(_15b);}var _15c=false;if(typeof this.bodyIdColIndexMap[_15b]=="number"){_15c=true;}return _15c;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.linkedDataListApiController.prototype.getColumnName=function(_15d){["WebSquare.DataCollection.linkedDataListApiController.prototype.getColumnName"];if(typeof _15d=="number"){_15d=this.getColumnID(_15d);}var _15e=this.getCellInfo(_15d);return _15e?_15e.name:"";};$W._j.linkedDataListApiController.prototype.getParentRowIndex=function(_15f){["WebSquare.DataCollection.linkedDataListApiController.prototype.getParentRowIndex "];try{var _160=-1;if(this.options.depthColumn){var _161=this.getTotalCol();var col=this.options.depthColumn;var _163=this.getColumnID(col);var _164=parseInt(this._getData(this.initialRowIndexArr[_15f],_163));var _165=this.getLinkedRealRowIndex(_15f);for(var i=_165-1;i>=0;i--){var row=this.initialRowIndexArr[i];if(this._getData(row,_163)<_164){return row;}}}return _160;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.linkedDataListApiController.prototype.notifyDataChanged=function(){["WebSquare.DataCollection.linkedDataListApiController.prototype.notifyDataChanged"];try{this.filterManager.restartFilter();this.broadcast({"generalComp":"both","gridView":["notifySettedFilter"]});}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.linkedDataListApiController.prototype.notifyCellChanged=function(_168,_169,_16a){["WebSquare.DataCollection.linkedDataListApiController.prototype.notifyRowChanged"];try{var _16b=false;for(var i=0;i<this.conditionInfo.columnArray.length;i++){if(this.conditionInfo.columnArray[i]===_169){_16b=true;break;}}if(_16b){this.filterManager.restartFilter();this.broadcast({"generalComp":"both","gridView":["notifySettedFilter"]});}else{var _16d=this.getFilteredRowIndex(_168);if(typeof _16d==="number"){this.broadcast({"gridView":["notifySettedCellData",[_16d,_169,_16a]],"fusionChart":["refresh"],"fwFunnelChart":["refresh"],"fwSparkChart":["refresh"],"fwPyramidChart":["refresh"],"fwGanttChart":["refresh"],"generalComp":"both"});}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.linkedDataListApiController.prototype.notifyRowChanged=function(_16e){["WebSquare.DataCollection.linkedDataListApiController.prototype.notifyRowChanged"];try{this.filterManager.restartFilter();this.broadcast({"generalComp":"both","gridView":["notifySettedFilter"]});}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.linkedDataListApiController.prototype.notifyRowRemoved=function(_16f){["WebSquare.DataCollection.linkedDataListApiController.prototype.notifyRowRemoved"];try{this.filterManager.restartFilter();var _170="notifySettedFilter";if(this.getRowCount()==0){_170="notifyRemovedAll";}this.broadcast({"generalComp":"both","gridView":[_170]});}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.linkedDataListApiController.prototype.notifyRowInserted=function(_171){["WebSquare.DataCollection.linkedDataListApiController.prototype.notifyRowInserted"];try{this.filterManager.restartFilter();this.broadcast({"generalComp":"both","gridView":["notifySettedFilter"]});}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.linkedDataListApiController.prototype.notifyRowMoveUp=function(_172){["WebSquare.DataCollection.linkedDataListApiController.prototype.notifyRowMoveUp"];try{this.filterManager.restartFilter();this.broadcast({"generalComp":"both","gridView":["notifySettedFilter"]});}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.linkedDataListApiController.prototype.notifyRowMoveDown=function(_173){["WebSquare.DataCollection.linkedDataListApiController.prototype.notifyRowMoveDown"];try{this.filterManager.restartFilter();this.broadcast({"generalComp":"both","gridView":["notifySettedFilter"]});}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.linkedDataListApiController.prototype.notifyRemoveAll=function(_174){["WebSquare.DataCollection.linkedDataListApiController.prototype.notifyRemoveAll"];try{this.filterManager.restartFilter();this.broadcast({"generalComp":"both","gridView":["notifyRemovedAll"]});}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.linkedDataListApiController.prototype.notifyReformed=function(_175){["WebSquare.DataCollection.linkedDataListApiController.prototype.notifyReformed"];try{this.filterManager.restartFilter();this.broadcast({"generalComp":"both","gridView":["notifySettedFilter"]});}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.linkedDataListApiController.prototype.notifyDeleteRow=function(_176){["WebSquare.DataCollection.linkedDataListApiController.prototype.notifyDeleteRow"];try{this.filterManager.restartFilter();this.broadcast({"generalComp":"both","gridView":["notifySettedFilter"]});}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.linkedDataListApiController.prototype.notifyRowPositionChanged=function(_177){["WebSquare.DataCollection.linkedDataListApiController.prototype.notifyDeleteRow"];try{this.broadcast({"linkedDataList":["refresh"]});}catch(e){$W.exception.printStackTrace(e,null,this);}};;WebSquare.uiplugin.linkedDataListApiController=$W._a.ah;requires("uiplugin/linkedDataList/linkedDataListApiController.js");requires("uiplugin/linkedDataList/linkedFilterController.js");$W._j.linkedDataList=function(id,_2,_3,_4,_5){["WebSquare.DataCollection.linkedDataList"];try{this.initialize(id,_2,_3,_4,_5);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W.extend($W._j.linkedDataList.prototype,$W._j.linkedDataListApiController.prototype);$W._j.linkedDataList.prototype.defaultOptions={useConfig:true,pluginType:"DataCollection.linkedDataList",pluginName:"linkedDataList",baseNode:"list",repeatNode:"map",valueAttribute:"",idAttribute:"",rowStatusNodeName:"rowStatus",JSONPath:""};$W._j.linkedDataList.prototype.initialize=function(id,_7,_8,_9,_a){["WebSquare.DataCollection.linkedDataList.prototype.initialize"];try{this.elementType=_8.elementType?_8.elementType:"XML";this.initializeType="linkedDataList";this.id=id;this.uuid=$W.UUIDPrefix+"_"+$W.UUID++;this.element=_8;this.options=this.getConfiguredOptions();this._broadCastFlag=true;if(_8){switch(this.elementType){case "XML":this.options=$W.extendKeepingType(this.options,$W.WebSquareparser.parseAttribute(_8));if(this.initializeType=="linkedDataList"){this.options.xmlEvents=$W.WebSquareparser.parseEvent(_8);}break;case "JSON":this.options=$W.extendKeepingType(this.options,_8.option);this.options.id=_8.id;break;}}if(_7){this.options=$W.extendKeepingType(this.options,_7);}if(!this.id){this.id=this.options.id;}if($W.idCache[_a]&&$W.idCache[_a].options.scope){var _b=this.id;var _c=$W.idCache[_a]?$W.idCache[_a].id:"";var id=(_c?_c+"_":"")+this.id;this.id=id;this.org_id=_b;this.scope_obj=$W.idCache[_a];this.scope_obj.scope[this.org_id]=this;this.scope_id=this.scope_obj.id;}this.options.id=this.id;if(_8){var _d="linkedDataList";var _e=$W.WebSquareDocument.componentsCache;var _f=_e[_d];if(!_f){_f=_e[_d]=[];}_f.push(this.uuid);}if(!this.id){this.options.id=this.id=this.uuid;}else{if(window[$W.noConflict].data[this.id]!=null||window[$W.noConflict].comp[this.id]!=null){$W.logger.printLog("id["+this.id+"] \uac00 \uc911\ubcf5\uc0ac\uc6a9\ub418\uc5c8\uc2b5\ub2c8\ub2e4. \uae30\uc874\uc5d0 \uc788\ub358 linkedDataList\ub97c \uc0ad\uc81c\ud558\uace0 \uc0c8\ub85c \uc0dd\uc131\ud569\ub2c8\ub2e4.");var _10=$W._j["stopBroadCast"];try{$W._j["stopBroadCast"]=true;$W._j.api.remove(this.id);$W._j["stopBroadCast"]=_10;}catch(e){_10=$W._j["stopBroadCast"];}}}$W.idCache[this.uuid]=this;$W.idToUUID[this.id]=this.uuid;if($W._N.getConfiguration("/WebSquare/globalExposure/@value").toLowerCase()!="false"){window[this.id]=this;}window[$W.noConflict].data[this.id]=this;this.event=new $W.eventControl();this.initializeLinkedDataList(_8);this.bindAsEventList=[];this.bindAsUserEventList=[];this.userEventList=[];this.systemEventList={};if(_a!=undefined&&$W.idCache[_a]){this.parentFrame=_a;$W.idCache[_a].childAllControlList.push(this.uuid);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.linkedDataList.prototype.initializeLinkedDataList=function(_11){try{this.element=_11;if(this.options.valueAttribute.wq_trim()=="$none"){this.options.valueAttribute="";}this.options.valueNode=this.options.valueAttribute;this.initialRowIndexArr=[];this.initialFilterList=[];this.filteredRowIndexArr=[];this.filteredRowIndexMap={};this.childCompHash={};this.refCompHash={};this.activated=false;this.conditionInfo={targetInfo:{},sortInfo:{parse:false,set:false},filterInfo:{parse:false,set:false,useRef:false}};if(this.elementType=="XML"){var _12=$W._B.getElementsByTagName(_11,"condition",$W._N._XML_NAMESPACE.W2);for(var i=0;i<_12.length;i++){var _14=_12[i];var _15=_14.getAttribute("type");switch(_15){case "sort":if(!this.conditionInfo.sortInfo.set){this.conditionInfo.sortInfo.set=true;this.conditionInfo.sortInfo.condition=$W._B.getCDataNodeValue(_14);}break;case "filter":if(!this.conditionInfo.filterInfo.set){this.conditionInfo.filterInfo.set=true;this.conditionInfo.filterInfo.condition=$W._B.getCDataNodeValue(_14);}break;}}}else{this.conditionInfo.sortInfo.set=true;this.conditionInfo.filterInfo.set=true;this.conditionInfo.sortInfo.condition=this.element.option.sortCondition;this.conditionInfo.filterInfo.condition=this.element.option.filterCondition;}var _16=this.options.bind;if(this.scope_obj&&this.scope_obj.scope[this.options.bind]){_16=this.scope_obj.scope[this.options.bind].id;}this._dataList=$W._G.getComponentById(_16);$W._j.api.addChild(this);$W._j.api.addRelation(this.id,_16);if(this._dataList){if(!this.successBinding){this.successBinding=true;this.parent=this._dataList;this.columnPosition=null;this.rowPosition=null;this.oneRowDataLength=this._dataList.oneRowDataLength;this.bodyIdColIndexMap=this._dataList.bodyIdColIndexMap;this.cellInfoHash=this._dataList.cellInfoHash;this.cellIdList=this._dataList.cellIdList;this.structure=this._dataList.structure;this.initialRowIndexArr=this._dataList.filteredRowIndexArr.slice(0);this._dataList.addChild(this);this.filterManager=new $W._j.linkedFilterController(this);this.synchronize();if($W._j["activated"]){this.activate();}}}else{$l(this.id+" has been ignored because dataList is null. ");this.successBinding=false;this._dataList={};}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.linkedDataList.prototype.finalize=function(){["WebSquare.DataCollection.dataList.prototype.finalize"];try{this.activated=false;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.linkedDataList.prototype.activate=function(){["WebSquare.DataCollection.linkedDataList.prototype.activate"];try{if(!this.activated){this.refresh();for(var opt in this.options){if(opt.slice(0,3)=="ev:"){var _18=this.options[opt].split(",");for(var j=0;j<_18.length;j++){this.bind(opt.slice(3),_18[j]);}}}if(this.options.eventPause){this.setEventPause(this.options.eventPause,true);}}this.activated=true;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.linkedDataList.prototype.setDataList=function(){["WebSquare.DataCollection.linkedDataList.prototype.setDataList"];try{if(!this.successBinding){var _1a=this.options.bind;if(this.scope_obj&&this.scope_obj.scope[this.options.bind]){_1a=this.scope_obj.scope[this.options.bind].id;}this._dataList=$W._G.getComponentById(_1a);if(this._dataList){this.successBinding=true;this.parent=this._dataList;this.columnPosition=null;this.rowPosition=null;this.oneRowDataLength=this._dataList.oneRowDataLength;this.bodyIdColIndexMap=this._dataList.bodyIdColIndexMap;this.cellInfoHash=this._dataList.cellInfoHash;this.cellIdList=this._dataList.cellIdList;this.structure=this._dataList.structure;this.initialRowIndexArr=this._dataList.filteredRowIndexArr.slice(0);this._dataList.addChild(this);this.filterManager=new $W._j.linkedFilterController(this);this.synchronize();if($W._j["activated"]){this.refresh();this.activated=true;}}else{$l(this.id+" has been ignored because dataList is null. ");this.successBinding=false;this._dataList={};}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.linkedDataList.prototype.addEvent=function(_1b,_1c,_1d){["WebSquare.linkedDataList.addEvent"];try{_1d=_1d||"script";var _1e={name:_1b,action:_1d,param:{handler:_1c}};if(!this.options.xmlEvents){this.options.xmlEvents=[];}this.options.xmlEvents.push(_1e);this.event.addUserEvents(this,[_1e],this.options.userEvents);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.linkedDataList.prototype.bind=function(_1f,_20){["WebSquare.linkedDataList.bind"];try{if(typeof _1f==="string"&&(_1f.slice(0,2)!="on")){_1f="on"+_1f;}if(_1f==="string"){_1f=_1f.toLowerCase();}this.addEvent(_1f,_20);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.linkedDataList.prototype.trigger=function(_21,_22){["WebSquare.linkedDataList.trigger"];try{if(typeof _21==="string"&&(_21.slice(0,2)!="on")){_21="on"+_21;}var _23=false;if(this.options.userEvents!=undefined){for(var i=0;i<this.options.userEvents.length;i++){if(this.options.userEvents[i]===_21){_23=true;break;}}}if(!_23&&$W._c.isEventSupported(this.render,_21)){if(_22&&extraParamteres.constructor==Array){$W._c.fireSystemEvent(this,_21,_22[0]);}else{$W._c.fireSystemEvent(this,_21);}}else{var _25=[this,_21];_25=_25.concat(_22);$W._c.fireEvent.apply($W._c.fireEvent,_25);_25[0]=null;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.linkedDataList.prototype.unbind=function(_26,_27){["WebSquare.linkedDataList.unbind"];try{if(typeof _26==="string"&&(_26.slice(0,2)!="on")){_26="on"+_26;}if(typeof _26==="string"&&typeof _27==="function"){for(var i=0;i<this.userEventList.length;i++){if(_26===this.userEventList[i].name&&_27===this.userEventList[i].param.handler){this.userEventList.splice(i,1);if(typeof this.systemEventList[_26]==="object"){this.systemEventList[_26].count--;if(this.systemEventList[_26].count<=0){this.event.removeListener(this.render,_26,this.systemEventList[_26].handler);delete this.systemEventList[_26];}}}}}else{if(typeof _26==="string"&&_27==undefined){for(var i=this.userEventList.length-1;i>=0;i--){if(_26===this.userEventList[i].name){this.userEventList.splice(i,1);}}if(typeof this.systemEventList[_26]==="object"){this.event.removeListener(this.render,_26,this.systemEventList[_26].handler);delete this.systemEventList[_26];}}else{for(var ev in this.systemEventList){this.event.removeListener(this.render,ev,this.systemEventList[ev].handler);}this.userEventList=[];this.systemEventList={};}}this.options.xmlEvents=this.userEventList.slice();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.linkedDataList.prototype.onComplete=function(){if(this.completed){$l("!!!WARNING!!! duplicate call 'onComplete' for : "+this.id);return;}this.completed=true;};$W._j.linkedDataList.prototype.setEventPause=function(_2a,_2b){var _2c={};var _2d=false;if(typeof _2a=="string"&&_2a!=""){var _2e=_2a.split(",");for(var i=0;i<_2e.length;i++){if(_2e[i]){_2c[_2e[i]]=true;}}}else{_2d=true;}for(var i=this.userEventList.length-1;i>=0;i--){if(_2d||_2c[this.userEventList[i].name]){this.userEventList[i].disabled=_2b;}}};;WebSquare.uiplugin.linkedDataList=$W._a._C;$W._a.bm=function(id,_2,_3){["WebSquare.uiplugin.body"];$W._t.call(this,id,_2,_3);};$W.extend($W._a.bm.prototype,$W._t.prototype);$W._a.bm.prototype.defaultOptions={pluginType:"uiplugin.body",pluginName:"body",userEvents:["onpageload"],parseChild:true,useConfig:true,toolTipSec:10,toolTipNoEffect:false};$W._a.bm.prototype.initialize=function(_4){this.wmodeFrameHash={};this.modal=null;this.toolTip=null;this.toolTipTime=null;this.toolTipSec=this.options.toolTipSec;this.toolTipNoEffect=this.options.toolTipNoEffect;this.forceClose=$W._N.getConfiguration("/WebSquare/body/layerForceClose/@value");this.layerListener=new $W.bodyLayerListener();if(!this.resizeChecker){$W._a.bm.prototype.resizeChecker=new $W.resizeChecker();$W._G.setInterval(this.resizeChecker.checkResize,{key:"body_checkResize",caller:this.resizeChecker,delay:60});}};$W._a.bm.prototype.setRender=function(){if(this.parentControl&&this.parentControl.options.pluginName=="wframe"){this.render=this.parentControl.render;}else{this.render=document.body;this.render.className=this.options.className;if($W.w2xTheme){this.addClass("w5_"+$W.w2xTheme);}}var _5=$W._N.getChildConfigurationDocument("/WebSquare/browserSelector");for(var i=0;i<_5.length;i++){if(_5[i]["@tagName"]=="className"){if((new RegExp(_5[i].pattern)).test(navigator.userAgent)){this.addClass(_5[i].value);}}}};$W._a.bm.prototype.setAction=function(){if(this.parentControl==null){this.event.addListener(this.render,"onmousedown",this.event.bindAsEventListener(this,function(){if(typeof __WebSquare_gridArr__==="object"&&__WebSquare_gridArr__!=null){for(var i=__WebSquare_gridArr__.length-1;i>=0;i--){try{if(__WebSquare_gridArr__[i]){__WebSquare_gridArr__[i].otherClickHandler(arguments[0]);}}catch(e){__WebSquare_gridArr__[i]=null;delete __WebSquare_gridArr__[i];var _8=__WebSquare_gridArr__.length-1;__WebSquare_gridArr__[i]=__WebSquare_gridArr__[_8];__WebSquare_gridArr__[_8]=null;delete __WebSquare_gridArr__[_8];__WebSquare_gridArr__.length=_8;}}}if(typeof __WebSquare_pivotArr__==="object"&&__WebSquare_pivotArr__!=null){for(var i=__WebSquare_pivotArr__.length-1;i>=0;i--){try{if(__WebSquare_pivotArr__[i]){__WebSquare_pivotArr__[i].otherClickHandler(arguments[0]);}}catch(e){__WebSquare_pivotArr__[i]=null;delete __WebSquare_pivotArr__[i];var _8=__WebSquare_pivotArr__.length-1;__WebSquare_pivotArr__[i]=__WebSquare_pivotArr__[_8];__WebSquare_pivotArr__[_8]=null;delete __WebSquare_pivotArr__[_8];__WebSquare_pivotArr__.length=_8;}}}}));}};$W._a.bm.prototype.toHTML=function(){var _9=[];var _a=this.getChildren();for(var i=0;i<_a.length;i++){_9.push(_a[i].toHTML());}return _9.join("");};$W._a.bm.prototype.parseDomToRender=function(_c){if(_c){var id=_c.getAttribute("id");for(var _e=_c.firstChild;_e!=null;_e=_e.nextSibling){if(_e.nodeType==1){this.parseDomToRender(_e);}}}};$W._a.bm.prototype.showWModeFrame=function(_f,_10){["WebSquare.uiplugin.body.prototype.showWModeFrame"];try{if(!this.render||!_10){return;}if(_f=="menu"){if(_10.childNodes.length==0){return;}var _11=_10.childNodes;var _12=_11[0].className.split(" ")[0];this.wmodeFrameHash[_12]=document.getElementById(_12+"_wmode_frame");if(!this.wmodeFrameHash[_12]){this.wmodeFrameHash[_12]=document.createElement("iframe");this.wmodeFrameHash[_12].id=_12+"_wmode_frame";this.wmodeFrameHash[_12].className="w2wmode_frame w2wmode_menuFrame";this.wmodeFrameHash[_12].style.position="absolute";this.wmodeFrameHash[_12].frameBorder="no";if(location.protocol=="https:"){this.wmodeFrameHash[_12].src=$W._r.getSSLBlankPage(true);}}if(this.wmodeFrameHash[_12]){var _13=this;setTimeout(function(){_13.wmodeFrameHash[_12].controlID=_12;_13.wmodeFrameHash[_12].style.top=$W._H.getAbsoluteTop(_11[0])+"px";_13.wmodeFrameHash[_12].style.width=_11[0].offsetWidth+"px";_13.wmodeFrameHash[_12].style.height=_11[0].offsetHeight+"px";_13.wmodeFrameHash[_12].style.display="block";_13.wmodeFrameHash[_12].style.left=$W._H.getAbsoluteLeft(_11[0])+"px";_13.render.insertBefore(_13.wmodeFrameHash[_12],_10.parentElement);},1);}}else{this.wmodeFrameHash[_f]=document.getElementById(this.id+"_"+_f+"_wmode_frame");if(!this.wmodeFrameHash[_f]){this.wmodeFrameHash[_f]=document.createElement("iframe");this.wmodeFrameHash[_f].id=this.id+"_"+_f+"_wmode_frame";this.wmodeFrameHash[_f].className="w2wmode_frame";this.wmodeFrameHash[_f].style.position="absolute";this.wmodeFrameHash[_f].frameBorder="no";if(location.protocol=="https:"){this.wmodeFrameHash[_f].src=$W._r.getSSLBlankPage(true);}}if(this.wmodeFrameHash[_f]){var _13=this;setTimeout(function(){_13.wmodeFrameHash[_f].controlID=_10.id;_13.wmodeFrameHash[_f].style.left=_10.offsetLeft+"px";_13.wmodeFrameHash[_f].style.top=_10.offsetTop+"px";_13.wmodeFrameHash[_f].style.width=_10.offsetWidth+"px";_13.wmodeFrameHash[_f].style.height=_10.offsetHeight+"px";_13.wmodeFrameHash[_f].style.display="block";_13.render.insertBefore(_13.wmodeFrameHash[_f],_10);},1);}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bm.prototype.hideWModeFrame=function(_14,id){["WebSquare.uiplugin.body.prototype.hideWModeFrame"];try{if(_14=="menu"){if(this.wmodeFrameHash[id]&&this.wmodeFrameHash[id].controlID==id){this.wmodeFrameHash[id].style.display="none";}}else{if(this.wmodeFrameHash[_14]&&this.wmodeFrameHash[_14].controlID==id){this.wmodeFrameHash[_14].style.display="none";}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bm.prototype.removeWModeFrame=function(_16,id){["WebSquare.uiplugin.body.prototype.removeWModeFrame"];try{if(_16=="menu"){if(this.wmodeFrameHash[id]&&this.wmodeFrameHash[id].controlID==id){document.body.removeChild(this.wmodeFrameHash[id]);delete this.wmodeFrameHash[id];}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bm.prototype.showModal=function(_18,_19){["WebSquare.uiplugin.body.prototype.showModal"];try{if(!this.modal){this.modal=document.createElement("div");this.modal.id="_modal";this.modalStack=[];this.modalStackPopupLayer=[];}if(_18){this.modalStack[this.modalStack.length]=_18;this.modal.className=_18;}else{this.modalStack[this.modalStack.length]="w2modal";this.modal.className="w2modal";}if(this.modal){this.render.appendChild(this.modal);this.modal.style.display="block";var _1a=false;try{if(this.modal.setActive){this.modal.setActive();_1a=true;}}catch(dummy_error){}if(!_1a){if(document.activeElement){document.activeElement.blur();}else{this.modal.focus();}}if($W._G.isIE(6)){this.modal.style.top=document.documentElement.scrollTop+"px";this.modal.style.left=document.documentElement.scrollLeft+"px";this.modal.style.width=document.documentElement.scrollWidth+"px";this.modal.style.height=document.documentElement.scrollHeight+"px";}if(!$W._G.isFF()&&!$W._G.isMobile()){this.addClass(document.documentElement,"w2modalopenedbody");}if(_19&&_19.length>0){for(var i=0;i<_19.length;i++){var _1c=_19[i];if(_1c&&$W._G.getComponentById(_1c).options.pluginName){$W._G.getComponentById(_1c).addClass("w2modal_popupLayer");}else{$l("[body.showModal]\uc874\uc7ac\ud558\uc9c0 \uc54a\ub294 WebSquare Component\uc785\ub2c8\ub2e4.("+_1c+")");}}this.modalStackPopupLayer[this.modalStackPopupLayer.length]=_19;}if($W._G.isMobile()&&$W._N.getConfiguration("/WebSquare/modal/@preventTouch")=="true"){$W._c.addListener(this.modal,"ontouchmove",this.handleTouchMove);}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bm.prototype.handleTouchMove=function(e){$W._c.preventDefault(e);};$W._a.bm.prototype.modalEvent=function(_1e){["WebSquare.uiplugin.body.prototype.modalEvent"];try{if(this.modal){if(_1e){$W._c.addListener(this.modal,"onclick",function(){_1e.focus();});$W._c.addListener(this.modal,"ondblclick",function(){_1e.focus();});}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bm.prototype.hideModal=function(){["WebSquare.uiplugin.body.prototype.showModal"];try{if(this.modal){this.modalStack.pop();if(this.modalStack.length==0){this.modal.style.display="none";if(!$W._G.isFF()&&!$W._G.isMobile()){this.removeClass(document.documentElement,"w2modalopenedbody");}}else{var _1f=this.modalStack[this.modalStack.length-1];this.modal.className=_1f;}if(this.modalStackPopupLayer.length>0){var _20=this.modalStackPopupLayer[this.modalStackPopupLayer.length-1];for(var i=0;i<_20.length;i++){var _22=_20[i];if($W._G.getComponentById(_22)){$W._G.getComponentById(_22).removeClass("w2modal_popupLayer");}}this.modalStackPopupLayer.splice(this.modalStackPopupLayer.length-1,1);}if($W._G.isMobile()&&$W._N.getConfiguration("/WebSquare/modal/@preventTouch")=="true"){$W._c.removeListener(this.modal,"ontouchmove",this.handleTouchMove);}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bm.prototype.setToolTip=function(_23,_24){["WebSquare.uiplugin.body.prototype.showToolTip"];try{var _25=this;if($W._G.isMobile()){$W._c.addListener(_23,"ontouchstart",this.event.bindAsEventListener(this,function(e){$W.getBody().showToolTip(e,_23,_24);}));$W._c.addListener(_23,"ontouchend",this.event.bindAsEventListener(this,function(e){$W.getBody().hideToolTip(e);}));}else{$W._c.addListener(_23,"onmouseover",this.event.bindAsEventListener(this,function(e){$W.getBody().showToolTip(e,_23,_24);}));$W._c.addListener(_23,"onmouseout",this.event.bindAsEventListener(this,function(e){$W.getBody().hideToolTip(e);}));}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bm.prototype.showToolTip=function(e,_2b,_2c){["WebSquare.uiplugin.body.prototype.showToolTip"];try{var idx=_2c.indexOf("javascript:");if(idx>-1){var _2e=_2c.substring(11,_2c.length);var _2f=eval(_2e);_2c=_2f;}if(_2c==""){return;}if(this.toolTipTime){clearTimeout(this.toolTipTime);this.toolTipTime=null;}if(!this.toolTip){this.toolTip=new $W._a.aw(this.id+"_balloonTip");this.toolTip.writeTo(this);this.toolTip.activate();}if(this.toolTip){var _30=$W._H.getAbsoluteLeft(_2b);var top=$W._H.getAbsoluteTop(_2b);var _32=$W._H.getSize(_2b,"height");this.toolTip.setValue(_2c);if(this.toolTipNoEffect){this.toolTip.show();var _33=this.toolTip.render.offsetWidth;var _34=this.toolTip.render.offsetHeight;if(_30+_33>document.documentElement.scrollLeft+document.documentElement.clientWidth-10){_30=document.documentElement.scrollLeft+document.documentElement.clientWidth-_33-10;}var _35=top-_34;if(_35<document.documentElement.scrollTop+10){if(_35<0){_35=top+_32+5;}else{_35=document.documentElement.scrollTop+10;}}this.toolTip.setPosition(_30,_35);}else{var _36=this;this.toolTipTime=setTimeout(function(){_36.toolTip.show();var _37=_36.toolTip.render.offsetWidth;var _38=_36.toolTip.render.offsetHeight;if(_30+_37>document.documentElement.scrollLeft+document.documentElement.clientWidth-10){_30=document.documentElement.scrollLeft+document.documentElement.clientWidth-_37-10;}var _39=top-_38;if(_39<document.documentElement.scrollTop+10){if(_39<0){_39=top+_32+5;}else{_39=document.documentElement.scrollTop+10;}}_36.toolTip.setPosition(_30,_39);_36.toolTip.setOpacity(0);new $W._M.opacity(_36.toolTip.render,{opacity:0,from:1,to:0});},this.toolTipSec);}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bm.prototype.hideToolTip=function(){["WebSquare.uiplugin.body.prototype.hideToolTip"];try{if(this.toolTipTime){clearTimeout(this.toolTipTime);this.toolTipTime=null;}if(this.toolTip){this.toolTip.hide();}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bm.prototype.getLayerListener=function(){["WebSquare.uiplugin.body.prototype.getLayerListener"];try{return this.layerListener;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W.bodyLayerListener=function(){["WebSquare.bodyLayerListener"];this.layers={};this.existShow=false;this.useOtherComponentId={};};$W.bodyLayerListener.prototype.addListener=function(obj){["WebSquare.bodyLayerListener"];try{var _3b=true;for(var id in this.layers){_3b=false;break;}var _3d=obj.component;var _3e=obj.component.id;this.layers[_3e]={component:obj.component,show:obj.fnShow,hide:obj.fnHide,paramHide:obj.paramHide,event:obj.event,isShow:false,otherClick:obj.otherClick};if(_3b){if($W._G.isMobile()){$W.getBody().event.addListener(document.documentElement,"ontouchstart",$W.getBody().event.bindAsEventListener($W.getBody(),this.handleMouseDownEventDocument));}else{$W.getBody().event.addListener(document.documentElement,"onmousedown",$W.getBody().event.bindAsEventListener($W.getBody(),this.handleMouseDownEventDocument));$W.getBody().event.addListener(document.documentElement,"onmousewheel",$W.getBody().event.bindAsEventListener($W.getBody(),this.handleMouseWheelEventDocument));$W.getBody().event.addListener(window,"onscroll",$W.getBody().event.bindAsEventListener($W.getBody(),this.handleScrollEventDocument));$W.getBody().event.addListener(window,"onresize",$W.getBody().event.bindAsEventListener($W.getBody(),this.handleMouseWheelEventDocument));}}if(obj.event){for(var _3f in obj.event){_3d.event.addListener(document.documentElement,_3f,_3d.event.bindAsEventListener(_3d,obj.event[_3f]));}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W.bodyLayerListener.prototype.show=function(id,_41){["WebSquare.bodyLayerListener.show"];try{if(this.layers[id]&&typeof this.layers[id].show==="function"){var _42=this.layers[id].component;var _43={};while(_42.parentControl){_42=_42.parentControl;if(_42.id){_43[_42.id]=true;}}this.hideAll(_43);this.layers[id].show.call(this.layers[id].component,_41);this.layers[id].isShow=true;this.existShow=true;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W.bodyLayerListener.prototype.hide=function(id,_45){["WebSquare.bodyLayerListener.hide"];try{if(this.layers[id]&&typeof this.layers[id].hide==="function"){this.layers[id].hide.call(this.layers[id].component,_45);this.layers[id].isShow=false;this.existShow=false;for(var _46 in this.layers){if(this.layers[_46].isShow){this.existShow=true;break;}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W.bodyLayerListener.prototype.hideAll=function(_47){["WebSquare.bodyLayerListener.hideAll"];try{this.targetHideArr=[];for(var id in this.layers){if(_47&&_47[id]){continue;}if(this.layers[id].isShow){var _49={};_49["id"]=id;_49["param"]=this.layers[id].paramHide;this.targetHideArr.push(_49);this.hide(id,this.layers[id].paramHide);}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W.bodyLayerListener.prototype.isExist=function(id){["WebSquare.bodyLayerListener.isExist"];try{if(this.layers[id]){return true;}else{return false;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W.bodyLayerListener.prototype.isShow=function(id){["WebSquare.bodyLayerListener.show"];try{if(this.layers[id]){return !!this.layers[id].isShow;}else{return false;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W.bodyLayerListener.prototype.remove=function(id){["WebSquare.bodyLayerListener.remove"];try{if(this.layers[id]){for(var _4d in this.layers[id].event){$W._c.removeListener(document.documentElement,_4d,this.layers[id].event[_4d]);}this.layers[id].component=null;this.layers[id].draw=null;this.layers[id].show=null;this.layers[id].hide=null;this.layers[id].event=null;delete this.layers[id];}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W.bodyLayerListener.prototype.removeAll=function(){["WebSquare.bodyLayerListener.removeAll"];try{for(var id in this.layers){for(var _4f in this.layers[id].event){$W._c.removeListener(document.documentElement,_4f,this.layers[id].event[_4f]);}this.layers[id].component=null;this.layers[id].draw=null;this.layers[id].show=null;this.layers[id].hide=null;this.layers[id].event=null;delete this.layers[id];}this.layers={};}catch(e){$W.exception.printStackTrace(e,null,this);}};$W.bodyLayerListener.prototype.handleMouseDownEventDocument=function(e){["WebSquare.bodyLayerListener.handleMouseDownEventDocument"];try{if(!this.layerListener.existShow){return;}else{var top,left;if($W._G.isIE("6 7 8")){top=document.documentElement.scrollTop;left=document.documentElement.scrollLeft;}else{top=window.pageYOffset;left=window.pageXOffset;}if($W._c.getMouseX(e)<document.documentElement.clientWidth+left&&$W._c.getMouseY(e)<document.documentElement.clientHeight+top){this.layerListener.hideAll();}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W.bodyLayerListener.prototype.handleMouseWheelEventDocument=function(e){["WebSquare.bodyLayerListener.handleMouseWheelEventDocument"];try{if($W._G.isIE("6 7 8")&&e&&e.type.toLowerCase()==="resize"){return;}if(!this.layerListener.existShow){return;}else{var _53;for(var id in this.layerListener.layers){if(this.layerListener.layers[id].isShow&&this.layerListener.layers[id].component&&this.layerListener.layers[id].component.render.parentNode){_53=this.layerListener.layers[id].component.render.parentNode;}}var _55=$W._c.getTarget(e);if(this.forceClose=="true"||(_55!=$W.getBody().render&&_53!=$W.getBody().render)){this.layerListener.hideAll();return;}var doc=document.documentElement;var top,left;if($W._G.isIE("6 7 8")){top=document.documentElement.scrollTop;left=document.documentElement.scrollLeft;}else{top=window.pageYOffset;left=window.pageXOffset;}if(top===0||doc.scrollHeight-top===doc.clientHeight||left===0||doc.scrollWidth-left===doc.clientWidth){return;}this.useWheel=true;this.layerListener.hideAll();}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W.bodyLayerListener.prototype.handleScrollEventDocument=function(e){["WebSquare.bodyLayerListener.handleScrollEventDocument"];try{var _59=this.layerListener.targetHideArr;if(!_59||_59.length<=0||this.useWheel==undefined||!this.useWheel){return;}else{for(var i=0;i<_59.length;i++){this.layerListener.show(_59[i]["id"],_59[i]["param"]);}this.layerListener.targetHideArr=[];this.useWheel=false;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W.bodyLayerListener.prototype.otherClick=function(e){for(var _5c in this.layers){if(typeof this.layers[_5c].otherClick==="function"){this.layers[_5c].otherClick.call(this.layers[_5c].component,e);}}};$W.resizeChecker=function(){["WebSquare.resizeChecker"];this.comps=[];};$W.resizeChecker.prototype.register=function(_5d){this.comps.push(_5d);};$W.resizeChecker.prototype.setResize=function(_5e){for(var i=0;i<this.comps.length;i++){this.comps[i].handleResize();}};$W.resizeChecker.prototype.checkResize=function(_60){if(!_60){for(var i=0;i<this.comps.length;i++){this.comps[i].checkResize();}}};;WebSquare.uiplugin.body=$W._a.bm;requires("uiplugin/control/cssCustomizer.js");$W._a._p=function(id,_2,_3){["WebSquare.uiplugin.group"];$W._t.call(this,id,_2,_3);};$W.extend($W._a._p.prototype,$W._t.prototype);$W.extend($W._a._p.prototype,$W.cssCustomizer.prototype);$W._a._p.prototype.defaultOptions={pluginType:"uiplugin.group",pluginName:"group",userEvents:["ondragstart","ondrag","ondragend","ondragenter","ondragover","ondragleave","ondrop"],systemEvents:["onblur","onclick","ondblclick","onfocus","onmousedown","onmouseout","onmouseover","onmouseup","onmousemove"],parseChild:true,parseAttributes:true,tagname:"div",lazyDraw:false,role:""};$W._a._p.prototype.initialize=function(_4){this.bindDrag=false;this.bindDrop=false;};$W._a._p.html5={"article":"div","aside":"div","bdi":"div","details":"div","dialog":"div","figcaption":"div","figure":"div","footer":"div","header":"div","main":"div","mark":"div","menuitem":"div","meter":"div","nav":"div","progress":"div","rp":"div","rt":"div","ruby":"div","section":"div","summary":"div","time":"div","wbr":"div"};$W._a._p.prototype.toHTML=function(){["WebSquare.uiplugin.group.toHTML"];try{var _5=[];var _6=(this.options.role!="")?"role='"+this.options.role+"'":"";var _7=(this.options.style=="")?"":"style='"+this.options.style+"'";var _8=this.options.tagname;if($W._N.browserCheck.ie){var _9=$W._N.browserVersion();if(_9=="6"||_9=="7"||_9=="8"){if($W._a._p.html5[_8]){_8=$W._a._p.html5[_8];}}}_5.push("<"+_8+" id='"+this.id+"' "+_7+" class='w2group "+this.options.className+"' "+_6+" "+this.getAttributesString()+">");if(!this.options.lazyDraw){var _a=this.getChildren();for(var i=0;i<_a.length;i++){_5.push(_a[i].toHTML());}}_5.push("</"+_8+">");return _5.join("");}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._p.prototype.setAction=function(){this.setDragDrop();if(this.options.tagname=="table"&&(this.options.adaptive=="crosstab"||this.options.adaptive=="layout")){var _c=this.getElementById(this.id).getElementsByTagName("tr");for(var i=0;i<_c.length;i++){var _e=_c[i].className;if(_e.indexOf("w2group")>-1&&_e.indexOf("w2tb_tr")==-1){_c[i].className=_e+" w2tb_tr";}}this.setAdaptive();this.event.addListener(window,"onresize",this.event.bindAsEventListener(this,this.setAdaptive));this.invoke("setSetting","");}if(this.options.tagname=="td"){if(!($W._G.isIE()&&parseInt($W._N.browserVersion(),10)<10)){if(this.element.previousElementSibling!=null){if(this.render.previousElementSibling.tagName!="TH"){this.addClass("w2tb_noTH");}else{this.render.setAttribute("data-title",this.render.previousElementSibling.innerText||this.render.previousElementSibling.textContent);}}else{if(this.render.previousSibling!=null){if(this.render.previousSibling.tagName!="TH"){this.addClass("w2tb_noTH");}else{this.render.setAttribute("data-title",this.render.previousSibling.innerText||this.render.previousSibling.textContent);}}else{this.addClass("w2tb_noTH");}}}}if(this.options.tagname=="a"){var _f=this.uuid;if(!$W._G.isIEAllVersion()){this.render.addEventListener("click",function(e){var _11=$W.idCache[_f];if(_11.getDisabled()){$W._c.preventDefault(e);}});}if($W._G.isIE()&&$W._G.browserVersion()<10){this.render.attachEvent("onclick",function(e){var _13=$W.idCache[_f];if(_13.getDisabled()){$W._c.preventDefault(e);}try{if(_13.render&&(_13.render.getAttribute("href").toString().toLowerCase().match(/javascript[\s]*:[\s]*void/)!=null)){$W._c.preventDefault(e);}}catch(e){}});}}var _14=$W._G.getBoolean($W._N.getConfiguration("/WebSquare/group/captionAuto/@value"));var _15=$W._G.getBoolean(this.options.captionAuto);var _16=$W._G.getBoolean($W._N.getConfiguration("/WebSquare/group/summaryOnlyAuto/@value"));var _17=$W._G.getBoolean(this.options.summaryOnlyAuto);var _18=this.options.tagname=="table"&&((_14&&_15)||(_14&&this.options.captionAuto==undefined)||(_15==true));var _19=this.options.tagname=="table"&&((_16&&_17)||(_16&&this.options.summaryOnlyAuto==undefined)||(_17==true));if(_18){var _1a=this._getHeaderTitleList(this.render);if(this.options.captionTitle){this._setCaption(this.render,this.options.captionTitle+$W._m.getMessage("Grid_caption2")+_1a+$W._m.getMessage("Grid_caption"),this.options.captionTitle);}else{this._setCaption(this.render,_1a+$W._m.getMessage("Grid_caption"),this.options.captionTitle);}}if(_19){var _1a=this._getHeaderTitleList(this.render);this._setSummary(this.render,_1a);}if(this.options.tagname=="table"&&!this.render.getAttribute("summary")){this.render.removeAttribute("summary");}};$W._a._p.prototype.draw=function(){["WebSquare.uiplugin.group.draw"];try{var _1b=[];var _1c=this.getChildren();if(_1c.length>0&&_1c[0].render){return;}else{for(var i=0;i<_1c.length;i++){_1b.push(_1c[i].toHTML());}this.render.innerHTML=_1b.join("");for(var i=0;i<_1c.length;i++){_1c[i].activate();_1c[i].onComplete();}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._p.prototype.setInitValue=function(_1e){["WebSquare.uiplugin.group.init"];try{this.init(_1e);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._p.prototype.init=function(_1f){["WebSquare.uiplugin.group.init"];try{_1f=$W.extend({excludePlugin:"",excludeId:"",fireEvent:false,recursive:false},_1f||{});var _20=this.getChildren().slice(0).reverse();while(_20.length>0){var _21=_20.pop();if(_21.setInitValue&&(" "+_1f.excludePlugin+" ").indexOf(" "+_21.options.pluginName+" ")==-1&&(" "+_1f.excludeId+" ").indexOf(" "+_21.id+" ")==-1){_21.setInitValue(_1f);}if(_1f.recursive){for(var i=0;i<_21.childControlList.length;i++){_20.push(_21.childControlList[i]);}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._p.prototype.invoke=function(_23,_24,_25,_26){["WebSquare.uiplugin.group.invoke"];try{return $W._t.prototype.invoke.call(this,_23,_24,_25,_26);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._p.prototype.setDisabled=function(_27,_28){["WebSquare.uiplugin.group.setDisabled"];try{$W._t.prototype.setDisabled.call(this,_27);_27=$W._G.getBoolean(_27);for(var i=0;i<this.childControlList.length;i++){var _2a=this.childControlList[i];if(_2a.setDisabled&&_2a.activeStatus!="stop"){_2a.setDisabled(_27,_28);}}}catch(e){$W.exception.printStackTrace(e);}return _27;};$W._a._p.prototype.getDisabled=function(){["WebSquare.uiplugin.group.getDisabled"];try{return this.options&&this.options.disabled;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._p.prototype.getAttributeNode=function(_2b){["WebSquare.uiplugin.group.getAttributeNode"];try{return $W._t.attributes.getAttributeNode.call(this,_2b);}catch(e){$W.exception.printStackTrace(e);}};$W._a._p.prototype.setAttributeNode=function(_2c,_2d){["WebSquare.uiplugin.group.setAttributeNode"];try{$W._t.attributes.setAttributeNode.call(this,_2c,_2d);}catch(e){$W.exception.printStackTrace(e);}};$W._a._p.prototype.removeAttributeNode=function(_2e){["WebSquare.uiplugin.group.removeAttributeNode"];try{$W._t.attributes.removeAttributeNode.call(this,_2e);}catch(e){$W.exception.printStackTrace(e);}};$W._a._p.prototype.setAdaptive=function(){["WebSquare.uiplugin.group.setAdaptive"];try{var _2f=parseInt(this.options.adaptiveThreshold)||480;if(!($W._G.isIE()&&parseInt($W._N.browserVersion(),10)<10)){if(parseInt(top.document.documentElement.clientWidth||top.document.body.clientWidth)<=_2f){this.addAdaptive();}else{this.removeAdaptive();}}}catch(e){$W.exception.printStackTrace(e);}};$W._a._p.prototype.addAdaptive=function(){["WebSquare.uiplugin.group.addAdaptive"];try{if(!($W._G.isIE()&&parseInt($W._N.browserVersion(),10)<10)){var _30=this.options.adaptive;var _31;if(_30=="layout"){_31="w2tb_adaptive_layout";}else{if(_30=="crosstab"){_31="w2tb_adaptive_crosstab";}}if(!this.hasClass(_31)){this.addClass(_31);}this.removeAdaptiveHeight(_30);this.setAdaptiveHeight(_30);}}catch(e){$W.exception.printStackTrace(e);}};$W._a._p.prototype.removeAdaptive=function(){["WebSquare.uiplugin.group.removeAdaptive"];try{if(!($W._G.isIE()&&parseInt($W._N.browserVersion(),10)<10)){var _32=this.options.adaptive;var _33;if(_32=="layout"){_33="w2tb_adaptive_layout";}else{if(_32=="crosstab"){_33="w2tb_adaptive_crosstab";}}if(this.hasClass(_33)){this.removeClass(_33);}this.removeAdaptiveHeight(_32);}}catch(e){$W.exception.printStackTrace(e);}};$W._a._p.prototype.setAdaptiveHeight=function(_34){["WebSquare.uiplugin.group.setAdaptiveHeight"];try{if(_34=="crosstab"){var ths=document.getElementById(this.id).getElementsByClassName("w2tb_th");var _36=document.getElementById(this.id).getElementsByTagName("tbody")[0].getElementsByClassName("w2tb_tr");var _37=parseInt($W._G.getComponentById(ths[0].id).getStyle("padding-top"));var _38=parseInt($W._G.getComponentById(ths[0].id).getStyle("padding-bottom"));var td=document.getElementById(this.id).getElementsByClassName("w2tb_td")[0];var _3a=parseInt($W._G.getComponentById(td.id).getStyle("padding-top"));var _3b=parseInt($W._G.getComponentById(td.id).getStyle("padding-bottom"));for(var i=0;i<ths.length;i++){var _3d=ths[i].offsetHeight;var _3e=0;for(var j=0;j<_36.length;j++){var tds=_36[j].getElementsByClassName("w2tb_td");for(var k=0;k<tds.length;k++){var _42=tds[i].offsetHeight;_3e=_3e>=_42?_3e:_42;}}if(_3d>_3e){for(var l=0;l<_36.length;l++){var tds=_36[l].getElementsByClassName("w2tb_td");$W._G.getComponentById(tds[i].id).setSize("height",_3d-(_3a+_3b+1));}}else{if(_3d<_3e){$W._G.getComponentById(ths[i].id).setSize("height",_3e-(_37+_38+1));for(var l=0;l<_36.length;l++){var tds=_36[l].getElementsByClassName("w2tb_td");$W._G.getComponentById(tds[i].id).setSize("height",_3e-(_37+_38+1));}}}}}else{if(_34=="layout"){var tds=document.getElementById(this.id).getElementsByClassName("w2tb_td");for(var i=0;i<tds.length;i++){var _44=tds[i].getAttribute("data-title");if(_44){var _45=$W._G.getRulerSpan();_45.style["padding"]=window.getComputedStyle(tds[i],":before").getPropertyValue("padding");_45.style["padding-top"]=window.getComputedStyle(tds[i],":before").getPropertyValue("padding-top");_45.style["padding-right"]=window.getComputedStyle(tds[i],":before").getPropertyValue("padding-right");_45.style["padding-bottom"]=window.getComputedStyle(tds[i],":before").getPropertyValue("padding-bottom");_45.style["padding-left"]=window.getComputedStyle(tds[i],":before").getPropertyValue("padding-left");_45.style["width"]=window.getComputedStyle(tds[i],":before").getPropertyValue("width");_45.style["border-width"]=window.getComputedStyle(tds[i],":before").getPropertyValue("border-width");_45.style["line-height"]=window.getComputedStyle(tds[i],":before").getPropertyValue("line-height");_45.style["white-space"]=window.getComputedStyle(tds[i],":before").getPropertyValue("white-space");_45.style["word-wrap"]=window.getComputedStyle(tds[i],":before").getPropertyValue("word-wrap");_45.style["word-break"]=window.getComputedStyle(tds[i],":before").getPropertyValue("word-break");_45.style["font-weight"]=window.getComputedStyle(tds[i],":before").getPropertyValue("font-weight");_45.innerHTML=_44;if(_45.offsetHeight>tds[i].offsetHeight){tds[i].style.height=parseInt(window.getComputedStyle(_45).getPropertyValue("height"),10)+"px";}_45.style.top="-10000px";_45.style.left="-10000px";_45.style.visibility="hidden";}}}}}catch(e){$W.exception.printStackTrace(e);}};$W._a._p.prototype.removeAdaptiveHeight=function(_46){["WebSquare.uiplugin.group.removeAdaptiveHeight"];try{if(_46=="crosstab"){var ths=document.getElementById(this.id).getElementsByClassName("w2tb_th");var tds=document.getElementById(this.id).getElementsByClassName("w2tb_td");for(var i=0;i<ths.length;i++){ths[i].style.removeProperty("height");}for(var k=0;k<tds.length;k++){tds[k].style.removeProperty("height");}}else{if(_46=="layout"){var tds=document.getElementById(this.id).getElementsByClassName("w2tb_td");for(var i=0;i<tds.length;i++){tds[i].style.removeProperty("height");}}}}catch(e){$W.exception.printStackTrace(e);}};$W._a._p.prototype.setAdaptiveLabel=function(_4b){["WebSquare.uiplugin.group.setAdaptiveLabel"];try{if(!($W._G.isIE()&&parseInt($W._N.browserVersion(),10)<10)){var _4c=this.render.nextSibling||this.render.nextElementSibling;if(_4c!=null&&_4c.tagName=="TD"&&_4c.getAttribute("data-title")!=null){_4c.setAttribute("data-title",_4b);this.render.innerHTML=_4b;}}}catch(e){$W.exception.printStackTrace(e);}};$W._a._p.prototype.setReadOnly=function(_4d){["WebSquare.uiplugin.group.removeAttributeNode"];try{this.options.readOnly=_4d;this.invoke("setReadOnly",_4d);}catch(e){$W.exception.printStackTrace(e);}};$W._a._p.prototype._setCaption=function(_4e,_4f,_50){["WebSquare.uiplugin.group._setCaption"];try{var _51=_4e.getElementsByTagName("caption")[0];if(_51&&_51.parentNode==_4e){_51.innerHTML=_4f;}else{_51=document.createElement("caption");_51.innerHTML=_4f;var _52=_4e.getElementsByTagName("colgroup")[0];_52.parentNode.insertBefore(_51,_52);}if(_50){_51.setAttribute("captiontitle",_50);}var _53=_51.className;if(_53&&_53!=""){this.addClass(_51,"setcaption");}else{_51.className="setcaption";}}catch(e){$W.exception.printStackTrace(e);}};$W._a._p.prototype.setCaptionAuto=function(_54){["WebSquare.uiplugin.group.setCaptionAuto"];try{var _55=this.render.getElementsByClassName("w2group w2tb");var _56=_55.length;_55[_56]=this.render;for(var i=0;i<_56+1;i++){var _58=this._getHeaderTitleList(_55[i]);var _59="";if(_54){_59=_54;}else{if(_55[i].caption){_59=_55[i].caption.getAttribute("captionTitle");}}if(_59){this._setCaption(_55[i],_59+$W._m.getMessage("Grid_caption2")+_58+$W._m.getMessage("Grid_caption"),_59);}else{this._setCaption(_55[i],_58+$W._m.getMessage("Grid_caption"));}}}catch(e){$W.exception.printStackTrace(e);}};$W._a._p.prototype._getHeaderTitleList=function(_5a){["WebSquare.uiplugin.group._getHeaderTitleList"];try{var _5b=[];var _5c="";var _5d=[];var _5e=[];var _5f=[];var _60="";var _61=_5a.getElementsByTagName("tbody");var _62=_5a.getElementsByTagName("thead");var _63=0;var _64=0;if(_61.length>1){for(var j=0;j<_61.length;j++){if(_61[j].parentNode==_5a){var _66=_61[j].getElementsByTagName("th");for(var k=0;k<_66.length;k++){if(_66[k].parentNode.parentNode==_61[j]){_5e[_63++]=_66[k];}}}}}else{if(_61[0]){_5e=_61[0].getElementsByTagName("th");}}if(_62.length>1){for(var j=0;j<_62.length;j++){if(_62[j].parentNode==_5a){var _66=_62[j].getElementsByTagName("th");for(var k=0;k<_66.length;k++){if(_66[k].parentNode.parentNode==_62[j]){_5f[_64++]=_66[k];}}}}}else{if(_62[0]){_5f=_62[0].getElementsByTagName("th");}}_5d=_5f;for(var m=0;m<_5d.length;m++){if(_5b.length>0){_60=",";}var _69=_5d[m];if(_69.innerText!=undefined&&_69.innerText!=""){_5b[m]=_69.innerText;}else{if(_69.textContent!=undefined&&_69.textContent!=""){_5b[m]=_69.textContent;}else{_5b[m]=_69.innerHTML;}}_5b[m]=_5b[m].replace(/(<([^>]+)>)/gi,"").trim();if(_5b[m]!=""){_5c=_5c+_60+_5b[m];}}_5d=_5e;for(var m=0;m<_5d.length;m++){if(_5b.length>0){_60=",";}var _69=_5d[m];if(_69.innerText!=undefined&&_69.innerText!=""){_5b[m]=_69.innerText;}else{if(_69.textContent!=undefined&&_69.textContent!=""){_5b[m]=_69.textContent;}else{_5b[m]=_69.innerHTML;}}_5b[m]=_5b[m].replace(/(<([^>]+)>)/gi,"").trim();if(_5b[m]!=""){_5c=_5c+_60+_5b[m];}}return _5c;}catch(e){$W.exception.printStackTrace(e);}};$W._a._p.prototype._setSummary=function(_6a,_6b){["WebSquare.uiplugin.group._setSummary"];try{_6a.setAttribute("summary",_6b);}catch(e){$W.exception.printStackTrace(e);}};$W._a._p.prototype.setSummaryOnlyAuto=function(){["WebSquare.uiplugin.group.setSummaryOnlyAuto"];try{var _6c=this.render.getElementsByClassName("w2group w2tb");var _6d=_6c.length;_6c[_6d]=this.render;for(var i=0;i<_6d+1;i++){var _6f=this._getHeaderTitleList(_6c[i]);this._setSummary(_6c[i],_6f);}}catch(e){$W.exception.printStackTrace(e);}};$W._a._p.prototype.bind=function(_70,_71){["WebSquare.xfControl.bind"];try{$W._t.prototype.bind.call(this,_70,_71);this.setDragDrop();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._p.prototype.setDragDrop=function(){var _72=false;var _73=false;if(this.options.xmlEvents==undefined){return;}for(var i=0;i<this.userEventList.length;i++){var _75=this.userEventList[i];switch(_75.name){case "ondragstart":case "ondrag":case "ondragend":_72=true;break;case "ondragenter":case "ondragover":case "ondragleave":case "ondrop":_73=true;break;}}if(_72&&!this.bindDrag){if($W._G.isMobile()){this.event.addListener(this.render,"ontouchstart",this.event.bindAsEventListener(this,this.handleTouchStart));this.event.addListener(this.render,"ontouchmove",this.event.bindAsEventListener(this,this.handleTouchMove));this.event.addListener(this.render,"ontouchend",this.event.bindAsEventListener(this,this.handleTouchEnd));}else{this.event.addListener(this.render,"onmousedown",this.event.bindAsEventListener(this,this.handleTouchStart));this.event.addListener(document.documentElement,"onmousemove",this.event.bindAsEventListener(this,this.handleTouchMove));this.event.addListener(document.documentElement,"onmouseup",this.event.bindAsEventListener(this,this.handleTouchEnd));}this.bindDrag=true;}if(_73&&!this.bindDrop){$W.dragdrop2["droppable"][this.uuid]={"over":false};this.bindDrop=true;}};$W._a._p.prototype.finalize=function(){this.bindDrag=false;this.bindDrop=false;$W.dragdrop2["droppable"][this.uuid]=null;delete $W.dragdrop2["droppable"][this.uuid];if(this.options&&this.options.udcName){$W._c.fireEvent(this,"ondestroyed");}};$W._a._p.prototype.handleTouchStart=function(e){if(!e.touches||e.touches.length==1){this.setUserData("dragStatus","stop");var _77=$W.getBody();_77.addClass("w2noselect");$W._G.emptySelection();}};$W._a._p.prototype.handleTouchMove=function(e){if(!e.touches||e.touches.length==1){var _79=this.getUserData("dragStatus");if((_79!="stop"&&_79!="move")||!this.getUserData("draggable")){return;}$W._N.setTimer(this._handleTouchMove,{key:this.id+"_handleTouchMove",caller:this,args:[{clientX:e.touches?e.touches[0].pageX:e.clientX,clientY:e.touches?e.touches[0].pageY:e.clientY}],delay:30,max:30});$W._c.preventDefault(e);}};$W._a._p.prototype._handleTouchMove=function(e){var _7b=this.getUserData("dragStatus");if((_7b!="stop"&&_7b!="move")||!this.getUserData("draggable")){return;}var x=e.touches?e.touches[0].pageX:e.clientX;var y=e.touches?e.touches[0].pageY:e.clientY;x+=document.body.scrollLeft;y+=document.body.scrollTop;if(_7b=="stop"){function updatePosition(arr){for(var _7f in arr){if($W.idCache[_7f]==null){continue;}var el=$W.idCache[_7f].render;var top=$W._H.getAbsoluteTop(el);var _82=$W._H.getAbsoluteLeft(el);arr[_7f].position={top:top,left:_82,bottom:top+el.offsetHeight,right:_82+el.offsetWidth};}}updatePosition($W.dragdrop2["droppable"]);updatePosition($W.dragdrop2["scrollable"]);this.setUserData("dragStatus","move");$W._c.fireEvent(this,"ondragstart",x,y);}$W._c.fireEvent(this,"ondrag",x,y);for(var _83 in $W.dragdrop2["scrollable"]){var _84=$W.dragdrop2["scrollable"][_83];var _85=$W.idCache[_83];if(_85==null){continue;}var pos=_84.position;var _87=_85.options.dragScrollSize;var _88,speed;if(pos.left<=x&&x<=pos.right){if(pos.top<=y&&y<=pos.top+_87){_88="up";speed=_85.render.clientHeight*(_87-(y-pos.top))/_87+$W.dragdrop2.scrollByDragSpeed;}else{if(pos.bottom-_87<=y&&y<=pos.bottom){_88="down";speed=_85.render.clientHeight*(_87-(pos.bottom-y))/_87+$W.dragdrop2.scrollByDragSpeed;}}}if(_88==null){_84.scroll=false;$W._N.clearTimer(_85.id+"_setSlideByDrag");$W._N.clearTimer(_85.id+"_slideByDrag");}else{var _89=_84.scroll?50:$W.dragdrop2.scrollByDragDelay;$W._N.setTimer(function(_8a,_8b,_8c){var _8d=$W.idCache[_8c];var _8e=_8d.getScrollTop();var _8f=_8a=="up"?0:_8d.getMaxScrollTop();if(_8e!=_8f){_8d.scroll=true;$W._H.animate(_8d,function(t){var _91=parseInt(_8e+t*(_8f-_8e),10);var _92=_91-this.getScrollTop();this._scrollTo(null,_91);for(var _93 in $W.dragdrop2["droppable"]){var _94=$W.idCache[_93];var _95=false;while(_94=_94.parentControl){if(_94==this){_95=true;break;}}if(_95){$W.dragdrop2["droppable"][_93].position.top-=_92;$W.dragdrop2["droppable"][_93].position.bottom-=_92;}}for(var _96 in $W.dragdrop2["droppable"]){var _97=$W.dragdrop2["droppable"][_96];var pos=_97.position;if($W.idCache[_96]==null){continue;}if(pos.left<=x&&x<=pos.right&&pos.top<=y&&y<=pos.bottom){if(!_97.over){_97.over=true;$W._c.fireEvent($W.idCache[_96],"ondragenter");}_97.drop=$W._c.fireEvent($W.idCache[_96],"ondragover")===false;}else{if(_97.over){_97.over=false;_97.drop=false;$W._c.fireEvent($W.idCache[_96],"ondragleave");}}}},{key:_8d.id+"_slideByDrag",easing:"linear",duration:1000/_8b*Math.abs(_8f-_8e)});}},{key:_85.id+"_setSlideByDrag",delay:_89,args:[_88,speed,_83]});}}for(var _99 in $W.dragdrop2["droppable"]){var _9a=$W.dragdrop2["droppable"][_99];var pos=_9a.position;if($W.idCache[_99]==null){continue;}if(pos.left<=x&&x<=pos.right&&pos.top<=y&&y<=pos.bottom){if(!_9a.over){_9a.over=true;$W._c.fireEvent($W.idCache[_99],"ondragenter");}_9a.drop=$W._c.fireEvent($W.idCache[_99],"ondragover")===false;}else{if(_9a.over){_9a.over=false;_9a.drop=false;$W._c.fireEvent($W.idCache[_99],"ondragleave");}}}};$W._a._p.prototype.handleTouchEnd=function(e){var _9c=this.getUserData("dragStatus","move");var _9d=$W.getBody();_9d.removeClass("w2noselect");var _9e=false;if($W._G.isChrome()||$W._G.isOpera()){var it=this.event.getTargetIterator(e,this.render);if(it.next()){if(it.getElement().tagName=="INPUT"||it.match("w2input_focus")){_9e=true;}}}if(!_9e){$W._G.emptySelection();}if(_9c!="pass"){for(var _a0 in $W.dragdrop2["droppable"]){if($W.dragdrop2["droppable"][_a0].over&&$W.dragdrop2["droppable"][_a0].drop&&$W.idCache[_a0]!=null){$W._c.fireEvent($W.idCache[_a0],"ondrop",this);}$W.dragdrop2["droppable"][_a0].over=false;$W.dragdrop2["droppable"][_a0].drop=false;}$W._c.fireEvent(this,"ondragend");if(this.render){this.setUserData("dragStatus","pass");}for(var _a1 in $W.dragdrop2["scrollable"]){$W.dragdrop2["scrollable"][_a1].scroll=false;$W._N.clearTimer($W.idCache[_a1].id+"_setSlideByDrag");$W._N.clearTimer($W.idCache[_a1].id+"_slideByDrag");}}};;WebSquare.uiplugin.group=$W._a._p;$W._a._e=function(id,_2,_3){["WebSquare.uiplugin.floatingLayer"];$W._t.call(this,id,_2,_3);};$W.extend($W._a._e.prototype,$W._t.prototype);$W._a._e.prototype.defaultOptions={pluginType:"uiplugin.floatingLayer",pluginName:"floatingLayer",parseChild:true,userEvents:["onclose","onlayermove"],useConfig:true,bodyComplex:true,dragAlwaysView:false,title:"",titleClass:"",useResizeDrag:false,modal:false,closeButtonSrc:"",closeButtonClass:"",headerLeftClass:"",headerCenterClass:"",headerRightClass:"",bodyLeftClass:"",bodyCenterClass:"",bodyRightClass:"",bodyLeftBottomClass:"",bodyBottomClass:"",bodyRightBottomClass:"",useModal:false,useAnchor:false,dragAutoPosition:false,movable:true,documentTitle:true};$W._a._e.prototype.initialize=function(_4){["WebSquare.uiplugin.floatingLayer.initialize"];try{}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._e.prototype.toHTML=function(){["WebSquare.uiplugin.floatingLayer.toHTML"];try{var _5=[];var _6=this.options.title?"title='"+this.options.title.wq_replaceAll("'","&#39;")+"'":"";var _7=(this.options.style=="")?"":"style='"+this.options.style+"'";_5.push("<div role='application' id='"+this.id+"' "+_7+" class='w2floatingLayer "+this.options.className+"' tabindex='0' >");_5.push("<table class='w2floatingLayer_table' cellpadding='0' cellspacing='0'>");_5.push("<tr class='w2floatingLayer_dragArea'>");_5.push("<td class='w2floatingLayer_topleft "+this.options.headerLeftClass+"'></td>");_5.push("<td class='w2floatingLayer_topcenter "+this.options.headerCenterClass+"' "+_6+" >");_5.push("<div id='"+this.id+"_titleDiv' class='w2floatingLayer_title "+this.options.titleClass+"' >"+this.options.title+"</div>");_5.push("<div id='"+this.id+"_closeButton' class='w2floatingLayer_close_button "+this.options.closeButtonClass+"' tabindex='0' title='close' ></div>");_5.push("</td>");_5.push("<td class='w2floatingLayer_topright "+this.options.headerRightClass+"'></td>");_5.push("</tr>");if($W._G.getBoolean(this.options.fullContentArea)){_5.push("<tr>");_5.push("<td class='w2floatingLayer_fullContentArea' colSpan=3>");_5.push("<div id='"+this.id+"_contents' class='w2floatingLayer_contents "+this.options.bodyCenterClass+"'>");_5.push("<div id='"+this.id+"_innerLink' class='w2floatingLayer_innerLink' tabIndex='0'>"+this.options.title+"</div>");var _8=this.getChildren();for(var i=0;i<_8.length;i++){_5.push(_8[i].toHTML());}_5.push("</div>");_5.push("</td>");_5.push("</tr>");}else{_5.push("<tr>");_5.push("<td class='w2floatingLayer_dragArea w2floatingLayer_centerleft "+this.options.bodyLeftClass+"'></td>");_5.push("<td class='w2floatingLayer_centercenter'>");_5.push("<div id='"+this.id+"_contents' class='w2floatingLayer_contents "+this.options.bodyCenterClass+"'>");_5.push("<div id='"+this.id+"_innerLink' class='w2floatingLayer_innerLink' tabIndex='0'>"+this.options.title+"</div>");var _8=this.getChildren();for(var i=0;i<_8.length;i++){_5.push(_8[i].toHTML());}_5.push("</div>");_5.push("</td>");_5.push("<td class='w2floatingLayer_dragArea w2floatingLayer_centerright "+this.options.bodyRightClass+"'></td>");_5.push("</tr>");_5.push("<tr class='w2floatingLayer_dragArea'>");_5.push("<td class='w2floatingLayer_bottomleft "+this.options.bodyLeftBottomClass+"'></td>");_5.push("<td class='w2floatingLayer_bottomcenter "+this.options.bodyBottomClass+"'></td>");_5.push("<td class='w2floatingLayer_bottomright "+this.options.bodyRightBottomClass+"'></td>");_5.push("</tr>");}_5.push("</table>");_5.push("</div>");return _5.join("");}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._e.prototype.setAction=function(){["WebSquare.uiplugin.floatingLayer.setAction"];try{this.dom.contents=this.getElementById(this.id+"_contents");this.dom.closeButton=this.getElementById(this.id+"_closeButton");if(this.options.useModal==true){var _a=$W._G.getStyleProperty(this.render,"z-index");if(!$W._G.getStyleProperty(this.render,"z-index")||_a=="auto"){this.render.style["zIndex"]=4500;}}this.resetContentSize();if($W._G.isMobile()){this.event.addListener(this.render,"ontouchstart",this.event.bindAsEventListener(this,this.handleMousedownEvent));}else{this.event.addListener(this.render,"onmousedown",this.event.bindAsEventListener(this,this.handleMousedownEvent));}this.event.addListener(this.render,"onclick",this.event.bindAsEventListener(this,this.handleClickEvent));this.event.addListener(this.render,"onselectstart",this.event.bindAsEventListener(this,this.handleSelectStart));this.event.addListener(this.render,"onkeydown",this.event.bindAsEventListener(this,this.handleKeydownEvent));this.event.addListener(this.render,"onfocus",this.event.bindAsEventListener(this,this.handleFocusEvent));this.event.addListener(this.render,"onblur",this.event.bindAsEventListener(this,this.handleBlurEvent));this.event.addListener(this.render,"onmouseover",this.event.bindAsEventListener(this,this.handleMouseOverEvent));this.event.addListener(this.render,"onmouseout",this.event.bindAsEventListener(this,this.handleMouseOutEvent));}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._e.prototype.handleKeydownEvent=function(e){["WebSquare.uiplugin.floatingLayer.handleKeydownEvent"];try{var _c=(e.charCode)?e.charCode:e.keyCode;if(_c!=13){return;}this.handleClickEvent(e);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._e.prototype.handleFocusEvent=function(e){["WebSquare.uiplugin.floatingLayer.handleFocusEvent"];try{if(!this.dom.titleDiv){this.dom.titleDiv=this.getElementById(this.id+"_titleDiv");}if(this.dom.titleDiv&&this.options.documentTitle){$W.document.title=this.dom.titleDiv.innerHTML;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._e.prototype.handleBlurEvent=function(e){["WebSquare.uiplugin.floatingLayer.handleBlurEvent"];try{$W.document.title=$W.docTitle;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._e.prototype.focus=function(){["WebSquare.uiplugin.floatingLayer.focus"];try{this.render.focus();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._e.prototype.handleClickEvent=function(e){["WebSquare.uiplugin.floatingLayer.handleClickEvent"];try{$W._c.stopPropagation(e);var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match("w2floatingLayer_close_button")){this.hide();$W._c.fireEvent(this,"onclose");}}it=null;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._e.prototype.handleMousedownEvent=function(e){["WebSquare.uiplugin.floatingLayer.handleMousedownEvent"];try{if(!this.options.movable){return;}var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match("w2floatingLayer_dragArea")){var _13=this;$W._K.gDragManager.activate(e,this.render,{id:this.id+"_drag",className:"w2drag_resize",delay:10,mode:"move",makeGhostLayer:function(_14){_14.setSize(_13.render.offsetWidth,_13.render.offsetHeight);var _15=$W._H.getAbsoluteLeft(_13.render);var top=$W._H.getAbsoluteTop(_13.render);_14.setPosition(_15,top);return _14;},handleStart:function(){if(_13.options.useModal==true){$W.getBody().showModal("w2modal_onmove");}},handleFinish:function(x,y,dx,dy){if(_13.options.dragAutoPosition){var _1b=_13.render.offsetLeft;var top=_13.render.offsetTop;var _1d=_13.render.clientWidth;var _1e=_13.render.clientHeight;var _1f=_13.getMaxSize();var _20=_1f.width;var _21=_1f.height;var _22=_1b+dx;var _23=top+dy;if(_1b+dx<0){_22=0;}if(_1b+_1d+dx>_20){if(_1d<=_20){_22=_20-_1d;}else{_22=0;}}if(top+dy<0){_23=0;}if(top+_1e+dy>_21){if(_1e<=_21){_23=_21-_1e;}else{_23=0;}}_13.setPosition(_22,_23);}else{_13.setPosition(x+dx,y+dy);}if(_13.options.useModal==true){$W.getBody().hideModal();}$W._c.fireEvent(_13,"onlayermove",x+dx,y+dy);}});}}it=null;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._e.prototype.handleMouseOverEvent=function(e){["WebSquare.uiplugin.floatingLayer.handleMouseOverEvent"];try{var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match("w2floatingLayer_close_button")){this.addClass(this.dom.closeButton,"w2floatingLayer_close_button_over");}}it=null;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._e.prototype.handleMouseOutEvent=function(e){["WebSquare.uiplugin.floatingLayer.handleMouseOutEvent"];try{var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match("w2floatingLayer_close_button")){this.removeClass(this.dom.closeButton,"w2floatingLayer_close_button_over");}}it=null;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._e.prototype.handleSelectStart=function(e){["WebSquare.uiplugin.floatingLayer.handleSelectStart"];try{var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match("w2floatingLayer_dragArea")){$W._c.stopEvent(e);}}it=null;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._e.prototype.setSize=function(_2a,_2b){["WebSquare.uiplugin.floatingLayer.setSize"];try{if(!this.render){return;}_2a=parseInt(_2a);_2b=parseInt(_2b);if(_2a!=null&&!isNaN(_2a)&&_2a>=0){this.render.style.width=_2a+"px";}if(_2b!=null&&!isNaN(_2b)&&_2b>=0){this.render.style.height=_2b+"px";this.resetContentSize();}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._e.prototype.resetContentSize=function(){["WebSquare.uiplugin.floatingLayer.resetContentSize"];try{var _2c=$W._G.getStyleProperty(this.render,"height");_2c=parseInt(_2c,10);if(isNaN(_2c)){var _2d=this.getSize("height")-42;if(typeof _2d=="number"&&_2d>0){this.dom.contents.style.height=(this.getSize("height")-42)+"px";}else{this.dom.contents.style.height="";}}else{this.dom.contents.style.height=(_2c-42)+"px";}if(this.options.fullContentArea){this.dom.contents.style.width=this.render.style.width;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._e.prototype.setTitle=function(_2e){["WebSquare.uiplugin.floatingLayer.setTitle"];try{if(!this.dom.titleDiv){this.dom.titleDiv=this.getElementById(this.id+"_titleDiv");}this.dom.titleDiv.innerHTML=_2e;this.dom.titleDiv.parentNode.setAttribute("title",_2e.wq_replaceAll("'","&#39;"));}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._e.prototype.showModal=function(){$W.getBody().showModal("w2modal_floatingLayer");};$W._a._e.prototype.hideModal=function(){$W.getBody().hideModal();};$W._a._e.prototype.show=function(_2f){$W._n.prototype.show.call(this,_2f);if(this.options.useModal==true){this.showModal();}if(this.options.useAnchor){var _30=this.id+"_innerLink";var _31=this.getElementById(_30);_31.setAttribute("name",_30+"_name");var _32=document.createElement("a");document.body.appendChild(_32);_32.setAttribute("href","#"+_30+"_name");_32.click();document.body.removeChild(_32);_32=null;}};$W._a._e.prototype.hide=function(){$W._n.prototype.hide.apply(this);if(this.options.useModal==true){this.hideModal();}if(this.options.useAnchor&&this.backlink){var _33=$W._G.getComponentById(this.backlink);_33.render.setAttribute("name",_33.id+"_backlink");var _34=document.createElement("a");document.body.appendChild(_34);_34.setAttribute("href","#"+_33.id+"_backlink");_34.click();document.body.removeChild(_34);}};$W._a._e.prototype.setBackLink=function(obj){if(typeof obj=="string"){this.backlink=obj;}else{if(obj&&typeof obj.id=="string"){this.backlink=obj.id;}}};$W._a._e.prototype.getMaxSize=function(){["WebSquare.uiplugin.floatingLayer.prototype.getMaxSize"];var _36;var _37;var _38=this.parentControl;while(_38!=undefined&&_38.render==null){_38=_38.parentControl;}if(_38){_36=$W._H.getSize(_38.render,"width");_37=$W._H.getSize(_38.render,"height");}else{_36=this.options.width;_37=this.options.height;}if(this.render){var _39=parseInt($W._G.getStyleProperty(this.render,"border-left-width"),10)||0;var _3a=parseInt($W._G.getStyleProperty(this.render,"border-right-width"),10)||0;var _3b=parseInt($W._G.getStyleProperty(this.render,"padding-left"),10)||0;var _3c=parseInt($W._G.getStyleProperty(this.render,"padding-right"),10)||0;_36=_36-_39-_3a-_3b-_3c;var _3d=parseInt($W._G.getStyleProperty(this.render,"border-top-width"),10)||0;var _3e=parseInt($W._G.getStyleProperty(this.render,"border-bottom-width"),10)||0;var _3f=parseInt($W._G.getStyleProperty(this.render,"padding-top"),10)||0;var _40=parseInt($W._G.getStyleProperty(this.render,"padding-bottom"),10)||0;_37=_37-_3d-_3e-_3f-_40;}return {"width":_36,"height":_37};};;WebSquare.uiplugin.floatingLayer=$W._a._e;$W._a._D=function(_1){["WebSquare.uiplugin.dateHelper"];this.displayFormat="yyyyMMdd";this.dayStrArr=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"];this.monthDays=[31,28,31,30,31,30,31,31,30,31,30,31];this.year=null;this.month=null;this.date=null;this.day=null;this.hour=null;this.minute=null;this.second=null;this.setToday(_1);};$W._a._D.prototype.setToday=function(_2){["WebSquare.uiplugin.dateHelper.setToday"];if(_2&&_2==true){var _3=this.getServerDate();if(!_3||_3===""){var _4=new Date();}else{var _5="";var _6="";var _7="";if(_3&&_3.length==8){_5=_3.substr(0,4);_6=_3.substr(4,2);_7=_3.substr(6,2);}var _4=new Date(parseInt(_5),parseInt(_6,10)-1,parseInt(_7,10));}}else{var _4=new Date();}this.year=_4.getFullYear();this.month=_4.getMonth()+1;this.date=_4.getDate();this.hour=_4.getHours();this.minute=_4.getMinutes();this.second=_4.getSeconds();};$W._a._D.prototype.setYear=function(_8){["WebSquare.uiplugin.dateHelper.setYear"];this.year=parseInt(_8);};$W._a._D.prototype.setMonth=function(_9){["WebSquare.uiplugin.dateHelper.setMonth"];this.month=parseInt(_9);};$W._a._D.prototype.setDate=function(_a){["WebSquare.uiplugin.dateHelper.setDate"];this.date=parseInt(_a);};$W._a._D.prototype.setDateAll=function(_b,_c,_d,_e,_f,_10){["WebSquare.uiplugin.dateHelper.setDateAll"];if(!_b||!_c){return;}if(_e){_f=!!(_f)?_f:0;var _11=new Date(parseInt(_b),parseInt(_c)-1,parseInt(_d),parseInt(_e),parseInt(_f));this.year=_11.getFullYear();this.month=_11.getMonth()+1;this.date=_11.getDate();this.hour=_11.getHours();this.minute=_11.getMinutes();if(_10){_11=new Date(parseInt(_b),parseInt(_c)-1,parseInt(_d),parseInt(_e),parseInt(_f),parseInt(_10));this.year=_11.getFullYear();this.month=_11.getMonth()+1;this.date=_11.getDate();this.hour=_11.getHours();this.minute=_11.getMinutes();this.second=_11.getSeconds();}}else{if(_d){var _11=new Date(parseInt(_b),parseInt(_c)-1,parseInt(_d));this.year=_11.getFullYear();this.month=_11.getMonth()+1;this.date=_11.getDate();}else{var _11=new Date(parseInt(_b),parseInt(_c)-1);this.year=_11.getFullYear();this.month=_11.getMonth()+1;}}};$W._a._D.prototype.setDateAllByString=function(_12){["WebSquare.uiplugin.dateHelper.setDateAllByString"];if(_12&&_12.length==8){var _13=_12.substr(0,4);var _14=_12.substr(4,2);if(_14.charAt(0)=="0"){_14=_14.charAt(1);}var _15=_12.substr(6,2);if(_15.charAt(0)=="0"){_15=_15.charAt(1);}this.setDateAll(_13,_14,_15);}else{if(_12&&_12.length==12){var _13=_12.substr(0,4);var _14=_12.substr(4,2);if(_14.charAt(0)=="0"){_14=_14.charAt(1);}var _15=_12.substr(6,2);if(_15.charAt(0)=="0"){_15=_15.charAt(1);}var _16=_12.substr(8,2);if(_16.charAt(0)=="0"){_16=_16.charAt(1);}var _17=_12.substr(10,2);if(_17.charAt(0)=="0"){_17=_17.charAt(1);}this.setDateAll(_13,_14,_15,_16,_17);}else{if(_12&&_12.length==6){var _13=_12.substr(0,4);var _14=_12.substr(4,2);if(_14.charAt(0)=="0"){_14=_14.charAt(1);}this.setDateAll(_13,_14);}else{if(_12&&_12.length==14){var _13=_12.substr(0,4);var _14=_12.substr(4,2);if(_14.charAt(0)=="0"){_14=_14.charAt(1);}var _15=_12.substr(6,2);if(_15.charAt(0)=="0"){_15=_15.charAt(1);}var _16=_12.substr(8,2);if(_16.charAt(0)=="0"){_16=_16.charAt(1);}var _17=_12.substr(10,2);if(_17.charAt(0)=="0"){_17=_17.charAt(1);}var _18=_12.substr(12,2);if(_18.charAt(0)=="0"){_18=_18.charAt(1);}this.setDateAll(_13,_14,_15,_16,_17,_18);}}}}};$W._a._D.prototype.getYear=function(){["WebSquare.uiplugin.dateHelper.getYear"];return this.year;};$W._a._D.prototype.getMonth=function(){["WebSquare.uiplugin.dateHelper.getMonth"];return this.month;};$W._a._D.prototype.getDate=function(){["WebSquare.uiplugin.dateHelper.getDate"];return this.date;};$W._a._D.prototype.getHour=function(){["WebSquare.uiplugin.dateHelper.getDate"];return this.hour;};$W._a._D.prototype.getMinute=function(){["WebSquare.uiplugin.dateHelper.getDate"];return this.minute;};$W._a._D.prototype.getSecond=function(){["WebSquare.uiplugin.dateHelper.getDate"];return this.second;};$W._a._D.prototype.getDateAll=function(){["WebSquare.uiplugin.dateHelper.getDateAll"];var _19=this.year+"";var _1a=this.month+"";var _1b=this.date+"";if(_1a.length==1){_1a="0"+_1a;}if(_1b.length==1){_1b="0"+_1b;}var _1c=_19+_1a+_1b;return _1c;};$W._a._D.prototype.getFormatDateAll=function(_1d){["WebSquare.uiplugin.dateHelper.getDateAll"];var _1e="";if(_1d&&_1d!=""){_1e=_1d;}else{_1e=this.displayFormat;}var _1f=this.getDateAll();_1f=$W._A.formatDate(_1f,_1e);return _1f;};$W._a._D.prototype.getDay=function(){["WebSquare.uiplugin.dateHelper.getDay"];var _20=new Date(parseInt(this.year),parseInt(this.month)-1,parseInt(this.date));this.day=_20.getDay();return this.day;};$W._a._D.prototype.getDayStr=function(day,_22){["WebSquare.uiplugin.dateHelper.getDayStr"];_22=_22||this.dayStrArr;if(_22[day]){return _22[day];}else{return "";}};$W._a._D.prototype.getMonthCount=function(_23,_24){["WebSquare.uiplugin.dateHelper.getMonthCount"];var _23=_23||this.getYear();var _24=_24||this.getMonth();this.setLeapYear(_23);return this.monthDays[_24-1];};$W._a._D.prototype.getFirstDay=function(){["WebSquare.uiplugin.dateHelper.getFirstDay"];var _25=new $W._a._D();_25.setDateAll(this.getYear(),this.getMonth(),1);var _26=_25.getDay();return _26;};$W._a._D.prototype.getFirstDayStr=function(_27){["WebSquare.uiplugin.dateHelper.getFirstDay"];var _28=new $W._a._D();_28.setDateAll(this.getYear(),this.getMonth(),1);var _29=_28.getDayStr(_27);return _29;};$W._a._D.prototype.setLeapYear=function(_2a){["WebSquare.uiplugin.dateHelper.setLeapYear"];this.monthDays[1]=(((!(_2a%4))&&(_2a%100))||!(_2a%400))?29:28;};$W._a._D.prototype.getLeapYear=function(_2b){["WebSquare.uiplugin.dateHelper.setLeapYear"];return (((!(_2b%4))&&(_2b%100))||!(_2b%400));};$W._a._D.prototype.equals=function(_2c){["WebSquare.uiplugin.dateHelper.equals"];if(this.getYear()==_2c.getYear()&&this.getMonth()==_2c.getMonth()&&this.getDate()==_2c.getDate()){return true;}return false;};$W._a._D.prototype.setNextYear=function(){["WebSquare.uiplugin.dateHelper.setNextYear"];var _2d=this.getYear();this.setYear(_2d+1);this._checkValidDate();};$W._a._D.prototype.setLastYear=function(){["WebSquare.uiplugin.dateHelper.setLastYear"];var _2e=this.getYear();this.setYear(_2e-1);this._checkValidDate();};$W._a._D.prototype.setNextMonth=function(){["WebSquare.uiplugin.dateHelper.setNextMonth"];var _2f=this.getYear();var _30=this.getMonth();if(_30<12){this.setMonth(_30+1);}else{this.setYear(_2f+1);this.setMonth(1);}this._checkValidDate();};$W._a._D.prototype.setLastMonth=function(){["WebSquare.uiplugin.dateHelper.setLastMonth"];var _31=this.getYear();var _32=this.getMonth();if(_32>1){this.setMonth(_32-1);}else{this.setYear(_31-1);this.setMonth(12);}this._checkValidDate();};$W._a._D.prototype._checkValidDate=function(){["WebSquare.uiplugin.dateHelper._checkValidDate"];var _33=this.getDate();var _34=this.getMonthCount();if(_33>_34){this.setDate(_34);}};$W._a._D.prototype.getServerDate=function(_35){["WebSquare.uiplugin.dateHelper.getServerDate"];if(!_35){_35="";}var _36=$W._N.getXMLHTTPObject();_36.open("POST",$W.baseURI+"engine/system/getServerTime.jsp?pattern="+_35+"&idx="+(new Date()).getTime()+Math.random()*10000,false);_36.send(null);var _37=_36.responseText.trim();_36=null;return _37;};;WebSquare.uiplugin.dateHelper=$W._a._D;requires("uiplugin/control/historyManager.js");$W._a.aW=function(id,_2,_3){["WebSquare.uiplugin.basicInput"];$W._t.call(this,id,_2,_3);};$W.extend($W._a.aW.prototype,$W._t.prototype);$W._a.aW.prototype.defaultOptions={pluginType:"uiplugin.input",pluginName:"input",userEvents:["onfocus","onblur","onbeforeedit","oneditend","onafteredit"],useConfig:true,valueType:"",type:"text",editType:"",dataType:"text",ioFormat:"",ioFormatter:"",displayFormat:"",displayFormatter:"",formatArray:"",applyFormat:"display",dateMask:"",timeMask:"",numberMask:"",euroMask:"",rupeeMask:"",tengeMask:"",mandatory:false,maxlength:-1,minlength:-1,allowChar:"",ignoreChar:"",characterCase:"",maxByteLength:-1,minByteLength:-1,validator:"",invalidMessage:"",invalidMessageFunc:"",displaymessage:false,onFocusStyle:"",onFocusClass:"w2input_focus",readOnlyClass:"w2input_readonly",initValue:"",title:"",useKeyupBlur:true,preventCopyPaste:false,delimeter:"",decimalDelimeter:""};$W._a.aW.prototype.initialize=function(_4){["WebSquare.uiplugin.basicInput.initialize"];try{this.basicInputEvented=false;this.originalStyleObj=null;this.focusStyleObj=null;this.focusedSizeFlag=false;var _5=this.options["onFocusStyle"];if(_5!=""){var _6="w2input_userfocus";var _7="#"+this.id+"."+_6;$W.cssManager.addConvertedCSS(_7,_5);this.options["onFocusStyle"]="";this.options["onFocusClass"]=_6;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aW.htmlStr=["<input id='",,"'",," class='w2input ",,"'",,"",,"/>"];$W._a.aW.prototype.toHTML=function(){["WebSquare.uiplugin.basicInput.toHTML"];try{var _8=$W._a.aW.htmlStr;_8[1]=this.id;_8[3]=(this.options.style=="")?"":" style='"+this.options.style+"'";_8[5]=this.options.className+(this.options.readOnly?(" "+this.options.readOnlyClass):"");_8[7]=(this.options.type=="")?"":" type='"+this.options.type+"'";_8[9]=(this.options.title=="")?"":" title='"+this.options.title+"'";_8[9]+=(this.options.name=="")?"":" name='"+this.options.name+"'";return _8.join("");}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aW.prototype.setAction=function(){["WebSquare.uiplugin.basicInput.setAction"];try{this.setVerticalAlign();if(this.modelControl.isBinded()){var _9=this.modelControl.getData();this.setValueNM(_9);}this.event.addListener(this.render,"onfocus",this.event.bindAsEventListener(this,this.handleFocusEventBasic));if(this.getReadOnly()==true){this.basicInputEvented=true;this.event.addListener(this.render,"onblur",this.event.bindAsEventListener(this,this.handleBlurEventBasic));}if(this.options.mandatory){this.onPropertyChange("mandatory",$W._G.getBoolean(this.options.mandatory));}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aW.prototype.refresh=function(){["WebSquare.uiplugin.input.refresh"];try{if(this.modelControl.isBinded()){var _a=this.getValue();var _b=this.modelControl.getData();this.setValueNM(_b);if(_a!=this.getValue()){$W._c.fireEvent(this,"onchange");}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aW.prototype.setValue=function(_c){["WebSquare.uiplugin.input.setValue"];try{if($W._G.isNull(_c)){return;}var _d=this.getValue();this.setValueNM(_c);this.modelControl.setData(_c);if(_d!=this.getValue()){$W._c.fireEvent(this,"onchange");}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aW.prototype.setValueNM=function(_e){["WebSquare.uiplugin.input.setValueNM"];try{if($W._G.isNull(_e)){return;}_e=_e.toString();this.render.value=_e;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aW.prototype.getValue=function(){["WebSquare.uiplugin.input.getValue"];try{return this.render.value;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aW.prototype.setFocusSize=function(_f){["WebSquare.uiplugin.input.setFocusSize"];try{if(this.getStyle("height").indexOf("%")==-1&&this.getStyle("width").indexOf("%")==-1){var _10=parseInt(this.getStyle("height"));var _11=parseInt(this.getStyle("width"));var _12=(this.focusStyleObj.paddingLeft+this.focusStyleObj.paddingRight+this.focusStyleObj.borderLeftWidth+this.focusStyleObj.borderRightWidth)-(this.originalStyleObj.paddingLeft+this.originalStyleObj.paddingRight+this.originalStyleObj.borderLeftWidth+this.originalStyleObj.borderRightWidth);var _13=(this.focusStyleObj.paddingTop+this.focusStyleObj.paddingBottom+this.focusStyleObj.borderTopWidth+this.focusStyleObj.borderBottomWidth)-(this.originalStyleObj.paddingTop+this.originalStyleObj.paddingBottom+this.originalStyleObj.borderTopWidth+this.originalStyleObj.borderBottomWidth);if(_f==true&&this.focusedSizeFlag==false){this.setStyle("height",(_10-_13)+"px");this.setStyle("width",(_11-_12)+"px");this.focusedSizeFlag=true;}else{if(_f==false&&this.focusedSizeFlag==true){this.setStyle("height",(_10+_13)+"px");this.setStyle("width",(_11+_12)+"px");this.focusedSizeFlag=false;}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aW.prototype.setVerticalAlign=function(){["WebSquare.uiplugin.input.setVerticalAlign"];try{if($W._G.isIE()){var _14=this.getSize("height")||parseInt(this.getStyle("height"));if(!isNaN(_14)){this.setStyle("lineHeight",_14+"px");}}else{if($W._G.isFF()){var _14=parseInt(this.getStyle("height"))||0;var _15=parseInt(this.getStyle("padding-top"))||0;var _16=parseInt(this.getStyle("font-size"))||0;var _17=Math.floor((_14-2-_16)/2);if(_17>0&&(_14-_17)>0){this.setStyle("paddingTop",_17+_15+"px");this.setStyle("height",(_14-_17)+"px");}}else{}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aW.prototype.onPropertyChange=function(_18,_19){["WebSquare.uiplugin.input.onPropertyChange"];try{switch(_18){case "disabled":break;case "readOnly":if(_19==true){this.addClass(this.render,this.options.readOnlyClass);}else{this.removeClass(this.render,this.options.readOnlyClass);}break;case "mandatory":if(_19==true){this.addClass(this.render,"w2input_mandatory");}else{this.removeClass(this.render,"w2input_mandatory");}break;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aW.prototype.handleFocusEventBasic=function(e){["WebSquare.uiplugin.input.handleFocusEventBasic"];try{$W._c.fireEvent(this,"onbeforeedit");if(this.basicInputEvented==false){this.basicInputEvented=true;this.event.addListener(this.render,"onblur",this.event.bindAsEventListener(this,this.handleBlurEventBasic));}var _1b=this;$W.historyManager.set(this.options.pluginName,this.id,{value:this.getValue()},{onRestore:function(_1c){_1b.setValue(_1c.value);}});if(!this.originalStyleObj){this.originalStyleObj={paddingTop:parseInt(this.getStyle("padding-top"))||0,paddingBottom:parseInt(this.getStyle("padding-bottom"))||0,paddingLeft:parseInt(this.getStyle("padding-left"))||0,paddingRight:parseInt(this.getStyle("padding-right"))||0,borderTopWidth:parseInt(this.getStyle("border-top-width"))||0,borderBottomWidth:parseInt(this.getStyle("border-bottom-width"))||0,borderLeftWidth:parseInt(this.getStyle("border-left-width"))||0,borderRightWidth:parseInt(this.getStyle("border-right-width"))||0};}this.addClass(this.render,this.options.onFocusClass);if(!this.focusStyleObj){this.focusStyleObj={paddingTop:parseInt(this.getStyle("padding-top"))||0,paddingBottom:parseInt(this.getStyle("padding-bottom"))||0,paddingLeft:parseInt(this.getStyle("padding-left"))||0,paddingRight:parseInt(this.getStyle("padding-right"))||0,borderTopWidth:parseInt(this.getStyle("border-top-width"))||0,borderBottomWidth:parseInt(this.getStyle("border-bottom-width"))||0,borderLeftWidth:parseInt(this.getStyle("border-left-width"))||0,borderRightWidth:parseInt(this.getStyle("border-right-width"))||0};}if(this.options.editType=="select"){this.render.select();}this.setFocusSize(true);$W._c.fireEvent(this,"onfocus",e);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aW.prototype.handleBlurEventBasic=function(e){["WebSquare.uiplugin.input.handleBlurEventBasic"];try{$W._c.fireEvent(this,"oneditend");this.setFocusSize(false);this.removeClass(this.render,this.options.onFocusClass);this.setValue(this.getValue());var _1e=$W.historyManager.get(this.options.pluginName,this.id);if(_1e.value!=this.getValue()){$W._c.fireEvent(this,"onchange");}$W._c.fireEvent(this,"onblur",e);$W._c.fireEvent(this,"onafteredit");}catch(e){$W.exception.printStackTrace(e,null,this);}};;WebSquare.uiplugin.basicInput=$W._a.aW;requires("engine/validator.js");requires("engine/formatter.js");requires("uiplugin/control/cssCustomizer.js");requires("uiplugin/control/historyManager.js");$W._a.aG=function(id,_2,_3){["WebSquare.uiplugin.input"];$W._t.call(this,id,_2,_3);};$W.extend($W._a.aG.prototype,$W._t.prototype);$W.extend($W._a.aG.prototype,$W.IValidate.prototype);$W.extend($W._a.aG.prototype,$W.cssCustomizer.prototype);$W._a.aG.prototype.defaultOptions={pluginType:"uiplugin.input",pluginName:"input",parseAttributes:true,userEvents:["onfocus","onblur","onbeforeedit","oneditend","onafteredit","onchange","onviewchange"],systemEvents:["onclick","ondblclick","onkeydown","onkeyup","onkeypress","onmouseup","onmousedown","onmouseover","onmouseout","onmousemove"],useConfig:true,valueType:"",type:"text",editType:"",dataType:"text",ioFormat:"",ioFormatter:"",displayFormat:"",displayFormatter:"",formatArray:"",applyFormat:"display",dateMask:"",timeMask:"",numberMask:"",euroMask:"",rupeeMask:"",tengeMask:"",copyOnReadOnly:"",mandatory:false,maxlength:-1,minlength:-1,allowChar:"",ignoreChar:"",byteCheckIgnoreChar:"",byteCheckIgnoreCharType:"",characterCase:"",maxByteLength:-1,minByteLength:-1,validateOnCheckMaxByteLength:false,validator:"",invalidMessage:"",invalidMessageFunc:"",displaymessage:false,onFocusStyle:"",onFocusClass:"w2input_focus",readOnlyClass:"w2input_readonly",initValue:"",title:"",name:"",useKeyupBlur:true,preventCopyPaste:false,delimeter:"",decimalDelimeter:"",focusCalcSize:true,enterBlur:true,placeholder:"",autocomplete:"",useVerticalAlign:true,autocorrect:"",autoCapitalize:"off",imeMode:"",showPlaceHolderOnReadOnly:false};$W._a.aG.prototype.initialize=function(_4){["WebSquare.uiplugin.input"];try{this.originalStyleObj=null;this.focusStyleObj=null;this.focusedSizeFlag=false;this.realValue="";this.supportPlaceholder=false;this.supportAutocomplete=false;this._focusStatus="init";this._getFocused=false;this._changeApplyFormat=false;var _5=this.options.dataType;if(this.options.applyFormat=="all"&&this.options.displayFormatter==""&&!(_5==="bigDecimal"||_5==="number"||_5==="euro"||_5==="rupee"||_5==="tenge")){this._changeApplyFormat=true;this.options.applyFormat="display";}var _6=this.options["onFocusStyle"];if(_6!=""){var _7="w2input_userfocus";var _8="#"+this.id+"."+_7;$W.cssManager.addConvertedCSS(_8,_6);this.options["onFocusStyle"]="";this.options["onFocusClass"]=_7;}if(this.options.displayFormat==""){switch(this.options.dataType){case "date":this.options.displayFormat=this.options.dateMask;break;case "time":this.options.displayFormat=this.options.timeMask;break;case "bigDecimal":case "number":this.options.displayFormat=this.options.numberMask;if(!this.options.delimeter){this.options.delimeter=",";}if(!this.options.decimalDelimeter){this.options.decimalDelimeter=".";}break;case "euro":this.options.displayFormat=this.options.euroMask;if(!this.options.delimeter){this.options.delimeter=".";}if(!this.options.decimalDelimeter){this.options.decimalDelimeter=",";}break;case "rupee":this.options.displayFormat=this.options.rupeeMask;if(!this.options.delimeter){this.options.delimeter=",";}if(!this.options.decimalDelimeter){this.options.decimalDelimeter=".";}break;case "tenge":this.options.displayFormat=this.options.tengeMask;if(!this.options.delimeter){this.options.delimeter=" ";}if(!this.options.decimalDelimeter){this.options.decimalDelimeter="-";}break;}}if(this.options.byteCheckIgnoreChar!==""&&this.options.byteCheckIgnoreCharType!==""){var _9=this.options.byteCheckIgnoreCharType.split(",");var _a=false;for(var i=0;i<_9.length;i++){if(_9[i].wq_trim()==this.options.dataType){_a=true;}}if(!_a){this.options.byteCheckIgnoreChar="";}}var _c=this.options.dataType;if(_c=="bigDecimal"){_c="number";}this.formatter=$W._C.createFormatter(_c,this.options.displayFormat,this.options.displayFormatter,this.options.ioFormat,this.options.delimeter,this.options.decimalDelimeter,this.scope_id);this.validator=new $W._p.validateInvoker(this.id,this.options);switch(this.options.dataType){case "date":break;case "time":break;case "bigDecimal":case "number":if(this.options.displayFormat==""){this.validator.addCommand(new $W._p.allowCharCommand("+\\-.0-9"));}else{this.validator.addCommand(new $W._p.numberCommand());this.validator.addCommand(new $W._p.digitCommand(this.options.delimeter,this.options.decimalDelimeter),true);}break;case "euro":this.validator.addCommand(new $W._p.euroCommand(this.options.delimeter,this.options.decimalDelimeter));break;case "rupee":this.validator.addCommand(new $W._p.rupeeCommand(this.options.delimeter,this.options.decimalDelimeter));break;case "tenge":this.validator.addCommand(new $W._p.tengeCommand(this.options.delimeter,this.options.decimalDelimeter));break;}this.inputEvented=false;if(this.options.placeholder){if($W._a.aG.placeholder){this.supportPlaceholder=true;}}if(this.options.autocomplete){if($W._a.aG.autocomplete){this.supportAutocomplete=true;}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aG.htmlStr=["<input id='",,"'",," class='w2input ",,"'",,"",," />"];$W._a.aG.placeholder=(function(){var _d=document.createElement("input");return typeof _d.placeholder=="string";})();$W._a.aG.autocomplete=(function(){var _e=document.createElement("input");return typeof _e.autocomplete=="string";})();$W._a.aG.prototype.toHTML=function(){["WebSquare.uiplugin.input.toHTML"];try{var _f=$W._a.aG.htmlStr;var _10="";if(this.options.imeMode=="auto"){_10="ime-mode:auto;";}else{if(this.options.imeMode=="inactive"){_10="ime-mode:inactive;";}else{if(this.options.imeMode=="active"){_10="ime-mode:active;";}else{if(this.options.imeMode=="disabled"){_10="ime-mode:disabled;";}}}}_f[1]=this.id;_f[3]=(this.options.style=="")?"":" style='"+this.options.style+_10+"'"+"";_f[5]=this.options.className+(this.options.readOnly?(" "+this.options.readOnlyClass):"");_f[7]=(this.options.type=="")?"":" type='"+this.options.type+"'";_f[9]=(this.options.title=="")?"":" title='"+this.options.title+"'";_f[9]+=(this.options.name=="")?"":" name='"+this.options.name+"'";_f[9]+=(this.options.maxlength>=0)?" maxLength='"+this.options.maxlength+"'":"";_f[9]+=(this.supportPlaceholder=="")?"":" placeholder='"+this.options.placeholder+"'";_f[9]+=(this.supportAutocomplete==""||this.options.autocomplete=="")?"":" autocomplete='"+this.options.autocomplete+"'";_f[9]+=($W.hybridApp==false||this.options.autocorrect=="")?"":" autocorrect='"+this.options.autocorrect+"'";_f[9]+=($W.hybridApp==false)?"":" autoCapitalize='"+this.options.autoCapitalize+"'";_f[9]+=this.getAttributesString();_f[9]+=(this.options.imeMode=="")?"":" imeMode='"+this.options.imeMode+"'";return _f.join("");}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aG.prototype.setAction=function(){["WebSquare.uiplugin.input.setAction"];try{if(this.options.useVerticalAlign){this.setVerticalAlign();}if(this.options.initValue){this.setValue(this.options.initValue);}if(this.modelControl.isBinded()){var _11=this.modelControl.getData();this.setValueNM(_11);}if(this.options.placeholder&&!this.supportPlaceholder){if(this.realValue.length==0){this.render.value=this.options.placeholder;this.addClass("w2input_placeholder");}}var _12=this;this.addEvent("oneditend",function(){var _13="";if(_12.options.dataType=="number"){var _14=_12.render.value.wq_trim();if(_14==="."||_14==="-"||_14==="+"){_12.render.value="";}}if(_12.options.applyFormat=="all"){_13=_12.getValue();}else{_13=_12.render.value;}_13=_12.validator.validateString(_13);if(_12.options.placeholder&&!this.supportPlaceholder){if(_12.realValue.length==0&&this.render.className.match("w2input_placeholder")){return;}}_12.setValueNM(_13,true);});if($W._G.isIEAllVersion()||$W._G.isSpartan()){this.event.addListener(this.render,"onfocusin",this.event.bindAsEventListener(this,this.handleFocusinEvent));this.event.addListener(this.render,"onbeforeeditfocus",this.event.bindAsEventListener(this,this.handleBeforeFocusEvent));}this.event.addListener(this.render,"onfocus",this.event.bindAsEventListener(this,this.handleFocusValueEventAdv));if($W._G.isChrome()||$W._G.isSafari()){this.event.addListener(this.render,"onmouseup",this.event.bindAsEventListener(this,this.handleSelectAfter));}if(this.getReadOnly()==true){this.inputEvented=true;this.event.addListener(this.render,"onblur",this.event.bindAsEventListener(this,this.handleBlurEventBasic));this.event.addListener(this.render,"onkeyup",this.event.bindAsEventListener(this,this.handleKeyupEvent));this.event.addListener(this.render,"onkeypress",this.event.bindAsEventListener(this,this.handleKeypressEvent));this.event.addListener(this.render,"onkeydown",this.event.bindAsEventListener(this,this.handleKeydownEvent));if($W._N.browserCheck.android&&$W._N.browserVersion()>=5){this.event.addListener(this.render,"oninput",this.event.bindAsEventListener(this,this.handleInputEvent));}if($W._G.isFF()){this.event.addListener(this.render,"oninput",this.event.bindAsEventListener(this,this.checkMaxByteLength));}if(this.options.dataType=="number"){this.setStyle("imeMode","disabled");}}if(this.options.preventCopyPaste){this.inputEvented=true;this.event.addListener(this.render,"onblur",this.event.bindAsEventListener(this,this.handleBlurEventBasic));if($W._G.isOpera()){this.event.addListener(this.render,"onmousedown",this.event.bindAsEventListener(this,function(e){$W._c.stopEvent(e);this.focus();}));this.event.addListener(this.render,"onkeydown",this.event.bindAsEventListener(this,function(e){if(e.ctrlKey){if(e.keyCode===88||e.keyCode===67||e.keyCode===86){$W._c.stopEvent(e);}}}));}this.setStyle("MozUserSelect","none");this.event.addListener(this.render,"ondragstart",this.event.bindAsEventListener(this,function(e){$W._c.stopEvent(e);}));this.event.addListener(this.render,"ondragover",this.event.bindAsEventListener(this,function(e){$W._c.stopEvent(e);}));this.event.addListener(this.render,"ondrop",this.event.bindAsEventListener(this,function(e){$W._c.stopEvent(e);}));this.event.addListener(this.render,"oncopy",this.event.bindAsEventListener(this,function(e){$W._c.stopEvent(e);}));this.event.addListener(this.render,"oncut",this.event.bindAsEventListener(this,function(e){$W._c.stopEvent(e);}));this.event.addListener(this.render,"onpaste",this.event.bindAsEventListener(this,function(e){$W._c.stopEvent(e);}));this.event.addListener(this.render,"oncontextmenu",this.event.bindAsEventListener(this,function(e){$W._c.stopEvent(e);}));}else{if(this.options.copyOnReadOnly=="noFormat"){if($W._G.isIEAllVersion()){this.event.addListener(this.render,"oncopy",this.event.bindAsEventListener(this,function(e){if(this.options.readOnly&&this.options.copyOnReadOnly=="noFormat"){$W._c.preventDefault(e);}}));this.event.addListener(this.render,"onkeydown",this.event.bindAsEventListener(this,function(e){if(e.keyCode==67&&(e.ctrlKey||e.metaKey)){this.handleCopyEvent({});}}));}else{this.event.addListener(this.render,"oncopy",this.event.bindAsEventListener(this,this.handleCopyEvent));}}}if(this.options.maxlength>=0){this.render.maxLength=this.options.maxlength;}if(this.options.mandatory){this.onPropertyChange("mandatory",$W._G.getBoolean(this.options.mandatory));}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aG.prototype.refresh=function(){["WebSquare.uiplugin.input.refresh"];try{if(this.modelControl.isBinded()&&!this.noRefresh){var _20=this.getValue();var _21=this.modelControl.getData();this.setValueNM(_21);if(_20!=this.getValue()){$W._c.fireEvent(this,"onchange");}}this.broadcast({"linkedDataList":["refresh"]});}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aG.prototype.setValue=function(_22){["WebSquare.uiplugin.input.setValue"];try{if($W._G.isNull(_22)){return;}var _23=this.getValue();this.setValueNM(_22);this.modelControl.setData(_22);if(_23!=this.getValue()){$W._c.fireEvent(this,"onchange");}this.broadcast({"linkedDataList":["refresh"]});}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aG.prototype.setValueNM=function(_24,_25){["WebSquare.uiplugin.input.setValueNM"];try{if($W._G.isNull(_24)){return;}if(this.getDataType()=="bigDecimal"){if(typeof _24=="number"){$W.logger.printLog("Warning : BigDecimal Datatype, then you must enter a string instead of a number to get the exact data.["+this.id+"]");_24=Big(_24.toString()).toFixed();}else{if(_24.constructor==Big){_24=_24.toFixed();}else{if(typeof _24=="string"){try{if(_24===""){_24="";}else{_24=Big(_24).toFixed();}}catch(e){$W.logger.printLog("Warning : You must enter the exact number of data.["+this.id+"]");}}}}}else{_24=_24.toString();}_24=(document.activeElement==this.render)?_24:this.formatter.format(_24);if(_25&&this.options.applyFormat=="all"){_24=this.validator.validateString(_24);_24=this.formatter.format(_24);}if(this.options.placeholder&&!this.supportPlaceholder){if(_24.length==0){if(!this.hasClass("w2input_placeholder")){this.addClass("w2input_placeholder");}this.render.value=this.options.placeholder;}else{this.removeClass("w2input_placeholder");this.render.value=_24;}}else{this.render.value=_24;}this.realValue=_24;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aG.prototype.getValue=function(){["WebSquare.uiplugin.input.getValue"];try{var _26;if(this.options.placeholder&&!this.supportPlaceholder&&this.realValue.length==0){if(this.hasClass("w2input_placeholder")){_26="";}else{_26=this.render.value;}}else{_26=this.render.value;}return this.formatter.unformat(_26);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aG.prototype.setFocusSize=function(_27){["WebSquare.uiplugin.input.setFocusSize"];try{if(this.options.focusCalcSize==true){if(this.getStyle("height").indexOf("%")==-1&&this.getStyle("width").indexOf("%")==-1){var _28=parseInt(this.getStyle("height"));var _29=parseInt(this.getStyle("width"));var _2a=(this.focusStyleObj.paddingLeft+this.focusStyleObj.paddingRight+this.focusStyleObj.borderLeftWidth+this.focusStyleObj.borderRightWidth)-(this.originalStyleObj.paddingLeft+this.originalStyleObj.paddingRight+this.originalStyleObj.borderLeftWidth+this.originalStyleObj.borderRightWidth);var _2b=(this.focusStyleObj.paddingTop+this.focusStyleObj.paddingBottom+this.focusStyleObj.borderTopWidth+this.focusStyleObj.borderBottomWidth)-(this.originalStyleObj.paddingTop+this.originalStyleObj.paddingBottom+this.originalStyleObj.borderTopWidth+this.originalStyleObj.borderBottomWidth);if(_27==true&&this.focusedSizeFlag==false){this.setStyle("height",(_28-_2b)+"px");this.setStyle("width",(_29-_2a)+"px");this.focusedSizeFlag=true;}else{if(_27==false&&this.focusedSizeFlag==true){this.setStyle("height",(_28+_2b)+"px");this.setStyle("width",(_29+_2a)+"px");this.focusedSizeFlag=false;}}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aG.prototype.setVerticalAlign=function(){["WebSquare.uiplugin.input.setVerticalAlign"];try{if($W._G.isIE()){var _2c=this.getSize("height")||parseInt(this.getStyle("height"));if(!isNaN(_2c)){this.setStyle("lineHeight",_2c+"px");}}else{}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aG.prototype.onPropertyChange=function(_2d,_2e){["WebSquare.uiplugin.input.onPropertyChange"];try{switch(_2d){case "disabled":if(_2e==true){this.addClass(this.render,"w2input_disabled");}else{this.removeClass(this.render,"w2input_disabled");}break;case "readOnly":if(_2e==true){this.addClass(this.render,this.options.readOnlyClass);}else{this.removeClass(this.render,this.options.readOnlyClass);}break;case "mandatory":if(_2e==true){this.addClass(this.render,"w2input_mandatory");}else{this.removeClass(this.render,"w2input_mandatory");}break;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aG.prototype.getFormattedValue=function(){["WebSquare.uiplugin.input.getFormattedValue"];try{var _2f;if(this.options.placeholder&&!this.supportPlaceholder&&this.realValue.length==0){if(this.hasClass("w2input_placeholder")){_2f="";}else{_2f=this.render.value;}}else{_2f=this.render.value;}return _2f;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aG.prototype.validate=function(){["WebSquare.uiplugin.input.validate"];try{var _30=this.validator.validate(this.getValue());if(!_30){this.focus();}return _30;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aG.prototype.getDataType=function(){["WebSquare.uiplugin.input.getDataType"];try{return this.options.dataType;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aG.prototype.setDataType=function(_31){["WebSquare.uiplugin.input.setDataType"];try{if(!_31||(_31=="number"||_31=="euro"||_31=="rupee"||_31=="tenge")){return;}this.options.dataType=_31;var _31=this.options.dataType;if(this.options.applyFormat=="all"&&this.options.displayFormatter==""&&!(_31==="bigDecimal"||_31==="number"||_31==="euro"||_31==="rupee"||_31==="tenge")){this._changeApplyFormat=true;this.options.applyFormat="display";}if(this.options.displayFormat==""){switch(this.options.dataType){case "date":this.options.displayFormat=this.options.dateMask;break;case "time":this.options.displayFormat=this.options.timeMask;break;case "bigDecimal":case "number":this.options.displayFormat=this.options.numberMask;if(!this.options.delimeter){this.options.delimeter=",";}if(!this.options.decimalDelimeter){this.options.decimalDelimeter=".";}break;}}var _32=this.options.dataType;if(_32=="bigDecimal"){_32="number";}var _33=this.getValue();this.formatter=$W._C.createFormatter(_32,this.options.displayFormat,this.options.displayFormatter,this.options.ioFormat,this.options.delimeter,this.options.decimalDelimeter);this.validator.clearCommand();this.validator=new $W._p.validateInvoker(this.id,this.options);switch(this.options.dataType){case "date":break;case "time":break;case "bigDecimal":case "number":if(this.options.displayFormat==""){this.validator.addCommand(new $W._p.allowCharCommand("+\\-.0-9"));}else{this.validator.addCommand(new $W._p.numberCommand());this.validator.addCommand(new $W._p.digitCommand(this.options.delimeter,this.options.decimalDelimeter),true);}break;case "euro":this.validator.addCommand(new $W._p.euroCommand(this.options.delimeter,this.options.decimalDelimeter));break;case "rupee":this.validator.addCommand(new $W._p.rupeeCommand(this.options.delimeter,this.options.decimalDelimeter));break;case "tenge":this.validator.addCommand(new $W._p.tengeCommand(this.options.delimeter,this.options.decimalDelimeter));break;}this.setValueNM(_33);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aG.prototype.setDisplayFormat=function(_34){["WebSquare.uiplugin.input.setDisplayFormat"];try{this.options.displayFormat=_34;var _35=this.getValue();if(this.options.dataType==="number"){this.formatter=$W._C.createFormatter(this.options.dataType,this.options.displayFormat,this.options.displayFormatter,this.options.ioFormat,this.options.delimeter,this.options.decimalDelimeter,this.scope_id);if(this.options.displayFormat==""){this.validator.removeCommand(new $W._p.numberCommand(this.options.delimeter,this.options.decimalDelimeter));this.validator.addCommand(new $W._p.allowCharCommand("+\\-.0-9"));}else{this.validator.removeCommand(new $W._p.allowCharCommand("+\\-.0-9"));this.validator.addCommand(new $W._p.numberCommand(this.options.delimeter,this.options.decimalDelimeter));this.validator.addCommand(new $W._p.digitCommand(this.options.delimeter,this.options.decimalDelimeter),true);}}this.formatter.setMasking(_34);this.setValueNM(_35);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aG.prototype.changeCurrency=function(_36,_37,_38,_39){["WebSquare.uiplugin.input.changeCurrency"];try{if(!_36||(_36!=="number"&&_36!=="euro"&&_36!=="rupee"&&_36!=="tenge")){return;}var _3a=this.options.decimalDelimeter;switch(_36){case "number":if(!_37){_37=this.options.numberMask;}this.options.delimeter=_38||",";this.options.decimalDelimeter=_39||".";break;case "euro":if(!_37){_37=this.options.euroMask;}this.options.delimeter=_38||".";this.options.decimalDelimeter=_39||",";break;case "rupee":if(!_37){_37=this.options.rupeeMask;}this.options.delimeter=_38||",";this.options.decimalDelimeter=_39||".";break;case "tenge":if(!_37){_37=this.options.tengeMask;}this.options.delimeter=_38||" ";this.options.decimalDelimeter=_39||"-";break;}if(!_37){return;}this.options.dataType=_36;this.options.displayFormat=_37;if(this._changeApplyFormat){this.options.applyFormat="all";}var _3b=this.getValue();if(_3b.lastIndexOf(_3a)>-1){_3b=_3b.split(_3a).join(this.options.decimalDelimeter);}this.formatter=$W._C.createFormatter(this.options.dataType,this.options.displayFormat,this.options.displayFormatter,this.options.ioFormat,this.options.delimeter,this.options.decimalDelimeter,this.scope_id);this.validator.clearCommand();this.validator=new $W._p.validateInvoker(this.id,this.options);if(this.options.dataType==="number"){this.validator.addCommand(new $W._p.numberCommand(this.options.delimeter,this.options.decimalDelimeter));this.validator.addCommand(new $W._p.digitCommand(this.options.delimeter,this.options.decimalDelimeter),true);}else{if(this.options.dataType==="euro"){this.validator.addCommand(new $W._p.euroCommand(this.options.delimeter,this.options.decimalDelimeter));}else{if(this.options.dataType==="rupee"){this.validator.addCommand(new $W._p.rupeeCommand(this.options.delimeter,this.options.decimalDelimeter));}else{if(this.options.dataType==="tenge"){this.validator.addCommand(new $W._p.tengeCommand(this.options.delimeter,this.options.decimalDelimeter));}}}}this.formatter.setMasking(_37);this.setValueNM(_3b);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aG.prototype.getDisplayFormat=function(){["WebSquare.uiplugin.input.getDisplayFormat"];try{return this.options.displayFormat;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aG.prototype.setDisplayFormatter=function(_3c){["WebSquare.uiplugin.input.setDisplayFormatter"];try{this.options.displayFormatter=_3c;this.formatter=$W._C.createFormatter(this.options.dataType,this.options.displayFormat,this.options.displayFormatter,this.options.ioFormat,this.options.delimeter,this.options.decimalDelimeter,this.scope_id);this.setValueNM(this.getValue());}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aG.prototype.getDisplayFormatter=function(){["WebSquare.uiplugin.input.getDisplayFormatter"];try{return this.options.displayFormatter;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aG.prototype.getDisplayValue=function(){["WebSquare.uiplugin.input.getDisplayValue"];try{return this.formatter.format(this.getValue());}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aG.prototype.getIOValue=function(){["WebSquare.uiplugin.input.getIOValue"];try{return this.getValue();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aG.prototype.getIOFormat=function(){["WebSquare.uiplugin.input.getIOFormat"];try{return this.options.ioFormat;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aG.prototype.getIOFormatter=function(){["WebSquare.uiplugin.input.getIOFormatter"];try{return this.options.ioFormatter;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aG.prototype.setInitValue=function(_3d){["WebSquare.uiplugin.input.setInitValue"];try{var _3e=this.getValue();this.setValueNM(this.options.initValue);this.modelControl.setData(this.options.initValue);if(_3d.fireEvent){if(_3e!=this.getValue()){$W._c.fireEvent(this,"onchange");}}this.broadcast({"linkedDataList":["refresh"]});}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aG.prototype.setDefaultValue=function(_3f){["WebSquare.uiplugin.input.setDefaultValue"];try{if(typeof _3f=="string"){this.options.initValue=_3f;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aG.prototype.checkMaxByteLength=function(){["WebSquare.uiplugin.input.checkMaxByteLength"];if(this.options.maxByteLength!=-1){if(this.options.validateOnCheckMaxByteLength){var _40=this.render.value;_40=this.validator.validateString(_40);this.render.value=_40;this.realValue=_40;}var _40=this.render.value;if(this.options.applyFormat=="all"){_40=this.validator.validateString(_40);}var _41=$W._G.getStringByByteSize(_40,this.options.maxByteLength,this.options.byteCheckIgnoreChar);if(_40!=_41){this.reFocus=true;this.setValueNM("");this.blur();this.focus();if(this.options.applyFormat=="all"){this.setValueNM(_41);}else{this.render.value=_41;this.realValue=_41;}}}};$W._a.aG.prototype.setRef=function(ref){["WebSquare.uiplugin.input.prototype.setRef "];try{if(!this.modelControl.isBinded()){this.modelControl.useRef=true;}this.options.ref=ref;this.modelControl.setRef(ref);this.refresh();}catch(e){$W.exception.printStackTrace(e);}};$W._a.aG.prototype.setPlaceholder=function(str){["WebSquare.uiplugin.input.prototype.setPlaceholder"];try{if($W._G.isNull(str)){return;}if($W._a.aG.placeholder){this.supportPlaceholder=true;}if(this.options.placeholder!=str){this.options.placeholder=str;this.options.original_placeholder=str;if(this.supportPlaceholder){var dom=document.getElementById(this.id);if(this.options.showPlaceHolderOnReadOnly||(!dom.disabled&&!dom.readOnly)){dom.placeholder=this.options.placeholder;}else{this.options.placeholder="";}}else{if(this.options.showPlaceHolderOnReadOnly||(!this.render.disabled&&!this.render.readOnly)){if(this.hasClass("w2input_placeholder")){this.render.value=this.options.placeholder;}else{this.render.value=this.options.placeholder;this.addClass("w2input_placeholder");}}else{this.options.placeholder="";}}}}catch(e){$W.exception.printStackTrace(e);}};$W._a.aG.prototype.handleBlurEventBasic=function(e){["WebSquare.uiplugin.input.handleBlurEventBasic"];try{$W._c.fireEvent(this,"oneditend");this.setFocusSize(false);this.removeClass(this.render,this.options.onFocusClass);var _46=this.getValue();if(this.options.applyFormat==="all"&&Math.abs(_46)===0&&_46.charAt(0)==="-"){_46=_46.slice(1);}this.setValue(_46);var _47=$W.historyManager.get(this.options.pluginName,this.id);if(typeof _47.value=="undefined"){_47.value=this.originalValue;}if(_47.value!=this.getValue()){$W._c.fireEvent(this,"onchange");$W._c.fireEvent(this,"onviewchange",{"oldValue":_47.value,"newValue":this.getValue()});}$W._c.fireEvent(this,"onblur",e);$W._c.fireEvent(this,"onafteredit");if(this.options.placeholder&&!this.supportPlaceholder){if(this.realValue.length==0){this.render.value=this.options.placeholder;this.addClass("w2input_placeholder");}}if(!$W._G.isIEAllVersion()&&!$W._G.isOpera()){$W._c.fireEvent(this,"onfocusout",e);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aG.prototype.handleSelectAfter=function(e){["WebSquare.uiplugin.input.handleSelectAfter"];if(this.options.editType=="select"&&this._getFocused){this.render.select();this._getFocused=false;}};$W._a.aG.prototype.handleFocusinEvent=function(e){["WebSquare.uiplugin.input.handleFocusinEvent"];if(!this.originalStyleObj){this.originalStyleObj={paddingTop:parseInt(this.getStyle("padding-top"))||0,paddingBottom:parseInt(this.getStyle("padding-bottom"))||0,paddingLeft:parseInt(this.getStyle("padding-left"))||0,paddingRight:parseInt(this.getStyle("padding-right"))||0,borderTopWidth:parseInt(this.getStyle("border-top-width"))||0,borderBottomWidth:parseInt(this.getStyle("border-bottom-width"))||0,borderLeftWidth:parseInt(this.getStyle("border-left-width"))||0,borderRightWidth:parseInt(this.getStyle("border-right-width"))||0};}this.addClass(this.render,this.options.onFocusClass);var _4a=this.render.value;if(this.options.applyFormat!="all"){_4a=this.formatter.unformat(_4a);}if(_4a!=this.render.value){this.render.value=_4a;}var _4b=this;$W.historyManager.set(this.options.pluginName,this.id,{value:this.getValue()},{onRestore:function(_4c){_4b.render.value=_4c.value;}});this._focusStatus="focusin";};$W._a.aG.prototype.handleBeforeFocusEvent=function(e){["WebSquare.uiplugin.input.handleBeforeFocusEvent"];switch(this._focusStatus){case "init":this._focusStatus="ready";break;case "ready":this._focusStatus="cancel";this.focus();break;case "done":this._focusStatus="init";break;}};$W._a.aG.prototype.handleFocusValueEventAdv=function(e){["WebSquare.uiplugin.input.prototype.handleFocusValueEventAdv"];try{if(this.options.placeholder&&!this.supportPlaceholder){if(this.realValue.length==0){this.render.value="";this.removeClass("w2input_placeholder");}}$W._c.fireEvent(this,"onbeforeedit");this.originalValue=this.getValue();if(!$W._G.isIEAllVersion()){var _4f=this;$W.historyManager.set(this.options.pluginName,this.id,{value:this.getValue()},{});}if(!this.originalStyleObj){this.originalStyleObj={paddingTop:parseInt(this.getStyle("padding-top"))||0,paddingBottom:parseInt(this.getStyle("padding-bottom"))||0,paddingLeft:parseInt(this.getStyle("padding-left"))||0,paddingRight:parseInt(this.getStyle("padding-right"))||0,borderTopWidth:parseInt(this.getStyle("border-top-width"))||0,borderBottomWidth:parseInt(this.getStyle("border-bottom-width"))||0,borderLeftWidth:parseInt(this.getStyle("border-left-width"))||0,borderRightWidth:parseInt(this.getStyle("border-right-width"))||0};}this.addClass(this.render,this.options.onFocusClass);if(!this.focusStyleObj){this.focusStyleObj={paddingTop:parseInt(this.getStyle("padding-top"))||0,paddingBottom:parseInt(this.getStyle("padding-bottom"))||0,paddingLeft:parseInt(this.getStyle("padding-left"))||0,paddingRight:parseInt(this.getStyle("padding-right"))||0,borderTopWidth:parseInt(this.getStyle("border-top-width"))||0,borderBottomWidth:parseInt(this.getStyle("border-bottom-width"))||0,borderLeftWidth:parseInt(this.getStyle("border-left-width"))||0,borderRightWidth:parseInt(this.getStyle("border-right-width"))||0};}if(this.reFocus){this.reFocus=null;}else{if(this.options.editType=="select"){if($W._G.isChrome()||$W._G.isSafari()){this._getFocused=true;}else{this.render.select();}}}this.setFocusSize(true);if(this.inputEvented==false){this.inputEvented=true;this.event.addListener(this.render,"onblur",this.event.bindAsEventListener(this,this.handleBlurEventBasic));this.event.addListener(this.render,"onkeyup",this.event.bindAsEventListener(this,this.handleKeyupEvent));this.event.addListener(this.render,"onkeypress",this.event.bindAsEventListener(this,this.handleKeypressEvent));this.event.addListener(this.render,"onkeydown",this.event.bindAsEventListener(this,this.handleKeydownEvent));if($W._N.browserCheck.android&&$W._N.browserVersion()>=5){this.event.addListener(this.render,"oninput",this.event.bindAsEventListener(this,this.handleInputEvent));}if($W._G.isFF()){this.event.addListener(this.render,"oninput",this.event.bindAsEventListener(this,this.checkMaxByteLength));}if(this.options.dataType=="number"){this.setStyle("imeMode","disabled");}}var _50=this.render.value;if(this.options.applyFormat!="all"){_50=this.formatter.unformat(_50);}if(_50!=this.render.value){this.render.value=_50;if(this.options.editType=="select"&&this.selectFlag){if($W._G.isChrome()||$W._G.isSafari()){this._getFocused=true;}this.render.select();this.selectFlag=false;}}$W._c.fireEvent(this,"onfocus",e);this._focusStatus="done";}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aG.prototype.handleKeydownEvent=function(e){["WebSquare.uiplugin.input.handleKeydownEvent"];try{var _52=(e.charCode)?e.charCode:e.keyCode;if(_52==37){}else{if(_52==38){}else{if(_52==39){}else{if(_52==40){}else{if(_52==13){this.blurHandler=true;}else{if(_52==27){this.blurHandler=true;}else{if(_52==33){}else{if(_52==34){}else{if(_52==35){}else{if(_52==36){}else{if(_52==113){}else{if(_52==8){var _53=false;_53=$W._N.browserCheck.android&&$W._N.browserVersion()>=5;if(this.options.applyFormat=="all"&&!_53){var _54=this.render.value;var pos=$W._A.getCaretPos(this.render);if(isNaN(Number(_54.substring(pos-1,pos)))){if(!isNaN(Number(_54.substring(pos-2,pos-1)))&&_54.substring(pos-2,pos-1)!=""){this.render.value=_54.slice(0,pos-2)+_54.slice(pos-1,_54.length);$W._A.setCaretPos(this.render,pos-1);}}}}else{}}}}}}}}}}}}if($W._G.isOpera()){this.checkMaxByteLength();}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aG.prototype.handleInputEvent=function(e){["WebSquare.uiplugin.input.handleInputEvent"];try{if(this.options.applyFormat=="all"&&(this.realValue.length-this.render.value.length)==1){var _57=this.realValue;var _58=this.render.value;var pos=$W._A.getCaretPos(this.render);if(isNaN(Number(_57.substring(pos,pos+1)))){this.render.value=_58.slice(0,pos-1)+_58.slice(pos,_58.length);$W._A.setCaretPos(this.render,pos-1);}this.handleKeyupEvent({});}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aG.prototype.handleKeypressEvent=function(e){["WebSquare.uiplugin.input.handleKeypressEvent"];try{var _5b=(e.charCode)?e.charCode:e.keyCode;var _5c=this.render.value;if(this.options.applyFormat=="all"){_5c=this.formatter.unformat(_5c);}if(!this.validator.validateKeyPress(this.render,_5c,e)){if(this.options.autoPopupInvalidMessage==true&&(_5b>46)&&!(_5b>=112&&_5b<=123)){alert(this.options.invalidMessage);}$W._c.stopEvent(e);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aG.prototype.handleKeyupEvent=function(e){["WebSquare.uiplugin.input.handleKeyupEvent"];try{var _5e=(e.charCode)?e.charCode:e.keyCode;if(_5e==37){}else{if(_5e==38){}else{if(_5e==39){}else{if(_5e==40){}else{if(_5e==13){if(this.blurHandler==true&&this.options.useKeyupBlur==true){if(this.options.enterBlur===true){this.blur();this.blurHandler=false;}else{var _5f=this.getValue();var _60=this.modelControl.getData();this.noRefresh=true;this.modelControl.setData(_5f);this.noRefresh=false;if(_60!=_5f){$W._c.fireEvent(this,"onchange");}}}}else{if(_5e==27){if(this.blurHandler==true&&this.options.useKeyupBlur==true){this.blur();this.blurHandler=false;}}else{if(_5e==33){}else{if(_5e==34){}else{if(_5e==35){}else{if(_5e==36){}else{if(_5e==113){}else{if(_5e==16){}else{if(_5e==9){}else{if(this.options.applyFormat=="all"){var _5f="";if(_5e==90&&e.ctrlKey){var _61=$W.historyManager.get(this.options.pluginName,this.id);if(typeof _61.value=="undefined"){_61.value="";}_5f=_61.value;}else{_5f=this.render.value;}var pos=$W._A.getCaretPos(this.render);var _63=0;var _64=0;_63=_5f.length;_5f=this.formatter.unformat(_5f);_5f=this.validator.validateString(_5f);_5f=this.formatter.format(_5f,true);_5f=this.validator.validateString(_5f);_5f=this.formatter.format(_5f,true);_64=_5f.length;this.render.value=_5f;this.realValue=_5f;$W._A.setCaretPos(this.render,pos+_64-_63);}this.checkMaxByteLength();}}}}}}}}}}}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aG.prototype.handleBlurEvent=function(e){["WebSquare.uiplugin.input.handleBlurEvent"];try{this.setFocusSize(false);this.removeClass(this.render,this.options.onFocusClass);this.setValue(this.getValue());var _66=$W.historyManager.get(this.options.pluginName,this.id);if(typeof _66.value=="undefined"){_66.value=this.originalValue;}if(_66.value!=this.getValue()){$W._c.fireEvent(this,"onchange");}$W._c.fireEvent(this,"onblur",e);this._focusStatus="init";}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aG.prototype.handleCopyEvent=function(e){["WebSquare.uiplugin.input.handleCopyEvent"];try{if(this.options.readOnly&&this.options.copyOnReadOnly=="noFormat"){var _68=this.getValue();var _69;if($W._G.isIEAllVersion()){_69=window.clipboardData;var _6a=this;$W._N.setTimer(function(){_69.setData("Text",_68);$W._N.clearTimer(_6a.id+"_handleCopyEvent");},{key:_6a.id+"_handleCopyEvent",caller:_6a,delay:1});}else{_69=e.clipboardData;_69.setData("Text",_68);}$W._c.stopEvent(e);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aG.prototype.focus=function(e){["WebSquare.uiplugin.input.focus"];try{this.render.focus();if(this.options.editType=="select"){this.render.select();}}catch(e){$W.exception.printStackTrace(e);}};$W._a.aG.prototype.select=function(e){["WebSquare.uiplugin.input.select"];try{this.selectFlag=true;this.render.select();}catch(e){$W.exception.printStackTrace(e);}};$W._a.aG.prototype.setDisabled=function(_6d){["WebSquare.uiplugin.input.setDisabled"];try{_6d=$W._G.getBoolean(_6d);if(_6d){if(this.options.placeholder||this.options.original_placeholder){var _6e=this.options.placeholder||this.options.original_placeholder;this.setPlaceholder("");this.options.original_placeholder=_6e;}this.options.disabled=_6d;this.setProperty("disabled",_6d);}else{this.options.disabled=_6d;this.setProperty("disabled",_6d);if(this.options.placeholder||this.options.original_placeholder){this.setPlaceholder(this.options.original_placeholder);}}}catch(e){$W.exception.printStackTrace(e);}return _6d;};$W._a.aG.prototype.setReadOnly=function(_6f){["WebSquare.uiplugin.input.setReadOnly"];try{_6f=$W._G.getBoolean(_6f);if(_6f){if(this.options.placeholder||this.options.original_placeholder){var _70=this.options.placeholder||this.options.original_placeholder;if(!this.options.showPlaceHolderOnReadOnly){this.setPlaceholder("");}this.options.original_placeholder=_70;}this.options.readOnly=_6f;this.setProperty("readOnly",_6f);}else{this.options.readOnly=_6f;this.setProperty("readOnly",_6f);if(this.options.placeholder||this.options.original_placeholder){this.setPlaceholder(this.options.original_placeholder);}}}catch(e){$W.exception.printStackTrace(e,null,this);}return _6f;};;WebSquare.uiplugin.input=$W._a.aG;$W._a.aR=function(id,_2,_3){["WebSquare.uiplugin.layer"];$W._t.call(this,id,_2,_3);};$W.extend($W._a.aR.prototype,$W._t.prototype);$W._a.aR.prototype.defaultOptions={pluginType:"uiplugin.layer",pluginName:"layer"};$W._a.aR.prototype.initialize=function(_4){};$W._a.aR.prototype.setLayout=function(){["WebSquare.uiplugin.layer.setLayout"];};$W._a.aR.prototype.toHTML=function(){["WebSquare.uiplugin.layer.toHTML"];try{var _5=[];var _6=(this.options.style=="")?"":"style='"+this.options.style+"'";_5.push("<div id='"+this.id+"' "+_6+" class='w2layer "+this.options.className+"'>");_5.push("</div>");return _5.join("");}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aR.prototype.setAction=function(){};$W._a.aR.prototype.setValue=function(_7){["WebSquare.uiplugin.layer.setValue"];try{this.render.innerHTML=_7;}catch(e){$W.exception.printStackTrace(e,null,this);}};;WebSquare.uiplugin.layer=$W._a.aR;$W._a.aB=function(id,_2,_3){["WebSquare.uiplugin.trigger"];$W._t.call(this,id,_2,_3);};$W.extend($W._a.aB.prototype,$W._t.prototype);$W._a.aB.prototype.defaultOptions={pluginType:"uiplugin.trigger",pluginName:"trigger",userEvents:[],systemEvents:["onclick","ondblclick","onfocus","onblur","onmouseup","onmousedown","onmouseover","onmouseout","onmousemove","onkeydown","onkeypress","onkeyup"],useConfig:true,type:"button",leftOnImageClass:"w2trigger_left",centerOnImageClass:"w2trigger_center",rightOnImageClass:"w2trigger_right",leftOffImageClass:"w2trigger_left",centerOffImageClass:"w2trigger_center",rightOffImageClass:"w2trigger_right",singleClassMode:false,localeRef:"",title:"",anchorWithGroupClass:true};$W._a.aB.prototype.initialize=function(_4){["WebSquare.uiplugin.trigger.initialize"];try{this.evented=false;if(this.options.localeRef!=""){this.options.value=this.getLocaleValue();}else{if(_4){var _5=$W.WebSquareparser.parseLabel(_4);if(_5){this.options.value=_5.value;}}}if(this.options.leftOnImageClass!="w2trigger_left"&&this.options.centerOnImageClass=="w2trigger_center"&&this.options.rightOnImageClass=="w2trigger_right"){this.options.singleClassMode=true;}this.options=$W.cssManager.styleToClass(this.id,this.options);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aB.prototype.toHTML=function(){["WebSquare.uiplugin.trigger.toHTML"];try{var _6=[];var _7=this.options.value.wq_replaceAll("'","&#39;")==""?"":"value ='"+this.options.value.wq_replaceAll("'","&#39;")+"'";var _8=(this.options.title=="")?"":"title='"+this.options.title.wq_replaceAll("'","&#39;")+"'";var _9=(this.options.style=="")?"":"style='"+this.options.style+"'";if(this.options.type.toLowerCase()=="button"){_6.push("<input type='button' id='"+this.id+"' "+_9+" class='w2trigger "+this.options.className+"' "+_7+" "+_8+"/>");}else{if(this.options.type.toLowerCase()=="image"){_6.push("<table tabIndex='0' role='button' id='"+this.id+"' "+_9+" class='w2trigger w2trigger_table "+this.options.className+"' "+_8+" cellpadding='0' cellspacing='0' onkeydown='if( event.keyCode == 32 || event.keyCode == 13 ) click();'>");_6.push("<tbody>");_6.push("<tr id='"+this.id+"_row'>");if(this.options.singleClassMode==true){_6.push("<td id='"+this.id+"_left' class='w2trigger_col_left "+this.options.leftOffImageClass+"'></td>");_6.push("<td id='"+this.id+"_center' class='w2trigger_col_center w2trigger_label '>"+this.options.value+"</td>");_6.push("<td id='"+this.id+"_right' class='w2trigger_col_right '></td>");}else{_6.push("<td id='"+this.id+"_left' class='w2trigger_col_left "+this.options.leftOffImageClass+"'></td>");_6.push("<td id='"+this.id+"_center' class='w2trigger_col_center "+this.options.centerOffImageClass+" w2trigger_label '>"+this.options.value+"</td>");_6.push("<td id='"+this.id+"_right' class='w2trigger_col_right "+this.options.rightOffImageClass+"'></td>");}_6.push("</tr>");_6.push("</tbody>");_6.push("</table>");}else{if(this.options.type.toLowerCase()=="anchor"){var _a=(this.options.anchorWithGroupClass==true)?"w2group":"";_6.push("<a id='"+this.id+"' style='"+this.options.style+"' class='"+_a+" w2trigger_anchor "+this.options.className+"' href='javascript:void(null);' tabIndex='0' >");_6.push("<span id='"+this.id+"_span' class='w2textbox '>"+this.options.value+"</span>");_6.push("</a>");}}}return _6.join("");}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aB.prototype.setAction=function(){["WebSquare.uiplugin.trigger.setAction"];try{if(this.options.type.toLowerCase()=="image"){this.event.addListener(this.render,"onmouseover",this.event.bindAsEventListener(this,this.handleMouseoverEvent));}else{if(this.options.type.toLowerCase()=="anchor"){this.dom.input=document.getElementById(this.id);var _b=document.getElementById(this.id+"_span");_b.style.setProperty("line-height",this.dom.input.clientHeight+"px");}else{this.dom.input=document.getElementById(this.id);}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aB.prototype.setLabel=function(_c){["WebSquare.uiplugin.trigger.setLabel"];try{if(!this.options.disabled){this.options.value=_c;if(this.options.localeRef!=""){_c=this.getLocaleValue();}if(this.options.type.toLowerCase()=="button"){this.dom.input.value=_c;}else{if(this.options.type.toLowerCase()=="anchor"){this.dom.input.childNodes[0].innerHTML=_c;}else{var _d=this.getElementById(this.id+"_center");_d.innerHTML=_c;}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aB.prototype.setValue=function(_e){["WebSquare.uiplugin.trigger.setValue"];try{this.setLabel(_e);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aB.prototype.getLabel=function(){["WebSquare.uiplugin.trigger.getLabel"];try{return this.options.value;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aB.prototype.getValue=function(){["WebSquare.uiplugin.trigger.getValue"];try{return this.options.value;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aB.prototype.setBackgroundImage=function(_f){["WebSquare.uiplugin.trigger.setBackgroundImage"];try{if(this.options.type=="button"){_f=_f.wq_trim();if(_f.startsWith("url")){this.render.style.backgroundImage=$W._N.getURL(_f);}else{this.render.style.backgroundImage="url("+$W._N.getURL(_f)+")";}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aB.prototype.getBackgroundImage=function(){["WebSquare.uiplugin.trigger.getBackgroundImage"];try{if(this.options.type=="button"){return this.getStyle("background-image");}else{return "";}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aB.prototype.getType=function(){["WebSquare.uiplugin.trigger.getType"];try{return this.options.type;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aB.prototype.onPropertyChange=function(_10,_11){["WebSquare.uiplugin.trigger.onPropertyChange"];try{var _12=(this.options.type=="image")?this.getElementById(this.id+"_row"):this.render;switch(_10){case "disabled":if(this.options.type=="image"){if(_11==true){this.removeClass(_12,"w2trigger_over");this.addClass(_12,"w2trigger_disabled");}else{this.removeClass(_12,"w2trigger_disabled");}}else{if(this.options.type.toLowerCase()=="anchor"){_12=this.getElementById(this.id+"_span");if(_11==true){_12.style.setProperty("color","#848684");this.addClass(_12,"w2trigger_disabled");}else{this.removeClass(_12,"w2trigger_disabled");}}else{if(_11==true){this.addClass(_12,"w2trigger_disabled");}else{this.removeClass(_12,"w2trigger_disabled");}}}break;case "readOnly":if(_11==true){this.addClass(_12,"w2trigger_readOnly");}else{this.removeClass(_12,"w2trigger_readOnly");}break;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aB.prototype.handleMouseoverEvent=function(){["WebSquare.uiplugin.trigger.handleMouseoverEvent"];try{if(this.options.disabled==true){return;}var row=this.getElementById(this.id+"_row");this.addClass(row,"w2trigger_over");if(this.options.type=="image"){if(this.evented==false){this.evented=true;this.event.addListener(this.render,"onmouseout",this.event.bindAsEventListener(this,this.handleMouseoutEvent));this.event.addListener(this.render,"onmousedown",this.event.bindAsEventListener(this,this.handleMousedownEvent));this.event.addListener(this.render,"onmouseup",this.event.bindAsEventListener(this,this.handleMouseupEvent));}this.changeClass(this.getElementById(this.id+"_left"),this.options.leftOffImageClass,this.options.leftOnImageClass);if(this.options.singleClassMode==false){this.changeClass(this.getElementById(this.id+"_center"),this.options.centerOffImageClass,this.options.centerOnImageClass);this.changeClass(this.getElementById(this.id+"_right"),this.options.rightOffImageClass,this.options.rightOnImageClass);}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aB.prototype.handleMouseoutEvent=function(){["WebSquare.uiplugin.trigger.handleMouseoutEvent"];try{if(this.options.disabled==true){return;}var row=this.getElementById(this.id+"_row");this.removeClass(row,"w2trigger_over");this.removeClass(row,"w2trigger_press");if(this.options.type=="image"){this.changeClass(this.getElementById(this.id+"_left"),this.options.leftOnImageClass,this.options.leftOffImageClass);if(this.options.singleClassMode==false){this.changeClass(this.getElementById(this.id+"_center"),this.options.centerOnImageClass,this.options.centerOffImageClass);this.changeClass(this.getElementById(this.id+"_right"),this.options.rightOnImageClass,this.options.rightOffImageClass);}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aB.prototype.handleMousedownEvent=function(){["WebSquare.uiplugin.trigger.handleMousedownEvent"];try{var row=this.getElementById(this.id+"_row");this.addClass(row,"w2trigger_press");}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aB.prototype.handleMouseupEvent=function(){["WebSquare.uiplugin.trigger.handleMouseupEvent"];try{var row=this.getElementById(this.id+"_row");this.removeClass(row,"w2trigger_press");}catch(e){$W.exception.printStackTrace(e,null,this);}};;WebSquare.uiplugin.trigger=$W._a.aB;requires("uiplugin.trigger");$W._a.as=function(id,_2,_3){["WebSquare.uiplugin.submit"];$W._a.aB.call(this,id,_2,_3);};$W.extend($W._a.as.prototype,$W._a.aB.prototype);$W._a.as.prototype.defaultOptions={pluginType:"uiplugin.submit",pluginName:"submit",type:"button",submission:"",submitType:"async",syncMsg:"",leftOnImageClass:"w2trigger_left",centerOnImageClass:"w2trigger_center",rightOnImageClass:"w2trigger_right",leftOffImageClass:"w2trigger_left",centerOffImageClass:"w2trigger_center",rightOffImageClass:"w2trigger_right"};$W._a.as.prototype.initialize=function(_4){["WebSquare.uiplugin.submit.initialize"];try{$W._a.aB.prototype.initialize.call(this,_4);this.submission=$W._J.getSubmission(this.options.submission);this.options=$W.cssManager.styleToClass(this.id,this.options);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.as.prototype.setAction=function(){["WebSquare.uiplugin.submit.setAction"];try{$W._a.aB.prototype.setAction.call(this);this.event.addListener(this.render,"onclick",this.event.bindAsEventListener(this,this.submitEvent));}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.as.prototype.submitEvent=function(){["WebSquare.uiplugin.submit.submitEvent"];try{if(this.options.submitType=="sync"){if(this.submission.processStatus==1&&this.syncMsg!=""){alert(this.syncMsg);return;}if(this.submission.processStatus==1){return;}$W._J.executeSubmission(this.submission,null,this);}else{$W._J.executeSubmission(this.submission);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.as.prototype.getSubmission=function(){["WebSquare.uiplugin.submit.getSubmission"];try{return this.submission;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.as.prototype.setSubmission=function(_5){["WebSquare.uiplugin.submit.setSubmission"];try{this.options.submission=_5;this.submission=$W._J.getSubmission(_5);}catch(e){$W.exception.printStackTrace(e,null,this);}};;WebSquare.uiplugin.submit=$W._a.as;requires("engine/formatter.js");requires("uiplugin/control/cssCustomizer.js");$W._a.aC=function(id,_2,_3){["WebSquare.uiplugin.output"];$W._t.call(this,id,_2,_3);var _4=["div","label","h1","h2","h3","h4","h5","h6"];this.options.tagname=this.options["for"]!=""?"label":this.options.tagname;var _5;for(_5=0;_5<_4.length;_5++){if(_4[_5]==this.options.tagname){break;}}if(_5>=_4.length){this.options.tagname=_4[0];}};$W.extend($W._a.aC.prototype,$W._t.prototype);$W.extend($W._a.aC.prototype,$W.cssCustomizer.prototype);$W._a.aC.prototype.defaultOptions={pluginType:"uiplugin.output",pluginName:"output",useConfig:true,userEvents:[],systemEvents:["onfocus","onblur","onclick","ondblclick","onmouseup","onmousedown","onmouseout","onmouseover","onmousemove"],label:"",ioFormat:"",displayFormat:"",displayFormatter:null,dataType:"text",localeRef:"",escape:false,escapeFormatter:"","for":"",tagname:"div",dateMask:"",timeMask:"",numberMask:"",euroMask:"",rupeeMask:"",tengeMask:"",delimeter:"",decimalDelimeter:""};$W._a.aC.prototype.initialize=function(_6){["WebSquare.uiplugin.output.initialize"];try{if(this.options.displayFormat==""){switch(this.options.dataType){case "date":this.options.displayFormat=this.options.dateMask;break;case "time":this.options.displayFormat=this.options.timeMask;break;case "number":this.options.displayFormat=this.options.numberMask;if(!this.options.delimeter){this.options.delimeter=",";}if(!this.options.decimalDelimeter){this.options.decimalDelimeter=".";}break;case "euro":this.options.displayFormat=this.options.euroMask;if(!this.options.delimeter){this.options.delimeter=".";}if(!this.options.decimalDelimeter){this.options.decimalDelimeter=",";}break;case "rupee":this.options.displayFormat=this.options.rupeeMask;if(!this.options.delimeter){this.options.delimeter=",";}if(!this.options.decimalDelimeter){this.options.decimalDelimeter=".";}break;case "tenge":this.options.displayFormat=this.options.tengeMask;if(!this.options.delimeter){this.options.delimeter=" ";}if(!this.options.decimalDelimeter){this.options.decimalDelimeter="-";}break;}}this.formatter=$W._C.createFormatter(this.options.dataType,this.options.displayFormat,this.options.displayFormatter,this.options.ioFormat,this.options.delimeter,this.options.decimalDelimeter);if(_6){var _7=$W.WebSquareparser.parseLabel(_6);if(_7){this.options.label=_7.value;this.escapeLabel=_7.value;}}this.useEscapeFormatter=false;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aC.htmlStr=["<",null," id='",null,"'",null," class='w2output ",null,"'",null,">",null,"</",null,">"];$W._a.aC.prototype.toHTML=function(){["WebSquare.uiplugin.output.toHTML"];try{var _8=$W._a.aC.htmlStr;var _9="";if(!this.options.escapeFormatter){_9=this.options.escape?this.formatter.format($W._B._encode(this.options.label)):this.formatter.format(this.options.label);}_8[1]=this.options.tagname;_8[3]=this.id;_8[5]=(this.options.style=="")?"":" style ='"+this.options.style+"'";_8[7]=this.options.className;_8[9]=(this.options.tagname=="label")?" for='"+this.options["for"]+"'":"";_8[11]=_9;_8[13]=this.options.tagname;return _8.join("");}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aC.prototype.setAction=function(){["WebSquare.uiplugin.output.setAction"];try{this.setVerticalAlign();if(this.modelControl.isBinded()){var _a=this.modelControl.getData();this.setValueNM(_a);}this.displayLocaleValue();if(this.options.tagname!="label"||this.options["for"]==""){return;}var _b=$W._G.getComponentById(this.options["for"])||null;if(_b==null){return;}var _c=typeof _b.getAccessibiltyId=="function"?_b.getAccessibiltyId():this.options["for"];this.render.setAttribute("for",_c);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aC.prototype.onComplete=function(){["WebSquare.uiplugin.output.onComplete"];try{if(this.options.escapeFormatter){try{if(typeof this.options.escapeFormatter=="function"){this.useEscapeFormatter=true;}else{var _d=$W._G.getGlobalFunction(this.options.escapeFormatter,this.scope_id);this.options.escapeFormatter=_d;if(typeof _d=="function"){this.useEscapeFormatter=true;}}}catch(e){$W.exception.printStackTrace(e,null,this);}this.setValueNM(this.options.label);}$W._t.prototype.onComplete.call(this);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aC.prototype.refresh=function(){["WebSquare.uiplugin.output.refresh"];try{if(this.modelControl.isBinded()){var _e=this.modelControl.getData();this.setValueNM(_e);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aC.prototype.setVerticalAlign=function(){["WebSquare.uiplugin.output.setVerticalAlign"];try{var _f="top";var _10=this.options.style.toLowerCase();if(_10.match(/vertical-align[\s]*:[\s]*middle/)){_f="middle";}else{if(_10.match(/vertical-align[\s]*:[\s]*bottom/)){_f="bottom";}}if(_f=="top"){}else{var _11=this.getStyle("height");if(_11.indexOf("px")>-1){_11=parseInt(_11);var _12=parseInt(this.getStyle("padding-top"))||0;var _13=parseInt(this.getStyle("font-size"))||0;var _14=0;if(_f=="middle"){_14=Math.floor((_11-_13)/2);}else{if(_f=="bottom"){_14=Math.floor(_11-_13);}}if((_14+_12)>0&&(_11-_14)>0){this.setStyle("paddingTop",_14+_12+"px");this.setStyle("height",(_11-_14)+"px");}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aC.prototype.setValue=function(_15){["WebSquare.uiplugin.output.setValue"];try{this.setValueNM(_15);this.modelControl.setData(_15);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aC.prototype.setValue1=function(_16){["WebSquare.uiplugin.output.setValue1"];try{this.setValue(_16);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aC.prototype.setValueNM=function(_17){["WebSquare.uiplugin.output.setValueNM"];try{if($W._G.isNull(_17)){return;}_17=_17.toString();this.options.label=_17;if(this.useEscapeFormatter){_17=this.options.escapeFormatter.call(this,_17);}this.escapeLabel=_17;this.render.innerHTML=this.options.escape?this.formatter.format($W._B._encode(_17+"")):this.formatter.format(_17);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aC.prototype.setWidth=function(_18){["WebSquare.uiplugin.output.setWidth"];try{if(!isNaN(parseInt(_18))){this.render.style.width=_18+"px";}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aC.prototype.setHeight=function(_19){["WebSquare.uiplugin.output.setHeight"];try{_19=parseInt(_19,10);if(!isNaN(_19)){this.render.style.height=_19+"px";}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aC.prototype.setBackgroundImage=function(url){["WebSquare.uiplugin.output.setBackgroundImage"];try{if(typeof url=="undefined"||url==null||url==""){this.render.style.backgroundImage="";}else{this.render.style.backgroundImage=$W._N.getImageURL(url,true);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aC.prototype.getFormatValue=function(){["WebSquare.uiplugin.output.getFormatValue"];try{return this.formatter.format(this.escapeLabel);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aC.prototype.getLabel=function(){["WebSquare.uiplugin.output.getLabel"];try{return this.getValue();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aC.prototype.setLabel=function(_1b){["WebSquare.uiplugin.output.setLabel"];try{this.setValue(_1b);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aC.prototype.getValue=function(){["WebSquare.uiplugin.output.getValue"];try{return this.formatter.format(this.escapeLabel);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aC.prototype.setLocaleRef=function(_1c){["WebSquare.uiplugin.output.setLocaleRef"];try{this.options.localeRef=_1c;this.displayLocaleValue();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aC.prototype.onPropertyChange=function(_1d,_1e){["WebSquare.uiplugin.output.onPropertyChange"];try{switch(_1d){case "disabled":if(_1e==true){this.addClass(this.render,"w2output_disabled");this.setStyle("color","#c0c0c0");}else{this.removeClass(this.render,"w2output_disabled");this.setStyle("color","");}break;case "readOnly":break;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aC.prototype.getRawValue=function(){["WebSquare.uiplugin.output.getRawValue"];try{return this.options.label;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aC.prototype.setDisplayFormat=function(_1f){["WebSquare.uiplugin.output.setDisplayFormat"];try{this.options.displayFormat=_1f;this.formatter=$W._C.createFormatter(this.options.dataType,this.options.displayFormat,this.options.displayFormatter,this.options.ioFormat,null,null,this.scope_id);this.setValueNM(this.options.label);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aC.prototype.setRef=function(ref){["WebSquare.uiplugin.output.prototype.setRef "];try{if(!this.modelControl.isBinded()){this.modelControl.useRef=true;}this.options.ref=ref;this.modelControl.setRef(ref);this.refresh();}catch(e){$W.exception.printStackTrace(e);}};;WebSquare.uiplugin.output=$W._a.aC;$W._a.aM=function(id,_2,_3){["WebSquare.uiplugin.anchor"];$W._t.call(this,id,_2,_3);};$W.extend($W._a.aM.prototype,$W._t.prototype);$W._a.aM.prototype.defaultOptions={useConfig:true,pluginType:"uiplugin.anchor",pluginName:"anchor",userEvents:["onclick"],outerDiv:true,clickEventElement:"anchor",label:"",href:"",name:"",target:"",title:"",useLocale:false,localeRef:"",disabled:false,escape:false,enableReadOnly:false};$W._a.aM.prototype.initialize=function(_4){["WebSquare.uiplugin.anchor.initialize"];try{if(_4){var _5=$W.WebSquareparser.parseLabel(_4);if(_5){this.options.label=_5.value;}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aM.prototype.htmlStr1=["<div id='",,"' ",," class='w2anchor ",,"'><a href='",,"' ",,">",,"</a></div>"];$W._a.aM.prototype.htmlStr2=["<a id='",,"' ",," class='w2anchor2 ",,"' href='",,"' ",,">",,"</a>"];$W._a.aM.prototype.toHTML=function(){["WebSquare.uiplugin.anchor.toHTML"];try{var _6=this.options.outerDiv?this.htmlStr1:this.htmlStr2;_6[1]=this.id;_6[3]=(this.options.style?"style=\""+this.options.style+"\"":"");_6[5]=this.options.className;_6[7]=this.options.href?this.options.href:"javascript:void(null);";_6[9]=(this.options.name?" name=\""+this.options.name+"\"":"")+(this.options.target?" target=\""+this.options.target+"\"":"")+(this.options.title?" title=\""+this.options.title+"\"":"");var _7=this.options.useLocale==true?this.getLocaleValue(this.options.localeRef):this.options.label||this.options.label;_6[11]=_7;return _6.join("");}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aM.prototype.setAction=function(){["WebSquare.uiplugin.anchor.setAction"];try{this.dom.anchor=this.render.tagName=="A"?this.render:this.render.firstChild;this.setVerticalAlign();if(this.modelControl.isBinded()){var _8=this.modelControl.getData();this.setValueNM(_8);}if(this.options.outerDiv&&this.options.clickEventElement==="outerDiv"){this.event.addListener(this.render,"onclick",this.event.bindAsEventListener(this,this.handleClickEvent));}else{this.event.addListener(this.dom.anchor,"onclick",this.event.bindAsEventListener(this,this.handleClickEvent));}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aM.prototype.refresh=function(){["WebSquare.uiplugin.anchor.refresh"];try{if(this.modelControl.isBinded()){var _9=this.modelControl.getData();this.setValueNM(_9);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aM.prototype.setVerticalAlign=function(){["WebSquare.uiplugin.anchor.setVerticalAlign"];try{var _a="top";var _b=this.options.style.toLowerCase();if(_b.match(/vertical-align[\s]*:[\s]*middle/)){_a="middle";}else{if(_b.match(/vertical-align[\s]*:[\s]*bottom/)){_a="bottom";}}if(_a=="top"){}else{var _c=this.getStyleValue("height");if(_c.indexOf("px")>-1){_c=parseInt(_c);var _d=parseInt(this.getStyleValue("padding-top"))||0;var _e=parseInt(this.getStyleValue("font-size"))||0;var _f=0;if(_a=="middle"){_f=Math.floor((_c-_e)/2);}else{if(_a=="bottom"){_f=Math.floor(_c-_e);}}if((_f+_d)>0&&(_c-_f)>0){this.setStyle("paddingTop",_f+_d+"px");this.setStyle("height",(_c-_f)+"px");}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aM.prototype.setValue=function(_10){["WebSquare.uiplugin.anchor.setValue"];try{this.setValueNM(_10);this.modelControl.setData(_10);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aM.prototype.setValueNM=function(_11){["WebSquare.uiplugin.anchor.setValueNM"];try{if($W._G.isNull(_11)){return;}_11=_11.toString();this.options.label=_11;if(this.options.escape){_11=$W._B._encode(_11);}this.dom.anchor.innerHTML=_11;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aM.prototype.getValue=function(){["WebSquare.uiplugin.anchor.getValue"];try{return this.options.label;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aM.prototype.handleClickEvent=function(e){["WebSquare.uiplugin.anchor.handleClickEvent"];try{var _13=$W._c.getTarget(e);if(_13&&this.options.outerDiv&&_13===this.render){this.dom.anchor.click();return;}if(this.options.href.wq_trim()==""){$W._c.stopEvent(e);}$W._c.fireEvent(this,"onclick");}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aM.prototype.setHref=function(_14){["WebSquare.uiplugin.anchor.setHref"];try{this.options.href=_14;this.dom.anchor.href=_14;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aM.prototype.getHref=function(){["WebSquare.uiplugin.anchor.getHref"];try{return this.dom.anchor.href;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aM.prototype.setDisabled=function(_15){["WebSquare.uiplugin.anchor.setDisabled"];try{if(typeof _15!="boolean"){return false;}if(this.options.outerDiv){this.dom.anchor.disabled=_15;}$W._t.prototype.setDisabled.call(this,_15);if(_15){this.addClass(this.render,"w2anchor_disabled");}else{this.removeClass(this.render,"w2anchor_disabled");}}catch(e){$W.exception.printStackTrace(e);}return _15;};$W._a.aM.prototype.setRef=function(ref){["WebSquare.uiplugin.anchor.prototype.setRef "];try{if(!this.modelControl.isBinded()){this.modelControl.useRef=true;}this.options.ref=ref;this.modelControl.setRef(ref);this.refresh();}catch(e){$W.exception.printStackTrace(e);}};;WebSquare.uiplugin.anchor=$W._a.aM;$W._a.br=function(id,_2,_3){["WebSquare.uiplugin.image"];$W._t.call(this,id,_2,_3);};$W.extend($W._a.br.prototype,$W._t.prototype);$W._a.br.prototype.defaultOptions={useConfig:true,pluginType:"uiplugin.image",pluginName:"image",systemEvents:["onabort","onerror","onblur","onclick","ondblclick","onfocus","onmousedown","onmouseup","onmouseout","onmouseover","onmousemove"],src:"",alt:"",usemap:"",title:"",longdesc:""};$W._a.br.prototype.initialize=function(_4){};$W._a.br.prototype.toHTML=function(){["WebSquare.uiplugin.image.toHTML"];try{var _5=[];var _6=this.options.src?$W._N.getImageURL(this.options.src):"";var _7=(this.options.title=="")?"":"title='"+this.options.title+"'";var _8=(this.options.usemap=="")?"":"usemap='"+this.options.usemap+"'";var _9=(this.options.longdesc=="")?"":"longdesc='"+this.options.longdesc+"'";var _a=(this.options.style=="")?"":"style='"+this.options.style+"'";var _b="";if(this.options.alt=="$empty"){var _c="alt='"+"'";}else{var _c=(this.options.alt=="")?"":"alt='"+this.options.alt+"'";}if(this.options.onerror){_b=" onerror=\"("+this.options.onerror+").call(this,event);\" ";}_5.push("<img id='"+this.id+"' src='"+_6+"' "+_a+" class='w2image "+this.options.className+"' "+_c+" "+_7+" "+_8+" "+_9+" "+_b+" />");return _5.join("");}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.br.prototype.setAction=function(){["WebSquare.uiplugin.image.setAction"];try{this.refresh();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.br.prototype.refresh=function(){["WebSquare.uiplugin.image.refresh"];try{if(this.modelControl.isBinded()){var _d=this.modelControl.getData();this.setSrcNM(_d);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.br.prototype.setSrc=function(_e){["WebSquare.uiplugin.image.setSrc"];try{var _f=$W._N.getImageURL(_e);this.render.src=_f;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.br.prototype.setSrcNM=function(url){["WebSquare.uiplugin.image.setSrcNM"];try{var _11=(url)?$W._N.getImageURL(url):"";this.render.src=_11;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.br.prototype.getSrc=function(){["WebSquare.uiplugin.image.getSrc"];try{return this.render.src;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.br.prototype.setLongdesc=function(_12){["WebSquare.uiplugin.image.setLongdesc"];try{this.render.longDesc=_12;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.br.prototype.getLongdesc=function(){["WebSquare.uiplugin.image.getLongdesc"];try{return this.render.longDesc;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.br.prototype.setAlt=function(alt){["WebSquare.uiplugin.image.setAlt"];try{this.render.alt=alt;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.br.prototype.getAlt=function(){["WebSquare.uiplugin.image.getAlt"];try{return this.render.alt;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.br.prototype.onPropertyChange=function(_14,_15){["WebSquare.uiplugin.image.onPropertyChange"];try{switch(_14){case "disabled":if(_15==true){this.setOpacity(0.3);this.addClass(this.render,"w2image_disabled");}else{this.setOpacity(1);this.removeClass(this.render,"w2image_disabled");}break;case "readOnly":break;}}catch(e){$W.exception.printStackTrace(e,null,this);}};;WebSquare.uiplugin.image=$W._a.br;$W._a.bs=function(id,_2,_3){["WebSquare.uiplugin.iframe"];$W._t.call(this,id,_2,_3);};$W.extend($W._a.bs.prototype,$W._t.prototype);$W._a.bs.prototype.defaultOptions={pluginType:"uiplugin.iframe",pluginName:"iframe",userEvents:["oniframeload"],src:"",scrolling:"",title:"",name:"",allowTransparency:"",spa:false,spaParam:"wq_spaParam"};$W._a.bs.prototype.initialize=function(_4){["WebSquare.uiplugin.iframe.initialize"];try{if($W._N.getConfiguration("/WebSquare/spa/@value")=="true"){this.options.spa=true;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bs.prototype.toHTML=function(){["WebSquare.uiplugin.iframe.toHTML"];try{var _5="."+$W.w2xExtension;var _6=this.options.src;if(_6!=""){var _7=_6.slice(0);var _8=-1;var _9=-1;if((_8=_6.indexOf("?"))>-1){_7=_7.substring(0,_8);}else{if((_9=_6.indexOf("#"))>-1){_7=_7.substring(0,_9);}}if(_7.indexOf("&")>-1){_7=_7.substring(0,_7.indexOf("&"));}if(_7.substring(_7.lastIndexOf("."))===".xml"){if(this.options.spa){var _a="?"+this.options.spaParam+"="+(this.uuid||this.id);var _b=$W._N.getURL(_6);var _c=location.toString();var _d=_c.indexOf("?");if(_d<0){_d=_c.indexOf("#");}if(_d<0){_d=_c.length;}var _e=_c.substring(0,_d);if(_e.indexOf(_5)>=0){var _f=_b.substring(0,_b.lastIndexOf(".xml"))+_5;if($W._G.getBoolean($W._N.getConfiguration("/WebSquare/stylesheet/@relativePath"))){_6=_f;}else{var _10="?w2xHome="+$W.w2xHome+"&w2xDocumentRoot="+$W.w2xDocumentRoot;_6=_f+_10;}}else{if($W.isHoneyComb){if(window.frameElement){window["sessionStorage"][window.frameElement.id]=_b;}else{window["sessionStorage"]["w2xpath"]=_b;}var _11=_e.indexOf("?");if(_11>=0){_e=_e.substring(0,_11);}_6=_e+_a;}else{if($W._G.getBoolean($W._N.getConfiguration("/WebSquare/stylesheet/@relativePath"))){_6=_e+_a+"#w2xPath="+_b;}else{var _10="&w2xHome="+$W.w2xHome+"&w2xDocumentRoot="+$W.w2xDocumentRoot;_6=_e+_a+"#w2xPath="+_b+_10;}}}}else{_6=$W._N.getURL(_6);var _d=(location.toString().indexOf("?"));if(_d<0){_d=location.toString().indexOf("#");}var str=location.toString().substring(0,_d);if(_d<0){str=location.toString();}_6=_6.replace("?","&");if(str.indexOf(_5)>=0){var _f=_6.substring(0,_6.lastIndexOf(".xml"))+_5;if($W._G.getBoolean($W._N.getConfiguration("/WebSquare/stylesheet/@relativePath"))){_6=_f;}else{var _10="?w2xHome="+$W.w2xHome+"&w2xDocumentRoot="+$W.w2xDocumentRoot;_6=_f+_10;}}else{if($W.isHoneyComb){if(window.frameElement){window["sessionStorage"][window.frameElement.id]=_6;}else{window["sessionStorage"]["w2xpath"]=_6;}_6=str;}else{if($W._G.getBoolean($W._N.getConfiguration("/WebSquare/stylesheet/@relativePath"))){_6=str+"?w2xPath="+_6;}else{_6=str+"?w2xPath="+_6+"&w2xHome="+$W.w2xHome+"&w2xDocumentRoot="+$W.w2xDocumentRoot;}}}}}_6="src='"+_6+"'";}else{_6=$W._r.getSSLBlankPage();if(_6==""){_6="src='about:blank'";}}var _13=(this.options.allowTransparency=="")?"":"allowTransparency='"+this.options.allowTransparency+"'";var _14=(this.options.name=="")?"":"name='"+this.options.name+"'";var _15=(this.options.scrolling=="")?"":"scrolling='"+this.options.scrolling+"'";var _16=(this.options.style=="")?"":"style='"+this.options.style+"'";var _17=(this.options.title=="")?"":"title='"+this.options.title+"'";return "<iframe id='"+this.id+"' "+_6+" "+_16+" class='w2iframe "+this.options.className+"' frameBorder='0' "+_17+" "+_13+" "+_14+" "+_15+"></iframe>";}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bs.prototype.setAction=function(){["WebSquare.uiplugin.iframe.setAction"];try{}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bs.prototype.setSrc=function(src,_19){["WebSquare.uiplugin.iframe.setSrc"];try{var _1a="."+$W.w2xExtension;var _1b=false;var _1c=$W._G.getBoolean(_19);var _1d="?"+this.options.spaParam+"="+(this.uuid||this.id);var _1e=src.slice(0);var _1f=-1;var _20=-1;var _21=-1;if((_1f=src.indexOf("?"))>-1){_1e=_1e.substring(0,_1f);}else{if((_20=src.indexOf("#"))>-1){_1e=_1e.substring(0,_20);}}if((_21=_1e.indexOf("&"))>-1){_1e=_1e.substring(0,_21);}if(_1e.substring(_1e.lastIndexOf("."))===".xml"){_19="1";_1b=this.options.spa;}else{var _22=this.getWindow();var _23=this.getSrc();try{if(_22!=undefined&&_22.WebSquare!=undefined){_23=_22.location.toString();}var _24=_23.indexOf("#");var _25=src.indexOf("#");if(_24<0){_24=_23.length;}if(_25<0){_25=src.length;}_1b=(_23.substring(0,_24)==src.substring(0,_25));}catch(e){$W.logger.printLog("warning : cross-origin frame["+this.id+"]");}}try{if(!_1b){var _26=$W._N.getConfiguration("/WebSquare/clearMemory/@value");if(_26!="true"){if(this.getWindow().WebSquare){this.getWindow().WebSquare.clearMemory();}}}}catch(e){}if(src!="about:blank"&&!_1b){if(location.protocol=="https:"){this.render.setAttribute("src",$W._r.getSSLBlankPage(true));}else{this.render.setAttribute("src","about:blank");}}var _1e=src;if(src.indexOf("?")>-1){_1e=_1e.substring(0,_1e.indexOf("?"));}if(src!=null){var _22=this.getWindow();var _27=location.toString();try{if(_22!=undefined&&_22.WebSquare!=undefined){_27=_22.location.toString();_1d="";}}catch(e){$W.logger.printLog("warning : cross-origin frame["+this.id+"]");}if(_19==="1"&&_1b){var URL=$W._N.getURL(src);var idx=_27.indexOf("#");if(idx<0){idx=_27.length;}var _2a=_27.substring(0,idx);var _2b="";if(_1d&&_2a.indexOf(_1a)>=0){var _2c=URL.substring(0,URL.lastIndexOf(".xml"))+_1a;if($W._G.getBoolean($W._N.getConfiguration("/WebSquare/stylesheet/@relativePath"))){src=_2c;}else{var _2b="?w2xHome="+$W.w2xHome+"&w2xDocumentRoot="+$W.w2xDocumentRoot;src=_2c+_2b;}}else{if($W.isHoneyComb){if(window.frameElement){window["sessionStorage"][window.frameElement.id]=URL;}else{window["sessionStorage"]["w2xpath"]=URL;}var _2d=_2a.indexOf("?");if(_2d>=0){_2a=_2a.substring(0,_2d);}src=_2a+_1d;}else{if($W._G.getBoolean($W._N.getConfiguration("/WebSquare/stylesheet/@relativePath"))){src=_2a+_1d+"#w2xPath="+URL;}else{_2b="&w2xHome="+$W.w2xHome+"&w2xDocumentRoot="+$W.w2xDocumentRoot;src=_2a+_1d+"#w2xPath="+URL+_2b;}}}if((src==(_27+_2b)||src==_27)&&_22&&_22.WebSquare){_22.WebSquare.util.reinitialize(_1c);}else{if(_1c&&_22&&_22.WebSquare){if("onhashchange" in _22.window){_22.window.onhashchange=null;}else{clearInterval(_22.WebSquare.util._hashTestKey);}_22.WebSquare.core.finalize();this.render.setAttribute("src",src);_22.location.reload();}else{if(_22&&_22.WebSquare){_22.WebSquare.w2xPath="";}try{if(location.protocol=="https:"&&$W._r.isSSLBlankPage(_22.location.toString())){_22.location.replace(src);}}catch(e){$W.logger.printLog("warning : cross-origin frame["+this.id+"]");}this.render.setAttribute("src",src);}}return;}if(_19==="1"){src=$W._N.getURL(src);var idx=(_27.indexOf("?"));if(idx<0){idx=_27.indexOf("#");if(idx<0){idx=_27.length;}}var str=_27.substring(0,idx);src=src.replace("?","&");if(str.indexOf(_1a)>=0){var _2c=src.substring(0,src.lastIndexOf(".xml"))+_1a;if($W._G.getBoolean($W._N.getConfiguration("/WebSquare/stylesheet/@relativePath"))){src=_2c;}else{var _2b="?w2xHome="+$W.w2xHome+"&w2xDocumentRoot="+$W.w2xDocumentRoot;src=_2c+_2b;}}else{if($W.isHoneyComb){if(window.frameElement){window["sessionStorage"][window.frameElement.id]=src;}else{window["sessionStorage"]["w2xpath"]=src;}src=str;}else{if($W._G.getBoolean($W._N.getConfiguration("/WebSquare/stylesheet/@relativePath"))){src=str+"?w2xPath="+src;}else{src=str+"?w2xPath="+src+"&w2xHome="+$W.w2xHome+"&w2xDocumentRoot="+$W.w2xDocumentRoot;}}}try{if(location.protocol=="https:"&&$W._r.isSSLBlankPage(_22.location.toString())){_22.location.replace(src);}}catch(e){$W.logger.printLog("warning : cross-origin frame["+this.id+"]");}this.render.setAttribute("src",src);return;}try{if(location.protocol=="https:"&&$W._r.isSSLBlankPage(_22.location.toString())){_22.location.replace(src);}}catch(e){$W.logger.printLog("warning : cross-origin frame["+this.id+"]");}this.render.setAttribute("src",src);if(_1b&&src==_27&&_22&&_22.WebSquare){_22.WebSquare.util.reinitialize(_1c);}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bs.prototype.getSrc=function(){["WebSquare.uiplugin.iframe.getSrc"];try{return this.render.getAttribute("src");}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bs.prototype.getWindow=function(){["WebSquare.uiplugin.iframe.getWindow"];try{return this.render.contentWindow;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bs.prototype.setDisabled=function(){$l("iframe\uc5d0\uc11c\ub294 setDisabled\ub97c \uc0ac\uc6a9\ud558\uc2e4 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4."+"["+this.id+"]");};$W._a.bs.prototype.setReadOnly=function(){$l("iframe\uc5d0\uc11c\ub294 setReadOnly\ub97c \uc0ac\uc6a9\ud558\uc2e4 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4."+"["+this.id+"]");};$W._a.bs.prototype.onFrameComplete=function(){$W._c.fireEvent(this,"oniframeload",this.getSrc());};;WebSquare.uiplugin.iframe=$W._a.bs;requires("uiplugin/control/itemsetControl.js");requires("engine/validator.js");$W._a._q=function(id,_2,_3){["WebSquare.uiplugin.radio"];$W._t.call(this,id,_2,_3);};$W.extend($W._a._q.prototype,$W._t.prototype);$W.extend($W._a._q.prototype,$W.itemsetControl.prototype);$W.extend($W._a._q.prototype,$W.IValidate.prototype);$W._a._q.prototype.defaultOptions={pluginType:"uiplugin.radio",pluginName:"radio",userEvents:["onchange","onlabelclick","onradioclick","onviewchange"],renderType:"",tagname:"div",itemTagname:"div",value:"",cols:0,rows:0,name:"",selectedIndex:-1,initValue:"",mandatory:false,maxlength:-1,minlength:-1,allowChar:"",ignoreChar:"",characterCase:"",maxByteLength:-1,minByteLength:-1,validator:"",invalidMessage:"",invalidMessageFunc:"",displaymessage:false,title:"",useRadioTitle:true,inValidValue:"reset",escape:false,ignoreTabIndex:false};$W._a._q.prototype.initialize=function(_4){["WebSquare.uiplugin.radio.initialize"];try{var _5=$W._N.getConfiguration("/WebSquare/radio/renderType/@value");if(this.options.renderType==""&&_5!=""){this.options.renderType=_5;}else{if(this.options.renderType==""){this.options.renderType="table";}}this.selectedIndex=-1;this.inputType="radio";if(this.options.renderType=="native"){this.itemArr=[{label:"",value:this.options.value}];}else{this.initializeItemArr(_4);}this.itemDisabledArray=[];for(var i=0;i<this.itemArr.length;i++){this.itemDisabledArray.push(false);}this.setTableCount();this.validator=new $W._p.validateInvoker(this.id,this.options);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._q.prototype.toHTML=function(){["WebSquare.uiplugin.radio.toHTML"];try{var _7=[];var _8="label";var _9=this.itemArr.length;var _a=this.options.name||this.id+"_input";var _b=(this.options.style=="")?"":"style='"+this.options.style+"'";var _c=(this.options.title=="")?"":"title='"+this.options.title+"'";var _d=!this.options.tabIndex?"":" tabIndex='"+this.options.tabIndex+"'";if(this.options.ignoreTabIndex==true){if($W._G.isIEAllVersion("8")||$W._G.isIEAllVersion("9")){_d=" tabindex='-40000'";}else{_d=" tabindex='-1'";}}if(this.options.renderType.toLowerCase()=="native"){_7.push("<input type='"+this.inputType+"' "+_b+" class='w2"+this.inputType+"_input' name='"+_a+"' id='"+this.id+"' index='0' "+_c+_d+" />");}else{if(this.options.renderType.toLowerCase()=="radiogroup"){_7.push("<"+this.options.tagname+" id='"+this.id+"' "+_b+" class='w2"+this.inputType+" "+this.options.className+"' "+_c+" >");for(var i=0;i<_9;i++){var _f=this.id+"_input_"+i;var _10=(this.options.escape)?$W._B._encode(this.itemArr[i].label):this.itemArr[i].label;var _11="";var _12="";if(this.itemDisabledArray[i]){_11="disabled";_12="w2radio_disabled";}_7.push("<"+this.options.itemTagname+" class='w2radio_item w2radio_item_"+i+"'>");_7.push("<input type='"+this.inputType+"' class='w2"+this.inputType+"_input' name='"+_a+"' index='"+i+"'  id='"+_f+"' "+_11+_d+"/>");_7.push("<"+_8+" class='w2"+this.inputType+"_label "+_12+"' index='"+i+"' "+(_8=="label"?"for='"+_f+"'":"")+" >"+_10+"</"+_8+">");_7.push("</"+this.options.itemTagname+">");}_7.push("</"+this.options.tagname+">");}else{_7.push("<div id='"+this.id+"' "+_b+" class='w2"+this.inputType+" "+this.options.className+"' "+_c+" >");_7.push("<table class='w2"+this.inputType+"_main' cellpadding='0' cellspacing='0'>");for(var row=0;row<this.rowCount;row++){var _f=this.id+"_input_"+row;_7.push("<tr class='w2"+this.inputType+"_row'>");for(var col=0;col<this.colCount;col++){var _15=row*this.colCount+col;var _f=this.id+"_input_"+_15;var _11="";var _12="";if(this.itemDisabledArray[_15]){_11="disabled";_12="w2radio_disabled";}if(_15<_9){var _10=(this.options.escape)?$W._B._encode(this.itemArr[_15].label):this.itemArr[_15].label;var _16=this.options.useRadioTitle?" title='"+_10+"' ":"";_7.push("<td class='w2"+this.inputType+"_td_input'><input type='"+this.inputType+"' class='w2"+this.inputType+"_input' name='"+_a+"' index='"+_15+"'  id='"+_f+"'"+_16+" "+_11+_d+"/></td>");_7.push("<td class='w2"+this.inputType+"_td_label' ><"+_8+" class='w2"+this.inputType+"_label "+_12+"' index='"+_15+"' "+(_8=="label"?"for='"+_f+"'":"")+" >"+_10+"</"+_8+"></td>");}else{_7.push("<td class='w2"+this.inputType+"_td_input'></td>");_7.push("<td class='w2"+this.inputType+"_td_label'></td>");}}_7.push("</tr>");}_7.push("</table>");_7.push("</div>");}}return _7.join("");}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._q.prototype.setAction=function(){["WebSquare.uiplugin.radio.setAction"];try{if(this.modelControl.isItemsetBinded()){this.refreshItemArr();this.componentRedraw();}if(this.modelControl.isBinded()){var _17=this.modelControl.getData();this.setValueNM(_17);}if(this.options.selectedIndex>-1){this.setSelectedIndexNM(this.options.selectedIndex);if(this.modelControl.isBinded()){this.modelControl.setData(this.getValue());}}if(this.options.mandatory){this.onPropertyChange("mandatory",$W._G.getBoolean(this.options.mandatory));}this.event.addListener(this.render,"onclick",this.event.bindAsEventListener(this,this.handleClickEvent));}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._q.prototype.getAccessibiltyId=function(){["WebSquare.uiplugin.radio.getAccessibiltyId"];try{return this.options.renderType=="native"?this.id:this.id+"_input_0";}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._q.prototype.refreshItemset=function(){["WebSquare.uiplugin.radio.refreshItemset"];try{if(this.modelControl.isItemsetBinded()){var _18=this.getValue();var _19=false;if(this.getItemCount()==0&&this.options.selectedIndex>-1){_19=true;}this.refreshItemArr();this.itemDisabledArray=new Array();for(var i=0;i<this.itemArr.length;i++){this.itemDisabledArray.push(this.options.disabled);}this.componentRedraw(_18);if(_19){this.setSelectedIndexNM(this.options.selectedIndex);if(this.modelControl.isBinded()){this.modelControl.setData(this.getValue());}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._q.prototype.refresh=function(){["WebSquare.uiplugin.radio.refresh"];try{if(this.modelControl.isBinded()){var _1b=this.getValue();var _1c=this.modelControl.getData();this.setValueNM(_1c);if(_1b!=this.getValue()){$W._c.fireEvent(this,"onchange");}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._q.prototype.componentRedraw=function(_1d){["WebSquare.uiplugin.radio.componentRedraw"];try{this.setTableCount();this.redraw();this.setValueNM(_1d);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._q.prototype.getItemCount=function(){["WebSquare.uiplugin.radio.getItemCount"];try{return this.itemArr.length;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._q.prototype.setSelectedIndex=function(idx){["WebSquare.uiplugin.radio.setSelectedIndex"];try{if($W._G.isNull(idx)){return;}idx=parseInt(idx);var _1f=this.getSelectedIndex();this.setSelectedIndexNM(idx);this.modelControl.setData(this.itemArr[idx].value);if(_1f!=this.getSelectedIndex()){$W._c.fireEvent(this,"onchange");}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._q.prototype.getSelectedIndex=function(){["WebSquare.uiplugin.selectbox.getSelectedIndex"];try{return this.selectedIndex;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._q.prototype.setSelectedIndexNM=function(idx,_21){["WebSquare.uiplugin.radio.setSelectedIndexNM"];try{idx=parseInt(idx);if(idx<0||idx>=this.getItemCount()){return false;}this.selectedIndex=idx;var _22=this.getRadioList();var _23=_22[idx];_21=(_21==null)?true:_21;_23.checked=_21;return true;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._q.prototype.setValue=function(_24){["WebSquare.uiplugin.radio.setValue"];try{if($W._G.isNull(_24)){return;}var _25=this.getValue();this.setValueNM(_24);this.modelControl.setData(_24);if(_25!=this.getValue()){$W._c.fireEvent(this,"onchange");}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._q.prototype.setValueNM=function(_26){["WebSquare.uiplugin.radio.setValueNM"];try{if($W._G.isNull(_26)){return;}_26=_26.toString();var _27=this.getItemCount();var _28=false;for(var i=0;i<_27;i++){if(this.itemArr[i].value==_26){this.setSelectedIndexNM(i,true);_28=true;}else{if(this.options.inValidValue=="reset"){this.checkedRadio(i,false);}}}if(this.options.inValidValue=="reset"&&_28==false){this.selectedIndex=-1;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._q.prototype.checkedRadio=function(idx,_2b){["WebSquare.uiplugin.radio.checkedRadio"];try{idx=parseInt(idx);if(idx<0||idx>=this.getItemCount()){return false;}var _2c=this.getRadioList();var _2d=_2c[idx];_2b=(_2b==null)?true:_2b;_2d.checked=_2b;return true;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._q.prototype.setInstanceValue=function(){["WebSquare.uiplugin.radio.setInstanceValue"];try{var _2e=this.getValue();this.modelControl.setData(_2e);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._q.prototype.setTableCount=function(){["WebSquare.uiplugin.radio.setTableCount"];try{this.rowCount=this.itemArr.length;this.colCount=1;if(this.options.rows!=0){var _2f=this.options.rows;this.rowCount=_2f;this.colCount=Math.ceil(this.itemArr.length/_2f);}if(this.options.cols!=0){var _30=this.options.cols;this.colCount=_30;this.rowCount=Math.ceil(this.itemArr.length/_30);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._q.prototype.getValue=function(){["WebSquare.uiplugin.radio.getValue"];try{var ret="";var _32=this.getRadioList();for(var i=0;i<_32.length;i++){if(_32[i].checked){ret=this.itemArr[i].value;}}return ret;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._q.prototype.getText=function(){["WebSquare.uiplugin.radio.getText"];try{var ret="";var _35=this.getRadioList();for(var i=0;i<_35.length;i++){if(_35[i].checked){ret=this.itemArr[i].label;}}return ret;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._q.prototype.addItem=function(_37,_38,idx){["WebSquare.uiplugin.radio.addItem"];try{idx=parseInt(idx,10);if(isNaN(idx)){idx=this.getItemCount();}else{if(idx<0||idx>=this.getItemCount()){idx=this.getItemCount();}}var _3a=this.getValue();var _3b={};_3b.value=_37;_3b.label=_38;this.itemArr.splice(idx,0,_3b);this.itemDisabledArray.splice(idx,0,this.options.disabled?true:false);var _3c=this.getRadioList();var _3d=[];for(var i=0;i<_3c.length;i++){_3d.push(_3c[i].itemDisabled);}_3d.splice(idx,0,false);this.componentRedraw(_3a);var _3f=this.getRadioList();for(var i=0;i<_3f.length;i++){_3f[i].itemDisabled=_3d[i];}return idx;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._q.prototype.deleteItem=function(idx){["WebSquare.uiplugin.radio.deleteItem"];try{idx=parseInt(idx,10);if(isNaN(idx)){return;}var _41=this.getValue();var _42=null;var _43=this.getRadioList();var _44=[];for(var i=0;i<_43.length;i++){_44.push(_43[i].itemDisabled);}if(idx>=0&&idx<this.getItemCount()){_42=(this.itemArr.splice(idx,1))[0];this.itemDisabledArray.splice(idx,1);_44.splice(idx,1);}this.componentRedraw(_41);var _46=this.getRadioList();for(var i=0;i<_46.length;i++){_46[i].itemDisabled=_44[i];}return _42;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._q.prototype.removeAll=function(){["WebSquare.uiplugin.radio.removeAll"];try{this.itemArr=new Array();this.itemDisabledArray=new Array();this.componentRedraw("");}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._q.prototype.onPropertyChange=function(_47,_48){["WebSquare.uiplugin.radio.onPropertyChange"];try{switch(_47){case "readOnly":var _49=this.getRadioList();for(var i=0;i<_49.length;i++){_49[i].disabled=_48;}break;case "mandatory":if(_48==true){this.addClass(this.render,"w2radio_mandatory");}else{this.removeClass(this.render,"w2radio_mandatory");}break;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._q.prototype.getRadioList=function(){["WebSquare.uiplugin.radio.getRadioList"];try{if(this.options.renderType=="native"){return [this.render];}return this.getDomList("radioArr","input");}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._q.prototype.getLabelList=function(){["WebSquare.uiplugin.radio.getLabelList"];try{return this.getDomList("labelArr","label");}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._q.prototype.focus=function(){["WebSquare.uiplugin.radio.focus"];try{var _4b=this.getRadioList();_4b[0].focus();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._q.prototype.click=function(i){["WebSquare.uiplugin.radio.click"];try{var _4d=this.getRadioList();_4d[i].click();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._q.prototype.reset=function(){["WebSquare.uiplugin.radio.reset"];try{var _4e=this.getRadioList();var _4f=this.getValue();for(var i=0;i<_4e.length;i++){if(_4e[i].checked){_4e[i].checked=false;}}this.selectedIndex=-1;var _51=this.getValue();this.setInstanceValue();if(_4f!=_51){this.fireOnchange();}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._q.prototype.validate=function(){["WebSquare.uiplugin.radio.validate"];try{var _52=this.validator.validate(this.getValue());if(!_52){this.focus();}return _52;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._q.prototype.setDisabled=function(_53){["WebSquare.uiplugin.radio.setDisabled"];try{_53=$W._G.getBoolean(_53);var _54=this.getRadioList();var _55=this.getLabelList();for(var i=0;i<_54.length;i++){if(!_54[i].itemDisabled){if(_53){_54[i].setAttribute("disabled","disabled");}else{_54[i].removeAttribute("disabled");}this.itemDisabledArray[i]=_53;if(_55[i]){if(_53){this.addClass(_55[i],"w2radio_disabled");}else{this.removeClass(_55[i],"w2radio_disabled");}}}}this.options.disabled=_53;if(_53){this.render.setAttribute("disabled","disabled");}else{this.render.removeAttribute("disabled");}return _53;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._q.prototype.setItemDisabled=function(idx,_58){["WebSquare.uiplugin.radio.setItemDisabled"];try{idx=parseInt(idx);if(idx<0||idx>=this.getItemCount()){return;}_58=$W._G.getBoolean(_58);var _59=this.getRadioList();var _5a=this.getLabelList();_59[idx].disabled=_58;_59[idx].itemDisabled=_58;this.itemDisabledArray[idx]=_58;if(_58==true){this.addClass(_5a[idx],"w2radio_disabled");}else{this.removeClass(_5a[idx],"w2radio_disabled");}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._q.prototype.getItemDisabled=function(idx){["WebSquare.uiplugin.radio.getItemDisabled"];try{idx=parseInt(idx);if(idx<0||idx>=this.getItemCount()){return;}var _5c=this.getRadioList();return _5c[idx].disabled;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._q.prototype.setInitValue=function(_5d){["WebSquare.uiplugin.radio.setInitValue"];try{var _5e=this.getValue();var _5f=this.getRadioList();for(var i=0;i<_5f.length;i++){if(_5f[i].checked){_5f[i].checked=false;}}this.setValueNM(this.options.initValue);this.modelControl.setData(this.options.initValue);if(_5d.fireEvent){if(_5e!=this.getValue()){$W._c.fireEvent(this,"onchange");}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._q.prototype.setRef=function(ref){["WebSquare.uiplugin.radio.prototype.setRef "];try{if(!this.modelControl.isBinded()){this.modelControl.useRef=true;}this.options.ref=ref;this.modelControl.setRef(ref);this.refresh();}catch(e){$W.exception.printStackTrace(e);}};$W._a._q.prototype.handleClickEvent=function(e){["WebSquare.uiplugin.radio.handleClickEvent"];try{this.setRefPosition();var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match(null,this.id)){}if(it.match("w2"+this.inputType+"_input")){var _64=it.getElement().getAttribute("index");var _65=this.selectedIndex;var _66=this.getRadioList();if(_66[_64].disabled){continue;}this.setSelectedIndex(_64);this.fireOnclick({"type":"1","index":_64,"oldIndex":_65});}if(it.match("w2"+this.inputType+"_label")&&!it.match("w2"+this.inputType+"_disabled")){var _64=it.getElement().getAttribute("index");var _66=this.getRadioList();$W._c.stopEvent(e);var _65=this.selectedIndex;this.setSelectedIndex(_64);this.fireOnclick({"type":"2","index":_64,"oldIndex":_65});}}it=null;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._q.prototype.fireOnchange=function(){["WebSquare.uiplugin.radio.fireOnchange"];try{$W._c.fireEvent(this,"onchange");}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._q.prototype.fireOnclick=function(obj){["WebSquare.uiplugin.radio.fireOnclick"];try{if(!obj){return;}var _68=obj.type||"1";var _69=obj.index;var _6a=this.getValue();var _6b=obj.oldIndex;if(_68==="1"){$W._c.fireEvent(this,"onradioclick",_69,_6a);}else{if(_68==="2"){$W._c.fireEvent(this,"onlabelclick",_69,_6a);}}if(_69!=_6b){$W._c.fireEvent(this,"onviewchange",{"index":_69,"value":_6a});}}catch(e){$W.exception.printStackTrace(e,null,this);}};;WebSquare.uiplugin.radio=$W._a._q;requires("uiplugin/control/itemsetControl.js");requires("engine/validator.js");$W._a.bl=function(id,_2,_3){["WebSquare.uiplugin.checkbox"];$W._t.call(this,id,_2,_3);};$W.extend($W._a.bl.prototype,$W._t.prototype);$W.extend($W._a.bl.prototype,$W.itemsetControl.prototype);$W.extend($W._a.bl.prototype,$W.IValidate.prototype);$W._a.bl.prototype.defaultOptions={pluginType:"uiplugin.checkbox",pluginName:"checkbox",userEvents:["onchange","onlabelclick","oncheckboxclick","onviewchange"],renderType:"",tagname:"div",itemTagname:"div",value:"",cols:0,rows:0,name:"",selectedindex:-1,initValue:"",mandatory:false,maxlength:-1,minlength:-1,allowChar:"",ignoreChar:"",characterCase:"",maxByteLength:-1,minByteLength:-1,validator:"",invalidMessage:"",invalidMessageFunc:"",displaymessage:false,title:"",useCheckboxTitle:true,escape:false,falseValue:"",ignoreTabIndex:false,separator:" "};$W._a.bl.prototype.initialize=function(_4){["WebSquare.uiplugin.checkbox.initialize"];try{this.inputType="checkbox";var _5=$W._N.getConfiguration("/WebSquare/checkbox/renderType/@value");if(this.options.renderType==""&&_5!=""){this.options.renderType=_5;}else{if(this.options.renderType==""){this.options.renderType="table";}}if(this.options.renderType=="native"){this.itemArr=[{label:"",value:this.options.value}];}else{this.initializeItemArr(_4);}this.itemDisabledArray=[];for(var i=0;i<this.itemArr.length;i++){this.itemDisabledArray.push(false);}this.setTableCount();this.validator=new $W._p.validateInvoker(this.id,this.options);this.oldValueForIE=[];this.settingData=false;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bl.prototype.toHTML=function(){["WebSquare.uiplugin.checkbox.toHTML"];try{var _7=[];var _8="label";var _9=this.itemArr.length;var _a=this.options.name||this.id+"_input";var _b=(this.options.style=="")?"":"style='"+this.options.style+"'";var _c=(this.options.title=="")?"":"title='"+this.options.title+"'";var _d=(this.options.ignoreTabIndex==true)?" tabindex='-1'":(!this.options.tabIndex?"":" tabIndex='"+this.options.tabIndex+"'");if(this.options.renderType.toLowerCase()=="native"){_7.push("<input type='"+this.inputType+"' "+_b+" class='w2"+this.inputType+"_input' name='"+_a+"' id='"+this.id+"' index='0' "+_c+_d+" />");}else{if(this.options.renderType.toLowerCase()=="checkboxgroup"){_7.push("<"+this.options.tagname+" id='"+this.id+"' "+_b+" class='w2"+this.inputType+" "+this.options.className+"' "+_c+">");for(var i=0;i<_9;i++){var _f=this.id+"_input_"+i;var _10=(this.options.escape)?$W._B._encode(this.itemArr[i].label):this.itemArr[i].label;var _11="";var _12="";if(this.itemDisabledArray[i]){_11="disabled";_12="w2checkbox_disabled";}_7.push("<"+this.options.itemTagname+" class='w2checkbox_item w2checkbox_item_"+i+"'>");_7.push("<input type='"+this.inputType+"' class='w2"+this.inputType+"_input' name='"+_a+"' index='"+i+"' id='"+_f+"' "+_11+_d+" />");_7.push("<"+_8+" class='w2"+this.inputType+"_label "+_12+"' index='"+i+"' "+(_8=="label"?"for='"+_f+"'":"")+">"+_10+"</"+_8+">");_7.push("</"+this.options.itemTagname+">");}_7.push("</"+this.options.tagname+">");}else{_7.push("<div id='"+this.id+"' "+_b+" class='w2"+this.inputType+" "+this.options.className+"' "+_c+">");_7.push("<table class='w2"+this.inputType+"_main' cellpadding='0' cellspacing='0'>");for(var row=0;row<this.rowCount;row++){_f=this.id+"_input_"+row;_7.push("<tr class='w2"+this.inputType+"_row'>");for(var col=0;col<this.colCount;col++){var _15=row*this.colCount+col;var _f=this.id+"_input_"+_15;var _11="";var _12="";if(this.itemDisabledArray[_15]){_11="disabled";_12="w2checkbox_disabled";}if(_15<_9){var _10=(this.options.escape)?$W._B._encode(this.itemArr[_15].label):this.itemArr[_15].label;var _16=this.options.useCheckboxTitle?" title='"+_10+"' ":"";_7.push("<td class='w2"+this.inputType+"_td_input'><input type='"+this.inputType+"' class='w2"+this.inputType+"_input' name='"+_a+"' index='"+_15+"'  id='"+_f+"'"+_16+""+_11+_d+"/></td>");_7.push("<td class='w2"+this.inputType+"_td_label'><"+_8+" class='w2"+this.inputType+"_label "+_12+"' index='"+_15+"' "+(_8=="label"?"for='"+_f+"'":"")+">"+_10+"</"+_8+"></td>");}else{_7.push("<td class='w2"+this.inputType+"_td_input'></td>");_7.push("<td class='w2"+this.inputType+"_td_label'></td>");}}_7.push("</tr>");}_7.push("</table>");_7.push("</div>");}}return _7.join("");}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bl.prototype.setAction=function(){["WebSquare.uiplugin.checkbox.setAction"];try{if(this.modelControl.isItemsetBinded()){this.refreshItemArr();this.componentRedraw();}if(this.modelControl.isBinded()){var _17=this.modelControl.getData();this.setValueNM(_17);}var _18=this.getCheckboxList();if(this.options.selectedindex>-1){for(var i=0;i<_18.length;i++){var _1a=_18[i];_1a.checked=false;this.oldValueForIE[i]=false;}this.setSelectedIndexNM(this.options.selectedindex);if(this.modelControl.isBinded()){this.modelControl.setData(this.getValue());}}else{for(var i=0;i<_18.length;i++){this.oldValueForIE[i]=false;}}if(this.options.mandatory){this.onPropertyChange("mandatory",$W._G.getBoolean(this.options.mandatory));}this.event.addListener(this.render,"onclick",this.event.bindAsEventListener(this,this.handleClickEvent));}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bl.prototype.getAccessibiltyId=function(){["WebSquare.uiplugin.checkbox.getAccessibiltyId"];try{return this.options.renderType=="native"?this.id:this.id+"_input_0";}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bl.prototype.refreshItemset=function(){["WebSquare.uiplugin.checkbox.refreshItemset"];try{if(this.modelControl.isItemsetBinded()){var _1b=this.getValue();this.refreshItemArr();this.itemDisabledArray=new Array();for(var i=0;i<this.itemArr.length;i++){this.itemDisabledArray.push(this.options.disabled);}this.componentRedraw(_1b);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bl.prototype.refresh=function(){["WebSquare.uiplugin.checkbox.refresh"];try{if(this.modelControl.isBinded()){var _1d=this.getValue();var _1e=this.modelControl.getData();this.setValueNM(_1e);if(_1d!=this.getValue()){$W._c.fireEvent(this,"onchange");}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bl.prototype.componentRedraw=function(_1f){["WebSquare.uiplugin.checkbox.componentRedraw"];try{this.setTableCount();this.redraw();this.setValueNM(_1f);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bl.prototype.getItemCount=function(){["WebSquare.uiplugin.checkbox.getItemCount"];try{return this.itemArr.length;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bl.prototype.setSelectedIndex=function(idx,_21){["WebSquare.uiplugin.checkbox.setSelectedIndex"];try{if($W._G.isNull(idx)||isNaN(Number(idx))==true){return;}idx=parseInt(idx);var _22=this.getSelectedIndex();var _23=this.getValue();if($W._G.isIEAllVersion()&&parseInt($W._N.browserVersion(),10)>8){this.setSelectedIndexNM(idx,null,_21);}else{this.setSelectedIndexNM(idx);}this.settingData=true;this.modelControl.setData(this.getValue());this.settingData=false;if(_23!=this.getValue()){$W._c.fireEvent(this,"onchange");}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bl.prototype.getSelectedIndex=function(_24){["WebSquare.uiplugin.checkbox.getSelectedIndex"];try{if(!_24){_24=this.options.separator||" ";}var ret=[];var _26=this.getCheckboxList();for(var i=0;i<_26.length;i++){if(_26[i].checked){ret.push(i);}}return ret.join(_24).wq_trim();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bl.prototype.setSelectedIndexNM=function(idx,_29,_2a){["WebSquare.uiplugin.checkbox.setSelectedIndexNM"];try{idx=parseInt(idx);if(idx<0||idx>=this.getItemCount()){return false;}var _2b=this.getCheckboxList();var _2c=_2b[idx];_29=(_29==null)?!_2c.checked:_29;_2c.checked=_29;if(_2a!=2&&this.settingData!=true){this.oldValueForIE[idx]=_29;}return true;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bl.prototype.setValue=function(_2d){["WebSquare.uiplugin.checkbox.setValue"];try{if($W._G.isNull(_2d)){return;}var _2e=this.getValue();this.setValueNM(_2d);this.modelControl.setData(_2d);if(_2e!=this.getValue()){$W._c.fireEvent(this,"onchange");}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bl.prototype.setValueNM=function(_2f){["WebSquare.uiplugin.checkbox.setValueNM"];try{if($W._G.isNull(_2f)){return;}_2f=_2f.toString();var _30=this.getValue();var _31=_2f.split(this.options.separator||" ");var _32=[];for(var i=0;i<_31.length;i++){_32[_31[i]+""]="";}var _34=this.getItemCount();for(var i=0;i<_34;i++){var _2f=this.itemArr[i].value;if(_32[_2f]!=null){this.setSelectedIndexNM(i,true);}else{this.setSelectedIndexNM(i,false);}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bl.prototype.setInstanceValue=function(){["WebSquare.uiplugin.checkbox.setInstanceValue"];try{var _35=this.getValue();this.modelControl.setData(_35);this.fireOnchange();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bl.prototype.setTableCount=function(){["WebSquare.uiplugin.checkbox.setTableCount"];try{this.rowCount=this.itemArr.length;this.colCount=1;if(this.options.rows!=0){var _36=this.options.rows;this.rowCount=_36;this.colCount=Math.ceil(this.itemArr.length/_36);}if(this.options.cols!=0){var _37=this.options.cols;this.colCount=_37;this.rowCount=Math.ceil(this.itemArr.length/_37);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bl.prototype.getText=function(_38){["WebSquare.uiplugin.checkbox.getText"];try{if(!_38){_38=this.options.separator||" ";}var ret=[];var _3a=this.getCheckboxList();for(var i=0;i<_3a.length;i++){if(_3a[i].checked){ret.push(this.itemArr[i].label);}}return ret.join(_38).wq_trim();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bl.prototype.getValue=function(_3c){["WebSquare.uiplugin.checkbox.getValue"];try{if(!_3c){_3c=this.options.separator||" ";}var ret=[];var _3e=this.getCheckboxList();for(var i=0;i<_3e.length;i++){if(_3e[i].checked){ret.push(this.itemArr[i].value);}}return ret.join(_3c).wq_trim()||this.options.falseValue;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bl.prototype.addItem=function(_40,_41,idx){["WebSquare.uiplugin.checkbox.addItem"];try{idx=parseInt(idx,10);if(isNaN(idx)){idx=this.getItemCount();}else{if(idx<0||idx>=this.getItemCount()){idx=this.getItemCount();}}var _43=this.getValue();var _44={};_44.value=_40;_44.label=_41;this.itemArr.splice(idx,0,_44);this.itemDisabledArray.splice(idx,0,this.options.disabled?true:false);var _45=this.getCheckboxList();var _46=[];for(var i=0;i<_45.length;i++){_46.push(_45[i].itemDisabled);}_46.splice(idx,0,false);this.componentRedraw(_43);var _48=this.getCheckboxList();for(var i=0;i<_48.length;i++){_48[i].itemDisabled=_46[i];}return idx;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bl.prototype.deleteItem=function(idx){["WebSquare.uiplugin.checkbox.deleteItem"];try{idx=parseInt(idx,10);if(isNaN(idx)){return;}var _4a=this.getValue();var _4b=null;var _4c=this.getCheckboxList();var _4d=[];for(var i=0;i<_4c.length;i++){_4d.push(_4c[i].itemDisabled);}if(idx>=0&&idx<this.getItemCount()){_4b=(this.itemArr.splice(idx,1))[0];this.itemDisabledArray.splice(idx,1);_4d.splice(idx,1);}this.componentRedraw(_4a);var _4f=this.getCheckboxList();for(var i=0;i<_4f.length;i++){_4f[i].itemDisabled=_4d[i];}return _4b;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bl.prototype.removeAll=function(){["WebSquare.uiplugin.checkbox.removeAll"];try{this.itemArr=new Array();this.itemDisabledArray=new Array();this.componentRedraw("");}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bl.prototype.onPropertyChange=function(_50,_51){["WebSquare.uiplugin.checkbox.onPropertyChange"];try{switch(_50){case "readOnly":var _52=this.getCheckboxList();for(var i=0;i<_52.length;i++){_52[i].disabled=_51;}break;case "mandatory":if(_51==true){this.addClass(this.render,"w2checkbox_mandatory");}else{this.removeClass(this.render,"w2checkbox_mandatory");}break;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bl.prototype.getCheckboxList=function(){["WebSquare.uiplugin.checkbox.getCheckboxList"];try{if(this.options.renderType=="native"){return [this.render];}return this.getDomList("checkboxArr","input");}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bl.prototype.getLabelList=function(){["WebSquare.uiplugin.checkbox.getLabelList"];try{return this.getDomList("labelArr","label");}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bl.prototype.focus=function(){["WebSquare.uiplugin.checkbox.focus"];try{var _54=this.getCheckboxList();_54[0].focus();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bl.prototype.click=function(i){["WebSquare.uiplugin.checkbox.click"];try{var _56=this.getCheckboxList();_56[i].click();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bl.prototype.reset=function(){["WebSquare.uiplugin.checkbox.reset"];try{var _57=this.getCheckboxList();for(var i=0;i<_57.length;i++){if(_57[i].checked){_57[i].checked=false;this.oldValueForIE[i]=false;}}this.setInstanceValue();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bl.prototype.checkAll=function(_59){["WebSquare.uiplugin.checkbox.checkAll"];try{var _5a=this.getItemCount();for(var i=0;i<_5a;i++){this.setSelectedIndexNM(i,_59);}if(this.modelControl.isBinded()){this.modelControl.setData(this.getValue());}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bl.prototype.validate=function(){["WebSquare.uiplugin.checkbox.validate"];try{var _5c=this.validator.validate(this.getValue());if(!_5c){this.focus();}return _5c;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bl.prototype.setDisabled=function(_5d){["WebSquare.uiplugin.checkbox.setDisabled"];try{_5d=$W._G.getBoolean(_5d);var _5e=this.getCheckboxList();var _5f=this.getLabelList();for(var i=0;i<_5e.length;i++){if(!_5e[i].itemDisabled){this.itemDisabledArray[i]=_5d;if(_5f[i]){if(_5d){this.addClass(_5f[i],"w2checkbox_disabled");_5e[i].setAttribute("disabled","disabled");}else{this.removeClass(_5f[i],"w2checkbox_disabled");_5e[i].removeAttribute("disabled");}}else{if(_5d){this.addClass(_5f[i],"w2checkbox_disabled");_5e[i].setAttribute("disabled","disabled");}else{this.removeClass(_5f[i],"w2checkbox_disabled");_5e[i].removeAttribute("disabled");}}}}this.options.disabled=_5d;if(_5d){this.render.setAttribute("disabled","disabled");}else{this.render.removeAttribute("disabled");}return _5d;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bl.prototype.setItemDisabled=function(idx,_62){["WebSquare.uiplugin.checkbox.setItemDisabled"];try{idx=parseInt(idx);if(idx<0||idx>=this.getItemCount()){return;}_62=$W._G.getBoolean(_62);var _63=this.getCheckboxList();var _64=this.getLabelList();_63[idx].disabled=_62;_63[idx].itemDisabled=_62;this.itemDisabledArray[idx]=_62;if(_62==true){this.addClass(_64[idx],"w2checkbox_disabled");}else{this.removeClass(_64[idx],"w2checkbox_disabled");}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bl.prototype.getItemDisabled=function(idx){["WebSquare.uiplugin.checkbox.getItemDisabled"];try{idx=parseInt(idx);if(idx<0||idx>=this.getItemCount()){return;}var _66=this.getCheckboxList();return _66[idx].disabled;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bl.prototype.setInitValue=function(_67){["WebSquare.uiplugin.checkbox.setInitValue"];try{var _68=this.getValue();this.checkAll(false);this.setValueNM(this.options.initValue);this.modelControl.setData(this.options.initValue);if(_67.fireEvent){if(_68!=this.getValue()){$W._c.fireEvent(this,"onchange");}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bl.prototype.setRef=function(ref){["WebSquare.uiplugin.checkbox.prototype.setRef "];try{if(!this.modelControl.isBinded()){this.modelControl.useRef=true;}this.options.ref=ref;this.modelControl.setRef(ref);this.refresh();}catch(e){$W.exception.printStackTrace(e);}};$W._a.bl.prototype.handleClickEvent=function(e){["WebSquare.uiplugin.checkbox.handleClickEvent"];try{this.setRefPosition();var it=this.event.getTargetIterator(e,this.render);while(it.next()){var _6c;if(it.match("w2"+this.inputType+"_input")){if(!($W._G.isIEAllVersion()&&parseInt($W._N.browserVersion(),10)>8)){this.setInstanceValue();}var _6d=it.getElement().getAttribute("index");_6c=1;this.fireOnclick({"type":"1","index":_6d});}else{if(it.match("w2"+this.inputType+"_label")&&!it.match("w2"+this.inputType+"_disabled")){var _6d=it.getElement().getAttribute("index");$W._c.stopEvent(e);_6c=2;if($W._G.isIEAllVersion()&&parseInt($W._N.browserVersion(),10)>8){this.setSelectedIndex(_6d,_6c);}else{this.setSelectedIndex(_6d);}this.fireOnclick({"type":"2","index":_6d});}}}it=null;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bl.prototype.fireOnchange=function(){["WebSquare.uiplugin.checkbox.fireOnchange"];try{$W._c.fireEvent(this,"onchange");}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bl.prototype.fireOnclick=function(obj){["WebSquare.uiplugin.checkbox.fireOnclick"];try{if(!obj){return;}var _6f=obj.type||"1";var _70=obj.index;var _71=this.getCheckboxList();var _72=_71[_70].checked;var _73=this.itemArr[_70].value;var _74=false;if($W._G.isIEAllVersion()&&parseInt($W._N.browserVersion(),10)>8){if(this.oldValueForIE[_70]==undefined){this.oldValueForIE[_70]=_72;if(_6f==="1"){this.setInstanceValue();}}else{if(_72==this.oldValueForIE[_70]){_74=true;}else{this.oldValueForIE[_70]=_72;if(_6f==="1"){this.setInstanceValue();}}}}if(!_71[_70].disabled){if(_6f==="1"){$W._c.fireEvent(this,"oncheckboxclick",_70,_72,_73);}else{if(_6f==="2"){$W._c.fireEvent(this,"onlabelclick",_70,_72,_73);}}if(_74==false){$W._c.fireEvent(this,"onviewchange",{"index":_70,"checked":_72,"value":_73});}}}catch(e){$W.exception.printStackTrace(e,null,this);}};;WebSquare.uiplugin.checkbox=$W._a.bl;$W._a.bf=function(id,_2,_3){["WebSquare.uiplugin.template"];$W._t.call(this,id,_2,_3);};$W.extend($W._a.bf.prototype,$W._t.prototype);$W._a.bf.prototype.defaultOptions={pluginType:"uiplugin.template",pluginName:"template"};$W._a.bf.prototype.initialize=function(_4){};$W._a.bf.prototype.toHTML=function(){["WebSquare.uiplugin.template.toHTML"];var _5=[];var _6=(this.options.style=="")?"":"style='"+this.options.style+"'";_5.push("<div id='"+this.id+"' "+_6+" class='w2template "+this.options.className+"'>");_5.push("</div>");return _5.join("");};$W._a.bf.prototype.setAction=function(){};$W._a.bf.prototype.setLayout=function(){};$W._a.bf.prototype.refreshItemset=function(){};$W._a.bf.prototype.refresh=function(){};$W._a.bf.prototype.handleClickEvent=function(e){var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match("w2template")){}}it=null;};$W._a.bf.prototype.handleMouseoverEvent=function(e){$W._c.stopEvent(e);var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match("w2template")){this.addClass(it.getElement(),"w2template_over");}}it=null;};$W._a.bf.prototype.handleMouseoutEvent=function(e){$W._c.stopEvent(e);var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match("w2template")){this.removeClass(it.getElement(),"w2template_over");}}it=null;};;WebSquare.uiplugin.template=$W._a.bf;requires("engine/validator.js");requires("uiplugin/control/historyManager.js");$W._a.bk=function(id,_2,_3){["WebSquare.uiplugin.textarea"];$W._t.call(this,id,_2,_3);};$W.extend($W._a.bk.prototype,$W._t.prototype);$W.extend($W._a.bk.prototype,$W.IValidate.prototype);$W._a.bk.prototype.defaultOptions={pluginType:"uiplugin.textarea",pluginName:"textarea",userEvents:["oneditend","onchange","onviewchange"],systemEvents:["onclick","ondblclick","onkeydown","onfocus","onbeforeeditfocus","onfocusin","onblur","onkeyup","onkeypress","onmouseup","onmousedown","onmouseover","onmouseout","onmousemove"],useConfig:true,initValue:"",mandatory:false,maxlength:-1,minlength:-1,allowChar:"",ignoreChar:"",characterCase:"",maxByteLength:-1,minByteLength:-1,validator:"",invalidMessage:"",invalidMessageFunc:"",displaymessage:false,title:"",wrap:"",readOnlyClass:"w2textarea_readonly",focusRemember:false,placeholder:""};$W._a.bk.prototype.initialize=function(_4){["WebSquare.uiplugin.textarea.initialize"];try{this.validator=new $W._p.validateInvoker(this.id,this.options);this.refreshStop=false;this.caretPosition={start:-1,end:-1};this.rememberCaretPosition=this.options.focusRemember&&$W._N.browserCheck.ie&&parseInt($W._N.browserVersion(),10)<10;this._focusStatus="init";this.realValue="";this.supportPlaceholder=false;if(this.options.placeholder){if($W._a.bk.placeholder){this.supportPlaceholder=true;}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bk.placeholder=(function(){var _5=document.createElement("textarea");return typeof _5.placeholder=="string";})();$W._a.bk.prototype.toHTML=function(){["WebSquare.uiplugin.textarea.toHTML"];try{var _6=[];var _7=(this.options.style=="")?"":"style='"+this.options.style+"'";var _8=(this.options.title=="")?"":"title='"+this.options.title+"'";var _9=(this.options.wrap=="")?"":"wrap='"+this.options.wrap+"'";var _a=(this.supportPlaceholder=="")?"":" placeholder='"+this.options.placeholder+"'";_6.push("<textarea id='"+this.id+"' "+_7+" class='w2textarea "+this.options.className+"' "+_8+" "+_9+" "+_a+">");_6.push("</textarea>");return _6.join("");}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bk.prototype.setAction=function(){["WebSquare.uiplugin.textarea.setAction"];try{this.addEvent("oneditend",function(){if(this.options.placeholder&&!this.supportPlaceholder){if(this.realValue.length==0&&this.render.className.match("w2textarea_placeholder")){return;}}var _b=this.getValue();var _c=_b;if(this.options.maxByteLength!=-1){_b=$W._G.getStringByByteSize(_b,this.options.maxByteLength);}_b=this.validator.validateString(_b);if(!this.options.focusRemember||_c!=_b){this.setValueNM(_b);}});if(this.options.maxlength>0){this.render.setAttribute("maxlength",this.options.maxlength);}if(this.options.mandatory){this.onPropertyChange("mandatory",$W._G.getBoolean(this.options.mandatory));}if($W._G.isIEAllVersion()||$W._G.isSpartan()){this.event.addListener(this.render,"onbeforeeditfocus",this.event.bindAsEventListener(this,this.handleBeforeFocusEvent));this.event.addListener(this.render,"onfocusin",this.event.bindAsEventListener(this,this.handleFocusinEvent));}this.event.addListener(this.render,"onfocus",this.event.bindAsEventListener(this,this.handleFocusEvent));this.event.addListener(this.render,"onblur",this.event.bindAsEventListener(this,this.handleBlurEvent));this.event.addListener(this.render,"onkeypress",this.event.bindAsEventListener(this,this.handleKeypressEvent));this.event.addListener(this.render,"onkeyup",this.event.bindAsEventListener(this,this.handleKeyupEvent));if(this.rememberCaretPosition){this.event.addListener(this.render,"onmouseup",this.event.bindAsEventListener(this,this.handleMouseupEvent));}if(this.options.placeholder&&!this.supportPlaceholder){if(this.realValue.length==0){this.render.value=this.options.placeholder;this.addClass("w2textarea_placeholder");}}this.refresh();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bk.prototype.refresh=function(){["WebSquare.uiplugin.textarea.refresh"];try{if(this.modelControl.isBinded()){var _d=this.getValue();var _e=this.modelControl.getData();this.setValueNM(_e);if(_d!=this.getValue()){$W._c.fireEvent(this,"onchange");}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bk.prototype.setValue=function(_f){["WebSquare.uiplugin.textarea.setValue"];try{if($W._G.isNull(_f)){return;}var _10=this.getValue();this.setValueNM(_f);this.modelControl.setData(_f);if(_10!=this.getValue()){$W._c.fireEvent(this,"onchange");}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bk.prototype.setValueNM=function(_11){["WebSquare.uiplugin.textarea.setValueNM"];try{if($W._G.isNull(_11)||this.refreshStop){return;}_11=_11.toString();if(this.options.placeholder&&!this.supportPlaceholder){if(_11.length==0){if(!this.hasClass("w2textarea_placeholder")){this.addClass("w2textarea_placeholder");}this.render.value=this.options.placeholder;}else{this.removeClass("w2textarea_placeholder");this.render.value=_11;}}else{this.render.value=_11;}this.realValue=_11;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bk.prototype.getValue=function(){["WebSquare.uiplugin.textarea.getValue"];try{if(this.refreshStop){return this.refreshStopValue;}else{if(this.options.placeholder&&!this.supportPlaceholder&&this.realValue.length==0){if(this.hasClass("w2textarea_placeholder")){return "";}else{return this.render.value;}}else{return this.render.value;}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bk.prototype.validate=function(){["WebSquare.uiplugin.textarea.validate"];try{var _12=this.validator.validate(this.getValue());if(!_12){this.focus();}return _12;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bk.prototype.setInitValue=function(_13){["WebSquare.uiplugin.textarea.setInitValue"];try{var _14=this.getValue();this.setValueNM(this.options.initValue);this.modelControl.setData(this.options.initValue);if(_13.fireEvent){if(_14!=this.getValue()){$W._c.fireEvent(this,"onchange");}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bk.prototype.onPropertyChange=function(_15,_16){["WebSquare.uiplugin.textarea.onPropertyChange"];try{switch(_15){case "disabled":if(_16==true){this.addClass(this.render,"w2textarea_disabled");}else{this.removeClass(this.render,"w2textarea_disabled");}break;case "readOnly":if(_16==true){this.addClass(this.render,this.options.readOnlyClass);}else{this.removeClass(this.render,this.options.readOnlyClass);}break;case "mandatory":if(_16==true){this.addClass(this.render,"w2textarea_mandatory");}else{this.removeClass(this.render,"w2textarea_mandatory");}break;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bk.prototype.setRef=function(ref){["WebSquare.uiplugin.textarea.prototype.setRef "];try{if(!this.modelControl.isBinded()){this.modelControl.useRef=true;}this.options.ref=ref;this.modelControl.setRef(ref);this.refresh();}catch(e){$W.exception.printStackTrace(e);}};$W._a.bk.prototype.handleFocusEvent=function(e){["WebSquare.uiplugin.textarea.handleFocusEvent"];try{if(this.options.placeholder&&!this.supportPlaceholder){if(this.realValue.length==0){this.render.value="";this.removeClass("w2textarea_placeholder");}}if(this.rememberCaretPosition){this.caretPosition=$W._A.getSelection(this.render);}var _19=this;$W.historyManager.set(this.options.pluginName,this.id,{value:this.getValue()},{onRestore:function(_1a){_19.refreshStop=true;_19.refreshStopValue=_1a.value;var _1b=_19.refreshStopValue;if($W._G.isNull(_1b)){return;}var _1c=_19.render.value;_19.setValueNM(_1b);_19.modelControl.setData(_1b);if(_1c!=_1b){$W._c.fireEvent(_19,"onchange");}_19.refreshStop=false;_19.refreshStopValue="";}});this._focusStatus="done";}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bk.prototype.handleBlurEvent=function(e){["WebSquare.uiplugin.textarea.handleBlurEvent"];try{$W._c.fireEvent(this,"oneditend");if(this.options.focusRemember){var _1e=this.getValue();if($W._G.isNull(_1e)){return;}this.modelControl.setData(_1e);}else{this.setValue(this.getValue());}var _1f=$W.historyManager.get(this.options.pluginName,this.id);if(_1f.value!=this.getValue()){$W._c.fireEvent(this,"onchange");$W._c.fireEvent(this,"onviewchange",{"oldValue":_1f.value,"newValue":this.getValue()});}this._focusStatus="init";}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bk.prototype.handleKeypressEvent=function(e){["WebSquare.uiplugin.textarea.handleKeypressEvent"];try{if(!this.validator.validateKeyPress(this.render,this.getValue(),e)){$W._c.stopEvent(e);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bk.prototype.handleKeyupEvent=function(e){["WebSquare.uiplugin.textarea.handleKeyupEvent"];try{var _22=false;var _23=(e.charCode)?e.charCode:e.keyCode;if(_23==37){}else{if(_23==38){}else{if(_23==39){}else{if(_23==40){}else{if(_23==33){}else{if(_23==34){}else{if(_23==35){}else{if(_23==36){}else{if($W._G.isIE()&&this.options.maxlength>-1){var _24=$W._A.getSelection(this.render);if(e.charCode!=0&&_24.start==_24.end&&this.render.value.length+1>this.options.maxlength){_22=true;}}}}}}}}}}if(this.options.maxByteLength!=-1){var _25=this.render.value;var _26=$W._G.getStringByByteSize(_25,this.options.maxByteLength);if(_25!=_26){_22=true;}}if(this.rememberCaretPosition){this.caretPosition=$W._A.getSelection(this.render);}if(_22){this.render.blur();if(this.rememberCaretPosition){$W._A.setSelection(this.render,this.caretPosition);}else{this.render.focus();}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bk.prototype.focus=function(){["WebSquare.uiplugin.textarea.focus"];if(this.rememberCaretPosition){$W._A.setSelection(this.render,this.caretPosition);}else{$W._t.prototype.focus.call(this);}};$W._a.bk.prototype.handleMouseupEvent=function(e){this.caretPosition=$W._A.getSelection(this.render);};$W._a.bk.prototype.handleFocusinEvent=function(e){["WebSquare.uiplugin.textarea.handleFocusinEvent"];this._focusStatus="focusin";};$W._a.bk.prototype.handleBeforeFocusEvent=function(e){["WebSquare.uiplugin.textarea.handleBeforeFocusEvent"];switch(this._focusStatus){case "init":this._focusStatus="ready";break;case "ready":this._focusStatus="cancel";this.focus();break;case "done":this._focusStatus="init";break;}};$W._a.bk.prototype.setPlaceholder=function(str){["WebSquare.uiplugin.textarea.prototype.setPlaceholder "];try{if($W._G.isNull(str)){return;}if(this.options.placeholder!=str){this.options.placeholder=str;this.options.original_placeholder=str;if(this.supportPlaceholder){var dom=document.getElementById(this.id);if(!dom.disabled&&!dom.readOnly){dom.placeholder=this.options.placeholder;}else{this.options.placeholder="";}}else{if(!this.render.disabled&&!this.render.readOnly){if(this.hasClass("w2textarea_placeholder")){this.render.value=this.options.placeholder;}}else{this.options.placeholder="";}}}}catch(e){$W.exception.printStackTrace(e);}};$W._a.bk.prototype.setDisabled=function(_2c){["WebSquare.uiplugin.textarea.setDisabled"];try{_2c=$W._G.getBoolean(_2c);if(_2c){if(this.options.placeholder||this.options.original_placeholder){var _2d=this.options.placeholder||this.options.original_placeholder;this.setPlaceholder("");this.options.original_placeholder=_2d;}this.options.disabled=_2c;this.setProperty("disabled",_2c);}else{this.options.disabled=_2c;this.setProperty("disabled",_2c);if(this.options.placeholder||this.options.original_placeholder){this.setPlaceholder(this.options.original_placeholder);}}}catch(e){$W.exception.printStackTrace(e);}return _2c;};$W._a.bk.prototype.setReadOnly=function(_2e){["WebSquare.uiplugin.textarea.setReadOnly"];try{_2e=$W._G.getBoolean(_2e);if(_2e){if(this.options.placeholder||this.options.original_placeholder){var _2f=this.options.placeholder||this.options.original_placeholder;this.setPlaceholder("");this.options.original_placeholder=_2f;}this.options.readOnly=_2e;this.setProperty("readOnly",_2e);}else{this.options.readOnly=_2e;this.setProperty("readOnly",_2e);if(this.options.placeholder||this.options.original_placeholder){this.setPlaceholder(this.options.original_placeholder);}}}catch(e){$W.exception.printStackTrace(e,null,this);}return _2e;};;WebSquare.uiplugin.textarea=$W._a.bk;requires("engine/formatter.js");$W._a.aV=function(id,_2,_3){["WebSquare.uiplugin.textbox"];$W._t.call(this,id,_2,_3);if(_3){var _4=$W._B.getLocalName(_3);if(_4!="textbox"){this.options.tagname=_4;}}if(this.options["for"]!=""){this.options.tagname="label";}};$W.extend($W._a.aV.prototype,$W._t.prototype);$W._a.aV.prototype.defaultOptions={pluginType:"uiplugin.textbox",pluginName:"textbox",parseAttributes:true,userEvents:[],systemEvents:["onclick","ondblclick","onmouseover","onmouseout"],useConfig:true,label:"",escape:false,escapeFormatter:"","for":"",tagname:"div",localeRef:"",ioFormat:"",displayFormat:"",displayFormatter:null,dataType:"text",dateMask:"",timeMask:"",numberMask:"",euroMask:"",rupeeMask:"",tengeMask:"",delimeter:"",decimalDelimeter:""};$W._a.aV.prototype.htmlStr=["<",""," id='","","' ",""," class='w2textbox ","","' ","",">","","</","",">"];$W._a.aV.prototype.htmlClosingStr=["<",""," id='","","' ",""," class='w2textbox ","","'",""," />"];$W._a.aV.prototype.initialize=function(_5){["WebSquare.uiplugin.textbox.initialize"];if(this.options.displayFormat==""){switch(this.options.dataType){case "date":this.options.displayFormat=this.options.dateMask;break;case "time":this.options.displayFormat=this.options.timeMask;break;case "number":this.options.displayFormat=this.options.numberMask;if(!this.options.delimeter){this.options.delimeter=",";}if(!this.options.decimalDelimeter){this.options.decimalDelimeter=".";}break;case "euro":this.options.displayFormat=this.options.euroMask;if(!this.options.delimeter){this.options.delimeter=".";}if(!this.options.decimalDelimeter){this.options.decimalDelimeter=",";}break;case "rupee":this.options.displayFormat=this.options.rupeeMask;if(!this.options.delimeter){this.options.delimeter=",";}if(!this.options.decimalDelimeter){this.options.decimalDelimeter=".";}break;case "tenge":this.options.displayFormat=this.options.tengeMask;if(!this.options.delimeter){this.options.delimeter=" ";}if(!this.options.decimalDelimeter){this.options.decimalDelimeter="-";}break;}}this.formatter=$W._C.createFormatter(this.options.dataType,this.options.displayFormat,this.options.displayFormatter,this.options.ioFormat,this.options.delimeter,this.options.decimalDelimeter,this.scope_id);this.useEscapeFormatter=false;};$W._a.aV.prototype.toHTML=function(){var _6=$W._N.getEmptyTag();var _7="";if(_6[this.options.tagname.toLowerCase()]){_7=this.htmlClosingStr;_7[1]=this.options.tagname;_7[3]=this.id;_7[5]=(this.options.style=="")?"":" style='"+this.options.style+"'";_7[7]=this.options.className;_7[9]=((this.options.tagname=="label")?" for='"+this.options["for"]+"'":"")+this.getAttributesString();}else{_7=this.htmlStr;_7[1]=this.options.tagname;_7[3]=this.id;_7[5]=(this.options.style=="")?"":"style='"+this.options.style+"'";_7[7]=this.options.className;_7[9]=((this.options.tagname=="label")?" for='"+this.options["for"]+"'":"")+this.getAttributesString();var _8="";if(!this.options.escapeFormatter){_8=this.options.escape?this.formatter.format($W._B._encode(this.options.label)):this.formatter.format(this.options.label);}else{_8=this.setEscapeFormatter();}_7[11]=_8;_7[13]=this.options.tagname;}return _7.join("");};$W._a.aV.prototype.setEscapeFormatter=function(){["WebSquare.uiplugin.textbox.setEscapeFormatter"];try{if(this.options.escapeFormatter){try{if(typeof this.options.escapeFormatter=="function"){this.useEscapeFormatter=true;}else{var _9=$W._G.getGlobalFunction(this.options.escapeFormatter,this.scope_id);this.options.escapeFormatter=_9;if(typeof _9=="function"){this.useEscapeFormatter=true;}}}catch(e){$W.logger.printLog("cannot find function : "+this.options.escapeFormatter+"["+this.id+"]");}var _a=this.options.label;if(this.useEscapeFormatter){_a=this.options.escapeFormatter.call(this,_a);}return this.options.escape?this.formatter.format($W._B._encode(_a+"")):this.formatter.format(_a);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aV.prototype.onComplete=function(){if(this.options.escapeFormatter&&!this.useEscapeFormatter){this.render.innerHTML=this.setEscapeFormatter();}$W._t.prototype.onComplete.call(this);};$W._a.aV.prototype.setAction=function(){["WebSquare.uiplugin.textbox.setAction"];try{this.refresh();this.displayLocaleValue();if(this.options.tagname!="label"||this.options["for"]==""){return;}var _b=$W._G.getComponentById(this.options["for"])||null;if(_b==null){return;}var _c=typeof _b.getAccessibiltyId=="function"?_b.getAccessibiltyId():this.options["for"];this.render.setAttribute("for",_c);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aV.prototype.setLocaleRef=function(_d){["WebSquare.uiplugin.textbox.setLocaleRef"];try{this.options.localeRef=_d;this.displayLocaleValue();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aV.prototype.refresh=function(){["WebSquare.uiplugin.textbox.refresh"];try{if(this.modelControl.isBinded()){var _e=this.modelControl.getData();this.options.label=_e;if(this.useEscapeFormatter){_e=this.options.escapeFormatter.call(this,_e);}this.render.innerHTML=this.options.escape?this.formatter.format($W._B._encode(_e+"")):this.formatter.format(_e);this.options.label=_e;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aV.prototype.setLabel=function(_f){["WebSquare.uiplugin.textbox.setLabel"];try{this.setValue(_f);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aV.prototype.getLabel=function(){["WebSquare.uiplugin.textbox.getLabel"];try{return this.getValue();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aV.prototype.setValue=function(_10){["WebSquare.uiplugin.textbox.setValue"];try{this.options.label=_10;var _11=this.options.label;if(this.useEscapeFormatter){_11=this.options.escapeFormatter.call(this,_11);}this.render.innerHTML=this.options.escape?this.formatter.format($W._B._encode(_11+"")):this.formatter.format(_11);this.modelControl.setData(_10);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aV.prototype.getValue=function(){["WebSquare.uiplugin.textbox.getValue"];try{var ret=this.options.escape?$W._B._decode(this.options.label):this.options.label;return ret;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aV.prototype.getFormatValue=function(){["WebSquare.uiplugin.textbox.getFormatValue"];try{return this.options.escape?this.formatter.format($W._B._decode(this.options.label)):this.formatter.format(this.options.label);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aV.prototype.setDisplayFormat=function(_13){["WebSquare.uiplugin.textbox.setDisplayFormat"];try{this.options.displayFormat=_13;this.formatter=$W._C.createFormatter(this.options.dataType,this.options.displayFormat,this.options.displayFormatter,this.options.ioFormat,null,null,this.scope_id);this.setValue(this.options.label);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aV.prototype.setDisplayFormatter=function(_14){["WebSquare.uiplugin.textbox.prototype.setDisplayFormatter "];try{this.options.displayFormatter=_14;this.formatter=$W._C.createFormatter(this.options.dataType,this.options.displayFormat,this.options.displayFormatter,this.options.ioFormat,null,null,this.scope_id);this.setValue(this.options.label);}catch(e){$W.exception.printStackTrace(e);}};$W._a.aV.prototype.getDataType=function(){["WebSquare.uiplugin.textbox.prototype.getDataType "];try{return this.options.dataType;}catch(e){$W.exception.printStackTrace(e);}};$W._a.aV.prototype.addClass=function(){["WebSquare.uiplugin.textbox.addClass"];try{$W._n.prototype.addClass.apply(this,arguments);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aV.prototype.removeClass=function(){["WebSquare.uiplugin.textbox.removeClass"];try{$W._n.prototype.removeClass.apply(this,arguments);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aV.prototype.changeClass=function(){["WebSquare.uiplugin.textbox.changeClass"];try{$W._n.prototype.changeClass.apply(this,arguments);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aV.prototype.toggleClass=function(){["WebSquare.uiplugin.textbox.toggleClass"];try{$W._n.prototype.toggleClass.apply(this,arguments);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aV.prototype.getAttributeNode=function(_15){["WebSquare.uiplugin.textbox.getAttributeNode"];try{return $W._t.attributes.getAttributeNode.call(this,_15);}catch(e){$W.exception.printStackTrace(e);}};$W._a.aV.prototype.setAttributeNode=function(_16,_17){["WebSquare.uiplugin.textbox.setAttributeNode"];try{$W._t.attributes.setAttributeNode.call(this,_16,_17);}catch(e){$W.exception.printStackTrace(e);}};$W._a.aV.prototype.removeAttributeNode=function(_18){["WebSquare.uiplugin.textbox.removeAttributeNode"];try{$W._t.attributes.removeAttributeNode.call(this,_18);}catch(e){$W.exception.printStackTrace(e);}};$W._a.aV.prototype.setRef=function(ref){["WebSquare.uiplugin.textbox.prototype.setRef "];try{if(!this.modelControl.isBinded()){this.modelControl.useRef=true;}this.options.ref=ref;this.modelControl.setRef(ref);this.refresh();}catch(e){$W.exception.printStackTrace(e);}};;WebSquare.uiplugin.textbox=$W._a.aV;$W._a.am=function(id,_2,_3){["WebSquare.uiplugin.pageList"];$W._t.call(this,id,_2,_3);};$W.extend($W._a.am.prototype,$W._t.prototype);$W._a.am.prototype.defaultOptions={pluginType:"uiplugin.pageList",pluginName:"pageList",userEvents:["onclick","onchange","onviewchange","oninputblur"],useConfig:true,defaultClass:"w2pageList_label",selectedStyle:"",selectedClass:"w2pageList_label_selected",displayFormat:"#",useDelim:false,delimiter:"",pageSize:10,pagingType:"1",buttonShowType:"1",naviType:"config",leftPageBackImage:"",leftPageImage:"",rightPageImage:"",rightPageBackImage:"",deliImage:"",leftPageBackImageClass:"w2pageList_col_prevPage",leftPageImageClass:"w2pageList_col_prev",rightPageImageClass:"w2pageList_col_next",rightPageBackImageClass:"w2pageList_col_nextPage",deliImageClass:"w2pageList_delimiter",leftPageBackImageStyle:"",leftPageImageStyle:"",rightPageImageStyle:"",rightPageBackImageStyle:"",deliImageStyle:"",indexWidth:-1,deliWidth:-1,shiftMoveButtonWidth:-1,oneMoveButtonWidth:-1,renderType:"table",href:"",displayButtonType:"display",displaySearchbox:false,displaySelectedIndex:false};$W._a.am.prototype.initialize=function(_4){["WebSquare.uiplugin.pageList.initialize"];try{this.pageCount=0;this.displayIndex=1;this.selectedIndex=-1;this.default_leftPageBackImage=$W.baseURI+"uiplugin/pageList/images/b_first.gif";this.default_leftPageImage=$W.baseURI+"uiplugin/pageList/images/b_prev.gif";this.default_rightPageImage=$W.baseURI+"uiplugin/pageList/images/b_next.gif";this.default_rightPageBackImage=$W.baseURI+"uiplugin/pageList/images/b_end.gif";this.options=$W.cssManager.styleToClass(this.id,this.options);this.options.leftPageBackImage=this.options.leftPageBackImage?this.options.leftPageBackImage:this.default_leftPageBackImage;this.options.leftPageImage=this.options.leftPageImage?this.options.leftPageImage:this.default_leftPageImage;this.options.rightPageImage=this.options.rightPageImage?this.options.rightPageImage:this.default_rightPageImage;this.options.rightPageBackImage=this.options.rightPageBackImage?this.options.rightPageBackImage:this.default_rightPageBackImage;this.labelStyle="";if(this.options.indexWidth!=-1){this.labelStyle+="width:"+this.options.indexWidth+"px;";}if(this.options.deliWidth!=-1){this.options.deliImageStyle+=";width:"+this.options.deliWidth+"px;";}if(this.options.shiftMoveButtonWidth!=-1){this.options.leftPageBackImageStyle+=";width:"+this.options.shiftMoveButtonWidth+"px;";this.options.rightPageBackImageStyle+=";width:"+this.options.shiftMoveButtonWidth+"px;";}if(this.options.oneMoveButtonWidth!=-1){this.options.leftPageImageStyle+=";width:"+this.options.oneMoveButtonWidth+"px;";this.options.rightPageImageStyle+=";width:"+this.options.oneMoveButtonWidth+"px;";}if(this.options.deliImage!=""){this.options.deliImageStyle+=";background-image:url("+this.options.deliImage+");";}if(this.options.renderType=="list"){this.options.leftPageBackImageStyle+=";background-image:none;";this.options.leftPageImageStyle+=";background-image:none;";this.options.rightPageImageStyle+=";background-image:none;";this.options.rightPageBackImageStyle+=";background-image:none;";}else{if(this.options.leftPageBackImage!=this.default_leftPageBackImage){this.options.leftPageBackImageStyle+=";background-image:url("+this.options.leftPageBackImage+");";}if(this.options.leftPageImage!=this.default_leftPageImage){this.options.leftPageImageStyle+=";background-image:url("+this.options.leftPageImage+");";}if(this.options.rightPageImage!=this.default_rightPageImage){this.options.rightPageImageStyle+=";background-image:url("+this.options.rightPageImage+");";}if(this.options.rightPageBackImage!=this.default_rightPageBackImage){this.options.rightPageBackImageStyle+=";background-image:url("+this.options.rightPageBackImage+");";}}if(this.options.buttonShowType=="3"){this.options.pagingType="2";}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.am.prototype.toHTML=function(){["WebSquare.uiplugin.pageList.toHTML"];try{var _5=[];var _6=(this.options.style=="")?"":"style='"+this.options.style+"'";var _7=(this.options.href=="")?"":"href='"+this.options.href+"'";var _8=(this.options.leftPageImageStyle=="")?"":"style='"+this.options.leftPageImageStyle+"'";var _9=(this.options.leftPageBackImageStyle=="")?"":"style='"+this.options.leftPageBackImageStyle+"'";var _a=(this.options.leftPageImage=="")?"":"src='"+this.options.leftPageImage+"'";var _b=(this.options.leftPageBackImage=="")?"":"src='"+this.options.leftPageBackImage+"'";var _c=(this.options.rightPageImageStyle=="")?"":"style='"+this.options.rightPageImageStyle+"'";var _d=(this.options.rightPageBackImageStyle=="")?"":"style='"+this.options.rightPageBackImageStyle+"'";var _e=(this.options.rightPageImage=="")?"":"src='"+this.options.rightPageImage+"'";var _f=(this.options.rightPageBackImage=="")?"":"src='"+this.options.rightPageBackImage+"'";var _10=(this.labelStyle=="")?"":"style='"+this.labelStyle+"'";var _11=(this.options.deliImageStyle=="")?"":"style='"+this.options.deliImageStyle+"'";this.prevPageButtonId=this.id+"_prevPage_btn";this.nextPageButtonId=this.id+"_nextPage_btn";this.prevButtonId=this.id+"_prev_btn";this.nextButtonId=this.id+"_next_btn";var _12=$W._G.getBoolean(this.options.displaySearchbox);_5.push("<div id='"+this.id+"' "+_6+" class='w2pageList w2pageList_pagePrev_last w2pageList_prev_last "+this.options.className+"'>");if(this.options.renderType=="list"){_5.push("<ul class='w2pageList_ul'>");if(this.options.buttonShowType=="0"||this.options.buttonShowType=="1"){_5.push("<li id='"+this.prevPageButtonId+"' class='w2pageList_control_pagePrev "+this.options.leftPageBackImageClass+"' "+_9+"><a href="+"#"+this.prevPageButtonId+"><img "+_b+" alt='"+$W._m.getMessage("pagelist_previousList_page")+"' /></a></li>");}else{if(this.options.buttonShowType=="3"){_5.push("<li id='"+this.prevPageButtonId+"' class='w2pageList_control_pagePrev "+this.options.leftPageBackImageClass+"' "+_9+"><a href="+"#"+this.prevPageButtonId+"><img "+_b+" alt='"+$W._m.getMessage("Pagelist_first_page")+"' /></a></li>");}else{_5.push("<li id='"+this.prevPageButtonId+"' class='w2pageList_control_pagePrev "+this.options.leftPageBackImageClass+"' "+_9+"><a href="+"#"+this.prevPageButtonId+"><img "+_b+" alt='"+$W._m.getMessage("Pagelist_previous_page")+"' /></a></li>");}}if(this.options.buttonShowType=="1"||this.options.buttonShowType=="3"){_5.push("<li id='"+this.prevButtonId+"' class='w2pageList_control_prev "+this.options.leftPageImageClass+"' "+_8+"><a href="+"#"+this.prevButtonId+"><img "+_a+" alt='"+$W._m.getMessage("Pagelist_previous_page")+"'/></a></li>");}var _13=Math.min(this.pageCount,this.displayIndex+this.options.pageSize-1);if(_12){_5.push("<li class='w2pageList_li_label' "+_10+">"+"<input id='"+this.id+"_input' style='ime-mode:disabled' value ='"+this.displayIndex+"'class='w2pageList_input' onkeydown='"+"window."+$W.noConflict+".comp."+this.id+".onInputKeyEventHandler(event)'"+"onblur='"+"window."+$W.noConflict+".comp."+this.id+".onBlurEvent(event)'"+"onkeypress='"+"window."+$W.noConflict+".comp."+this.id+".onInputKeyEventHandler(event)'"+"/>"+"<span> /"+this.pageCount+"</span></li>");}else{for(var i=this.displayIndex;i<=_13;i++){if(this.options.href){_5.push("<li class='w2pageList_li_label' "+_10+"><a id='"+this.id+"_page_"+i+"' "+_7+" class='w2pageList_control_label "+this.options.defaultClass+"' index='"+i+"'>"+this.getLabel(i)+"</a></li>");}else{_5.push("<li class='w2pageList_li_label' "+_10+"><a id='"+this.id+"_page_"+i+"' "+"href="+"#"+this.id+"_page_"+i+" class='w2pageList_control_label "+this.options.defaultClass+"' index='"+i+"'>"+this.getLabel(i)+"</a></li>");}if(this.options.useDelim==true&&i<_13){_5.push("<li class='w2pageList_col_delimiter "+this.options.deliImageClass+"' "+_11+">"+this.options.delimiter+"</li>");}}}if(this.options.buttonShowType=="1"||this.options.buttonShowType=="3"){_5.push("<li id='"+this.nextButtonId+"' class='w2pageList_control_next "+this.options.rightPageImageClass+"' "+_c+"'><a href="+"#"+this.nextButtonId+"><img "+_e+" alt='"+$W._m.getMessage("Pagelist_next_page")+"'/></a></li>");}if(this.options.buttonShowType=="0"||this.options.buttonShowType=="1"){_5.push("<li id='"+this.nextPageButtonId+"' class='w2pageList_control_pageNext "+this.options.rightPageBackImageClass+"' "+_d+"'><a href="+"#"+this.nextPageButtonId+"><img "+_f+" alt='"+$W._m.getMessage("pagelist_nextList_page")+"'/></a></li>");}else{if(this.options.buttonShowType=="3"){_5.push("<li id='"+this.nextPageButtonId+"' class='w2pageList_control_pageNext "+this.options.rightPageBackImageClass+"' "+_d+"'><a href="+"#"+this.nextPageButtonId+"><img "+_f+" alt='"+$W._m.getMessage("Pagelist_last_page")+"'/></a></li>");}else{_5.push("<li id='"+this.nextPageButtonId+"' class='w2pageList_control_pageNext "+this.options.rightPageBackImageClass+"' "+_d+"'><a href="+"#"+this.nextPageButtonId+"><img "+_f+" alt='"+$W._m.getMessage("Pagelist_next_page")+"'/></a></li>");}}_5.push("</ul>");}else{_5.push("<table class='w2pageList_table' cellpadding='0' cellspacing='0'><tr>");if(this.options.buttonShowType=="0"||this.options.buttonShowType=="1"){_5.push("<td  id='"+this.prevPageButtonId+"' role='button' aria-pressed='false' class='w2pageList_control_pagePrev "+this.options.leftPageBackImageClass+"' "+_9+" role='button' aria-pressed='false' tabIndex='0' title='"+$W._m.getMessage("pagelist_previousList_page")+"'></td>");}else{if(this.options.buttonShowType=="3"){_5.push("<td  id='"+this.prevPageButtonId+"' role='button' aria-pressed='false' class='w2pageList_control_pagePrev "+this.options.leftPageBackImageClass+"' "+_9+" role='button' aria-pressed='false' tabIndex='0' title='"+$W._m.getMessage("Pagelist_first_page")+"'></td>");}else{_5.push("<td  id='"+this.prevPageButtonId+"' role='button' aria-pressed='false' class='w2pageList_control_pagePrev "+this.options.leftPageBackImageClass+"' "+_9+" role='button' aria-pressed='false' tabIndex='0' title='"+$W._m.getMessage("Pagelist_previous_page")+"'></td>");}}if(this.options.buttonShowType=="1"||this.options.buttonShowType=="3"){_5.push("<td id='"+this.prevButtonId+"' role='button' aria-pressed='false' class='w2pageList_control_prev "+this.options.leftPageImageClass+"' "+_8+" role='button' aria-pressed='false' tabIndex='0' title='"+$W._m.getMessage("Pagelist_previous_page")+"'></td>");}var _13=Math.min(this.pageCount,this.displayIndex+this.options.pageSize-1);if(_12){_5.push("<td class='w2pageList_col_label_input' "+_10+">"+"<div><input id='"+this.id+"_input' style='ime-mode:disabled' value ='"+this.displayIndex+"'class='w2pageList_input' onkeydown='"+"window."+$W.noConflict+".comp."+this.id+".onInputKeyEventHandler(event)'"+"onblur='"+"window."+$W.noConflict+".comp."+this.id+".onBlurEvent(event)'"+"onkeypress='"+"window."+$W.noConflict+".comp."+this.id+".onInputKeyEventHandler(event)'/>"+"<span> /"+this.pageCount+"</span></div></td>");}else{for(var i=this.displayIndex;i<=_13;i++){_5.push("<td class='w2pageList_col_label' "+_10+"><div id='"+this.id+"_page_"+i+"' class='w2pageList_control_label "+this.options.defaultClass+"' index='"+i+"' role='button' aria-pressed='false'  tabindex='0' title='"+this.getLabel(i)+"'>"+this.getLabel(i)+"</div></td>");if(this.options.useDelim==true&&i<_13){_5.push("<td class='w2pageList_col_delimiter "+this.options.deliImageClass+"' "+_11+">"+this.options.delimiter+"</td>");}}}if(this.options.buttonShowType=="1"||this.options.buttonShowType=="3"){_5.push("<td id='"+this.nextButtonId+"' role='button' aria-pressed='false' class='w2pageList_control_next "+this.options.rightPageImageClass+"' "+_c+" tabindex='0' title='"+$W._m.getMessage("Pagelist_next_page")+"'></td>");}if(this.options.buttonShowType=="0"||this.options.buttonShowType=="1"){_5.push("<td id='"+this.nextPageButtonId+"' role='button' aria-pressed='false' class='w2pageList_control_pageNext "+this.options.rightPageBackImageClass+"' "+_d+" tabindex='0' title='"+$W._m.getMessage("pagelist_nextList_page")+"'></td>");}else{if(this.options.buttonShowType=="3"){_5.push("<td id='"+this.nextPageButtonId+"' role='button' aria-pressed='false' class='w2pageList_control_pageNext "+this.options.rightPageBackImageClass+"' "+_d+" tabindex='0' title='"+$W._m.getMessage("Pagelist_last_page")+"'></td>");}else{_5.push("<td id='"+this.nextPageButtonId+"' role='button' aria-pressed='false' class='w2pageList_control_pageNext "+this.options.rightPageBackImageClass+"' "+_d+" tabindex='0' title='"+$W._m.getMessage("Pagelist_next_page")+"'></td>");}}_5.push("</tr></table>");}_5.push("</div>");return _5.join("");}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.am.prototype.setAction=function(){["WebSquare.uiplugin.pageList.setAction"];try{this.event.addListener(this.render,"onclick",this.event.bindAsEventListener(this,this.handleClickEvent));this.event.addListener(this.render,"onmouseover",this.event.bindAsEventListener(this,this.handleMouseoverEvent));this.event.addListener(this.render,"onmouseout",this.event.bindAsEventListener(this,this.handleMouseoutEvent));this.event.addListener(this.render,"onkeydown",this.event.bindAsEventListener(this,this.handleKeydownEvent));}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.am.prototype.handleKeydownEvent=function(e){["WebSquare.uiplugin.pageList.handleKeydownEvent"];try{var _16=(e.charCode)?e.charCode:e.keyCode;if(_16!=13){return;}var el=e.srcElement||e.target;if(el.nodeName.toLowerCase()=="a"){if(el.getAttribute("href")==null){this.handleClickEvent(e);}}else{this.handleClickEvent(e);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.am.prototype.getLabel=function(idx){["WebSquare.uiplugin.pageList.getLabel"];try{var _19=idx+"";_19=$W._A.formatCurrency(idx,this.options.displayFormat);return _19;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.am.prototype.getCount=function(){["WebSquare.uiplugin.pageList.getCount"];try{return this.pageCount;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.am.prototype.setCount=function(_1a,_1b){["WebSquare.uiplugin.pageList.setCount"];try{var _1c=_1b?_1b:false;if(_1b&&_1a<this.selectedIndex){$l("range exception for "+this.id);_1c=false;}if(this.options.displaySearchbox){this.pageCount=parseInt(_1a,10)||0;}else{this.pageCount=(typeof _1a=="string")?(parseInt(_1a,10)||0):_1a;}if(_1c==false){this.displayIndex=1;}else{if(this.selectedIndex==-1){this.displayIndex=1;}}this.redraw();if(_1c==false){this.setSelectedIndex(1);}else{if(this.selectedIndex==-1){this.setSelectedIndex(1);}else{this.setSelectedIndex(this.selectedIndex);}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.am.prototype.setSelectedIndex=function(idx){["WebSquare.uiplugin.pageList.setSelectedIndex"];try{if(this.pageCount==0){if(this.options.displayButtonType=="auto"||this.options.displayButtonType=="autoOver"){var _1e=document.getElementById(this.prevPageButtonId);var _1f=document.getElementById(this.prevButtonId);var _20=document.getElementById(this.nextButtonId);var _21=document.getElementById(this.nextPageButtonId);if(_1e){_1e.style.visibility="hidden";}if(_1f){_1f.style.visibility="hidden";}if(_20){_20.style.visibility="hidden";}if(_21){_21.style.visibility="hidden";}}return;}if($W._G.isNull(idx)){return;}idx=parseInt(idx,10);if(idx<1||idx>this.pageCount){$l("range exception for "+this.id);return;}var _22=this.selectedIndex;this.setDisplayIndex(idx);var _23=document.getElementById(this.id+"_page_"+this.selectedIndex);if(_23){this.changeClass(_23,this.options.selectedClass,this.options.defaultClass);}this.selectedIndex=idx;this.changeButtonCursor(idx);var _24=document.getElementById(this.id+"_page_"+idx);this.changeClass(_24,this.options.defaultClass,this.options.selectedClass);if(_22!=-1&&_22!=this.selectedIndex){$W._c.fireEvent(this,"onchange",this.selectedIndex,_22);}var _25=this.options.displayButtonType;var _26=this.options.pagingType;if(_25!="display"){var _1e=document.getElementById(this.prevPageButtonId);var _1f=document.getElementById(this.prevButtonId);var _20=document.getElementById(this.nextButtonId);var _21=document.getElementById(this.nextPageButtonId);var _27=false;var _28=false;var _29=false;if(_25=="auto"||_25=="autoOver"||_25=="autoHidden"){if(_25=="autoHidden"){if(this.options.pageSize>=this.pageCount){_29=true;}else{if(_26=="1"){var _2a=this.pageCount-this.options.pageSize+1;if(this.selectedIndex<=this.options.pageSize&&this.selectedIndex<_2a){_28=true;}else{if(this.selectedIndex>=_2a){_27=true;}}}else{if(_26=="2"){var _2b;if(parseInt(this.pageCount%this.options.pageSize)==0){_2b=this.pageCount-this.options.pageSize+1;}else{_2b=this.pageCount-parseInt(this.pageCount%this.options.pageSize)+1;}if(this.selectedIndex<=this.options.pageSize){_28=true;}else{if(this.selectedIndex>=_2b){_27=true;}}}}}}else{if(this.selectedIndex===1){_28=true;}else{if(this.selectedIndex==this.pageCount){_27=true;}}}if(_28){if(_1e){_1e.style.visibility="hidden";}if(_1f){_1f.style.visibility="hidden";}if(_20){_20.style.visibility="visible";}if(_21){_21.style.visibility="visible";}}else{if(_27){if(_1e){_1e.style.visibility="visible";}if(_1f){_1f.style.visibility="visible";}if(_20){_20.style.visibility="hidden";}if(_21){_21.style.visibility="hidden";}}else{if(_29){if(_1e){_1e.style.visibility="hidden";}if(_1f){_1f.style.visibility="hidden";}if(_20){_20.style.visibility="hidden";}if(_21){_21.style.visibility="hidden";}}else{if(_1e){_1e.style.visibility="visible";}if(_1f){_1f.style.visibility="visible";}if(_20){_20.style.visibility="visible";}if(_21){_21.style.visibility="visible";}}}}}if((_25=="displayOver"||_25=="autoOver")&&this.options.pageSize>=this.pageCount){if(_1e){_1e.style.visibility="hidden";}if(_1f){_1f.style.visibility="hidden";}if(_20){_20.style.visibility="hidden";}if(_21){_21.style.visibility="hidden";}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.am.prototype.setFocus=function(idx){["WebSquare.uiplugin.pageList.setFocus"];try{if(this.pageCount==0){return;}if($W._G.isNull(idx)){return;}idx=idx.toString();if(idx<1||idx>this.pageCount){$l("range exception for "+this.id);return;}var dom=document.getElementById(this.id+"_page_"+idx);if(dom){dom.focus();}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.am.prototype.setIdxClass=function(idx){["WebSquare.uiplugin.pageList.setIdxClass"];try{this.setSelectedIndex(idx);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.am.prototype.getSelectedIndex=function(){["WebSquare.uiplugin.pageList.getSelectedIndex"];try{return this.selectedIndex;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.am.prototype.setValue=function(_2f){["WebSquare.uiplugin.pageList.setValue"];try{if($W._G.isNull(_2f)){return;}_2f=_2f.toString();if(this.options.displaySearchbox&&isNaN(_2f)){_2f=this.selectedIndex;}this.setSelectedIndex(_2f);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.am.prototype.moveLeft=function(){["WebSquare.uiplugin.pageList.moveLeft"];try{this.setSelectedIndex(this.selectedIndex-1);this.setFocus(this.selectedIndex);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.am.prototype.moveRight=function(){["WebSquare.uiplugin.pageList.moveRight"];try{this.setSelectedIndex(this.selectedIndex+1);this.setFocus(this.selectedIndex);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.am.prototype.pageLeft=function(){["WebSquare.uiplugin.pageList.pageLeft"];try{if(this.options.displaySearchbox){var _30=1;}else{var _30=this.selectedIndex-this.options.pageSize;}this.setDisplayIndex(_30);this.setSelectedIndex(this.displayIndex);this.setFocus(this.selectedIndex);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.am.prototype.pageLeftLast=function(){["WebSquare.uiplugin.pageList.pageLeft"];try{if(this.displayIndex==1){this.setSelectedIndex(1);}else{var _31=this.selectedIndex-this.options.pageSize;this.setDisplayIndex(_31);var _32=this.displayIndex+this.options.pageSize-1;this.setSelectedIndex(_32);this.setFocus(this.selectedIndex);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.am.prototype.pageRight=function(){["WebSquare.uiplugin.pageList.pageRight"];try{if(this.options.displaySearchbox){var _33=this.selectedIndex+this.pageCount;}else{var _33=this.selectedIndex+this.options.pageSize;}this.setDisplayIndex(_33);if(this.options.pagingType==1){if(_33>this.pageCount){this.setSelectedIndex(this.pageCount);}else{this.setSelectedIndex(this.displayIndex);}}else{this.setSelectedIndex(this.displayIndex);}this.setFocus(this.selectedIndex);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.am.prototype.setDisplayIndex=function(idx){["WebSquare.uiplugin.pageList.setDisplayIndex"];try{if(this.pageCount==0){return;}var _35;if(this.options.displaySearchbox){var _36=document.getElementById(this.id+"_input");_36.value=idx;_35=idx;}else{idx=parseInt(idx,10);_35=parseInt((idx-1)/this.options.pageSize)*this.options.pageSize+1;if(this.options.pagingType=="1"&&!(this.options.buttonShowType=="3")){if(idx+this.options.pageSize>this.pageCount){_35=this.pageCount-this.options.pageSize+1;}}else{if(this.options.pagingType=="2"){}}}if(this.options.buttonShowType=="2"&&this.options.naviType=="1"){_35=idx;}if(_35<1){_35=1;}if(_35>this.pageCount){_35=this.pageCount;}if(this.displayIndex==_35){return;}else{this.displayIndex=_35;this.redraw();}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.am.prototype.changeButtonCursor=function(idx){["WebSquare.uiplugin.pageList.changeButtonCursor "];try{if(this.options.buttonShowType=="3"||this.options.buttonShowType=="2"){if(this.displayIndex==1){this.addClass("w2pageList_prev_last");}else{this.removeClass("w2pageList_prev_last");}if(this.displayIndex+this.options.pageSize>this.pageCount){this.addClass("w2pageList_next_last");}else{this.removeClass("w2pageList_next_last");}if(idx==1){this.addClass("w2pageList_pagePrev_last");}else{this.removeClass("w2pageList_pagePrev_last");}if(idx==this.pageCount){this.addClass("w2pageList_pageNext_last");}else{this.removeClass("w2pageList_pageNext_last");}}else{if(this.displayIndex==1){this.addClass("w2pageList_pagePrev_last");}else{this.removeClass("w2pageList_pagePrev_last");}if(this.displayIndex+this.options.pageSize>this.pageCount){this.addClass("w2pageList_pageNext_last");}else{this.removeClass("w2pageList_pageNext_last");}if(idx==1){this.addClass("w2pageList_prev_last");}else{this.removeClass("w2pageList_prev_last");}if(idx==this.pageCount){this.addClass("w2pageList_next_last");}else{this.removeClass("w2pageList_next_last");}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.am.prototype.setPageSize=function(_38){["WebSquare.uiplugin.pageList.setPageSize"];try{this.options.pageSize=(typeof _38=="string")?(parseInt(_38,10)||this.options.pageSize):_38||this.options.pageSize;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.am.prototype.getPageSize=function(){["WebSquare.uiplugin.pageList.getPageSize"];try{return this.options.pageSize;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.am.prototype.handleClickEvent=function(e){["WebSquare.uiplugin.pageList.handleClickEvent"];try{var it=this.event.getTargetIterator(e,this.render);var _3b=this.getSelectedIndex();while(it.next()){if(it.match("w2pageList_control_pagePrev")){if(this.options.buttonShowType=="2"){this.moveLeft();}else{if(this.options.buttonShowType=="3"){this.setSelectedIndex(1);}else{if(this.options.buttonShowType=="0"||this.options.buttonShowType=="1"){this.pageLeft();}else{this.pageLeft();}}}$W._c.fireEvent(this,"onclick",this.getSelectedIndex());if(this.options.renderType=="list"){$W._c.stopEvent(e);}}if(it.match("w2pageList_control_prev")){if(this.options.buttonShowType=="3"){this.pageLeftLast();}else{this.moveLeft();}$W._c.fireEvent(this,"onclick",this.getSelectedIndex());if(this.options.renderType=="list"){$W._c.stopEvent(e);}}if(it.match("w2pageList_control_next")){if(this.options.buttonShowType=="3"){this.pageRight();}else{this.moveRight();}$W._c.fireEvent(this,"onclick",this.getSelectedIndex());if(this.options.renderType=="list"){$W._c.stopEvent(e);}}if(it.match("w2pageList_control_pageNext")){if(this.options.buttonShowType=="2"){this.moveRight();}else{if(this.options.buttonShowType=="3"){this.setSelectedIndex(this.pageCount);}else{if(this.options.buttonShowType=="0"||this.options.buttonShowType=="1"){this.pageRight();}else{this.pageRight();}}}$W._c.fireEvent(this,"onclick",this.getSelectedIndex());if(this.options.renderType=="list"){$W._c.stopEvent(e);}}if(it.match("w2pageList_control_label")){var _3c=it.getElement().getAttribute("index");this.setSelectedIndex(_3c);$W._c.fireEvent(this,"onclick",_3c);if(this.options.renderType=="list"){$W._c.stopEvent(e);}}}it=null;var _3d=this.getSelectedIndex();if(_3b!=_3d){var _3e={"oldSelectedIndex":_3b,"newSelectedIndex":_3d};$W._c.fireEvent(this,"onviewchange",_3e);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.am.prototype.handleMouseoverEvent=function(e){["WebSquare.uiplugin.pageList.handleMouseoverEvent"];try{$W._c.stopEvent(e);var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match("w2pageList_control_label")){this.addClass(it.getElement(),"w2pageList_label_over");}else{if(it.match("w2pageList_col_prev")){this.addClass(it.getElement(),"w2pageList_col_prev_over");}else{if(it.match("w2pageList_col_next")){this.addClass(it.getElement(),"w2pageList_col_next_over");}else{if(it.match("w2pageList_col_prevPage")){this.addClass(it.getElement(),"w2pageList_col_prevPage_over");}else{if(it.match("w2pageList_col_nextPage")){this.addClass(it.getElement(),"w2pageList_col_nextPage_over");}}}}}}it=null;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.am.prototype.handleMouseoutEvent=function(e){["WebSquare.uiplugin.pageList.handleMouseoutEvent"];try{$W._c.stopEvent(e);var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match("w2pageList_control_label")){this.removeClass(it.getElement(),"w2pageList_label_over");}else{if(it.match("w2pageList_col_prev")){this.removeClass(it.getElement(),"w2pageList_col_prev_over");}else{if(it.match("w2pageList_col_next")){this.removeClass(it.getElement(),"w2pageList_col_next_over");}else{if(it.match("w2pageList_col_prevPage")){this.removeClass(it.getElement(),"w2pageList_col_prevPage_over");}else{if(it.match("w2pageList_col_nextPage")){this.removeClass(it.getElement(),"w2pageList_col_nextPage_over");}}}}}}it=null;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.am.prototype.onInputKeyEventHandler=function(e){["WebSquare.uiplugin.pageList.onInputKeyEventHandler"];try{var _44=(e.charCode)?e.charCode:e.keyCode;var _45=new RegExp("[0-9]","g");var _46=document.getElementById(this.id+"_input");if(_44==13){_46.blur();if(this.options.displaySelectedIndex&&(_46.value>this.pageCount||_46.value<=0||_46.value==""||_46.value==undefined)){_46.value=this.selectedIndex;this.setValue(_46.value);}else{this.setValue(_46.value);}}if((!String.fromCharCode(_44).match(_45)||_44==16)&&_44!=8&&(_44!=37||e.key!="ArrowLeft")&&(_44!=39||e.key!="ArrowRight")){$W._c.stopEvent(e);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.am.prototype.onBlurEvent=function(e){["WebSquare.uiplugin.pageList.onBlurEvent"];try{var _48=document.getElementById(this.id+"_input");if(this.options.displaySelectedIndex&&(_48.value>this.pageCount||_48.value<=0||_48.value==""||_48.value==undefined)){_48.value=this.selectedIndex;this.setValue(_48.value);}else{this.setValue(_48.value);}$W._c.fireEvent(this,"oninputblur",_48.value);}catch(e){$W.exception.printStackTrace(e,null,this);}};;WebSquare.uiplugin.pageList=$W._a.am;$W._a.repeatAPI={};$W._a.repeatAPI.getRepeatIndex=function(){return this.__repeat.repeatComponents[this.id].repeatIndex;};$W._a.repeatAPI.getSiblingId=function(_1){var _2=this.getRepeatIndex();var _3=this.__repeat.repeatIds[_2];return _3.hashPreFix+_1;};$W._a.repeatAPI.getSibling=function(_4){var _5=this.getRepeatIndex();var _6=this.__repeat.repeatIds[_5];return $W._G.getComponentById(_6.hashPreFix+_4);};$W._a.repeatAPI.getRepeatInstanceNode=function(){var _7=this.getRepeatIndex();var _8=this.__repeat.nodeset+"[@"+this.__repeat.options.repeatKey+"='"+_7+"']";var _9=$W._J.findInstanceNode(_8);return _9;};$W._a.repeatAPI.getInstanceValue=function(){var _a=$W._J.getInstanceValue(this.options.ref);return _a;};$W._a.repeatAPI.getRepeat=function(){return this.__repeat;};$W._a.be=function(id,_c,_d){["WebSquare.uiplugin.repeat"];$W._t.call(this,id,_c,_d);};$W.extend($W._a.be.prototype,$W._t.prototype);$W._a.be.prototype.defaultOptions={pluginType:"uiplugin.repeat",pluginName:"repeat",userEvents:["onrepeatdone"],nodeset:"",repeatKey:"index",cols:"",rows:"",autoCount:false,direction:"horizontal"};$W._a.be.prototype.initialize=function(_e){["WebSquare.uiplugin.repeat.initialize"];try{this.repeatComponents={};this.repeatIds=[];this.templateElement=_e;this.rowCount=undefined;this.colCount=undefined;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.be.prototype.toHTML=function(){["WebSquare.uiplugin.repeat.toHTML"];try{var _f=[];var _10=(this.options.style=="")?"":"style='"+this.options.style+"'";_f.push("<div id='"+this.id+"' "+_10+" class='w2repeat "+this.options.className+"'>");_f.push("</div>");return _f.join("");}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.be.prototype.setAction=function(){["WebSquare.uiplugin.repeat.setAction"];try{this.refreshRepeat();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.be.prototype.refreshItemset=function(){["WebSquare.uiplugin.repeat.refreshItemset"];try{this.refreshRepeat();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.be.prototype.drawContents=function(){["WebSquare.uiplugin.repeat.drawContents"];try{var _11=[];_11.push("<table class='w2repeat_table' cellpadding='0' cellspacing='0'>");var _12=this.getChildren();var _13=_12.length;for(var row=0;row<this.rowCount;row++){_11.push("<tr class='w2repeat_row'>");for(var col=0;col<this.colCount;col++){var _16=row*this.colCount+col;if(this.options.direction=="vertical"){_16=row+this.rowCount*col;}if(_16<_13){_11.push("<td class=''>");_11.push(_12[_16].toHTML());_11.push("</td>");}else{_11.push("<td class=''></td>");}}_11.push("</tr>");}_11.push("</table>");this.render.innerHTML=_11.join("");for(var i=0;i<_12.length;i++){_12[i].activate();_12[i].onComplete();}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.be.prototype.refreshRepeat=function(){["WebSquare.uiplugin.repeat.refreshRepeat"];try{if(this.options.nodeset!=""){this.nodeset=this.options.nodeset;if(this.nodeset.match("data:")){this.modelControl.setItemset(this.nodeset,"","");this.modelControl.getDataCollectionItemsetData(this.modelControl.id);var _18=this.modelControl.getDataComp();this.nodeset=this.uuid+"/"+_18.options.baseNode+"/"+_18.options.repeatNode;$W._J.setInstanceNode(_18.getAllXML(),this.uuid,"","replace");}var _19=$W._J.findInstanceNodes(this.nodeset);this.initialize(this.templateElement);for(var i=this.childControlList.length-1;i>=0;i--){this.childControlList[i].remove();}if(_19.length>0){for(var i=0;i<_19.length;i++){this.parseChild(this,this.templateElement,i);}this.setTableCount();if(this.options.autoCount==true){for(var i=0;i<_19.length;i++){_19[i].setAttribute(this.options.repeatKey,i);}}this.drawContents();$W._c.fireEvent(this,"onrepeatdone");}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.be.prototype.setTableCount=function(){["WebSquare.uiplugin.repeat.setTableCount"];try{var _1b=this.getChildrenCount();this.rowCount=_1b;this.colCount=1;if(this.options.rows!=""){var _1c=parseInt(this.options.rows);this.rowCount=_1c;this.colCount=Math.ceil(_1b/_1c);}if(this.options.cols!=""){var _1d=parseInt(this.options.cols);this.colCount=_1d;this.rowCount=Math.ceil(_1b/_1d);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.be.prototype.parseChild=function(_1e,_1f,_20){["WebSquare.uiplugin.repeat.parseChild"];try{for(var _21=_1f.firstChild;_21!=null;_21=_21.nextSibling){if(_21.nodeType==1){var _22=$W._B.getLocalName(_21);var _23=_21.getAttribute("id");var ref=_21.getAttribute("ref");if(_22=="repeat"){ref=_21.getAttribute("nodeset");}if(ref){var _25=ref.indexOf("data:");if(_25>=0){ref=ref.slice("data:".length+_25);}}if(_23){var id=this.id+"_"+_20+"_"+_23;if(ref){ref=this.nodeset+"[@"+this.options.repeatKey+"='"+_20+"']/"+ref;}else{ref="";}var _27=null;if(_22=="repeat"){_27=$W.controlFactory.create(id,{nodeset:ref},_21);}else{_27=$W.controlFactory.createControl(id,{ref:ref},_21);this.parseChild(_27,_21,_20);}_1e.addControl(_27);this.repeatComponents[id]={};this.repeatComponents[id].repeatIndex=_20;this.repeatIds[_20]={};this.repeatIds[_20].hashPreFix=this.id+"_"+_20+"_";$W._G.getComponentById(id).__repeat=this;$W.extend($W._G.getComponentById(id),$W._a.repeatAPI);}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.be.prototype.getRepeatChildren=function(_28){["WebSquare.uiplugin.repeat.getRepeatChildren"];try{var arr=[];var _2a=this.getChildrenCount();for(var i=0;i<_2a;i++){var id=this.id+"_"+i+"_"+_28;arr.push($W._G.getComponentById(id));}return arr;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.be.prototype.setInitValue=function(_2d){["WebSquare.uiplugin.repeat.init"];try{this.init(_2d);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.be.prototype.init=function(_2e){["WebSquare.uiplugin.repeat.init"];try{_2e=$W.extend({excludePlugin:"",excludeId:"",fireEvent:false},_2e||{});var _2f=this.getChildren();for(var i=0;i<_2f.length;i++){if(_2f[i].setInitValue){if((" "+_2e.excludePlugin+" ").indexOf(" "+_2f[i].options.pluginName+" ")==-1&&(" "+_2e.excludeId+" ").indexOf(" "+_2f[i].id+" ")==-1){_2f[i].setInitValue(_2e);}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.be.prototype.invoke=function(_31,_32,_33,_34){["WebSquare.uiplugin.repeat.invoke"];try{return $W._t.prototype.invoke.call(this,_31,_32,_33,_34);}catch(e){$W.exception.printStackTrace(e,null,this);}};;WebSquare.uiplugin.repeat=$W._a.be;$W._a.aD=function(id,_2,_3){["WebSquare.uiplugin.upload"];$W._t.call(this,id,_2,_3);};$W.extend($W._a.aD.prototype,$W._t.prototype);$W._a.aD.prototype.defaultOptions={useConfig:true,userEvents:["ondone","onInputValueChange"],pluginType:"uiplugin.upload",pluginName:"upload",className:"",imageStyle:"",inputStyle:"",imageClass:"",inputClass:"",type:"",action:"",imagewidth:"",imageheight:"",empty:6,subDir:"",subSize:"",title:"",accept:""};$W._a.aD.prototype.initialize=function(_4){["WebSquare.uiplugin.upload.initialize"];try{var _5=$W._N.getConfiguration("/WebSquare/upload/type/@value");if(this.options.type==""&&_5!=""){this.options.type=_5;}else{if(this.options.type==""){this.options.type="image";}}this.type=this.options.type;this.style=this.options.style;this.className=this.options.className;this.imageStyle=this.options.imageStyle;this.imageClassName=this.options.imageClass;this.inputStyle=this.options.inputStyle;this.inputClassName=this.options.inputClass;this.imagewidth=this.options.imagewidth;this.imageheight=this.options.imageheight;this.empty=this.options.empty;this.inputClassName=this.options.inputClass;if(!this.options.action){this.action=$W.baseServletURI+"upload.wq?callbackFunction="+this.id+".callback";}else{this.action=this.options.action;}if(_4){this.xmlEvents=$W.WebSquareparser.parseEvent(_4);}this.disabled=this.options.disabled;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aD.prototype.toHTML=function(){["WebSquare.uiplugin.upload.toHTML"];try{var _6=[];var _7=(this.options.title=="")?"":"title='"+this.options.title.wq_replaceAll("'","&#39;")+"'";var _8=this.options.style;if(_8!=""){if(_8.indexOf("position")<0){_8="position:relative;"+_8;}else{if(_8.indexOf("position:static")>0){_8=_8.replace("position:static","position:relative");}}}_8=(_8=="")?"":"style='"+_8+"'";var _9=(this.action=="")?"":"action='"+this.action+"'";var _a=(this.inputStyle=="")?"":"style='"+this.inputStyle+"'";var _b=(this.imagewidth=="")?"":"width:"+this.imagewidth+"px;";var _c=(this.imageheight=="")?"":"height:"+this.imagewidth+"px;";var _d="style='"+_b+_c+this.imageStyle+"'";var _e=(this.options.accept=="")?"":"accept='"+this.options.accept+"'";_6.push("<div id='"+this.id+"' "+_8+" class='w2upload "+this.options.className+"'>");_6.push("<form id='"+this.id+"_form"+"' "+_9+" enctype='multipart/form-data' name='form1_upload1' method='post' target='__targetFrame__"+this.id+"'><fieldset>");if(this.options.type=="image"){_6.push("<input  name='tempFlie' readonly='readonly' id='"+this.id+"_inputFile' class='w2upload_input "+this.options.inputClass+"' "+_a+" type='text'/>");_6.push("<span id='"+this.id+"_span"+"' class='w2upload_image "+this.options.imageClass+"' "+_d+">");_6.push("<input  class='w2upload_fakeInput' style='margin: 0pt; padding: 0pt; width: "+this.imagewidth+"px"+"; height:"+this.imageheight+"px; opacity: 0.01; filter : alpha(opacity=1);' name='upload' id='"+this.id+"_fakeinput' type='file' "+_7+_e+"/>");_6.push("</span>");}else{_6.push("<INPUT  id='"+this.id+"_inputFile' name='upload' type='file' _objId='2' class='w2upload_input_type' "+_a+" "+_7+_e+"/>");}_6.push("</fieldset><input type='submit' class='w2upload_submit'/></form>");_6.push("</div>");return _6.join("");}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aD.prototype.setAction=function(){["WebSquare.uiplugin.upload.prototype.setAction"];try{this.dom.input=document.getElementById(this.id+"_inputFile");this.dom.span=document.getElementById(this.id+"_span");this.dom.form=document.getElementById(this.id+"_form");this.dom.fakeinput=document.getElementById(this.id+"_fakeinput");this.styleObj={paddingTop:parseInt($W._G.getStyleProperty(this.dom.input,"padding-top"))||0,paddingBottom:parseInt($W._G.getStyleProperty(this.dom.input,"padding-bottom"))||0,paddingLeft:parseInt($W._G.getStyleProperty(this.dom.input,"padding-left"))||0,paddingRight:parseInt($W._G.getStyleProperty(this.dom.input,"padding-right"))||0,borderTopWidth:parseInt($W._G.getStyleProperty(this.dom.input,"border-top-width"))||0,borderBottomWidth:parseInt($W._G.getStyleProperty(this.dom.input,"border-bottom-width"))||0,borderLeftWidth:parseInt($W._G.getStyleProperty(this.dom.input,"border-left-width"))||0,borderRightWidth:parseInt($W._G.getStyleProperty(this.dom.input,"border-right-width"))||0,height:parseInt($W._G.getStyleProperty(this.dom.input,"height"))||0};if(this.options.type=="image"){var _f=this.dom.span.offsetWidth||parseInt($W._G.getStyleProperty(this.dom.span,"width"))+$W._H.getSize(this.dom.span,"outerMarginWidth");if(!this.dom.span.style.left){if(this.render.style.width){this.dom.span.style.left=parseInt(this.render.style.width)-parseInt(_f)+"px";}}if(!this.dom.input.style.width){if(this.render.style.width){var _10=parseInt(this.render.style.width)-(parseInt(_f))-(this.styleObj.borderLeftWidth+this.styleObj.borderRightWidth+this.styleObj.paddingLeft+this.styleObj.paddingRight);this.dom.input.style.width=_10-this.empty+6+"px";}}if(!this.dom.input.style.height&&this.styleObj.height==0){var _11=parseInt(this.render.style.height)-(this.styleObj.borderBottomWidth+this.styleObj.borderTopWidth+this.styleObj.paddingBottom+this.styleObj.paddingTop);this.dom.input.style.height=_11+"px";}if(_f==0){this.dom.fakeinput.style.width=_f+100+"px";}else{this.dom.fakeinput.style.width=_f+"px";}}var _12=$W.document.createElement("div");_12.style.width="0";_12.style.height="0";_12.style.visibility="hidden";$W.document.body.appendChild(_12);var src=$W._r.getSSLBlankPage();var _14=$W._m.getMessage("Upload_msg1")||"\ud30c\uc77c \uc5c5\ub85c\ub4dc\ub97c \uc704\ud55c \uc784\uc2dc \ud504\ub808\uc784";_12.innerHTML="<iframe frameborder='0' name='__targetFrame__"+this.id+"' scrolling='no' style='width:0; height:0' "+src+" title='"+_14+"'></iframe>";try{}catch(err){$l(err);}if(this.options.type=="image"&&this.dom.fakeinput!=null){var _15=this;this.dom.fakeinput.onchange=function(){_15.dom.input.value=_15.dom.fakeinput.value;$W._c.fireEvent(_15,"onInputValueChange",_15.dom.input.value);};this.event.addListener(this.render,"onmouseover",this.event.bindAsEventListener(this,this.handleMouseOverEvent));this.event.addListener(this.render,"onmouseout",this.event.bindAsEventListener(this,this.handleMouseOutEvent));}else{var _15=this;this.dom.input.onchange=function(){$W._c.fireEvent(_15,"onInputValueChange",_15.dom.input.value);};}if(this.options.subDir){this.addParam("subDir",this.options.subDir);}if(this.options.subSize){this.addParam("subSize",this.options.subSize);}this.event.addListener(this.dom.form,"onsubmit",this.event.bindAsEventListener(this,this.onSubmitForm));}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aD.prototype.onSubmitForm=function(e){["WebSquare.uiplugin.upload.onSubmitForm"];try{$W._c.stopEvent(e);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aD.prototype.onInputValueChange=function(e){["WebSquare.uiplugin.upload.onInputValueChange"];try{var _18=this;if(this.options.type=="image"&&this.dom.fakeinput!=null){this.dom.input.value=this.dom.fakeinput.value;}$W._c.fireEvent(_18,"onInputValueChange",_18.dom.input.value);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aD.prototype.handleMouseOverEvent=function(e){["WebSquare.uiplugin.upload.handleMouseOverEvent"];try{$W._c.stopEvent(e);var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match(null,this.id)){}if(it.match("w2upload_image")){this.addClass(this.dom.span,"w2upload_image_over");break;}}it=null;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aD.prototype.handleMouseOutEvent=function(e){["WebSquare.uiplugin.upload.handleMouseOutEvent"];try{$W._c.stopEvent(e);var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match(null,this.id)){}if(it.match("w2upload_image")){this.removeClass(this.dom.span,"w2upload_image_over");break;}}it=null;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aD.prototype.setCallback=function(obj){["WebSquare.uiplugin.upload.setCallback"];try{if(typeof obj=="function"){this.callbackFunction=obj;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aD.prototype.isEmpty=function(){["WebSquare.uiplugin.upload.isEmpty"];try{var _1e=this.getValue();if(typeof _1e=="undefined"||_1e==""){return true;}else{return false;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aD.prototype.getByte=function(){["WebSquare.uiplugin.upload.getByte"];try{var _1f=$W._m.getMessage("Upload_warning1")||"\ubcf4\uc548\uc0c1\uc758 \ubb38\uc81c\ub85c \uc0ac\uc6a9\ud560 \uc218 \uc5c6\ub294 \uae30\ub2a5\uc785\ub2c8\ub2e4.";alert(_1f);var _20=$W.document.getElementById(this.id+"_inputFile");if(_20){var fso=new ActiveXObject("Scripting.FileSystemObject");var f=fso.GetFile(_20.value);return f.size;}else{$l("input form is not exist");}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aD.prototype.getValue=function(){["WebSquare.uiplugin.upload.getValue"];try{var _23=$W.document.getElementById(this.id+"_inputFile");if(_23){return _23.value;}else{$l("input form is not exist");}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aD.prototype.reset=function(){["WebSquare.uiplugin.upload.reset"];try{this.dom.form.reset();if(this.options.type=="image"){this.dom.fakeinput.value="";this.dom.input.value="";}else{this.dom.input.value="";}var _24=this.dom.form.getElementsByTagName("input");for(var i=0;i<_24.length;i++){if(_24[i].type=="hidden"){_24[i].removeAttribute("value");}}if(this.options.subDir){var _26=this.dom.form.firstChild;while(_26){if(_26.id=="subDir"){_26.value=this.options.subDir;break;}else{_26=_26.nextSibling;}}}if(this.options.subSize){var _27=this.dom.form.firstChild;while(_27){if(_27.id=="subSize"){_27.value=this.options.subSize;return;}else{_27=_26.nextSibling;}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aD.prototype.setSubDir=function(_28){["WebSquare.uiplugin.upload.reset"];try{if(this.options.subDir){var _29=this.dom.form.firstChild;while(_29){if(_29.id=="subDir"){_29.value=_28;return;}else{_29=_29.nextSibling;}}}else{this.addParam("subDir",_28);}this.options.subDir=_28;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aD.prototype.getSubDir=function(){["WebSquare.uiplugin.upload.getSubDir"];try{var _2a="";var _2b=this.dom.form.firstChild;while(_2b){if(_2b.id=="subDir"){_2a=_2b.value;break;}else{_2b=_2b.nextSibling;}}return _2a;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aD.prototype.submit=function(){["WebSquare.uiplugin.upload.submit"];try{if($W.domain){var _2c=this.dom.form.action;if(_2c.indexOf("?")>-1){_2c+="&";}else{_2c+="?";}_2c+="domain="+$W._A.URLEncoder($W.domain);this.dom.form.action=_2c;}if($W.hybridApp){var _2d=document.getElementById(this.dom.input.id);var _2e=_2d.files[0];var _2f=new FormData();var id=this.id;_2f.append("upload",_2e);if(this.options.subDir){_2f.append("subDir",this.options.subDir);}var xhr=new XMLHttpRequest();xhr.onreadystatechange=function(){if(xhr.readyState==4&&xhr.status==200){var obj=eval(id);var _33=xhr.responseText;obj.callback(_33.substring(_33.indexOf("<ret>"),_33.indexOf("</ret>")+6));}};xhr.open("POST",this.dom.form.action,true);xhr.setRequestHeader("X-File-Name",_2e.name);xhr.send(_2f);}else{this.dom.form.submit();}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aD.prototype.getFileInputObject=function(){["WebSquare.uiplugin.upload.getFileInputObject"];try{return this.dom.input;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aD.prototype.setFAction=function(url){["WebSquare.uiplugin.upload.setFAction"];try{this.dom.form.action=url;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aD.prototype.changeFormAction=function(url){["WebSquare.uiplugin.upload.setFAction"];try{this.dom.form.action=url;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aD.prototype.addParam=function(key,_37){["WebSquare.uiplugin.upload.addParam"];try{var _38=false;var _39=this.dom.form.firstChild;while(_39){if(_39.id==key){_38=true;break;}else{_39=_39.nextSibling;}}if(_38){this.dom.form[key].value=_37;}else{var _3a=$W.document.createElement("input");_3a.type="hidden";_3a.value=_37;_3a.id=key;_3a.name=key;this.dom.form.appendChild(_3a);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aD.prototype.getDefaultStyle=function(){["WebSquare.uiplugin.upload.getDefaultStyle"];try{return " border:0px solid blue ";}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aD.prototype.callback=function(_3b){["WebSquare.uiplugin.upload.callback"];try{if(this.callbackFunction){this.callbackFunction.apply(this,new Array($W._B.parse(_3b)));}else{$W._c.fireEvent(this,"ondone",$W._B.parse(_3b));}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aD.prototype.getActionUrl=function(){["WebSquare.uiplugin.upload.getActionUrl"];try{if(this.options.action){return this.options.action;}else{return this.action;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aD.prototype.getAccessibiltyId=function(){["WebSquare.uiplugin.upload.getAccessibiltyId"];try{return this.options.type=="image"?this.id+"_fakeinput":this.id+"_inputFile";}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aD.prototype.onPropertyChange=function(_3c,_3d){["WebSquare.uiplugin.upload.onPropertyChange"];try{switch(_3c){case "disabled":if(_3d){this.addClass(this.render,"w2upload_disabled");}else{this.removeClass(this.render,"w2upload_disabled");}break;case "readOnly":break;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aD.prototype.setDisabled=function(_3e){["WebSquare.uiplugin.upload.setDisabled"];try{var _3f;_3e=$W._G.getBoolean(_3e);if(this.options.type=="image"){_3f=document.getElementById(this.id+"_fakeinput");}else{_3f=document.getElementById(this.id+"_inputFile");}if(_3e){_3f.setAttribute("disabled","disabled");}else{_3f.removeAttribute("disabled");}$W._t.prototype.setDisabled.call(this,_3e);}catch(e){$W.exception.printStackTrace(e);}return _3e;};;WebSquare.uiplugin.upload=$W._a.aD;$W._a._A=function(_1,_2){["WebSquare.uiplugin.svgToolkit"];try{this.mainParent=_1;this.options=_2;this.id=_1.id;this.mainLayer=null;this.defLayer=null;this.svgNS="http://www.w3.org/2000/svg";this.xlink="http://www.w3.org/1999/xlink";this.initSVGLayer();this.objectArr=[];this.rotateAngle=0;this.defCnt=0;}catch(e){$W.exception.printStackTrace(e);}};$W._a._A.prototype.initSVGLayer=function(){["WebSquare.uiplugin.initSVGLayer"];try{var _3=document.createElementNS(this.svgNS,"svg");_3.style.position="absolute";_3.style.left="0px";_3.style.top="0px";_3.style.width="100%";_3.style.height="100%";_3.setAttribute("class","w2graphicUtil");if(this.options.appendMode=="insert"&&this.mainParent.render.firstChild){this.mainParent.render.insertBefore(_3,this.mainParent.render.firstChild);}else{this.mainParent.render.appendChild(_3);}this.defLayer=document.createElementNS(this.svgNS,"defs");_3.appendChild(this.defLayer);this.mainLayer=document.createElementNS(this.svgNS,"g");_3.appendChild(this.mainLayer);}catch(e){$W.exception.printStackTrace(e);}};$W._a._A.prototype.rotate=function(_4,cx,cy){["WebSquare.uiplugin.svgToolkit.rotate"];_4=_4||0;cx=cx||parseInt(this.mainParent.render.style.width)/2;cx+=0.5;cy+=0.5;this.mainLayer.setAttribute("transform","rotate("+_4+" "+cx+" "+cy+")");this.rotateAngle=_4;};$W._a._A.prototype.getRotateAngle=function(){["WebSquare.uiplugin.svgToolkit.getRotateAngle"];return this.rotateAngle;};$W._a._A.prototype.createLine=function(id,_8,x1,y1,x2,y2,_d,_e,_f){["WebSquare.uiplugin.svgToolkit"];var _10=document.createElementNS(this.svgNS,"line");_10.setAttribute("id",id);_10.setAttribute("stroke-linecap","round");_10.setAttribute("stroke-width",_8);_10.setAttribute("x1",x1);_10.setAttribute("y1",y1);_10.setAttribute("x2",x2);_10.setAttribute("y2",y2);_10.setAttribute("stroke",(_d||"#000000"));this.appendObj(id,_10,_e);return _10;};$W._a._A.prototype.createCircle=function(id,_12,x1,y1,r,_16,_17,_18,_19){["WebSquare.uiplugin.svgToolkit"];var _1a=document.createElementNS(this.svgNS,"circle");_1a.setAttribute("id",id);_1a.setAttribute("stroke-width",_12);_1a.setAttribute("cx",x1);_1a.setAttribute("cy",y1);_1a.setAttribute("r",r);_1a.setAttribute("stroke",(_16||"#000000"));_1a.setAttribute("fill",(_17||"#ffffff"));this.appendObj(id,_1a,_18);return _1a;};$W._a._A.prototype.createEllipse=function(id,_1c,x1,y1,rx,ry,_21,_22,_23,_24){["WebSquare.uiplugin.svgToolkit"];var _25=document.createElementNS(this.svgNS,"ellipse");_25.setAttribute("stroke-width",_1c);_25.setAttribute("cx",x1);_25.setAttribute("cy",y1);_25.setAttribute("rx",rx);_25.setAttribute("ry",ry);_25.setAttribute("stroke",(_21||"#000000"));_25.setAttribute("fill",(_22||"#ffffff"));this.appendObj(id,_25,_23);return _25;};$W._a._A.prototype.createRectangleAnimation=function(id,_27,x,y,_2a,_2b,_2c,_2d,_2e,_2f){["WebSquare.uiplugin.svgToolkit"];_2f=_2f||"bottom_top";var _30=null;var _31=this;if(_2f=="bottom_top"){_30=this.createRectangle(id,_27,x,y+_2b,_2a,0,_2c,_2d,_2e);setTimeout(function(){_31.startRectangleAnimation1(_30,y,_2b,1,10);},1);}if(_2f=="left_right"){_30=this.createRectangle(id,_27,x,y,0,_2b,_2c,_2d,_2e);setTimeout(function(){_31.startRectangleAnimation2(_30,y,_2a,1,10);},1);}return _30;};$W._a._A.prototype.startRectangleAnimation1=function(obj,y,_34,idx,_36){["WebSquare.uiplugin.svgToolkit"];idx=(idx>_36)?_36:idx;obj.setAttribute("y",y+_34-(_34*idx/_36));obj.setAttribute("height",_34*idx/_36);if(idx<_36){idx++;var _37=this;setTimeout(function(){_37.startRectangleAnimation1(obj,y,_34,idx,_36);},40);}};$W._a._A.prototype.startRectangleAnimation2=function(obj,y,_3a,idx,_3c){["WebSquare.uiplugin.svgToolkit"];idx=(idx>_3c)?_3c:idx;obj.setAttribute("width",_3a*idx/_3c);if(idx<_3c){idx++;var _3d=this;setTimeout(function(){_3d.startRectangleAnimation2(obj,y,_3a,idx,_3c);},40);}};$W._a._A.prototype.createRectangle=function(id,_3f,x,y,_42,_43,_44,_45,_46,_47){["WebSquare.uiplugin.svgToolkit"];var _48=document.createElementNS(this.svgNS,"rect");_48.setAttribute("id",id);_48.setAttribute("stroke-width",_3f);_48.setAttribute("x",x);_48.setAttribute("y",y);_48.setAttribute("width",_42);_48.setAttribute("height",_43);_48.setAttribute("stroke",(_44||"#000000"));_48.setAttribute("fill",(_45||"#ffffff"));this.appendObj(id,_48,_46);return _48;};$W._a._A.prototype.createRoundRect=function(id,_4a,x,y,_4d,_4e,_4f,_50,_51,_52,_53){["WebSquare.uiplugin.svgToolkit.createRoundRect"];_4a=parseInt(_4a)||0;var _54=document.createElementNS(this.svgNS,"rect");_54.setAttribute("stroke-width",_4a);_54.setAttribute("x",parseInt(x)+_4a/2);_54.setAttribute("y",parseInt(y)+_4a/2);_54.setAttribute("width",parseInt(_4d)-_4a);_54.setAttribute("height",parseInt(_4e)-_4a);_54.setAttribute("stroke",(_50||"#000000"));_54.setAttribute("fill",(_51||"#ffffff"));_54.setAttribute("rx",_4f);_54.setAttribute("ry",_4f);this.appendObj(id,_54,_52);return _54;};$W._a._A.prototype.setStyle=function(id,_56,top,_58,_59){["WebSquare.uiplugin.svgToolkit"];var obj=this.objectArr[id];var _5b=parseInt(obj.getAttribute("stroke-width"))||0;if(_56!=null){obj.setAttribute("x",parseInt(_56)+_5b);}if(top!=null){obj.setAttribute("y",parseInt(top)+_5b);}if(_58!=null){obj.setAttribute("width",parseInt(_58)-_5b);}if(_59!=null){obj.setAttribute("height",parseInt(_59)-_5b);}};$W._a._A.prototype.createImage=function(id,_5d,x,y,_60,_61,_62,src,_64,_65){["WebSquare.uiplugin.svgToolkit.createImage"];var img=document.createElementNS(this.svgNS,"image");img.setAttribute("x",x);img.setAttribute("y",y);img.setAttribute("width",_60);img.setAttribute("height",_61);img.setAttributeNS(this.xlink,"href",src);this.appendObj(id,img,_64);return img;};$W._a._A.prototype.createArc=function(id,_68,cx,cy,r,_6c,_6d,_6e,_6f,_70,_71){["WebSquare.uiplugin.svgToolkit.createArc"];var _72=document.createElementNS(this.svgNS,"path");if(_6c>_6d){var tmp=_6c;_6d=_6c;_6c=tmp;}var _74=(Math.abs(_6c-_6d)>180)?1:0;var d="M"+cx+" "+cy;d+=" L"+(cx+r*Math.cos(_6c*(Math.PI/180)))+" "+(cy-r*Math.sin(_6c*(Math.PI/180)));d+=" A"+r+","+r+" "+0+" "+_74+", 0 ";d+=""+(cx+r*Math.cos(_6d*(Math.PI/180)))+" "+(cy-r*Math.sin(_6d*(Math.PI/180)));d+=" Z";_72.setAttribute("id",id);_72.setAttribute("d",d);_72.setAttribute("stroke-width",_68);_72.setAttribute("stroke",(_6e||"#000000"));_72.setAttribute("fill",(_6f||"#ffffff"));this.appendObj(id,_72,_70);return _72;};$W._a._A.prototype.createPath=function(id,_77,_78,_79,_7a,_7b,_7c){["WebSquare.uiplugin.svgToolkit.createPath"];var _7d=document.createElementNS(this.svgNS,"path");var d="";for(var i=0;i<_78.length;i++){if(i==0){d+="M";}else{d+=" L";}d+=_78[i].x+" "+_78[i].y;}d+=" Z";_7d.setAttribute("d",d);_7d.setAttribute("id",id);_7d.setAttribute("stroke-width",_77);_7d.setAttribute("stroke",(_79||"#000000"));_7d.setAttribute("fill",(_7a||"#ffffff"));this.appendObj(id,_7d,_7b);return _7d;};$W._a._A.prototype.createPath2=function(id,_81,_82,_83,_84,_85,_86,_87,_88){["WebSquare.uiplugin.svgToolkit.createPath2"];var _89=document.createElementNS(this.svgNS,"path");var d="";for(var i=0;i<_82.length;i++){if(i==0){d+="M";}else{d+=" L";}d+=_82[i].x+" "+_82[i].y;}if(_86){d+=" Z";}_89.setAttribute("d",d);_89.setAttribute("id",id);_89.setAttribute("stroke-width",_81);_89.setAttribute("stroke",(_83||"#000000"));if(_85){_89.setAttribute("fill",_84||"#ffffff");}else{_89.setAttribute("fill","none");}this.appendObj(id,_89,_87);return _89;};$W._a._A.prototype.modifyPath=function(id,_8d){["WebSquare.uiplugin.svgToolkit.modifyPath"];var obj=this.objectArr[id];var d="";for(var i=0;i<_8d.pointList.length;i++){if(i==0){d+="M";}else{d+=" L";}d+=_8d.pointList[i].x+" "+_8d.pointList[i].y;}if(_8d.closeFlag){d+=" Z";}obj.setAttribute("d",d);};$W._a._A.prototype.modifyRectangle=function(id,_92){["WebSquare.uiplugin.svgToolkit.modifyRectangle"];var obj=this.objectArr[id];if(!obj){return;}if(_92.x!=null){obj.setAttribute("x",_92.x);}if(_92.y!=null){obj.setAttribute("y",_92.y);}if(_92.width!=null){obj.setAttribute("width",_92.width);}if(_92.height!=null){obj.setAttribute("height",_92.height);}};$W._a._A.prototype.modifyArc=function(id,_95){["WebSquare.uiplugin.svgToolkit.modifyArc"];var obj=this.objectArr[id];if(!obj){return;}if(_95.centerX!=null&&_95.centerY!=null&&_95.radius!=null&&_95.startAngle!=null&&_95.endAngle!=null){var cx=_95.centerX;var cy=_95.centerY;var r=_95.radius;var _9a=_95.startAngle;var _9b=_95.endAngle;var _9c=(Math.abs(_9a-_9b)>180)?1:0;var d="M"+cx+" "+cy;d+=" L"+(cx+r*Math.cos(_9a*(Math.PI/180)))+" "+(cy-r*Math.sin(_9a*(Math.PI/180)));d+=" A"+r+","+r+" "+0+" "+_9c+", 0 ";d+=""+(cx+r*Math.cos(_9b*(Math.PI/180)))+" "+(cy-r*Math.sin(_9b*(Math.PI/180)));d+="";obj.setAttribute("d",d);}};$W._a._A.prototype.modifyLine=function(id,_9f){["WebSquare.uiplugin.svgToolkit.modifyLine"];var obj=this.objectArr[id];if(!obj){return;}};$W._a._A.prototype.appendObj=function(id,obj,_a3){["WebSquare.uiplugin.appendObj"];this.objectArr[id]=obj;_a3=(_a3!=null)?_a3:true;if($W._G.isChrome()){obj.style.visibility="hidden";}if(_a3){this.mainLayer.appendChild(obj);}if($W._G.isChrome()){setTimeout(function(){obj.style.visibility="";},100);}};$W._a._A.prototype.addLinearGradient=function(id,_a5,_a6,_a7){["WebSquare.uiplugin.svgToolkit.addLinearGradient"];var x1="0%";var y1="0%";var x2="0%";var y2="0%";if(typeof _a5!="number"){switch(_a5.toLowerCase()){case "left_right":x2="100%";break;case "right_left":x1="100%";break;case "top_bottom":y2="100%";break;case "bottom_top":y1="100%";break;}}else{x1="0%";y1="0%";x2="0%";y2="0%";var _ac=_a5%360;_ac=(_ac<0)?_ac+360:_ac;if(_ac>=0&&_ac<23){x2="100%";}else{if(_ac>360-23&&_ac<=360){x2="100%";}else{if(_ac>22&&_ac<68){y1="100%";x2="100%";}else{if(_ac>67&&_ac<113){y1="100%";}else{if(_ac>112&&_ac<158){x1="100%";y1="100%";}else{if(_ac>157&&_ac<203){x1="100%";}else{if(_ac>202&&_ac<248){x1="100%";y2="100%";}else{if(_ac>247&&_ac<293){y2="100%";}else{if(_ac>292&&_ac<338){y2="100%";x2="100%";}}}}}}}}}}this.defCnt++;var _ad=document.createElementNS(this.svgNS,"linearGradient");_ad.id=this.id+"_"+id+"def"+this.defCnt;_ad.setAttribute("x1",x1);_ad.setAttribute("y1",y1);_ad.setAttribute("x2",x2);_ad.setAttribute("y2",y2);var _ae=document.createElementNS(this.svgNS,"stop");_ae.setAttribute("offset","0%");_ae.setAttribute("style","stop-color:"+_a6+"; stop-opacity:1");var _af=document.createElementNS(this.svgNS,"stop");_af.setAttribute("offset","100%");_af.setAttribute("style","stop-color:"+_a7+"; stop-opacity:1");_ad.appendChild(_ae);_ad.appendChild(_af);this.defLayer.appendChild(_ad);this.objectArr[id].setAttribute("style","fill:url(#"+this.id+"_"+id+"def"+this.defCnt+")");};$W._a._A.prototype.addRadialGradient=function(id,x,y,_b3,_b4){["WebSquare.uiplugin.svgToolkit.addRadialGradient"];this.defCnt++;var _b5=this.id+"def"+this.defCnt;var _b6=document.createElementNS(this.svgNS,"radialGradient");_b6.id=_b5;_b6.setAttribute("cx",x);_b6.setAttribute("cy",y);_b6.setAttribute("fx",x);_b6.setAttribute("fy",y);var _b7=document.createElementNS(this.svgNS,"stop");_b7.setAttribute("offset","0%");_b7.setAttribute("style","stop-color:"+_b3+"; stop-opacity:1");var _b8=document.createElementNS(this.svgNS,"stop");_b8.setAttribute("offset","100%");_b8.setAttribute("style","stop-color:"+_b4+"; stop-opacity:1");_b6.appendChild(_b7);_b6.appendChild(_b8);this.defLayer.appendChild(_b6);this.objectArr[id].setAttribute("style","fill:url(#"+_b5+")");};$W._a._A.prototype.addOpacity=function(id,_ba){["WebSquare.uiplugin.svgToolkit.add3DEffect"];var _bb=this.objectArr[id];_bb.setAttribute("opacity",_ba);};$W._a._A.prototype.add3DEffect=function(id,_bd){["WebSquare.uiplugin.svgToolkit.add3DEffect"];var _be=this.objectArr[id];if(_be.tagName=="rect"){this.add3DEffectRectangle(id,_bd);}};$W._a._A.prototype.add3DEffectRectangle=function(id,_c0){["WebSquare.uiplugin.svgToolkit.add3DEffect"];var _c1=this.objectArr[id];var _c2=null;var _c3=null;_c0=_c0/3;var _c4=parseInt(_c1.getAttribute("stroke-width")||0);var _c5=_c1.getAttribute("stroke");var _c6=_c1.getAttribute("fill");var _c7=(_c4>0)?_c4-1:0;var _c8=parseInt(_c1.getAttribute("x")||0)+_c7;var _c9=parseInt(_c1.getAttribute("y")||0)-_c7+1;var _ca=parseInt(_c1.getAttribute("width")||0);var _cb=parseInt(_c1.getAttribute("height")||0);var _cc=[];var _cd={};_cd.x=_c8;_cd.y=_c9;_cc.push(_cd);var _ce={};_ce.x=_c8+_c0;_ce.y=_c9-_c0;_cc.push(_ce);var _cf={};_cf.x=_c8+_c0+_ca;_cf.y=_c9-_c0;_cc.push(_cf);var _d0={};_d0.x=_c8+_ca;_d0.y=_c9;_cc.push(_d0);var _d1=this.mainParent.get3DColor(_c6,"dark",5);this.createPath(id+"_upper",_c4,_cc,_c5,_d1,true);var _cc=[];var _cd={};_cd.x=_c8+_ca;_cd.y=_c9;_cc.push(_cd);var _ce={};_ce.x=_c8+_ca+_c0;_ce.y=_c9-_c0;_cc.push(_ce);var _cf={};_cf.x=_c8+_ca+_c0;_cf.y=_c9+_cb-_c0;_cc.push(_cf);var _d0={};_d0.x=_c8+_ca;_d0.y=_c9+_cb;_cc.push(_d0);var _d2=this.mainParent.get3DColor(_c6,"bright",5);this.createPath(id+"_right",_c4,_cc,_c5,_d2,true);};;WebSquare.uiplugin.svgToolkit=$W._a._A;$W._a.aA=function(_1,_2){["WebSquare.uiplugin.vmlToolkit"];try{this.mainParent=_1;this.options=_2;this.mainLayer=null;this.objectArr=[];this.coordsize="";this.rotateAngle=0;this.initVMLLayer();}catch(e){$W.exception.printStackTrace(e);}};$W._a.aA.prototype.initVMLLayer=function(){["WebSquare.uiplugin.initVMLLayer"];try{document.namespaces.add("v","urn:schemas-microsoft-com:vml");try{}catch(e){$lobj(e);return;}this.mainLayer=this.createElement("group");this.mainLayer.style.position="absolute";this.mainLayer.className="w2graphicUtil";this.mainLayer.style.left="0px";this.mainLayer.style.top="0px";this.mainLayer.style.visibility="visible";var _3=this.mainParent.render.offsetWidth;var _4=this.mainParent.render.offsetHeight;if(_3==0||_4==0){_3=parseInt($W._G.getStyleProperty(this.mainParent.render,"width"));_4=parseInt($W._G.getStyleProperty(this.mainParent.render,"height"));}this.mainLayer.style.width=_3+"px";this.mainLayer.style.height=_4+"px";this.mainLayer.coordsize=parseInt(_3)+", "+parseInt(_4);this.coordsize=parseInt(_3)+", "+parseInt(_4);if(this.options.appendMode=="insert"&&this.mainParent.render.firstChild){this.mainParent.render.insertBefore(this.mainLayer,this.mainParent.render.firstChild);}else{this.mainParent.render.appendChild(this.mainLayer);}}catch(e){$W.exception.printStackTrace(e);}};$W._a.aA.prototype.rotate=function(_5,_6,_7){["WebSquare.uiplugin.vmlToolkit.rotate"];_5=_5||0;this.mainLayer.rotation=_5;this.rotateAngle=_5;var w=2*_6+1;var h=2*_7+1;this.mainLayer.style.width=w+"px";this.mainLayer.style.height=h+"px";this.coordsize=w+" "+h;this.mainLayer.coordsize=this.coordsize;};$W._a.aA.prototype.getRotateAngle=function(_a){["WebSquare.uiplugin.vmlToolkit.rotate"];return this.rotateAngle;};$W._a.aA.prototype.getPxWidth=function(_b){if(_b+""==parseInt(_b)+""){return _b+"px";}return _b;};$W._a.aA.prototype.createLine=function(id,_d,x1,y1,x2,y2,_12,_13,_14){["WebSquare.uiplugin.vmlToolkit.creatLine"];var _15=this.createElement("line");_15.setAttribute("id",id);_15.setAttribute("strokeweight",this.getPxWidth(_d));_15.style.zIndex=_14||0;var _16=this.createElement("stroke");_16.setAttribute("endcap","round");_15.appendChild(_16);_15.setAttribute("to",x1+","+y1);_15.setAttribute("from",x2+","+y2);_15.setAttribute("strokecolor",_12);this.appendObj(id,_15,_13);return _15;};$W._a.aA.prototype.createCircle=function(id,_18,x1,y1,r,_1c,_1d,_1e,_1f){["WebSquare.uiplugin.vmlToolkit.createCircle"];var _20=this.createElement("oval");_20.setAttribute("id",id);_20.style.position="absolute";_20.style.left=x1-r;_20.style.top=y1-r;_20.style.width=r*2;_20.style.height=r*2;_20.setAttribute("stroke","true");_20.setAttribute("opacity","5.5");_20.setAttribute("strokecolor",_1c);_20.setAttribute("strokeweight",this.getPxWidth(_18));_20.setAttribute("fill","true");_20.setAttribute("fillcolor",_1d||"#ffffff");_20.style.zIndex=_1f||0;this.appendObj(id,_20,_1e);return _20;};$W._a.aA.prototype.createEllipse=function(id,_22,x1,y1,rx,ry,_27,_28,_29,_2a){["WebSquare.uiplugin.vmlToolkit.createEllipse"];var _2b=this.createElement("oval");_2b.style.position="absolute";_2b.style.left=x1-rx;_2b.style.top=y1-ry;_2b.style.width=rx*2;_2b.style.height=ry*2;_2b.setAttribute("stroke","true");_2b.setAttribute("strokecolor",_27);_2b.setAttribute("strokeweight",this.getPxWidth(_22));_2b.setAttribute("fill","true");_2b.setAttribute("fillcolor",_28||"#ffffff");_2b.style.zIndex=_2a||0;this.appendObj(id,_2b,_29);return _2b;};$W._a.aA.prototype.createRectangleAnimation=function(id,_2d,x,y,_30,_31,_32,_33,_34,_35){["WebSquare.uiplugin.vmlToolkit"];_35=_35||"bottom_top";var _36=null;var _37=this;if(_35=="bottom_top"){_36=this.createRectangle(id,_2d,x,y+_31,_30,0,_32,_33,_34);setTimeout(function(){_37.startRectangleAnimation1(_36,y,_31,1,10);},1);}if(_35=="left_right"){_36=this.createRectangle(id,_2d,x,y,0,_31,_32,_33,_34);setTimeout(function(){_37.startRectangleAnimation2(_36,y,_30,1,10);},1);}return _36;};$W._a.aA.prototype.startRectangleAnimation1=function(obj,y,_3a,idx,_3c){["WebSquare.uiplugin.vmlToolkit"];idx=(idx>_3c)?_3c:idx;obj.style.top=y+_3a-(_3a*idx/_3c);obj.style.height=_3a*idx/_3c;if(idx<_3c){idx++;var _3d=this;setTimeout(function(){_3d.startRectangleAnimation1(obj,y,_3a,idx,_3c);},20);}};$W._a.aA.prototype.startRectangleAnimation2=function(obj,y,_40,idx,_42){["WebSquare.uiplugin.vmlToolkit"];idx=(idx>_42)?_42:idx;obj.style.width=_40*idx/_42;if(idx<_42){idx++;var _43=this;setTimeout(function(){_43.startRectangleAnimation2(obj,y,_40,idx,_42);},20);}};$W._a.aA.prototype.createRectangle=function(id,_45,x,y,_48,_49,_4a,_4b,_4c,_4d){["WebSquare.uiplugin.vmlToolkit"];var _4e=this.createElement("rect");_4e.id=id;_4e.setAttribute("stroke","true");_4e.setAttribute("strokecolor",_4a);_4e.setAttribute("strokeweight",this.getPxWidth(_45));_4e.style.position="absolute";_4e.style.left=x;_4e.style.top=y;_4e.style.width=_48;_4e.style.height=_49;_4e.setAttribute("fill","true");_4e.setAttribute("fillcolor",_4b||"#ffffff");_4e.style.zIndex=_4d||0;this.appendObj(id,_4e,_4c);return _4e;};$W._a.aA.prototype.createRoundRect=function(id,_50,x,y,_53,_54,_55,_56,_57,_58,_59){["WebSquare.uiplugin.vmlToolkit"];_50=parseInt(_50);_54-=_50;var _5a=this.createElement("roundrect");_5a.style.width=_53;_5a.style.height=_54;if(_50!==0){_5a.setAttribute("stroked","true");_5a.setAttribute("strokecolor",_56);_5a.setAttribute("strokeweight",this.getPxWidth(_50));}else{_5a.setAttribute("stroked","false");}_5a.setAttribute("arcsize",parseFloat(_55)/parseFloat(_54));_5a.style.position="absolute";_5a.style.left=x;_5a.style.top=y;_5a.setAttribute("fill","true");_5a.setAttribute("fillcolor",_57||"#ffffff");_5a.style.zIndex=_59||0;this.appendObj(id,_5a,_58);return _5a;};$W._a.aA.prototype.setStyle=function(id,_5c,top,_5e,_5f){["WebSquare.uiplugin.vmlToolkit"];var obj=this.objectArr[id];if(_5c!=null){obj.style.left=_5c;}if(top!=null){obj.style.top=top;}if(_5e!=null){obj.style.width=_5e;}if(_5f!=null){obj.style.height=_5f;}};$W._a.aA.prototype.createImage=function(id,_62,x,y,_65,_66,_67,src,_69,_6a){["WebSquare.uiplugin.vmlToolkit.createImage"];var img=this.createElement("image");img.src=src;img.style.position="absolute";img.style.left=x;img.style.top=y;img.style.width=_65;img.style.height=_66;img.style.zIndex=_6a||0;this.appendObj(id,img,_69);return img;};$W._a.aA.prototype.createArc=function(id,_6d,cx,cy,r,_71,_72,_73,_74,_75,_76){["WebSquare.uiplugin.vmlToolkit.createImage"];r=Math.round(r);if(_71>_72){var tmp=_71;_72=_71;_71=tmp;}var _78=parseInt(23600000*_71/360);var _79=parseInt((_72-_71)/360*23600000);var _7a=this.createElement("shape");_7a.setAttribute("id",id);_7a.style.position="absolute";_7a.style.left=cx;_7a.style.top=cy;_7a.style.width=r;_7a.style.height=r;_7a.setAttribute("strokeweight",this.getPxWidth(_6d));_7a.setAttribute("strokeColor",_73);_7a.setAttribute("coordsize",r+" "+r);_7a.setAttribute("path","M 0 0 AE 0 0 "+r+" "+r+" "+_78+" "+_79+" X E");_7a.style.zIndex=_76||0;_7a.setAttribute("fill","true");_7a.setAttribute("fillcolor",_74||"#ffffff");this.appendObj(id,_7a,_75);return _7a;};$W._a.aA.prototype.createPath=function(id,_7c,_7d,_7e,_7f,_80,_81){["WebSquare.uiplugin.vmlToolkit.createPath"];var _82=this.createElement("shape");_82.setAttribute("id",id);_82.style.position="absolute";_82.style.width=this.mainLayer.style.width;_82.style.height=this.mainLayer.style.height;_82.setAttribute("strokeColor",_7e);_82.setAttribute("strokeweight",this.getPxWidth(_7c));_82.setAttribute("fillcolor",_7f);_82.style.zIndex=_81||0;var _83=this.createElement("path");var _84="";for(var i=0;i<_7d.length;i++){if(i==0){_84+="M";}else{_84+=" L";}_84+=parseInt(_7d[i].x)+","+parseInt(_7d[i].y);}_84+=" X E";_83.setAttribute("v",_84);_82.appendChild(_83);this.appendObj(id,_82,_80);return _82;};$W._a.aA.prototype.createPath2=function(id,_87,_88,_89,_8a,_8b,_8c,_8d,_8e){["WebSquare.uiplugin.vmlToolkit.createPath2"];var _8f=this.createElement("shape");_8f.setAttribute("id",id);_8f.style.position="absolute";_8f.style.width=this.mainLayer.style.width;_8f.style.height=this.mainLayer.style.height;_8f.setAttribute("strokeColor",_89);_8f.setAttribute("strokeweight",this.getPxWidth(_87));_8f.style.zIndex=_8e||0;if(_8b){_8f.fillcolor=_8a;}var _90=this.createElement("path");var _91="";for(var i=0;i<_88.length;i++){if(i==0){_91+="M";}else{_91+=" L";}_91+=parseInt(_88[i].x)+","+parseInt(_88[i].y);}if(_8c){_91+=" X E";}else{_91+=" E nf ";}_90.setAttribute("v",_91);_8f.appendChild(_90);this.appendObj(id,_8f,_8d);return _8f;};$W._a.aA.prototype.modifyPath=function(id,_94){["WebSquare.uiplugin.vmlToolkit.modifyPath"];var obj=this.objectArr[id];if(!obj){return;}var _96=null;var _97="";for(var _98=obj.firstChild;_98!=null;_98=_98.nextSibling){if(_98.nodeName=="path"){_96=_98;break;}}if(_96){for(var i=0;i<_94.pointList.length;i++){if(i==0){_97+="M";}else{_97+=" L";}_97+=parseInt(_94.pointList[i].x)+","+parseInt(_94.pointList[i].y);}if(_94.closeFlag){_97+=" X E";}else{_97+=" E nf";}_96.v=_97;}};$W._a.aA.prototype.modifyRectangle=function(id,_9b){["WebSquare.uiplugin.vmlToolkit.modifyRectangle"];var obj=this.objectArr[id];if(!obj){return;}if(_9b.x!=null){obj.style.left=_9b.x;}if(_9b.y!=null){obj.style.top=_9b.y;}if(_9b.width!=null){obj.style.width=_9b.width;}if(_9b.height!=null){obj.style.height=_9b.height;}};$W._a.aA.prototype.modifyArc=function(id,_9e){["WebSquare.uiplugin.vmlToolkit.modifyArc"];var obj=this.objectArr[id];if(!obj){return;}if(_9e.centerX!=null){obj.style.left=_9e.centerX;}if(_9e.centerY!=null){obj.style.top=_9e.centerY;}if(_9e.radius!=null&&_9e.startAngle!=null&&_9e.endAngle!=null){var r=parseInt(_9e.radius);var _a1=parseInt(23600000*_9e.startAngle/360);var _a2=parseInt((_9e.endAngle-_9e.startAngle)/360*23600000);obj.path="M 0 0 AE 0 0 "+r+" "+r+" "+_a1+" "+_a2+" X E";}};$W._a.aA.prototype.modifyLine=function(id,_a4){["WebSquare.uiplugin.vmlToolkit.modifyLine"];var obj=this.objectArr[id];if(!obj){return;}};$W._a.aA.prototype.appendObj=function(id,obj,_a8){["WebSquare.uiplugin.appendObj"];this.objectArr[id]=obj;_a8=(_a8!=null)?_a8:true;obj.style.visibility="visible";obj.style.display="none";if(_a8){this.mainLayer.appendChild(obj);}this.mainLayer.style.visibility="";obj.style.display="";obj.style.visibility="";};$W._a.aA.prototype.addLinearGradient=function(id,_aa,_ab,_ac){["WebSquare.uiplugin.vmlToolkit.addLinearGradient"];var _ad="0";if(typeof _aa!="number"){switch(_aa.toLowerCase()){case "left_right":_ad="270";break;case "right_left":_ad="90";break;case "top_bottom":_ad="180";break;case "bottom_top":_ad="0";break;}}else{_ad=_aa%360;_ad-=90;_ad=(_ad<0)?_ad+360:_ad;}var _ae=this.createElement("fill");_ae.setAttribute("type","Gradient");_ae.setAttribute("angle",_ad);_ae.setAttribute("color",_ab);_ae.setAttribute("color2",_ac);this.objectArr[id].appendChild(_ae);};$W._a.aA.prototype.addRadialGradient=function(id,x,y,_b2,_b3){["WebSquare.uiplugin.vmlToolkit.addRadialGradient"];var _b4="0";gradientType=0;if(typeof gradientType!="number"){switch(gradientType.toLowerCase()){case "left_right":_b4="270";break;case "right_left":_b4="90";break;case "top_bottom":_b4="180";break;case "bottom_top":_b4="0";break;}}else{_b4=gradientType%360;_b4-=90;_b4=(_b4<0)?_b4+360:_b4;}var _b5=this.createElement("fill");_b5.setAttribute("type","Gradient");_b5.setAttribute("angle",_b4);_b5.setAttribute("color",_b2);_b5.setAttribute("color2",_b3);this.objectArr[id].appendChild(_b5);};$W._a.aA.prototype.add3DEffect=function(id,_b7){["WebSquare.uiplugin.vmlToolkit.add3DEffect"];var _b8=this.createElement("extrusion");_b8.setAttribute("on","true");_b8.setAttribute("backdepth",_b7+"px");this.objectArr[id].appendChild(_b8);};$W._a.aA.prototype.addOpacity=function(id,_ba){["WebSquare.uiplugin.vmlToolkit.addOpacity"];var _bb=this.createElement("stroke");_bb.setAttribute("opacity","50%");this.objectArr[id].appendChild(_bb);};$W._a.aA.prototype.createElement=function(_bc){["WebSquare.uiplugin.vmlToolkit.createElement"];var _bd;_bd=document.createElement("v:"+_bc);if($W._G.isIE(8)&&navigator.userAgent.indexOf("MSIE 8.0")>-1){var _be=navigator.userAgent.indexOf("Trident");var _bf=navigator.userAgent.indexOf("/",_be);var _c0=navigator.userAgent.indexOf(".",_bf);var _c1=parseInt(navigator.userAgent.substring(_bf+1,_c0),10);if(_c1>=5){_bd=document.createElement("v:"+_bc);}else{_bd.style.BEHAVIOR="url(#default#VML)";}}else{_bd=document.createElement("v:"+_bc);}return _bd;};;WebSquare.uiplugin.vmlToolkit=$W._a.aA;$W._a._k=function(id,_2,_3,_4){["WebSquare.uiplugin.graphicUtil"];this.id=id;this.platformType=_3||"";this.options=$W.extend({appendMode:"append"},_4||{});if(this.platformType==""){this.platformType=$W.graphicPlatformType;}this.makeMainLayer(_2);this.hasMainCanvas=false;this.drawToolkit=null;this.setDrawToolkit(this.options);};$W._a._k.prototype.setDrawToolkit=function(_5){try{switch(this.platformType){case "svg":imports("uiplugin/graphicUtil/svgToolkit.js");this.drawToolkit=new $W._a._A(this,_5);break;case "vml":imports("uiplugin/graphicUtil/vmlToolkit.js");this.drawToolkit=new $W._a.aA(this,_5);break;case "silverlight":break;case "canvas":break;}}catch(e){$W.exception.printStackTrace(e);}};$W._a._k.prototype.setSize=function(_6,_7){this.drawToolkit.setSize(_6,_7);};$W._a._k.prototype.makeMainLayer=function(_8){this.render=_8;};$W._a._k.prototype.rotate=function(_9){this.drawToolkit.rotate(_9);};$W._a._k.prototype.getRotateAngle=function(){return this.drawToolkit.getRotateAngle();};$W._a._k.prototype.get3DColor=function(_a,_b,_c){if(_b=="dark"){return this.getDarkColor(_a,_c);}else{return this.getBrightColor(_a,_c);}};$W._a._k.prototype.getDarkColor=function(_d,_e){var r;var g;var b;if(_d.indexOf("#")>-1){r=$W._G.hexacodetoDbl(_d.substr(1,2));g=$W._G.hexacodetoDbl(_d.substr(3,2));b=$W._G.hexacodetoDbl(_d.substr(5,2));}else{r=255;g=255;b=255;}var _12=r-(r)/_e;if(_12<0){_12=0;}var _13=g-(g)/_e;if(_13<0){_13=0;}var _14=b-(b)/_e;if(_14<0){_14=0;}return "#"+this.getChangedHexacode(_12)+this.getChangedHexacode(_13)+this.getChangedHexacode(_14);};$W._a._k.prototype.getBrightColor=function(_15,_16){var r;var g;var b;if(_15.indexOf("#")>-1){r=$W._G.hexacodetoDbl(_15.substr(1,2));g=$W._G.hexacodetoDbl(_15.substr(3,2));b=$W._G.hexacodetoDbl(_15.substr(5,2));}else{r=255;g=255;b=255;}var _1a=r+(r)/_16;if(_1a>255){_1a=255;}var _1b=g+(g)/_16;if(_1b>255){_1b=255;}var _1c=b+(b)/_16;if(_1c>255){_1c=255;}return "#"+this.getChangedHexacode(_1a)+this.getChangedHexacode(_1b)+this.getChangedHexacode(_1c);};$W._a._k.prototype.getChangedHexacode=function(_1d){_1d=$W._G.dbltoHexacode(_1d);_1d="0000".substring(0,2-_1d.length)+_1d;return _1d;};$W._a._k.prototype.getRenderingObj=function(id){return this.drawToolkit.objectArr[id];};;WebSquare.uiplugin.graphicUtil=$W._a._k;requires("uiplugin/graphicUtil/graphicUtil.js");$W._a.aU=function(id,_2,_3){["WebSquare.uiplugin.rectangle"];$W._t.call(this,id,_2,_3);};$W.extend($W._a.aU.prototype,$W._t.prototype);$W._a.aU.prototype.defaultOptions={pluginType:"uiplugin.rectangle",pluginName:"rectangle",x:null,y:null,width:null,height:null,arcsize:5,borderWidth:0,borderColor:"#000000",fillColor:"#ffffff",gradient:false,color1:"#ffffff",color2:"#ffffff",gradientType:"left_right"};$W._a.aU.prototype.initialize=function(_4){["WebSquare.uiplugin.rectangle.initialize"];try{this.mainGU=null;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aU.prototype.toHTML=function(){["WebSquare.uiplugin.rectangle.toHTML"];try{var _5=[];var _6=(this.options.style=="")?"":"style='"+this.options.style+"'";_5.push("<div id='"+this.id+"' "+_6+" class='w2rectangle "+this.options.className+"'>");_5.push("</div>");return _5.join("");}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aU.prototype.setAction=function(){["WebSquare.uiplugin.rectangle.setAction"];try{var x=0;var y=0;var _9=0;var _a=0;if(this.options.x!=null){x=this.options.x;}else{x=0;}if(this.options.y!=null){y=this.options.y;}else{y=0;}if(this.options.width!=null){_9=this.options.width;}else{_9=this.render.offsetWidth;}if(this.options.height!=null){_a=this.options.height;}else{_a=this.render.offsetHeight;}this.mainGU=new $W._a._k(this.id+"_GU",this.render);this.mainGU.drawToolkit.createRectangle(this.id+"_graphic",this.options.borderWidth,x,y,_9,_a,this.options.arcsize,this.options.borderColor,this.options.fillColor,true);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aU.prototype.refreshItemset=function(){};$W._a.aU.prototype.refresh=function(){};$W._a.aU.prototype.setSize=function(_b,_c){try{this.mainGU.drawToolkit.setStyle(this.id+"_graphic",null,null,_b,_c);}catch(e){$W.exception.printStackTrace(e,null,this);}};;WebSquare.uiplugin.rectangle=$W._a.aU;requires("uiplugin/graphicUtil/graphicUtil.js");$W._a.aQ=function(id,_2,_3){["WebSquare.uiplugin.roundRectangle"];$W._t.call(this,id,_2,_3);};$W.extend($W._a.aQ.prototype,$W._t.prototype);$W._a.aQ.prototype.defaultOptions={pluginType:"uiplugin.roundRectangle",pluginName:"roundRectangle",x:null,y:null,width:null,height:null,arcsize:5,borderWidth:"1px",borderColor:"#000000",fillColor:"#ffffff",gradient:false,color1:"#ffffff",color2:"#ffffff",gradientType:""};$W._a.aQ.prototype.initialize=function(_4){["WebSquare.uiplugin.roundRectangle.initialize"];try{this.mainGU=null;this.gradientList=[];if(_4){this.gradientList=$W._B.getElementsByTagName(_4,"gradient",$W._N._XML_NAMESPACE.W2);if(this.gradientList.length>0){var _5=this.gradientList[0];this.options.color1=$W.WebSquareparser.getAttribute(_5,"color1");this.options.color2=$W.WebSquareparser.getAttribute(_5,"color2");this.options.gradientType=$W.WebSquareparser.getAttribute(_5,"gradientType");}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aQ.prototype.toHTML=function(){["WebSquare.uiplugin.roundRectangle.toHTML"];try{var _6=[];var _7=(this.options.style=="")?"":"style='"+this.options.style+"'";_6.push("<div id='"+this.id+"' "+_7+" class='w2roundRectangle "+this.options.className+"'>");_6.push("</div>");return _6.join("");}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aQ.prototype.setAction=function(){["WebSquare.uiplugin.roundRectangle.setAction"];try{var x=0;var y=0;var _a=0;var _b=0;if(this.options.x!=null){x=this.options.x;}else{x=0;}if(this.options.y!=null){y=this.options.y;}else{y=0;}var _c=$W._N.makeStyle(this.options.style);if(this.options.width!=null){_a=this.options.width;}else{_a=parseInt(_c.width);}if(this.options.height!=null){_b=this.options.height;}else{_b=parseInt(_c.height);}this.mainGU=new $W._a._k(this.id+"_GU",this.render);this.mainGU.drawToolkit.createRoundRect(this.id+"_graphic",this.options.borderWidth,x,y,_a,_b,this.options.arcsize,this.options.borderColor,this.options.fillColor,true);if(this.options.gradientType!=""){this.mainGU.drawToolkit.addLinearGradient(this.id+"_graphic",this.options.gradientType,this.options.color1,this.options.color2);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aQ.prototype.gradient=function(_d,_e,_f){["WebSquare.uiplugin.roundRectangle.gradient"];try{this.mainGU.drawToolkit.addLinearGradient(this.id+"_graphic",_d,_e,_f);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aQ.prototype.setSize=function(_10,_11){["WebSquare.uiplugin.roundRectangle.setSize"];try{this.mainGU.drawToolkit.setStyle(this.id+"_graphic",null,null,_10,_11);}catch(e){$W.exception.printStackTrace(e,null,this);}};;WebSquare.uiplugin.roundRectangle=$W._a.aQ;$W._a.ab=function(id,_2,_3){["WebSquare.uiplugin.itemTable"];$W._t.call(this,id,_2,_3);};$W.extend($W._a.ab.prototype,$W._t.prototype);$W._a.ab.prototype.defaultOptions={pluginType:"uiplugin.itemTable",pluginName:"itemTable",row:"5",col:"1",submenuSize:"fixed",useRowHover:"true",useColHover:"true",useKey:"true",useHotKey:"true",useCacheData:"true",w2table:"w2table",w2table_main:"w2table_main",w2table_row:"w2table_row",w2table_col:"w2table_col",w2table_col_over:"w2table_col_over",w2table_col_checkbox:"w2table_col_checkbox",w2table_col_label:"w2table_col_label",defaultStyle:"",checkbox:false,escape:false,tableRender:""};$W._a.ab.prototype.initialize=function(_4){this.rowCount=this.options.row;this.colCount=this.options.col;this.selectedCell=null;this.data=[];this.keyCharHash={"48":"0","49":"1","50":"2","51":"3","52":"4","53":"5","54":"6","55":"7","56":"8","57":"9","65":"a","66":"b","67":"c","68":"d","69":"e","70":"f","71":"g","72":"h","73":"i","74":"j","75":"k","76":"l","77":"m","78":"n","79":"o","80":"p","81":"q","82":"r","83":"s","84":"t","85":"u","86":"v","87":"w","88":"x","89":"y","90":"z","96":"0","97":"1","98":"2","99":"3","100":"4","101":"5","102":"6","103":"7","104":"8","105":"9","110":".","111":"/","106":"*","107":"+","109":"-","187":"=","189":"-","192":"`","220 ":"\\"};this.inputBlurInside=false;};$W._a.ab.prototype.toHTML=function(){["WebSquare.uiplugin.itemTable.toHTML"];var _5=new Date();var _6=[];var _7=(this.options.style=="")?"":"style='"+this.options.style+"'";_6.push("<div id='"+this.id+"' aria-expanded='true' "+_7+" class='"+this.options.w2table+" "+this.options.className+"' tabIndex='0'>");_6.push("</div>");return _6.join("");};$W._a.ab.prototype.addClickEventListener=function(_8){["WebSquare.uiplugin.itemTable.addClickEventListener"];this.clickFunc=_8;};$W._a.ab.prototype.addKeyDownEventListener=function(_9){["WebSquare.uiplugin.itemTable.addKeyDownEventListener"];this.keyDownFunc=_9;};$W._a.ab.prototype.addMouseLeaveEventListener=function(_a){["WebSquare.uiplugin.itemTable.addMouseLeaveEventListener"];this.mouseLeaveFunc=_a;};$W._a.ab.prototype.setItemArr=function(_b){["WebSquare.uiplugin.itemTable.setItemArr"];var _c=[];var _d=(this.options.submenuSize=="")?"style='width:0px'":"style='table-layout:"+this.options.submenuSize+"; width:0px;'";if(this.options.tableRender==="ul"){_c.push("<ul id='"+this.id+"_main"+"' class='"+this.options.w2table_main+"'>");for(var _e=0;_e<_b.length;++_e){var _f=(this.options.defaultStyle=="")?"":"style='"+this.options.defaultStyle+"'";_c.push("<li class='"+this.options.w2table_col+"' "+_f+" index='"+_e+"'>");for(var col=0;col<1;++col){var _11=this.options.escape?$W._B._encode(_b[_e].label):_b[_e].label;var _12=_b[_e].value;_c.push("<a id='"+this.id+"_"+_e+"' role='listitem option' aria-setsize='"+_b.length+"' aria-posinset='"+(_e+1)+"' col='"+col+"' index='"+_e+"' href='javascript:void(null)'>");_c.push(_11);_c.push("</a>");}_c.push("</li>");}_c.push("</ul>");}else{_c.push("<table id='"+this.id+"_main"+"' "+_d+" class='"+this.options.w2table_main+"' cellpadding='0' cellspacing='0'>");for(var _e=0;_e<_b.length;++_e){_c.push("<tr class='"+this.options.w2table_row+"' row='"+_e+"'>");for(var col=0;col<1;++col){var _11=this.options.escape?$W._B._encode(_b[_e].label):_b[_e].label;var _12=_b[_e].value;var _f=(this.options.defaultStyle=="")?"":"style='"+this.options.defaultStyle+"'";_c.push("<td id='"+this.id+"_"+_e+"' role='listitem option' aria-setsize='"+_b.length+"' aria-posinset='"+(_e+1)+"' "+_f+" class='"+this.options.w2table_col+"' col='"+col+"' index='"+_e+"'>");if(this.options.checkbox==true){var _13=this.id+"_"+_e+"_checkbox";_c.push("<input type='checkbox' id='"+_13+"' class='"+this.options.w2table_col_checkbox+"' value='"+_12+"'/>");_c.push("<label type='checkbox' for='"+_13+"' class='"+this.options.w2table_col_label+"'>");_c.push(_11);_c.push("</label>");}else{_c.push(_11);}_c.push("</td>");}_c.push("</tr>");}_c.push("</table>");}var _14=false;if(this.render.style.display=="none"){this.render.style.display="";_14=true;}this.render.innerHTML=_c.join("");this.mainTable=this.render.firstChild;this.dom["td"]=null;if(this.options.tableRender==="ul"){this.dom.tds=this.getDomList("td","li");}else{this.dom.tds=this.getDomList("td","td");}if(this.dom.tds&&this.dom.tds.length>0){var _15=this.dom.tds[0].offsetHeight;var _16=0;var _17=0;var _18=(this.options.row>_b.length)?_b.length:this.options.row;this.setStyle("height",(_18*_15)+"px");for(var j=0;j<this.dom.tds.length;j++){var _1a=parseInt($W._H.getStyle(this.dom.tds[j],"padding-left").wq_replaceAll("px",""),10)||0;var _1b=parseInt($W._H.getStyle(this.dom.tds[j],"padding-right").wq_replaceAll("px",""),10)||0;_16=_1b+_1a;var _1c=0;var _1d=0;for(var i=0;i<this.dom.tds[j].childNodes.length;i++){if(this.dom.tds[j].childNodes[i].nodeType==1){_1c=$W._H.getStyle(this.dom.tds[j].childNodes[i],"margin-left").wq_replaceAll("px","");_1d=$W._H.getStyle(this.dom.tds[j].childNodes[i],"margin-right").wq_replaceAll("px","");_1c=(_1c==="auto")?2:parseInt(_1c,10);_1d=(_1d==="auto")?2:parseInt(_1c,10);if(this.hasClass(this.dom.tds[j].childNodes[i],"w2autoComplete_keyword")){_16=this.dom.tds[j].childNodes[i].offsetWidth+_1c+_1d;break;}else{_16+=this.dom.tds[j].childNodes[i].offsetWidth+_1c+_1d;}}else{_16+=this.dom.tds[j].offsetWidth;}}if(_17<_16){if($W._G.isIE("6")||$W._G.isIE("7")){_16=_16+_1b+_1a+_1c+_1d;}_17=_16;}}_17=_17+17;this.maxWidth=_17;this.setStyle("width",_17+"px");}if(_14){this.render.style.display="none";}};$W._a.ab.prototype.setAction=function(){this.event.addListener(this.render,"onmouseover",this.event.bindAsEventListener(this,this.handleMouseOverEvent));this.event.addListener(this.render,"onmouseout",this.event.bindAsEventListener(this,this.handleMouseOutEvent));if($W._G.isMobile()){this.event.addListener(this.render,"ontouchstart",this.event.bindAsEventListener(this,function(e){try{this.inputBlurInside=true;$W._c.stopPropagation(e);}catch(e){}}));}else{this.event.addListener(this.render,"onmousedown",this.event.bindAsEventListener(this,function(e){try{this.inputBlurInside=true;$W._c.stopPropagation(e);}catch(e){}}));this.event.addListener(this.render,"onmousewheel",this.event.bindAsEventListener(this,function(e){try{$W._c.stopPropagation(e);}catch(e){}}));}this.event.addListener(this.render,"onclick",this.event.bindAsEventListener(this,this.handleClickEvent));this.event.addListener(this.render,"onkeydown",this.event.bindAsEventListener(this,this.handleKeydownEvent));this.event.addListener(this.render,"onmouseleave",this.event.bindAsEventListener(this,this.handleMouseLeaveEvent));};$W._a.ab.prototype.handleMouseOverEvent=function(e){["WebSquare.uiplugin.itemTable.handleMouseMoveEvent"];try{$W._c.stopEvent(e);var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match(null,this.id)){}if(it.match(this.options.w2table_col)){if(this.options.tableRender==="ul"){var _24=this.getElementById(this.id).firstChild.childNodes;}else{var _24=this.getElementById(this.id).firstChild.firstChild.childNodes;}for(var i=0;i<_24.length;i++){if(this.options.tableRender==="ul"){var _26=_24[i];}else{var _26=_24[i].firstChild;}this.removeClass(_26,this.options.w2table_col_over);}this.selectedCell=it.getElement();this.addClass(this.selectedCell,this.options.w2table_col_over);}}}catch(ex){$W.exception.printStackTrace(ex);}};$W._a.ab.prototype.handleMouseOutEvent=function(e){["WebSquare.uiplugin.itemTable.handleMouseOutEvent"];try{$W._c.stopEvent(e);var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match(null,this.id)){}if(it.match(this.options.w2table_col)){this.removeClass(it.getElement(),this.options.w2table_col_over);this.selectedCell=null;}}}catch(ex){$W.exception.printStackTrace(ex);}};$W._a.ab.prototype.handleMouseLeaveEvent=function(e){["WebSquare.uiplugin.itemTable.handleMouseLeaveEvent"];try{if(this.mouseLeaveFunc){this.mouseLeaveFunc(e);}}catch(ex){$W.exception.printStackTrace(ex);}};$W._a.ab.prototype.handleClickEvent=function(e){["WebSquare.uiplugin.itemTable.handleClickEvent"];try{$W._c.stopPropagation(e);var _2b=false;var _2c=false;var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match(null,this.id)){}if(it.match(this.options.w2table_col)){this.selectedCell=it.getElement();if(this.options.checkbox&&!_2b&&!_2c){var _2e=this.selectedCell.index||this.selectedCell.getAttribute("index");var _2f=document.getElementById(this.id+"_"+_2e+"_checkbox");if(_2f&&!_2f.disabled){_2f.click();}}else{if(this.options.checkbox){var _2e=this.selectedCell.index||this.selectedCell.getAttribute("index");var _2f=document.getElementById(this.id+"_"+_2e+"_checkbox");if(_2f&&!_2f.disabled&&!_2c){this.fireClick(e);}}else{this.fireClick(e);}}}else{if(it.match(this.options.w2table_col_checkbox)){_2b=true;}else{if(it.match(this.options.w2table_col_label)){_2c=true;}}}}}catch(ex){$W.exception.printStackTrace(ex);}};$W._a.ab.prototype.focus=function(){["WebSquare.uiplugin.itemTable.focus"];try{this.inputBlurInside=true;if(this.options.tableRender!="ul"&&($W._G.isIEAllVersion()||$W._G.isSpartan())){this.render.firstChild.focus();}else{this.render.focus();}}catch(ex){$W.exception.printStackTrace(ex);}};$W._a.ab.prototype.handleKeydownEvent=function(e){["WebSquare.uiplugin.itemTable.handleKeydownEvent"];try{var _31=(e.charCode)?e.charCode:e.keyCode;var _32=this.getSelectedIndex();_32=parseInt(_32);if(_31==38){if(_32>0){this.setSelectedIndex(_32-1);}}else{if(_31==40){if(_32+1<this.getItemCount()){this.setSelectedIndex(_32+1);}}else{if(_31==32){if(this.options.checkbox){var _33=document.getElementById(this.id+"_"+_32+"_checkbox");_33.click();}}else{if(_31==33){var _34=_32-this.rowCount;if(_34<0){_34=0;}this.setSelectedIndex(_34);}else{if(_31==34){var _34=_32+this.rowCount;if(_34>=this.getItemCount()){_34=this.getItemCount()-1;}this.setSelectedIndex(_34);}else{if(_31==35){this.setSelectedIndex(this.getItemCount()-1);}else{if(_31==36){this.setSelectedIndex(0);}else{if(_31==13){if(!this.options.checkbox){this.fireClick(e);}}else{if(_31==9){if(this.options.tableRender=="ul"){if(e.shiftKey){if(_32>0){this.setSelectedIndex(_32-1);}else{this.endReached=true;}}else{if(document.activeElement==this.render){this.setSelectedIndex(0);}else{if(_32+1<this.getItemCount()){this.setSelectedIndex(_32+1);}else{this.endReached=true;}}}}}else{this.findItemStartedWithKeyChar(_31);}}}}}}}}}this.render.setAttribute("aria-activedescendant",this.id+"_"+this.getSelectedIndex());if(this.keyDownFunc){this.keyDownFunc(e);}$W._c.stopEvent(e);}catch(ex){$W.exception.printStackTrace(ex);}};$W._a.ab.prototype.setSelectedIndex=function(idx){["WebSquare.uiplugin.itemTable.setSelectedIndex"];if(!this.dom.tds){return;}idx=(idx<0)?0:(idx>=this.dom.tds.length)?this.dom.tds.length-1:idx;this.removeClass(this.selectedCell,this.options.w2table_col_over);this.selectedCell=this.dom.tds[idx];this.addClass(this.selectedCell,this.options.w2table_col_over);if(this.options.tableRender=="ul"){if(this.selectedCell.childNodes[0]){this.selectedCell.childNodes[0].focus();}}if(this.selectedCell.offsetTop>this.render.offsetHeight/2){var _36=Math.min(this.getItemCount(),this.rowCount);var _37=this.dom.tds[idx-parseInt(_36/2)];this.render.scrollTop=_37.offsetTop;}else{this.render.scrollTop=0;}};$W._a.ab.prototype.getItemCount=function(){["WebSquare.uiplugin.itemTable.getItemCount"];return this.dom.tds?this.dom.tds.length:0;};$W._a.ab.prototype.fireClick=function(e){["WebSquare.uiplugin.itemTable.prototype.fireClick"];try{var _39;if(this.selectedCell){_39=this.selectedCell.index;if(typeof _39=="undefined"){_39=this.selectedCell.getAttribute("index");}}this.clickFunc.call(e,_39);}catch(ex){$W.exception.printStackTrace(ex);}};$W._a.ab.prototype.findItemStartedWithKeyChar=function(_3a){["WebSquare.uiplugin.itemTable.findItemStartedWithKeyChar"];try{var _3b=this.keyCharHash[_3a];var _3c=-1;if(_3b){var _3d=this.selectedCell.index;if(typeof selectedIndex=="undefined"){_3d=this.selectedCell.getAttribute("index");}var _3e=0;while(1){++_3d;++_3e;_3d=_3d%this.dom.tds.length;if(this.dom.tds[_3d].innerHTML.toLowerCase().startsWith(_3b)){_3c=_3d;break;}if(_3e>this.dom.tds.length){break;}}if(_3c>-1){this.setSelectedIndex(_3c);}}}catch(ex){$W.exception.printStackTrace(ex);}};$W._a.ab.prototype.getSelectedIndex=function(){["WebSquare.uiplugin.itemTable.getSelectedIndex"];try{var _3f=-1;try{if(this.selectedCell){_3f=this.selectedCell.index;if(typeof _3f=="undefined"){_3f=this.selectedCell.getAttribute("index");}}}catch(e){}return _3f;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.gridItemTable=function(id,_41,_42){["WebSquare.uiplugin.gridItemTable"];requires("uiplugin.grid");$W._t.call(this,id,_41,_42);};$W.extend($W._a.gridItemTable.prototype,$W._t.prototype);$W._a.gridItemTable.prototype.defaultOptions={pluginType:"uiplugin.gridItemTable",pluginName:"gridItemTable"};$W._a.gridItemTable.prototype.initialize=function(_43){["WebSquare.uiplugin.gridItemTable.prototype.initialize"];try{var _44=[];var _45=[];for(var i=0;i<this.options.itemsetObj.items.length;i++){if(this.options.itemsetObj.items[i].style){var _47=this.options.itemsetObj.items[i].style.split(";");var _48=false;var _49=false;for(var j=0;j<_47.length;j++){var _4b=_47[j].split(":");if(_4b[0].wq_trim()=="width"){_44.push(parseInt(_4b[1],10));_48=true;}else{if(_4b[0].wq_trim()=="text-align"){_45.push(_4b[1]);_49=true;}}if(_48&&_49){break;}}if(!_48){_44.push(70);}if(!_49){_45.push("center");}}else{_44.push(70);_45.push("center");}}var _4c=[];for(var i=0;i<this.options.itemsetObj.items.length;i++){if(this.options.itemsetObj.items[i].headerStyle){var _47=this.options.itemsetObj.items[i].headerStyle.split(";");for(var j=0;j<_47.length;j++){var _4b=_47[j].split(":");if(_4b[0].wq_trim()=="text-align"){_4c.push(_4b[1]);break;}}if(j==_47.length){_4c.push("center");}}}var _4d=[];for(var i=0;i<this.options.itemsetObj.items.length;i++){var _4e=this.options.itemsetObj.items[i].hidden;if(_4e=="true"){_4d.push("true");}else{_4d.push("false");}}for(var i=0;i<this.options.itemsetObj.items.length;i++){if(!this.options.itemsetObj.items[i].id){this.options.itemsetObj.items[i].id=this.id+"_column_body_"+i;}}if(!this.options.gridOptions.visibleRowNum){this.options.gridOptions.visibleRowNum=this.options.visibleRowNum;}var _4f="position : absolute;";this.options.width=parseInt(this.options.gridOptions.width,10);this.options.height=parseInt(this.options.gridOptions.height,10);try{if(isNaN(this.options.height)){this.options.height=20*this.options.gridOptions.visibleRowNum;}if(isNaN(this.options.width)){this.options.width=eval(_44.join("+"))+18;}}catch(e){$W.exception.printStackTrace(e,null,this);}_4f+=" width : "+this.options.width+"px;";_4f+=" height : "+this.options.height+"px;";this.options.style=_4f;var _50=[];_50.push("<w2:grid xmlns=\"http://www.w3.org/1999/xhtml\" xmlns:ev=\"http://www.w3.org/2001/xml-events\" xmlns:w2=\"http://www.inswave.com/websquare\" xmlns:xf=\"http://www.w3.org/2002/xforms\" ");_50.push("id=\""+this.id+"_grid"+"\" style=\""+this.options.style+"\" class=\"w2gridItemTable_main\" readOnly=\"true\" ");_50.push("focusMode=\"row\" enterKeyMove=\"none\" rowMouseOver=\""+this.options.gridOptions.rowMouseOver+"\" visibleRowNum=\""+this.options.gridOptions.visibleRowNum+"\" autoFit=\""+this.options.gridOptions.autoFit+"\" hideHeader=\""+this.options.gridOptions.hideHeader+"\" rowMouseOverColor=\""+this.options.gridOptions.rowMouseOverColor+"\" selectedRowColor=\""+this.options.gridOptions.selectedRowColor+"\">");_50.push("<w2:header style=\"height:20px;\" id=\"header\">");_50.push("<w2:row>");for(var i=0;i<this.options.itemsetObj.items.length;i++){_50.push("<w2:column inputType=\"text\" style=\"height:20px;\" width=\""+_44[i]+"\" textAlign=\""+_4c[i]+"\" id=\""+this.id+"_column_header_"+i+"\" value=\""+(this.options.itemsetObj.items[i].header||"")+"\">");_50.push("</w2:column>");}_50.push("</w2:row>");_50.push("</w2:header>");_50.push("<w2:gBody id=\"gBody\">");_50.push("<w2:row>");for(var i=0;i<this.options.itemsetObj.items.length;i++){_50.push("<w2:column inputType=\"text\" style=\"height:20px;\" width=\""+_44[i]+"\" textAlign=\""+_45[i]+"\" id=\""+this.options.itemsetObj.items[i].id+"\" hidden=\""+_4d[i]+"\">");_50.push("</w2:column>");}_50.push("</w2:row>");_50.push("</w2:gBody>");_50.push("</w2:grid>");var _51=$W._B.parse(_50.join(""),true);this.grid=new $W._a._F(this.id+"_grid",{},_51.firstChild);this.addControl(this.grid);this.inputBlurInside=false;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.gridItemTable.prototype.toHTML=function(){["WebSquare.uiplugin.gridItemTable.toHTML"];var _52=[];var _53=(this.options.style=="")?"":"style='"+this.options.style+"'";_52.push("<div id='"+this.id+"' aria-expanded='true' "+_53+" class='w2gridItemTable "+this.options.className+"'>");_52.push(this.grid.toHTML());_52.push("</div>");return _52.join("");};$W._a.gridItemTable.prototype.setAction=function(){["WebSquare.uiplugin.gridItemTable.prototype.setAction"];this.event.addListener(this.render,"onmousedown",this.event.bindAsEventListener(this,function(e){try{this.inputBlurInside=true;$W._c.stopPropagation(e);}catch(e){}}));this.event.addListener(this.render,"onmousewheel",this.event.bindAsEventListener(this,function(e){try{$W._c.stopPropagation(e);}catch(e){}}));};$W._a.gridItemTable.prototype.setFocusedCell=function(row,col){this.inputBlurInside=true;this.grid.setFocusedCell(row,col);};$W._a.gridItemTable.prototype.setSelectedIndex=function(idx,_59){["WebSquare.uiplugin.gridItemTable.setSelectedIndex"];var _5a=this.grid.getDataLength();if(_5a==0){return;}idx=(idx<0)?0:(idx>=_5a)?_5a-1:idx;var _5b=0;for(var i=0;i<this.grid._dataList.filteredRowIndexArr.length;i++){if(idx==this.grid._dataList.filteredRowIndexArr[i]){idx=i;break;}}var _5d=this.grid.getVisibleRowNum();var _5e=idx-parseInt(_5d/2);this.grid.setTopRowIndex(_5e);if(!_59){this.setFocusedCell(idx,0);}};$W._a.gridItemTable.prototype.hide=function(){try{this.inputBlurInside=false;$W._H.hide(this.render);}catch(e){$W.exception.printStackTrace(e);}};$W._a.gridViewItemTable=function(id,_60,_61){["WebSquare.uiplugin.gridViewItemTable"];requires("uiplugin/gridView/gridView.js");$W._t.call(this,id,_60,_61);};$W.extend($W._a.gridViewItemTable.prototype,$W._t.prototype);$W._a.gridViewItemTable.prototype.defaultOptions={pluginType:"uiplugin.gridViewItemTable",pluginName:"gridViewItemTable"};$W._a.gridViewItemTable.prototype.initialize=function(_62){["WebSquare.uiplugin.gridViewItemTable.prototype.initialize"];try{var _63=[];var _64=[];this.searchFlag=false;var _65=null;if(this.options.gridViewOptions.dataComp){var _66=this.options.gridViewOptions.dataComp.cellIdList;var _67=[];for(var i=0;i<_66.length;i++){var obj={};obj.id=_66[i];_67.push(obj);}var _6a=this.id+"_searchDataList";if(this.searchFlag==false){$W._u.data.create({"id":_6a,"type":"dataList","option":{"baseNode":"vactor","repeatNode":"list","valueAttribute":""},"columnInfo":_67});this.searchFlag=true;}_65=$W._G.getComponentById(_6a);_65.setData(this.options.gridViewOptions.dataComp.getAllData());}for(var i=0;i<this.options.itemsetObj.items.length;i++){if(this.options.itemsetObj.items[i].style){var _6b=this.options.itemsetObj.items[i].style.split(";");var _6c=false;var _6d=false;for(var j=0;j<_6b.length;j++){var _6f=_6b[j].split(":");if(_6f[0].wq_trim()=="width"){_63.push(parseInt(_6f[1],10));_6c=true;}else{if(_6f[0].wq_trim()=="text-align"){_64.push(_6f[1]);_6d=true;}}if(_6c&&_6d){break;}}if(!_6c){_63.push(70);}if(!_6d){_64.push("center");}}else{_63.push(70);_64.push("center");}}var _70=[];for(var i=0;i<this.options.itemsetObj.items.length;i++){if(this.options.itemsetObj.items[i].headerStyle){var _6b=this.options.itemsetObj.items[i].headerStyle.split(";");for(var j=0;j<_6b.length;j++){var _6f=_6b[j].split(":");if(_6f[0].wq_trim()=="text-align"){_70.push(_6f[1]);break;}}if(j==_6b.length){_70.push("center");}}}var _71=[];for(var i=0;i<this.options.itemsetObj.items.length;i++){var _72=this.options.itemsetObj.items[i].hidden;if(_72=="true"){_71.push("true");}else{_71.push("false");}}for(var i=0;i<this.options.itemsetObj.items.length;i++){if(!this.options.itemsetObj.items[i].id){this.options.itemsetObj.items[i].id=this.id+"_column_body_"+i;}}if(!this.options.gridViewOptions.visibleRowNum){this.options.gridViewOptions.visibleRowNum=this.options.visibleRowNum;}var _73="position : absolute;";this.options.width=parseInt(this.options.gridViewOptions.width,10);this.options.height=parseInt(this.options.gridViewOptions.height,10);try{if(isNaN(this.options.height)){this.options.height=20*this.options.gridViewOptions.visibleRowNum;}if(isNaN(this.options.width)){this.options.width=eval(_63.join("+"))+18;}}catch(e){$W.exception.printStackTrace(e,null,this);}_73+=" width : "+this.options.width+"px;";_73+=" height : "+this.options.height+"px;";this.options.style=_73;var _74=[];_74.push("<w2:gridView xmlns=\"http://www.w3.org/1999/xhtml\" xmlns:ev=\"http://www.w3.org/2001/xml-events\" xmlns:w2=\"http://www.inswave.com/websquare\" xmlns:xf=\"http://www.w3.org/2002/xforms\" ");_74.push("id=\""+this.id+"_gridView"+"\" style=\""+this.options.style+"\" class=\"w2gridViewItemTable_main\" readOnly=\"true\" ");_74.push("focusMode=\"row\" enterKeyMove=\"none\" rowMouseOver=\""+this.options.gridViewOptions.rowMouseOver+"\" visibleRowNum=\""+this.options.gridViewOptions.visibleRowNum+"\" autoFit=\""+this.options.gridViewOptions.autoFit+"\" hideHeader=\""+this.options.gridViewOptions.hideHeader+"\" rowMouseOverColor=\""+this.options.gridViewOptions.rowMouseOverColor+"\" selectedRowColor=\""+this.options.gridViewOptions.selectedRowColor+"\">");_74.push("<w2:header style=\"height:20px;\" id=\"header\">");_74.push("<w2:row>");for(var i=0;i<this.options.itemsetObj.items.length;i++){_74.push("<w2:column inputType=\"text\" style=\"height:20px;\" width=\""+_63[i]+"\" textAlign=\""+_70[i]+"\" id=\""+this.id+"_column_header_"+i+"\" value=\""+(this.options.itemsetObj.items[i].header||"")+"\">");_74.push("</w2:column>");}_74.push("</w2:row>");_74.push("</w2:header>");_74.push("<w2:gBody id=\"gBody\">");_74.push("<w2:row>");for(var i=0;i<this.options.itemsetObj.items.length;i++){_74.push("<w2:column inputType=\"text\" style=\"height:20px;\" width=\""+_63[i]+"\" textAlign=\""+_64[i]+"\" id=\""+this.options.itemsetObj.items[i].ref+"\" hidden=\""+_71[i]+"\">");_74.push("</w2:column>");}_74.push("</w2:row>");_74.push("</w2:gBody>");_74.push("</w2:gridView>");var _75=$W._B.parse(_74.join(""),true);this.gridView=new $W._a.av(this.id+"_gridView",{dataList:_65==null?"":_65.id},_75.firstChild);this.addControl(this.gridView);this.inputBlurInside=false;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.gridViewItemTable.prototype.toHTML=function(){["WebSquare.uiplugin.gridViewItemTable.toHTML"];var _76=[];var _77=(this.options.style=="")?"":"style='"+this.options.style+"'";_76.push("<div id='"+this.id+"' aria-expanded='true' "+_77+" class='w2gridItemTable "+this.options.className+"'>");_76.push(this.gridView.toHTML());_76.push("</div>");return _76.join("");};$W._a.gridViewItemTable.prototype.setAction=function(){["WebSquare.uiplugin.gridViewItemTable.prototype.setAction"];this.event.addListener(this.render,"onmousedown",this.event.bindAsEventListener(this,function(e){try{this.inputBlurInside=true;$W._c.stopPropagation(e);}catch(e){}}));this.event.addListener(this.render,"onmousewheel",this.event.bindAsEventListener(this,function(e){try{$W._c.stopPropagation(e);}catch(e){}}));};$W._a.gridViewItemTable.prototype.setFocusedCell=function(row,col){this.inputBlurInside=true;this.gridView.setFocusedCell(row,col);};$W._a.gridViewItemTable.prototype.setSelectedIndex=function(idx,_7d){["WebSquare.uiplugin.gridViewItemTable.setSelectedIndex"];var _7e=this.gridView.getDataLength();if(_7e==0){return;}idx=(idx<0)?0:(idx>=_7e)?_7e-1:idx;var _7f=0;for(var i=0;i<this.gridView._dataList.filteredRowIndexArr.length;i++){if(idx==this.gridView._dataList.filteredRowIndexArr[i]){idx=i;break;}}var _81=this.gridView.getVisibleRowNum();var _82=idx-parseInt(_81/2);this.gridView.setTopRowIndex(_82);if(!_7d){this.setFocusedCell(idx,0);}};$W._a.gridViewItemTable.prototype.hide=function(){try{this.inputBlurInside=false;$W._H.hide(this.render);}catch(e){$W.exception.printStackTrace(e);}};;WebSquare.uiplugin.itemTable=$W._a.ab;requires("uiplugin/control/itemsetControl.js");requires("uiplugin/table/itemTable.js");requires("engine/validator.js");$W._a._r=function(id,_2,_3){["WebSquare.uiplugin.selectbox"];$W._t.call(this,id,_2,_3);};$W.extend($W._a._r.prototype,$W._t.prototype);$W.extend($W._a._r.prototype,$W.itemsetControl.prototype);$W.extend($W._a._r.prototype,$W.IValidate.prototype);$W._a._r.prototype.defaultOptions={pluginType:"uiplugin.selectbox",pluginName:"selectbox",renderType:"component",userEvents:["onchange","onclose","onviewchange"],systemEvents:["onclick","ondblclick","onblur","onfocus"],useOtherComponentId:"",useConfig:true,value:"",chooseOption:false,chooseOptionLabel:"",chooseOptionValue:"",allOption:false,sortOption:"",sortMethod:"",wmode:false,visibleRowNum:5,displayMode:"0",delimiter:"\t",textAlign:"",defaultStyle:"",activeStyle:"",defaultClass:"w2SelectDefault",activeClass:"w2SelectActive",disabledClass:"w2selectbox_disabled",useLocale:false,submenuSize:"auto",direction:"auto",tableRender:"",tooltipDisplay:false,tooltipClass:"",tooltipTime:1,mandatory:false,maxlength:-1,minlength:-1,allowChar:"",ignoreChar:"",characterCase:"",maxByteLength:-1,minByteLength:-1,validator:"",invalidMessage:"",invalidMessageFunc:"",displaymessage:false,labelWidthAuto:false,initValue:"",title:"",setDataRemoveAll:true,escape:false,emptyItem:false,emptyValue:"",optionOrder:"choose",closeonmouseleave:false,selectedData:true,dataListAutoRefresh:false,preventWheelEvent:false};$W._a._r.prototype.initialize=function(_4){["WebSquare.uiplugin.selectbox.initialize"];try{this.itemTable=null;this.gridOptions={};this.gridViewOptions={};this.isOpen=false;this.statusSubLayer=false;this.selectedIndex=-1;this.cursorIndex=-1;this.showRowIndex=0;this.displayCount=0;this.tooltip=null;this.timeShowTooltip=null;this.timeHideTooltip=null;this.defaultAllOptionLabel=$W._m.getMessage("SelectBox_all");if(_4&&_4.getAttribute("chooseOptionLabel")=="$blank"){this.defaultChooseOptionLabel="";}else{this.defaultChooseOptionLabel=$W._m.getMessage("SelectBox_choose");}switch(this.options.displayMode){case "0":case "1":case "2":case "3":break;case "value delim label":this.options.displayMode="1";break;case "label delim value":this.options.displayMode="2";break;case "value":this.options.displayMode="3";break;default:this.options.displayMode="0";}this.options.selectedData=(this.options.selectedData=="false"||this.options.selectedData===false)?false:true;if(_4){var _5=_4.tagName.split(":")[0];var _6=(_5=="xf")?$W._N._XML_NAMESPACE.XFORMS:$W._N._XML_NAMESPACE.W2;var _7=$W._B.findNode(_4,"*['"+"choices"+"'=local-name()]['"+_6+"'=namespace-uri()]");if(_7){var _8=$W._B.findNode(_7,"*['"+"gridItemset"+"'=local-name()]['"+$W._N._XML_NAMESPACE.W2+"'=namespace-uri()]");if(_8==null){_8=$W._B.findNode(_7,"*['"+"gridViewItemset"+"'=local-name()]['"+$W._N._XML_NAMESPACE.W2+"'=namespace-uri()]");}if(_8&&_8.nodeName=="w2:gridItemset"){this.itemTableMode="grid";}else{if(_8&&_8.nodeName=="w2:gridViewItemset"){this.itemTableMode="gridView";}}}}if(this.itemTableMode=="grid"){this.initializeGridItemArr(_4);}else{if(this.itemTableMode=="gridView"){this.initializeGridViewItemArr(_4);}else{this.initializeItemArr(_4);}}var _9=$W._G.isMobile();if(this.options.tableRender==="ul"&&!(this.options.renderType=="auto"&&_9)){this.options.renderType="component";}this.refreshStop=false;this.validator=new $W._p.validateInvoker(this.id,this.options);this.keyCharHash={"48":"0","49":"1","50":"2","51":"3","52":"4","53":"5","54":"6","55":"7","56":"8","57":"9","65":"a","66":"b","67":"c","68":"d","69":"e","70":"f","71":"g","72":"h","73":"i","74":"j","75":"k","76":"l","77":"m","78":"n","79":"o","80":"p","81":"q","82":"r","83":"s","84":"t","85":"u","86":"v","87":"w","88":"x","89":"y","90":"z","96":"0","97":"1","98":"2","99":"3","100":"4","101":"5","102":"6","103":"7","104":"8","105":"9","110":".","111":"/","106":"*","107":"+","109":"-","187":"=","189":"-","192":"`","220 ":"\\"};}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._r.prototype.finalize=function(){["WebSquare.uiplugin.selectbox.finalize"];try{$W._t.prototype.finalize.call(this);if(this.itemTable){this.itemTable.remove();this.itemTable=null;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._r.prototype.toHTML=function(){["WebSquare.uiplugin.selectbox.toHTML"];try{var _a=[];var _b=(this.options.style=="")?"":"style='"+this.options.style+"'";var _c=(this.options.title=="")?"":"title='"+this.options.title+"'";var _d=(this.options.defaultStyle=="")?"":"style='"+this.options.defaultStyle+"'";var _e=(this.options.textAlign=="")?_d:"style='text-align:"+this.options.textAlign+";"+this.options.defaultStyle+"'";if(this.options.tableRender==="ul"){_a.push("<div id='"+this.id+"' "+_b+" class='w2selectbox "+this.options.className+"' "+_c+" role='combobox' aria-labelledby='"+this.id+"_itemTable' aria-autocomplete='none'>");_a.push("<a id='"+this.id+"_main_tbody' class='w2selectbox_ul_table_main' href='#"+this.id+"_itemTable' onclick='event.returnValue=false; return false;'>");_a.push("<div class='w2selectbox_ul_col_label' "+_d+"><span id='"+this.id+"_label' role='document' aria-live='assertive' aria-automatic='true' class='w2selectbox_ul_label' "+_e+"></span></div>");_a.push("<span class='w2selectbox_ul_col_arrow'></span>");_a.push("</a>");_a.push("</div>");}else{_a.push("<div id='"+this.id+"' role='combobox' aria-labelledby='"+this.id+"_itemTable' aria-autocomplete='none' "+_b+" class='w2selectbox "+this.options.className+"' tabIndex='0' "+_c+">");_a.push("<table class='w2selectbox_table_main'  cellpadding='0' cellspacing='0'>");_a.push("<tbody id='"+this.id+"_main_tbody'>");_a.push("<tr class='w2selectbox_row w2selectbox_row_main'>");_a.push("<td class='w2selectbox_col_label' "+_d+"><div id='"+this.id+"_label' role='document' aria-live='assertive' aria-automatic='true' class='w2selectbox_label' "+_e+"></div></td>");_a.push("<td class='w2selectbox_col_button' id='"+this.id+"_button'  aria-labelledby='"+this.id+"_itemTable' aria-controls='"+this.id+"_itemTable'></td>");_a.push("</tr></tbody>");_a.push("</table>");_a.push("</div>");}return _a.join("");}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._r.prototype.setPreAction=function(){["WebSquare.uiplugin.selectbox.setPreAction"];try{this.dom.button=this.getElementById(this.id+"_button");this.dom.label=this.getElementById(this.id+"_label");this.dom.tbody=this.getElementById(this.id+"_main_tbody");if(this.options.useOtherComponentId){$W._N.setTimer(function(){this.otherComponent=$W._G.getComponentById(this.options.useOtherComponentId);$W.getBody().getLayerListener().useOtherComponentId[this.id]=this.options.useOtherComponentId;$W.getBody().getLayerListener().addListener({component:this,fnShow:this._openOtherLayer,fnHide:this._closeOtherLayer,paramHide:{"documentClick":true},event:{}});this.event.addListener(this.otherComponent.render,"onmousedown",this.event.bindAsEventListener(this.otherComponent,function(e){$W._c.stopPropagation(e);}));this.otherComponent.hide();},{key:this.options.useOtherComponentId,caller:this,delay:100});}else{if(this.itemTableMode=="grid"){$W.getBody().getLayerListener().useOtherComponentId[this.id]=this.id+"_gridItemTable";$W.getBody().getLayerListener().addListener({component:this,fnShow:this._openOtherLayer,fnHide:this._closeOtherLayer,paramHide:{"documentClick":true},event:{}});}else{if(this.itemTableMode=="gridView"){$W.getBody().getLayerListener().useOtherComponentId[this.id]=this.id+"_gridViewItemTable";$W.getBody().getLayerListener().addListener({component:this,fnShow:this._openOtherLayer,fnHide:this._closeOtherLayer,paramHide:{"documentClick":true},event:{}});}else{$W.getBody().getLayerListener().addListener({component:this,fnShow:this._openSubLayer,fnHide:this._closeSubLayer,paramHide:{"documentClick":true},event:{}});}}}this.event.addListener(this.render,"onclick",this.event.bindAsEventListener(this,this.handleClickEvent));if($W._G.isMobile()){this.event.addListener(this.render,"ontouchstart",this.event.bindAsEventListener(this,function(e){$W._c.stopPropagation(e);}));}else{this.event.addListener(this.render,"onmousedown",this.event.bindAsEventListener(this,function(e){$W._c.stopPropagation(e);}));}this.event.addListener(this.render,"onkeydown",this.event.bindAsEventListener(this,this.handleKeydownEvent));this.event.addListener(this.render,"onmousewheel",this.event.bindAsEventListener(this,this.handleMousewheelEvent));this.event.addListener(this.render,"onfocus",this.event.bindAsEventListener(this,this.handleFocusEvent));this.event.addListener(this.render,"onblur",this.event.bindAsEventListener(this,this.handleBlurEvent));this.event.addListener(this.render,"onmouseover",this.event.bindAsEventListener(this,this.handleMouseoverEvent));this.event.addListener(this.render,"onmouseout",this.event.bindAsEventListener(this,this.handleMouseoutEvent));if(this.options.closeonmouseleave==true){this.event.addListener(this.render,"onmouseleave",this.event.bindAsEventListener(this,this.handleMouseleaveEvent));}if(this.modelControl.isItemsetBinded()){this.refreshItemArr();this.componentRedraw();}else{if(this.options.labelWidthAuto===true){this.setLabelWidthByItemLength();}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._r.prototype.setAction=function(){["WebSquare.uiplugin.selectbox.setAction"];try{if(this.modelControl.isBinded()){var _12=this.modelControl.getData();this.setValueNM(_12);}if(this.selectedIndex==-1&&this.getItemCount()>0){if(this.modelControl.isBinded()){var _12=this.getValue();if(this.options.emptyRef){var _13=this.getItemCount();for(var i=0;i<_13;i++){if(this.itemArr[i].value==_12){this.setSelectedIndexNM(0);this.modelControl.setData(_12);break;}}}else{this.setSelectedIndexNM(0);this.modelControl.setData(_12);}}else{this.setSelectedIndexNM(0);this.broadcast({"linkedDataList":["refresh",["replace"]]});}}if(this.options.mandatory){this.onPropertyChange("mandatory",$W._G.getBoolean(this.options.mandatory));}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._r.prototype.refreshItemset=function(_15){["WebSquare.uiplugin.selectbox.refreshItemset"];try{if(this.refreshStop){return;}if(this.modelControl.isItemsetBinded()){this.refreshItemArr();this.componentRedraw(false,_15);if(this.itemTableMode=="grid"){this.refreshGridItemArr();if(this.itemTable!=null&&this.itemTable.grid!=null){this.itemTable.grid.clearFilter();this.setGridData();if(this.options.allOption&&this.gridItemArr.length>0){this.itemArr=[{label:this.defaultAllOptionLabel,value:$W.allValue,orgLabel:this.defaultAllOptionLabel}].concat(this.itemArr);}}else{if(this.options.allOption==true){this.itemArr=[{label:this.defaultAllOptionLabel,value:$W.allValue,orgLabel:this.defaultAllOptionLabel}].concat(this.itemArr);}}}else{if(this.itemTableMode=="gridView"){this.refreshGridViewItemArr();if(this.itemTable!=null&&this.itemTable.gridView!=null){var _16=this.modelControl.getDataComp(this.itemTable.gridView.options.dataList);_16.setData(this.gridViewItemArr,false);this.setGridViewData();}else{if(this.options.allOption==true){this.itemArr=[{label:this.defaultAllOptionLabel,value:$W.allValue,orgLabel:this.defaultAllOptionLabel}].concat(this.itemArr);}}}}if(this.modelControl.isBinded()){this.refresh();}else{if(this.options.submenuSize=="auto"){if(this.itemTable){var _17=this.getMaxLabelSize();this.itemTable.setStyle("width",_17+"px");}}if(this.getSelectedIndex()==-1&&(this.getValue()==null||this.getValue()==="")){this.setSelectedIndexNM(0);}}}this.broadcast({"linkedDataList":["refresh",["replace"]]});}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._r.prototype.refresh=function(){["WebSquare.uiplugin.selectbox.refresh"];try{if(this.refreshStop){return;}if(this.modelControl.isBinded()){if(this.modelControl.isDataCollectionItemsetBinded){this.refreshItemArr();}var _18=this.getValue();var _19=this.modelControl.getData();if(this.setValueNM(_19)==true){if(_18!=this.getValue()){$W._c.fireEvent(this,"onchange");}if(this.getValue()!=null&&_19!=this.getValue()){this.modelControl.setData(this.getValue());}this.broadcast({"linkedDataList":["refresh",["replace"]]});}else{if(this.options.emptyItem){this.setSelectedIndex(-1,false);}else{this.setSelectedIndex(0,false);}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._r.prototype.changeChooseOption=function(_1a,_1b){["WebSquare.uiplugin.selectbox.changeChooseOption"];try{var _1c=-2;if(this.options.chooseOption===true){_1c=-1;var _1d=this.getItemCount();for(var i=0;i<_1d;i++){if(this.itemArr[i].value===this.options.chooseOptionValue){_1c=i;break;}}if(_1c>-1){this.itemArr.splice(_1c,1);}}this.options.chooseOption=true;this.options.chooseOptionValue=_1a;this.options.chooseOptionLabel=_1b;this.itemArr=[{label:_1b,value:_1a}].concat(this.itemArr);if(this.itemTable){this.itemTable.setStyle("visibility","hidden");this.itemTable.setStyle("display","block");this.setSelectOptions(this.itemArr);this.itemTable.setStyle("display","none");}else{this.setSelectOptions(this.itemArr);}if(_1c===this.getSelectedIndex()||this.getSelectedIndex()===-1){this.setSelectedIndex(0);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._r.prototype.showChooseOption=function(_1f){["WebSquare.uiplugin.selectbox.setChooseOption"];try{var _20=this.options.useLocale==true?this.getLocaleValue(this.options.chooseOptionLabel):this.options.chooseOptionLabel||this.defaultChooseOptionLabel;_20=$W._B.decode(_20).replace("&nbsp;"," ");var _21=this.options.chooseOptionValue;var _22=-2;if(_1f==true){if(this.options.chooseOption!=_1f){if(this.options.optionOrder=="all"){if(this.options.allOption==true){this.itemArr.splice(1,0,{label:_20,value:_21});}else{this.itemArr=[{label:_20,value:_21}].concat(this.itemArr);}}else{this.itemArr=[{label:_20,value:_21}].concat(this.itemArr);}}}else{if(this.options.chooseOptions!=_1f){for(var i=0;i<this.itemArr.length;i++){if(this.itemArr[i].label==_20){this.itemArr.splice(i,1);break;}}}}if(this.itemTable){this.itemTable.setStyle("visibility","hidden");this.itemTable.setStyle("display","block");this.setSelectOptions(this.itemArr);this.itemTable.setStyle("display","none");}else{this.setSelectOptions(this.itemArr);}if(_22===this.getSelectedIndex()||this.getSelectedIndex()===-1||this.getSelectedIndex()===0){this.setSelectedIndex(0);}this.options.chooseOption=_1f;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._r.prototype.componentRedraw=function(_24,_25){["WebSquare.uiplugin.selectbox.componentRedraw"];try{if(this.refreshStop){return;}this.showRowIndex=0;if(this.options.labelWidthAuto===true){this.setLabelWidthByItemLength();}if(this.itemTableMode!="grid"&&this.itemTableMode!="gridView"){this.setSelectOptions();}if(this.itemArr.length>0){var _26=0;if(_25){if(_25!="replace"&&this.getSelectedIndex()>-1){_26=this.getSelectedIndex();}this.setSelectedIndexNM(_26);return;}var _27=this.itemArr[_26].label+"";if(_27.indexOf("&")>-1){_27=_27.wq_replaceAll("&","&amp;");}if(this.options.escape){_27=$W._B._encode(_27);}this.dom.label.innerHTML=_27;}else{if(this.dom.label){this.dom.label.innerHTML="";}}this.setValueNM("");}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._r.prototype.setLabelWidthByItemLength=function(){["WebSquare.uiplugin.selectbox.setLabelWidthByItemLength"];try{var _28=this.getMaxLabelSize();if(this.render){this.render.style.width=_28+"px";}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._r.prototype.getMaxLabelSize=function(){["WebSquare.uiplugin.selectbox.getMaxLabelSize"];try{if(!this.labelRuler||!document.getElementById("selectbox_ruler")){this.labelRuler=document.createElement("div");this.labelRuler.style.position="absolute";this.labelRuler.style.top="-1000px";this.labelRuler.style.left="-1000px";this.labelRuler.style.visibility="hidden";document.body.appendChild(this.labelRuler);}var _29=0;for(var i=0;i<this.itemArr.length;i++){this.labelRuler.innerHTML=this.itemArr[i].label;if(this.labelRuler.offsetWidth>_29){_29=this.labelRuler.offsetWidth;}}var _2b=document.getElementById(this.id+"_button");var _2c=0;if(_2b){_2c=_2b.offsetWidth;}return _29+_2c+10;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._r.prototype.setSubLayer=function(){["WebSquare.uiplugin.selectbox.setSubLayer"];try{var _2d=this;if(this.itemTable==null){if(this.itemTableMode=="grid"){this.itemTable=new $W._a.gridItemTable(this.id+"_gridItemTable",{itemsetObj:this.itemsetObj,className:this.options.className,gridOptions:this.gridOptions,visibleRowNum:this.options.visibleRowNum});this.itemTable.writeTo($W.getBody(),null,this.parentFrame);this.itemTable.activate();this.itemTable.grid.addEvent("oncellclick",function(row,col){_2d.focus();row=this.getRealRowIndex(row);_2d.setSelectedIndex1(row);});this.event.addListener(this.itemTable.grid.render,"onkeydown",this.event.bindAsEventListener(this.itemTable.grid,function(e){var _31=(e.charCode)?e.charCode:e.keyCode;if(_31==13){_2d.focus();var row=this.getRealRowIndex(this.getFocusedRowIndex());_2d.setSelectedIndex1(row);}}));this.setGridData();}else{if(this.itemTableMode=="gridView"){this.itemTable=new $W._a.gridViewItemTable(this.id+"_gridViewItemTable",{itemsetObj:this.itemsetObj,className:this.options.className,gridViewOptions:this.gridViewOptions,visibleRowNum:this.options.visibleRowNum});this.itemTable.writeTo($W.getBody(),null,this.parentFrame);this.itemTable.activate();this.itemTable.gridView.addEvent("oncellclick",function(row,col){_2d.focus();row=this.getRealRowIndex(row);_2d.setSelectedIndex1(row);});this.event.addListener(this.itemTable.gridView.render,"onkeydown",this.event.bindAsEventListener(this.itemTable.gridView,function(e){var _36=(e.charCode)?e.charCode:e.keyCode;if(_36==13){_2d.focus();var row=this.getRealRowIndex(this.getFocusedRowIndex());_2d.setSelectedIndex1(row);}}));this.setGridViewData();}else{if(this.options.tableRender==="ul"){this.itemTable=new $W._a.ab(this.id+"_itemTable",{row:this.options.visibleRowNum,col:1,submenuSize:this.options.submenuSize,style:"position:absolute;",defaultStyle:"text-align:"+this.options.textAlign+";"+this.options.defaultStyle,className:"w2table "+this.options.className,w2table:"w2table_sb",w2table_main:"w2table_sb_ul_main",w2table_row:"w2table_sb_ul_row",w2table_col:"w2table_sb_ul_col",w2table_col_over:"w2table_sb_ul_col_over",escape:this.options.escape,tableRender:this.options.tableRender});}else{this.itemTable=new $W._a.ab(this.id+"_itemTable",{row:this.options.visibleRowNum,col:1,submenuSize:this.options.submenuSize,style:"position:absolute;",defaultStyle:"text-align:"+this.options.textAlign+";"+this.options.defaultStyle,className:"w2table "+this.options.className,w2table:"w2table_sb",w2table_main:"w2table_sb_main",w2table_row:"w2table_sb_row",w2table_col:"w2table_sb_col",w2table_col_over:"w2table_sb_col_over",escape:this.options.escape});}this.itemTable.writeTo($W.getBody(),null,this.parentFrame);this.itemTable.activate();this.itemTable.addClickEventListener(function(_38){["WebSquare.uiplugin.selectbox.itemTable.addClickEventListener"];_2d.focus();_2d.setSelectedIndex1(_38);});if(this.options.tableRender=="ul"){this.itemTable.addKeyDownEventListener(function(e){["WebSquare.uiplugin.selectbox.itemTable.addKeyDownEventListener"];if(_2d.itemTable.endReached){_2d.itemTable.endReached=false;_2d.closeSubLayer();_2d.focus();}});}if(this.options.closeonmouseleave==true){this.itemTable.addMouseLeaveEventListener(function(e){["WebSquare.uiplugin.selectbox.itemTable.addMouseLeaveEventListener"];var _3b=_2d.render.offsetHeight;var _3c=_2d.render.offsetWidth;var _3d=_2d.getAbsolutePosition("top");var _3e=_2d.getAbsolutePosition("left");if(!(e.clientY>=_3d&&e.clientY<=(_3d+_3b))){_2d.closeSubLayer();}});}this.setSelectOptions();this.setItemTable();}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._r.prototype.setGridData=function(){["WebSquare.uiplugin.selectbox.setGridData"];try{this.itemTable.grid.setData(this.gridItemArr);if(this.options.allOption&&this.gridItemArr.length>0){var _3f=[];var _40=-1;for(var j=0;j<this.itemsetObj.items.length;j++){if(_40==-1&&this.itemsetObj.items[j].ref==this.itemsetObj.label){_40=j;}_3f.push("");}_3f[_40==-1?0:_40]=this.defaultAllOptionLabel;this.itemTable.grid.setRowData(0,_3f,false);}if(this.itemsetObj.sortIndex&&this.gridItemArr.length>0){var _42=[];if(this.options.allOption){var col=this.itemsetObj.sortIndex.split(" ")[0];var _44=this.itemTable.grid.getCellInfo(col).options.dataType;var _45=parseInt(this.itemsetObj.sortOrder.split(" ")[0],10);_42[0]=function(a,b,i,j){if(i==0){return -1;}else{if(j==0){return 1;}else{if(_44=="number"){a=Number(a);b=Number(b);}else{a=a||"";b=b||"";}if(a>b){return 1*_45;}else{if(a<b){return -1*_45;}else{return 0;}}}}};}this.itemTable.grid.multisort({sortIndex:this.itemsetObj.sortIndex,sortOrder:this.itemsetObj.sortOrder,sortFuncArr:_42});}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._r.prototype.setGridViewData=function(){["WebSquare.uiplugin.selectbox.setGridViewData"];try{var _4a=this.modelControl.getDataComp(this.itemTable.gridView.options.dataList);if(this.options.allOption&&!this.options.chooseOption){var _4b=_4a.getAllData();var _4c=$W._m.getMessage("SelectBox_all")||"-\uc804\uccb4-";if(_4b[0]!=_4c){var _4d=[];var _4e=-1;for(var j=0;j<this.itemsetObj.items.length;j++){if(_4e==-1&&this.itemsetObj.items[j].ref==this.itemsetObj.label){_4e=j;}_4d.push("");}_4d[_4e==-1?0:_4e]=this.defaultAllOptionLabel;_4a.setRowData(0,_4d,false);}}else{if(this.options.chooseOption&&!this.options.allOption){var _4b=_4a.getAllData();var _50=$W._m.getMessage("SelectBox_choose")||"-\uc120\ud0dd-";if(_4b[0]!=_50){var _4d=[];var _4e=-1;for(var j=0;j<this.itemsetObj.items.length;j++){if(_4e==-1&&this.itemsetObj.items[j].ref==this.itemsetObj.label){_4e=j;}_4d.push("");}_4d[_4e==-1?0:_4e]=this.options.chooseOptionLabel;_4a.setRowData(0,_4d,false);}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._r.prototype.setSelectOptions=function(){["WebSquare.uiplugin.selectbox.setSelectOptions"];try{if(this.itemTable!=null&&this.itemTableMode!="grid"&&this.itemTableMode!="gridView"){this.itemTable.setItemArr(this.itemArr);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._r.prototype.setItemTable=function(){["WebSquare.uiplugin.selectbox.setItemTable"];try{var _51=this.render.offsetWidth;var _52=this.render.offsetHeight;var _53=document.body.offsetWidth;var _54;var _55=$W._H.getAbsoluteLeft(this.render);var top=$W._H.getAbsoluteTop(this.render);var tds=this.itemTable.render.getElementsByTagName("td");if(this.options.tableRender==="ul"){tds=this.itemTable.render.getElementsByTagName("li");}if(tds&&tds.length>0){_54=0;var _58=Math.min(this.getItemCount(),this.options.visibleRowNum);for(var i=0;i<_58;i++){_54+=tds[i].offsetHeight;}if($W._N.browserCheck.moz&&_54<34&&_58==1){_54=34;}this.itemTable.setStyle("height",_54+"px");}else{this.itemTable.setStyle("height","0px");}if(this.itemTable.getStyle("overflow-x")=="auto"){_54+=20;this.itemTable.setStyle("height",_54+"px");}if(this.options.submenuSize=="fixed"){this.itemTable.setStyle("width",(_51-2)+"px");if(this.itemTable.render.offsetHeight>=this.itemTable.render.scrollHeight){this.itemTable.render.firstChild.style.width=(_51)+"px";}else{this.itemTable.render.firstChild.style.width=(_51-17)+"px";}}else{if(this.options.submenuSize=="auto"){var _5a=this.render.offsetWidth;var _5b=this.itemTable.render.clientWidth;var _5c=this.itemTable.render.firstChild.offsetWidth;if(_53>_5a){if(_53<_5b){_5b=_53-2;}}if(_5b<_5a-2){_5b=_5a-2;}this.itemTable.setStyle("width",_5b+"px");if(this.itemTable.render.clientHeight>=this.itemTable.render.scrollHeight||this.getItemCount()<=this.options.visibleRowNum){this.itemTable.render.firstChild.style.width=_5b+"px";if(_5c>_5b){this.itemTable.render.firstChild.style.width=_5c+"px";this.itemTable.setStyle("width",(_5c)+"px");}}else{this.itemTable.render.firstChild.style.width=(_5b-17)+"px";if(_5c>_53){_5c=_53-17;}if(_5c>_5b-17){this.itemTable.render.firstChild.style.width=_5c+"px";this.itemTable.setStyle("width",(_5c+17)+"px");}}if(this.getItemCount()===0){this.itemTable.setStyle("width","0px");this.itemTable.render.firstChild.style.width="0px";}}else{if(this.itemTable.render.scrollHeight-this.itemTable.render.offsetHeight>1){this.itemTable.setStyle("width",(this.itemTable.render.firstChild.offsetWidth+17)+"px");}}}var _5d=this.options.direction;if(_5d=="auto"){var _5e=document.body.scrollTop;if(_5e<document.documentElement.scrollTop){_5e=document.documentElement.scrollTop;}var _5f=top-_5e;var _60=document.documentElement.clientHeight-(_5f+this.render.offsetHeight);var _61=this.itemTable.render.offsetHeight;if(_60<_61&&_5f>_61){_5d="up";}}if(_5d=="up"){top=top-this.itemTable.render.offsetHeight;}else{top=top+this.render.offsetHeight;}if(document.documentElement.clientWidth<(_55+this.itemTable.render.offsetWidth)){_55=_55+this.render.offsetWidth-this.itemTable.render.offsetWidth;if(_55<0){_55=$W._H.getAbsoluteLeft(this.render);_5b=document.body.offsetWidth-17-_55;this.itemTable.setStyle("width",_5b+"px");if(this.itemTable.getStyle("overflow-x")!="auto"){_54+=20;}this.itemTable.setStyle("height",_54+"px");this.itemTable.setStyle("overflow-x","auto");}else{this.itemTable.setStyle("overflow-x","hidden");}}else{var _5b=this.itemTable.render.firstChild.offsetWidth;var _62=this.itemTable.render.clientWidth;if((_55+_5b)<_53&&this.itemTable.getStyle("overflow-x")=="auto"){var _63=(_5b>_62)?_5b:_62;_54-=20;this.itemTable.setStyle("height",_54+"px");this.itemTable.setStyle("width",_63+"px");this.itemTable.setStyle("overflow-x","hidden");}}this.itemTableDirection=_5d;this.itemTable.setPosition(_55,top);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._r.prototype.setSelectItemArr=function(){["WebSquare.uiplugin.selectbox.setSelectItemArr"];try{if(this.options.sortOption!=""){var _64=[];var _65=null;if(this.options.sortOption=="label"){_65=function(){return this.label;};}else{if(this.options.sortOption=="value"){_65=function(){return this.value;};}}for(var i=0;i<this.itemArr.length;i++){var _67=this.itemArr[i];_67.toString=_65;_64.push(_67);}_64.sort();if(this.options.sortMethod=="descending"){_64.reverse();}this.itemArr=_64;}if(this.options.displayMode!="0"){for(var i=0;i<this.itemArr.length;i++){this.itemArr[i].label=this.getItemText(i);}}if(this.options.optionOrder=="all"){if(this.options.chooseOption==true){var _68=this.options.useLocale==true?this.getLocaleValue(this.options.chooseOptionLabel):this.options.chooseOptionLabel||this.defaultChooseOptionLabel;_68=$W._B.decode(_68).replace("&nbsp;"," ");this.itemArr=[{label:_68,value:this.options.chooseOptionValue}].concat(this.itemArr);}if(this.options.allOption==true){this.itemArr=[{label:this.defaultAllOptionLabel,value:$W.allValue}].concat(this.itemArr);}}else{if(this.options.allOption==true){this.itemArr=[{label:this.defaultAllOptionLabel,value:$W.allValue}].concat(this.itemArr);}if(this.options.chooseOption==true){var _68=this.options.useLocale==true?this.getLocaleValue(this.options.chooseOptionLabel):this.options.chooseOptionLabel||this.defaultChooseOptionLabel;_68=$W._B.decode(_68).replace("&nbsp;"," ");this.itemArr=[{label:_68,value:this.options.chooseOptionValue}].concat(this.itemArr);}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._r.prototype.getItemText=function(idx){["WebSquare.uiplugin.selectbox.getItemText"];try{var _6a="";if(idx>-1&&idx<this.getItemCount()){_6a=this.itemArr[idx].label;switch(this.options.displayMode){case "0":break;case "1":_6a=this.itemArr[idx].value+this.options.delimiter+_6a;break;case "2":_6a=_6a+this.options.delimiter+this.itemArr[idx].value;break;case "3":_6a=this.itemArr[idx].value;break;default:}}return _6a;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._r.prototype.toggle=function(){["WebSquare.uiplugin.selectbox.toggle"];try{if(this.isOpen){this.closeSubLayer();}else{this.openSubLayer();}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._r.prototype.openSubLayer=function(){["WebSquare.uiplugin.selectbox.openSubLayer"];try{$W.getBody().getLayerListener().show(this.id);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._r.prototype._openSubLayer=function(){["WebSquare.uiplugin.selectbox._openSubLayer"];try{this.setSubLayer();if(!this.isOpen){this.itemTable.show();this.itemTable.render.setAttribute("aria-expended","true");this.setItemTable();if(this.options.wmode==true){$W.getBody().showWModeFrame(this.getPluginName(),this.itemTable.render);}this.itemTable.focus();if(this.options.tableRender=="ul"){this.itemTable.removeClass(this.itemTable.selectedCell,this.itemTable.options.w2table_col_over);this.itemTable.selectedCell=null;}else{if(this.selectedIndex!=-1){this.itemTable.setSelectedIndex(this.selectedIndex);}}this.isOpen=true;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._r.prototype._openOtherLayer=function(){["WebSquare.uiplugin.selectbox._openOtherLayer"];try{var _6b=this.otherComponent;if(this.itemTableMode=="grid"||this.itemTableMode=="gridView"){this.setSubLayer();_6b=this.itemTable;}if(!this.isOpen){_6b.show();var _6c=$W._H.getAbsoluteLeft(this.render);var top=$W._H.getAbsoluteTop(this.render);var _6e=this.options.direction;if(_6e=="auto"){var _6f=document.body.scrollTop;if(_6f<document.documentElement.scrollTop){_6f=document.documentElement.scrollTop;}var _70=top-_6f;var _71=document.documentElement.clientHeight-(_70+this.render.offsetHeight);var _72=_6b.render.offsetHeight;if(_71<_72&&_70>_72){_6e="up";}}if(_6e=="up"){top=top-_6b.render.offsetHeight;}else{top=top+this.render.offsetHeight;}if(document.documentElement.clientWidth<(_6c+_6b.render.offsetWidth)){_6c=_6c+this.render.offsetWidth-_6b.render.offsetWidth;}_6b.setPosition(_6c,top);this.isOpen=true;this.itemTableDirection=_6e;}if(this.itemTableMode=="grid"){var _73;if(this.targetFocusedIndex!=null){_73=this.targetFocusedIndex;}else{_73=this.itemTable.grid.getFocusedRowIndex();if(_73==-1){_73=0;}}this.itemTable.grid.setFocusedCell(_73,0);this.targetFocusedIndex=null;}else{if(this.itemTableMode=="gridView"){var _73;if(this.targetFocusedIndex!=null){_73=this.targetFocusedIndex;}else{_73=this.itemTable.gridView.getFocusedRowIndex();if(_73==-1){_73=0;}}this.itemTable.gridView.setFocusedCell(_73,0);this.targetFocusedIndex=null;}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._r.prototype.closeSubLayer=function(_74){["WebSquare.uiplugin.selectbox.closeSubLayer"];try{var _75={"documentClick":_74};if(this.itemTableMode=="grid"){this.itemTable.grid.applyFocusedCellOut(this.itemTable.grid.focusedCell[0]);}else{if(this.itemTableMode=="gridView"){this.itemTable.gridView.applyFocusedCellOut(this.itemTable.gridView.focusedCell[0]);}}$W.getBody().getLayerListener().hide(this.id,_75);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._r.prototype._closeSubLayer=function(_76){["WebSquare.uiplugin.selectbox._closeSubLayer"];try{var _76=_76||{};var _77=_76.documentClick;if(this.isOpen&&this.itemTable!=null){this.itemTable.hide();this.itemTable.render.setAttribute("aria-expended","true");if(this.options.wmode==true){$W.getBody().hideWModeFrame(this.getPluginName(),this.itemTable.id);}this.isOpen=false;if(_77===true){$W._c.fireEvent(this,"onclose",true);}else{$W._c.fireEvent(this,"onclose",false);}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._r.prototype._closeOtherLayer=function(_78){["WebSquare.uiplugin.selectbox._closeOtherLayer"];try{var _78=_78||{};var _79=_78.documentClick;var _7a=this.otherComponent;if(this.itemTableMode=="grid"||this.itemTableMode=="gridView"){_7a=this.itemTable;}if(this.isOpen&&_7a!=null){_7a.hide();this.isOpen=false;if(_79===true){$W._c.fireEvent(this,"onclose",true);}else{$W._c.fireEvent(this,"onclose",false);}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._r.prototype.getItemCount=function(){["WebSquare.uiplugin.selectbox.getItemCount"];try{return this.itemArr.length;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._r.prototype.setSelectedIndex=function(idx,_7c){["WebSquare.uiplugin.selectbox.setSelectedIndex"];try{idx=parseInt(idx,10);if(isNaN(idx)){return;}if(idx<0||idx>=this.getItemCount()){if(this.options.emptyItem){if(this.modelControl.isBinded()){if(this.options.selectedData==true){this.modelControl.setData(this.options.emptyValue);}else{if(_7c!=false){this.modelControl.setData(this.options.emptyValue);}}this.setSelectedIndexNM(-1);}else{var _7d=this.getSelectedIndex();this.setSelectedIndexNM(-1);if(_7d!=-1){$W._c.fireEvent(this,"onchange");}}}return;}if(this.modelControl.isBinded()){var _7e=this.modelControl.dataCollectionRefInfo?this.modelControl.dataCollectionRefInfo.dataComp:null;if(this.options.selectedData==true){this.modelControl.setData(this.itemArr[idx].value);if(_7e!=null&&!_7e.getBroadcast()){this.setSelectedIndexNM(idx);}}else{if(_7c!=false){if(this.itemArr[idx].value!=$W.allValue){this.modelControl.setData(this.itemArr[idx].value);if(this.options.chooseOption==true&&idx==0){this.setSelectedIndexNM(0);}else{if(_7e!=null&&!_7e.getBroadcast()){this.setSelectedIndexNM(idx);}}}else{this.modelControl.setData("");this.setSelectedIndexNM(idx);}}else{this.setSelectedIndexNM(-1);}}}else{var _7d=this.getSelectedIndex();this.setSelectedIndexNM(idx);if(_7d!=this.getSelectedIndex()){$W._c.fireEvent(this,"onchange");}}this.broadcast({"linkedDataList":["refresh",["replace"]]});}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._r.prototype.setSelectedIndexNM=function(idx){["WebSquare.uiplugin.selectbox.setSelectedIndexNM"];try{idx=parseInt(idx,10);if(isNaN(idx)){return false;}if(idx<0||idx>=this.getItemCount()){if(this.options.emptyItem){this.selectedIndex=-1;this.dom.label.innerHTML="";if(this.itemTable){this.itemTable.setSelectedIndex(0);}return true;}else{return false;}}this.selectedIndex=idx;var _80=this.itemArr[idx].label+"";if(_80.indexOf("&")>-1){_80=_80.wq_replaceAll("&","&amp;");}if(this.options.escape){_80=$W._B._encode(_80);}else{_80=_80.wq_replaceAll("&amp;nbsp;","&nbsp;").wq_replaceAll("&amp;nbsp","&nbsp;");}if(this.dom.label){this.dom.label.innerHTML=_80;}if(this.itemTable){this.render.setAttribute("aria-activedescendant",this.itemTable.id+"_"+idx);}return true;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._r.prototype.getSelectedIndex=function(){["WebSquare.uiplugin.selectbox.getSelectedIndex"];try{return this.selectedIndex;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._r.prototype.getSelectedRow=function(){["WebSquare.uiplugin.selectbox.getSelectedRow"];try{if(this.itemTableMode=="gridView"&&this.itemTable){var _81=this.modelControl.getDataComp(this.itemTable.gridView.options.dataList);if(_81){return _81.getRowArray(this.getSelectedIndex());}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._r.prototype.setValue=function(_82){["WebSquare.uiplugin.selectbox.setValue"];try{if($W._G.isNull(_82)){return;}var _83=this.getValue();if(this.modelControl.isBinded()){this.modelControl.setData(_82);}else{var _83=this.getValue();if(this.setValueNM(_82)==true){if(_83!=this.getValue()){$W._c.fireEvent(this,"onchange");}}else{if(this.options.emptyItem){this.setSelectedIndex(-1);}else{this.setSelectedIndex(0);}}}this.broadcast({"linkedDataList":["refresh",["replace"]]});}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._r.prototype.setValueNM=function(_84){["WebSquare.uiplugin.selectbox.setValueNM"];try{if($W._G.isNull(_84)){return;}_84=_84.toString();var _85=this.getItemCount();for(var i=0;i<_85;i++){if(this.itemArr[i].value==_84){this.setSelectedIndexNM(i);return true;}}return false;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._r.prototype.getValue=function(){["WebSquare.uiplugin.selectbox.getValue"];try{if(this.itemArr[this.selectedIndex]){return this.itemArr[this.selectedIndex].value;}else{if(this.options.emptyItem&&this.selectedIndex==-1){return this.options.emptyValue;}else{return null;}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._r.prototype.setText=function(_87,_88){["WebSquare.uiplugin.selectbox.setText"];try{var _89=this.getItemCount();var _8a="";if(_88){for(var i=0;i<_89;i++){if(this.itemArr[i].orgLabel==_87){_8a=this.itemArr[i].value;}}}else{for(var i=0;i<_89;i++){if(this.itemArr[i].label==_87){_8a=this.itemArr[i].value;}}}this.setValue(_8a);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._r.prototype.getText=function(_8c){["WebSquare.uiplugin.selectbox.getText"];try{if(this.itemArr[this.selectedIndex]){return _8c?this.itemArr[this.selectedIndex].orgLabel:this.itemArr[this.selectedIndex].label;}else{if(this.options.emptyItem&&this.selectedIndex==-1){return "";}else{return null;}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._r.prototype.addItemArr=function(_8d,_8e){["WebSquare.uiplugin.selectbox.addItemArr"];try{this.itemArr.push({label:_8d,value:_8e});}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._r.prototype.addItem=function(_8f,_90,idx,_92){["WebSquare.uiplugin.selectbox.addItem"];try{idx=parseInt(idx,10);if(isNaN(idx)){idx=this.getItemCount();}else{if(idx<0||idx>=this.getItemCount()){idx=this.getItemCount();}}if(_92==undefined){_92=this.options.dataListAutoRefresh;}if(this.itemsetObj.nodeset.match("data:")&&_92){var _93=this.itemsetObj.nodeset.replace("data:","");var _94=$W._j["comp"][_93];if(_94&&$W.idCache[_94.uuid]){var _95={};_95[this.itemsetObj.value]=_8f;_95[this.itemsetObj.label]=_90;this.stopRefresh(true);_94.insertJSON(idx,[_95]);this.stopRefresh(false);}}var _96={};_96.value=_8f;_96.label=_90;this.itemArr.splice(idx,0,_96);if(this.options.displayMode!="0"){this.itemArr[idx].label=this.getItemText(idx);}if(this.options.emptyItem&&this.selectedIndex==-1){this.setSelectedIndex(0);}if(this.itemTable){this.itemTable.setStyle("visibility","hidden");this.itemTable.setStyle("display","block");this.setSelectOptions(this.itemArr);this.itemTable.setStyle("display","none");}else{this.setSelectOptions(this.itemArr);}return idx;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._r.prototype.deleteItem=function(idx,_98){["WebSquare.uiplugin.selectbox.deleteItem"];try{idx=parseInt(idx,10);if(isNaN(idx)){return;}if(_98==undefined){_98=this.options.dataListAutoRefresh;}if(this.itemsetObj.nodeset.match("data:"),_98){var _99=this.itemsetObj.nodeset.replace("data:","");var _9a=$W._j["comp"][_99];if(_9a&&$W.idCache[_9a.uuid]){this.stopRefresh(true);_9a.removeRow(idx-1);this.stopRefresh(false);}}var _9b=null;if(idx>=0&&idx<this.getItemCount()){_9b=(this.itemArr.splice(idx,1))[0];}if(this.itemTable){this.itemTable.setStyle("visibility","hidden");this.itemTable.setStyle("display","block");this.setSelectOptions(this.itemArr);this.itemTable.setStyle("display","none");}else{this.setSelectOptions(this.itemArr);}if(this.options.emptyItem){if(this.selectedIndex==-1||idx==this.selectedIndex){this.setSelectedIndex(0);}}if(this.options.emptyItem&&this.options.renderType=="native"){if(this.selectedIndex>idx&&idx>=0){this.setSelectedIndex(this.selectedIndex-1);}else{this.setSelectedIndex(this.selectedIndex);}}else{if(this.selectedIndex>idx&&idx>=0){this.setSelectedIndex(this.selectedIndex-1);}}return _9b;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._r.prototype.removeAll=function(_9c){["WebSquare.uiplugin.selectbox.removeAll"];try{var _9d=this.getValue();this.itemArr=new Array();if(_9c){if(this.options.allOption==true){this.itemArr=[{label:this.defaultAllOptionLabel,value:$W.allValue}].concat(this.itemArr);}if(this.options.chooseOption==true){var _9e=this.options.useLocale==true?this.getLocaleValue(this.options.chooseOptionLabel):this.options.chooseOptionLabel||this.defaultChooseOptionLabel;_9e=$W._B.decode(_9e).replace("&nbsp;"," ");this.itemArr=[{label:_9e,value:this.options.chooseOptionValue}].concat(this.itemArr);}}this.setSelectOptions(this.itemArr);if(this.dom.label){if(this.itemArr.length>0){var _9e=this.itemArr[0].label+"";if(_9e.indexOf("&")>-1){_9e=_9e.wq_replaceAll("&","&amp;");}if(this.options.escape){_9e=$W._B._encode(_9e);}this.dom.label.innerHTML=_9e;}else{this.dom.label.innerHTML="";}}if(this.options.setDataRemoveAll){if(_9c){this.setSelectedIndex(0);}else{this.selectedIndex=-1;if(!this.dom.label){this.dom.select.selectedIndex=-1;}if(this.modelControl.isBinded()){this.modelControl.setData("");}if(_9d!=this.getValue()){$W._c.fireEvent(this,"onchange");}}}if(this.itemTableMode=="grid"){this.gridItemArr=[];if(this.itemTable){this.itemTable.grid.removeAll();}}else{if(this.itemTableMode=="gridView"){this.gridViewItemArr=[];if(this.itemTable){var _9f=this.modelControl.getDataComp(this.itemTable.gridView.options.dataList);_9f.removeAll();}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._r.prototype.onPropertyChange=function(_a0,_a1){["WebSquare.uiplugin.selectbox.onPropertyChange"];try{switch(_a0){case "disabled":if(this.options.renderType=="component"){if(_a1){this.closeSubLayer();this.getElementById(this.id+"_label").style.color="#848684";}else{this.getElementById(this.id+"_label").style.color="";}}else{if(_a1){this.dom.select.setAttribute("disabled","disabled");}else{this.dom.select.removeAttribute("disabled");}}var _a2=this.dom.button;if(_a1==true){this.addClass(this.render,this.options.disabledClass);if(_a2!=null){this.addClass(_a2,"w2selectbox_button_disabled");}}else{this.removeClass(this.render,this.options.disabledClass);if(_a2!=null){this.removeClass(_a2,"w2selectbox_button_disabled");}}break;case "mandatory":if(_a1==true){this.addClass(this.render,"w2selectbox_mandatory");}else{this.removeClass(this.render,"w2selectbox_mandatory");}break;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._r.prototype.setSelectedIndex1=function(idx){["WebSquare.uiplugin.selectbox.setSelectedIndex1"];try{var _a4=this.selectedIndex;var _a5=this.getValue();this.setSelectedIndex(idx);if(_a4!=this.selectedIndex){var _a6={"oldValue":_a5,"newValue":this.getValue(),"oldSelectedIndex":_a4,"newSelectedIndex":this.selectedIndex};$W._c.fireEvent(this,"onviewchange",_a6);}this.closeSubLayer();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._r.prototype.validate=function(){["WebSquare.uiplugin.selectbox.validate"];try{var _a7=this.validator.validate(this.getValue());if(!_a7){this.focus();}return _a7;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._r.prototype.setInitValue=function(_a8){["WebSquare.uiplugin.selectbox.setInitValue"];try{var _a9=this.getValue();if(this.options.initValue===""){if(this.itemArr&&this.itemArr[0]){this.options.initValue=this.itemArr[0].value;}}this.setValueNM(this.options.initValue);this.modelControl.setData(this.options.initValue);if(_a8.fireEvent){if(_a9!=this.getValue()){$W._c.fireEvent(this,"onchange");}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._r.prototype.hide=function(){["WebSquare.selectbox.hide"];try{this.closeSubLayer();$W._n.prototype.hide.call(this);}catch(e){$W.exception.printStackTrace(e);}};$W._a._r.prototype.showTooltip=function(_aa,top,_ac){["WebSquare.uiplugin.selectbox.showTooltip"];try{if(this.timeShowTooltip!=null){clearTimeout(this.timeShowTooltip);this.timeShowTooltip=null;}if(this.timeHideTooltip!=null){clearTimeout(this.timeHideTooltip);this.timeHideTooltip=null;}this.timeShowTooltip=setTimeout(this.event.bindAsEventListener(this,function(){if(!this.tooltip){this.tooltip=new $W._a._p(this.id+"_tooltip",{className:"w2selectbox_tooltip "+this.options.tooltipClass});this.tooltip.writeTo($W.getBody(),null,this.parentFrame);this.tooltip.activate();this.tooltip.removeClass("w2group");}this.tooltip.setStyle("display","block");this.tooltip.setStyle("left",_aa+"px");this.tooltip.setStyle("top",top+"px");if(this.options.escape){_ac=$W._B._encode(_ac);}this.tooltip.render.innerHTML=_ac;}),this.options.tooltipTime*1000);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._r.prototype.hideTooltip=function(){["WebSquare.uiplugin.selectbox.hideTooltip"];try{this.timeHideTooltip=setTimeout(this.event.bindAsEventListener(this,function(){if(this.tooltip){this.tooltip.setStyle("display","none");}}),this.options.tooltipTime*1000);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._r.prototype.handleClickEvent=function(e){["WebSquare.uiplugin.selectbox.handleClickEvent"];try{if(this.options.disabled){return false;}this.focus();if(this.itemArr.length>0){this.toggle();}else{if($W.getBody().getLayerListener().existShow==true){$W.getBody().getLayerListener().hideAll();}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._r.prototype.handleKeydownEvent=function(e){["WebSquare.uiplugin.itemTable.handleKeydownEvent"];try{var _af=(e.charCode)?e.charCode:e.keyCode;var _b0=this.getSelectedIndex();if(_af==13){this.handleClickEvent(e);return;}if(this.isOpen){return;}if(_af==38){if(_b0>0){if(this.itemTableMode=="grid"){var _b1;var _b2;var _b3=this.itemTable.grid.filteredRowIndexArr;for(var i=0;i<_b3.length;i++){if(_b0==_b3[i]){_b1=_b3[i-1];_b2=i-1;break;}}this.setSelectedIndex1(_b1);this.targetFocusedIndex=_b2;}else{if(this.itemTableMode=="gridView"){var _b1;var _b2;var _b5=this.itemTable.gridView.filteredRowIndexArr;for(var i=0;i<_b5.length;i++){if(_b0==_b5[i]){_b1=_b5[i-1];_b2=i-1;break;}}this.setSelectedIndex1(_b1);this.targetFocusedIndex=_b2;}else{this.setSelectedIndex1(_b0-1);}}}}else{if(_af==40){if(this.itemTableMode=="grid"){var _b1;var _b2;var _b3=this.itemTable.grid.filteredRowIndexArr;for(var i=0;i<_b3.length;i++){if(_b0==_b3[i]){_b1=_b3[i+1];_b2=i+1;break;}}if(_b1<this.getItemCount()){this.setSelectedIndex1(_b1);this.targetFocusedIndex=_b2;}}else{if(this.itemTableMode=="gridView"){var _b1;var _b2;var _b5=this.itemTable.gridView.filteredRowIndexArr;for(var i=0;i<_b5.length;i++){if(_b0==_b5[i]){_b1=_b5[i+1];_b2=i+1;break;}}if(_b1<this.getItemCount()){this.setSelectedIndex1(_b1);this.targetFocusedIndex=_b2;}}else{if(_b0+1<this.getItemCount()){this.setSelectedIndex1(_b0+1);}}}}else{if(_af==33){if(this.itemTableMode=="grid"){var _b1;var _b2;var _b3=this.itemTable.grid.filteredRowIndexArr;for(var i=0;i<_b3.length;i++){if(_b0==_b3[i]){var _b6;if(this.itemTable.grid.options.visibleRowNum=="all"){_b1=0;_b2=0;}else{_b1=_b3[i-(this.itemTable.grid.options.visibleRowNum-0)];_b2=i-(this.itemTable.grid.options.visibleRowNum-0);}break;}}if(_b2<0){this.targetFocusedIndex=0;this.setSelectedIndex1(_b3[0]);}else{this.setSelectedIndex1(_b1);this.targetFocusedIndex=this.itemTable.grid.getRealRowIndex(_b1);}}else{if(this.itemTableMode=="gridView"){var _b1;var _b2;var _b5=this.itemTable.gridView.filteredRowIndexArr;for(var i=0;i<_b5.length;i++){if(_b0==_b5[i]){var _b6;if(this.itemTable.gridView.options.visibleRowNum=="all"){_b1=0;_b2=0;}else{_b1=_b5[i-(this.itemTable.gridView.options.visibleRowNum-0)];_b2=i-(this.itemTable.gridView.options.visibleRowNum-0);}break;}}if(_b2<0){this.targetFocusedIndex=0;this.setSelectedIndex1(_b5[0]);}else{this.setSelectedIndex1(_b1);this.targetFocusedIndex=this.itemTable.gridView.getRealRowIndex(_b1);}}else{var _b7=_b0-this.options.visibleRowNum;if(_b7<0){_b7=0;}this.setSelectedIndex1(_b7);}}}else{if(_af==34){if(this.itemTableMode=="grid"){var _b1;var _b2;var _b3=this.itemTable.grid.filteredRowIndexArr;for(var i=0;i<_b3.length;i++){if(_b0==_b3[i]){var _b6;if(this.itemTable.grid.options.visibleRowNum=="all"){_b1=_b3[this.getItemCount()-1];_b2=this.getItemCount();}else{_b1=_b3[i+(this.itemTable.grid.options.visibleRowNum-0)];_b2=i+(this.itemTable.grid.options.visibleRowNum-0);}break;}}if(_b2>=this.getItemCount()){this.setSelectedIndex1(_b3[this.getItemCount()-1]);this.targetFocusedIndex=this.getItemCount()-1;}else{this.setSelectedIndex1(_b1);this.targetFocusedIndex=this.itemTable.grid.getRealRowIndex(_b1);}}else{if(this.itemTableMode=="gridView"){var _b1;var _b2;var _b5=this.itemTable.gridView.filteredRowIndexArr;for(var i=0;i<_b5.length;i++){if(_b0==_b5[i]){var _b6;if(this.itemTable.gridView.options.visibleRowNum=="all"){_b1=_b5[this.getItemCount()-1];_b2=this.getItemCount();}else{_b1=_b5[i+(this.itemTable.gridView.options.visibleRowNum-0)];_b2=i+(this.itemTable.gridView.options.visibleRowNum-0);}break;}}if(_b2>=this.getItemCount()){this.setSelectedIndex1(_b5[this.getItemCount()-1]);this.targetFocusedIndex=this.getItemCount()-1;}else{this.setSelectedIndex1(_b1);this.targetFocusedIndex=this.itemTable.gridView.getRealRowIndex(_b1);}}else{var _b7=_b0+this.options.visibleRowNum;if(_b7>=this.getItemCount()){_b7=this.getItemCount()-1;}this.setSelectedIndex1(_b7);}}}else{if(_af==35){if(this.itemTableMode=="grid"){var _b3=this.itemTable.grid.filteredRowIndexArr;var _b1=_b3[this.getItemCount()-1];this.setSelectedIndex1(_b1);this.targetFocusedIndex=this.getItemCount()-1;}else{if(this.itemTableMode=="gridView"){var _b5=this.itemTable.gridView.filteredRowIndexArr;var _b1=_b5[this.getItemCount()-1];this.setSelectedIndex1(_b1);this.targetFocusedIndex=this.getItemCount()-1;}else{this.setSelectedIndex1(this.getItemCount()-1);}}}else{if(_af==36){if(this.itemTableMode=="grid"){var _b3=this.itemTable.grid.filteredRowIndexArr;var _b1=_b3[0];this.setSelectedIndex1(_b1);this.targetFocusedIndex=0;}else{if(this.itemTableMode=="gridView"){var _b5=this.itemTable.gridView.filteredRowIndexArr;var _b1=_b5[0];this.setSelectedIndex1(_b1);this.targetFocusedIndex=0;}else{this.setSelectedIndex1(0);}}}else{this.findItemStartedWithKeyChar(_af);return;}}}}}}$W._c.stopEvent(e);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._r.prototype.handleMousewheelEvent=function(e){["WebSquare.uiplugin.selectbox.handleMousewheelEvent"];try{if(this.options.preventWheelEvent){return;}$W._c.stopEvent(e);var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match(null,this.id)){}if(it.match("w2selectbox_focus")){if(!this.isOpen){var _ba=this.getSelectedIndex();if(e.wheelDelta>0||e.detail<0){this.setSelectedIndex1(_ba-1);}else{this.setSelectedIndex1(_ba+1);}}}}it=null;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._r.prototype.handleFocusEvent=function(e){["WebSquare.uiplugin.selectbox.handleFocusEvent"];try{$W._c.stopEvent(e);this.addClass(this.dom.tbody,"w2selectbox_focus");}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._r.prototype.handleBlurEvent=function(e){["WebSquare.uiplugin.selectbox.handleBlurEvent"];try{$W._c.stopEvent(e);this.removeClass(this.dom.tbody,"w2selectbox_focus");}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._r.prototype.handleMouseoverEvent=function(e){["WebSquare.uiplugin.selectbox.handleMouseoverEvent"];try{$W._c.stopEvent(e);this.addClass(this.dom.tbody,"w2selectbox_over");if(!this.isOpen){var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match("w2selectbox")){if(this.options.tooltipDisplay==true){var _bf=it.getElement();var _c0=$W._H.getAbsoluteLeft(_bf)+20;var top=$W._H.getAbsoluteTop(_bf)+this.render.offsetHeight+3;var _c2=this.dom.label.innerHTML;this.showTooltip(_c0,top,_c2);}}}it=null;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._r.prototype.handleMouseoutEvent=function(e){["WebSquare.uiplugin.selectbox.handleMouseoutEvent"];try{$W._c.stopEvent(e);if(this.options.tooltipDisplay==true){this.hideTooltip();}this.removeClass(this.dom.tbody,"w2selectbox_over");}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._r.prototype.handleMouseleaveEvent=function(e){["WebSquare.uiplugin.selectbox.handleMouseleaveEvent"];try{var _c5=this.render.offsetHeight-1;var _c6=this.render.offsetWidth-1;var _c7=this.getAbsolutePosition("top");var _c8=this.getAbsolutePosition("left");if(this.isOpen){if(this.itemTableDirection=="up"){if(e.clientX<_c8||e.clientX>(_c8+_c6)||e.clientY>_c7||e.clinetY>(_c7+_c5)){this.closeSubLayer();}}else{if(e.clientX<_c8||e.clientX>(_c8+_c6)||e.clientY<_c7||e.clinetY>(_c7+_c5)){this.closeSubLayer();}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._r.prototype.findItemStartedWithKeyChar=function(_c9){["WebSquare.uiplugin.selectbox.findItemStartedWithKeyChar"];try{var _ca=this.keyCharHash[_c9];var _cb=-1;if(_ca){var _cc=this.selectedIndex;var _cd=0;while(1){++_cc;++_cd;_cc=_cc%this.itemArr.length;var _ce=this.itemArr[_cc].label.toLowerCase();if(_ce.startsWith(_ca)){_cb=_cc;break;}if(_cd>this.itemArr.length){break;}}if(_cb>-1){this.setSelectedIndex(_cb);return true;}}if(_cb==-1){return false;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._r.prototype.setRef=function(ref){["WebSquare.uiplugin.selectbox.prototype.setRef "];try{if(typeof ref=="string"&&ref.length>0){if(!this.modelControl.isBinded()){this.modelControl.useRef=true;}this.options.ref=ref;this.modelControl.setRef(ref);this.refresh();}}catch(e){$W.exception.printStackTrace(e);}};$W._a._r.prototype.stopRefresh=function(_d0){["WebSquare.uiplugin.selectbox.prototype.stopRefresh"];try{this.refreshStop=$W._G.getBoolean(_d0);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._r.prototype.focus=function(){if(this.options.tableRender=="ul"){this.dom.tbody.focus();}else{this.render.focus();}};$W._a._O=function(id,_d2,_d3){["WebSquare.uiplugin.selectbox"];$W._t.call(this,id,_d2,_d3);};$W.extend($W._a._O.prototype,$W._a._r.prototype);$W._a._O.prototype.defaultOptions={pluginType:"uiplugin.selectbox",pluginName:"selectbox",renderType:"native",userEvents:["onchange","onclose","onviewchange"],useConfig:true,value:"",chooseOption:false,chooseOptionLabel:"",chooseOptionValue:"",allOption:false,sortOption:"",sortMethod:"",displayMode:"0",delimiter:"\t",textAlign:"",useLocale:false,disabledClass:"w2selectbox_disabled",mandatory:false,maxlength:-1,minlength:-1,allowChar:"",ignoreChar:"",characterCase:"",maxByteLength:-1,minByteLength:-1,validator:"",invalidMessage:"",invalidMessageFunc:"",displaymessage:false,labelWidthAuto:false,initValue:"",emptyItem:false,emptyValue:""};$W._a._O.prototype.initialize=function(_d4){["WebSquare.uiplugin.selectbox.initialize"];try{this.itemTable=null;this.isOpen=false;this.statusSubLayer=false;this.selectedIndex=-1;this.cursorIndex=-1;this.showRowIndex=0;this.displayCount=0;this.defaultAllOptionLabel=$W._m.getMessage("SelectBox_all");this.defaultChooseOptionLabel=$W._m.getMessage("SelectBox_choose");switch(this.options.displayMode){case "0":case "1":case "2":break;case "value delim label":this.options.displayMode="1";break;case "label delim value":this.options.displayMode="2";break;default:this.options.displayMode="0";}this.options.selectedData=(this.options.selectedData=="false"||this.options.selectedData===false)?false:true;this.initializeItemArr(_d4);this.validator=new $W._p.validateInvoker(this.id,this.options);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._O.prototype.finalize=function(){$W._t.prototype.finalize.call(this);};$W._a._O.prototype.toHTML=function(){["WebSquare.uiplugin.selectbox.toHTML"];try{var _d5=[];var _d6=(!this.options.style)?"":"style='"+this.options.style+"'";var _d7=(!this.options.title)?"":"title='"+this.options.title+"'";if(this.options.renderType=="select"){_d5.push("<select id='"+this.id+"' "+_d6+" class='w2selectbox_select "+this.options.className+"' "+_d7+">");for(var i=0;i<this.itemArr.length;i++){_d5.push("<option>"+this.itemArr[i].label+"</option>");}_d5.push("</select>");}else{_d5.push("<div id='"+this.id+"' "+_d6+" class='w2selectbox_native "+($W._G.isMobile()?"w2selectbox_native_mobile ":"")+(!this.options.labelWidthAuto?"fixedWidth ":"")+this.options.className+"'>");_d5.push("<div class='w2selectbox_native_innerDiv'>");_d5.push("<select class='w2selectbox_native_select' id='"+this.id+"_input_0' "+_d7+">");for(var i=0;i<this.itemArr.length;i++){_d5.push("<option>"+this.itemArr[i].label+"</option>");}_d5.push("</select>");_d5.push("</div>");_d5.push("</div>");}return _d5.join("");}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._O.prototype.setPreAction=function(){["WebSquare.uiplugin.selectbox.setPreAction"];try{this.dom.select=this.options.renderType=="select"?this.render:this.render.firstChild.firstChild;var _d9=$W._G.isIE(6)||$W._G.isIE(7);if(!_d9&&this.options.renderType=="native"){var _da=this.render.clientHeight-this.dom.select.offsetHeight;if(_da>0){this.dom.select.style.marginTop=parseInt(_da/2,10)+"px";}}if(this.options.labelWidthAuto===true){this.render.style.width="";}if(this.modelControl.isItemsetBinded()){this.refreshItemArr();this.componentRedraw();}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._O.prototype.setAction=function(){["WebSquare.uiplugin.selectbox.setAction"];try{if(this.modelControl.isBinded()){var _db=this.modelControl.getData();this.setValueNM(_db);}if(this.selectedIndex==-1&&this.getItemCount()>0){if(this.modelControl.isBinded()){var _db=this.getValue();if(this.options.emptyRef){var _dc=this.getItemCount();for(var i=0;i<_dc;i++){if(this.itemArr[i].value==_db){this.setSelectedIndexNM(0);this.modelControl.setData(_db);break;}}}else{this.setSelectedIndexNM(0);this.modelControl.setData(_db);}}else{this.setSelectedIndexNM(0);this.broadcast({"linkedDataList":["refresh",["replace"]]});}}if(this.options.mandatory){this.onPropertyChange("mandatory",$W._G.getBoolean(this.options.mandatory));}this.event.addListener2(this.dom.select,"onchange",this.event.bindAsEventListener(this,this.handleOnchange));}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._O.prototype.componentRedraw=function(_de){["WebSquare.uiplugin.selectbox.componentRedraw"];try{if(this.refreshStop){return;}this.showRowIndex=0;this.setSelectOptions();if(this.itemArr.length>0){if(_de){var _df=0;if(_de!="replace"&&this.getSelectedIndex()>-1){_df=this.getSelectedIndex();}this.dom.select.selectedIndex=_df;this.selectedIndex=_df;return;}this.dom.select.selectedIndex=0;this.selectedIndex=0;}this.setValueNM("");}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._O.prototype.setSelectOptions=function(){["WebSquare.uiplugin.selectbox.setSelectOptions"];try{for(var i=this.dom.select.options.length;i>=0;i--){this.dom.select.remove(i);}for(var i=0;i<this.itemArr.length;i++){var _e1=document.createElement("option");_e1.text=this.itemArr[i].label;this.dom.select.options[i]=_e1;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._O.prototype.setSelectedIndexNM=function(idx){["WebSquare.uiplugin.selectbox.setSelectedIndexNM"];try{idx=parseInt(idx);if(!this.options.emptyItem&&(isNaN(idx)||idx<0||idx>=this.getItemCount())){return false;}this.selectedIndex=idx;if(this.dom.select){this.dom.select.selectedIndex=idx;}this.broadcast({"linkedDataList":["refresh",["replace"]]});return true;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._O.prototype.handleOnchange=function(e){var idx=this.dom.select.selectedIndex;var _e5=this.getSelectedIndex();var _e6=this.getValue();this.setSelectedIndexNM(idx);if(this.options.emptyItem&&idx==-1){this.modelControl.setData(this.options.emptyValue);}else{this.modelControl.setData(this.itemArr[idx].value);}var _e7=this.getValue();this.selectedIndex=idx;if(_e5!=this.getSelectedIndex()){$W._c.fireEvent(this,"onchange");var _e8={"oldValue":_e6,"newValue":_e7,"oldSelectedIndex":_e5,"newSelectedIndex":this.selectedIndex};$W._c.fireEvent(this,"onviewchange",_e8);}};$W._a._O.prototype.focus=function(){this.dom.select.focus();};$W._a._O.prototype.setDisabled=function(_e9){["WebSquare.uiplugin.selectbox_native.prototype.setDisabled"];try{_e9=$W._G.getBoolean(_e9);this.options.disabled=_e9;this.onPropertyChange("disabled",_e9);}catch(e){$W.exception.printStackTrace(e);}return _e9;};;WebSquare.uiplugin.selectbox=$W._a._r;;WebSquare.uiplugin.selectbox_native=$W._a._O;requires("uiplugin/control/itemsetControl.js");requires("engine/validator.js");$W._a._y=function(id,_2,_3){["WebSquare.uiplugin.multiselect"];$W._t.call(this,id,_2,_3);};$W.extend($W._a._y.prototype,$W._t.prototype);$W.extend($W._a._y.prototype,$W.itemsetControl.prototype);$W.extend($W._a._y.prototype,$W.IValidate.prototype);$W._a._y.prototype.defaultOptions={pluginType:"uiplugin.multiselect",pluginName:"multiselect",userEvents:["onchange","onviewchange"],systemEvents:["onclick","ondblclick","onfocus","onblur"],initValue:"",mandatory:false,maxlength:-1,minlength:-1,allowChar:"",ignoreChar:"",characterCase:"",maxByteLength:-1,minByteLength:-1,validator:"",invalidMessage:"",invalidMessageFunc:"",displaymessage:false,separator:" ",title:"",escape:false,maxItemNum:-1};$W._a._y.prototype.initialize=function(_4){["WebSquare.uiplugin.multiselect.initialize"];try{this.lastSelectedIndex=-1;this.initializeItemArr(_4);this.validator=new $W._p.validateInvoker(this.id,this.options);this.separator=this.options.separator=this.options.separator||" ";}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._y.prototype.toHTML=function(){["WebSquare.uiplugin.multiselect.toHTML"];try{var _5=(this.options.disabled=="")?"":"disabled='true'";var _6=(this.options.disabled=="")?"":"style='color:#848684'";var _7=(this.options.style=="")?"":"style='"+this.options.style+"'";var _8=(this.options.title=="")?"":"title='"+this.options.title+"'";var _9=[];_9.push("<div "+_5+" id='"+this.id+"' "+_7+" class='w2multiselect_div "+this.options.className+"' tabIndex='0' "+_8+" >");if($W._G.isIE(6)||$W._G.isIE(7)||$W._G.isOpera()){_9.push("<div style='overflow:visible;position:relative;height:0px'>");}_9.push("<table id='"+this.id+"_table' class='w2multiselect_table' cellpadding='0' cellspacing='0'>");for(var i=0;i<this.itemArr.length;i++){var _b=(this.options.escape)?$W._B._encode(this.itemArr[i].label):this.itemArr[i].label;_9.push("<tr class='w2multiselect_tr' index='"+i+"' checked='false'>");_9.push("<td class='w2multiselect_td'>"+_b+"</td>");_9.push("</tr>");}_9.push("</table>");if($W._G.isIE(6)||$W._G.isIE(7)||$W._G.isOpera()){_9.push("</div>");}_9.push("</div>");return _9.join("");}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._y.prototype.setPreAction=function(){try{this.dom.table=document.getElementById(this.id+"_table");}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._y.prototype.setAction=function(){["WebSquare.uiplugin.multiselect.setAction"];try{if(this.modelControl.isItemsetBinded()){this.refreshItemArr();this.componentRedraw();}if(this.modelControl.isBinded()){var _c=this.modelControl.getData();this.setValueNM(_c);}if(this.options.mandatory){this.onPropertyChange("mandatory",$W._G.getBoolean(this.options.mandatory));}this.event.addListener(this.render,"onclick",this.event.bindAsEventListener(this,this.handleClickEvent));this.event.addListener(this.render,"onselectstart",function(e){$W._c.stopEvent(e);});}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._y.prototype.refreshItemset=function(){["WebSquare.uiplugin.multiselect.refreshItemset"];try{if(this.modelControl.isItemsetBinded()){var _e=this.getValue();this.refreshItemArr();this.componentRedraw(_e);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._y.prototype.refresh=function(){["WebSquare.uiplugin.multiselect.refresh"];try{if(this.modelControl.isBinded()){var _f=this.getValue();var _10=this.modelControl.getData();this.setValueNM(_10);if(_f!=this.getValue()){$W._c.fireEvent(this,"onchange");}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._y.prototype.componentRedraw=function(_11){["WebSquare.uiplugin.checkbox.componentRedraw"];try{this.redraw();this.dom.table=document.getElementById(this.id+"_table");this.setValueNM(_11);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._y.prototype.getItemCount=function(){["WebSquare.uiplugin.multiselect.getItemCount"];try{return this.itemArr.length;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._y.prototype.setSelectedIndex=function(_12){["WebSquare.uiplugin.multiselect.setSelectedIndex"];try{var _13=_12.split(this.separator);for(var i=0;i<_13.length;i++){var _15=_13[i];_15=parseInt(_15);if(this.setSelectedIndexNM(_15)){this.setInstanceValue();}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._y.prototype.setSelectedIndexNM=function(_16,_17){["WebSquare.uiplugin.multiselect.setSelectedIndexNM"];try{_16=parseInt(_16);if(_16<0||_16>=this.getItemCount()){return false;}var _18=this.getMultiselectList();var _19=_18[_16];_17=(_17==null)?true:_17;_19.setAttribute("checked",_17);if(_17){this.addClass(_19,"w2multiselect_tr_over");}else{this.removeClass(_19,"w2multiselect_tr_over");}return true;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._y.prototype.getText=function(_1a){["WebSquare.uiplugin.multiselect.getText"];try{if(!_1a){_1a=this.separator;}var ret=[];var _1c=this.getMultiselectList();for(var i=0;i<_1c.length;i++){if($W._G.getBoolean(_1c[i].getAttribute("checked"))){ret.push(this.itemArr[i].label);}}return ret.join(_1a).wq_trim();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._y.prototype.getValue=function(_1e){["WebSquare.uiplugin.multiselect.getValue"];try{if(!_1e){_1e=this.separator;}var ret=[];var _20=this.getMultiselectList();for(var i=0;i<_20.length;i++){if($W._G.getBoolean(_20[i].getAttribute("checked"))){ret.push(this.itemArr[i].value);}}return ret.join(_1e).wq_trim();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._y.prototype.getAllValue=function(){["WebSquare.uiplugin.multiselect.getAllValue"];try{var ret=[];var _23=this.getMultiselectList();for(var i=0;i<_23.length;i++){ret.push(this.itemArr[i].value);}return ret.join(this.separator).wq_trim();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._y.prototype.getIdxValue=function(_25){["WebSquare.uiplugin.multiselect.getIdxValue"];try{if(_25<0||_25>=this.getItemCount()){return false;}return this.itemArr[_25].value;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._y.prototype.setValue=function(_26){["WebSquare.uiplugin.multiselect.setValue"];try{if($W._G.isNull(_26)){return;}var _27=this.getValue();this.setValueNM(_26);this.modelControl.setData(_26);if(_27!=this.getValue()){$W._c.fireEvent(this,"onchange");}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._y.prototype.setValueNM=function(_28){["WebSquare.uiplugin.multiselect.setValueNM"];try{if($W._G.isNull(_28)){return;}_28=_28.toString();var _29=this.getValue();var _2a=_28.split(this.separator);var _2b=[];for(var i=0;i<_2a.length;i++){_2b[_2a[i]+""]="";}var _2d=this.getItemCount();for(var i=0;i<_2d;i++){var _28=this.itemArr[i].value;if(_2b[_28]!=null){this.setSelectedIndexNM(i,true);}else{this.setSelectedIndexNM(i,false);}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._y.prototype.setText=function(_2e){["WebSquare.uiplugin.multiselect.setText"];try{var _2f=_2e.split(this.separator);var _30=this.getItemCount();var ret=[];for(var i=0;i<_2f.length;i++){for(var j=0;j<_30;j++){if(this.itemArr[j].label==_2f[i]){ret.push(this.itemArr[j].value);}}}var _34=ret.join(this.separator).wq_trim();this.setValue(_34);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._y.prototype.getSelectedIndex=function(_35){["WebSquare.uiplugin.multiselect.getSelectedIndex"];try{if(!_35){_35=this.separator;}var ret=[];var _37=this.getMultiselectList();for(var i=0;i<_37.length;i++){if($W._G.getBoolean(_37[i].getAttribute("checked"))){ret.push(i);}}return ret.join(_35).wq_trim();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._y.prototype.deleteItem=function(_39){["WebSquare.uiplugin.multiselect.deleteItem"];try{_39=parseInt(_39);var _3a=this.dom.table.childNodes[0];var _3b=null;for(var _3c=_3a.firstChild;_3c!=null;_3c=_3c.nextSibling){if(_3c.getAttribute("index")==_39){_3b=(this.itemArr.splice(_39,1))[0];_3c.parentNode.removeChild(_3c);this.refreshIndex();}}return _3b;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._y.prototype.deleteSelectedItems=function(){["WebSquare.uiplugin.multiselect.deleteSelectedItems"];try{var _3d=this.dom.table.childNodes[0];for(var _3e=_3d.firstChild;_3e!=null;_3e=_3e.nextSibling){if($W._G.getBoolean(_3e.getAttribute("checked"))){var idx=_3e.getAttribute("index");this.itemArr.splice(idx,1);_3e.parentNode.removeChild(_3e);this.refreshIndex();this.deleteSelectedItems();}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._y.prototype.refreshIndex=function(){["WebSquare.uiplugin.multiselect.refreshIndex"];try{var _40=this.dom.table.childNodes[0];var idx=0;for(var _42=_40.firstChild;_42!=null;_42=_42.nextSibling){_42.setAttribute("index",idx+"");++idx;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._y.prototype.setInstanceValue=function(){["WebSquare.uiplugin.multiselect.setInstanceValue"];try{var _43=this.getValue();this.modelControl.setData(_43);this.fireOnchange();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._y.prototype.getMultiselectList=function(){["WebSquare.uiplugin.multiselect.getMultiselectList"];try{return this.getDomList("multiselectArr","tr");}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._y.prototype.onPropertyChange=function(_44,_45){["WebSquare.uiplugin.multiselect.onPropertyChange"];try{switch(_44){case "disabled":this.options.disabled=_45;if(_45){this.addClass(this.render,"w2multiselect_disabled");}else{this.removeClass(this.render,"w2multiselect_disabled");}break;case "readOnly":break;case "mandatory":if(_45==true){this.addClass(this.render,"w2multiselect_mandatory");}else{this.removeClass(this.render,"w2multiselect_mandatory");}break;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._y.prototype.validate=function(){["WebSquare.uiplugin.multiselect.validate"];try{var _46=this.validator.validate(this.getValue());if(!_46){this.focus();}return _46;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._y.prototype.setInitValue=function(_47){["WebSquare.uiplugin.multiselect.setInitValue"];try{var _48=this.getValue();this.setValueNM(this.options.initValue);this.modelControl.setData(this.options.initValue);if(_47.fireEvent){if(_48!=this.getValue()){$W._c.fireEvent(this,"onchange");}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._y.prototype.setRef=function(ref){["WebSquare.uiplugin.multiselect.prototype.setRef "];try{if(!this.modelControl.isBinded()){this.modelControl.useRef=true;}this.options.ref=ref;this.modelControl.setRef(ref);this.refresh();}catch(e){$W.exception.printStackTrace(e);}};$W._a._y.prototype.handleClickEvent=function(e){["WebSquare.uiplugin.multiselect.handleClickEvent"];try{$W._c.stopEvent(e);if(this.options.disabled){return false;}var it=this.event.getTargetIterator(e,this.render);var _4c=this.dom.table.childNodes[0].childNodes;if(!e.ctrlKey&&!e.shiftKey){for(var i=0;i<_4c.length;i++){this.setSelectedIndexNM(i,false);}}var _4e=this.getValue();var _4f=this.getSelectedIndex();while(it.next()){if(it.match(null,this.id)){}if(it.match("w2multiselect_tr")){var _50=it.getElement().getAttribute("index");if(e.shiftKey){var _51=_50;var _52=-1;var _53=-1;var _54=[];var _55="";if(this.lastSelectedIndex<_51){_52=this.lastSelectedIndex;if(this.options.maxItemNum>-1){var _56=(_52>-1)?this.options.maxItemNum-1:this.options.maxItemNum;_53=parseInt(this.lastSelectedIndex,10)+_56;}else{_53=_51;}}else{_53=this.lastSelectedIndex;if(this.options.maxItemNum>-1){var _56=(this.options.maxItemNum-1);_52=parseInt(this.lastSelectedIndex,10)-_56;}else{_52=_51;}}for(var i=_52;i<=_53;i++){_54.push(i);}_55=_54.join(this.separator).wq_trim();this.setSelectedIndex(_55);}else{if(e.ctrlKey&&$W._G.getBoolean(it.getElement().getAttribute("checked"))){this.lastSelectedIndex=_50;this.setSelectedIndexNM(_50,false);this.setInstanceValue();}else{var _57;var _58=this.getValue();_57=(_58=="")?0:_58.split(" ").length;if(_57>=this.options.maxItemNum&&this.options.maxItemNum>-1){break;}this.lastSelectedIndex=_50;this.setSelectedIndex(_50);}}}}it=null;var _59=this.getValue();var _5a=this.getSelectedIndex();if(_4e!=_59){var _5b={"oldValue":_4e,"newValue":_59,"oldSelectedIndex":_4f,"newSelectedIndex":_5a};$W._c.fireEvent(this,"onviewchange",_5b);}this.focus();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._y.prototype.fireOnchange=function(){["WebSquare.uiplugin.multiselect.fireOnchange"];try{$W._c.fireEvent(this,"onchange");}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._y.prototype.setStyle=function(_5c,_5d){["WebSquare.uiplugin.multiselect.prototype.setStyle"];try{if(!this.render){return;}$W._H.setStyle(this.render,_5c,_5d);if(_5c=="font-size"){var _5e=this.dom.table.childNodes[0];for(var _5f=_5e.firstChild;_5f!=null;_5f=_5f.nextSibling){var td=_5f.firstChild;td.style[_5c]=_5d;}}}catch(e){$W.exception.printStackTrace(e);}};;WebSquare.uiplugin.multiselect=$W._a._y;requires("uiplugin/control/itemsetControl.js");requires("uiplugin/table/itemTable.js");requires("engine/validator.js");$W._a.bt=function(id,_2,_3){["WebSquare.uiplugin.checkcombobox"];$W._t.call(this,id,_2,_3);};$W.extend($W._a.bt.prototype,$W._t.prototype);$W.extend($W._a.bt.prototype,$W.itemsetControl.prototype);$W.extend($W._a.bt.prototype,$W.IValidate.prototype);$W._a.bt.prototype.defaultOptions={pluginType:"uiplugin.checkcombobox",pluginName:"checkcombobox",renderType:"component",userEvents:["onchange","onclose","onviewchange"],systemEvents:["onblur","onclick","ondblclick","onfocus"],useConfig:true,separator:" ",value:"",sortOption:"",sortMethod:"",wmode:false,visibleRowNum:5,displayMode:"0",delimiter:"\t",textAlign:"",chooseOption:false,chooseOptionLabel:"",allOption:false,tooltipMode:"none",defaultStyle:"",activeStyle:"",defaultClass:"w2checkcombobox_default",activeClass:"w2checkcombobox_active",useLocale:false,submenuSize:"auto",direction:"auto",checkboxClickSync:false,mandatory:false,maxlength:-1,minlength:-1,allowChar:"",ignoreChar:"",characterCase:"",maxByteLength:-1,minByteLength:-1,validator:"",invalidMessage:"",invalidMessageFunc:"",displaymessage:false,labelWidthAuto:false,initValue:"",title:"",setDataRemoveAll:true,escape:false,closeonmouseleave:false,displayAllOptionLabel:false};$W._a.bt.prototype.initialize=function(_4){["WebSquare.uiplugin.checkcombobox.initialize"];try{this.itemTable=null;this.isOpen=false;this.statusSubLayer=false;this.separator=this.options.separator=this.options.separator||" ";this.selectedInfo={};this.defaultAllOptionLabel=$W._m.getMessage("CheckCombobox_all");if(_4&&_4.getAttribute("chooseOptionLabel")=="$blank"){this.defaultChooseOptionLabel="";}else{this.defaultChooseOptionLabel=$W._m.getMessage("CheckCombobox_choose");}switch(this.options.displayMode){case "0":case "1":case "2":break;case "value delim label":this.options.displayMode="1";break;case "label delim value":this.options.displayMode="2";break;default:this.options.displayMode="0";}this.initializeItemArr(_4);this.itemDisabledArray=new Array();for(var i=0;i<this.itemArr.length;i++){this.itemDisabledArray.push(false);}this.validator=new $W._p.validateInvoker(this.id,this.options);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bt.prototype.finalize=function(){["WebSquare.uiplugin.checkcombobox.finalize"];try{$W._t.prototype.finalize.call(this);if(this.itemTable){this.itemTable.remove();this.itemTable=null;}this.labelRuler=null;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bt.prototype.toHTML=function(){["WebSquare.uiplugin.checkcombobox.toHTML"];try{var _6=[];var _7=(this.options.style=="")?"":"style='"+this.options.style+"'";var _8=(this.options.title=="")?"":"title='"+this.options.title+"'";var _9=(this.options.defaultStyle=="")?"":"style='"+this.options.defaultStyle+"\"";var _a=(this.options.textAlign=="")?"":"style= 'text-align:"+this.options.textAlign+";"+this.options.defaultStyle+"'";_6.push("<div id='"+this.id+"' role='combobox' aria-labelledby='"+this.id+"_itemTable' aria-autocomplete='none' "+_7+" class='w2checkcombobox "+this.options.className+"' tabIndex='0' "+_8+">");_6.push("<table class='w2checkcombobox_table_main' cellpadding='0' cellspacing='0'>");_6.push("<tbody id='"+this.id+"_main_tbody'>");_6.push("<tr class='w2checkcombobox_row w2checkcombobox_row_main'>");_6.push("<td class='w2checkcombobox_col_label' "+_9+"><div id='"+this.id+"_label' role='document' aria-live='assertive' aria-automatic='true' class='w2checkcombobox_label' "+_a+"></div></td>");_6.push("<td class='w2checkcombobox_col_button' id='"+this.id+"_button' aria-labelledby='"+this.id+"_itemTable' aria-controls='"+this.id+"_itemTable'></td>");_6.push("</tr></tbody>");_6.push("</table>");_6.push("</div>");return _6.join("");}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bt.prototype.setPreAction=function(){try{this.dom.button=this.getElementById(this.id+"_button");this.dom.label=this.getElementById(this.id+"_label");this.dom.tbody=this.getElementById(this.id+"_main_tbody");}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bt.prototype.setAction=function(){["WebSquare.uiplugin.checkcombobox.setAction"];try{$W.getBody().getLayerListener().addListener({component:this,fnShow:this._openSubLayer,fnHide:this._closeSubLayer,paramHide:{"documentClick":true},event:{}});this.event.addListener(this.render,"onclick",this.event.bindAsEventListener(this,this.handleClickEvent));if($W._G.isMobile()){this.event.addListener(this.render,"ontouchstart",this.event.bindAsEventListener(this,function(e){$W._c.stopPropagation(e);}));}else{this.event.addListener(this.render,"onmousedown",this.event.bindAsEventListener(this,function(e){$W._c.stopPropagation(e);}));}this.event.addListener(this.render,"onkeydown",this.event.bindAsEventListener(this,this.handleKeydownEvent));this.event.addListener(this.render,"onfocus",this.event.bindAsEventListener(this,this.handleFocusEvent));this.event.addListener(this.render,"onblur",this.event.bindAsEventListener(this,this.handleBlurEvent));this.event.addListener(this.render,"onmouseover",this.event.bindAsEventListener(this,this.handleMouseoverEvent));this.event.addListener(this.render,"onmouseout",this.event.bindAsEventListener(this,this.handleMouseoutEvent));if(this.options.closeonmouseleave==true){this.event.addListener(this.render,"onmouseleave",this.event.bindAsEventListener(this,this.handleMouseleaveEvent));}if(this.modelControl.isItemsetBinded()){this.refreshItemArr();this.componentRedraw();}else{if(this.options.labelWidthAuto===true){this.setLabelWidthByItemLength();}}if(this.modelControl.isBinded()){var _d=this.modelControl.getData();this.setValueNM(_d);}if(this.options.chooseOption==true){var _e=this.options.useLocale==true?this.getLocaleValue(this.options.chooseOptionLabel):this.options.chooseOptionLabel||this.defaultChooseOptionLabel;_e=$W._B.decode(_e).replace("&nbsp;"," ");this.dom.label.innerHTML=_e;}if(this.options.mandatory){this.onPropertyChange("mandatory",$W._G.getBoolean(this.options.mandatory));}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bt.prototype.refreshItemset=function(_f){["WebSquare.uiplugin.checkcombobox.refreshItemset"];try{if(this.modelControl.isItemsetBinded()){var _10=null;if(_f==="keepIndex2"){_10=this.getSelectedInfo();}else{this.refreshItemArr();this.componentRedraw();}if(_10!=null){this.setSelectedInfoNM(_10);}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bt.prototype.refresh=function(){["WebSquare.uiplugin.checkcombobox.refresh"];try{if(this.modelControl.isBinded()){var _11=this.getValue();var _12=this.modelControl.getData();if(this.setValueNM(_12)==true){if(_11!=this.getValue()){$W._c.fireEvent(this,"onchange");}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bt.prototype.componentRedraw=function(){["WebSquare.uiplugin.checkcombobox.componentRedraw"];try{if(this.options.labelWidthAuto===true){this.setLabelWidthByItemLength();}this.setSelectOptions();this.setValueNM("");}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bt.prototype.setLabelWidthByItemLength=function(){["WebSquare.uiplugin.checkcombobox.setLabelWidthByItemLength"];try{if(!this.labelRuler||!document.getElementById("checkcombobox_ruler")){this.labelRuler=document.createElement("div");this.labelRuler.style.position="absolute";this.labelRuler.style.top="-1000px";this.labelRuler.style.left="-1000px";this.labelRuler.style.visibility="hidden";this.labelRuler.id="checkcombobox_ruler";document.body.appendChild(this.labelRuler);}var _13=0;for(var i=0;i<this.itemArr.length;i++){var _15=document.getElementById("checkcombobox_ruler");this.labelRuler.innerHTML=this.itemArr[i].label;if(this.labelRuler.offsetWidth>_13){_13=this.labelRuler.offsetWidth;}}if(this.render){var _16=document.getElementById(this.id+"_button");this.render.style.width=_13+_16.offsetWidth+10+"px";}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bt.prototype.setSubLayer=function(){["WebSquare.uiplugin.checkcombobox.setSubLayer"];try{if(this.itemTable==null){this.itemTable=new $W._a.ab(this.id+"_itemTable",{row:this.options.visibleRowNum,col:1,submenuSize:this.options.submenuSize,style:"position:absolute;",defaultStyle:"text-align:"+this.options.textAlign+";"+this.options.defaultStyle,className:"w2table "+this.options.className,w2table:"w2table_ccb",w2table_main:"w2table_ccb_main",w2table_row:"w2table_ccb_row",w2table_col:"w2table_ccb_col",w2table_col_over:"w2table_ccb_col_over",w2table_col_checkbox:"w2table_ccb_col_checkbox",w2table_col_label:"w2table_ccb_col_label",checkbox:true,escape:this.options.escape});this.itemTable.writeTo($W.getBody(),null,this.parentFrame);this.itemTable.activate();var _17=this;this.itemTable.addClickEventListener(function(_18){["WebSquare.uiplugin.checkcombobox.itemTable.addClickEventListener"];var _19=document.getElementById(_17.id+"_itemTable_"+_18+"_checkbox");if(_19&&_19.value==$W.allValue){var _1a=$W._G.getBoolean(_19.checked);for(var i=1;i<_17.itemArr.length;i++){var _1c=document.getElementById(_17.id+"_itemTable_"+i+"_checkbox");if(_1c&&_1c.checked!=_1a){_1c.checked=_1a;}_17.addSelectedInfo({index:i,checked:_1a});}}else{_17.addSelectedInfo({index:_18,checked:_19.checked});}if(_17.options.allOption){if(_18>0){var _1d=true;if(_19.checked){for(var i=1;i<_17.itemArr.length;i++){var _1e=document.getElementById(_17.id+"_itemTable_"+i+"_checkbox");if(!_1e.checked){_1d=false;break;}}}else{_1d=false;}var _1f=document.getElementById(_17.id+"_itemTable_0_checkbox");_1f.checked=_1d;}}if(_17.options.checkboxClickSync){var _20=_17.getValue();var _21=_17.getInfoArray();var _22=_17.convertInfoHash2Array(_17.selectedInfo);if(_22.length>0){_17.setSelectedInfo(_22);}var _23=_17.getValue();if(_20!=_23){var _24={"oldInfo":_21,"newInfo":_17.getInfoArray(),"oldValue":_20,"newValue":_23};$W._c.fireEvent(_17,"onviewchange",_24);}}$W._c.fireEvent(_17,"oncheckboxclick",_18,_19.checked,_19.value);});this.itemTable.addKeyDownEventListener(function(e){["WebSquare.uiplugin.checkcombobox.itemTable.addKeyDownEventListener"];var _26=(e.charCode)?e.charCode:e.keyCode;if(_26==13){_17.focus();_17.closeSubLayer1();}else{if(_26==27){_17.focus();_17.closeSubLayer1();}}});if(this.options.closeonmouseleave==true){this.itemTable.addMouseLeaveEventListener(function(e){["WebSquare.uiplugin.checkcombobox.itemTable.addMouseLeaveEventListener"];var _28=_17.render.offsetHeight;var _29=_17.render.offsetWidth;var _2a=_17.getAbsolutePosition("top");var _2b=_17.getAbsolutePosition("left");if(!(e.clientY>=_2a&&e.clientY<=(_2a+_28))){_17.closeSubLayer();}});}this.setSelectOptions();this.setItemTable();var _2c=true;for(var i=0;i<this.getItemCount();i++){if(this.itemArr[i].checked){var _2e=document.getElementById(this.id+"_itemTable_"+i+"_checkbox");_2e.checked=true;this.addSelectedInfo({index:i,checked:_2e.checked});}else{if(this.options.allOption==true){if(this.getItemCount()==1){_2c=false;}else{if(this.itemArr[i].value!=$W.allValue){_2c=false;}}}else{_2c=false;}}}if(_2c==true&&this.options.allOption==true){document.getElementById(this.id+"_itemTable_0_checkbox").checked=true;}}for(var i=0;i<this.itemDisabledArray.length;i++){this.setItemDisabled(i,this.itemDisabledArray[i]);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bt.prototype.setSelectOptions=function(){["WebSquare.uiplugin.checkcombobox.setSelectOptions"];try{if(this.itemTable!=null){this.itemTable.setItemArr(this.itemArr);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bt.prototype.setItemTable=function(){["WebSquare.uiplugin.checkcombobox.setItemTable"];try{var _2f=this.render.offsetWidth;var _30=this.render.offsetHeight;var _31=$W._H.getAbsoluteLeft(this.render);var top=$W._H.getAbsoluteTop(this.render);var tds=this.itemTable.render.getElementsByTagName("td");if(tds&&tds.length>0){var _34=0;var _35=Math.min(this.getItemCount(),this.options.visibleRowNum);for(var i=0;i<_35;i++){_34+=tds[i].offsetHeight;}if($W._N.browserCheck.moz&&_34<34&&_35==1){_34=34;}this.itemTable.setStyle("height",_34+"px");}if(this.options.submenuSize=="fixed"){this.itemTable.setStyle("width",(_2f-2)+"px");if(this.itemTable.render.offsetHeight>=this.itemTable.render.scrollHeight){this.itemTable.render.firstChild.style.width=(_2f)+"px";}else{this.itemTable.render.firstChild.style.width=(_2f-17)+"px";}}else{if(this.options.submenuSize=="auto"){var _37=this.render.offsetWidth;var _38=this.itemTable.render.clientWidth;var _39=this.itemTable.maxWidth;if(_37<_39){_38=_39;}else{_38=_37;}if(_38<_37-2){_38=_37-2;}this.itemTable.setStyle("width",_38+"px");if(this.itemTable.render.clientHeight>=this.itemTable.render.scrollHeight||this.getItemCount()<=this.options.visibleRowNum){this.itemTable.render.firstChild.style.width=_38+"px";}else{this.itemTable.render.firstChild.style.width=(_38-17)+"px";var _3a=this.itemTable.render.firstChild.offsetWidth;if(_3a>_38-17){this.itemTable.render.firstChild.style.width=_3a+"px";this.itemTable.setStyle("width",(_3a+17)+"px");}}}else{if(this.itemTable.render.scrollHeight-this.itemTable.render.offsetHeight>1){this.itemTable.setStyle("width",(this.itemTable.render.firstChild.offsetWidth+17)+"px");}}}var _3b=this.options.direction;if(_3b=="auto"){var _3c=document.body.scrollTop;if(_3c<document.documentElement.scrollTop){_3c=document.documentElement.scrollTop;}var _3d=top-_3c;var _3e=document.documentElement.clientHeight-(_3d+this.render.offsetHeight);var _3f=this.itemTable.render.offsetHeight;if(_3e<_3f&&_3d>_3f){_3b="up";}}if(_3b=="up"){top=top-this.itemTable.render.offsetHeight;}else{top=top+this.render.offsetHeight;}if(document.documentElement.clientWidth<(_31+this.itemTable.render.offsetWidth)){_31=_31+this.render.offsetWidth-this.itemTable.render.offsetWidth;}this.itemTableDirection=_3b;this.itemTable.setPosition(_31,top);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bt.prototype.setSelectItemArr=function(){["WebSquare.uiplugin.checkcombobox.setSelectItemArr"];try{if(this.options.sortOption!=""){var _40=[];var _41=null;if(this.options.sortOption=="label"){_41=function(){return this.label;};}else{if(this.options.sortOption=="value"){_41=function(){return this.value;};}}for(var i=0;i<this.itemArr.length;i++){var _43=this.itemArr[i];_43.toString=_41;_40.push(_43);}_40.sort();if(this.options.sortMethod=="descending"){_40.reverse();}this.itemArr=_40;}if(this.options.displayMode!="0"){for(var i=0;i<this.itemArr.length;i++){this.itemArr[i].label=this.getItemText(i);}}if(this.options.allOption==true){this.itemArr=[{label:this.defaultAllOptionLabel,value:$W.allValue}].concat(this.itemArr);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bt.prototype.getItemText=function(idx){["WebSquare.uiplugin.checkcombobox.getItemText"];try{var _45="";if(idx>-1&&idx<this.getItemCount()){_45=this.itemArr[idx].label;switch(this.options.displayMode){case "0":break;case "1":_45=this.itemArr[idx].value+this.options.delimiter+_45;break;case "2":_45=_45+this.options.delimiter+this.itemArr[idx].value;break;default:}}return _45;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bt.prototype.toggle=function(){["WebSquare.uiplugin.checkcombobox.toggle"];try{if(this.isOpen){this.closeSubLayer();}else{this.openSubLayer();}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bt.prototype.openSubLayer=function(){["WebSquare.uiplugin.checkcombobox.openSubLayer"];try{$W.getBody().getLayerListener().show(this.id);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bt.prototype._openSubLayer=function(){["WebSquare.uiplugin.checkcombobox._openSubLayer"];try{this.oldValue=this.getValue();this.setSubLayer();if(!this.isOpen){this.itemTable.show();this.itemTable.render.setAttribute("aria-expended","true");this.setItemTable();if(this.options.wmode==true){$W.getBody().showWModeFrame(this.getPluginName(),this.itemTable.render);}this.itemTable.focus();this.isOpen=true;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bt.prototype.closeSubLayer=function(_46){["WebSquare.uiplugin.checkcombobox.closeSubLayer"];try{var _47={"documentClick":_46};$W.getBody().getLayerListener().hide(this.id,_47);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bt.prototype.closeSubLayer1=function(_48){["WebSquare.uiplugin.checkcombobox.closeSubLayer1"];try{var _49={"documentClick":_48};var _4a=this.getValue();var _4b=this.getInfoArray();$W.getBody().getLayerListener().hide(this.id,_49);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bt.prototype._closeSubLayer=function(_4c){["WebSquare.uiplugin.checkcombobox._closeSubLayer"];try{var _4c=_4c||{};var _4d=_4c.documentClick;var _4e=this.getValue();var _4f=this.getInfoArray();if(this.isOpen&&this.itemTable!=null){this.itemTable.hide();this.itemTable.render.setAttribute("aria-expended","true");if(this.options.wmode==true){$W.getBody().hideWModeFrame(this.getPluginName(),this.itemTable.id);}var _50=this.convertInfoHash2Array(this.selectedInfo);if(_50.length>0){this.setSelectedInfo(_50);}this.isOpen=false;var _51=this.getValue();if(_4e!=_51){var _52={"oldInfo":_4f,"newInfo":this.getInfoArray(),"oldValue":_4e,"newValue":_51};$W._c.fireEvent(this,"onviewchange",_52);}if(_4d===true){$W._c.fireEvent(this,"onclose",true);}else{$W._c.fireEvent(this,"onclose",false);}this.selectedInfo={};}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bt.prototype.getItemCount=function(){["WebSquare.uiplugin.checkcombobox.getItemCount"];try{return this.itemArr.length;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bt.prototype.setSelectedInfo=function(_53){["WebSquare.uiplugin.checkcombobox.setSelectedInfo"];try{if(this.modelControl.isBinded()){this.modelControl.setData(this.getInfoValue(_53));}else{var _54=this.getValue();if(this.setSelectedInfoNM(_53)){if(_54!=this.getValue()){$W._c.fireEvent(this,"onchange");}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bt.prototype.getInfoValue=function(_55){["WebSquare.uiplugin.checkcombobox.getInfoValue"];try{for(var i=0;i<this.itemArr.length;i++){var _57=this.itemArr[i].checked;if(_57){var _58=null;for(var j=0;j<_55.length;j++){if(i==parseInt(_55[j].index,10)){_58=_55[j];break;}}if(!_58){_55.push({index:i,checked:_57});}}}var ret=[];var _5b=this.convertInfoArray2Hash(_55);for(var i=0;i<this.itemArr.length;i++){var _58=_5b[i];if(_58&&_58.checked){ret.push(this.itemArr[i].value);}}return ret.join(this.separator);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bt.prototype.convertInfoArray2Hash=function(_5c){["WebSquare.uiplugin.checkcombobox.convertInfoArray2Hash"];try{var ret={};for(var i=0;i<_5c.length;i++){ret[_5c[i].index]=_5c[i];}return ret;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bt.prototype.convertInfoHash2Array=function(_5f){["WebSquare.uiplugin.checkcombobox.convertInfoHash2Array"];try{var ret=[];for(var key in _5f){if(_5f.hasOwnProperty(key)){ret.push(_5f[key]);}}return ret;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bt.prototype.addSelectedInfo=function(_62){["WebSquare.uiplugin.checkcombobox.addSelectedInfo"];try{if(!_62||typeof _62.index=="undefined"){return false;}this.selectedInfo[_62.index]=_62;return true;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bt.prototype.setSelectedInfoNM=function(_63){["WebSquare.uiplugin.checkcombobox.setSelectedInfoNM"];try{if(!$W._G.isArray(_63)){return false;}for(var i=0;i<_63.length;i++){var _65=_63[i].index;var _66=$W._G.getBoolean(_63[i].checked);_65=parseInt(_65);var _67=document.getElementById(this.id+"_itemTable_"+_65+"_checkbox");if(_67){_67.checked=_66;}this.itemArr[_65].checked=_66;}var _68="";if(this.options.allOption==true){var _69=_63.length==0?false:true;for(var j=0;j<_63.length;j++){var _66=$W._G.getBoolean(_63[j].checked);if(this.itemArr[j].checked==false){_69=false;break;}}if(this.options.displayAllOptionLabel==true){if(document.getElementById(this.id+"_itemTable_0_checkbox")){var _6b=document.getElementById(this.id+"_itemTable_0_checkbox");if(_6b){if(_6b.checked==true){var _6c=$W._m.getMessage("CheckCombobox_allOption_label")||"\uc804\uccb4\uc120\ud0dd";_68=_6c;}else{_68=this.getText();}}}else{if(_69==true){_68=$W._m.getMessage("CheckCombobox_allOption_label")||"\uc804\uccb4\uc120\ud0dd";}else{_68=this.getText();}}}else{_68=this.getText();}}else{_68=this.getText();}if(this.options.escape){_68=$W._B._encode(_68);}if(this.dom.label){this.dom.label.innerHTML=_68;}if(_68==""&&this.options.chooseOption==true){_68=this.options.useLocale==true?this.getLocaleValue(this.options.chooseOptionLabel):this.options.chooseOptionLabel||this.defaultChooseOptionLabel;_68=$W._B.decode(_68).replace("&nbsp;"," ");if(this.dom.label){this.dom.label.innerHTML=_68;}}if(this.options.tooltipMode=="title"){document.getElementById(this.id).title=_68;}return true;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bt.prototype.getSelectedInfo=function(){["WebSquare.uiplugin.checkcombobox.getSelectedInfo"];try{var _6d=this.getItemCount();var ret=[];for(var i=0;i<_6d;i++){if(this.itemArr[i].checked){ret.push({index:i,label:this.itemArr[i].label,value:this.itemArr[i].value,checked:true});}}return ret;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bt.prototype.getInfo=function(_70){["WebSquare.uiplugin.checkcombobox.getInfo"];try{var _71;if(this.itemArr.length>_70){_71={};_71.index=_70;_71.label=this.itemArr[_70].label;_71.value=this.itemArr[_70].value;_71.checked=$W._G.getBoolean(this.itemArr[_70].checked);}return _71;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bt.prototype.getInfoArray=function(){["WebSquare.uiplugin.checkcombobox.getInfoArray"];try{var _72=[];for(var i=0;i<this.itemArr.length;i++){var _74={};_74.index=i;_74.label=this.itemArr[i].label;_74.value=this.itemArr[i].value;_74.checked=$W._G.getBoolean(this.itemArr[i].checked);_72.push(_74);}return _72;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bt.prototype.setValue=function(_75){["WebSquare.uiplugin.checkcombobox.setValue"];try{if($W._G.isNull(_75)){return;}var _76=this.getValue();if(this.modelControl.isBinded()){this.modelControl.setData(_75);}else{if(this.setValueNM(_75)==true){if(_76!=this.getValue()){$W._c.fireEvent(this,"onchange");}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bt.prototype.setValueNM=function(_77){["WebSquare.uiplugin.checkcombobox.setValueNM"];try{if(!$W._G.isArray(_77)){if($W._G.isNull(_77)){return;}var _78=_77.toString();_77=_78.split(this.separator);}var _79=[];var _7a=this.getItemCount();for(var i=0;i<_7a;i++){if(this.itemArr[i].value==$W.allValue){continue;}var _7c={};_7c.index=i;_7c.checked=false;for(var j=0;j<_77.length;j++){if(_77[j]==this.itemArr[i].value){_7c.checked=true;break;}}_79.push(_7c);}return this.setSelectedInfoNM(_79);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bt.prototype.getValue=function(_7e){["WebSquare.uiplugin.checkcombobox.getValue"];try{if(!_7e){_7e=this.separator;}var _7f=this.getItemCount();var ret=[];for(var i=0;i<_7f;i++){if(this.itemArr[i].checked){ret.push(this.itemArr[i].value);}}return ret.join(_7e).wq_trim();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bt.prototype.getValueArray=function(){["WebSquare.uiplugin.checkcombobox.getValueArray"];try{var _82=this.getItemCount();var ret=[];for(var i=0;i<_82;i++){if(this.itemArr[i].checked){ret.push(this.itemArr[i].value);}}return ret;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bt.prototype.setText=function(_85){["WebSquare.uiplugin.checkcombobox.setText"];try{var _86=this.getItemCount();var _87=[];var _88=_85.split(this.separator);for(var i=0;i<_86;i++){for(var j=0;j<_88.length;j++){if(this.itemArr[i].label==_88[j]){_87.push(this.itemArr[i].value);break;}}}this.setValue(_87.join(this.separator));}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bt.prototype.getText=function(_8b){["WebSquare.uiplugin.checkcombobox.getText"];try{if(!_8b){_8b=this.separator;}var _8c=this.getItemCount();var ret=[];for(var i=0;i<_8c;i++){if(this.itemArr[i].checked){ret.push(this.itemArr[i].label);}}return ret.join(_8b).wq_trim();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bt.prototype.getTextArray=function(){["WebSquare.uiplugin.checkcombobox.getTextArray"];try{var _8f=this.getItemCount();var ret=[];for(var i=0;i<_8f;i++){if(this.itemArr[i].checked){ret.push(this.itemArr[i].label);}}return ret;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bt.prototype.addItemArr=function(_92,_93){["WebSquare.uiplugin.checkcombobox.addItemArr"];try{this.itemArr.push({label:_92,value:_93});this.itemDisabledArray.push(false);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bt.prototype.addItem=function(_94,_95,idx){["WebSquare.uiplugin.checkcombobox.addItem"];try{idx=parseInt(idx,10);if(isNaN(idx)){idx=this.getItemCount();}else{if(idx<0||idx>=this.getItemCount()){idx=this.getItemCount();}}var _97={value:_94,label:_95};this.itemArr.splice(idx,0,_97);if(this.options.displayMode!="0"){this.itemArr[idx].label=this.getItemText(idx);}this.itemDisabledArray.splice(idx,0,false);if(this.itemTable){this.itemTable.setStyle("visibility","hidden");this.itemTable.setStyle("display","block");this.setSelectOptions(this.itemArr);this.itemTable.setStyle("display","none");}else{this.setSelectOptions(this.itemArr);}this.setValueNM(this.getValue());return idx;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bt.prototype.deleteItem=function(idx){["WebSquare.uiplugin.checkcombobox.deleteItem"];try{idx=parseInt(idx,10);if(isNaN(idx)){return;}var _99=null;if(idx>=0&&idx<this.getItemCount()){_99=(this.itemArr.splice(idx,1))[0];this.itemDisabledArray.splice(idx,1);}if(this.itemTable){this.itemTable.setStyle("visibility","hidden");this.itemTable.setStyle("display","block");this.setSelectOptions(this.itemArr);this.itemTable.setStyle("display","none");}else{this.setSelectOptions(this.itemArr);}this.setValueNM(this.getValue());return _99;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bt.prototype.removeAll=function(_9a){["WebSquare.uiplugin.checkcombobox.removeAll"];try{var _9b=this.getValue();this.itemArr=new Array();if(_9a){if(this.options.allOption==true){this.itemArr=[{label:this.defaultAllOptionLabel,value:$W.allValue}].concat(this.itemArr);}}this.setSelectOptions(this.itemArr);this.itemDisabledArray=new Array();for(var i=0;i<this.itemArr.length;i++){this.itemDisabledArray.push(false);}if(this.options.setDataRemoveAll){if(this.modelControl.isBinded()){this.modelControl.setData("");}else{if(_9b!=this.getValue()){$W._c.fireEvent(this,"onchange");}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bt.prototype.onPropertyChange=function(_9d,_9e){["WebSquare.uiplugin.checkcombobox.onPropertyChange"];try{switch(_9d){case "disabled":if(this.options.renderType=="component"){if(_9e){this.closeSubLayer();this.getElementById(this.id+"_label").style.color="#848684";}else{this.getElementById(this.id+"_label").style.color="";}}else{if(_9e){this.dom.select.setAttribute("disabled","disabled");}else{this.dom.select.removeAttribute("disabled");}}var _9f=this.dom.button;if(_9e==true){this.addClass(this.render,"w2checkcombobox_disabled");if(_9f!=null){this.addClass(_9f,"w2checkcombobox_button_disabled");}}else{this.removeClass(this.render,"w2checkcombobox_disabled");if(_9f!=null){this.removeClass(_9f,"w2checkcombobox_button_disabled");}}break;case "mandatory":if(_9e==true){this.addClass(this.render,"w2checkcombobox_mandatory");}else{this.removeClass(this.render,"w2checkcombobox_mandatory");}break;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bt.prototype.validate=function(){["WebSquare.uiplugin.checkcombobox.validate"];try{var _a0=this.validator.validate(this.getValue());if(!_a0){this.focus();}return _a0;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bt.prototype.hide=function(){["WebSquare.checkcombobox.hide"];try{this.closeSubLayer();$W._n.prototype.hide.call(this);}catch(e){$W.exception.printStackTrace(e);}};$W._a.bt.prototype.checkAll=function(_a1){["WebSquare.uiplugin.checkcombobox.checkAll"];try{if(typeof _a1=="undefined"){_a1=true;}var _a2=[];for(var i=0;i<this.itemArr.length;i++){if(this.itemArr[i].value==$W.allValue){continue;}_a2.push({index:i,checked:_a1});}if(this.itemTable!=null&&this.options.allOption==true&&_a2.length!=0){if(document.getElementById(this.id+"_itemTable_0_checkbox")){if(_a1){document.getElementById(this.id+"_itemTable_0_checkbox").checked=true;}else{document.getElementById(this.id+"_itemTable_0_checkbox").checked=false;}}}return this.setSelectedInfo(_a2);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bt.prototype.setRef=function(ref){["WebSquare.uiplugin.checkcombobox.prototype.setRef "];try{if(!this.modelControl.isBinded()){this.modelControl.useRef=true;}this.options.ref=ref;this.modelControl.setRef(ref);this.refresh();}catch(e){$W.exception.printStackTrace(e);}};$W._a.bt.prototype.setInitValue=function(_a5){["WebSquare.uiplugin.checkcombobox.setInitValue"];try{var _a6=this.getValue();if(this.options.initValue===""){if(this.itemArr&&this.itemArr[0]){this.options.initValue=this.itemArr[0].value;}}this.setValueNM(this.options.initValue);this.modelControl.setData(this.options.initValue);if(_a5.fireEvent){if(_a6!=this.getValue()){$W._c.fireEvent(this,"onchange");}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bt.prototype.setItemDisabled=function(idx,_a8){["WebSquare.uiplugin.checkcombobox.setItemDisabled"];try{idx=parseInt(idx);if(idx<0||idx>=this.getItemCount()){return;}_a8=$W._G.getBoolean(_a8);this.itemDisabledArray[idx]=_a8;if(this.itemTable){var _a9=this.itemTable.getDomList("checkboxArr","input");var _aa=this.itemTable.getDomList("checkboxItemArr","td");_a9[idx].disabled=_a8;_a9[idx].itemDisabled=_a8;if(_a8==true){this.addClass(_aa[idx],"w2checkcombobox_item_disabled");}else{this.removeClass(_aa[idx],"w2checkcombobox_item_disabled");}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bt.prototype.getItemDisabled=function(idx){["WebSquare.uiplugin.checkcombobox.getItemDisabled"];try{idx=parseInt(idx);if(idx<0||idx>=this.getItemCount()){return;}return this.itemDisabledArray[idx];}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bt.prototype.handleClickEvent=function(e){["WebSquare.uiplugin.checkcombobox.handleClickEvent"];try{if(this.options.disabled){return false;}this.focus();if(this.itemArr.length>0){this.toggle();}else{if($W.getBody().getLayerListener().existShow==true){$W.getBody().getLayerListener().hideAll();}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bt.prototype.handleKeydownEvent=function(e){["WebSquare.uiplugin.checkcombobox.handleKeydownEvent"];try{var _ae=(e.charCode)?e.charCode:e.keyCode;if(_ae==13||_ae==40){this.handleClickEvent(e);return;}if(this.isOpen){return;}$W._c.stopPropagation(e);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bt.prototype.handleFocusEvent=function(e){["WebSquare.uiplugin.checkcombobox.handleFocusEvent"];try{$W._c.stopEvent(e);this.addClass(this.dom.tbody,"w2checkcombobox_focus");}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bt.prototype.handleBlurEvent=function(e){["WebSquare.uiplugin.checkcombobox.handleBlurEvent"];try{$W._c.stopEvent(e);this.removeClass(this.dom.tbody,"w2checkcombobox_focus");}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bt.prototype.handleMouseoverEvent=function(e){["WebSquare.uiplugin.checkcombobox.handleMouseoverEvent"];try{$W._c.stopEvent(e);this.addClass(this.dom.tbody,"w2checkcombobox_over");}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bt.prototype.handleMouseoutEvent=function(e){["WebSquare.uiplugin.checkcombobox.handleMouseoutEvent"];try{$W._c.stopEvent(e);this.removeClass(this.dom.tbody,"w2checkcombobox_over");}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bt.prototype.handleMouseleaveEvent=function(e){["WebSquare.uiplugin.checkcombobox.handleMouseleaveEvent"];try{var _b4=this.render.offsetHeight-1;var _b5=this.render.offsetWidth-1;var _b6=this.getAbsolutePosition("top");var _b7=this.getAbsolutePosition("left");if(this.isOpen){if(this.itemTableDirection=="up"){if(e.clientX<_b7||e.clientX>(_b7+_b5)||e.clientY>_b6||e.clinetY>(_b6+_b4)){this.closeSubLayer();}}else{if(e.clientX<_b7||e.clientX>(_b7+_b5)||e.clientY<_b6||e.clinetY>(_b6+_b4)){this.closeSubLayer();}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};;WebSquare.uiplugin.checkcombobox=$W._a.bt;requires("uiplugin/control/itemsetControl.js");requires("uiplugin/table/itemTable.js");requires("engine/validator.js");requires("uiplugin/helper/korHelper.js");$W._a.ao=function(id,_2,_3){["WebSquare.uiplugin.autoComplete"];$W._t.call(this,id,_2,_3);};$W.extend($W._a.ao.prototype,$W._t.prototype);$W.extend($W._a.ao.prototype,$W.itemsetControl.prototype);$W.extend($W._a.ao.prototype,$W.IValidate.prototype);$W._a.ao.prototype.defaultOptions={pluginType:"uiplugin.autoComplete",pluginName:"autoComplete",userEvents:["onchange","oneditend","onviewchange"],useConfig:true,useOtherComponentId:"",value:"",chooseOption:false,chooseOptionLabel:"",chooseOptionValue:"",allOption:false,sortOption:"",sortMethod:"",wmode:false,visibleRowNum:5,displayMode:"0",delimiter:"\t",defaultStyle:"",activeStyle:"",textAlign:"",defaultClass:"w2inputSelectDefault",activeClass:"w2inputSelectActive",useLocale:false,submenuSize:"fixed",direction:"auto",dynamicDraw:true,tooltipDisplay:false,tooltipClass:"",tooltipTime:1,editable:true,search:"start",editmode:false,dataurl:"",interactionMode:false,interactionKey:"default",submission:"",submissionFunc:"",keyInputRef:"",mandatory:false,maxlength:-1,minlength:-1,allowChar:"",ignoreChar:"",characterCase:"",maxByteLength:-1,minByteLength:-1,validator:"",invalidMessage:"",invalidMessageFunc:"",displaymessage:false,interactionMinByteLength:0,title:"",noResult:"previous",noResultFirstItem:false,ignoreBlankOnNoResult:false,escape:false,displayFormatter:"",useMousewheel:true,editModeEvent:"onclick",allowEmptySubmission:"false",searchTarget:"label",caseSensitive:true,editType:"select",useKeywordHighlight:false,returnValueType:"null",closeonmouseleave:false,handleOtherClick:true,selectedData:true};$W._a.ao.prototype.initialize=function(_4){["WebSquare.uiplugin.autoComplete.initialize"];try{this.itemTable=null;this.gridOptions={};this.gridViewOptions={};this.searchFlag=false;this.isOpen=false;this.statusSubLayer=false;this.noResult=(this.options.noResult==="previous"||this.options.noResult==="clear"||this.options.noResult==="noEnd"||this.options.noResult==="useData"||this.options.noResult==="first")?this.options.noResult:"previous";this.editable=this.options.editable;this.search=this.options.search;this.orgSearchArr=[];this.selectedItem={text:"",value:"",orgLabel:""};this.selectedGridRowObj={};this.selectedGridViewRowObj={};this.myhelper=new $W.korHelper();this.viewArr=[];this.itemArr=[];this.mytime=null;this.hideTime=null;this.tooltip=null;this.timeShowTooltip=null;this.timeHideTooltip=null;this.editmode=this.options.editmode;this.findkeymode=false;this.mozTrickBuffer="";this.trickBuffer="";this.findStop=false;this.skipMatch=false;this.defaultAllOptionLabel=$W._m.getMessage("AutoComplete_all");this.defaultChooseOptionLabel=$W._m.getMessage("AutoComplete_choose");switch(this.options.displayMode){case "0":case "1":case "2":case "3":this.displayMode=this.options.displayMode;break;case "value delim label":this.displayMode="1";break;case "label delim value":this.displayMode="2";break;case "value":this.displayMode="3";break;default:this.displayMode="0";}this.dataurl=this.options.dataurl;this.interactionMode=this.options.interactionMode;this.dataurl=this.options.dataurl;this.selectedIndex=-1;this.cursorIndex=-1;this.showRowIndex=0;this.displayCount=0;if(_4){var _5=$W._B.findNode(_4,"*['"+"choices"+"'=local-name()]['"+$W._N._XML_NAMESPACE.W2+"'=namespace-uri()]");if(_5){var _6=$W._B.findNode(_5,"*['"+"gridItemset"+"'=local-name()]['"+$W._N._XML_NAMESPACE.W2+"'=namespace-uri()]");if(_6==null){_6=$W._B.findNode(_5,"*['"+"gridViewItemset"+"'=local-name()]['"+$W._N._XML_NAMESPACE.W2+"'=namespace-uri()]");}if(_6&&_6.nodeName=="w2:gridItemset"){this.itemTableMode="grid";}else{if(_6&&_6.nodeName=="w2:gridViewItemset"){this.itemTableMode="gridView";}}}if(this.itemTableMode=="grid"){this.initializeGridItemArr(_4);}else{if(this.itemTableMode=="gridView"){this.initializeGridViewItemArr(_4);}else{this.initializeItemArr(_4);}}this.autoFinder=_4.nodeName=="w2:autoFinder"?true:false;if(this.autoFinder){this.display_path=this.options.display_path;if(typeof this.display_path!="undefined"){this.display_path=this.display_path.replace(/^\s\s*/,"").replace(/\s\s*$/,"");var _7=this.display_path.split(" ");var _8=_7[0];var _9=_7[1];var _a=_7[2];this.setItemSet(_8,_9,_a);this.buildItemArr();}}else{if(this.itemTableMode!="grid"&&this.itemTableMode!="gridView"){this.itemsetObj=$W.WebSquareparser.parseItemset(_4);}}}this.validator=new $W._p.validateInvoker(this.id,this.options);this.displayFormatter=null;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ao.prototype.toHTML=function(){["WebSquare.uiplugin.autoComplete.toHTML"];try{var _b=[];var _c=(this.options.title=="")?"":"title='"+this.options.title+"'";var _d=(this.options.style=="")?"":"style='"+this.options.style+"'";var _e=(this.options.defaultStyle=="")?"":"style='"+this.options.defaultStyle+"'";var _f=(this.options.textAlign=="")?_e:"style='text-align:"+this.options.textAlign+";"+this.options.defaultStyle+"'";_b.push("<div id='"+this.id+"' "+_d+" class='w2autoComplete "+this.options.className+"' tabIndex='0' "+_c+" role='combobox' aria-labelledby='"+this.id+"_itemTable' aria-autocomplete='inline' >");_b.push("<table class='w2autoComplete_table_main'  cellpadding='0' cellspacing='0'>");_b.push("<tbody id='"+this.id+"_main_tbody'>");_b.push("<tr class='w2autoComplete_row w2autoComplete_row_main'>");_b.push("<td class='w2autoComplete_col_label' "+_e+">");_b.push("<div class='w2autoComplete_label'>");_b.push("<span id='"+this.id+"_label' class='w2autoComplete_label' "+_f+"></span>");_b.push("<input id='"+this.id+"_input' class='w2autoComplete_input' style='border-width:0px; width:100%; padding:0px; display:none;' type='text' "+_c+" />");_b.push("</div></td>");_b.push("<td class='w2autoComplete_col_button' id='"+this.id+"_button' aria-labelledby='"+this.id+"_itemTable' aria-controls='"+this.id+"_itemTable'></td>");_b.push("</tr></tbody>");_b.push("</table>");_b.push("</div>");return _b.join("");}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ao.prototype.setPreAction=function(){try{this.dom.button=this.getElementById(this.id+"_button");this.dom.label=this.getElementById(this.id+"_label");this.dom.input=this.getElementById(this.id+"_input");if(this.options.tabIndex!=""){this.dom.input.tabIndex=this.options.tabIndex;}if($W._G.isMobile()){$W.getBody().getLayerListener().addListener({component:this,fnShow:this._openSubLayer,fnHide:this._closeSubLayer,event:{"ontouchstart":this.handleClickEventDocument}});}else{if(this.options.useOtherComponentId){$W._N.setTimer(function(){this.otherComponent=$W._G.getComponentById(this.options.useOtherComponentId);$W.getBody().getLayerListener().useOtherComponentId[this.id]=this.options.useOtherComponentId;$W.getBody().getLayerListener().addListener({component:this,fnShow:this._openOtherLayer,fnHide:this._closeOtherLayer,event:{"onmousedown":this.handleClickEventDocument}});this.event.addListener(this.otherComponent.render,"onmousedown",this.event.bindAsEventListener(this.otherComponent,function(e){$W._c.stopPropagation(e);}));this.otherComponent.hide();},{key:this.options.useOtherComponentId,caller:this,delay:100});}else{if(this.itemTableMode=="grid"){$W.getBody().getLayerListener().useOtherComponentId[this.id]=this.id+"_gridItemTable";$W.getBody().getLayerListener().addListener({component:this,fnShow:this._openOtherLayer,fnHide:this._closeOtherLayer,paramHide:{"documentClick":true},event:{"onmousedown":this.handleClickEventDocument}});}else{if(this.itemTableMode=="gridView"){$W.getBody().getLayerListener().useOtherComponentId[this.id]=this.id+"_gridViewItemTable";$W.getBody().getLayerListener().addListener({component:this,fnShow:this._openOtherLayer,fnHide:this._closeOtherLayer,paramHide:{"documentClick":true},event:{"onmousedown":this.handleClickEventDocument}});}else{$W.getBody().getLayerListener().addListener({component:this,fnShow:this._openSubLayer,fnHide:this._closeSubLayer,event:{"onmousedown":this.handleClickEventDocument}});}}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ao.prototype.setAction=function(){["WebSquare.uiplugin.autoComplete.setAction"];try{this.event.addListener(this.dom.input,"onblur",this.event.bindAsEventListener(this,this.handleblurEventInput));if($W._G.isMobile()){this.event.addListener(this.render,"ontouchstart",this.event.bindAsEventListener(this,function(e){$W._c.stopPropagation(e);}));}else{this.event.addListener(this.render,"onmousedown",this.event.bindAsEventListener(this,function(e){$W._c.stopPropagation(e);}));}this.event.addListener(this.render,"onclick",this.event.bindAsEventListener(this,this.handleClickEvent));this.event.addListener(this.dom.input,"onkeypress",this.event.bindAsEventListener(this,this.handleKeypressEvent));this.event.addListener(this.render,"onkeydown",this.event.bindAsEventListener(this,this.handleKeydownEvent));this.event.addListener(this.render,"onmousewheel",this.event.bindAsEventListener(this,this.handleMousewheelEvent));this.event.addListener(this.render,"onfocus",this.event.bindAsEventListener(this,this.handleFocusEvent));this.event.addListener(this.render,"onblur",this.event.bindAsEventListener(this,this.handleBlurEvent));this.event.addListener(this.render,"onmouseover",this.event.bindAsEventListener(this,this.handleMouseoverEvent));this.event.addListener(this.render,"onmouseout",this.event.bindAsEventListener(this,this.handleMouseoutEvent));if(this.options.closeonmouseleave==true){this.event.addListener(this.render,"onmouseleave",this.event.bindAsEventListener(this,this.handleMouseleaveEvent));}if(this.modelControl.isItemsetBinded()){this.refreshItemArr();this.componentRedraw();}if(this.modelControl.isBinded()){var _13=this.modelControl.getData();this.setValueNM(_13);}if(this.selectedIndex==-1){this.setSelectedIndexNM(0);if(this.modelControl.isBinded()){this.modelControl.setData(this.getValue());}}if(this.options.mandatory){this.onPropertyChange("mandatory",$W._G.getBoolean(this.options.mandatory));}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ao.prototype.refreshItemset=function(_14){["WebSquare.uiplugin.autoComplete.refreshItemset"];try{if(this.modelControl.isItemsetBinded()){this.refreshItemArr();this.componentRedraw(_14);if(this.itemArr.length<=0&&this.selectedIndex!=-1){this.initAutoComplete();}if(this.itemTableMode=="grid"){this.refreshGridItemArr();for(var i=0;i<this.itemArr.length;i++){this.itemArr[i].orgLabel=this.itemArr[i].label;this.itemArr[i].label=this.getItemText(i);}this.setSubLayer();this.setGridData();}else{if(this.itemTableMode=="gridView"){this.refreshGridViewItemArr();for(var i=0;i<this.itemArr.length;i++){this.itemArr[i].orgLabel=this.itemArr[i].label;this.itemArr[i].label=this.getItemText(i);}this.setSubLayer();this.setGridViewData();}}if(this.modelControl.isBinded()){this.refresh();}else{this.setSelectedIndexNM(0);}}this.broadcast({"linkedDataList":["refresh"]});}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ao.prototype.refresh=function(){["WebSquare.uiplugin.autoComplete.refresh"];try{if(this.modelControl.isBinded()){var _16=this.getValue();var _17=this.modelControl.getData();if(this.setValueNM(_17)==true){if(_16!=this.getValue()){$W._c.fireEvent(this,"onchange");}if(this.getValue()!=null&&_17!=this.getValue()){this.modelControl.setData(this.getValue());}}else{if(this.noResult==="clear"){this.setSelectedIndex(-1,true,false);}else{if(this.noResult==="previous"){this.setSelectedIndex(0,false,false);}else{if(this.noResult==="noEnd"){return;}else{if(this.noResult==="useData"){return;}else{if(this.noResult==="first"){if(this.options.noResultFirstItem){this.setSelectedIndex(0);}return;}}}}}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ao.prototype.componentRedraw=function(_18){["WebSquare.uiplugin.autoComplete.componentRedraw"];try{this.showRowIndex=0;this.setSelectOptions();if(this.itemArr.length>0){var _19=0;if(_18){if(_18!=="replace"&&this.getSelectedIndex()>-1){_19=this.getSelectedIndex();}}if(this.itemArr&&this.itemArr[_19]){this.dom.label.innerHTML=(this.options.escape)?$W._B._encode(this.itemArr[_19].label):this.itemArr[_19].label;}else{this.dom.label.innerHTML="";}if(this.modelControl.isBinded()){this.setSelectedIndex(_19,false,false);}else{this.setSelectedIndex(_19);}}else{this.dom.label.innerHTML="";}this.showEditMode(false);this.setValueNM("");}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ao.prototype.setSubLayer=function(){["WebSquare.uiplugin.autoComplete.setSubLayer"];try{if(this.itemTable==null){var _1a=this;if(this.itemTableMode=="grid"){this.itemTable=new $W._a.gridItemTable(this.id+"_gridItemTable",{itemsetObj:this.itemsetObj,className:this.options.className,gridOptions:this.gridOptions,visibleRowNum:this.options.visibleRowNum});this.itemTable.writeTo($W.getBody(),null,this.parentFrame);this.itemTable.activate();this.itemTable.grid.addEvent("oncellclick",function(row,col){_1a.endEdit();_1a.focus();row=this.getRealRowIndex(row);_1a.setSelectedIndex1(_1a.viewArr[row].index);});this.itemTable.grid.addEvent("onrowindexchange",function(row,_1e){row=this.getRealRowIndex(row);_1a.dom.input.value=(_1a.options.searchTarget=="label"||_1a.options.searchTarget=="both")?_1a.viewArr[row].orgLabel:_1a.viewArr[row].value;var _1f=_1a.viewArr[row].label;var _20=(_1a.options.escape)?$W._B._encode(_1f):_1f;_20=_1a.getFormattedValue(row,_20);_1a.dom.label.innerHTML=_20;});this.event.addListener(this.itemTable.grid.render,"onkeydown",this.event.bindAsEventListener(this.itemTable.grid,function(e){var _22=(e.charCode)?e.charCode:e.keyCode;if(_22==13){_1a.focus();var row=this.getFocusedRowIndex();row=this.getRealRowIndex(row);_1a.setSelectedIndex1(_1a.viewArr[row].index);}}));if(this.itemArr.length===0){this.itemTable.hide();}}else{if(this.itemTableMode=="gridView"){this.itemTable=new $W._a.gridViewItemTable(this.id+"_gridViewItemTable",{itemsetObj:this.itemsetObj,className:this.options.className,gridViewOptions:this.gridViewOptions,visibleRowNum:this.options.visibleRowNum});this.itemTable.writeTo($W.getBody(),null,this.parentFrame);this.itemTable.activate();this.itemTable.gridView.addEvent("oncellclick",function(row,col){_1a.endEdit();_1a.focus();var _26=_1a.viewArr[row].orgLabel+"|"+_1a.viewArr[row].value;var idx=_1a.findinItemArr(_26,$W.allValue);_1a.setSelectedIndex1(idx);});this.itemTable.gridView.addEvent("onrowindexchange",function(row,_29){row=this.getRealRowIndex(row);_1a.dom.input.value=(_1a.options.searchTarget=="label"||_1a.options.searchTarget=="both")?_1a.viewArr[row].orgLabel:_1a.viewArr[row].value;var _2a=_1a.viewArr[row].label;var _2b=(_1a.options.escape)?$W._B._encode(_2a):_2a;_2b=_1a.getFormattedValue(row,_2b);_1a.dom.label.innerHTML=_2b;});this.event.addListener(this.itemTable.gridView.render,"onkeydown",this.event.bindAsEventListener(this.itemTable.gridView,function(e){var _2d=(e.charCode)?e.charCode:e.keyCode;if(_2d==13){_1a.focus();var row=this.getFocusedRowIndex();row=this.getRealRowIndex(row);_1a.setSelectedIndex1(_1a.viewArr[row].index);}}));if(this.itemArr.length===0){this.itemTable.hide();}}else{this.itemTable=new $W._a.ab(this.id+"_itemTable",{row:this.options.visibleRowNum,col:1,submenuSize:this.options.submenuSize,style:"",defaultStyle:"text-align:"+this.options.textAlign+";"+this.options.defaultStyle,className:"w2input_table "+this.options.className,w2table:"w2input_table_sb",w2table_main:"w2input_table_sb_main",w2table_row:"w2input_table_sb_row",w2table_col:"w2input_table_sb_col",w2table_col_over:"w2input_table_sb_col_over",escape:this.options.escape});this.itemTable.writeTo($W.getBody(),null,this.parentFrame);this.itemTable.activate();this.itemTable.addClickEventListener(function(_2f){["WebSquare.uiplugin.autoComplete.itemTable.addClickEventListener"];_1a.findStop=true;if(_1a.editmode||_1a.findkeymode){_1a.mozTrickBuffer="";var _30=_1a.viewArr[_2f].label;if(_1a.options.useKeywordHighlight){_30=_30.wq_replaceAll("<span class='w2autoComplete_keyword'>","").wq_replaceAll("</span>","");}_1a.dom.input.value=_30;_1a.selectedItem={text:_30,value:_1a.viewArr[_2f].value,orgLabel:_1a.viewArr[_2f].orgLabel};var _31=_1a.selectedItem.orgLabel+"|"+_1a.selectedItem.value;var idx=_1a.findinItemArr(_31,$W.allValue);_1a.setSelectedIndex1(idx,true);_1a.focus();_1a.closeTable();}else{var _30=_1a.viewArr[_2f].label;if(_1a.options.useKeywordHighlight){_30=_30.wq_replaceAll("<span class='w2autoComplete_keyword'>","").wq_replaceAll("</span>","");}_1a.dom.input.value=_30;_1a.selectedItem={text:_30,value:_1a.viewArr[_2f].value,orgLabel:_1a.viewArr[_2f].orgLabel};_1a.setSelectedIndex1(_2f);_1a.focus();_1a.closeTable();}});this.itemTable.addKeyDownEventListener(function(e){if($W._c.getTarget(e)!==this.render){return;}var _34=(e.charCode)?e.charCode:e.keyCode;if(_1a.interactionMode==true||_1a.editmode||_1a.findkeymode){var _35=0;var _36=_1a.selectedItem.orgLabel+"|"+_1a.selectedItem.value;for(var i=0;i<_1a.viewArr.length;i++){if(_36==_1a.viewArr[i].orgLabel+"|"+_1a.viewArr[i].value){_35=i;break;}}if(_34==13){if(_1a.viewArr.lenght==0){return;}}else{if((_34==38)||(_34==9&&e.shiftKey)){if(_35==0){return;}_35=_35-1;}else{if((_34==40)||(_34==9)){if((_35+1)==_1a.viewArr.length){return;}_35=_35+1;}else{if(_34==35){_35=_1a.viewArr.length-1;}else{if(_34==36){_35=0;}else{if(_34==33){_35=_35-_1a.viewArr.length;if(_35<0){_35=0;}}else{if(_34==34){_35=_35+_1a.viewArr.length;if(_35>=_1a.viewArr.length){_35=_1a.viewArr.length-1;}}}}}}}}if(_1a.viewArr.length>_35){var _38=_1a.viewArr[_35].label;if(_1a.options.useKeywordHighlight){_38=_38.wq_replaceAll("<span class='w2autoComplete_keyword'>","").wq_replaceAll("</span>","");}_1a.dom.input.value=_38;_1a.selectedItem={text:_38,value:_1a.viewArr[_35].value,orgLabel:_1a.viewArr[_35].orgLabel};_1a.itemTable.setSelectedIndex(_35);}}else{var _39=-1;_39=_1a.getSelectedIndex();if((_34==38)||(_34==9&&e.shiftKey)){if(_39>0){_39=_39-1;}}else{if((_34==40)||(_34==9)){if(_39+1<_1a.getItemCount()){_39=_39+1;}}else{if(_34==35){_39=_1a.getItemCount()-1;}else{if(_34==36){_39=0;}else{if(_34==33){_39=_39-_1a.itemTable.rowCount;if(_39<0){_39=0;}}else{if(_34==34){_39=_39+_1a.itemTable.rowCount;if(_39>=_1a.itemTable.getItemCount()){_39=_1a.itemTable.getItemCount()-1;}}else{}}}}}}_1a.setSelectedIndex1(_39,true);_1a.itemTable.setSelectedIndex(_39);}});if(this.options.closeonmouseleave==true){this.itemTable.addMouseLeaveEventListener(function(e){["WebSquare.uiplugin.autoComplete.itemTable.addMouseLeaveEventListener"];var _3b=_1a.render.offsetHeight;var _3c=_1a.render.offsetWidth;var _3d=_1a.getAbsolutePosition("top");var _3e=_1a.getAbsolutePosition("left");if(!(e.clientY>=_3d&&e.clientY<=(_3d+_3b))){_1a.closeSubLayer();}});}if(this.editmode&&this.viewArr.length>0){this.setItemTable();this.itemTable.setSelectedIndex(0);}else{if(this.itemArr!=null&&this.itemArr.length>0){this.setItemTable();}else{this.itemTable.hide();if(this.itemTable.mainTable!=null&&this.itemTable.render.firstChild){this.setItemTable();}else{$l("this.itemTable.mainTable\uc774 null\uc785\ub2c8\ub2e4."+"["+this.id+"]");}}}}}this.isOpen=true;this.closeSubLayer();}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ao.prototype.setSelectOptions=function(){["WebSquare.uiplugin.autoComplete.setSelectOptions"];try{if(this.itemTable!=null){if(this.editmode){if(this.viewArr.length==0){}else{this.itemTable.setItemArr(this.viewArr);this.itemTable.setSelectedIndex(0);}}else{if(this.itemTableMode!="grid"&&this.itemTableMode!="gridView"&&this.itemArr!=null&&this.itemArr.length!=0){this.itemTable.setItemArr(this.itemArr);}else{this.itemTable.hide();}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ao.prototype.setItemTable=function(){["WebSquare.uiplugin.autoComplete.setItemTable"];try{this.itemTable.setItemArr(this.viewArr);var _3f=this.render.offsetWidth;var _40=this.render.offsetHeight;var _41=document.documentElement.clientWidth||document.body.clientWidth||0;var _42=$W._H.getAbsoluteLeft(this.render);var top=0;var tds=this.itemTable.render.getElementsByTagName("td");if(tds&&tds.length>0){var _45=tds[0].offsetHeight;var _46=Math.min(tds.length,this.options.visibleRowNum);if($W._N.browserCheck.moz&&_45<34&&_46==1){_45=34;}this.itemTable.setStyle("height",(_46*_45)+"px");}if(this.options.submenuSize=="fixed"||parseInt(_3f)>=parseInt(this.itemTable.render.offsetWidth)){this.itemTable.setStyle("width",(_3f-2)+"px");if(this.itemTable.render.offsetHeight>=this.itemTable.render.scrollHeight){this.itemTable.render.firstChild.style.width=(_3f)+"px";}else{this.itemTable.render.firstChild.style.width=(_3f-17)+"px";}}else{if(this.itemTable.render.scrollHeight-this.itemTable.render.offsetHeight>1){this.itemTable.setStyle("width",(this.itemTable.render.firstChild.offsetWidth+17)+"px");}else{if(this.itemTable.render.firstChild.offsetWidth>_3f){this.itemTable.setStyle("width",(this.itemTable.render.firstChild.offsetWidth)+"px");}else{this.itemTable.render.firstChild.style.width=(_3f)+"px";this.itemTable.setStyle("width",_3f+"px");}}}var _47=this.options.direction;if(_47=="auto"){var _48=document.body.scrollTop;if(_48<document.documentElement.scrollTop){_48=document.documentElement.scrollTop;}var _49=$W._H.getAbsoluteTop(this.render)-_48;var _4a=document.documentElement.clientHeight-(_49+this.render.offsetHeight);var _4b=this.itemTable.render.offsetHeight;if(_4a<_4b&&_49>_4b){_47="up";}}if(_47=="up"){top=$W._H.getAbsoluteTop(this.render)-this.itemTable.render.offsetHeight;}else{top=$W._H.getAbsoluteTop(this.render)+this.render.offsetHeight;}if(_41<(_42+this.itemTable.render.offsetWidth)){_42=_42+this.render.offsetWidth-this.itemTable.render.offsetWidth;if(_42<0){_42=$W._H.getAbsoluteLeft(this.render);var _4c=document.body.offsetWidth-17-_42;this.itemTable.setStyle("width",_4c+"px");if(this.itemTable.getStyle("overflow-x")!="auto"){_45+=20;}this.itemTable.setStyle("height",_45+"px");this.itemTable.setStyle("overflow-x","auto");}else{this.itemTable.setStyle("overflow-x","hidden");}}else{var _4c=this.itemTable.render.firstChild.offsetWidth;var _4d=this.itemTable.render.clientWidth;if((_42+_4c)<_41&&this.itemTable.getStyle("overflow-x")=="auto"){var _4e=(_4c>_4d)?_4c:_4d;_45-=20;this.itemTable.setStyle("height",_45+"px");this.itemTable.setStyle("width",_4e+"px");this.itemTable.setStyle("overflow-x","hidden");}}this.itemTableDirection=_47;this.itemTable.setPosition(_42,top);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ao.prototype.buildItemArr=function(){try{this.modelControl.setItemset(this.itemsetObj.nodeset,this.itemsetObj.label,this.itemsetObj.value);this.itemArr=[];if(this.itemsetObj.nodeset.match("data:")){this.itemArr=this.modelControl.getDataCollectionItemsetData(this.id);this.allItemArr=this.modelControl.getDataCollectionItemsetData(this.id,{"allData":true});}else{this.itemArr=this.modelControl.getItemsetData();}if(this.options.useLocale){this.itemArr=this.getLocaleItemArr(this.itemArr);this.allItemArr=this.getLocaleItemArr(this.allItemArr);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ao.prototype.setSelectItemArr=function(){["WebSquare.uiplugin.autoComplete.setSelectItemArr"];try{if(this.options.sortOption!=""){var _4f=[];var _50=null;if(this.options.sortOption=="label"){_50=function(){return this.label;};}else{if(this.options.sortOption=="value"){_50=function(){return this.value;};}}for(var i=0;i<this.itemArr.length;i++){var _52=this.itemArr[i];_52.toString=_50;_4f.push(_52);}_4f.sort();if(this.options.sortMethod=="descending"){_4f.reverse();}this.itemArr=_4f;}for(var i=0;i<this.itemArr.length;i++){this.itemArr[i].orgLabel=this.itemArr[i].label;this.itemArr[i].label=this.getItemText(i);}if(this.options.allOption==true){this.itemArr=[{label:this.defaultAllOptionLabel,value:$W.allValue,orgLabel:this.defaultAllOptionLabel,noItem:true}].concat(this.itemArr);}if(this.options.chooseOption==true){this.itemArr=[{label:this.options.useLocale==true?this.getLocaleValue(this.options.chooseOptionLabel):this.options.chooseOptionLabel||this.defaultChooseOptionLabel,value:this.options.chooseOptionValue,orgLabel:this.options.useLocale==true?this.getLocaleValue(this.options.chooseOptionLabel):this.options.chooseOptionLabel||this.defaultChooseOptionLabel,noItem:true}].concat(this.itemArr);}this.viewArr=[];for(var i=0;i<this.itemArr.length;i++){this.viewArr.push({label:this.itemArr[i].label,value:this.itemArr[i].value,orgLabel:this.itemArr[i].orgLabel,index:i});}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ao.prototype.getViewItemText=function(idx){["WebSquare.uiplugin.autoComplete.getViewItemText"];try{var _54="";if(idx>-1&&idx<this.viewArr.length){_54=this.viewArr[idx].label;switch(this.displayMode){case "0":break;case "1":_54=this.viewArr[idx].value+this.options.delimiter+_54;break;case "2":_54=_54+this.options.delimiter+this.viewArr[idx].value;break;case "3":_54=this.viewArr[idx].value;break;default:}}return _54;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ao.prototype.getItemText=function(idx){["WebSquare.uiplugin.autoComplete.getItemText"];try{if(idx>-1&&idx<this.getItemCount()){var _56="";if(this.itemArr[idx].value==$W.allValue){_56=this.itemArr[idx].label;}if(this.displayMode=="0"){_56=this.itemArr[idx].label;}else{if(this.displayMode=="1"){_56=this.itemArr[idx].value+this.options.delimiter+this.itemArr[idx].label;}else{if(this.displayMode=="2"){_56=this.itemArr[idx].label+this.options.delimiter+this.itemArr[idx].value;}else{if(this.displayMode=="3"){_56=this.itemArr[idx].value;}else{if(this.displayMode=="label"){_56=this.itemArr[idx].label;}else{if(this.displayMode=="value"){_56=this.itemArr[idx].value;}}}}}}return _56;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ao.prototype.parseLabel=function(idx){try{if(this.itemsetObj.label.indexOf("@")>-1){var _58=this.itemsetObj.label.split("@");if(this.itemsetObj.label.indexOf("/")>-1){var _59=_58[0].split("/");var _5a=_59[_59.length-2];var _5b=$W._B.getElementsByTagName(this.itemArr[idx].xml,_5a);var myv=$W.WebSquareparser.getAttribute(_5b[0],_58[1]);return myv;}else{var myv=$W.WebSquareparser.getAttribute(this.itemArr[idx].xml,_58[1]);return myv;}}else{if(this.itemsetObj.label.indexOf("/")>-1){var _59=this.itemsetObj.label.split("/");var _5a=_59[_59.length-2];var _5b=$W._B.getElementsByTagName(this.itemArr[idx].xml,_5a);var myv=$W.WebSquareparser.getAttribute(_5b[0],_58[1]);return myv;}else{var _5b=$W._B.getElementsByTagName(this.itemArr[idx].xml,this.itemsetObj.label);return _5b[0].firstChild.nodeValue;}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ao.prototype.parseValue=function(idx){try{if(this.itemsetObj.label.indexOf("@")>-1){var _5e=this.itemsetObj.value.split("@");if(this.itemsetObj.label.indexOf("/")>-1){var _5f=_5e[0].split("/");var _60=_5f[_5f.length-2];var _61=$W._B.getElementsByTagName(this.itemArr[idx].xml,_60);var myv=$W.WebSquareparser.getAttribute(_61[0],_5e[1]);return myv;}else{var myv=$W.WebSquareparser.getAttribute(this.itemArr[idx].xml,_5e[1]);return myv;}}else{if(this.itemsetObj.label.indexOf("/")>-1){var _5f=this.itemsetObj.label.split("/");var _60=_5f[_5f.length-2];var _61=$W._B.getElementsByTagName(this.itemArr[idx].xml,_60);var myv=$W.WebSquareparser.getAttribute(_61[0],_5e[1]);return myv;}else{var _61=$W._B.getElementsByTagName(this.itemArr[idx].xml,this.itemsetObj.label);return _61[0].firstChild.nodeValue;}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ao.prototype.setItemSet=function(_63,_64,_65){try{if(typeof this.itemsetObj=="undefined"){this.itemsetObj={};}var _66=false;if(_64!=this.itemsetObj.label||_65!=this.itemsetObj.value){_66=true;}this.itemsetObj.nodeset=_63;if(_66){this.itemsetObj.label=_64;this.itemsetObj.value=_65;}if(this.itemTableMode=="grid"){this.modelControl.setItemset(this.itemsetObj.nodeset,this.itemsetObj.label,this.itemsetObj.value);if(_66){for(var i=0;i<this.itemsetObj.items.length;i++){if(this.itemsetObj.items[i].id==this.itemsetObj.labelId){this.itemsetObj.items[i].ref=_64;}if(this.itemsetObj.items[i].id==this.itemsetObj.valueId){this.itemsetObj.items[i].ref=_65;}}}this.refreshGridItemArr();}else{if(this.itemTableMode=="gridView"){this.modelControl.setItemset(this.itemsetObj.nodeset,this.itemsetObj.label,this.itemsetObj.value);this.refreshGridViewItemArr();}else{this.buildItemArr();}}for(var i=0;i<this.itemArr.length;i++){this.itemArr[i].orgLabel=this.itemArr[i].label;this.itemArr[i].label=this.getItemText(i);}if(this.options.interactionMode){$W._N.clearTimer(this.id+"_showEditMode",true);if(this.interactionMode){this.selectedIndex=-1;this.selectedItem={text:"",value:"",orgLabel:""};}if(this.options.allOption==true&&this.itemArr.length>0){this.itemArr=[{label:this.defaultAllOptionLabel,value:$W.allValue,orgLabel:this.defaultAllOptionLabel,noItem:true}].concat(this.itemArr);if(this.itemTableMode=="grid"&&this.gridOptions.dataComp){var _68=-1;var _69={};for(var j=0;j<this.itemsetObj.items.length;j++){if(_68==-1&&this.itemsetObj.items[j].ref==this.itemsetObj.label){_68=j;}_69[this.itemsetObj.items[j].id]="";}_69[this.itemsetObj.items[_68==-1?0:_68].id]=this.defaultAllOptionLabel;this.gridRowItemArr.unshift(_69);}}if(this.options.chooseOption==true){this.itemArr=[{label:this.options.useLocale==true?this.getLocaleValue(this.options.chooseOptionLabel):this.options.chooseOptionLabel||this.defaultChooseOptionLabel,value:this.options.chooseOptionValue,orgLabel:this.options.useLocale==true?this.getLocaleValue(this.options.chooseOptionLabel):this.options.chooseOptionLabel||this.defaultChooseOptionLabel,noItem:true}].concat(this.itemArr);this.selectedIndex=0;this.selectedItem=this.itemArr[this.selectedIndex];}this.viewArr=[];for(var i=0;i<this.itemArr.length;i++){var _6b=this.itemArr[i].label;if(this.options.useKeywordHighlight){var _6c=_6b.indexOf(this.mozTrickBuffer);if(_6c>=0){_6b=_6b.substring(0,_6c)+"<span class='w2autoComplete_keyword'>"+this.mozTrickBuffer+"</span>"+_6b.substring(_6c+this.mozTrickBuffer.length,_6b.length);}}this.viewArr.push({label:_6b,orgLabel:this.itemArr[i].orgLabel,value:this.itemArr[i].value,index:i});}}if(this.gridOptions.sortIndex&&this.gridItemArr.length>0){this.setSubLayer();this.itemTable.grid.setData(this.gridItemArr.slice(0));if(this.options.allOption){var _6d=[];var _68=-1;for(var j=0;j<this.itemsetObj.items.length;j++){if(_68==-1&&this.itemsetObj.items[j].ref==this.itemsetObj.label){_68=j;}_6d.push("");}_6d[_68==-1?0:_68]=this.defaultAllOptionLabel;this.itemTable.grid.setRowData(0,_6d,false);}var _6e=[];if(this.options.allOption){var col=this.gridOptions.sortIndex.split(" ")[0];var _70=this.itemTable.grid.getCellInfo(col).options.dataType;var _71=parseInt(this.gridOptions.sortOrder.split(" ")[0],10);_6e[0]=function(a,b,i,j){if(i==0){return -1;}else{if(j==0){return 1;}else{if(_70=="number"){a=Number(a);b=Number(b);}else{a=a||"";b=b||"";}if(a>b){return 1*_71;}else{if(a<b){return -1*_71;}else{return 0;}}}}};}this.itemTable.grid.multisort({sortIndex:this.gridOptions.sortIndex,sortOrder:this.gridOptions.sortOrder,sortFuncArr:_6e});}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ao.prototype.updateTable=function(){};$W._a.ao.prototype.openTable=function(){try{["WebSquare.uiplugin.autoComplete.openTable"];this.showTable();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ao.prototype.toggle=function(){["WebSquare.uiplugin.autoComplete.toggle"];try{if(this.isOpen){this.closeSubLayer();}else{this.openSubLayer();}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ao.prototype.openSubLayer=function(obj){["WebSquare.uiplugin.autoComplete.openSubLayer"];try{$W.getBody().getLayerListener().show(this.id,obj);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ao.prototype._openSubLayer=function(obj){["WebSquare.uiplugin.autoComplete._openSubLayer"];try{if(!obj){obj={};}var _78=(obj.select===undefined)?true:obj.select;this.setSubLayer();if(!this.isOpen){if(this.itemArr.length==0){return;}this.itemTable.show();this.itemTable.render.setAttribute("aria-expended","true");this.setItemTable();if(this.options.wmode==true){$W.getBody().showWModeFrame(this.getPluginName(),this.itemTable.render);}if(this.selectedIndex!=-1&&_78){this.itemTable.setSelectedIndex(this.selectedIndex);}if(this.editmode){if(typeof this.dom.input!="undefined"&&this.dom.input!=null){this.setfFocus();}}else{}this.isOpen=true;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ao.prototype._openOtherLayer=function(obj){["WebSquare.uiplugin.autoComplete._openOtherLayer"];try{if(!this.isOpen){if(this.itemArr.length==0){return;}var _7a=this.otherComponent;if(this.itemTableMode=="grid"){this.setSubLayer();this.setGridData();if(this.gridOptions.visibleRowNum!==""){this.itemTable.render.style.height=this.itemTable.grid.render.style.height;}_7a=this.itemTable;_7a.grid.removeFocusedCell();_7a.show();_7a.grid.handleResize();}else{if(this.itemTableMode=="gridView"){this.setSubLayer();this.setGridViewData();if(this.gridOptions.visibleRowNum!==""){this.itemTable.render.style.height=this.itemTable.gridView.render.style.height;}_7a=this.itemTable;if(_7a.gridView!=undefined&&_7a.gridView._dataList!=undefined){_7a.gridView.removeFocusedCell();}_7a.show();_7a.gridView.handleResize();}else{_7a.show();}}var _7b=$W._H.getAbsoluteLeft(this.render);var top=$W._H.getAbsoluteTop(this.render);var _7d=this.options.direction;if(_7d=="auto"||_7d=="fit"){var _7e=document.body.scrollTop;if(_7e<document.documentElement.scrollTop){_7e=document.documentElement.scrollTop;}var _7f=top-_7e;var _80=document.documentElement.clientHeight-(_7f+this.render.offsetHeight);var _81=_7a.render.offsetHeight;if(_80<_81&&_7f>_81){_7d="up";}}if(_7d=="up"){top=top-_7a.render.offsetHeight;}else{top=top+this.render.offsetHeight;}if(_7d!="fit"&&document.documentElement.clientWidth<(_7b+_7a.render.offsetWidth)){_7b=_7b+this.render.offsetWidth-_7a.render.offsetWidth;}if(_7b<0){_7b=0;}if(this.options.direction=="fit"){if(this.itemTableMode=="grid"){this.itemTable.render.firstChild.style.width="100%";}_7b=$W._H.getAbsoluteLeft(this.render);_7a.setPosition(_7b,top);var _82=document.documentElement.clientWidth-_7b;_7a.setSize(_82,_7a.render.offsetHeight);}this.itemTableDirection=_7d;_7a.setPosition(_7b,top);this.isOpen=true;}else{this.setGridData();}if(this.selectedIndex!=-1){for(var i=0;i<this.viewArr.length;i++){if(this.viewArr[i].index==this.selectedIndex){this.itemTable.setSelectedIndex(i,obj&&obj.noFocus);break;}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ao.prototype.closeSubLayer=function(){["WebSquare.uiplugin.autoComplete.closeSubLayer"];try{$W.getBody().getLayerListener().hide(this.id);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ao.prototype._closeSubLayer=function(){["WebSquare.uiplugin.autoComplete._closeSubLayer"];try{if(this.isOpen&&this.itemTable!=null){this.itemTable.hide();this.itemTable.render.setAttribute("aria-expended","false");if(this.options.wmode==true){$W.getBody().hideWModeFrame(this.getPluginName(),this.itemTable.id);}this.isOpen=false;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ao.prototype._closeOtherLayer=function(_84){["WebSquare.uiplugin.autoComplete._closeOtherLayer"];try{var _84=_84||{};var _85=_84.documentClick;var _86=this.otherComponent;if(this.itemTableMode=="grid"||this.itemTableMode=="gridView"){_86=this.itemTable;}if(this.isOpen&&_86!=null){_86.hide();if(this.itemTableMode=="grid"){_86.grid.handleResize();}else{if(this.itemTableMode=="gridView"){_86.gridView.handleResize();}}this.isOpen=false;if(_85===true){$W._c.fireEvent(this,"onclose",true);}else{$W._c.fireEvent(this,"onclose",false);}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ao.prototype.getItemCount=function(){["WebSquare.uiplugin.autoComplete.getItemCount"];try{return this.itemArr.length;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ao.prototype.setSelectedIndex=function(idx,_88,_89){["WebSquare.uiplugin.autoComplete.setSelectedIndex"];try{if(isNaN(idx)){return;}if($W._G.isNull(idx)){return;}if(isNaN(idx)||idx>=this.getItemCount()){return;}if(idx<0&&!_88){return;}idx=parseInt(idx);var _8a="";if(idx>-1){_8a=this.itemArr[idx].value;}if(this.options.selectedData==true){this.modelControl.setData(_8a);}else{if(_89!=false){if(this.itemArr[idx].value!=$W.allValue){this.modelControl.setData(_8a);if(this.options.chooseOption==true&&idx==0){this.setSelectedIndexNM(0);}}else{this.modelControl.setData("");this.setSelectedIndexNM(idx);}}else{this.setSelectedIndexNM(-1);}}var _8b=this.getSelectedIndex();this.setSelectedIndexNM(idx,_88);if(_8b!=this.getSelectedIndex()){$W._c.fireEvent(this,"onchange");}this.broadcast({"linkedDataList":["refresh"]});}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ao.prototype.setSelectedIndexNM=function(idx,_8d){["WebSquare.uiplugin.autoComplete.setSelectedIndexNM"];try{this.dummyData=null;idx=parseInt(idx);if(isNaN(idx)||idx>=this.getItemCount()){return false;}if(idx<0&&!_8d){return false;}this.selectedIndex=idx;if(idx>-1){if(this.itemTableMode=="grid"){if(this.gridOptions.dataComp){this.selectedGridRowObj=this.gridOptions.dataComp.getRowArray(idx);}else{this.selectedGridRowObj=this.gridRowItemArr[idx];}}else{if(this.itemTableMode=="gridView"){if(this.gridViewOptions.dataComp){this.selectedGridViewRowObj=this.gridViewOptions.dataComp.getRowArray(idx);}}}var _8e=this.itemArr[idx].label;var _8f=(this.options.escape)?$W._B._encode(_8e):_8e;_8f=this.getFormattedValue(idx,_8f);this.dom.label.innerHTML=_8f;this.dom.input.value=_8e;this.selectedItem={text:_8e,value:this.itemArr[idx].value,orgLabel:this.itemArr[idx].orgLabel};if(this.itemTable){this.render.setAttribute("aria-activedescendant",this.itemTable.id+"_"+idx);}}else{this.dom.label.innerHTML="";this.dom.input.value="";}this.showEditMode(false);return true;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ao.prototype.getSelectedIndex=function(){["WebSquare.uiplugin.autoComplete.getSelectedIndex"];try{return this.selectedIndex;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ao.prototype.setValue=function(_90){["WebSquare.uiplugin.autoComplete.setValue"];try{if($W._G.isNull(_90)){return;}var _91=this.getValue();if(this.setValueNM(_90)==true){this.modelControl.setData(_90);if(_91!=this.getValue()){$W._c.fireEvent(this,"onchange");}}else{this.setSelectedIndex(0);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ao.prototype.setValueNM=function(_92){["WebSquare.uiplugin.autoComplete.setValueNM"];try{if($W._G.isNull(_92)){return;}_92=_92.toString();var _93=this.getItemCount();for(var i=0;i<_93;i++){if(this.itemArr[i].value==_92){this.setSelectedIndexNM(i);return true;}}return false;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ao.prototype.getValue=function(){["WebSquare.uiplugin.autoComplete.getValue"];try{if(this.dummyData){return this.dummyData.value;}else{if(this.itemArr[this.selectedIndex]){return this.itemArr[this.selectedIndex].value;}else{if(this.options.returnValueType=="empty"){return "";}else{return null;}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ao.prototype.setText=function(_95,_96){["WebSquare.uiplugin.autoComplete.setText"];try{var _97=this.getItemCount();var _98="";if(_96){for(var i=0;i<_97;i++){if(this.itemArr[i].orgLabel==_95){_98=this.itemArr[i].value;}}}else{for(var i=0;i<_97;i++){if(this.itemArr[i].label==_95){_98=this.itemArr[i].value;}}}this.setValue(_98);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ao.prototype.getText=function(_9a){["WebSquare.uiplugin.autoComplete.getText"];try{if(this.dummyData){return this.dummyData.label;}else{if(this.itemArr[this.selectedIndex]){return _9a?this.itemArr[this.selectedIndex].orgLabel:this.itemArr[this.selectedIndex].label;}else{return null;}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ao.prototype.setItem=function(_9b,_9c,_9d,_9e){["WebSquare.uiplugin.autoComplete.setItem"];try{if(!this.itemArr){return;}if(this.itemArr.length<=_9e){return;}this.itemArr[_9e].label=_9b;this.itemArr[_9e].value=_9c;this.itemArr[_9e].label=this.getItemText(_9e);this.itemArr[_9e].orgLabel=_9b;this.itemArr[_9e].xml=_9d;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ao.prototype.addItem=function(_9f,_a0,_a1,_a2){["WebSquare.uiplugin.autoComplete.addItem"];try{if(this.itemTableMode=="grid"||this.itemTableMode=="gridView"){return;}var _a3;var _a4=true;if(_a1==null){var _a5="<DATA><label>"+$W._B.encode(_9f)+"</label><value>"+$W._B.encode(_a0)+"</value></DATA>";_a3=$W._B.parse(_a5);}var _a6={label:_9f,value:_a0,orgLabel:_9f,xml:_a3};_a2=parseInt(_a2,10);if(isNaN(_a2)){_a2=this.getItemCount();}else{if(_a2<0||_a2>=this.getItemCount()){_a2=this.getItemCount();}}for(var i=0;i<this.itemArr.length;i++){if(this.options.searchTarget=="all"){if(this.itemArr[i].value==_a6.value&&this.itemArr[i].orgLabel==_a6.orgLabel){_a4=false;alert($W._m.getMessage("AutoComplete_addItem_invalid",this.id,i));break;}}else{if(this.itemArr[i].value==_a6.value){_a4=false;alert($W._m.getMessage("AutoComplete_addItem_invalid",this.id,i));break;}}}if(_a4){if(_a2===undefined){if(this.options.displayMode!="0"){_a6.label=this.getItemText(_a2);}this.itemArr.push(_a6);}else{this.itemArr.splice(_a2,0,_a6);if(this.options.displayMode!="0"){this.itemArr[_a2].label=this.getItemText(_a2);}if(_a2<=this.selectedIndex){this.setSelectedIndexNM(this.selectedIndex+1);}}return true;}else{return false;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ao.prototype.getItem=function(_a8){["WebSquare.uiplugin.autoComplete.getItem"];try{if(_a8===undefined){return;}if(_a8>=this.itemArr.length||_a8<0){return;}if(this.itemTable&&this.gridOptions.sortIndex&&this.gridItemArr.length>0){return this.itemArr[this.itemTable.grid.getRealRowIndex(_a8)];}else{return this.itemArr[_a8];}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ao.prototype.getItemCount=function(){["WebSquare.uiplugin.autoComplete.getItemCount"];try{return this.itemArr.length;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ao.prototype.getSearchedItems=function(){["WebSquare.uiplugin.autoComplete.getSearchedItems"];try{return this.viewArr;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ao.prototype.getSelectedRow=function(){["WebSquare.uiplugin.autoComplete.getSelectedRow"];try{if(this.itemTableMode=="grid"){return this.selectedGridRowObj;}else{if(this.itemTableMode=="gridView"){return this.selectedGridViewRowObj;}else{var _a9={};_a9["label"]=this.selectedItem.orgLabel;_a9["value"]=this.selectedItem.value;return _a9;}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ao.prototype.onPropertyChange=function(_aa,_ab){["WebSquare.uiplugin.autoComplete.onPropertyChange"];try{switch(_aa){case "disabled":var _ac=this.dom.button;if(_ab==true){this.closeSubLayer();this.addClass("w2autoComplete_disabled");if(_ac!=null){this.addClass(_ac,"w2autoComplete_button_disabled");}}else{this.removeClass("w2autoComplete_disabled");if(_ac!=null){this.removeClass(_ac,"w2autoComplete_disabled");}}var _ad=this.getElementById(this.id+"_input");if(_ab==true){_ad.setAttribute("disabled","disabled");}else{_ad.removeAttribute("disabled");}break;case "readOnly":if(_ab==true){this.addClass("w2autoComplete_readonly");}else{this.removeClass("w2autoComplete_readonly");}var _ad=this.getElementById(this.id+"_input");if(_ab==true){_ad.setAttribute("readonly","readonly");}else{_ad.removeAttribute("readonly");}case "mandatory":if(_ab==true){this.addClass(this.render,"w2autoComplete_mandatory");}else{this.removeClass(this.render,"w2autoComplete_mandatory");}break;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ao.prototype.setSelectedIndex1=function(idx,_af,_b0){["WebSquare.uiplugin.autoComplete.setSelectedIndex1"];try{var _b1=this.selectedIndex;var _b2=this.getValue();this.setSelectedIndex(idx,_b0);if(_b1!=this.selectedIndex){var _b3={"oldValue":_b2,"newValue":this.getValue(),"oldSelectedIndex":_b1,"newSelectedIndex":this.selectedIndex};$W._c.fireEvent(this,"onviewchange",_b3);}if(!_af){this.closeSubLayer();}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ao.prototype.validate=function(){["WebSquare.uiplugin.autoComplete.validate"];try{var _b4=this.validator.validate(this.getValue());if(!_b4){this.focus();}return _b4;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ao.prototype.showTooltip=function(_b5,top,_b7){["WebSquare.uiplugin.autoComplete.showTooltip"];try{if(this.timeShowTooltip!=null){clearTimeout(this.timeShowTooltip);this.timeShowTooltip=null;}if(this.timeHideTooltip!=null){clearTimeout(this.timeHideTooltip);this.timeHideTooltip=null;}this.timeShowTooltip=setTimeout(this.event.bindAsEventListener(this,function(){if(!this.tooltip){this.tooltip=new $W._a._p(this.id+"_tooltip",{className:"w2autoComplete_tooltip "+this.options.tooltipClass});this.tooltip.writeTo($W.getBody(),null,this.parentFrame);this.tooltip.activate();this.tooltip.removeClass("w2group");}this.tooltip.setStyle("display","block");this.tooltip.setStyle("left",_b5+"px");this.tooltip.setStyle("top",top+"px");if(this.options.escape){_b7=$W._B._encode(_b7);}this.tooltip.render.innerHTML=_b7;}),this.options.tooltipTime*1000);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ao.prototype.hideTooltip=function(){["WebSquare.uiplugin.autoComplete.hideTooltip"];try{this.timeHideTooltip=setTimeout(this.event.bindAsEventListener(this,function(){if(this.tooltip){this.tooltip.setStyle("display","none");}}),this.options.tooltipTime*1000);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ao.prototype.handleClickEvent=function(e){["WebSquare.uiplugin.autoComplete.handleClickEvent"];try{if(this.options.disabled){return false;}var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match("w2autoComplete_input")){if(this.isOpen){return;}}if(it.match("w2autoComplete_col_label")){if(this.isOpen){this.closeSubLayer();}else{if($W.getBody().getLayerListener().existShow==true){$W.getBody().getLayerListener().hideAll();}}this.changeMode();return;}}this.mozTrickBuffer="";this.editmode=false;if(!this.options.interactionMode){this.viewArr=[];for(var i=0;i<this.itemArr.length;i++){this.viewArr.push({label:this.itemArr[i].label,value:this.itemArr[i].value,orgLabel:this.itemArr[i].orgLabel,index:i});}}if(!this.options.useOtherComponentId){var _bb=this.isOpen;this.setSubLayer();if(_bb==this.isOpen){if(this.options.useKeywordHighlight){if(this.selectedIndex>=0&&this.viewArr[this.selectedIndex]!=undefined){this.viewArr[this.selectedIndex].label=this.itemArr[this.selectedIndex].label;}}this.toggle();}}else{this.toggle();}it=null;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ao.prototype.handleClickEventDocument=function(e){["WebSquare.uiplugin.autoComplete.handleClickEventDocument"];try{if(!this.event.isMe(e,this.render)&&this.options.handleOtherClick){if(this.itemTable!=null&&this.itemTable.inputBlurInside){$W._N.setTimer(this.endEdit,{key:this.id+"_handleClickEventDocument",caller:this,delay:1});this.itemTable.inputBlurInside=false;}if(this.mytime){clearTimeout(this.mytime);}if(this.hideTime){clearTimeout(this.hideTime);}if(this.itemTable!=null&&this.findkeymode==false){if($W.getBody().getLayerListener().isShow(this.id)){this.closeSubLayer();}}else{if(this.itemTable!=null&&this.findkeymode==true){this.findkeymode=true;}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ao.prototype.endEdit=function(){["WebSquare.uiplugin.autoComplete.endEdit"];try{var _bd=this.dom.input.value;var ret=$W._c.fireEvent(this,"oneditend",_bd);if(this.mytime){clearTimeout(this.mytime);}if(this.hideTime){clearTimeout(this.hideTime);}var idx;var str=this.dom.input.value;var _c1=this.options.searchTarget;var _c2=this.itemArr[this.selectedIndex];if(_c2!=undefined&&((_c1==="value"&&str===_c2.value)||(_c1==="label"&&str===_c2.orgLabel)||(_c1==="all"&&str===_c2.orgLabel+"|"+_c2.value))){idx=this.selectedIndex;}else{var _c3=this.dom.input.value;if(this.displayMode==1){var arr=_c3.split(this.options.delimiter);if(_c1=="value"){_c3=arr[0];}else{if(_c1=="label"||_c1=="both"){_c3=arr[1];if(_c3==undefined||_c3===""){_c3=arr[0];}}else{if(_c1=="all"){if(arr[1]==undefined&&arr.length==1){arr[1]=arr[0];arr[0]="";}_c3=arr[1]+"|"+arr[0];}}}}else{if(this.displayMode==2){var arr=_c3.split(this.options.delimiter);if(_c1=="value"){_c3=arr[1];if(_c3==undefined||_c3===""){_c3=arr[0];}}else{if(_c1=="label"||_c1=="both"){_c3=arr[0];}else{if(_c1=="all"){if(arr[1]==undefined){arr[1]="";}_c3=arr[0]+"|"+arr[1];}}}}}idx=this.findinItemArr(_c3,this.options.searchTarget);}if(idx!=undefined){if(this.noResult==="useData"){this.setSelectedIndex1(idx,true);}else{if(this.noResult==="clear"){this.setSelectedIndex1(idx,true,true);}else{this.setSelectedIndex(idx);}}}else{if(this.noResult==="useData"){if(this.options.allOption==true||this.options.chooseOption==true){idx=1;}else{idx=0;}if(!(this.options.ignoreBlankOnNoResult&&this.dom.input.value==="")){this.addItem(this.dom.input.value,this.dom.input.value,null,idx);}else{idx=0;}this.setSelectedIndex1(idx,true);}else{if(this.noResult==="clear"){if(this.options.allOption==true||this.options.chooseOption==true){idx=0;}else{idx=-1;}this.setSelectedIndex1(idx,true,true);}}}var _c5="";if(this.dom.input!=null&&this.itemArr!=null&&this.selectedIndex!=-1){if(this.selectedItem.text==this.dom.input.value&&this.dom.input.value!=""){_c5=(this.options.escape)?$W._B._encode(this.selectedItem.text):this.selectedItem.text;_c5=this.getFormattedValue(this.selectedIndex,_c5);this.dom.label.innerHTML=_c5;}else{if(this.itemArr&&this.itemArr[this.selectedIndex]){_c5=(this.options.escape)?$W._B._encode(this.itemArr[this.selectedIndex].label):this.itemArr[this.selectedIndex].label;_c5=this.getFormattedValue(this.selectedIndex,_c5);this.dom.label.innerHTML=_c5;}else{this.dom.label.innerHTML="";}}}this.showEditMode(false);this.mozTrickBuffer="";if($W._N.browserCheck.moz||$W._N.browserCheck.opera){this.findStop=true;$W._G.clearInterval(this.id+"_mozTrickCompare");}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ao.prototype.handleblurEventInput=function(){["WebSquare.uiplugin.autoComplete.handleblurEventInput"];if(this.dom.input.style.display!="none"&&this.options.handleOtherClick){if(this.itemTable==null||(this.itemTable!=null&&!this.itemTable.inputBlurInside)){this.endEdit();if(this.isOpen){this.closeSubLayer();}}}};$W._a.ao.prototype.handleKeypressEvent=function(e){["WebSquare.uiplugin.autoComplete.handleKeypressEvent"];try{var _c7=this.dom.input.value;if(!this.validator.validateKeyPress(this.dom.input,_c7,e)){$W._c.stopEvent(e);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ao.prototype.handleKeydownEvent=function(e){["WebSquare.uiplugin.autoComplete.handleKeydownEvent"];try{if(this.event.isMe(e,this.dom.input)){this.editmode=true;this.inputKeyDown(e,false);if($W._N.browserCheck.moz||$W._N.browserCheck.opera){this.mozTrickCompare();$W._G.setInterval(this.mozTrickCompare,{key:this.id+"_mozTrickCompare",caller:this,delay:10});}return;}else{var _c9=(e.charCode)?e.charCode:e.keyCode;if($W._N.browserCheck.opera){if((_c9==18)&&!this.isOpen){this.handleClickEvent(e);return;}else{if(_c9==13&&!this.isOpen){this.changeMode();return;}}}else{if((_c9==40||_c9==38)&&!this.isOpen){this.handleClickEvent(e);return;}else{if(_c9==13&&!this.isOpen){this.changeMode();return;}}}if(this.itemTable!=null&&this.viewArr.length>0){if(this.isOpen==true&&this.itemTableMode!="grid"&&this.itemTableMode!="gridView"){this.itemTable.handleKeydownEvent(e);}this.editmode=false;}else{if(this.itemTable!=null){if(this.itemTable.render.style.display==""){return;}}}}if(this.itemTable!=null){if(this.itemTable.render.style.display==""){return;}}return;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ao.prototype.find=function(){try{var _ca=this.dom.input.value;if(_ca==""){this.mozTrickBuffer=_ca;if(this.itemTable!=null){this.closeSubLayer();}return;}if(this.mozTrickBuffer==_ca){this.mozTrickBuffer=_ca;return;}else{this.mozTrickBuffer=_ca;}if(this.isOpen){this.closeSubLayer();}this.viewArr=[];if(!this.options.caseSensitive){_ca=_ca.toLowerCase();}for(var i=0;i<this.itemArr.length;i++){if(this.itemArr[i].noItem){continue;}var _cc=false;if(!this.itemArr[i].orgLabel){this.itemArr[i].orgLabel=this.itemArr[i].label;this.itemArr[i].label=this.getItemText(i);}if(!_cc&&(this.options.searchTarget=="label"||this.options.searchTarget=="both"||this.options.searchTarget=="all")){var _cd=(this.options.caseSensitive)?this.itemArr[i].orgLabel:this.itemArr[i].orgLabel.toLowerCase();if(this.search=="contain"){_cc=this.myhelper.containWith(_cd,_ca);}else{if(this.search=="start"){_cc=this.myhelper.startWith(_cd,_ca);}else{if(this.search=="none"){if(_cd==_ca){_cc=true;}else{_cc=false;}}}}}if(!_cc&&(this.options.searchTarget=="value"||this.options.searchTarget=="both"||this.options.searchTarget=="all")){var _ce=(this.options.caseSensitive)?this.itemArr[i].value:this.itemArr[i].value.toLowerCase();if(this.search=="contain"){_cc=this.myhelper.containWith(_ce,_ca);}else{if(this.search=="start"){_cc=this.myhelper.startWith(_ce,_ca);}else{if(this.search=="none"){if(_ce==_ca){_cc=true;}else{_cc=false;}}}}}var _cf=this.itemArr[i].label;if(this.options.useKeywordHighlight){var _d0=_cf.indexOf(this.mozTrickBuffer);if(_d0>=0){_cf=_cf.substring(0,_d0)+"<span class='w2autoComplete_keyword'>"+this.mozTrickBuffer+"</span>"+_cf.substring(_d0+this.mozTrickBuffer.length,_cf.length);}}if(_cc){this.viewArr.push({value:this.itemArr[i].value,label:_cf,orgLabel:this.itemArr[i].orgLabel,index:i});}}if(this.options.disabled){return false;}if(this.viewArr.length>0){if(!this.isOpen){if(this.options.allOption==true&&this.itemTableMode!="gridView"){this.viewArr=[{label:this.defaultAllOptionLabel,value:$W.allValue,orgLabel:this.defaultAllOptionLabel,index:0,noItem:true}].concat(this.viewArr);}if(this.itemTableMode=="grid"||this.itemTableMode=="gridView"){this.openSubLayer({noFocus:true});}else{this.openSubLayer({select:false});}}}else{this.closeSubLayer();}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ao.prototype.runSubmission=function(_d1){try{var _d2=true;var _d3=this.dom.input.value;var _d4=$W._G.getStringByteSize(_d3);if(this.options.interactionMinByteLength>0&&this.options.interactionMinByteLength>_d4){_d2=false;}if(this.options.allowEmptySubmission!="false"&&_d3==""){}else{if(this.options.interactionKey=="default"){if(this.mozTrickBuffer==_d3){_d2=false;}}}if(_d2){this.mozTrickBuffer=_d3;if(this.options.submissionFunc.wq_trim()!=""){eval(this.options.submissionFunc+"('"+_d3+"', "+_d1+")");}else{if(this.options.submission.wq_trim()!=""){var _d5="<key>"+$W._B.encode(_d3)+"</key>";$W.WebSquaredoc.models[0].rebuild($W._B.parse(_d5),this.options.keyInputRef);$W.WebSquaredoc.models[0].refresh();$W._J.executeSubmission(this.options.submission);}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ao.prototype.inputKeyDown=function(e,_d7){["WebSquare.uiplugin.autoComplete.inputKeyDown"];try{if(_d7==false){var _d8=(e.charCode)?e.charCode:e.keyCode;}if(this.interactionMode){this.editmode=false;if(_d7==false){if(this.options.interactionKey=="default"||this.isOpen){if(_d8==40&&!this.isOpen){}else{if(_d8==38||_d8==33||_d8==40||_d8==34||_d8==35||_d8==36){if($W._N.browserCheck.chrome||$W._N.browserCheck.safari||$W._G.isIEAllVersion()){if(this.mytime){clearTimeout(this.mytime);}if(this.hideTime){clearTimeout(this.hideTime);}}else{if($W._N.browserCheck.moz||$W._N.browserCheck.opera){this.findStop=true;}}if(this.itemTableMode!="grid"&&this.itemTableMode!="gridView"){this.arrowHandle(e);}if($W.getBody().getLayerListener().isShow(this.id)){if(this.itemTableMode=="grid"){this.itemTable.setFocusedCell(0,0);}else{this.itemTable.focus();}}return;}else{if(_d8==13){this.enterHandle(e);return;}else{if(_d8==9||(_d8==9&&e.shiftKey)){if(this.dom.input.value==""||this.viewArr.length==0){return;}if(this.itemTableMode!="grid"&&this.itemTableMode!="gridView"){this.arrowHandle(e);}if($W.getBody().getLayerListener().isShow(this.id)){if(this.itemTableMode=="grid"||this.itemTableMode=="gridView"){this.itemTable.setFocusedCell(0,0);}else{this.itemTable.focus();}}if($W._N.browserCheck.chrome||$W._N.browserCheck.safari||$W._G.isIEAllVersion()){if(this.mytime){clearTimeout(this.mytime);}if(this.hideTime){clearTimeout(this.hideTime);}}else{if($W._N.browserCheck.moz||$W._N.browserCheck.opera){this.findStop=true;}}this.endEdit();if(this.isOpen){this.closeSubLayer();}return;}}}}}else{if(this.options.interactionKey=="all"){}}}var _d9=this;this.mytime=setTimeout(function(){_d9.runSubmission(_d8);},100);return;}else{if(_d7==false){if(_d8==40&&!this.isOpen){if(this.dom.input.value.wq_trim()==""){this.render.click();return;}}else{if(_d8==38||_d8==33||_d8==40||_d8==34||_d8==35||_d8==36){if($W._N.browserCheck.chrome||$W._N.browserCheck.safari||$W._G.isIEAllVersion()){if(this.mytime){clearTimeout(this.mytime);}if(this.hideTime){clearTimeout(this.hideTime);}}else{if($W._N.browserCheck.moz||$W._N.browserCheck.opera){this.findStop=true;}}this.arrowHandle(e);if($W.getBody().getLayerListener().isShow(this.id)&&this.itemTableMode!="grid"&&this.itemTableMode!="gridView"){this.itemTable.focus();}return;}else{if(_d8==13){this.enterHandle(e);return;}else{if(_d8==9||(_d8==9&&e.shiftKey)){if(this.dom.input.value==""||this.viewArr.length==0){return;}this.arrowHandle(e);if($W._N.browserCheck.chrome||$W._N.browserCheck.safari||$W._G.isIEAllVersion()){if(this.mytime){clearTimeout(this.mytime);}if(this.hideTime){clearTimeout(this.hideTime);}}else{if($W._N.browserCheck.moz||$W._N.browserCheck.opera){this.findStop=true;}}if(this.isOpen){this.closeSubLayer();}return;}}}}}this.selectedItem={text:"",value:"",orgLabel:""};this.selectedGridRowObj={};if(this.itemArr.length>0){var _d9=this;this.mytime=setTimeout(function(){_d9.find();},100);}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ao.prototype.arrowHandle=function(e){try{var _db=(e.charCode)?e.charCode:e.keyCode;if(this.itemTable==null){return;}if(this.editmode||this.findkeymode){if(this.dom.input.value==""||this.viewArr.length==0){$W._c.stopEvent(e);return;}}var _dc=0;for(var i=0;i<this.viewArr.length;i++){if(this.selectedItem.orgLabel==this.viewArr[i].orgLabel){_dc=i;break;}}if(_db==9||(_db==9&&e.shiftKey)){this.setSelectedIndex1(this.viewArr[_dc].index);}else{if(this.itemTableMode!="grid"&&this.itemTableMode!="gridView"){this.itemTable.handleKeydownEvent(e);}}if(this.viewArr.length>0){var _de="";if(this.options.searchTarget=="value"){_de=this.viewArr[_dc].value;}else{_de=this.viewArr[_dc].label;}if(this.options.useKeywordHighlight){_de=_de.wq_replaceAll("<span class='w2autoComplete_keyword'>","").wq_replaceAll("</span>","");}this.dom.input.value=_de;this.selectedItem={text:_de,value:this.viewArr[_dc].value,orgLabel:this.viewArr[_dc].orgLabel};this.itemTable.setSelectedIndex(_dc);}this.mozTrickBuffer="";return;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ao.prototype.enterHandle=function(e){["WebSquare.uiplugin.autoComplete.enterHandle"];try{var _e0=this.dom.input.value;var ret=$W._c.fireEvent(this,"oneditend",_e0);if(this.itemTable==null||this.itemTable.selectedCell==null){if(this.itemTable==null&&!this.options.useOtherComponentId){this.setSubLayer();}if(this.itemTable.selectedCell==null){var idx=this.findinItemArr(this.dom.input.value,this.options.searchTarget);if(this.noResult==="clear"){}else{if(this.noResult==="previous"){if(this.interactionMode==true){if(idx===undefined){idx=-1;}}this.setSelectedIndex1(idx,true,true);}else{if(this.noResult==="noEnd"){if(idx===undefined){return;}else{this.setSelectedIndex1(idx,true);}}else{if(this.noResult==="useData"){}else{if(this.noResult==="first"){if(this.viewArr.length>0){if(idx==undefined){index=this.findinItemArr(this.viewArr[0].value,"value");}else{index=idx;}this.setSelectedIndex1(index,true);}else{if(this.dom.input.value==0||this.findinItemArr(this.dom.input.value,"value")===undefined){if(this.itemArr.length>0){index=this.findinItemArr(this.itemArr[0].value,"value");this.setSelectedIndex1(index,true);}}}}}}}}}}if($W._N.browserCheck.opera){$W._c.stopEvent(e);}this.mozTrickBuffer="";if(this.itemTable.selectedCell!=null){var _e3=this.findinItemArr(this.dom.input.value,this.options.searchTarget);if(this.noResult==="clear"){}else{if(this.noResult==="previous"){if(this.interactionMode==true){if(_e3===undefined){_e3=-1;}this.setSelectedIndex1(_e3,true,true);}else{if(_e3===undefined){_e3=this.itemTable.selectedCell.index;if(typeof _e3=="undefined"){_e3=this.itemTable.selectedCell.getAttribute("index");}}this.setSelectedIndex1(_e3,true);}}else{if(this.noResult==="noEnd"){if(_e3===undefined){return;}this.setSelectedIndex1(_e3,true);}else{if(this.noResult==="useData"){}else{if(this.noResult==="first"){if(this.viewArr.length>0){if(_e3==undefined){_e3=this.findinItemArr(this.viewArr[0].value,"value");}this.setSelectedIndex1(_e3,true);}else{if(this.dom.input.value==0||this.findinItemArr(this.dom.input.value,"value")===undefined){if(this.itemArr.length>0){_e3=this.findinItemArr(this.itemArr[0].value,"value");this.setSelectedIndex1(_e3,true);}}}}}}}}}if(this.mytime){clearTimeout(this.mytime);}if(this.hideTime){clearTimeout(this.hideTime);}this.showEditMode(false);this.focus();this.closeTable();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ao.prototype.findinItemArr=function(str,_e5){try{var _e6=_e5||"label";for(var i=0;i<this.itemArr.length;i++){if(_e6==="value"){if(str==this.itemArr[i].value){return i;}}else{if(_e6==="label"){if(this.displayMode==1||this.displayMode==2){if(str==this.itemArr[i].orgLabel){return i;}}else{if(str==this.itemArr[i].label){return i;}}}else{if(_e6==="both"){if(str==this.itemArr[i].orgLabel||str==this.itemArr[i].value){return i;}}else{if(_e6==="all"){if(str==this.itemArr[i].orgLabel+"|"+this.itemArr[i].value){return i;}}}}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ao.prototype.closeTable=function(){try{this.closeSubLayer();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ao.prototype.showTable=function(){try{this.openSubLayer({select:false});}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ao.prototype.handleMousewheelEvent=function(e){["WebSquare.uiplugin.autoComplete.handleMousewheelEvent"];try{$W._c.stopEvent(e);if(!this.options.useMousewheel){return;}var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match(null,this.id)){}if(it.match("w2autoComplete_selected")){if(!this.isOpen){var _ea=this.getSelectedIndex();if(e.wheelDelta>0||e.detail<0){this.setSelectedIndex1(_ea-1);}else{this.setSelectedIndex1(_ea+1);}}else{if(this.itemTableMode!="grid"&&this.itemTableMode!="gridView"){var _ea=this.itemTable.selectedCell.index;if(typeof _ea=="undefined"){_ea=this.itemTable.selectedCell.getAttribute("index");this.dom.input.value=this.viewArr[_ea].label;}if(e.wheelDelta>0||e.detail<0){this.itemTable.setSelectedIndex(_ea);}else{this.itemTable.setSelectedIndex(_ea);}}}}}it=null;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ao.prototype.handleFocusEvent=function(e){["WebSquare.uiplugin.autoComplete.handleFocusEvent"];try{$W._c.stopEvent(e);if(!this.isOpen){var _ec=document.getElementById(this.id+"_main_tbody");this.addClass(_ec,"w2autoComplete_selected");if(this.options.editModeEvent=="onfocus"){this.changeMode();}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ao.prototype.handleBlurEvent=function(e){["WebSquare.uiplugin.autoComplete.handleBlurEvent"];try{$W._c.stopEvent(e);if(!this.isOpen){var _ee=document.getElementById(this.id+"_main_tbody");this.removeClass(_ee,"w2autoComplete_selected");}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ao.prototype.handleMouseoverEvent=function(e){["WebSquare.uiplugin.autoComplete.handleMouseoverEvent"];try{$W._c.stopEvent(e);if(!$W._G.isIE(6)){if(!this.isOpen){var _f0=document.getElementById(this.id+"_main_tbody");this.addClass(_f0,"w2autoComplete_selected");}}if(!this.isOpen){var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match("w2autoComplete")){if(this.options.tooltipDisplay==true&&!this.editmode){var _f2=it.getElement();var _f3=$W._H.getAbsoluteLeft(_f2)+20;var top=$W._H.getAbsoluteTop(_f2)+this.render.offsetHeight+3;var _f5=this.dom.label.innerHTML;this.showTooltip(_f3,top,_f5);}}}it=null;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ao.prototype.handleMouseoutEvent=function(e){["WebSquare.uiplugin.autoComplete.handleMouseoutEvent"];try{$W._c.stopEvent(e);if(this.options.tooltipDisplay==true){this.hideTooltip();}if(!this.isOpen){var _f7=document.getElementById(this.id+"_main_tbody");this.removeClass(_f7,"w2autoComplete_selected");}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ao.prototype.handleMouseleaveEvent=function(e){["WebSquare.uiplugin.autoComplete.handleMouseleaveEvent"];try{var _f9=this.render.offsetHeight-1;var _fa=this.render.offsetWidth-1;var _fb=this.getAbsolutePosition("top");var _fc=this.getAbsolutePosition("left");if(this.isOpen){if(this.itemTableDirection=="up"){if(e.clientX<_fc||e.clientX>(_fc+_fa)||e.clientY>_fb||e.clinetY>(_fb+_f9)){this.closeSubLayer();}}else{if(e.clientX<_fc||e.clientX>(_fc+_fa)||e.clientY<_fb||e.clinetY>(_fb+_f9)){this.closeSubLayer();}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ao.prototype.changeMode=function(){["WebSquare.uiplugin.autoComplete.changeMode"];try{this.editmode=true;this.findStop=false;if(this.dom.input.style.display!="block"){var _fd="";if(this.options.searchTarget=="value"){_fd=this.selectedItem.value;}else{if(this.options.searchTarget=="label"||this.options.searchTarget=="both"){_fd=this.selectedItem.orgLabel;}else{if(this.options.searchTarget=="all"){_fd=this.selectedItem.text;}else{_fd=this.selectedItem.orgLabel;}}}if(this.options.editType=="focus"){this.showEditMode(true);if(document.activeElement!=this.dom.input){this.setfFocus();}var _fe=$W._B.decode(_fd);this.dom.input.value=_fe;if($W._G.isOpera()||$W._G.isFF()){this.dom.input.setSelectionRange(_fe.length,_fe.length);}}else{this.dom.input.value=$W._B.decode(_fd);this.showEditMode(true);this.dom.input.select();this.setfFocus();}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ao.prototype.showEditMode=function(_ff){["WebSquare.uiplugin.autoComplete.showEditMode"];if(_ff){this.dom.label.style.display="none";this.dom.label.style.visibility="hidden";this.dom.input.style.display="block";this.dom.input.style.visibility="visible";}else{$W._N.setTimer(function(){try{this.dom.input.style.display="none";this.dom.input.style.visibility="hidden";this.dom.label.style.display="block";this.dom.label.style.visibility="visible";}catch(e){}},{key:this.id+"_showEditMode",caller:this,delay:1});}};$W._a.ao.prototype.setfFocus=function(){["WebSquare.uiplugin.autoComplete.setfFocus"];try{this.dom.input.focus();if(this.itemTable!=null){this.itemTable.inputBlurInside=false;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ao.prototype.mozTrickCompare=function(){["WebSquare.uiplugin.autoComplete.mozTrickCompare"];try{var _100=this;if(this.dom.input.value!=this.trickBuffer){this.trickBuffer=this.dom.input.value;if(this.findStop==false){_100.inputKeyDown({},true);}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ao.prototype.setInputFocus=function(){["WebSquare.uiplugin.autoComplete.setInputFocus"];try{this.changeMode();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ao.prototype.setItemTableFocus=function(){["WebSquare.uiplugin.autoComplete.setItemTableFocus"];try{if($W.getBody().getLayerListener().isShow(this.id)){this.itemTable.focus();}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ao.prototype.setEditMode=function(){["WebSquare.uiplugin.autoComplete.setInputFocus"];try{this.setInputFocus();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ao.prototype.removeAll=function(_101){["WebSquare.uiplugin.autoComplete.removeAll"];try{this.selectedItem={text:"",value:"",orgLabel:""};this.itemArr=new Array();if(_101){if(this.options.allOption==true){this.itemArr=[{label:this.defaultAllOptionLabel,value:$W.allValue,orgLabel:this.defaultAllOptionLabel,noItem:true}].concat(this.itemArr);}if(this.options.chooseOption==true){this.itemArr=[{label:this.options.useLocale==true?this.getLocaleValue(this.options.chooseOptionLabel):this.options.chooseOptionLabel,value:this.options.chooseOptionValue,orgLabel:this.options.useLocale==true?this.getLocaleValue(this.options.chooseOptionLabel):this.options.chooseOptionLabel,noItem:true}].concat(this.itemArr);}}this.setSelectOptions(this.itemArr);if(this.itemArr.length>0){this.dom.label.innerHTML=(this.options.escape)?$W._B._encode(this.itemArr[0].label):this.itemArr[0].label;}else{this.dom.label.innerHTML="";}if(this.itemTableMode=="grid"){this.viewArr=[];this.gridItemArr=[];this.gridRowItemArr=[];this.selectedGridRowObj={};if(this.itemTable){this.itemTable.grid.removeAll();}}else{if(this.itemTableMode=="gridView"){this.viewArr=[];this.gridViewItemArr=[];this.gridViewRowItemArr=[];this.selectedGridViewRowObj={};if(this.itemTable){var _102=this.modelControl.getDataComp(this.itemTable.gridView.options.dataList);_102.removeAll();}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ao.prototype.initAutoComplete=function(){["WebSquare.uiplugin.autoComplete.initAutoComplete"];try{this.removeAll();this.selectedIndex=-1;this.selectedItem={text:"",value:"",orgLabel:""};this.dom.input.value="";this.dummyData=null;if(this.isOpen){this.closeSubLayer();}this.broadcast({"linkedDataList":["refresh"]});}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ao.prototype.hide=function(){["WebSquare.autoComplete.hide"];try{this.closeSubLayer();$W._n.prototype.hide.call(this);}catch(e){$W.exception.printStackTrace(e);}};$W._a.ao.prototype.getFormattedValue=function(_103,_104){["WebSquare.autoComplete.getFormattedValue"];try{var ret=_104;if(this.options.displayFormatter){if(!this.displayFormatter){this.fixedIndex=-1;if(this.options.allOption==true){this.fixedIndex++;}if(this.options.chooseOption==true){this.fixedIndex++;}try{this.displayFormatter=(this.options.displayFormatter)?eval(this.options.displayFormatter):null;}catch(e){}}if(this.displayFormatter&&_103>this.fixedIndex){ret=this.displayFormatter(_104);}}return ret;}catch(e){$W.exception.printStackTrace(e);}};$W._a.ao.prototype.setRef=function(ref){["WebSquare.uiplugin.autoComplete.prototype.setRef "];try{if(!this.modelControl.isBinded()){this.modelControl.useRef=true;}this.options.ref=ref;this.modelControl.setRef(ref);this.refresh();}catch(e){$W.exception.printStackTrace(e);}};$W._a.ao.prototype.setGridData=function(){["WebSquare.uiplugin.autoComplete.prototype.setGridData"];this.itemTable.grid.clearFilter();this.itemTable.grid.setTopRowIndex(0);var _107=this.itemsetObj.labelId;var _108=this.itemsetObj.valueId;if(!this.options.interactionMode){this.gridItemArr=[];if(this.gridOptions.dataComp){var _109=this.itemTable.grid.getColCnt();var _10a=this.gridOptions.dataComp.getColumnCount();if(_10a!=_109){var _10b=[];var _10c={};var _10d=0;var _10e=[];for(var i in this.itemTable.grid.cellInfoHash){_10b.push(this.itemTable.grid.cellInfoHash[i].id);}_10d=this.gridOptions.dataComp.getColData(_10b[0]).length;if(this.gridOptions.dataComp.sortStatusArr==undefined){for(var j=0;j<_10b.length;j++){_10c[_10b[j]]=this.gridOptions.dataComp.getColData(_10b[j]);}for(var cnt=0;cnt<_10d;cnt++){_10e[cnt]={};for(var i in _10c){_10e[cnt][i]=_10c[i][cnt];}}for(var i=0;i<this.viewArr.length;i++){for(var j=0;j<_10e.length;j++){if(this.viewArr[i].orgLabel===_10e[j][this.itemsetObj.label]&&this.viewArr[i].value===_10e[j][this.itemsetObj.value]){var arr=[];for(var k in _10e[j]){arr.push(_10e[j][k]);}this.gridItemArr=this.gridItemArr.concat(arr);break;}}}}}else{for(var i=0;i<this.viewArr.length;i++){for(var j=0;j<this.itemArr.length;j++){if(this.viewArr[i].orgLabel===this.itemArr[j].label&&this.viewArr[i].value===this.itemArr[j].value){this.gridItemArr=this.gridItemArr.concat(this.gridOptions.dataComp.getRowData(j));break;}}}}}else{for(var i=0;i<this.viewArr.length;i++){for(var j=0;j<this.gridRowItemArr.length;j++){if(this.viewArr[i].orgLabel===this.gridRowItemArr[j][_107]&&this.viewArr[i].value===this.gridRowItemArr[j][_108]){for(var key in this.gridRowItemArr[j]){this.gridItemArr.push(this.gridRowItemArr[j][key]);}break;}}}}}this.itemTable.grid.setData(this.gridItemArr.slice(0));if(this.options.allOption){var _115=[];var _116=-1;for(var j=0;j<this.itemsetObj.items.length;j++){if(_116==-1&&this.itemsetObj.items[j].ref==this.itemsetObj.label){_116=j;}_115.push("");}_115[_116==-1?0:_116]=this.defaultAllOptionLabel;this.itemTable.grid.setRowData(0,_115,false);}if(this.gridOptions.sortIndex&&this.gridItemArr.length>0){var _117=[];if(this.options.allOption){var col=this.gridOptions.sortIndex.split(" ")[0];var _119=this.itemTable.grid.getCellInfo(col).options.dataType;var _11a=parseInt(this.gridOptions.sortOrder.split(" ")[0],10);_117[0]=function(a,b,i,j){if(i==0){return -1;}else{if(j==0){return 1;}else{if(_119=="number"){a=Number(a);b=Number(b);}else{a=a||"";b=b||"";}if(a>b){return 1*_11a;}else{if(a<b){return -1*_11a;}else{return 0;}}}}};}this.itemTable.grid.multisort({sortIndex:this.gridOptions.sortIndex,sortOrder:this.gridOptions.sortOrder,sortFuncArr:_117});}else{this.itemTable.grid.notifyDataChanged({keepTop:true});}};$W._a.ao.prototype.setGridViewData=function(){this.itemTable.gridView.setTopRowIndex(0);var _11f=this.itemsetObj.labelId;var _120=this.itemsetObj.valueId;var _121=null;_121=this.modelControl.getDataComp(this.itemTable.gridView.options.dataList);if(this.searchFlag==false){this.orgSearchArr=_121.getAllData();this.searchFlag=true;}if(this.gridViewOptions.dataComp.sortStatusArr){_121.setData(this.orgSearchArr);}else{_121.setData(this.gridViewOptions.dataComp.getAllData());}if(this.options.allOption){var _122=_121.getAllData();if(_122[0]!="-\uc804\uccb4-"){var _123=[];var _124=-1;for(var j=0;j<this.itemsetObj.items.length;j++){if(_124==-1&&this.itemsetObj.items[j].ref==this.itemsetObj.label){_124=j;}_123.push("");}_123[_124==-1?0:_124]=this.defaultAllOptionLabel;_121.setRowData(0,_123,false);}}if(this.options.chooseOption==true){var _122=_121.getAllData();if(_122[0]!="-\uc120\ud0dd-"){var _123=[];var _124=-1;for(var j=0;j<this.itemsetObj.items.length;j++){if(_124==-1&&this.itemsetObj.items[j].ref==this.itemsetObj.label){_124=j;}_123.push("");}_123[_124==-1?0:_124]=this.options.chooseOptionLabel;_121.setRowData(0,_123,false);}}if(!this.options.interactionMode){if(this.viewArr&&this.viewArr.length==0){for(var i=0;i<this.itemArr.length;i++){this.viewArr.push({label:this.itemArr[i].label,value:this.itemArr[i].value,orgLabel:this.itemArr[i].orgLabel,index:i});}}this.gridViewItemArr=[];if(this.gridViewOptions.dataComp){for(var i=0;i<this.viewArr.length;i++){for(var j=0;j<this.itemArr.length;j++){if(this.viewArr[i].orgLabel===this.itemArr[j].orgLabel&&this.viewArr[i].value===this.itemArr[j].value){this.gridViewItemArr=this.gridViewItemArr.concat(_121.getRowData(j));break;}}}}}_121.setData(this.gridViewItemArr.slice(0));this.itemTable.gridView.setDataList();if(this.gridViewOptions.sortIndex&&this.gridViewItemArr.length>0){var _127=[];if(this.options.allOption){var col=this.gridViewOptions.sortIndex.split(" ")[0];var _129=this.itemTable.gridView.getCellInfo(col).options.dataType;var _12a=parseInt(this.gridViewOptions.sortOrder.split(" ")[0],10);_127[0]=function(a,b,i,j){if(i==0){return -1;}else{if(j==0){return 1;}else{if(_129=="number"){a=Number(a);b=Number(b);}else{a=a||"";b=b||"";}if(a>b){return 1*_12a;}else{if(a<b){return -1*_12a;}else{return 0;}}}}};}this.itemTable.gridView._dataList.multisort({sortIndex:this.gridOptions.sortIndex,sortOrder:this.gridOptions.sortOrder,sortFuncArr:_127});}else{this.itemTable.gridView.notifyDataChanged({keepTop:true});}};$W._a.ao.prototype.setDummyData=function(_12f,_130){this.dummyData={value:_12f,label:_130};this.selectedIndex=-1;this.showEditMode(false);this.selectedItem={text:_130,value:_12f,orgLabel:_130};var _131=(this.options.escape)?$W._B._encode(_130):_130;this.dom.label.innerHTML=_131;this.dom.input.value=_130;};$W._a.ao.prototype.setStyle=function(_132,_133){["WebSquare.uiplugin.autoComplete.prototype.setStyle"];try{if(!this.render){return;}$W._H.setStyle(this.render,_132,_133);if(_132=="font-size"){this.dom.label.style[_132]=_133;}}catch(e){$W.exception.printStackTrace(e);}};;WebSquare.uiplugin.autoComplete=$W._a.ao;requires("uiplugin/control/itemsetControl.js");$W._a.bi=function(id,_2,_3){["WebSquare.uiplugin.list"];$W._t.call(this,id,_2,_3);};$W.extend($W._a.bi.prototype,$W._t.prototype);$W.extend($W._a.bi.prototype,$W.itemsetControl.prototype);$W._a.bi.prototype.defaultOptions={pluginType:"uiplugin.list",pluginName:"list",userEvents:["onclick","onmouseover","onmouseout","onmousedown","onrowclick"],tagName:"div",sortable:false,virtualized:false,visibleRowNum:10,selectedCellColor:"#FCA73C"};$W._a.bi.prototype.initialize=function(_4){["WebSquare.uiplugin.list.initialize"];this.uniqueIdSequence=0;this.listRowInfo=$W._B.getChildren(_4.parentNode,"w2:list")[0];this.listColumnInfo=$W._B.getChildren(_4,"w2:listRow");if(this.options.nodeset){this.modelDataXMLArr=$W._J.findInstanceNodes(this.options.nodeset);this.modelControl.itemsetObj={nodeset:this.options.nodeset,label:"",value:""};}if(this.options.virtualized){this.options.rowHeight=21;var _5=this.listRowInfo.style.split(";");for(var i=0;i<_5.length;i++){var _7=_5[i];if(_7.indexOf("height")>-1&&_7.indexOf(":")>-1){var _8=parseInt(_7.split(":")[1].wq_trim().replaceAll("px",""));if(!isNaN(_8)){this.options.rowHeight=_8+1;}}}}this.listRowObjArr=[];};$W._a.bi.prototype.toHTML=function(){["WebSquare.uiplugin.list.toHTML"];var _9=[];var _a=(this.options.style=="")?"":"style='"+this.options.style+"'";_9.push("<"+this.options.tagName+" id='"+this.id+"' "+_a+" class='w2list w2noselect "+this.options.className+"' tabIndex='0'>");if(this.options.virtualized){_9.push("<div id='"+this.id+"_main' style='position:relative;width:100%;height:100%;box-sizing:border-box;background-color:white;'>");_9.push("<div id='"+this.id+"_items_main'>");}if(this.options.nodeset){var _b=this.modelDataXMLArr.length;if(this.options.virtualized){_b=Math.min(this.modelDataXMLArr.length,this.options.visibleRowNum);}for(var i=0;i<_b;i++){var _d=(this.listRowInfo.style=="")?"":"style='"+this.listRowInfo.style+"'";_9.push("<"+this.listRowInfo.tagName+" "+_d+" class='w2list_listRow "+this.listRowInfo["class"]+"' >");var _e;for(var j=0;j<this.listColumnInfo.length;j++){var _10=this.listColumnInfo[j];var _11=_10.value;var _12=$W._B.getValue(this.modelDataXMLArr[i],_10.ref);if(_12!=""){_11=_12;}switch(_10.inputType){case "checkbox":var _13=$W._G.getBoolean(_11)?"checked=\"checked\"":"";var _14=(_10.style=="")?"":" style='"+_10.style+"' ";_9.push("<input type='checkbox' "+_13);_9.push(_14);_9.push(" class='w2list_listColumn w2list_listColumn_checkbox "+_10["class"]+"' >");_9.push("</input>");break;case "text":var _14=(_10.style=="")?"":" style='"+_10.style+"' ";_9.push("<span ");_9.push(_14);_9.push(" class='w2list_listColumn w2list_listColumn_text "+_10["class"]+"' >");_9.push(_11);_9.push("</span>");break;case "button":var _14=(_10.style=="")?"":" style='"+_10.style+"' ";_9.push("<input type='button'");_9.push(" value='"+_11+"' ");_9.push(_14);_9.push(" class='w2list_listColumn w2list_listColumn_button "+_10["class"]+"' >");_9.push("</input>");break;default:break;}}_9.push("</"+this.listRowInfo.tagName+">");}}if(this.options.virtualized){_9.push("</div>");_9.push("<div id='"+this.id+"_scroll_main' class='w2list_scroll_main' style='position:absolute;right:0;top:0;height:100%;padding:1px;background-color:#ccc;box-sizing:border-box;'>");_9.push("<div id='"+this.id+"_scroll_track' class='w2list_scroll_track' style='position:relative;width:100%;height:100%;background-color:#eee;box-sizing:border-box;'>");_9.push("<div id='"+this.id+"_scroll_thumb' class='w2list_scroll_thumb' style='position:absolute;width:100%;height:100%;left:1px;width:8px;background-color:#bbb;border-radius:3px'>");_9.push("</div>");_9.push("</div>");_9.push("</div>");_9.push("</div>");}_9.push("</"+this.options.tagName+">");return _9.join("");};$W._a.bi.prototype.setAction=function(){this.initializeListInfo();if(this.options.virtualized){var _15=this.getElementById(this.id+"_items_main");this.event.addListener(_15,"onclick",this.event.bindAsEventListener(this,this.handleClickEvent));this.event.addListener(_15,"onmouseover",this.event.bindAsEventListener(this,this.handleMouseoverEvent));this.event.addListener(_15,"onmouseout",this.event.bindAsEventListener(this,this.handleMouseoutEvent));if($W._G.isIE()){this.event.addListener(_15,"onmousewheel",this.event.bindAsEventListener(this,this.handleMousewheelEvent));}else{this.event.addListener(_15,"onwheel",this.event.bindAsEventListener(this,this.handleMousewheelEvent));}this.event.addListener(this.render,"onkeydown",this.event.bindAsEventListener(this,this.handleKeydownEvent));}else{this.event.addListener(this.render,"onclick",this.event.bindAsEventListener(this,this.handleClickEvent));this.event.addListener(this.render,"onmouseover",this.event.bindAsEventListener(this,this.handleMouseoverEvent));this.event.addListener(this.render,"onmouseout",this.event.bindAsEventListener(this,this.handleMouseoutEvent));}if(this.isMobile==true){}else{this.event.addListener(this.render,"onmousedown",this.event.bindAsEventListener(this,this.handleDragEvent));}if(this.options.virtualized){this.adjustRender();var _16=this.getElementById(this.id+"_scroll_thumb");var _17=this.getElementById(this.id+"_scroll_track");this.event.addListener(_16,"onmouseenter",this.event.bindAsEventListener(this,function(e){_16.style.backgroundColor="#aaa";}));this.event.addListener(_16,"onmouseleave",this.event.bindAsEventListener(this,function(e){if(!this.scrollStarted){_16.style.backgroundColor="#bbb";}}));this.event.addListener(_16,"onmousedown",this.event.bindAsEventListener(this,function(e){if(this.listRowObjArr.length>0){this.scrollStarted=true;this.scrollStartMouseEvent={};this.scrollStartMouseEvent.clientY=e.clientY;this.scrollStartMouseEvent.original_top=_16.offsetTop;this.scrollStartMouseEvent.max_top=_16.parentElement.offsetHeight-_16.offsetHeight;_16.style.backgroundColor="#999";}}));this.event.addListener(_17,"onclick",this.event.bindAsEventListener(this,function(e){if(!this.scrollStarted){var _1c;if($W._G.isIE()){_1c=e.srcElement;}else{_1c=e.target;}if(_1c!=_17){return;}$W._c.stopPropagation(e);var _1d=e.offsetY-(_16.offsetHeight/2);if(_1d<0){_1d=0;}if(_1d>(_16.parentElement.offsetHeight-_16.offsetHeight)){_1d=(_16.parentElement.offsetHeight-_16.offsetHeight);}if(_16.offsetTop!=_1d){_16.style.top=_1d+"px";var _1e=this.listRowObjArr.length-this.options.visibleRowNum;if(_1e>0){var _1f=(_17.offsetHeight-_16.offsetHeight)/_1e;var _20=Math.floor(_1d/_1f);this.setFirstRowIndex(_20,true);}else{this.setFirstRowIndex(0,true);}}}}));this.event.addListener(this.parentControl.render,"onmouseup",this.event.bindAsEventListener(this,function(e){if(this.scrollStarted){this.scrollStarted=false;_16.style.backgroundColor="#bbb";}}));this.event.addListener(this.parentControl.render,"onmouseleave",this.event.bindAsEventListener(this,function(e){if(this.scrollStarted){this.scrollStarted=false;_16.style.backgroundColor="#bbb";}}));this.event.addListener(this.parentControl.render,"onmousemove",this.event.bindAsEventListener(this,function(e){if(this.scrollStarted){var _24=e.clientY-this.scrollStartMouseEvent.clientY;var _25=this.scrollStartMouseEvent.original_top+_24;if(_25<0){_25=0;}if(_25>this.scrollStartMouseEvent.max_top){_25=this.scrollStartMouseEvent.max_top;}if(_16.offsetTop!=_25){_16.style.top=_25+"px";var _26=this.listRowObjArr.length-this.options.visibleRowNum;if(_26>0){var _27=(_17.offsetHeight-_16.offsetHeight)/_26;var _28=Math.floor(_25/_27);this.setFirstRowIndex(_28,true);}else{this.setFirstRowIndex(0,true);}}}}));}};$W._a.bi.prototype.setLayout=function(){};$W._a.bi.prototype.initializeListInfo=function(){["WebSquare.uiplugin.list.initializeListInfo"];try{if(this.options.nodeset){for(var i=0;i<this.modelDataXMLArr.length;i++){var _2a=this.id+"_"+this.uniqueIdSequence;$W._B.setAttribute(this.modelDataXMLArr[i],"unique_id",_2a);this.render.childNodes[i].setAttribute("unique_id",_2a);var _2b;var _2c;var _2d;var _2e={};for(var j=0;j<this.listColumnInfo.length;j++){_2b=this.listColumnInfo[j];_2c=_2b.value;_2d=$W._B.getValue(this.modelDataXMLArr[i],_2b.ref);if(_2d!=""){_2c=_2d;}_2e[_2b.id]=_2c;}_2e["unique_id"]=_2a;this.listRowObjArr.push(_2e);this.uniqueIdSequence++;}this.onListRowObjArrChanged();}}catch(e){$W.exception.printStackTrace(e);}};$W._a.bi.prototype.refreshItemset=function(){try{if(this.modelControl.isItemsetBinded()){var _30=$W._J.findInstanceNodes(this.options.nodeset);this.modelDataXMLArr=_30;var _31=this.listRowObjArr;this.listRowObjArr=[];for(var i=0;i<this.modelDataXMLArr.length;i++){this.listRowObjArr[i]=this.createObjByXML(this.modelDataXMLArr[i]);}for(var i=0;i<_31.length;i++){for(var j=0;j<this.listRowObjArr.length;j++){if(_31[i]["unique_id"]==this.listRowObjArr[j]["unique_id"]){_31[i].exist=true;break;}}}for(var i=0;i<_31.length;i++){if(_31[i].exist!=true){var _34=this.getRenderByUniqueId(_31[i]["unique_id"]);_34.parentNode.removeChild(_34);}}for(var i=0;i<this.listRowObjArr.length;i++){var _35=this.listRowObjArr[i];var _36=this.getRenderByUniqueId(_35["unique_id"]);if(_36){for(var j=0;j<_31.length;j++){var _37=_31[j];if(_37["unique_id"]==_35["unique_id"]){for(var k=0;k<this.listColumnInfo.length;k++){var _39=_35[this.listColumnInfo[k].id];if(_37[this.listColumnInfo[k].id]!=_39){switch(this.listColumnInfo[k].inputType){case "checkbox":_36.childNodes[k].checked=$W._G.getBoolean(_39);break;case "text":_36.childNodes[k].innerHTML=_39;break;case "button":_36.childNodes[k].value=_39;break;default:break;}}}}}var _3a;for(var j=0;j<this.getLength();j++){var _3b=this.render.childNodes[j];if(_36.getAttribute("unique_id")==_3b.getAttribute("unique_id")){_3a=j;}}this.moveRowRender(_3a,i);}else{this.insertRowRender(i,this.listRowObjArr[i]);}}this.onListRowObjArrChanged();}}catch(e){$W.exception.printStackTrace(e);}};$W._a.bi.prototype.refresh=function(){};$W._a.bi.prototype.insertInModel=function(_3c,_3d,_3e){["WebSquare.uiplugin.list.insertInModel"];try{switch(_3e){case "append":var _3f=this.options.nodeset.split("/");_3f.splice(_3f.length-1,1);var _40=_3f;_40=_40.join("/");$W._J.setInstanceNode(_3d,_40,null,"append");break;case "insertBeforeSibling":$W._J.setInstanceNode(_3d,this.options.nodeset+"["+(_3c+1)+"]",null,"insertBeforeSibling");break;case "appendSibling":$W._J.setInstanceNode(_3d,this.options.nodeset+"["+(_3c)+"]",null,"appendSibling");break;default:return;}}catch(e){$W.exception.printStackTrace(e);}};$W._a.bi.prototype.removeFromModel=function(_41){["WebSquare.uiplugin.list.removeFromModel"];try{$W._J.removeInstanceNode(this.options.nodeset+"["+(_41+1)+"]");}catch(e){$W.exception.printStackTrace(e);}};$W._a.bi.prototype.insertRow=function(idx,_43){["WebSquare.uiplugin.list.insertRow"];try{var _44=this.getChildNodes();var _45=_44.length;if(idx<0){return;}else{if(idx>_45){idx=_45;}}if(this.options.nodeset){var _46=this.createXMLByObj(_43);if(_44.length==0){this.insertInModel(idx,_46,"append");}else{if(_44.length>idx&&idx>=0){this.insertInModel(idx,_46,"insertBeforeSibling");}else{this.insertInModel(idx,_46,"appendSibling");}}}else{this.insertRowNM(idx,_43);}}catch(e){$W.exception.printStackTrace(e);}};$W._a.bi.prototype.insertRowNM=function(idx,_48){["WebSquare.uiplugin.list.insertRowNM"];try{var _49=this.getLength();_48["unique_id"]=this.id+"_"+this.uniqueIdSequence;this.uniqueIdSequence++;if(_49>idx&&idx>=0){this.listRowObjArr.splice(idx,0,_48);}else{this.listRowObjArr.push(_48);}this.onListRowObjArrChanged();this.insertRowRender(idx,_48);}catch(e){$W.exception.printStackTrace(e);}};$W._a.bi.prototype.insertRenderStr=function(_4a){["WebSquare.uiplugin.list.insertRowNM"];try{_4a["unique_id"]=this.id+"_"+this.uniqueIdSequence;this.uniqueIdSequence++;this.listRowObjArr.push(_4a);this.onListRowObjArrChanged();var _4b="<"+this.listRowInfo.tagName+" class='"+"w2list_listRow "+this.listRowInfo["class"]+"' style='"+this.listRowInfo.style+"' unique_id='"+_4a["unique_id"]+"'>";for(var j=0;j<this.listColumnInfo.length;j++){var id=this.listColumnInfo[j].id;if(_4a[id]!=undefined||_4a[id]!=null){value=_4a[id];}else{value=this.listColumnInfo[j].value;_4a[this.listColumnInfo[j].id]=this.listColumnInfo[j].value;}appendItemInfo=this.listColumnInfo[j];_4b+=this.createItemNodeStr(appendItemInfo,value);}_4b+="</"+this.listRowInfo.tagName+">";return _4b;}catch(e){$W.exception.printStackTrace(e);}};$W._a.bi.prototype.insertRowRender=function(idx,_4f){["WebSquare.uiplugin.list.insertRowRender"];try{var _50=this.getChildNodes();var _51=_50.length;if(idx<0){return;}else{if(idx>_51){idx=_51;}}var _52=this.createRenderByObj(_4f);if(_50.length>idx&&idx>=0){this.render.insertBefore(_52,_50[idx]);}else{this.render.appendChild(_52);}}catch(e){$W.exception.printStackTrace(e);}};$W._a.bi.prototype.removeRow=function(idx){["WebSquare.uiplugin.list.removeRow"];try{var _54=this.getChildNodes();if(_54.length>idx&&idx>=0){if(this.options.nodeset){this.removeFromModel(idx);}else{this.removeRowNM(idx);}}}catch(e){$W.exception.printStackTrace(e);}};$W._a.bi.prototype.removeRowNM=function(idx){["WebSquare.uiplugin.list.removeRowNM"];try{this.removeRowRender(idx);this.listRowObjArr.splice(idx,1);this.onListRowObjArrChanged();}catch(e){$W.exception.printStackTrace(e);}};$W._a.bi.prototype.removeRowRender=function(idx){["WebSquare.uiplugin.list.removeRowRender"];try{var _57=this.getChildNodes();if(_57.length>idx&&idx>=0){this.render.removeChild(_57[idx]);}}catch(e){$W.exception.printStackTrace(e);}};$W._a.bi.prototype.removeAll=function(){["WebSquare.uiplugin.list.prototype.removeAll"];try{if(this.options.nodeset){$W._J.removeInstanceNodes(this.options.nodeset);}else{this.listRowObjArr=[];this.render.innerHTML="";}this.onListRowObjArrChanged();}catch(e){$W.exception.printStackTrace(e);}};$W._a.bi.prototype.moveRow=function(_58,_59){["WebSquare.uiplugin.list.moveRow"];try{var _5a=this.getChildNodes();var _5b=_5a.length;if(_58>_5b||_59>_5b){return;}if(_58>=0&&_59>=0){if(this.options.nodeset){var _5c=this.modelDataXMLArr[_58];if(_5a.length-1>_59&&_59>=0){this.removeFromModel(_58);this.insertInModel(_59,_5c,"insertBeforeSibling");}else{this.removeFromModel(_58);this.insertInModel(_59,_5c,"appendSibling");}}else{this.moveRowNM(_58,_59);}}}catch(e){$W.exception.printStackTrace(e);}};$W._a.bi.prototype.moveRowNM=function(_5d,_5e){["WebSquare.uiplugin.list.moveRowNM"];try{this.moveRowRender(_5d,_5e);var _5f=this.listRowObjArr.splice(_5d,1)[0];this.listRowObjArr.splice(_5e,0,_5f);this.onListRowObjArrChanged();}catch(e){$W.exception.printStackTrace(e);}};$W._a.bi.prototype.moveRowRender=function(_60,_61){["WebSquare.uiplugin.list.moveRowRender"];try{var _62=this.getChildNodes();var _63=_62.length;var _64=this.listRowObjArr[_60];if(_60>_63||_61>_63){return;}if(_60>=0&&_61>=0){var _65=_62[_60];if(_62.length-1>_61&&_61>=0){var _66=(_61>_60)?_61+1:_61;this.render.insertBefore(_65,_62[_66]);}else{this.render.appendChild(_65);}}}catch(e){$W.exception.printStackTrace(e);}};$W._a.bi.prototype.getLength=function(){["WebSquare.uiplugin.list.getLength"];try{if(this.options.virtualized){return this.listRowObjArr?this.listRowObjArr.length:0;}else{return this.getChildNodes().length;}}catch(e){$W.exception.printStackTrace(e);}};$W._a.bi.prototype.getChildNodes=function(){["WebSquare.uiplugin.list.getChildNodes"];try{if(this.options.tagName=="dl"){var _67=[];for(var i=0;i<this.render.childNodes.length;i++){var _69=this.render.childNodes[i];if(_69.nodeType!="3"){_67.push(_69);}}return _67;}else{return this.render.getElementsByTagName(this.listRowInfo.tagName);}}catch(e){$W.exception.printStackTrace(e);}};$W._a.bi.prototype.getRenderByUniqueId=function(_6a){["WebSquare.uiplugin.list.getRenderByUniqueId"];try{for(var i=0;i<this.getLength();i++){var _6c=this.render.childNodes[i];if(_6c.getAttribute("unique_id")==_6a){return _6c;}}}catch(e){$W.exception.printStackTrace(e);}};$W._a.bi.prototype.getCellData=function(_6d,_6e){["WebSquare.uiplugin.list.getCellData"];try{var _6f=this.getLength();if(typeof _6d=="string"||!((_6f>_6d&&_6d>=0))){return;}var _70;if(typeof _6e=="string"){_70=_6e;}else{if(typeof _6e=="number"){_70=this.listColumnInfo[_6e].id;}}var _71=this.listRowObjArr[_6d];var _72=_71?_71[_70]:"";return _72;}catch(e){$W.exception.printStackTrace(e);}};$W._a.bi.prototype.setCellData=function(_73,_74,_75){["WebSquare.uiplugin.list.setCellData"];try{var _76=this.getLength();if(typeof _73=="string"||!(_76>_73&&_73>=0)){return;}var _77;var _78;if(typeof _74=="string"){_77=_74;for(var i=0;i<this.listColumnInfo.length;i++){if(_77==this.listColumnInfo[i].id){_78=i;break;}}_78;}else{if(typeof _74=="number"){_78=_74;_77=this.listColumnInfo[_74].id;}}var _7a;_7a=this.getCellData(_73,_77);if(this.options.nodeset){var _7b;var _7c;for(var i=0;i<this.listColumnInfo.length;i++){_7c=this.listColumnInfo[i];if(_77==_7c.id){_7b=_7c.ref;break;}}if(_7b){var _7d=$W._J.setInstanceValue(this.options.nodeset+"["+(_73+1)+"]/"+_7b,_75);if(_7a!==_75){this.fireOnchange();}}else{return;}}else{this.listRowObjArr[_73][_77]=_75;if(this.options.virtualized){this.setFirstRowIndex(this.firstListIndex);}else{var _7e=this.getChildNodes();var _7f=_7e[_73];var _80=this.listColumnInfo[_78].inputType;var _81=_7f.childNodes[_78];switch(_80){case "checkbox":_81.checked=$W._G.getBoolean(_75);break;case "text":_81.innerHTML=_75;break;case "button":_81.value=_75;break;default:break;}}}}catch(e){$W.exception.printStackTrace(e);}};$W._a.bi.prototype.getRowData=function(_82){["WebSquare.uiplugin.list.getRowData"];try{var _83=this.getLength();if(typeof _82=="string"||!(_83>_82&&_82>=0)){return;}var _84={};var _85=this.listRowObjArr[_82];for(key in _85){if(key!="unique_id"&&key!="render"){_84[key]=_85[key];}}return _84;}catch(e){$W.exception.printStackTrace(e);}};$W._a.bi.prototype.setRowData=function(_86,_87,_88){["WebSquare.uiplugin.list.getRowData"];try{var _89=this.getLength();if(typeof _86=="string"||!(_89>=_86&&_86>=0)||(typeof _87!="object")){return;}if(!_88){if(this.options.nodeset){this.insertRow(_89,_87);}else{this.insertRowNM(_89,_87);}return;}if(_87){if(this.options.nodeset){this.removeRow(_86);this.insertRow(_86,_87);}else{this.removeRowNM(_86);this.insertRowNM(_86,_87);}}}catch(e){$W.exception.printStackTrace(e);}};$W._a.bi.prototype.setXML=function(_8a,_8b){["WebSquare.uiplugin.list.prototype.setXML"];if(_8a==null){$W.logger.printLog("[WebSquare.uiplugin.list.setXML] XML is null["+this.id+"]");return;}return;};$W._a.bi.prototype.setJSON=function(_8c,_8d){["WebSquare.uiplugin.list.prototype.setJSON"];try{if(_8c==null){$W.logger.printLog("[WebSquare.uiplugin.list.setJSON] data is null["+this.id+"]");return;}if(_8d&&_8c.length==0){return;}var _8e;var _8f="";if(!_8d){this.listRowObjArr=[];}if(this.options.virtualized){if(_8d){_8e=tthis.listRowObjArr.length;}else{_8e=0;}this.listRowObjArr=this.listRowObjArr.concat(_8c);this.adjustRender();this.setFirstRowIndex(_8e);}else{for(var i=0;i<_8c.length;i++){if(_8d){_8e=this.getLength+i;}else{_8e=i;}if(this.options.nodeset){this.insertRow(_8e,_8c[i]);}else{if(_8d){this.insertRowNM(_8e,_8c[i]);}else{_8f=_8f+this.insertRenderStr(_8c[i]);}}}if(!_8d){this.render.innerHTML=_8f;}}}catch(e){$W.exception.printStackTrace(e);}};$W._a.bi.prototype.toggleCheckbox=function(_91,_92){["WebSquare.uiplugin.list.toggleCheckbox"];try{var _93=this.getLength();if(typeof _91=="string"||typeof _92=="number"){return;}if(_93>_91&&_91>=0){var _94=$W._G.getBoolean(this.getCellData(_91,_92));this.setCellData(_91,_92,!_94);}}catch(e){$W.exception.printStackTrace(e);}};$W._a.bi.prototype.createItemNode=function(_95,_96){["WebSquare.uiplugin.list.createItemNode"];try{if(_95){var _97;switch(_95.inputType){case "checkbox":_97=document.createElement("input");_97.setAttribute("type","checkbox");_97.setAttribute("itemid",_95.id);_97.setAttribute("class","w2list_listColumn w2list_listColumn_checkbox "+_95["class"]);_96=$W._G.getBoolean(_96);if(_96===true){_97.setAttribute("checked","checked");}break;case "text":_97=document.createElement("span");_97.setAttribute("itemid",_95.id);_97.setAttribute("class","w2list_listColumn w2list_listColumn_text "+_95["class"]);if(_95.check_id){_97.setAttribute("check_id",_95.check_id);}if(_96!=undefined&&_96!=null){_97.innerHTML=_96.toString();}break;case "button":_97=document.createElement("input");_97.setAttribute("type","button");_97.setAttribute("itemid",_95.id);_97.setAttribute("class","w2list_listColumn w2list_listColumn_button "+_95["class"]);if(_96){_97.setAttribute("value",_96);}break;default:break;}if(_97&&_95.style){_97.setAttribute("style",_95.style);}return _97;}}catch(e){$W.exception.printStackTrace(e);}};$W._a.bi.prototype.createItemNodeStr=function(_98,_99){["WebSquare.uiplugin.list.createItemNode"];try{if(_98){var _9a;switch(_98.inputType){case "checkbox":_9a="<input type='checkbox' class='"+"w2list_listColumn w2list_listColumn_checkbox "+_98["class"]+"'"+"' style='"+_98.style+"'";_99=$W._G.getBoolean(_99);if(_99===true){_9a+=" checked='checked'";}_9a+="/>";break;case "text":_9a="<span class='"+"w2list_listColumn w2list_listColumn_text "+_98["class"]+"' style='"+_98.style+"'"+">";if(_99!=undefined&&_99!=null){_9a+=$W._B.encode(_99.toString());}_9a+="</span>";break;case "button":_9a="<input type='button' class='"+"w2list_listColumn w2list_listColumn_button "+_98["class"]+"'"+"' style='"+_98.style+"'";_99=$W._G.getBoolean(_99);if(_99){_9a+=" value='checked'";}_9a+="/>";break;}return _9a;}}catch(e){$W.exception.printStackTrace(e);}};$W._a.bi.prototype.getAllData=function(){["WebSquare.uiplugin.list.prototype.getAllData"];try{if(this.options.virtualized){return this.listRowObjArr;}else{var _9b=[];var _9c=this.getLength();for(var i=0;i<_9c;i++){var _9e=this.getRowData(i);_9b.push(_9e);}return _9b;}}catch(e){$W.exception.printStackTrace(e);}};$W._a.bi.prototype.createXMLByObj=function(_9f){["WebSquare.uiplugin.list.createXMLByObj"];try{var _a0=this.options.nodeset.split("/");var _a1=_a0[_a0.length-1];var _a2=$W._B.parse("<"+_a1+" />").documentElement;if(_9f["unique_id"]){$W._B.setAttribute(_a2,"unique_id",_9f["unique_id"]);}else{$W._B.setAttribute(_a2,"unique_id",this.id+"_"+this.uniqueIdSequence);this.uniqueIdSequence++;}for(var i=0;i<this.listColumnInfo.length;i++){var _a4=this.listColumnInfo[i].ref;var _a5=_a4.lastIndexOf("/");if(_a5>0){var _a6=_a4.substring(0,_a5);var _a7=_a4.substring(_a5+1);var _a8=_a7.match(/[@'"()=]/i).length>0;if(_a8){var _a9=$W._B.createNode(_a2,_a6,false);var _aa=_9f[this.listColumnInfo[i].id];if(!_aa){_aa=this.listColumnInfo[i].value;}_a7=_a7.replace(/[@'"()=]/i,"");$W._B.setAttribute(_a9,_a7,_aa);}else{$W._B.createNode(_a2,_a4,false);}}else{var _ab=this.listColumnInfo[i].ref.replace(/[@'"()=]/i,"");var _aa=_9f[this.listColumnInfo[i].id];if(!_aa){_aa=this.listColumnInfo[i].value;}$W._B.setAttribute(_a2,_ab,_aa);}}return _a2;}catch(e){$W.exception.printStackTrace(e);}};$W._a.bi.prototype.createRenderByObj=function(_ac,_ad){["WebSquare.uiplugin.list.createRenderByObj"];try{if(_ac){if(!_ac["unique_id"]){_ac["unique_id"]=this.id+"_"+this.uniqueIdSequence;this.uniqueIdSequence++;}var _ae=document.createElement(this.listRowInfo.tagName);_ae.setAttribute("class","w2list_listRow "+this.listRowInfo["class"]);_ae.setAttribute("style",this.listRowInfo.style);_ae.setAttribute("unique_id",_ac["unique_id"]);if(this.listRowInfo.check_id){_ae.setAttribute("check_id",this.listRowInfo.check_id);}var _af;var _b0;var _b1;var _b2=[];for(var i=0;i<this.listColumnInfo.length;i++){var id=this.listColumnInfo[i].id;if(_ac[id]!=undefined||_ac[id]!=null){_af=_ac[id];}else{_af=this.listColumnInfo[i].value;_ac[this.listColumnInfo[i].id]=this.listColumnInfo[i].value;}_b1=this.listColumnInfo[i];_b0=this.createItemNode(_b1,_af);_b2[i]=_b0;}if(_b2.length!=0){for(var i=0;i<_b2.length;i++){if(_b2[i]){_ae.appendChild(_b2[i]);}}}if(this.options.virtualized){if(_ad){_ae.style.backgroundColor=this.options.selectedCellColor;}else{_ae.style.backgroundColor="";}}}return _ae;}catch(e){$W.exception.printStackTrace(e);}};$W._a.bi.prototype.createObjByXML=function(_b5){["WebSquare.uiplugin.list.createObjByXML"];try{var _b6;var _b7;var _b8;var _b9={};for(var j=0;j<this.listColumnInfo.length;j++){_b6=this.listColumnInfo[j];_b7=_b6.value;_b8=$W._B.getValue(_b5,_b6.ref);if(_b8!=""){_b7=_b8;}_b9[_b6.id]=_b7;}_b9["unique_id"]=_b5.getAttribute("unique_id");return _b9;}catch(e){$W.exception.printStackTrace(e);}};$W._a.bi.prototype.handleClickEvent=function(e){["WebSquare.uiplugin.list.handleClickEvent"];try{if(this.options.virtualized){var _bc="";var _bd;var _be;var _bf;var _c0=this.getElementById(this.id+"_items_main");var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match(null,this.id)||it.match(null,_c0.id)){break;}if(it.match("w2list_listRow")){if(_bc==""){_bc="w2list_listRow";}var _c2=it.getElement();_bd=_c2.getAttribute("unique_id");if(this.options.labelCheck){_bf=_c2.getAttribute("check_id");}break;}else{if(it.match("w2list_listColumn_checkbox")){_bc="w2list_listColumn_checkbox";var _c2=it.getElement();_be=_c2.getAttribute("itemid");}else{if(it.match("w2list_listColumn_text")){_bc="w2list_listColumn_text";var _c2=it.getElement();_be=_c2.getAttribute("itemid");if(this.options.labelCheck){_bf=_c2.getAttribute("check_id");}}else{if(it.match("w2list_listColumn_button")){_bc="w2list_listColumn_button";var _c2=it.getElement();_be=_c2.getAttribute("itemid");}}}}}it=null;if(_bc!=""&&_bd){for(var i=0;i<this.listRowObjArr.length;i++){if(this.listRowObjArr[i]["unique_id"]==_bd){switch(_bc){case "w2list_listRow":$W._c.fireEvent(this,"onrowclick",i);if(this.options.labelCheck){this.toggleCheckbox(i,_bf);}break;case "w2list_listColumn_text":if(this.options.labelCheck){this.toggleCheckbox(i,_bf);}break;case "w2list_listColumn_checkbox":this.toggleCheckbox(i,_be);break;default:break;}this.selectedIndex=i;break;}}}this.setFirstRowIndex(this.firstListIndex,true);}else{var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match(null,this.id)){break;}if(it.match("w2list_listRow")){var _c4;var _c2=it.getElement();for(var i=0;i<this.listRowObjArr.length;i++){if(this.getRenderByUniqueId(this.listRowObjArr[i]["unique_id"])==_c2){_c4=i;$W._c.fireEvent(this,"onrowclick",_c4);return;}}}if(it.match("w2list_listColumn_checkbox")){var _c4;var _c5;var _c2=it.getElement();for(var i=0;i<this.listRowObjArr.length;i++){for(var j=0;j<this.listColumnInfo.length;j++){if(this.getRenderByUniqueId(this.listRowObjArr[i]["unique_id"])&&this.getRenderByUniqueId(this.listRowObjArr[i]["unique_id"]).childNodes[j]==_c2){_c4=i;itemId=this.listColumnInfo[j].id;this.toggleCheckbox(_c4,itemId);return;}}}}if(it.match("w2list_listColumn_text")){}if(it.match("w2list_listColumn_button")){}}it=null;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bi.prototype.fireOnchange=function(){["WebSquare.uiplugin.list.fireOnchange"];try{$W._c.fireEvent(this,"onchange");}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bi.prototype.handleMouseoverEvent=function(e){["WebSquare.uiplugin.list.handleMouseoverEvent"];try{var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match(null,this.id)){break;}if(it.match("w2list_listRow")){this.addClass(it.getElement(),"w2list_listRow_over");}}it=null;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bi.prototype.handleMouseoutEvent=function(e){["WebSquare.uiplugin.list.handleMouseoutEvent"];try{var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match(null,this.id)){break;}if(it.match("w2list_listRow")){this.removeClass(it.getElement(),"w2list_listRow_over");}}it=null;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bi.prototype.handleMousewheelEvent=function(e){["WebSquare.uiplugin.list.handleMousewheelEvent"];try{$W._c.stopEvent(e);var _cc=e.wheelDelta;if($W._G.isFF()||$W._G.isIEAllVersion(11)){_cc=e.deltaY*-1;}if($W._G.isIEAllVersion()){_cc=_cc*1/40;}_cc*=-1;var _cd=Math.floor(_cc/30*this.options.visibleRowNum);var _ce=this.firstListIndex+_cd;this.setFirstRowIndex(_ce);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bi.prototype.handleKeydownEvent=function(e){["WebSquare.uiplugin.list.handleKeydownEvent"];try{if(this.options.virtualized){var _d0=(e.charCode)?e.charCode:e.keyCode;if(_d0==38){var _d1=this.firstListIndex?this.firstListIndex:0;if(this.selectedIndex!=undefined){this.selectedIndex--;if(this.selectedIndex<0){this.selectedIndex=0;}if(this.selectedIndex<this.firstListIndex||this.selectedIndex>this.firstListIndex+(this.options.visibleRowNum-1)){_d1=this.selectedIndex;}}else{_d1--;}this.setFirstRowIndex(_d1);}else{if(_d0==40){var _d1=this.firstListIndex?this.firstListIndex:0;if(this.selectedIndex!=undefined){this.selectedIndex++;if(this.selectedIndex>=this.listRowObjArr.length){this.selectedIndex=this.listRowObjArr.length-1;}if(this.selectedIndex<this.firstListIndex||this.selectedIndex>this.firstListIndex+(this.options.visibleRowNum-1)){_d1=this.selectedIndex-(this.options.visibleRowNum-1);}}else{_d1++;}this.setFirstRowIndex(_d1);}}}}catch(ex){$W.exception.printStackTrace(ex,null,this);}};$W._a.bi.prototype.handleDragEvent=function(e){["WebSquare.uiplugin.list.handleDragEvent"];var it=this.event.getTargetIterator(e);while(it.next()){if(it.match("w2list_listRow")){if(!this.options.sortable){return;}it.getElement().style.cursor="pointer";$W._G.emptySelection();var _d4=this.id;var _d5;var _d6=it.getElement();var _d7=this.getChildNodes();for(var i=0;i<_d7.length;i++){if(_d7[i]==_d6){_d5=i;break;}}var _d9=this;$W._K.gDragManager.activate(e,_d6,{id:this.id+"_drag",className:"w2list w2list_listRow w2list_drag",contents:this.options.detachMessage||" detached item ",delay:15,detachIdx:_d5,detachListId:_d4,applyMousePosition:true,onDrop:function(_da,_db,x,y,dx,dy,e){var _e1=false;var _e2;var _e3;var _e4;var _e5;var _e6=this.detachIdx;var _e7=this.detachListId;var _e8=_d9;var _e9=null;if(this.isMobile){_e9=new $W.targetIterator(document.elementFromPoint(e.changedTouches[0].clientX,e.changedTouches[0].clientY));e.preventDefault();}else{_e9=_d9.event.getTargetIterator(e);}while(_e9.next()){if(_e9.match("w2list_listRow")){_e1=true;_e5=_e9.getElement();var _ea=_e5.parentNode.childNodes;for(var i=0;i<_ea.length;i++){if(_ea[i]==_e5){_e4=i;break;}}}if(_e9.match("w2list")){_e1=true;var _ec=_e9.getElement();_e3=_ec.id;_e2=$W._G.getComponentById(_e3);break;}if(_e9.match(null,null,"body")){return;}}if(_e1){var _ed=false;if(typeof _e5!="object"||typeof _e4!="number"){_ed=true;_e5=_da;_e4=(_e2.getLength()==0)?0:_e2.getLength();}if(_e7==_e3){_e4=_ed?_e4-1:_e4;if(_e6!=_e4){if(_e8.options.nodeset){_e8.moveRow(_e6,_e4);}else{_e8.moveRowNM(_e6,_e4);}}}else{var _ee=_e8.listRowObjArr[_e6];var _ef=_ee;if(_e8.options.nodeset){_e8.removeRow(_e6);}else{_e8.removeRowNM(_e6);}delete _ef["unique_id"];if(_e2.options.nodeset){_e2.insertRow(_e4,_ef);}else{_e2.insertRowNM(_e4,_ef);}}}}});return;}}};$W._a.bi.prototype.getMaxItemWidth=function(e){["WebSquare.uiplugin.list.getMaxItemWidth"];try{var _f1=0;for(var i=0;i<this.render.childNodes.length;i++){var _f3=0;var _f4=this.render.childNodes[i];for(var j=0;j<_f4.childNodes.length;j++){_f3+=$W._H.getSize(_f4.childNodes[j],"width");}if(_f3>_f1){_f1=_f3;}}return _f1+10;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bi.prototype.setFirstRowIndex=function(_f6,_f7){["WebSquare.uiplugin.list.getMaxItemWidth"];try{_f6=Math.max(0,Math.min(this.listRowObjArr.length-this.options.visibleRowNum,_f6));this.firstListIndex=_f6;if(this.getAllData().length>0){if(!_f7){this.adjustScrollYThumb(_f6);}for(var i=0;i<Math.min(this.options.visibleRowNum,this.listRowObjArr.length);i++){this.fastDrawRawData(i,_f6+i);}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bi.prototype.adjustRender=function(){var _f9=this.options.rowHeight;this.render.style.height=(_f9*Math.min(this.listRowObjArr.length,this.options.visibleRowNum))+"px";var _fa=this.getElementById(this.id+"_main");var _fb=this.getElementById(this.id+"_scroll_main");var _fc=this.listRowObjArr.length>this.options.visibleRowNum;if(_fc){_fa.style.paddingRight="12px";_fb.style.width="12px";_fb.style.display="block";}else{_fa.style.paddingRight="0";_fb.style.width="0";_fb.style.display="none";}this.onListRowObjArrChanged();};$W._a.bi.prototype.adjustScrollYThumb=function(_fd){if(this.options.virtualized){var _fe=this.getElementById(this.id+"_scroll_thumb");var _ff=this.getElementById(this.id+"_scroll_track");var _100=this.listRowObjArr.length-this.options.visibleRowNum;if(_fd>_100){_fe.style.top=(_ff.offsetHeight-_ff.offsetHeight)+"px";}else{var _101=(_ff.offsetHeight-_fe.offsetHeight)/_100;if(isNaN(_101)){_101=0;}_fe.style.top=(_fd*_101)+"px";}}};$W._a.bi.prototype.fastDrawRawData=function(_102,_103){var _104=this.getElementById(this.id+"_items_main");if(_104.children.length>_102){var _105=_104.children[_102];if(this.selectedIndex===_103){_105.style.backgroundColor=this.options.selectedCellColor;}else{_105.style.backgroundColor="";}var _106=this.listRowObjArr[_103];if(!_106["unique_id"]){_106["unique_id"]=this.id+"_"+this.uniqueIdSequence;this.uniqueIdSequence++;}_104.children[_102].setAttribute("unique_id",_106["unique_id"]);for(var i=0;i<this.listColumnInfo.length;i++){var id=this.listColumnInfo[i].id;if(_106[id]!=undefined||_106[id]!=null){value=_106[id];}else{value=this.listColumnInfo[i].value;_106[this.listColumnInfo[i].id]=this.listColumnInfo[i].value;}var _109=this.listColumnInfo[i];this.updateItemNode(_109,value,_102,i);}}else{var _10a=this.createRenderByObj(this.listRowObjArr[_103],this.selectedIndex===_103);_104.appendChild(_10a);}};$W._a.bi.prototype.updateItemNode=function(_10b,_10c,_10d,_10e){["WebSquare.uiplugin.list.updateItemNode"];try{if(_10b){var _10f=this.getElementById(this.id+"_items_main").children[_10d].children[_10e];switch(_10b.inputType){case "checkbox":_10c=$W._G.getBoolean(_10c);if(_10c===true){_10f.checked=true;}else{_10f.checked=false;}break;case "text":if(_10c!=undefined&&_10c!=null){_10f.innerHTML=_10c.toString();}break;case "button":if(_10c){_10f.setAttribute("value",_10c);}break;default:break;}}}catch(e){$W.exception.printStackTrace(e);}};$W._a.bi.prototype.saveState=function(_110){["WebSquare.uiplugin.list.saveState"];try{if(_110===undefined||_110===null){return;}_110=_110.toString();if(!this.state){this.state={};}this.state[_110]={selectedIndex:this.selectedIndex,firstListIndex:this.firstListIndex};}catch(e){$W.exception.printStackTrace(e);}};$W._a.bi.prototype.loadState=function(_111){["WebSquare.uiplugin.list.saveState"];try{if(_111===undefined||_111===null){return;}_111=_111.toString();if(!this.state){this.state={};}if(this.state[_111]){this.selectedIndex=this.state[_111].selectedIndex;this.firstListIndex=this.state[_111].firstListIndex;}else{this.selectedIndex=undefined;this.firstListIndex=0;}this.setFirstRowIndex(this.firstListIndex);}catch(e){$W.exception.printStackTrace(e);}};$W._a.bi.prototype.onListRowObjArrChanged=function(){["WebSquare.uiplugin.list.prototype.onListRowObjArrChanged"];try{if(this.options.virtualized){var _112=this.getElementById(this.id+"_scroll_thumb");var _113=this.getElementById(this.id+"_scroll_track");if(this.options.visibleRowNum>=this.listRowObjArr.length){_112.style.height="100%";}else{var _114=_113.offsetHeight*(this.options.visibleRowNum/this.listRowObjArr.length);if(_114<28){_114=28;}_114=_114.toString()+"px";_112.style.height=_114;}}}catch(e){$W.exception.printStackTrace(e);}};;WebSquare.uiplugin.list=$W._a.bi;requires("uiplugin.selectbox");requires("uiplugin/helper/dateHelper.js");requires("engine/formatter.js");$W._a._u=function(id,_2,_3){["WebSquare.uiplugin.calendar"];$W._t.call(this,id,_2,_3);};$W.extend($W._a._u.prototype,$W._t.prototype);$W.extend($W._a._u.prototype,$W._n.prototype);$W._a._u.prototype.defaultOptions={pluginType:"uiplugin.calendar",pluginName:"calendar",userEvents:["ondateselect","onconfirm","oncancel","onchange","onviewchange"],systemEvents:["onclick","ondblclick"],useConfig:true,dateFormat:"",delimiter:"",calendarClass:"class1",monthNames:"1\uc6d4,2\uc6d4,3\uc6d4,4\uc6d4,5\uc6d4,6\uc6d4,7\uc6d4,8\uc6d4,9\uc6d4,10\uc6d4,11\uc6d4,12\uc6d4",yearSuffix:"\ub144",calendarValueType:"yearMonthDate",wmode:false,holiday:"",holidayRef:"",keepFocusSelect:false,minYear:1978,maxYear:2030,serverSync:false,useUnlimitedYear:true,initValue:"",cancleButtonShow:false,cancelButtonShow:false,footerDiv:false,title:"",summary:"",caption:"",focusOnOuterDiv:false,renderType:"component",pickerType:"selectbox",backlink:"",useYearSelect:true,useMonthSelect:true,displayFormat:"",visibleRowNum:5,weekStartsOn:0,focusOnStart:true,displayHrMinSec:false,skipConfirm:false,skipConfirmOnly:false,topLayout:false,disableBeforeToday:false,disableAfterToday:false};$W._a._u.prototype.initialize=function(_4){["WebSquare.uiplugin.calendar.initialize"];try{this.options.cancleButtonShow=this.options.cancleButtonShow||this.options.cancelButtonShow;if(this.options.calendarValueType=="yearMonthDateTime"){this.options.dateFormat=this.options.dateFormat||"yyyyMMddHHmm";}else{if(this.options.calendarValueType=="yearMonthDateHour"){this.options.dateFormat=this.options.dateFormat||"yyyyMMddHH";}else{if(this.options.calendarValueType=="yearMonthDate"){this.options.dateFormat=this.options.dateFormat||"yyyyMMdd";}else{if(this.options.calendarValueType=="yearMonth"){this.options.dateFormat=this.options.dateFormat||"yyyyMM";}else{if(this.options.calendarValueType=="yearMonthDateTimeSec"){this.options.dateFormat=this.options.dateFormat||"yyyyMMddHHmmSS";}}}}}if(!this.options.displayFormat){if(this.options.delimiter){this.options.displayFormat="yyyy"+this.options.delimiter+"MM";}else{this.options.displayFormat="yyyy/MM";}if(this.options.calendarValueType=="yearMonthDate"||this.options.calendarValueType=="yearMonthDateHour"||this.options.calendarValueType=="yearMonthDateTime"||this.options.calendarValueType=="yearMonthDateTimeSec"){if(this.options.delimiter){this.options.displayFormat+=this.options.delimiter+"dd";}else{this.options.displayFormat+="/dd";}}}this.todayHelper=new $W._a._D(this.options.serverSync);this.selectedDateHelper=new $W._a._D(this.options.serverSync);if(this.options.pickerType=="dynamic"){this.pickerSelectedDateHelper=new $W._a._D(this.options.serverSync);var _5=this.pickerSelectedDateHelper.getYear();var _6=[];var _7=this.options.maxYear-this.options.minYear;var _8=this.options.minYear;var _9;var _a=Math.ceil(_7/12);for(var i=0;i<_a;i++){var _c=[];if(i==_a-1){_9=this.options.maxYear;}else{_9=_8+11;}_c.push(_8);_c.push(_9);_6.push(_c);if(_5>=_8&&_5<=_9){this.pickerSelectedDateHelper.selectedDecadeIndex=i;this.pickerSelectedDateHelper.startDecadeIndex=Math.floor(i/12)*12;}_8+=12;}this.pickerSelectedDateHelper.decadeArr=_6;}this.holidayXpath();this.formatter=$W._C.createFormatter("date",this.options.dateFormat,null,null,null,null,this.scope_id);this.objCellClass={};if(this.options.calendarValueType=="yearMonth"){if(this.options.outsideClickEvent){this.options.calendarClass="classYearMonth_outsideClick_"+this.options.calendarClass;}else{this.options.calendarClass="classYearMonth_"+this.options.calendarClass;}}if(this.options.pickerType=="dynamic"){this.dynamicCalendarStatus="day";}this.minYear=this.options.minYear;this.maxYear=this.options.maxYear;if($W._G.isMobile()){this.options.renderType="native";}this.dayIndexArray=[0,1,2,3,4,5,6];this.shiftDay=0-this.options.weekStartsOn;this.shiftDayIndex(this.shiftDay);if(this.options.renderType=="native"){this.selectboxYearHTMLstr=[];if(this.options.useYearSelect){this.selectboxYearHTMLstr.push("<select id='"+this.id+"_selectbox_year' class='w2calendar_selectbox_year_native' title='"+$W._m.getMessage("Calendar_select_year")+"' >");for(var _d=this.minYear;_d<this.maxYear+1;_d++){this.selectboxYearHTMLstr.push("\t<option value='"+_d+" '>"+_d+this.options.yearSuffix+"</option>");}this.selectboxYearHTMLstr.push("</select>");}else{var _e=new $W._a._r(this.id+"_selectbox_year",{className:"w2calendar_selectbox_year_native",labelWidthAuto:false,wmode:this.options.wmode,readOnly:true,visibleRowNum:this.options.visibleRowNum});for(var _d=this.minYear;_d<this.maxYear+1;_d++){_e.addItemArr(_d+this.options.yearSuffix,_d);}if(this.options.useUnlimitedYear!==false){_e.addItemArr("9999"+this.options.yearSuffix,"9999");}this.addControl(_e);}this.selectboxMonthHTMLstr=[];if(this.options.useMonthSelect){this.selectboxMonthHTMLstr.push("<select id='"+this.id+"_selectbox_month' class='w2calendar_selectbox_month_native'  title='"+$W._m.getMessage("Calendar_select_month")+"' >");var _f=this.options.monthNames.split(",");for(var _10=0;_10<12;_10++){var _11=_10+1;var _12=_f[_10]||(_10+1);this.selectboxMonthHTMLstr.push("\t<option value='"+_11+" '>"+_12+"</option>");}this.selectboxMonthHTMLstr.push("</select>");}else{var _13=new $W._a._r(this.id+"_selectbox_month",{className:"w2calendar_selectbox_month_native",labelWidthAuto:false,wmode:this.options.wmode,readOnly:true,visibleRowNum:this.options.visibleRowNum});var _f=this.options.monthNames.split(",");for(var _10=0;_10<12;_10++){var _12=_f[_10]||(_10+1);_13.addItemArr(_12,_10+1);}this.addControl(_13);}this.selectboxHourHTMLstr=[];this.selectboxHourHTMLstr.push("<select id='"+this.id+"_selectbox_hour' class='w2calendar_selectbox_hour_mobile'  title='"+$W._m.getMessage("Calendar_select_hour")+"' onchange='WebSquare.event.fireEvent(WebSquare.util.getComponentById(\""+this.id+"\"),\"onchange\");'>");for(var _14=0;_14<24;_14++){this.selectboxHourHTMLstr.push("\t<option value='"+_14+" '>"+_14+"</option>");}this.selectboxHourHTMLstr.push("</select>");this.selectboxMinuteHTMLstr=[];this.selectboxMinuteHTMLstr.push("<select id='"+this.id+"_selectbox_minute' class='w2calendar_selectbox_minute_mobile' title='"+$W._m.getMessage("Calendar_select_minute")+"' onchange='WebSquare.event.fireEvent(WebSquare.util.getComponentById(\""+this.id+"\"),\"onchange\");'>");for(var _15=0;_15<60;_15++){this.selectboxMinuteHTMLstr.push("\t<option value='"+_15+" '>"+_15+"</option>");}this.selectboxMinuteHTMLstr.push("</select>");this.selectboxSecondHTMLstr=[];this.selectboxSecondHTMLstr.push("<select id='"+this.id+"_selectbox_second' class='w2calendar_selectbox_second_mobile' title='"+$W._m.getMessage("Calendar_select_second")+"' onchange='WebSquare.event.fireEvent(WebSquare.util.getComponentById(\""+this.id+"\"),\"onchange\");'>");for(var _16=0;_16<60;_16++){this.selectboxSecondHTMLstr.push("\t<option value='"+_16+" '>"+_16+"</option>");}this.selectboxSecondHTMLstr.push("</select>");}else{var _e=new $W._a._r(this.id+"_selectbox_year",{className:"w2calendar_selectbox_year",labelWidthAuto:false,submenuSize:"auto",wmode:this.options.wmode,title:$W._m.getMessage("Calendar_select_year"),readOnly:!this.options.useYearSelect,visibleRowNum:this.options.visibleRowNum});var _13=new $W._a._r(this.id+"_selectbox_month",{className:"w2calendar_selectbox_month",labelWidthAuto:false,submenuSize:"auto",wmode:this.options.wmode,title:$W._m.getMessage("Calendar_select_month"),readOnly:!this.options.useMonthSelect,visibleRowNum:this.options.visibleRowNum});for(var _d=this.minYear;_d<this.maxYear+1;_d++){_e.addItemArr(_d+this.options.yearSuffix,_d);}if(this.options.useUnlimitedYear!==false){_e.addItemArr("9999"+this.options.yearSuffix,"9999");}var _f=this.options.monthNames.split(",");for(var _10=0;_10<12;_10++){var _12=_f[_10]||(_10+1);_13.addItemArr(_12,_10+1);}_e.options.xmlEvents=[{name:"onchange",action:"script",param:{handler:function(e){this.getParent().gotoYear(this.getValue());}}}];_e.options.xmlEvents=[{name:"onviewchange",action:"script",param:{handler:function(e){var _19=this.getParent();var _1a=_19.getValue();_19.gotoYear(this.getValue());var _1b=_19.getValue();if(_1a!=_1b){$W._c.fireEvent(_19,"onviewchange",{"oldValue":_1a,"newValue":_1b});}var _1a=e.oldValue;var _1b=e.newValue;if(_1a!=_1b){$W._c.fireEvent(_19,"onyearselect",{"oldValue":_1a,"newValue":_1b});}}}}];_13.options.xmlEvents=[{name:"onchange",action:"script",param:{handler:function(e){this.getParent().gotoMonth(this.getValue());}}}];var _1d=this;_13.options.xmlEvents=[{name:"onviewchange",action:"script",param:{handler:function(e){var _1f=this.getParent();var _20=_1f.getValue();_1f.gotoMonth(this.getValue());var _21=_1f.getValue();if(_20!=_21){$W._c.fireEvent(_1f,"onviewchange",{"oldValue":_20,"newValue":_21});}if(_1d.options.skipConfirm||_1d.options.skipConfirmOnly){$W._c.fireEvent(_1d,"onconfirm");}var _20=e.oldValue;var _21=e.newValue;if(_20!=_21){$W._c.fireEvent(_1f,"onmonthselect",{"oldValue":_20,"newValue":_21});}}}},{name:"onclose",action:"script",param:{handler:function(e){var _23=this.getParent();var _24=_23.getValue();_23.gotoMonth(this.getValue());var _25=_23.getValue();if(_24==_25){if(_1d.options.skipConfirm||_1d.options.skipConfirmOnly){$W._c.fireEvent(_1d,"onconfirm");}}}}}];this.addControl(_e);this.addControl(_13);if(this.options.calendarValueType=="yearMonthDateHour"||this.options.calendarValueType=="yearMonthDateTime"||this.options.calendarValueType=="yearMonthDateTimeSec"){if(this.options.displayHrMinSec){function _setSelectedIndexNM(idx,_27){try{var _28=$W.idCache[_27];idx=parseInt(idx,10);if(isNaN(idx)){return false;}if(idx<0||idx>=_28.getItemCount()){if(_28.options.emptyItem){_28.selectedIndex=-1;_28.dom.label.innerHTML="";if(_28.itemTable){_28.itemTable.setSelectedIndex(0);}return true;}else{return false;}}_28.selectedIndex=idx;var _29=_28.itemArr[idx].label+"";if(_29.indexOf("&")>-1){_29=_29.wq_replaceAll("&","&amp;");}if(_28.options.escape){_29=$W._B._encode(_29);}if(_28.dom.label){_29=parseInt(_29,10);_28.dom.label.innerHTML=_29;}if(_28.itemTable){_28.render.setAttribute("aria-activedescendant",_28.itemTable.id+"_"+idx);}return true;}catch(e){$W.exception.printStackTrace(e,null,_28);}}var _2a=new $W._a._r(this.id+"_selectbox_hour",{className:"w2calendar_selectbox_hour",submenuSize:"auto",labelWidthAuto:false,title:$W._m.getMessage("Calendar_select_hour"),visibleRowNum:this.options.visibleRowNum,displayMode:"1",delimiter:"$blank"});for(var _14=0;_14<24;_14++){_2a.addItem(_14,$W._m.getMessage("Calendar_valuetype_hour"));}_2a.options.xmlEvents=[{name:"onchange",action:"script",param:{handler:function(e){$W._c.fireEvent(this.getParent(),"onchange");}}}];_2a.setSelectedIndexNM=function(idx){return _setSelectedIndexNM(idx,this.uuid);};this.addControl(_2a);if(this.options.calendarValueType=="yearMonthDateTime"||this.options.calendarValueType=="yearMonthDateTimeSec"){var _2d=new $W._a._r(this.id+"_selectbox_minute",{className:"w2calendar_selectbox_minute",submenuSize:"auto",labelWidthAuto:false,title:$W._m.getMessage("Calendar_select_minute"),visibleRowNum:this.options.visibleRowNum,displayMode:"1",delimiter:"$blank"});for(var _15=0;_15<60;_15++){_2d.addItem(_15,$W._m.getMessage("Calendar_valuetype_minute"));}_2d.options.xmlEvents=[{name:"onchange",action:"script",param:{handler:function(e){$W._c.fireEvent(this.getParent(),"onchange");}}}];_2d.setSelectedIndexNM=function(idx){return _setSelectedIndexNM(idx,this.uuid);};this.addControl(_2d);if(this.options.calendarValueType=="yearMonthDateTimeSec"){var _30=new $W._a._r(this.id+"_selectbox_second",{className:"w2calendar_selectbox_second",submenuSize:"auto",labelWidthAuto:false,title:$W._m.getMessage("Calendar_select_second"),visibleRowNum:this.options.visibleRowNum,displayMode:"1",delimiter:"$blank"});for(var _16=0;_16<60;_16++){_30.addItem(_16,$W._m.getMessage("Calendar_valuetype_second"));}_30.options.xmlEvents=[{name:"onchange",action:"script",param:{handler:function(e){$W._c.fireEvent(this.getParent(),"onchange");}}}];_30.setSelectedIndexNM=function(idx){return _setSelectedIndexNM(idx,this.uuid);};this.addControl(_30);}}}else{var _2a=new $W._a._r(this.id+"_selectbox_hour",{className:"w2calendar_selectbox_hour",submenuSize:"auto",labelWidthAuto:false,title:$W._m.getMessage("Calendar_select_hour"),visibleRowNum:this.options.visibleRowNum});for(var _14=0;_14<24;_14++){_2a.addItemArr(_14,_14);}_2a.options.xmlEvents=[{name:"onchange",action:"script",param:{handler:function(e){$W._c.fireEvent(this.getParent(),"onchange");}}}];this.addControl(_2a);if(this.options.calendarValueType=="yearMonthDateTime"||this.options.calendarValueType=="yearMonthDateTimeSec"){var _2d=new $W._a._r(this.id+"_selectbox_minute",{className:"w2calendar_selectbox_minute",submenuSize:"auto",labelWidthAuto:false,title:$W._m.getMessage("Calendar_select_minute"),visibleRowNum:this.options.visibleRowNum});for(var _15=0;_15<60;_15++){_2d.addItemArr(_15,_15);}_2d.options.xmlEvents=[{name:"onchange",action:"script",param:{handler:function(e){$W._c.fireEvent(this.getParent(),"onchange");}}}];this.addControl(_2d);if(this.options.calendarValueType=="yearMonthDateTimeSec"){var _30=new $W._a._r(this.id+"_selectbox_second",{className:"w2calendar_selectbox_second",submenuSize:"auto",labelWidthAuto:false,title:$W._m.getMessage("Calendar_select_second"),visibleRowNum:this.options.visibleRowNum});for(var _16=0;_16<60;_16++){_30.addItemArr(_16,_16);}_30.options.xmlEvents=[{name:"onchange",action:"script",param:{handler:function(e){$W._c.fireEvent(this.getParent(),"onchange");}}}];this.addControl(_30);}}}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._u.prototype.toHTML=function(){["WebSquare.uiplugin.calendar.toHTML"];try{var _36=[];var _37=(this.options.title=="")?"":"title='"+this.options.title+"'";var _38=(this.options.style=="")?"":"style='"+this.options.style+"'";var _39=(!this.options.focusOnOuterDiv)?"":"tabIndex='0'";_36.push("<div id='"+this.id+"' name='"+this.id+"' "+_38+" class='w2calendar w2calendar_"+this.options.calendarClass+" "+this.options.className+"' role='calendar' "+_37+" "+_39+">");_36.push("<div class='w2calendar_wrap'>");if(this.options.pickerType=="dynamic"){_36.push("<div class='w2calendar_picker_header'>");_36.push("<div id='"+this.id+"_picker_header_last_entity' class='w2calendar_picker_header_last_entity' role='button' tabindex='0' title=''></div>");_36.push("<div id='"+this.id+"_picker_header_dynamic_entity' class='w2calendar_picker_header_dynamic_entity' role='button' tabindex='0' title=''></div>");_36.push("<div id='"+this.id+"_picker_header_next_entity' class='w2calendar_picker_header_next_entity' role='button' tabindex='0' title=''></div>");_36.push("</div>");}else{_36.push("<div class='w2calendar_header'>");if(this.options.renderType=="native"){_36.push("<button id='"+this.id+"_last_year' class='w2calendar_header_last_year'>"+$W._m.getMessage("Calendar_previous_year")+"</button>");_36.push("<button class='w2calendar_header_last_month' >"+$W._m.getMessage("Calendar_previous_month")+"</button>");}else{_36.push("<div id='"+this.id+"_last_year' name='"+this.id+"_last_year' class='w2calendar_header_last_year' role='button' tabindex='0' title='"+$W._m.getMessage("Calendar_previous_year")+"'></div>");_36.push("<div class='w2calendar_header_last_month' role='button' tabindex='0' title='"+$W._m.getMessage("Calendar_previous_month")+"'></div>");}if(this.options.renderType=="native"){_36.push(this.options.useYearSelect?this.selectboxYearHTMLstr.join(""):this.getChild(this.id+"_selectbox_year").toHTML());_36.push(this.options.useMonthSelect?this.selectboxMonthHTMLstr.join(""):this.getChild(this.id+"_selectbox_month").toHTML());}else{_36.push(this.getChild(this.id+"_selectbox_year").toHTML());_36.push(this.getChild(this.id+"_selectbox_month").toHTML());}if(this.options.renderType=="native"){_36.push("<button class='w2calendar_header_next_month' >"+$W._m.getMessage("Calendar_next_month")+"</button>");_36.push("<button class='w2calendar_header_next_year' >"+$W._m.getMessage("Calendar_next_year")+"</button>");}else{_36.push("<div class='w2calendar_header_next_month' role='button' tabindex='0' title='"+$W._m.getMessage("Calendar_next_month")+"'></div>");_36.push("<div class='w2calendar_header_next_year' role='button' tabindex='0' title='"+$W._m.getMessage("Calendar_next_year")+"'></div>");}if($W._G.getBoolean(this.options.topLayout)==true){if(this.options.renderType=="native"){_36.push("<td><button class='w2calendar_go_today'>"+$W._m.getMessage("Calendar_today")+"</button></td>");}else{_36.push("<td><div class='w2calendar_go_today' role='button' title='"+$W._m.getMessage("Calendar_today")+"' tabindex='0'></div></td>");}if(this.options.cancleButtonShow==true){_36.push("<td class='w2calendar_blank' ></td>");if(this.options.renderType=="native"){_36.push("<td><a href='#"+this.options.backlink+"' id='"+this.id+"_backlink' class='w2calendar_date_cancel' >"+$W._m.getMessage("Calendar_cancel")+"</a></td>");}else{_36.push("<td><div class='w2calendar_date_cancel' role='button' tabindex='0' title='"+$W._m.getMessage("Calendar_cancel")+"' ></div></td>");}}}if(this.options.calendarValueType=="yearMonth"&&!this.options.outsideClickEvent){if(!this.options.skipConfirm||this.options.skipConfirmOnly){_36.push("<div class='w2calendar_header_btn_ok' role='button' tabindex='0' title='"+$W._m.getMessage("Calendar_ok")+"'></div>");}_36.push("<div class='w2calendar_header_btn_close' role='button' tabindex='0' title='"+$W._m.getMessage("Calendar_close")+"'></div>");}_36.push("</div>");}if(this.options.pickerType=="dynamic"){var _3a="calendar period";_36.push("<div id='"+this.id+"_picker_content' class='w2calendar_picker_content' style='display:none;'>");_36.push("<table class='w2calendar_picker_content_table' cellpadding='0' cellspacing='0' summary='"+_3a+"'>");_36.push("<tbody>");_36.push("<tr>");_36.push("<td>");for(var _3b=0;_3b<12;_3b++){_36.push("<div id='"+this.id+"_picker_cell_"+_3b+"' index='"+_3b+"' role='button' aria-pressed='false' class='w2calendar_picker_cell'>");_36.push("<span style='display: table-cell; vertical-align: middle;'></span>");_36.push("</div>");}_36.push("</td>");_36.push("</tr>");_36.push("</tbody>");_36.push("</table>");_36.push("</div>");}var _3a=(!this.options.summary)?$W._m.getMessage("Calendar_summary"):this.options.summary;var _3c=(!this.options.caption)?$W._m.getMessage("Calendar_caption"):this.options.caption;_36.push("<div id='"+this.id+"_content' class='w2calendar_content'>");_36.push("<table class='w2calendar_content_table' cellpadding='0' cellspacing='0' summary='"+_3a+"'>");_36.push("<caption>"+_3c+"</caption>");_36.push("<thead>");_36.push("<tr>");for(var i=0;i<7;i++){if(this.options.renderType=="native"){_36.push("<th class='w2calendar_col_day w2calendar_day"+this.dayIndexArray[i]+"' scope='col'>"+$W._m.getMessage("Calendar_weekdaynames_"+this.dayIndexArray[i])+"</th>");}else{_36.push("<td class='w2calendar_col_day'><div class='w2calendar_day w2calendar_day"+this.dayIndexArray[i]+"' title='"+$W._m.getMessage("Calendar_weekdaynames_"+this.dayIndexArray[i])+"' ></div></td>");}}_36.push("</tr>");_36.push("</thead>");var _3e=6;var _3f=7;for(var row=0;row<_3e;row++){_36.push("<tr>");for(var col=0;col<_3f;col++){_36.push("<td id='"+this.id+"_cell_"+row+"_"+col+"' role='button'  aria-pressed='false' ></td>");}_36.push("</tr>");}_36.push("</table>");_36.push("</div>");if(!this.options.footerDiv){_36.push("<table class='w2calendar_footer' cellpadding='0' cellspacing='0'><tr>");if(this.options.calendarValueType=="yearMonthDate"){if($W._G.getBoolean(this.options.topLayout)==false){if(this.options.renderType=="native"){_36.push("<td><button class='w2calendar_go_today'>"+$W._m.getMessage("Calendar_today")+"</button></td>");}else{_36.push("<td><div class='w2calendar_go_today' role='button' title='"+$W._m.getMessage("Calendar_today")+"' tabindex='0'></div></td>");}}_36.push("<td><div id='"+this.id+"_currentDate"+"' class='w2calendar_footer_date'></div></td>");if(this.options.cancleButtonShow==true&&$W._G.getBoolean(this.options.topLayout)==false){_36.push("<td class='w2calendar_blank' ></td>");if(this.options.renderType=="native"){_36.push("<td><a href='#"+this.options.backlink+"' id='"+this.id+"_backlink' class='w2calendar_date_cancel' >"+$W._m.getMessage("Calendar_cancel")+"</a></td>");}else{_36.push("<td><div class='w2calendar_date_cancel' role='button' tabindex='0' title='"+$W._m.getMessage("Calendar_cancel")+"' ></div></td>");}}}else{if(this.options.calendarValueType=="yearMonthDateHour"){if(this.options.renderType=="native"){_36.push("<td><div id='"+this.id+"_currentDate"+"' class='w2calendar_footer_date_mobile'></div></td>");_36.push("<td>"+this.selectboxHourHTMLstr.join("")+"</td>");}else{_36.push("<td><div id='"+this.id+"_currentDate"+"' class='w2calendar_footer_date'></div></td>");_36.push("<td>"+this.getChild(this.id+"_selectbox_hour").toHTML()+"</td>");}if(!this.options.skipConfirm||this.options.skipConfirmOnly){_36.push("<td><div class='w2calendar_time_confirm' tabindex='0' title='"+$W._m.getMessage("Calendar_ok")+"' ></div></td>");}_36.push("<td><div class='w2calendar_time_cancel' tabindex='0' title='"+$W._m.getMessage("Calendar_cancel")+"' ></div></td>");}else{if(this.options.calendarValueType=="yearMonthDateTime"){if(this.options.renderType=="native"){_36.push("<td><div id='"+this.id+"_currentDate"+"' class='w2calendar_footer_date_mobile'></div></td>");_36.push("<td>"+this.selectboxHourHTMLstr.join("")+"</td>");_36.push("<td> : </td>");_36.push("<td>"+this.selectboxMinuteHTMLstr.join("")+"</td>");}else{_36.push("<td><div id='"+this.id+"_currentDate"+"' class='w2calendar_footer_date'></div></td>");_36.push("<td>"+this.getChild(this.id+"_selectbox_hour").toHTML()+"</td>");_36.push("<td> : </td>");_36.push("<td>"+this.getChild(this.id+"_selectbox_minute").toHTML()+"</td>");}if(!this.options.skipConfirm||this.options.skipConfirmOnly){_36.push("<td><div class='w2calendar_time_confirm' tabindex='0' title='"+$W._m.getMessage("Calendar_ok")+"' ></div></td>");}_36.push("<td><div class='w2calendar_time_cancel' tabindex='0' title='"+$W._m.getMessage("Calendar_cancel")+"' ></div></td>");}else{if(this.options.calendarValueType=="yearMonthDateTimeSec"){if(this.options.renderType=="native"){_36.push("<td><div id='"+this.id+"_currentDate"+"' class='w2calendar_footer_date_sec'></div></td>");_36.push("<td>"+this.selectboxHourHTMLstr.join("")+"</td>");_36.push("<td> : </td>");_36.push("<td>"+this.selectboxMinuteHTMLstr.join("")+"</td>");_36.push("<td> : </td>");_36.push("<td>"+this.selectboxSecondHTMLstr.join("")+"</td>");}else{_36.push("<td><div id='"+this.id+"_currentDate"+"' class='w2calendar_footer_date_sec'></div></td>");_36.push("<td><div class='w2calendar_go_today' role='button' title='"+$W._m.getMessage("Calendar_today")+"' ></div></td>");_36.push("<td>"+this.getChild(this.id+"_selectbox_hour").toHTML()+"</td>");_36.push("<td> : </td>");_36.push("<td>"+this.getChild(this.id+"_selectbox_minute").toHTML()+"</td>");_36.push("<td> : </td>");_36.push("<td>"+this.getChild(this.id+"_selectbox_second").toHTML()+"</td>");}if(!this.options.skipConfirm||this.options.skipConfirmOnly){_36.push("<td><div class='w2calendar_time_confirm' tabindex='0' title='"+$W._m.getMessage("Calendar_ok")+"' ></div></td>");}_36.push("<td><div class='w2calendar_time_cancel' tabindex='0' title='"+$W._m.getMessage("Calendar_cancel")+"' ></div></td>");}}}}_36.push("</tr></table>");}else{_36.push("<div class='w2calendar_footer'>");if(this.options.calendarValueType=="yearMonthDate"){if(this.options.renderType=="native"){_36.push("<button class='w2calendar_go_today w2calendar_go_today_div'>"+$W._m.getMessage("Calendar_today")+"</button>");}else{_36.push("<div class='w2calendar_go_today w2calendar_go_today_div' role='button' title='"+$W._m.getMessage("Calendar_today")+"' tabindex='0'></div>");}_36.push("<span id='"+this.id+"_currentDate"+"' class='w2calendar_footer_date w2calendar_footer_date_div'></span>");if(this.options.cancleButtonShow==true){_36.push("<div class='w2calendar_blank w2calendar_blank_div'></div>");if(this.options.renderType=="native"){_36.push("<a href='#"+this.options.backlink+"' id='"+this.id+"_backlink' class='w2calendar_date_cancel w2calendar_date_cancel_div'>"+$W._m.getMessage("Calendar_cancel")+"</a>");}else{_36.push("<div class='w2calendar_date_cancel w2calendar_date_cancel_div' role='button' tabindex='0' title='"+$W._m.getMessage("Calendar_cancel")+"' ></div>");}}}else{if(this.options.calendarValueType=="yearMonthDateHour"){if(this.options.renderType=="native"){_36.push("<span id='"+this.id+"_currentDate"+"' class='w2calendar_footer_date_mobile w2calendar_footer_date_mobile_div'></span>");_36.push("<div class='w2calendar_footer_hour_div'>"+this.selectboxHourHTMLstr.join("")+"</div>");_36.push("<a href='#"+this.options.backlink+"' class='w2calendar_time_confirm w2calendar_time_confirm_div' tabindex='0'>"+$W._m.getMessage("Calendar_ok")+"</a>");_36.push("<a href='#"+this.options.backlink+"' class='w2calendar_time_cancel w2calendar_time_cancel_div' tabindex='0'>"+$W._m.getMessage("Calendar_cancel")+"</a>");}else{_36.push("<span id='"+this.id+"_currentDate"+"' class='w2calendar_footer_date w2calendar_footer_date_div'></span>");_36.push("<div class='w2calendar_footer_hour_div'>"+this.getChild(this.id+"_selectbox_hour").toHTML()+"</div>");if(!this.options.skipConfirm||this.options.skipConfirmOnly){_36.push("<div class='w2calendar_time_confirm w2calendar_time_confirm_div' tabindex='0' title='"+$W._m.getMessage("Calendar_ok")+"' ></div>");}_36.push("<div class='w2calendar_time_cancel w2calendar_time_cancel_div' tabindex='0' title='"+$W._m.getMessage("Calendar_cancel")+"' ></div>");}}else{if(this.options.calendarValueType=="yearMonthDateTime"){if(this.options.renderType=="native"){_36.push("<span id='"+this.id+"_currentDate"+"' class='w2calendar_footer_date_mobile w2calendar_footer_date_mobile_div'></span>");_36.push("<div class='w2calendar_footer_hour_div'>"+this.selectboxHourHTMLstr.join("")+"</div>");_36.push("<span class='w2calendar_footer_colon'> : </span>");_36.push("<div class='w2calendar_footer_min_div'>"+this.selectboxMinuteHTMLstr.join("")+"</div>");_36.push("<a href='#"+this.options.backlink+"' class='w2calendar_time_confirm w2calendar_time_confirm_div' tabindex='0'>"+$W._m.getMessage("Calendar_ok")+"</a>");_36.push("<a href='#"+this.options.backlink+"' class='w2calendar_time_cancel w2calendar_time_cancel_div' tabindex='0'>"+$W._m.getMessage("Calendar_cancel")+"</a>");}else{_36.push("<span id='"+this.id+"_currentDate"+"' class='w2calendar_footer_date w2calendar_footer_date_div'></span>");_36.push("<div class='w2calendar_footer_hour_div'>"+this.getChild(this.id+"_selectbox_hour").toHTML()+"</div>");_36.push("<span class='w2calendar_footer_colon'> : </span>");_36.push("<div class='w2calendar_footer_min_div'>"+this.getChild(this.id+"_selectbox_minute").toHTML()+"</div>");if(!this.options.skipConfirm||this.options.skipConfirmOnly){_36.push("<div class='w2calendar_time_confirm w2calendar_time_confirm_div' tabindex='0' title='"+$W._m.getMessage("Calendar_ok")+"' ></div>");}_36.push("<div class='w2calendar_time_cancel w2calendar_time_cancel_div' tabindex='0' title='"+$W._m.getMessage("Calendar_cancel")+"' ></div>");}}else{if(this.options.calendarValueType=="yearMonthDateTimeSec"){if(this.options.renderType=="native"){_36.push("<td><div id='"+this.id+"_currentDate"+"' class='w2calendar_footer_date_sec'></div></td>");_36.push("<div class='w2calendar_footer_hour_div'>"+this.selectboxHourHTMLstr.join("")+"</div>");_36.push("<span class='w2calendar_footer_colon'> : </span>");_36.push("<div class='w2calendar_footer_min_div'>"+this.selectboxMinuteHTMLstr.join("")+"</div>");_36.push("<span class='w2calendar_footer_colon'> : </span>");_36.push("<div class='w2calendar_footer_sec_div'>"+this.selectboxSecondHTMLstr.join("")+"</div>");_36.push("<a href='#"+this.options.backlink+"' class='w2calendar_time_confirm w2calendar_time_confirm_div' tabindex='0'>"+$W._m.getMessage("Calendar_ok")+"</a>");_36.push("<a href='#"+this.options.backlink+"' class='w2calendar_time_cancel w2calendar_time_cancel_div' tabindex='0'>"+$W._m.getMessage("Calendar_cancel")+"</a>");}else{_36.push("<td><div id='"+this.id+"_currentDate"+"' class='w2calendar_footer_date_sec'></div></td>");_36.push("<div class='w2calendar_go_today w2calendar_go_today_div' role='button' title='"+$W._m.getMessage("Calendar_today")+"' tabindex='0'></div>");_36.push("<div class='w2calendar_footer_hour_div'>"+this.getChild(this.id+"_selectbox_hour").toHTML()+"</div>");_36.push("<span class='w2calendar_footer_colon'> : </span>");_36.push("<div class='w2calendar_footer_min_div'>"+this.getChild(this.id+"_selectbox_minute").toHTML()+"</div>");_36.push("<span class='w2calendar_footer_colon'> : </span>");_36.push("<div class='w2calendar_footer_sec_div'>"+this.getChild(this.id+"_selectbox_second").toHTML()+"</div>");if(!this.options.skipConfirm||this.options.skipConfirmOnly){_36.push("<div class='w2calendar_time_confirm w2calendar_time_confirm_div' tabindex='0' title='"+$W._m.getMessage("Calendar_ok")+"' ></div>");}_36.push("<div class='w2calendar_time_cancel w2calendar_time_cancel_div' tabindex='0' title='"+$W._m.getMessage("Calendar_cancel")+"' ></div>");}}}}}_36.push("</div>");}_36.push("</div></div>");return _36.join("");}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._u.prototype.setPreAction=function(){try{this.render.style.width="";this.render.style.height="";this.dom.content=document.getElementById(this.id+"_content");this.dom.currentDate=document.getElementById(this.id+"_currentDate");this.dom.selectboxYear=document.getElementById(this.id+"_selectbox_year");this.dom.selectboxMonth=document.getElementById(this.id+"_selectbox_month");this.dom.selectboxHour=document.getElementById(this.id+"_selectbox_hour");this.dom.selectboxMinute=document.getElementById(this.id+"_selectbox_minute");this.dom.selectboxSecond=document.getElementById(this.id+"_selectbox_second");if(this.options.pickerType=="dynamic"){this.dom.pickerLastEntity=document.getElementById(this.id+"_picker_header_last_entity");this.dom.pickerDynamicEntity=document.getElementById(this.id+"_picker_header_dynamic_entity");this.dom.pickerNextEntity=document.getElementById(this.id+"_picker_header_next_entity");this.dom.pickerContent=document.getElementById(this.id+"_picker_content");this.dom.pickerCells=[];for(var i=0;i<12;i++){this.dom.pickerCells.push(document.getElementById(this.id+"_picker_cell_"+i));}var _43=this.pickerSelectedDateHelper.getYear();var _44=this.pickerSelectedDateHelper.getMonth();var _45=this.options.monthNames.split(",");this.dom.pickerDynamicEntity.innerHTML=_45[_44-1]+" "+_43+this.options.yearSuffix;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._u.prototype.setAction=function(){["WebSquare.uiplugin.calendar.setAction"];try{this.refresh();if($W._G.isMobile()){this.event.addListener(this.render,"ontouchstart",this.event.bindAsEventListener(this,function(e){$W._c.stopPropagation(e);}));}else{this.event.addListener(this.render,"onmousedown",this.event.bindAsEventListener(this,function(e){$W._c.stopPropagation(e);}));}this.event.addListener(this.render,"onclick",this.event.bindAsEventListener(this,this.handleClickEvent));this.event.addListener(this.render,"onmouseover",this.event.bindAsEventListener(this,this.handleMouseoverEvent));this.event.addListener(this.render,"onmouseout",this.event.bindAsEventListener(this,this.handleMouseoutEvent));this.event.addListener(this.render,"onkeydown",this.event.bindAsEventListener(this,this.handleKeydownEvent));this.event.addListener(this.render,"onfocus",this.event.bindAsEventListener(this,this.handleFocusEvent));if(this.options.pickerType!="dynamic"){this.event.addListener2(this.dom.selectboxYear,"onchange",this.event.bindAsEventListener(this,this.selectboxYearEvent));this.event.addListener2(this.dom.selectboxMonth,"onchange",this.event.bindAsEventListener(this,this.selectboxMonthEvent));this.event.addListener2(this.dom.selectboxYear,"onmousewheel",this.event.bindAsEventListener(this,function(e){$W._c.stopPropagation(e);}));this.event.addListener2(this.dom.selectboxMonth,"onmousewheel",this.event.bindAsEventListener(this,function(e){$W._c.stopPropagation(e);}));if(this.dom.selectboxHour){this.event.addListener2(this.dom.selectboxHour,"onmousewheel",this.event.bindAsEventListener(this,function(e){$W._c.stopPropagation(e);}));}if(this.dom.selectboxMinute){this.event.addListener2(this.dom.selectboxMinute,"onmousewheel",this.event.bindAsEventListener(this,function(e){$W._c.stopPropagation(e);}));}if(this.dom.selectboxSecond){this.event.addListener2(this.dom.selectboxSecond,"onmousewheel",this.event.bindAsEventListener(this,function(e){$W._c.stopPropagation(e);}));}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._u.prototype.selectboxYearEvent=function(e){this.gotoYear(e.srcElement?e.srcElement.value:e.originalTarget.value);};$W._a._u.prototype.selectboxMonthEvent=function(e){this.gotoMonth(e.srcElement?e.srcElement.value:e.originalTarget.value);};$W._a._u.prototype.refresh=function(){["WebSquare.uiplugin.calendar.refresh"];try{this.holidayXpath();this.updateCalendar();if(this.modelControl.isBinded()){var _4f=this.getValue();var _50=this.modelControl.getData();if(_50){this.selectedDateHelper.setDateAllByString(_50);this.setSelectedDay(this.selectedDateHelper.getDate());if(this.dom.currentDate){this.dom.currentDate.innerHTML=this.selectedDateHelper.getFormatDateAll(this.options.displayFormat);}if(_4f!=this.getValue()){$W._c.fireEvent(this,"onchange");}}}if(this.options.calendarValueType!="yearMonth"){this.dom.currentDate.innerHTML=this.selectedDateHelper.getFormatDateAll(this.options.displayFormat);if(!$W._G.isMobile()&&this.getStyle("display")!="none"){for(var row=0;row<6;row++){for(var col=0;col<7;col++){var _53=this.getElementById(this.id+"_cell_"+row+"_"+col);if(!_53){continue;}var _54=_53;if(this.options.renderType=="native"&&!$W._G.isMobile()){_54=_53.getElementsByTagName("button")[0];if(_54==undefined){_54=_53;}}if(this.__hasClass(_53,"w2calendar_selected")){if(this.options.renderType=="native"){if(this.options.keepFocusSelect==false){try{if(this.options.focusOnStart){_53.firstChild.focus();}}catch(e){}}}else{try{_53.setAttribute("tabIndex","0");if(this.options.focusOnStart){_53.focus();}}catch(e){}}_54.setAttribute("title",$W._m.getMessage("Calendar_select_title"));}else{_53.setAttribute("tabIndex","-1");_54.removeAttribute("title");}}}}}this.broadcast({"linkedDataList":["refresh"]});}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._u.prototype.updateCalendar=function(){["WebSquare.uiplugin.calendar.updateCalendar"];try{var _55=this.selectedDateHelper.getYear();var _56=this.selectedDateHelper.getMonth();var _57=this.selectedDateHelper.getDate();var _58=this.selectedDateHelper.getHour();var _59=this.selectedDateHelper.getMinute();var _5a=this.selectedDateHelper.getSecond();if(this.options.renderType=="native"){if(this.options.useYearSelect){for(var i=0;i<this.dom.selectboxYear.options.length;i++){if(this.dom.selectboxYear.options[i].value==_55){this.dom.selectboxYear.options[i].selected=true;}}}else{this.getChild(this.id+"_selectbox_year").setValue(_55);}if(this.options.useMonthSelect){for(var i=0;i<this.dom.selectboxMonth.options.length;i++){if(this.dom.selectboxMonth.options[i].value==_56){this.dom.selectboxMonth.options[i].selected=true;}}}else{this.getChild(this.id+"_selectbox_month").setValue(_56);}}else{this.getChild(this.id+"_selectbox_year").setValue(_55);this.getChild(this.id+"_selectbox_month").setValue(_56);if(this.options.calendarValueType=="yearMonthDateHour"&&this.options.serverSync){this.getChild(this.id+"_selectbox_hour").setValue(_58);}else{if(this.options.calendarValueType=="yearMonthDateTime"&&this.options.serverSync){this.getChild(this.id+"_selectbox_hour").setValue(_58);this.getChild(this.id+"_selectbox_minute").setValue(_59);}else{if(this.options.calendarValueType=="yearMonthDateTimeSec"&&this.options.serverSync){this.getChild(this.id+"_selectbox_hour").setValue(_58);this.getChild(this.id+"_selectbox_minute").setValue(_59);this.getChild(this.id+"_selectbox_second").setValue(_5a);}}}}var _5c=this.selectedDateHelper.getMonthCount();var _5d=this.selectedDateHelper.getFirstDay();_5d=_5d+(this.shiftDay);if(_5d<=0){_5d+=7;}var _5e=6;var _5f=7;var _60=0;var _61=new $W._a._D();_61.setDateAllByString(this.selectedDateHelper.getDateAll());_61.setLastMonth();var _62=_61.getMonthCount();var _63=_56==1?_55-1:_55;var _64=_56==1?12:_56-1;var _65=_56==12?_55+1:_55;var _66=_56==12?1:_56+1;for(var row=0;row<_5e;row++){for(var col=0;col<_5f;col++){_60++;var _69=_60-_5d;var day=(_5d+_69-1)%7;var _6b="";var _6c=this.getElementById(this.id+"_cell_"+row+"_"+col);if(!_6c){continue;}var _6d=this.options.disableBeforeDate;var _6e=this.options.disableAfterDate;if(_6d){if(_6d.length==8){var _6f=parseInt(_6d.substr(0,4))||0;var _70=parseInt(_6d.substr(4,2))||0;var _71=parseInt(_6d.substr(6,2))||0;}var _72=(_6f>this.selectedDateHelper.getYear()||_6f==this.selectedDateHelper.getYear()&&_70>this.selectedDateHelper.getMonth()||_6f==this.selectedDateHelper.getYear()&&_70==this.selectedDateHelper.getMonth()&&_71>_69);}else{var _72=this.options.disableBeforeToday&&(this.todayHelper.getYear()>this.selectedDateHelper.getYear()||this.todayHelper.getYear()==this.selectedDateHelper.getYear()&&this.todayHelper.getMonth()>this.selectedDateHelper.getMonth()||this.todayHelper.getYear()==this.selectedDateHelper.getYear()&&this.todayHelper.getMonth()==this.selectedDateHelper.getMonth()&&this.todayHelper.getDate()>_69);}if(_6e){if(_6e.length==8){var _6f=parseInt(_6e.substr(0,4))||0;var _70=parseInt(_6e.substr(4,2))||0;var _71=parseInt(_6e.substr(6,2))||0;}var _73=(_6f<this.selectedDateHelper.getYear()||_6f==this.selectedDateHelper.getYear()&&_70<this.selectedDateHelper.getMonth()||_6f==this.selectedDateHelper.getYear()&&_70==this.selectedDateHelper.getMonth()&&_71<_69);}else{var _73=this.options.disableAfterToday&&(this.todayHelper.getYear()<this.selectedDateHelper.getYear()||this.todayHelper.getYear()==this.selectedDateHelper.getYear()&&this.todayHelper.getMonth()<this.selectedDateHelper.getMonth()||this.todayHelper.getYear()==this.selectedDateHelper.getYear()&&this.todayHelper.getMonth()==this.selectedDateHelper.getMonth()&&this.todayHelper.getDate()<_69);}if(_69<1){_6b=_62+_69;_6c.innerHTML=_6b;if(_72||_73){_6c.className="w2calendar_col_date w2calendar_date w2calendar_date_lastmonth w2calendar_date_disable";}else{_6c.className="w2calendar_col_date w2calendar_date w2calendar_date_off w2calendar_date_lastmonth";}_6c.setAttribute("index",_6b);_6c.setAttribute("title",$W._m.getMessage("Calendar_tooltip",_63,(_64<10?"0"+_64:_64),_6b));if(this.options.renderType!="native"){_6c.setAttribute("tabindex","-1");}}else{if(_69>_5c){_6b=_69-_5c;_6c.innerHTML=_6b;if(_73||_72){_6c.className="w2calendar_col_date w2calendar_date w2calendar_date_nextmonth w2calendar_date_disable";}else{_6c.className="w2calendar_col_date w2calendar_date w2calendar_date_off w2calendar_date_nextmonth";}_6c.setAttribute("index",_6b);_6c.setAttribute("title",$W._m.getMessage("Calendar_tooltip",_65,(_66<10?"0"+_66:_66),_6b));if(this.options.renderType!="native"){_6c.setAttribute("tabindex","-1");}}else{_6b=_69;var _74;if(_69<10){_74="0"+_6b;}else{_74=_6b;}var _75;if(_56<10){_75="0"+_56;}else{_75=_56;}var _76=_55+""+_75+""+_74;var _77="*"+""+_75+""+_74;if(_57==_69){if(this.options.holiday.indexOf(_76)!=-1){_6c.className="w2calendar_col_date w2calendar_date_on w2calendar_date_"+_69+" w2calendar_holiday"+" w2calendar_selected "+(this.objCellClass[_76]||"");}else{_6c.className="w2calendar_col_date w2calendar_date_on w2calendar_date_"+_69+" w2calendar_day_"+this.dayIndexArray[day]+" w2calendar_selected "+(this.objCellClass[_76]||"");}_6c.setAttribute("aria-pressed","true");if(this.options.renderType!="native"){_6c.setAttribute("tabindex","0");}}else{if(this.options.holiday.indexOf(_76)!=-1||this.options.holiday.indexOf(_77)!=-1){_6c.className="w2calendar_col_date w2calendar_date_on w2calendar_date_"+_69+" w2calendar_holiday "+(this.objCellClass[_76]||"");}else{_6c.className="w2calendar_col_date w2calendar_date_on w2calendar_date_"+_69+" w2calendar_day_"+this.dayIndexArray[day]+" "+(this.objCellClass[_76]||"");}if(this.options.renderType!="native"){_6c.setAttribute("tabindex","-1");}}if(_72||_73){_6c.className="w2calendar_col_date w2calendar_date_"+_69+" w2calendar_date_disable";}if(this.options.renderType=="native"&&!$W._G.isMobile()){_6c.innerHTML="<button>"+_6b+"</button>";}else{_6c.innerHTML=_6b;}_6c.setAttribute("title","");_6c.setAttribute("index",_69);}}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._u.prototype.holidayXpath=function(){["WebSquare.uiplugin.calendar.holidayXpath"];try{if(this.options.holidayRef!=""){if(this.options.holidayRef.match("data:")){var _78=this.options.holidayRef.slice("data:".length).split(".");var _79=_78[0];var _7a=this.modelControl.getDataComp(_79);if(_7a&&_7a.getRowCount()>0){var _7b=_7a.getColData(_78[1]).join(" ").replace(/[^0-9*\s*]/g,"");if(this.options.holiday.indexOf(_7b)==-1){this.options.holiday=this.options.holiday+" "+_7b;}}}else{var _7c=$W._J.findInstanceNodes(this.options.holidayRef);for(var i=0;i<_7c.length;i++){var _7e=$W._B.serialize(_7c[i]);if(this.options.holiday.indexOf(_7e)==-1){this.options.holiday=this.options.holiday+" "+_7e;}}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._u.prototype.gotoCalendar=function(_7f){["WebSquare.uiplugin.calendar.gotoCalendar"];try{if($W._G.isNull(_7f)){return;}_7f=_7f.toString();var _80=this.getValue();this.selectedDateHelper.setDateAllByString(_7f);var _81=this.selectedDateHelper.getYear();if(_81<this.minYear){this._gotoYear(this.minYear,false);}if(this.options.renderType=="native"){if(_81>this.maxYear){this._gotoYear(this.maxYear,false);}}else{if(_81>this.maxYear&&_81!=9999){this._gotoYear(this.maxYear,false);}}if(this.options.renderType=="native"&&_80.substring(0,6)==this.getValue().substring(0,6)){this.setSelectedDay(this.selectedDateHelper.getDate());if(this.dom.currentDate){this.dom.currentDate.innerHTML=this.selectedDateHelper.getFormatDateAll(this.options.displayFormat);}}else{this.refresh();}if(this.getValue()!=_80){$W._c.fireEvent(this,"onchange");}this.broadcast({"linkedDataList":["refresh"]});if(this.options.pickerType=="dynamic"){if(this.dynamicCalendarStatus!="day"){$W._H.setStyle(this.dom.content,"display","block");$W._H.setStyle(this.dom.pickerContent,"display","none");this.dynamicCalendarStatus="day";}this.pickerSelectedDateHelper.setDateAllByString(_7f);var _81=this.pickerSelectedDateHelper.getYear();var _82=this.pickerSelectedDateHelper.getMonth();var _83=this.options.monthNames.split(",");this.dom.pickerDynamicEntity.innerHTML=_83[_82-1]+" "+_81+this.options.yearSuffix;for(var i=0;i<this.pickerSelectedDateHelper.decadeArr.length;i++){if(_81>=this.pickerSelectedDateHelper.decadeArr[i][0]&&_81<=this.pickerSelectedDateHelper.decadeArr[i][1]){this.pickerSelectedDateHelper.selectedDecadeIndex=i;this.pickerSelectedDateHelper.startDecadeIndex=Math.floor(i/12)*12;}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._u.prototype.gotoToday=function(){["WebSquare.uiplugin.calendar.gotoToday"];try{var _85=this.todayHelper.getYear();var _86=this.todayHelper.getMonth();var _87=this.todayHelper.getDate();this.gotoCalendar(this.getDateString(_85,_86,_87));}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._u.prototype.gotoNextYear=function(){["WebSquare.uiplugin.calendar.gotoNextYear"];try{var _88=this.getValue();this.selectedDateHelper.setNextYear();this.refresh();if(this.getValue()!=_88){$W._c.fireEvent(this,"onchange");}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._u.prototype.gotoNextMonth=function(){["WebSquare.uiplugin.calendar.gotoNextMonth"];try{var _89=this.getValue();this.selectedDateHelper.setNextMonth();this.refresh();if(this.getValue()!=_89){$W._c.fireEvent(this,"onchange");}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._u.prototype.gotoLastYear=function(){["WebSquare.uiplugin.calendar.gotoLastYear"];try{var _8a=this.getValue();this.selectedDateHelper.setLastYear();this.refresh();if(this.getValue()!=_8a){$W._c.fireEvent(this,"onchange");}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._u.prototype.gotoLastMonth=function(){["WebSquare.uiplugin.calendar.gotoLastMonth"];try{var _8b=this.getValue();this.selectedDateHelper.setLastMonth();this.refresh();if(this.getValue()!=_8b){$W._c.fireEvent(this,"onchange");}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._u.prototype.gotoYear=function(_8c){["WebSquare.uiplugin.calendar.gotoYear"];try{this._gotoYear(_8c,true);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._u.prototype._gotoYear=function(_8d,_8e){["WebSquare.uiplugin.calendar._gotoYear"];try{var _8e=_8e===undefined?true:_8e;var _8f=this.getValue();this.selectedDateHelper.setYear(_8d);this.selectedDateHelper._checkValidDate();this.refresh();if(this.getValue()!=_8f&&_8e){$W._c.fireEvent(this,"onchange");}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._u.prototype.gotoMonth=function(_90){["WebSquare.uiplugin.calendar.gotoMonth"];try{var _91=this.getValue();this.selectedDateHelper.setMonth(_90);this.selectedDateHelper._checkValidDate();this.refresh();if(this.getValue()!=_91){$W._c.fireEvent(this,"onchange");}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._u.prototype.gotoTime=function(_92,_93,_94){["WebSquare.uiplugin.calendar.gotoTime"];try{if(this.options.renderType=="native"){if(this.options.calendarValueType=="yearMonthDateHour"){var _95=this.dom.selectboxHour.value;this.dom.selectboxHour.value=parseInt(_92,10)+" ";if(this.dom.selectboxHour.value!=_95){$W._c.fireEvent(this,"onchange");}}else{if(this.options.calendarValueType=="yearMonthDateTime"){var _95=this.dom.selectboxHour.value+"_"+this.dom.selectboxMinute.value;this.dom.selectboxHour.value=parseInt(_92,10)+" ";this.dom.selectboxMinute.value=parseInt(_93,10)+" ";if((this.dom.selectboxHour.value+"_"+this.dom.selectboxMinute.value)!=_95){$W._c.fireEvent(this,"onchange");}}else{if(this.options.calendarValueType=="yearMonthDateTimeSec"){_95=this.dom.selectboxHour.value+"_"+this.dom.selectboxMinute.value+"_"+this.dom.selectboxSecond.value;this.dom.selectboxHour.value=parseInt(_92,10)+" ";this.dom.selectboxMinute.value=parseInt(_93,10)+" ";this.dom.selectboxSecond.value=parseInt(_94,10)+" ";if((this.dom.selectboxHour.value+"_"+this.dom.selectboxMinute.value+"_"+this.dom.selectboxSecond.value)!=_95){$W._c.fireEvent(this,"onchange");}}}}}else{var _96=this.getChild(this.id+"_selectbox_hour");var _97=this.getChild(this.id+"_selectbox_minute");var _98=this.getChild(this.id+"_selectbox_second");var _95=null;if(this.options.calendarValueType=="yearMonthDateHour"){_95=_96.getValue();_96.setValue(_92);if(_96.getValue()!=_95){$W._c.fireEvent(this,"onchange");}}else{if(this.options.calendarValueType=="yearMonthDateTime"){_95=_96.getValue()+"_"+_97.getValue();_96.setValue(_92);_97.setValue(_93);if((_96.getValue()+"_"+_97.getValue())!=_95){$W._c.fireEvent(this,"onchange");}}else{if(this.options.calendarValueType=="yearMonthDateTimeSec"){_95=_96.getValue()+"_"+_97.getValue()+"_"+_98.getValue();_96.setValue(_92);_97.setValue(_93);_98.setValue(_94);if((_96.getValue()+"_"+_97.getValue()+"_"+_98.getValue())!=_95){$W._c.fireEvent(this,"onchange");}}}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._u.prototype.getValue=function(){["WebSquare.uiplugin.calendar.getValue"];try{var _99="";if(this.options.calendarValueType=="yearMonthDate"){_99=this.getDate();}else{if(this.options.calendarValueType=="yearMonth"){_99=this.getDate();}else{if(this.options.calendarValueType=="yearMonthDateHour"||this.options.calendarValueType=="yearMonthDateTime"||this.options.calendarValueType=="yearMonthDateTimeSec"){_99=this.getDate()+""+this.getTime();}}}return _99;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._u.prototype.getDate=function(){["WebSquare.uiplugin.calendar.getDate"];try{var _9a="";if(this.options.calendarValueType=="yearMonthDate"){_9a=this.selectedDateHelper.getDateAll();}else{if(this.options.calendarValueType=="yearMonth"){var _9b=this.selectedDateHelper.getYear();var _9c=this.selectedDateHelper.getMonth();if(parseInt(_9c)<10){_9c="0"+_9c;}_9a=_9b+""+_9c;}else{if(this.options.calendarValueType=="yearMonthDateHour"||this.options.calendarValueType=="yearMonthDateTime"||this.options.calendarValueType=="yearMonthDateTimeSec"){_9a=this.selectedDateHelper.getDateAll();}}}return _9a;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._u.prototype.getTime=function(){["WebSquare.uiplugin.calendar.getTime"];try{var _9d="";if(this.options.calendarValueType=="yearMonthDateHour"){if(this.options.renderType=="native"){var _9e=this.dom.selectboxHour.value.wq_trim();}else{var _9e=this.getChild(this.id+"_selectbox_hour").getValue();}if(parseInt(_9e,10)<10){_9e="0"+_9e;}_9d=_9e+"";}else{if(this.options.calendarValueType=="yearMonthDateTime"){if(this.options.renderType=="native"){var _9e=this.dom.selectboxHour.value.wq_trim();var _9f=this.dom.selectboxMinute.value.wq_trim();}else{var _9e=this.getChild(this.id+"_selectbox_hour").getValue();var _9f=this.getChild(this.id+"_selectbox_minute").getValue();}if(parseInt(_9e,10)<10){_9e="0"+_9e;}if(parseInt(_9f,10)<10){_9f="0"+_9f;}_9d=_9e+""+_9f;}else{if(this.options.calendarValueType=="yearMonthDateTimeSec"){if(this.options.renderType=="native"){var _9e=this.dom.selectboxHour.value.wq_trim();var _9f=this.dom.selectboxMinute.value.wq_trim();var _a0=this.dom.selectboxSecond.value.wq_trim();}else{var _9e=this.getChild(this.id+"_selectbox_hour").getValue();var _9f=this.getChild(this.id+"_selectbox_minute").getValue();var _a0=this.getChild(this.id+"_selectbox_second").getValue();}if(parseInt(_9e,10)<10){_9e="0"+_9e;}if(parseInt(_9f,10)<10){_9f="0"+_9f;}if(parseInt(_a0,10)<10){_a0="0"+_a0;}_9d=_9e+""+_9f+""+_a0;}}}return _9d;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._u.prototype.getDateFormat=function(){["WebSquare.uiplugin.calendar.getDateFormat"];try{return this.options.dateFormat;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._u.prototype.getFormattedValue=function(){["WebSquare.uiplugin.calendar.getFormattedValue"];try{var _a1=this.getValue();if(this.options.calendarValueType=="yearMonthDate"){var fmt=this.getDateFormat()||"";if(fmt!=""){var _a3=_a1.substring(0,4);var _a4=_a1.substring(4,6);var day=_a1.substring(6);_a1=fmt.replace(/yyyy/gi,_a3);_a1=_a1.replace(/MM/g,_a4);_a1=_a1.replace(/dd/gi,day);}else{_a1=this.formatter.format(_a1);}}else{if(this.options.calendarValueType=="yearMonth"){var fmt=this.getDateFormat()||"";if(fmt!=""){var _a3=_a1.substring(0,4);var _a4=_a1.substring(4);_a1=fmt.replace(/yyyy/gi,_a3);_a1=_a1.replace(/MM/g,_a4);}else{_a1=this.formatter.format(_a1);}}else{if(this.options.calendarValueType=="yearMonthDateHour"){var fmt=this.getDateFormat()||"";if(fmt!=""){var _a3=_a1.substring(0,4);var _a4=_a1.substring(4,6);var day=_a1.substring(6,8);var _a6=_a1.substring(8,10);_a1=fmt.replace(/yyyy/gi,_a3);_a1=_a1.replace(/MM/g,_a4);_a1=_a1.replace(/dd/gi,day);_a1=_a1.replace(/HH/gi,_a6);}else{_a1=this.formatter.format(_a1);}}else{if(this.options.calendarValueType=="yearMonthDateTime"){var fmt=this.getDateFormat()||"";if(fmt!=""){var _a3=_a1.substring(0,4);var _a4=_a1.substring(4,6);var day=_a1.substring(6,8);var _a6=_a1.substring(8,10);var _a7=_a1.substring(10);_a1=fmt.replace(/yyyy/gi,_a3);_a1=_a1.replace(/MM/g,_a4);_a1=_a1.replace(/dd/gi,day);_a1=_a1.replace(/HH/gi,_a6);_a1=_a1.replace(/mm/g,_a7);}else{_a1=this.formatter.format(_a1);}}else{if(this.options.calendarValueType=="yearMonthDateTimeSec"){var fmt=this.getDateFormat()||"";if(fmt!=""){var _a3=_a1.substring(0,4);var _a4=_a1.substring(4,6);var day=_a1.substring(6,8);var _a6=_a1.substring(8,10);var _a7=_a1.substring(10,12);var _a8=_a1.substring(12);_a1=fmt.replace(/yyyy/gi,_a3);_a1=_a1.replace(/MM/g,_a4);_a1=_a1.replace(/dd/gi,day);_a1=_a1.replace(/HH/gi,_a6);_a1=_a1.replace(/mm/g,_a7);_a1=_a1.replace(/SS/gi,_a8);}else{_a1=this.formatter.format(_a1);}}}}}}return _a1;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._u.prototype.getSelectedDay=function(){["WebSquare.uiplugin.calendar.getSelectedDay"];try{var _a9;if(this.options.calendarValueType=="yearMonth"){_a9="";}else{_a9=this.selectedDateHelper.getDayStr(this.selectedDateHelper.getDay());}return _a9;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._u.prototype.setDateFormat=function(_aa){["WebSquare.uiplugin.calendar.setDateFormat"];try{if(this.options.calendarValueType=="yearMonthDate"){if(_aa.indexOf("HH")>0||_aa.indexOf("mm")>0||_aa.indexOf("SS")>0){$W.logger.printLog(this.id+"\uc758 calendarValueType\uc635\uc158\uc774 'yearMonthDate'\uc774\ubbc0\ub85c setDateFormat API\uc758 \uc778\uc790\ub85c \uc0ac\uc6a9\ud560 \uc218 \uc788\ub294 \ubb38\uc790\uc5f4\uc740 yyyy, MM, dd\uc785\ub2c8\ub2e4.");return;}}else{if(this.options.calendarValueType=="yearMonth"){if(_aa.indexOf("dd")>0||_aa.indexOf("HH")>0||_aa.indexOf("mm")>0||_aa.indexOf("SS")>0){$W.logger.printLog(this.id+"\uc758 calendarValueType\uc635\uc158\uc774 'yearMonth'\uc774\ubbc0\ub85c setDateFormat API\uc758 \uc778\uc790\ub85c \uc0ac\uc6a9\ud560 \uc218 \uc788\ub294 \ubb38\uc790\uc5f4\uc740 yyyy, MM\uc785\ub2c8\ub2e4.");return;}}else{if(this.options.calendarValueType=="yearMonthDateHour"){if(_aa.indexOf("mm")>0||_aa.indexOf("SS")>0){$W.logger.printLog(this.id+"\uc758 calendarValueType\uc635\uc158\uc774 'yearMonthDateHour'\uc774\ubbc0\ub85c setDateFormat API\uc758 \uc778\uc790\ub85c \uc0ac\uc6a9\ud560 \uc218 \uc788\ub294 \ubb38\uc790\uc5f4\uc740 yyyy, MM, dd, HH\uc785\ub2c8\ub2e4.");return;}}else{if(this.options.calendarValueType=="yearMonthDateTime"){if(_aa.indexOf("SS")>0){$W.logger.printLog(this.id+"\uc758 calendarValueType\uc635\uc158\uc774 'yearMonthDateTime'\uc774\ubbc0\ub85c setDateFormat API\uc758 \uc778\uc790\ub85c \uc0ac\uc6a9\ud560 \uc218 \uc788\ub294 \ubb38\uc790\uc5f4\uc740 yyyy, MM, dd, HH, mm\uc785\ub2c8\ub2e4.");return;}}else{if(this.options.calendarValueType=="yearMonthDateTimeSec"){}}}}}this.options.dateFormat=_aa;this.formatter.setMasking(_aa);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._u.prototype.setSkin=function(_ab){["WebSquare.uiplugin.calendar.setSkin"];try{if(_ab=="class1"||_ab=="class2"||_ab=="class3"||_ab=="class4"||_ab=="class5"){this.changeClass(this.render,"w2calendar_"+this.options.calendarClass,"w2calendar_"+_ab);this.options.calendarClass=_ab;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._u.prototype.setInitValue=function(_ac){["WebSquare.uiplugin.calendar.setInitValue"];try{if(this.options.initValue===""){this.gotoToday();}else{this.gotoCalendar(this.options.initValue);}if(_ac.fireEvent){var _ad=new Date(this.selectedDateHelper.getYear(),this.selectedDateHelper.getMonth()-1,this.selectedDateHelper.getDate());$W._c.fireEvent(this,"ondateselect",this.getFormattedValue(),_ad);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._u.prototype.updateYearSelect=function(_ae,_af){["WebSquare.uiplugin.calendar.updateYearSelect"];try{var _b0=this.getChild(this.id+"_selectbox_year");var _b1=_b0.getValue();if(_ae){this.options.minYear=_ae;this.minYear=_ae;}if(_af){this.options.maxYear=_af;this.maxYear=_af;}_b0.removeAll();_b0.itemTable=null;for(var _b2=this.options.minYear;_b2<this.options.maxYear+1;_b2++){_b0.addItemArr(_b2+this.options.yearSuffix,_b2);}if(this.options.useUnlimitedYear!==false){_b0.addItemArr("9999"+this.options.yearSuffix,"9999");}if(_b1<_ae||_b1>_af){if(_b1<_ae){_b0.setValue(_ae);this.gotoYear(_ae);}else{if(_b1>_af){_b0.setValue(_af);this.gotoYear(_af);}}var _b3=this.getFormattedValue();_b3=this.parentControl.validator.validateString(_b3);_b3=this.parentControl.sub_validator.validateString(_b3);if(this.parentControl.getValue()!=""){this.parentControl.setValue(_b3);}this.gotoCalendar(_b3);this.selectedDateHelper.setDateAll(_b3.substring(0,4),_b3.substring(4,6),_b3.substring(6,8),_b3.substring(8,10),_b3.substring(10,12),_b3.substring(12,14));}else{_b0.setValue(_b1);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._u.prototype.setDisabled=function(_b4){["WebSquare.uiplugin.calendar.getServerDate"];try{_b4=$W._G.getBoolean(_b4);this.options.disabled=_b4;this.setProperty("disabled",_b4);this.render.disabled=_b4;if(this.options.calendarValueType=="yearMonthDate"||this.options.calendarValueType=="yearMonth"){this.getChild(this.id+"_selectbox_year").setDisabled(_b4);this.getChild(this.id+"_selectbox_month").setDisabled(_b4);}else{if(this.options.calendarValueType=="yearMonthDateHour"){this.getChild(this.id+"_selectbox_year").setDisabled(_b4);this.getChild(this.id+"_selectbox_month").setDisabled(_b4);this.getChild(this.id+"_selectbox_hour").setDisabled(_b4);}else{if(this.options.calendarValueType=="yearMonthDateTime"){this.getChild(this.id+"_selectbox_year").setDisabled(_b4);this.getChild(this.id+"_selectbox_month").setDisabled(_b4);this.getChild(this.id+"_selectbox_hour").setDisabled(_b4);this.getChild(this.id+"_selectbox_minute").setDisabled(_b4);}else{if(this.options.calendarValueType=="yearMonthDateTimeSec"){this.getChild(this.id+"_selectbox_year").setDisabled(_b4);this.getChild(this.id+"_selectbox_month").setDisabled(_b4);this.getChild(this.id+"_selectbox_hour").setDisabled(_b4);this.getChild(this.id+"_selectbox_minute").setDisabled(_b4);this.getChild(this.id+"_selectbox_second").setDisabled(_b4);}}}}}catch(e){$W.exception.printStackTrace(e);}return _b4;};$W._a._u.prototype.handleFocusEvent=function(e){["WebSquare.uiplugin.calendar.handleFocusEvent"];try{var elm=e.srcElement?e.srcElement:e.originalTarget;if(elm==this.render){if(this.options.calendarValueType=="yearMonth"){var _b7=this.getElementById(this.id+"_selectbox_year");_b7.focus();return;}else{var row,col,cell;for(row=0;row<6;row++){for(col=0;col<7;col++){cell=this.getElementById(this.id+"_cell_"+row+"_"+col);if(this.__hasClass(cell,"w2calendar_selected")){if(this.options.renderType=="native"){if(this.options.keepFocusSelect==false){try{cell.firstChild.focus();}catch(e){}}}else{try{cell.focus();}catch(e){}}return;}}}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._u.prototype.handleKeydownEvent=function(e){["WebSquare.uiplugin.calendar.handleKeydownEvent"];try{var _ba=(e.charCode)?e.charCode:e.keyCode;if(!(_ba==13||_ba==37||_ba==38||_ba==39||_ba==40)){return;}if(_ba==13){this.handleClickEvent(e);return;}if(this.options.renderType=="native"){return;}var it=this.event.getTargetIterator(e,this.render);var elm,dayClicked=false;while(it.next()){elm=it.getElement();if(elm.nodeType==1&&elm.nodeName.toLowerCase()=="td"&&elm.getAttribute("index")){dayClicked=true;break;}}if(dayClicked==false){return;}var id=elm.id.substr((this.id+"_cell_").length);var _be=-1,focusedRow=-1;focusedRow=parseInt(id.substr(0,id.indexOf("_")),10);_be=parseInt(id.substr(id.indexOf("_")+1),10);if(_be<0||focusedRow<0){_be=focusedRow=0;}if(_ba==37){_be--;if(_be<0){if(focusedRow>0){_be=6;focusedRow--;}else{_be=0;}}}else{if(_ba==38){if(focusedRow>0){focusedRow--;}}else{if(_ba==39){_be++;if(_be>6){if(focusedRow<7){_be=0;focusedRow++;}else{_be=6;}}}else{if(_ba==40){if(focusedRow<7){focusedRow++;}}}}}cell=document.getElementById(this.id+"_cell_"+focusedRow+"_"+_be);if(cell==null){return;}elm.setAttribute("tabIndex",-1);cell.setAttribute("tabIndex",0);cell.focus();$W._c.stopEvent(e);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._u.prototype.setSelectedDay=function(_bf){["WebSquare.uiplugin.calendar.setSelectedDay"];try{for(var row=0;row<6;row++){for(var col=0;col<7;col++){var _c2=this.getElementById(this.id+"_cell_"+row+"_"+col);if(!_c2){continue;}if(!this.hasClass(_c2,"w2calendar_date_on")){continue;}var _c3=_c2;if(this.options.renderType=="native"&&!$W._G.isMobile()){_c3=_c2.getElementsByTagName("button")[0];if(_c3==undefined){_c3=_c2;}}if(_c2.getAttribute("index")==_bf){this.addClass(_c2,"w2calendar_selected");_c3.setAttribute("title",$W._m.getMessage("Calendar_select_title"));}else{this.removeClass(_c2,"w2calendar_selected");_c3.removeAttribute("title");}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._u.prototype.setFocus=function(_c4){["WebSquare.uiplugin.calendar.setFocus"];try{for(var row=0;row<6;row++){for(var col=0;col<7;col++){var _c7=this.getElementById(this.id+"_cell_"+row+"_"+col);if(!_c7){continue;}if(!this.hasClass(_c7,"w2calendar_date_on")){continue;}if(_c7.getAttribute("index")==_c4){_c7.setAttribute("aria-pressed","true");_c7.focus();return;}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._u.prototype.hide=function(){["WebSquare.calendar.hide"];try{$W._n.prototype.hide.call(this);if(this.options.calendarValueType=="yearMonth"&&this.options.outsideClickEvent){$W._c.fireEvent(this,"onoutsideclick");}for(var i=0;i<this.childControlList.length;i++){var _c9=this.childControlList[i];_c9.hide();}}catch(e){$W.exception.printStackTrace(e);}};$W._a._u.prototype.show=function(_ca){["WebSquare.calendar.show"];try{$W._n.prototype.show.call(this,_ca);for(var i=0;i<this.childControlList.length;i++){var _cc=this.childControlList[i];_cc.show(_ca);}}catch(e){$W.exception.printStackTrace(e);}};$W._a._u.prototype.getDateString=function(_cd,_ce,_cf){["WebSquare.uiplugin.calendar.getDateString"];try{if(_cd===undefined){_cd=this.selectedDateHelper.getYear();}if(_ce===undefined){_ce=this.selectedDateHelper.getMonth();}if(_cf===undefined){_cf=this.selectedDateHelper.getDate();}var _d0=_cd+"";var _d1=_ce+"";var _d2=_cf+"";if(_d1.length==1){_d1="0"+_d1;}if(_d2.length==1){_d2="0"+_d2;}var _d3=_d0+_d1+_d2;return _d3;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._u.prototype.handleClickEvent=function(e){["WebSquare.uiplugin.calendar.handleClickEvent"];try{var it=this.event.getTargetIterator(e,this.render);var _d6=this.getValue();while(it.next()){var _d7=it.match("w2calendar_header_last_year")||it.match("w2calendar_header_next_year")||it.match("w2calendar_header_last_month")||it.match("w2calendar_header_next_month")||it.match("w2calendar_go_today");if(_d7){for(var i=0;i<this.childControlList.length;i++){var _d9=this.childControlList[i];$W.getBody().getLayerListener().hide(_d9.id);}}if(it.match("w2calendar_date_disable")){$W._c.stopEvent(e);it.stop();}if(it.match("w2calendar_header_last_year")){if(this.selectedDateHelper.getYear()>this.minYear){this.selectedDateHelper.setDate(1);this.gotoLastYear();}it.stop();}if(it.match("w2calendar_header_next_year")){if(this.selectedDateHelper.getYear()<this.maxYear){this.selectedDateHelper.setDate(1);this.gotoNextYear();}it.stop();}if(it.match("w2calendar_header_last_month")){if(this.selectedDateHelper.getYear()>=this.minYear){if(this.selectedDateHelper.getYear()==this.minYear&&this.selectedDateHelper.getMonth()==1){}else{this.selectedDateHelper.setDate(1);this.gotoLastMonth();}}it.stop();}if(it.match("w2calendar_header_next_month")){if(this.selectedDateHelper.getYear()<=this.maxYear){if(this.selectedDateHelper.getYear()==this.maxYear&&this.selectedDateHelper.getMonth()==12){}else{this.selectedDateHelper.setDate(1);this.gotoNextMonth();}}it.stop();}if(it.match("w2calendar_date_lastmonth")){var _da=this.selectedDateHelper.getYear();var _db=this.selectedDateHelper.getMonth();var _dc=it.getElement().getAttribute("index");if(_da>=this.minYear){if(_da==this.minYear&&_db==1){}else{if(_db>1){_db=_db-1;}else{_da=_da-1;_db=12;}this.gotoCalendar(this.getDateString(_da,_db,_dc));this.setFocus(_dc);}}it.stop();}if(it.match("w2calendar_date_nextmonth")){var _da=this.selectedDateHelper.getYear();var _db=this.selectedDateHelper.getMonth();var _dc=it.getElement().getAttribute("index");if(_da<=this.maxYear){if(_da==this.maxYear&&_db==12){}else{if(_db<12){_db=_db+1;}else{_da=_da+1;_db=1;}this.gotoCalendar(this.getDateString(_da,_db,_dc));this.setFocus(_dc);}}it.stop();}if(it.match("w2calendar_header_btn_ok")){$W._c.fireEvent(this,"onconfirm");it.stop();}if(it.match("w2calendar_header_btn_close")){$W._c.fireEvent(this,"oncancel");it.stop();}if(it.match("w2calendar_time_confirm")){$W._c.fireEvent(this,"onconfirm");it.stop();}if(it.match("w2calendar_time_cancel")){$W._c.fireEvent(this,"oncancel");$W._c.stopEvent(e);it.stop();}if(it.match("w2calendar_date_cancel")){$W._c.fireEvent(this,"oncancel");$W._c.stopEvent(e);it.stop();}if(it.match("w2calendar_go_today")){this.gotoToday();if(this.options.renderType=="native"){var _da=this.todayHelper.getYear();var _db=this.todayHelper.getMonth();var _dc=this.todayHelper.getDate();var _dd=new Date(_da,_db-1,_dc);$W._c.fireEvent(this,"ondateselect",this.getFormattedValue(),_dd);}it.stop();}if(it.match("w2calendar_date_on")){var _da=this.selectedDateHelper.getYear();var _db=this.selectedDateHelper.getMonth();var _dc=it.getElement().getAttribute("index");this.gotoCalendar(this.getDateString(_da,_db,_dc));var _dd=new Date(this.selectedDateHelper.getYear(),this.selectedDateHelper.getMonth()-1,this.selectedDateHelper.getDate());$W._c.fireEvent(this,"ondateselect",this.getFormattedValue(),_dd);it.stop();}if(it.match("w2calendar_picker_header_dynamic_entity")){if(this.dynamicCalendarStatus=="day"){$W._H.setStyle(this.dom.content,"display","none");$W._H.setStyle(this.dom.pickerContent,"display","block");var _de=this.selectedDateHelper.getMonth();var _df=this.selectedDateHelper.getYear();var _e0=this.options.monthNames.split(",");for(var _db=0;_db<12;_db++){var _e1=_e0[_db]||(_db+1);this.dom.pickerCells[_db].firstChild.innerHTML=_e1;this.removeClass(this.dom.pickerCells[_db],"active");if(_db==_de-1){this.addClass(this.dom.pickerCells[_db],"active");}}this.dom.pickerDynamicEntity.innerHTML=_df+this.options.yearSuffix;this.dynamicCalendarStatus="month";}else{if(this.dynamicCalendarStatus=="month"){var _e2=this.pickerSelectedDateHelper.decadeArr[this.pickerSelectedDateHelper.selectedDecadeIndex];var _df=this.selectedDateHelper.getYear();for(var _da=0;_da<12;_da++){var _e1=_da+_e2[0];if(_e1>this.options.maxYear){this.dom.pickerCells[_da].firstChild.innerHTML="";}else{this.dom.pickerCells[_da].firstChild.innerHTML=_e1;}this.removeClass(this.dom.pickerCells[_da],"active");if(_e1==_df){this.addClass(this.dom.pickerCells[_da],"active");}}this.dom.pickerDynamicEntity.innerHTML=_e2[0]+" - "+_e2[1];this.dynamicCalendarStatus="year";}else{if(this.dynamicCalendarStatus=="year"){var _e3=this.pickerSelectedDateHelper.selectedDecadeIndex;var _e4=this.pickerSelectedDateHelper.startDecadeIndex;var _e5=this.pickerSelectedDateHelper.startDecadeIndex+11;var _e6=this.pickerSelectedDateHelper.decadeArr;if(_e6[_e5]===undefined){_e5=_e6.length-1;}for(var i=0;i<12;i++){var _e7=_e4+i;var _e2=_e6[_e7];if(_e7<_e6.length){this.dom.pickerCells[i].firstChild.innerHTML=_e2[0]+" - "+_e2[1];}else{this.dom.pickerCells[i].firstChild.innerHTML="";}this.removeClass(this.dom.pickerCells[i],"active");if(_e7==_e3){this.addClass(this.dom.pickerCells[i],"active");}}this.dom.pickerDynamicEntity.innerHTML=_e6[_e4][0]+" - "+_e6[_e5][1];this.dynamicCalendarStatus="decade";}}}it.stop();}if(it.match("w2calendar_picker_header_last_entity")){if(this.dynamicCalendarStatus=="day"){if(this.selectedDateHelper.getYear()>=this.minYear){if(this.selectedDateHelper.getYear()==this.minYear&&this.selectedDateHelper.getMonth()==1){}else{this.selectedDateHelper.setDate(1);this.gotoLastMonth();var _da=this.selectedDateHelper.getYear();var _db=this.selectedDateHelper.getMonth();var _e0=this.options.monthNames.split(",");this.dom.pickerDynamicEntity.innerHTML=_e0[_db-1]+" "+_da+this.options.yearSuffix;}}it.stop();}else{if(this.dynamicCalendarStatus=="month"){}else{if(this.dynamicCalendarStatus=="year"){this.pickerSelectedDateHelper.selectedDecadeIndex-=1;var _e2=this.pickerSelectedDateHelper.decadeArr[this.pickerSelectedDateHelper.selectedDecadeIndex];var _df=this.selectedDateHelper.getYear();for(var _da=0;_da<12;_da++){var _e1=_da+_e2[0];if(_e1>this.options.maxYear){this.dom.pickerCells[_da].firstChild.innerHTML="";}else{this.dom.pickerCells[_da].firstChild.innerHTML=_e1;}this.removeClass(this.dom.pickerCells[_da],"active");if(_e1==_df){this.addClass(this.dom.pickerCells[_da],"active");}}this.dom.pickerDynamicEntity.innerHTML=_e2[0]+" - "+_e2[1];}else{if(this.dynamicCalendarStatus=="decade"){if(this.pickerSelectedDateHelper.startDecadeIndex-12<0){return;}this.pickerSelectedDateHelper.startDecadeIndex-=12;var _e3=this.pickerSelectedDateHelper.selectedDecadeIndex;var _e4=this.pickerSelectedDateHelper.startDecadeIndex;var _e5=_e4+11;var _e6=this.pickerSelectedDateHelper.decadeArr;if(_e6[_e5]===undefined){_e5=_e6.length-1;}for(var i=0;i<12;i++){var _e7=_e4+i;var _e2=_e6[_e7];if(_e7<_e6.length){this.dom.pickerCells[i].firstChild.innerHTML=_e2[0]+" - "+_e2[1];}else{this.dom.pickerCells[i].firstChild.innerHTML="";}this.removeClass(this.dom.pickerCells[i],"active");if(_e7==_e3){this.addClass(this.dom.pickerCells[i],"active");}}this.dom.pickerDynamicEntity.innerHTML=_e6[_e4][0]+" - "+_e6[_e5][1];}}}}}if(it.match("w2calendar_picker_header_next_entity")){if(this.dynamicCalendarStatus=="day"){if(this.selectedDateHelper.getYear()<=this.maxYear){if(this.selectedDateHelper.getYear()==this.maxYear&&this.selectedDateHelper.getMonth()==12){}else{this.selectedDateHelper.setDate(1);this.gotoNextMonth();var _da=this.selectedDateHelper.getYear();var _db=this.selectedDateHelper.getMonth();var _e0=this.options.monthNames.split(",");this.dom.pickerDynamicEntity.innerHTML=_e0[_db-1]+" "+_da+this.options.yearSuffix;}}it.stop();}else{if(this.dynamicCalendarStatus=="month"){}else{if(this.dynamicCalendarStatus=="year"){this.pickerSelectedDateHelper.selectedDecadeIndex+=1;var _e2=this.pickerSelectedDateHelper.decadeArr[this.pickerSelectedDateHelper.selectedDecadeIndex];var _df=this.selectedDateHelper.getYear();for(var _da=0;_da<12;_da++){var _e1=_da+_e2[0];if(_e1>this.options.maxYear){this.dom.pickerCells[_da].firstChild.innerHTML="";}else{this.dom.pickerCells[_da].firstChild.innerHTML=_e1;}this.removeClass(this.dom.pickerCells[_da],"active");if(_e1==_df){this.addClass(this.dom.pickerCells[_da],"active");}}this.dom.pickerDynamicEntity.innerHTML=_e2[0]+" - "+_e2[1];}else{if(this.dynamicCalendarStatus=="decade"){if(this.pickerSelectedDateHelper.startDecadeIndex+12>=this.pickerSelectedDateHelper.decadeArr.length){return;}this.pickerSelectedDateHelper.startDecadeIndex+=12;var _e3=this.pickerSelectedDateHelper.selectedDecadeIndex;var _e4=this.pickerSelectedDateHelper.startDecadeIndex;var _e5=_e4+11;var _e6=this.pickerSelectedDateHelper.decadeArr;if(_e6[_e5]===undefined){_e5=_e6.length-1;}for(var i=0;i<12;i++){var _e7=_e4+i;var _e2=_e6[_e7];if(_e7<_e6.length){this.dom.pickerCells[i].firstChild.innerHTML=_e2[0]+" - "+_e2[1];}else{this.dom.pickerCells[i].firstChild.innerHTML="";}this.removeClass(this.dom.pickerCells[i],"active");if(_e7==_e3){this.addClass(this.dom.pickerCells[i],"active");}}this.dom.pickerDynamicEntity.innerHTML=_e6[_e4][0]+" - "+_e6[_e5][1];}}}}}if(it.match("w2calendar_picker_cell")){if(this.dynamicCalendarStatus=="month"){$W._H.setStyle(this.dom.content,"display","block");$W._H.setStyle(this.dom.pickerContent,"display","none");var _e8=parseInt(it.getElement().getAttribute("index"),10);this.pickerSelectedDateHelper.setMonth(_e8+1);this.gotoMonth(_e8+1);var _da=this.selectedDateHelper.getYear();var _db=this.selectedDateHelper.getMonth();var _e0=this.options.monthNames.split(",");this.dom.pickerDynamicEntity.innerHTML=_e0[_db-1]+" "+_da+this.options.yearSuffix;this.dynamicCalendarStatus="day";}else{if(this.dynamicCalendarStatus=="year"){var _e8=parseInt(it.getElement().getAttribute("index"),10);var _e9=this.pickerSelectedDateHelper.selectedDecadeIndex;var _e6=this.pickerSelectedDateHelper.decadeArr;this.pickerSelectedDateHelper.setYear(_e6[_e9][0]+_e8);this.selectedDateHelper.setYear(_e6[_e9][0]+_e8);var _de=this.pickerSelectedDateHelper.getMonth();var _df=this.pickerSelectedDateHelper.getYear();var _e0=this.options.monthNames.split(",");for(var _db=0;_db<12;_db++){var _e1=_e0[_db]||(_db+1);this.dom.pickerCells[_db].firstChild.innerHTML=_e1;this.removeClass(this.dom.pickerCells[_db],"active");if(_db==_de-1){this.addClass(this.dom.pickerCells[_db],"active");}}this.dom.pickerDynamicEntity.innerHTML=_df+this.options.yearSuffix;this.dynamicCalendarStatus="month";}else{if(this.dynamicCalendarStatus=="decade"){var _e8=parseInt(it.getElement().getAttribute("index"),10);this.pickerSelectedDateHelper.selectedDecadeIndex=this.pickerSelectedDateHelper.startDecadeIndex+_e8;var _e2=this.pickerSelectedDateHelper.decadeArr[this.pickerSelectedDateHelper.selectedDecadeIndex];var _df=this.selectedDateHelper.getYear();for(var _da=0;_da<12;_da++){var _e1=_da+_e2[0];if(_e1>this.options.maxYear){this.dom.pickerCells[_da].firstChild.innerHTML="";}else{this.dom.pickerCells[_da].firstChild.innerHTML=_e1;}this.removeClass(this.dom.pickerCells[_da],"active");if(_e1==_df){this.addClass(this.dom.pickerCells[_da],"active");}}this.dom.pickerDynamicEntity.innerHTML=_e2[0]+" - "+_e2[1];this.dynamicCalendarStatus="year";}}}it.stop();}}it=null;var _ea=this.getValue();if(_d6!=_ea){$W._c.fireEvent(this,"onviewchange",{"oldValue":_d6,"newValue":_ea});}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._u.prototype.handleMouseoverEvent=function(e){["WebSquare.uiplugin.calendar.handleMouseoverEvent"];try{$W._c.stopEvent(e);var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match(null,this.id)){}if(it.match("w2calendar_go_today")){this.addClass(it.getElement(),"w2calendar_go_today_over");}else{if(it.match("w2calendar_date_on")){this.addClass(it.getElement(),"w2calendar_date_over");}else{if(it.match("w2calendar_time_confirm")){this.addClass(it.getElement(),"w2calendar_time_confirm_over");}else{if(it.match("w2calendar_time_cancel")){this.addClass(it.getElement(),"w2calendar_time_cancel_over");}else{if(it.match("w2calendar_header_btn_ok")){this.addClass(it.getElement(),"w2calendar_header_btn_ok_over");}else{if(it.match("w2calendar_header_btn_close")){this.addClass(it.getElement(),"w2calendar_header_btn_close_over");}}}}}}}it=null;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._u.prototype.handleMouseoutEvent=function(e){["WebSquare.uiplugin.calendar.handleMouseoutEvent"];try{$W._c.stopEvent(e);var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match(null,this.id)){}if(it.match("w2calendar_go_today")){this.removeClass(it.getElement(),"w2calendar_go_today_over");}else{if(it.match("w2calendar_date_on")){this.removeClass(it.getElement(),"w2calendar_date_over");}else{if(it.match("w2calendar_time_confirm")){this.removeClass(it.getElement(),"w2calendar_time_confirm_over");}else{if(it.match("w2calendar_time_cancel")){this.removeClass(it.getElement(),"w2calendar_time_cancel_over");}else{if(it.match("w2calendar_header_btn_ok")){this.removeClass(it.getElement(),"w2calendar_header_btn_ok_over");}else{if(it.match("w2calendar_header_btn_close")){this.removeClass(it.getElement(),"w2calendar_header_btn_close_over");}}}}}}}it=null;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._u.prototype.getServerDate=function(){["WebSquare.uiplugin.calendar.getServerDate"];return $W._s.getCurrentServerDate();};$W._a._u.prototype.shiftDayIndex=function(_ef){["WebSquare.uiplugin.calendar.shiftDayIndex"];if(_ef>0){for(var i=0;i<_ef;i++){this.dayIndexArray.unshift(this.dayIndexArray.pop());}}else{for(var i=0;i<Math.abs(_ef);i++){this.dayIndexArray.push(this.dayIndexArray.shift());}}};$W._a._u.prototype.setCellClass=function(_f1,_f2){["WebSquare.uiplugin.calendar.setCellClass"];try{this.objCellClass[_f1]=_f2;this.updateCalendar();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._u.prototype.removeCellClass=function(_f3){["WebSquare.uiplugin.calendar.removeCellClass "];try{this.objCellClass[_f3]="";this.updateCalendar();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._u.prototype.removeAllCellClass=function(){["WebSquare.uiplugin.calendar.removeAllCellClass"];try{for(var key in this.objCellClass){this.objCellClass[key]="";}this.updateCalendar();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._u.prototype.finalize=function(){for(var i=this.childControlList.length-1;i>=0;i--){this.childControlList[i].remove();}};$W._a._u.prototype.setHolidayRef=function(_f6){["WebSquare.uiplugin.calendar.prototype.setHolidayRef "];try{if(!this.modelControl.isBinded()){this.modelControl.useRef=true;}if(_f6){this.options.holidayRef=_f6;}this.modelControl.setRef(this.options.holidayRef);this.refresh();}catch(e){$W.exception.printStackTrace(e);}};$W._a._u.prototype.setHoliday=function(_f7){["WebSquare.uiplugin.calendar.setCellClass"];try{if(_f7){this.options.holiday=this.options.holiday+" "+_f7;}this.updateCalendar();}catch(e){$W.exception.printStackTrace(e,null,this);}};;WebSquare.uiplugin.calendar=$W._a._u;requires("uiplugin.calendar");requires("uiplugin/control/historyManager.js");requires("engine/formatter.js");requires("engine/validator.js");$W._a._l=function(id,_2,_3){["WebSquare.uiplugin.inputCalendar"];$W._t.call(this,id,_2,_3);};$W.extend($W._a._l.prototype,$W._t.prototype);$W.extend($W._a._l.prototype,$W.IValidate.prototype);$W._a._l.prototype.defaultOptions={pluginType:"uiplugin.inputCalendar",pluginName:"inputCalendar",userEvents:["onfocus","onblur","onchange","oniconclick","ondateselect","onviewchange"],systemEvents:["onclick","onkeydown","onkeyup","onkeypress"],useConfig:true,delimiter:"-",ioFormat:"",calendarDisplayFormat:"",displayFormat:"",displayFormatter:"",applyFormat:"display",monthNames:"1\uc6d4,2\uc6d4,3\uc6d4,4\uc6d4,5\uc6d4,6\uc6d4,7\uc6d4,8\uc6d4,9\uc6d4,10\uc6d4,11\uc6d4,12\uc6d4",yearSuffix:"\ub144",calendarValueType:"yearMonthDate",calendarImage:$W.baseURI+"uiplugin/inputCalendar/images/icon_calendar.gif",calendarImageOver:$W.baseURI+"uiplugin/inputCalendar/images/icon_calendar_over.gif",calendarClass:"class1",direction:"auto",holiday:"",holidayRef:"",validCheck:false,dateValidCheck:"",dateValidSet:false,wmode:false,readOnlyClass:"w2inputCalendar_readOnly",imageReadOnlyClass:"w2inputCalendar_img_readOnly",handleIconClick:null,pickerType:"selectbox",setCurrentDate:false,mandatory:false,maxlength:-1,minlength:-1,allowChar:"",ignoreChar:"",characterCase:"",maxByteLength:-1,minByteLength:-1,validator:"",invalidMessageFunc:"",displaymessage:false,keepFocusSelect:false,innerHeight:"17px",inputReadOnly:false,useUnlimitedYear:true,defaultDate:"",initValue:"",cancleButtonShow:false,cancelButtonShow:false,footerDiv:false,renderDiv:true,focusOnDateSelect:false,title:"",summary:"",caption:"",focusOnOuterDiv:false,alt:"",renderType:"component",useYearSelect:true,useMonthSelect:true,useAnchor:false,useCalendarTabIndex:true,maxYear:2030,minYear:1978,weekStartsOn:0,fixedDate:"",rightAlign:false,outsideClickEvent:false,skipConfirm:false,skipConfirmOnly:false,topLayout:false,senseReader:false,disableBeforeToday:false,disableAfterToday:false,disableBeforeDate:"",disableAfterDate:"",buttonTitle:""};$W._a._l.prototype.initialize=function(_4){["WebSquare.uiplugin.inputCalendar.initialize"];try{this.options.cancleButtonShow=this.options.cancleButtonShow||this.options.cancelButtonShow;if(this.options.alt==""){this.options.alt=$W._m.getMessage("Calendar_open");}this.calendar=null;this.evented=false;this.formatter=null;this.validator=null;this.sub_validator=null;this._setFocused=false;var _5=this.options.calendarValueType;if(!this.options.displayFormat){this.options.displayFormat=$W._N.getConfiguration("/WebSquare/inputCalendar/displayFormat[@valueType=\""+_5+"\"]/@defaultValue");}if(this.options.yearSuffix===""){this.options.yearSuffix="$blank";}if(this.options.ioFormat){this.options.ioFormat=this.options.ioFormat.match(/([yMdHmS]+)/g).join("");}if(this.options.calendarValueType=="yearMonthDate"){this.options.displayFormat=this.options.displayFormat||"yyyy"+this.options.delimiter+"MM"+this.options.delimiter+"dd";if(!this.options.ioFormat){this.options.ioFormat="yyyyMMdd";}}else{if(this.options.calendarValueType=="yearMonth"){this.options.displayFormat=this.options.displayFormat||"yyyy"+this.options.delimiter+"MM";if(!this.options.ioFormat){this.options.ioFormat="yyyyMM";}}else{if(this.options.calendarValueType=="yearMonthDateHour"){this.options.displayFormat=this.options.displayFormat||"yyyy"+this.options.delimiter+"MM"+this.options.delimiter+"dd"+" HH";if(!this.options.ioFormat){this.options.ioFormat="yyyyMMddHH";}}else{if(this.options.calendarValueType=="yearMonthDateTime"){this.options.displayFormat=this.options.displayFormat||"yyyy"+this.options.delimiter+"MM"+this.options.delimiter+"dd"+" HH:mm";if(!this.options.ioFormat){this.options.ioFormat="yyyyMMddHHmm";}}else{if(this.options.calendarValueType=="yearMonthDateTimeSec"){this.options.displayFormat=this.options.displayFormat||"yyyy"+this.options.delimiter+"MM"+this.options.delimiter+"dd"+" HH:mm:SS";if(!this.options.ioFormat){this.options.ioFormat="yyyyMMddHHmmSS";}}}}}}this.formatter=$W._C.createFormatter("date",this.options.displayFormat,this.options.displayFormatter,this.options.ioFormat,null,null,this.scope_id);this.validator=new $W._p.validateInvoker(this.id,this.options);this.sub_validator=new $W._p.validateInvoker(this.id,{});this.sub_validator.addCommand(new $W._p.dateCommand());this.sub_validator.addCommand(new $W._p.allowCharCommand("0-9"));var _6=0;if(this.options.calendarValueType=="yearMonthDate"){_6=8;}else{if(this.options.calendarValueType=="yearMonth"){_6=6;}else{if(this.options.calendarValueType=="yearMonthDateHour"){_6=10;}else{if(this.options.calendarValueType=="yearMonthDateTime"){_6=12;}else{if(this.options.calendarValueType=="yearMonthDateTimeSec"){_6=14;}}}}}this.invalidMessage=$W._m.getMessage("IC_invalidCalendarSelect")||"\ub0a0\uc9dc \ud615\uc2dd\uc774 \uc798\ubabb \ub418\uc5c8\uc2b5\ub2c8\ub2e4.";if(this.options.applyFormat=="all"&&this.options.displayFormat){_6=this.options.displayFormat.length;}this.options.maxlength=_6;this.options.minlength=_6;this.sub_validator.addCommand(new $W._p.maxLengthCommand(_6));this.sub_validator.addCommand(new $W._p.minLengthCommand(_6));if(!this.options.renderDiv){var _7=this.options["style"];var _8=$W._N.makeStyle(_7);var _9=[];var _a=[];for(var _b in _8){if("position width height left top right bottom display visibility".indexOf(_b.toLowerCase())>-1){_9.push(_b+":"+_8[_b]);}else{_a.push(_b+":"+_8[_b]);}}$W.cssManager.addConvertedCSS("#"+this.id+" input",_a.join(";"));this.options["style"]=_9.join(";");}if(this.options.validCheck&&this.options.dateValidCheck===""){this.options.dateValidCheck="true";}else{if(this.options.dateValidCheck===""){this.options.dateValidCheck="false";}}if(this.options.senseReader){this.options.renderDiv=true;this.options.useAnchor=false;this.options.focusOnOuterDiv=true;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._l.prototype.toHTML=function(){["WebSquare.uiplugin.inputCalendar.toHTML"];try{var _c="";if(this.options.inputReadOnly){_c=" readOnly ";}var _d=[];var _e=(this.options.style=="")?"":"style='"+this.options.style+"'";var _f=(this.options.title=="")?"":"title='"+this.options.title+"'";var _10=(this.options.innerHeight=="")?"":"style='height:"+this.options.innerHeight+"'";var _11=(this.options.alt=="")?"":"alt='"+this.options.alt+"'";var _12=!this.options.buttonTitle?"":" title='"+this.options.buttonTitle+"'";if(this.options.renderDiv==false){_d.push("<div id='"+this.id+"' "+_e+" class='w2inputCalendar'>");_d.push("<table cellpadding='0' cellspacing='0' class='w2inputCalendar_table'><tr>");_d.push("<td class='w2inputCalendar_col_input'><input "+_10+" id='"+this.id+"_input' name='"+this.id+"_input' class='w2inputCalendar_input "+this.options.className+"' "+_c+" "+_f+" /></td>");_d.push("<td class='w2inputCalendar_col_img'>");if(this.options.useAnchor==true){_d.push("<a id='"+this.id+"_a' href='#' class='w2inputCalendar_a' role='button' aria-haspopup='true' aria-owns='"+this.id+"_calendar' >");}_d.push("<img id='"+this.id+"_img' class='w2inputCalendar_img'"+_12+" src='"+this.options.calendarImage+"' "+_11+" "+((this.options.useCalendarTabIndex&&!this.options.useAnchor)?"tabindex='0'":"")+" />");if(this.options.useAnchor==true){_d.push("</a>");}_d.push("</td></tr></table>");_d.push("</div>");}else{if(this.options.renderDiv==true){_d.push("<div id='"+this.id+"' "+_e+" class='w2inputCalendar_div "+this.options.className+"'>");_d.push("<div id='"+this.id+"_div_input' class='w2inputCalendar_div_input' >");_d.push("<input id='"+this.id+"_input' name='"+this.id+"_input' class='w2inputCalendar_divInput ' "+_c+" "+_f+" />");_d.push("</div>");_d.push("<div id='"+this.id+"_div_img' class='w2inputCalendar_div_img' >");if(this.options.senseReader){_d.push("<a id='"+this.id+"_img'"+_12+" style='display:block;background-image:url("+this.options.calendarImage+")' class='w2inputCalendar_button' "+"href='#"+this.id+"_calendar' >"+$W._m.getMessage("Calendar_open")+"</a>");}else{_d.push("<button type='button' id='"+this.id+"_img'"+_12+" style='background-image:url("+this.options.calendarImage+")' class='w2inputCalendar_button' "+((this.options.useCalendarTabIndex&&!this.options.useAnchor)?"tabindex='0'":"")+" >"+$W._m.getMessage("Calendar_open")+"</button>");}_d.push("</div>");_d.push("</div>");}}return _d.join("");}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._l.prototype.setSize=function(_13,_14){["WebSquare.uiplugin.inputCalendar.setSize"];try{$W._H.setSize.call(this,this.render,_13,_14);this.setSetting();}catch(e){$W.exception.printStackTrace(e);}};$W._a._l.prototype.setSetting=function(){["WebSquare.uiplugin.inputCalendar.setSetting"];try{if(this.options.renderDiv==true){var _15=$W._H.getStyle(this.render,"width");var _16=$W._H.getStyle(this.dom.divImg,"width");_16=(_16.lastIndexOf("px")>-1)?Math.ceil(_16.wq_replaceAll("px","")*1):0;_15=_15=="auto"?"100%":_15;if(_15.lastIndexOf("px")>-1){var _17=$W._H.getStyle(this.dom.divInput,"padding-right");_17=(_17.lastIndexOf("px")>-1)?parseInt(_17,10):0;_15=parseInt(_15.wq_replaceAll("px",""),10)-_16-_17;}else{if(_15.lastIndexOf("%")>-1){var _18=this.parentControl.render?this.parentControl.render:document.getElementById(this.parentControl.id);if(_18){var _19=$W._H.getStyle(_18,"padding-left");var _1a=$W._H.getStyle(_18,"padding-right");var _1b=$W._H.getStyle(_18,"border-left-width");var _1c=$W._H.getStyle(_18,"border-right-width");_19=(_19.lastIndexOf("px")>-1)?parseInt(_19,10):0;_1a=(_1a.lastIndexOf("px")>-1)?parseInt(_1a,10):0;_1b=(_1b.lastIndexOf("px")>-1)?parseInt(_1b,10):0;_1c=(_1c.lastIndexOf("px")>-1)?parseInt(_1c,10):0;var _17=$W._H.getStyle(this.dom.divInput,"padding-right");_17=(_17.lastIndexOf("px")>-1)?parseInt(_17,10):0;var _1d=_18.offsetWidth-(_19+_1a+_1b+_1c);_15=_1d*parseInt(_15.wq_replaceAll("%",""),10)/100-_16-_17;}}}var _1e;var _1f;var bR=$W._H.getStyle(this.dom.input,"border-right-width");bR=bR.wq_replaceAll("px","")*1;bR=bR>1?parseInt(bR,10):Math.ceil(bR);var bL=$W._H.getStyle(this.dom.input,"border-left-width");bL=bL.wq_replaceAll("px","")*1;bL=bL>1?parseInt(bL,10):Math.ceil(bL);var bT=$W._H.getStyle(this.dom.input,"border-top-width");bT=bT.wq_replaceAll("px","")*1;bT=bT>1?parseInt(bT,10):Math.ceil(bT);var bB=$W._H.getStyle(this.dom.input,"border-bottom-width");bB=bB.wq_replaceAll("px","")*1;bB=bB>1?parseInt(bB,10):Math.ceil(bB);var pR=$W._H.getStyle(this.dom.input,"padding-right");pR=pR.wq_replaceAll("px","")*1;pR=pR>1?parseInt(pR,10):Math.ceil(pR);var pL=$W._H.getStyle(this.dom.input,"padding-left");pL=pL.wq_replaceAll("px","")*1;pL=pL>1?parseInt(pL,10):Math.ceil(pL);var pT=$W._H.getStyle(this.dom.input,"padding-top");pT=pT.wq_replaceAll("px","")*1;pT=pT>1?parseInt(pT,10):Math.ceil(pT);var pB=$W._H.getStyle(this.dom.input,"padding-bottom");pB=pB.wq_replaceAll("px","")*1;pB=pB>1?parseInt(pB,10):Math.ceil(pB);var _28;_1e=_15-(bR+bL+pR+pL);$W._H.setStyle(this.dom.divInput,"width",Math.max(_15,0)+"px");$W._H.setStyle(this.dom.input,"width",Math.max(_1e,0)+"px");var _29=$W._H.getStyle(this.render,"height");_29=_29=="auto"?(this.render.offsetHeight+"px"):_29;if(_29.lastIndexOf("px")>-1){_29=parseInt(_29.wq_replaceAll("px",""),10);}else{if(_29.lastIndexOf("%")>-1){var _18=this.parentControl.render?this.parentControl.render:document.getElementById(this.parentControl.id);if(_18){var _2a=_18.offsetHeight;_29=_2a*parseInt(_29.wq_replaceAll("%",""),10)/100;}}}_1f=_29-(bT+bB+pT+pB);var _2b=parseInt($W._H.getStyle(this.dom.img,"height"),10);if(_2b>0){_28=(_29-_2b)/2;}else{_28=(_29-17)/2;}if($W._G.isIE(6)||$W._G.isIE(7)){_1f-=2;}$W._H.setStyle(this.dom.img,"top",Math.max(_28,0)+"px");$W._H.setStyle(this.dom.divInput,"height",Math.max(_29,0)+"px");$W._H.setStyle(this.dom.input,"height",Math.max(_1f,0)+"px");}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._l.prototype.setPreAction=function(){try{if(this.options.renderDiv==true){this.dom.divInput=this.getElementById(this.id+"_div_input");this.dom.divImg=this.getElementById(this.id+"_div_img");this.event.addListener(window,"onresize",this.event.bindAsEventListener(this,this.setSetting));}this.dom.input=this.getElementById(this.id+"_input");this.dom.img=this.getElementById(this.id+"_img");}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._l.prototype.setAction=function(){["WebSquare.uiplugin.inputCalendar.setAction"];try{this.setSetting();this.setInputSize();this.setVerticalAlign();if(this.modelControl.isBinded()){var _2c=this.modelControl.getData();if(this.options.validCheck){_2c=this.validator.validateString(_2c);_2c=this.sub_validator.validateString(_2c);}this.setValueNM(_2c);}if($W._G.isMobile()){this.event.addListener(this.render,"ontouchstart",this.event.bindAsEventListener(this,function(e){$W._c.stopPropagation(e);}));}else{this.event.addListener(this.render,"onmousedown",this.event.bindAsEventListener(this,function(e){var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match("w2inputCalendar_input")||it.match("w2inputCalendar_divInput")){this._setFocused=true;break;}}it=null;var _30=$W.getBody().getLayerListener();var _31=_30.layers[this.id].component;var _32={};if(_31.id){_32[_31.id]=true;}$W.getBody().getLayerListener().hideAll(_32);$W._c.stopPropagation(e);}));this.event.addListener(this.render,"onmouseover",this.event.bindAsEventListener(this,this.handleMouseoverEvent));this.event.addListener(this.render,"onmouseout",this.event.bindAsEventListener(this,this.handleMouseoutEvent));}$W.getBody().getLayerListener().addListener({component:this,fnShow:this._showCalendar,fnHide:this._hideCalendar,event:{}});this.event.addListener(this.render,"onclick",this.event.bindAsEventListener(this,this.handleClickEvent));if(!this.options.inputReadOnly){if($W._N.browserCheck.ieAllVersion){this.event.addListener(this.dom.input,"onfocusin",this.event.bindAsEventListener(this,this.handleFocusEvent));}else{this.event.addListener(this.dom.input,"onfocus",this.event.bindAsEventListener(this,this.handleFocusEvent));}}this.event.addListener(this.render,"onkeydown",this.event.bindAsEventListener(this,this.handleKeyEvent));if(this.options.setCurrentDate){if(this.options.calendarValueType=="yearMonthDate"){this.setValue($W._s.getFormattedDate(new Date(),"yyyyMMdd"));}else{if(this.options.calendarValueType=="yearMonth"){this.setValue($W._s.getFormattedDate(new Date(),"yyyyMM"));}else{if(this.options.calendarValueType=="yearMonthDateHour"){this.setValue($W._s.getFormattedDate(new Date(),"yyyyMMddHH"));}else{if(this.options.calendarValueType=="yearMonthDateTime"){this.setValue($W._s.getFormattedDate(new Date(),"yyyyMMddHHmm"));}else{if(this.options.calendarValueType=="yearMonthDateTimeSec"){this.setValue($W._s.getFormattedDate(new Date(),"yyyyMMddHHmmSS"));}}}}}}if(this.options.mandatory){this.onPropertyChange("mandatory",$W._G.getBoolean(this.options.mandatory));}if(this.options.renderDiv&&this.options.senseReader&&this.options.focusOnOuterDiv){var _33=document.getElementById(this.id+"_img");if(_33!=null){$W._c.addListener(document.getElementById(this.id+"_img"),"onclick",function(e){$W._c.preventDefault(e);});}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._l.prototype.onComplete=function(){["WebSquare.uiplugin.inputCalendar.onComplete"];try{if(this.options.handleIconClick){var _35=null;try{_35=$W._G.getGlobalFunction(this.options.handleIconClick,this.scope_id);}catch(e){$l("no function for handleIconClick : "+this.options.handleIconClick+"["+this.id+"]");}if(_35){this.addEvent("oniconclick",_35);}}$W._t.prototype.onComplete.call(this);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._l.prototype.refresh=function(){["WebSquare.uiplugin.inputCalendar.refresh"];try{if(this.modelControl.isBinded()){var _36=this.getValue();var _37=this.modelControl.getData();this.setValueNM(_37);if(_36!=this.getValue()){$W._c.fireEvent(this,"onchange");}}this.broadcast({"linkedDataList":["refresh"]});}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._l.prototype.setInputSize=function(){["WebSquare.uiplugin.inputCalendar.setInputSize"];try{var _38=this.getStyle("height");var _39={paddingTop:parseInt($W._G.getStyleProperty(this.dom.input,"padding-top"))||0,paddingBottom:parseInt($W._G.getStyleProperty(this.dom.input,"padding-bottom"))||0,borderTopWidth:parseInt($W._G.getStyleProperty(this.dom.input,"border-top-width"))||0,borderBottomWidth:parseInt($W._G.getStyleProperty(this.dom.input,"border-bottom-width"))||0};if(_38.indexOf("px")>-1&&this.options.renderDiv!=true){_38=parseInt(_38);var _3a=_38-(_39.paddingTop+_39.paddingBottom+_39.borderTopWidth+_39.borderBottomWidth);this.dom.input.style.height=_3a+"px";}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._l.prototype.setSkin=function(_3b){["WebSquare.uiplugin.inputCalendar.setSkin"];try{this.options.calendarClass=_3b;if(this.calendar){this.calendar.changeClass(this.calendar.render,"w2calendar_"+this.calendar.options.calendarClass,"w2calendar_"+_3b);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._l.prototype.setVerticalAlign=function(){["WebSquare.uiplugin.inputCalendar.setVerticalAlign"];try{if($W._N.browserCheck.ie){var _3c=parseInt($W._G.getStyleProperty(this.dom.input,"height"))||0;this.dom.input.style.lineHeight=_3c+"px";}else{if($W._N.browserCheck.moz){}else{}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._l.prototype.setMinYear=function(_3d){["WebSquare.uiplugin.inputCalendar.setMinYear"];try{if(_3d){this.options.minYear=_3d;}if(this.calendar){var _3e=this.options.maxYear;this.calendar.updateYearSelect(_3d,_3e);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._l.prototype.setMaxYear=function(_3f){["WebSquare.uiplugin.inputCalendar.setMaxYear"];try{if(_3f){this.options.maxYear=_3f;}if(this.calendar){var _40=this.options.minYear;this.calendar.updateYearSelect(_40,_3f);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._l.prototype.setValue=function(_41){["WebSquare.uiplugin.inputCalendar.setValue"];try{var _42=this.getValue();if(_41!=""&&this.options.validCheck&&!$W._G.getBoolean(this.options.dateValidSet)){var _43=this.validator.validate(_41);if(_43&&$W._G.getBoolean(this.options.dateValidCheck)){_43=this.sub_validator.validate(_41);}if(!_43){alert(this.invalidMessage);this.setValue("");this.focus();return;}}this.setValueNM(_41);this.modelControl.setData(_41);if(_42!=this.getValue()){$W._c.fireEvent(this,"onchange");}this.broadcast({"linkedDataList":["refresh"]});}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._l.prototype.setValueNM=function(_44){["WebSquare.uiplugin.inputCalendar.setValueNM"];try{if($W._G.isNull(_44)){return;}_44=_44.toString();_44=this.formatter.format(_44);this.dom.input.value=_44;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._l.prototype._setValue=function(_45){["WebSquare.uiplugin.inputCalendar._setValue"];try{this.setValue(_45);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._l.prototype.getValue=function(){["WebSquare.uiplugin.inputCalendar.getValue"];try{var _46=this.dom.input.value;_46=this.formatter.unformat(_46);return _46;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._l.prototype.getTitle=function(){return this.dom.input.getAttribute("title");};$W._a._l.prototype.makeCalendar=function(){["WebSquare.uiplugin.inputCalendar.makeCalendar"];try{var _47=this;var _48=this.uuid;var _49=this.options.ioFormat.match(/([yMdHmS]+)/g).join("");var cId=this.org_id||this.id;var _4b={pluginName:"calendar",className:"w2inputCalendar_calendar",calendarClass:this.options.calendarClass,monthNames:this.options.monthNames,yearSuffix:this.options.yearSuffix,calendarValueType:this.options.calendarValueType,holiday:this.options.holiday,holidayRef:this.options.holidayRef,wmode:this.options.wmode,delimiter:this.options.delimiter,dateFormat:_49,displayFormat:this.options.calendarDisplayFormat,useUnlimitedYear:this.options.useUnlimitedYear,cancleButtonShow:this.options.cancleButtonShow,footerDiv:this.options.footerDiv,focusOnOuterDiv:this.options.focusOnOuterDiv,renderType:this.options.renderType,summary:this.options.summary,caption:this.options.caption,title:this.options.title+" "+$W._m.getMessage("Calendar_name"),backlink:(this.options.useAnchor==true?this.id+"_input":""),useYearSelect:this.options.useYearSelect,useMonthSelect:this.options.useMonthSelect,maxYear:this.options.maxYear,minYear:this.options.minYear,weekStartsOn:this.options.weekStartsOn,keepFocusSelect:this.options.keepFocusSelect,outsideClickEvent:this.options.outsideClickEvent,skipConfirm:this.options.skipConfirm,skipConfirmOnly:this.options.skipConfirmOnly,topLayout:this.options.topLayout,disableBeforeToday:this.options.disableBeforeToday,disableAfterToday:this.options.disableAfterToday,disableBeforeDate:this.options.disableBeforeDate,disableAfterDate:this.options.disableAfterDate,pickerType:this.options.pickerType};var _4c=$W.controlFactory.createControl(cId+"_calendar",_4b,null,this.scope_obj,true,this.parentFrame);_4c.options.xmlEvents=[{name:"ondateselect",action:"script",param:{handler:function(e){var _4e=this.getFormattedValue();if(_47.options.calendarValueType!="yearMonthDateHour"&&_47.options.calendarValueType!="yearMonthDateTime"&&_47.options.calendarValueType!="yearMonthDateTimeSec"){var _4f=_47.getValue();_47.toggle();_47._setValue(_4e);var _50=_47.getValue();if(_4f!=_50){$W._c.fireEvent(_47,"onviewchange",{"oldValue":_4f,"newValue":_50});}_47.hideCalendar();if(!$W._G.isMobile()||_47.options.focusOnDateSelect){_47.dom.input.focus();if(_47.options.editType=="select"){_47.dom.input.select();}}var _51=new Date(this.selectedDateHelper.getYear(),this.selectedDateHelper.getMonth()-1,this.selectedDateHelper.getDate());$W._c.fireEvent(_47,"ondateselect",this.getFormattedValue(),_51);if(_4f!=_50){$W._c.fireEvent(_47,"onafterviewchange",{"oldValue":_4f,"newValue":_50});}}else{var _51=new Date(this.selectedDateHelper.getYear(),this.selectedDateHelper.getMonth()-1,this.selectedDateHelper.getDate());$W._c.fireEvent(_47,"ondateselect",this.getFormattedValue(),_51);}}}},{name:"onyearselect",action:"script",param:{handler:function(e){var _53=$W.idCache[_48];$W._c.fireEvent(_53,"onyearselect",{"oldValue":e.oldValue,"newValue":e.newValue});}}},{name:"onmonthselect",action:"script",param:{handler:function(e){var _55=$W.idCache[_48];$W._c.fireEvent(_55,"onmonthselect",{"oldValue":e.oldValue,"newValue":e.newValue});}}},{name:"onconfirm",action:"script",param:{handler:function(e){var _57=this.getFormattedValue();var _58=_47.getValue();_47._setValue(_57);var _59=_47.getValue();if(_58!=_59){$W._c.fireEvent(_47,"onconfirm");$W._c.fireEvent(_47,"onviewchange",{"oldValue":_58,"newValue":_59});$W._c.fireEvent(_47,"onafterviewchange",{"oldValue":_58,"newValue":_59});}_47.hideCalendar();_47.dom.input.focus();if(_47.options.editType=="select"){_47.dom.input.select();}}}},{name:"onoutsideclick",action:"script",param:{handler:function(e){var _5b=this.getFormattedValue();_47._setValue(_5b);}}},{name:"oncancel",action:"script",param:{handler:function(e){_47.hideCalendar();(document.getElementById(_47.id+"_a")||document.getElementById(_47.id+"_img")).focus();}}}];_4c.writeTo($W.getBody(),null,this.parentFrame);_4c.activate();this.event.addListener(_4c.render,"onkeydown",this.event.bindAsEventListener(this,this.handleKeyEvent));this.addControl(_4c);return _4c;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._l.prototype.showCalendar=function(){["WebSquare.uiplugin.inputCalendar.showCalendar"];try{$W.getBody().getLayerListener().show(this.id);if(this.options.fixedDate=="today"){this.calendar.setInitValue(this.getValue());}$W._c.fireEvent(this,"onafteropen");}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._l.prototype._showCalendar=function(){["WebSquare.uiplugin.inputCalendar._showCalendar"];try{if(!this.calendar){this.calendar=this.makeCalendar();}if(this.calendar){var _5d=$W._H.getAbsoluteLeft(this.render);var top=$W._H.getAbsoluteTop(this.render)+this.render.offsetHeight+5;var _5f=document.documentElement.scrollLeft||document.body.scrollLeft;var _60=document.documentElement.scrollTop||document.body.scrollTop;var _61=parseInt(this.calendar.getStyle("width"))+parseInt(this.calendar.getStyle("border-right-width"))+parseInt(this.calendar.getStyle("border-left-width"));if(!this.options.rightAlign){if(_5d+_61>_5f+(document.documentElement.clientWidth||document.body.clientWidth)){_5d=_5f+(document.documentElement.clientWidth||document.body.clientWidth)-_61-10;}}this.calendar.show();var _62=document.documentElement.scrollHeight||document.body.scrollHeight;var _63=_62-this.calendar.render.offsetHeight;if(top>_63){top=_63;}if(this.options.rightAlign){_5d=_5d-(_61-this.render.offsetWidth)-23;if(_5d<0){_5d=$W._H.getAbsoluteLeft(this.render);}if(_5d+_61>_5f+(document.documentElement.clientWidth||document.body.clientWidth)){_5d=_5f+(document.documentElement.clientWidth||document.body.clientWidth)-_61-23;}}this.calendar.setPosition(_5d,top);var _64=this.options.direction;if(_64=="auto"){var _65=$W._H.getAbsoluteTop(this.render)-_60;var _66=document.documentElement.clientHeight-(_65+this.render.offsetHeight);var _67=this.calendar.render.offsetHeight;if(_66<_67&&_65>_67){_64="up";}}if(_64=="up"){top=$W._H.getAbsoluteTop(this.render)-this.calendar.render.offsetHeight-5;this.calendar.setPosition(_5d,top);}if(this.options.wmode==true){$W.getBody().showWModeFrame(this.getPluginName(),this.calendar.render);}var _68=this.getValue();var _69="";if(_68!=""){if(this.options.calendarValueType=="yearMonthDate"){_69=$W._A.unformatDate(this.options.ioFormat,_68);}else{if(this.options.calendarValueType=="yearMonth"){_69=$W._A.unformatDate(this.options.ioFormat,_68)+"01";}else{if(this.options.calendarValueType=="yearMonthDateHour"){_69=$W._A.unformatDate(this.options.ioFormat,_68);var _6a=$W._A.unformatTime(this.options.ioFormat,_68);var _6b=_6a.substr(0,2);this.calendar.gotoTime(_6b);}else{if(this.options.calendarValueType=="yearMonthDateTime"){_69=$W._A.unformatDate(this.options.ioFormat,_68);var _6a=$W._A.unformatTime(this.options.ioFormat,_68);var _6b=_6a.substr(0,2);var min=_6a.substr(2);this.calendar.gotoTime(_6b,min);}else{if(this.options.calendarValueType=="yearMonthDateTimeSec"){_69=$W._A.unformatDate(this.options.ioFormat,_68);var _6a=$W._A.unformatTime(this.options.ioFormat,_68);var _6b=_6a.substr(0,2);var min=_6a.substr(2,2);var sec=_6a.substr(4);this.calendar.gotoTime(_6b,min,sec);}}}}}this.calendar.gotoCalendar(_69);}else{if(this.options.defaultDate!==""){if(this.options.calendarValueType=="yearMonthDateTimeSec"){_69=$W._A.unformatDate(this.options.ioFormat,this.options.defaultDate);var _6a=$W._A.unformatTime(this.options.ioFormat,this.options.defaultDate);var _6b=_6a.substr(0,2);var min=_6a.substr(2,2);var sec=_6a.substr(4);this.calendar.gotoTime(_6b,min,sec);}else{if(this.options.calendarValueType=="yearMonthDateTime"){_69=$W._A.unformatDate(this.options.ioFormat,this.options.defaultDate);var _6a=$W._A.unformatTime(this.options.ioFormat,this.options.defaultDate);var _6b=_6a.substr(0,2);var min=_6a.substr(2);this.calendar.gotoTime(_6b,min);}else{if(this.options.calendarValueType=="yearMonthDateHour"){_69=$W._A.unformatDate(this.options.ioFormat,this.options.defaultDate);var _6a=$W._A.unformatTime(this.options.ioFormat,this.options.defaultDate);var _6b=_6a.substr(0,2);this.calendar.gotoTime(_6b);}}}this.calendar.gotoCalendar(this.options.defaultDate);}else{this.calendar.gotoToday();}}if(this.options.focusOnOuterDiv){this.calendar.render.focus();}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._l.prototype.hideCalendar=function(){["WebSquare.uiplugin.inputCalendar.hideCalendar"];try{$W.getBody().getLayerListener().hide(this.id);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._l.prototype._hideCalendar=function(){["WebSquare.uiplugin.inputCalendar._hideCalendar"];try{if(this.calendar){this.calendar.hide();if(this.options.wmode==true){$W.getBody().hideWModeFrame(this.getPluginName(),this.calendar.id);}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._l.prototype.toggle=function(){["WebSquare.uiplugin.inputCalendar.toggle"];try{if(this.calendar){if(this.calendar.getStyle("display")!="none"){this.hideCalendar();}else{this.showCalendar();}}else{this.showCalendar();}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._l.prototype.focus=function(){["WebSquare.uiplugin.inputCalendar.focus"];try{this._setFocused=true;this.dom.input.focus();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._l.prototype.blur=function(){["WebSquare.uiplugin.inputCalendar.blur"];try{this.dom.input.blur();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._l.prototype.select=function(){["WebSquare.uiplugin.inputCalendar.select"];try{this.dom.input.select();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._l.prototype.onPropertyChange=function(_6e,_6f){["WebSquare.uiplugin.inputCalendar.onPropertyChange"];try{switch(_6e){case "disabled":if(_6f==true){this.dom.input.setAttribute("disabled","disabled");}else{this.dom.input.removeAttribute("disabled");}break;case "readOnly":if(_6f==true){this.addClass(this.dom.input,this.options.readOnlyClass);this.addClass(this.dom.img,this.options.imageReadOnlyClass);this.dom.input.setAttribute("readonly","readonly");}else{this.removeClass(this.dom.input,this.options.readOnlyClass);this.removeClass(this.dom.img,this.options.imageReadOnlyClass);this.dom.input.removeAttribute("readonly");}break;case "mandatory":if(_6f==true){this.addClass(this.render,"w2inputCalendar_mandatory");}else{this.removeClass(this.render,"w2inputCalendar_mandatory");}break;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._l.prototype.validate=function(){["WebSquare.uiplugin.inputCalendar.validate"];try{var _70=this.getValue();var _71=this.validator.validate(_70);if(_71&&_70!=""&&($W._G.getBoolean(this.options.dateValidCheck)||$W._G.getBoolean(this.options.dateValidSet))){_71=this.sub_validator.validate(_70);}if(_71==false&&!$W._G.getBoolean(this.options.dateValidSet)){this.focus();}return _71;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._l.prototype.setInitValue=function(_72){["WebSquare.uiplugin.inputCalendar.setInitValue"];try{var _73=this.getValue();this.setValueNM(this.options.initValue);this.modelControl.setData(this.options.initValue);if(_72.fireEvent){if(_73!=this.getValue()){$W._c.fireEvent(this,"onchange");}}this.broadcast({"linkedDataList":["refresh"]});}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._l.prototype.setInputReadOnly=function(_74){["WebSquare.uiplugin.inputCalendar.setInputReadOnly"];try{if($W._G.getBoolean(_74)){this.dom.input.readOnly=true;return true;}else{this.dom.input.readOnly=false;return false;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._l.prototype.handleClickEventDocument=function(e){["WebSquare.uiplugin.inputCalendar.handleClickEventDocument"];try{if(this.event&&!this.event.isMine(e,this.render)){this.hideCalendar();}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._l.prototype.handleClickEvent=function(e){["WebSquare.uiplugin.inputCalendar.handleClickEvent"];try{var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match("w2inputCalendar_input")||it.match("w2inputCalendar_divInput")){this._setFocused=true;if(this.options.editType==="select"){it.getElement().select();}break;}if(it.match("w2inputCalendar_img")||it.match("w2inputCalendar_a")||it.match("w2inputCalendar_button")){var ret=$W._c.fireEvent(this,"oniconclick");if(ret==false){continue;}if(this.options.renderType=="native"){this.showCalendar();}else{this.toggle();}if(this.options.useAnchor==true){$W._c.stopEvent(e);}break;}}it=null;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._l.prototype.handleMouseoverEvent=function(e){["WebSquare.uiplugin.inputCalendar.handleMouseoverEvent"];try{$W._c.stopEvent(e);var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match(null,this.id)){}if(it.match("w2inputCalendar_img")||it.match("w2inputCalendar_button")){this.addClass(it.getElement(),"w2inputCalendar_img_over");if(it.match("w2inputCalendar_button")){it.getElement().style.backgroundImage="url("+this.options.calendarImageOver+")";}else{it.getElement().src=this.options.calendarImageOver;}}}it=null;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._l.prototype.handleMouseoutEvent=function(e){["WebSquare.uiplugin.inputCalendar.handleMouseoutEvent"];try{$W._c.stopEvent(e);var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match(null,this.id)){}if(it.match("w2inputCalendar_img")||it.match("w2inputCalendar_button")){this.removeClass(it.getElement(),"w2inputCalendar_img_over");if(it.match("w2inputCalendar_button")){it.getElement().style.backgroundImage="url("+this.options.calendarImage+")";}else{it.getElement().src=this.options.calendarImage;}}}it=null;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._l.prototype.handleFocusEvent=function(e){["WebSquare.uiplugin.inputCalendar.handleFocusEvent"];try{if(this.dom.input.readOnly==true){$W._c.stopEvent(e);return;}if(this.evented==false){this.evented=true;this.event.addListener(this.dom.input,"onblur",this.event.bindAsEventListener(this,this.handleBlurEvent));this.event.addListener(this.dom.input,"onkeyup",this.event.bindAsEventListener(this,this.handleKeyupEvent));this.event.addListener(this.dom.input,"onkeypress",this.event.bindAsEventListener(this,this.handleKeypressEvent));}this.addClass(this.dom.input,"w2inputCalendar_focus");var _7e=this.getValue();if(this.options.applyFormat=="all"){this.dom.input.value=this.formatter.format(_7e);}else{this.dom.input.value=_7e;if(this._setFocused==false){this.select();}this._setFocused=false;}var _7f=this;var _80=$W.historyManager.get(this.options.pluginName,this.id);if($W._G.getBoolean(this.options.dateValidSet)){if(!this.validate()){_7e=_80.value;}}$W.historyManager.set(this.options.pluginName,this.id,{value:_7e},{onRestore:function(_81){_7f.setValue(_81.value);}});$W._c.fireEvent(this,"onfocus");}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._l.prototype.handleBlurEvent=function(e){["WebSquare.uiplugin.inputCalendar.handleBlurEvent"];try{this.removeClass(this.dom.input,"w2inputCalendar_focus");var _83=this.getValue();_83=this.validator.validateString(_83);_83=this.sub_validator.validateString(_83);this.setValue(_83);var _84=$W.historyManager.get(this.options.pluginName,this.id);if(this.formatter.unformat(_84.value)!=this.getValue()){$W._c.fireEvent(this,"onchange");var _85=this.getValue();$W._c.fireEvent(this,"onviewchange",{"oldValue":_84.value,"newValue":_85});}if($W._G.getBoolean(this.options.dateValidSet)){if(this.validate()){this.setValue(_83);}else{this.setValue(_84.value);}}this.hideCalendar();$W._c.fireEvent(this,"onblur");}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._l.prototype.handleKeypressEvent=function(e){["WebSquare.uiplugin.inputCalendar.handleKeypressEvent"];try{var _87=e.charCode?e.charCode:e.keyCode;if(_87==9){return;}if(_87==e.which||e.which==undefined){var _88=this.getValue();if(!this.validator.validateKeyPress(this.dom.input,_88,e)||!this.sub_validator.validateKeyPress(this.dom.input,_88,e)){$W._c.stopEvent(e);}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._l.prototype.handleKeyupEvent=function(e){["WebSquare.uiplugin.inputCalendar.handleKeyupEvent"];try{var _8a=(e.charCode)?e.charCode:e.keyCode;if(_8a==9){return;}if(_8a==37){}else{if(_8a==38){}else{if(_8a==39){}else{if(_8a==40){}else{if(_8a==13||_8a==9){}else{if(_8a==27){this.dom.input.value="";}else{if(_8a==33){}else{if(_8a==34){}else{if(_8a==35){}else{if(_8a==36){}else{if(_8a==113){}else{if(this.options.applyFormat=="all"){var _8b=this.getValue();var pos=$W._A.getCaretPos(this.dom.input);var _8d=0;var _8e=0;_8d=_8b.length;_8b=this.formatter.unformat(_8b);_8b=this.validator.validateString(_8b);_8b=this.formatter.format(_8b);_8b=this.validator.validateString(_8b);_8b=this.formatter.format(_8b);_8e=_8b.length;this.dom.input.value=_8b;$W._A.setCaretPos(this.dom.input,pos+_8e-_8d);}}}}}}}}}}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._l.prototype.handleKeyEvent=function(e){["WebSquare.uiplugin.inputCalendar.handleKeyEvent"];try{var _90=(e.charCode)?e.charCode:e.keyCode;if(this.calendar&&this.calendar.getStyle("display")!="none"){if(_90==27){this.hideCalendar();(document.getElementById(this.id+"_a")||document.getElementById(this.id+"_img")).focus();}else{if(_90==9&&e.shiftKey!=1){var it=this.event.getTargetIterator(e,this.calendar.render);while(it.next()){if((this.options.cancleButtonShow==false&&it.match("w2calendar_go_today"))||(this.options.cancleButtonShow==true&&it.match("w2calendar_date_cancel"))||(this.options.calendarValueType=="yearMonthDateTime"&&it.match("w2calendar_time_cancel"))){$W._c.stopEvent(e);this.hideCalendar();(document.getElementById(this.id+"_a")||document.getElementById(this.id+"_img")).focus();break;}}}else{if(_90==9&&e.shiftKey==1){var it=this.event.getTargetIterator(e,this.calendar.render);while(it.next()){if(it.match("w2calendar_header_last_year")){$W._c.stopEvent(e);this.hideCalendar();(document.getElementById(this.id+"_a")||document.getElementById(this.id+"_img")).focus();break;}}}}}}else{if(_90==13){var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match("w2inputCalendar_img")){$W._c.stopEvent(e);this.showCalendar();break;}}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._l.prototype.setDisplayFormat=function(_92){["WebSquare.uiplugin.inputCalendar.setDisplayFormat"];try{this.options.displayFormat=_92;this.formatter.setMasking(_92);this.setValueNM(this.getValue());}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._l.prototype.getDisplayFormat=function(){["WebSquare.uiplugin.inputCalendar.getDisplayFormat"];try{return this.options.displayFormat;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._l.prototype.getDefaultDate=function(){["WebSquare.uiplugin.inputCalendar.getDefaultDate"];try{return this.options.defaultDate;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._l.prototype.setDefaultDate=function(_93){["WebSquare.uiplugin.inputCalendar.setDefaultDate"];try{if(typeof _93!=="string"){return;}if(_93.length!==8){return;}this.hideCalendar();this.options.defaultDate=_93;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._l.prototype.getAccessibiltyId=function(){["WebSquare.uiplugin.inputCalendar.getAccessibiltyId"];try{return this.id+"_input";}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._l.prototype.setFormat=function(){["WebSquare.uiplugin.inputCalendar.setFormat"];try{if(typeof arguments[0]=="object"){var _94=arguments[0].ioFormat||this.options.ioFormat;var _95=arguments[0].displayFormat||this.options.displayFormat;var _96=arguments[0].displayFormatter||this.options.displayFormatter;}else{var _94=arguments[0]||this.options.ioFormat;var _95=arguments[1]||this.options.displayFormat;var _96=this.options.displayFormatter;}this.options.displayFormat=_95;this.options.displayFormatter=_96;if(_94!=this.options.ioFormat){_94=_94.match(/([yMdHmS]+)/g).join("");var _97=this.getFormattedValue(_94);this.options.ioFormat=_94;this.formatter=$W._C.createFormatter("date",_95,_96,_94);this.setValue(_97);if(this.calendar){this.calendar.remove();delete this.calendar;}}else{var _97=this.getValue();this.formatter=$W._C.createFormatter("date",_95,_96,_94);this.setValueNM(_97);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._l.prototype.setCalendarValueType=function(_98,_99){["WebSquare.uiplugin.inputCalendar.setCalendarValueType"];try{if(_98==this.options.calendarValueType){return false;}this.options.calendarValueType=_98;_99=_99||{};if(_99.ioFormat){_99.ioFormat=_99.ioFormat.match(/([yMdHmS]+)/g).join("");}if(_98=="yearMonthDate"){this.options.displayFormat=_99.displayFormat||"yyyy"+this.options.delimiter+"MM"+this.options.delimiter+"dd";this.options.ioFormat=_99.ioFormat||"yyyyMMdd";}else{if(_98=="yearMonth"){this.options.displayFormat=_99.displayFormat||"yyyy"+this.options.delimiter+"MM";this.options.ioFormat=_99.ioFormat||"yyyyMM";}else{if(_98=="yearMonthDateHour"){this.options.displayFormat=_99.displayFormat||"yyyy"+this.options.delimiter+"MM"+this.options.delimiter+"dd"+" HH";this.options.ioFormat=_99.ioFormat||"yyyyMMddHH";}else{if(_98=="yearMonthDateTime"){this.options.displayFormat=_99.displayFormat||"yyyy"+this.options.delimiter+"MM"+this.options.delimiter+"dd"+" HH:mm";this.options.ioFormat=_99.ioFormat||"yyyyMMddHHmm";}else{if(_98=="yearMonthDateTimeSec"){this.options.displayFormat=_99.displayFormat||"yyyy"+this.options.delimiter+"MM"+this.options.delimiter+"dd"+" HH:mm:SS";this.options.ioFormat=_99.ioFormat||"yyyyMMddHHmmSS";}}}}}if(this.calendar){this.calendar.remove();delete this.calendar;}this.formatter=null;this.validator=null;this.sub_validator=null;this.options.maxlength=this.options.minlength=-1;this.formatter=$W._C.createFormatter("date",this.options.displayFormat,this.options.displayFormatter,this.options.ioFormat);this.validator=new $W._p.validateInvoker(this.id,this.options);this.sub_validator=new $W._p.validateInvoker(this.id,{});this.sub_validator.addCommand(new $W._p.dateCommand());this.sub_validator.addCommand(new $W._p.allowCharCommand("0-9"));var _9a=0;if(this.options.calendarValueType=="yearMonthDate"){_9a=8;}else{if(this.options.calendarValueType=="yearMonth"){_9a=6;}else{if(this.options.calendarValueType=="yearMonthDateHour"){_9a=10;}else{if(this.options.calendarValueType=="yearMonthDateTime"){_9a=12;}else{if(this.options.calendarValueType=="yearMonthDateTimeSec"){_9a=14;}}}}}if(this.options.applyFormat=="all"&&this.options.displayFormat){_9a=this.options.displayFormat.length;}this.options.maxlength=_9a;this.options.minlength=_9a;this.sub_validator.addCommand(new $W._p.maxLengthCommand(_9a));this.sub_validator.addCommand(new $W._p.minLengthCommand(_9a));return true;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._l.prototype.getIoFormat=function(){["WebSquare.uiplugin.inputCalendar.getIoFormat"];try{return this.options.ioFormat;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._l.prototype.getFormattedValue=function(_9b){["WebSquare.uiplugin.inputCalendar.getFormattedValue"];try{_9b=_9b||this.options.displayFormat;var _9c=this.getValue();var _9d=$W._C.createFormatter("date",_9b,"",this.options.ioFormat);return _9d.format(_9c);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._l.prototype.setRef=function(ref){["WebSquare.uiplugin.inputCalendar.prototype.setRef "];try{if(!this.modelControl.isBinded()){this.modelControl.useRef=true;}this.options.ref=ref;this.modelControl.setRef(ref);this.refresh();}catch(e){$W.exception.printStackTrace(e);}};$W._a._l.prototype.setHolidayRef=function(_9f){["WebSquare.uiplugin.inputCalendar.prototype.setHolidayRef "];try{if(_9f){this.options.holidayRef=_9f;if(this.calendar){this.calendar.options.holidayRef=_9f;this.calendar.refresh();}}}catch(e){$W.exception.printStackTrace(e);}};$W._a._l.prototype.setHoliday=function(_a0){["WebSquare.uiplugin.calendar.setHoliday"];try{if(_a0){this.options.holiday=this.options.holiday+" "+_a0;}if(this.calendar){this.calendar.updateCalendar();}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._l.prototype.disableBeforeDate=function(_a1){["WebSquare.uiplugin.inputCalendar.disableBeforeDate"];try{if(_a1){this.options.disableBeforeDate=_a1;}if(this.calendar){this.calendar.options.disableBeforeDate=_a1;this.calendar.updateCalendar();}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._l.prototype.disableAfterDate=function(_a2){["WebSquare.uiplugin.inputCalendar.disableAftereDate"];try{if(_a2){this.options.disableAfterDate=_a2;}if(this.calendar){this.calendar.options.disableAfterDate=_a2;this.calendar.updateCalendar();}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._l.prototype.enableAllDate=function(){["WebSquare.uiplugin.inputCalendar.enableAllDate"];try{this.options.disableBeforeDate="";this.options.disableAfterDate="";if(this.calendar){this.calendar.options.disableBeforeDate="";this.calendar.options.disableAfterDate="";this.calendar.updateCalendar();}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._l.prototype.setButtonTitle=function(_a3){["WebSquare.uiplugin.calendar.setButtonTitle"];try{var _a4=document.getElementById(this.id+"_img");if(_a4!=null){_a4.setAttribute("title",_a3);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._l.prototype.getButtonTitle=function(){["WebSquare.uiplugin.calendar.getButtonTitle"];try{var ret="";var _a6=document.getElementById(this.id+"_img");if(_a6!=null){ret=_a6.getAttribute("title");}return ret;}catch(e){$W.exception.printStackTrace(e,null,this);}};;WebSquare.uiplugin.inputCalendar=$W._a._l;requires("uiplugin.group");$W._a._b=function(id,_2,_3){["WebSquare.uiplugin.Switch"];$W._t.call(this,id,_2,_3);};$W.extend($W._a._b.prototype,$W._t.prototype);$W._a._b.prototype.defaultOptions={pluginType:"uiplugin.Switch",pluginName:"Switch",userEvents:["onSelectedIndexChange"],alwaysDraw:true,accessibility:undefined,caseStyle:"",caseClass:"",slide:false,animationDuration:0.5,motionDisplay:true,detectionRange:10,rotation:true,useSelect:false,touchMove:true,hidePosition:"center"};$W._a._b.prototype.initialize=function(_4){["WebSquare.uiplugin.Switch.initialize"];try{this.selectedIndex=0;this.caseArr=[];this.slide={};this.centerInitLeft;this.isSliding=false;this.startEventLayer={};this.lastEventLayer={};this.leftPosition;this.topPosition;if(this.options.slide==true){this.options.alwaysDraw=true;}var _5="xf";var _6=$W._B.findNodes(_4,_5+":case");if(_6){for(var i=0;i<_6.length;i++){var _8=_6[i];var _9=_8.getAttribute("selected");var _a=this.options["_scope_obj_uuid"];var _b=(_a==null)?null:$W.idCache[_a];var _c=$W.controlFactory.create(null,{pluginName:"group"},_8,_b,_a);_c.options.style=_c.options.style+";"+this.options.caseStyle;_c.options.className="w2switch_case "+_c.options.className+" "+this.options.caseClass;if(_9=="true"){this.selectedIndex=i;}var _d=_c.id;this.caseArr.push({orgID:(_c.org_id==undefined)?_c.id:_c.org_id,caseID:_c.id,caseComp:_c});this.addControl(_c);}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._b.prototype.toHTML=function(){["WebSquare.uiplugin.Switch.toHTML"];try{var _e=[];var _f=(this.options.style=="")?"":"style='"+this.options.style+"'";_e.push("<div id='"+this.id+"' "+_f+" class='w2Switch "+this.options.className+"'>");if(this.options.alwaysDraw==true){var _10=this.getChildren();for(var i=0;i<_10.length;i++){_e.push(_10[i].toHTML());}}_e.push("</div>");return _e.join("");}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._b.prototype.setAction=function(){["WebSquare.uiplugin.Switch.setAction"];try{this.isMobile=$W._G.isMobile();this.isWebKit=/webkit/.test(navigator.userAgent.toLowerCase());if(this.options.slide==true&&this.options.touchMove==true){if(this.isMobile){this.event.addListener(this.render,"ontouchstart",this.event.bindAsEventListener(this,this.handleTouchStart));this.event.addListener(this.render,"ontouchmove",this.event.bindAsEventListener(this,this.handleTouchMove));this.event.addListener(this.render,"ontouchend",this.event.bindAsEventListener(this,this.handleTouchEnd));}else{this.event.addListener(this.render,"onmousedown",this.event.bindAsEventListener(this,this.handleTouchStart));this.event.addListener(document.documentElement,"onmousemove",this.event.bindAsEventListener(this,this.handleTouchMove));this.event.addListener(document.documentElement,"onmouseup",this.event.bindAsEventListener(this,this.handleTouchEnd));this.event.addListener(this.render,"ondrag",this.event.bindAsEventListener(this,function(e){this.isSliding=false;}));this.event.addListener(this.render,"ondragend",this.event.bindAsEventListener(this,this.handleDragEnd));if(this.options.useSelect!=true){this.event.addListener(this.render,"onselectstart",this.event.bindAsEventListener(this,function(e){$W._c.preventDefault(e);}));}}}this.setSelectedIndex(this.selectedIndex);for(var i=0;i<this.caseArr.length;i++){var _15=this.caseArr[i];_15["caseElement"]=document.getElementById(_15.caseID);}this.leftPosition=$W._H.getAbsoluteLeft(this.render);this.topPosition=$W._H.getAbsoluteTop(this.render);this.centerInitLeft=this.caseArr[this.selectedIndex].caseElement.offsetLeft;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._b.prototype.setSelectedIndex=function(idx,_17){["WebSquare.uiplugin.Switch.setSelectedIndex"];try{if($W._G.isNull(idx)||idx<0||idx>=this.caseArr.length){return;}if(typeof _17=="undefined"){_17=true;}var _18=this.getSelectedIndex();for(var i=0;i<this.caseArr.length;i++){var _1a=this.getChild(this.caseArr[i].caseID);if(i==idx){if(!_1a.render){_1a.writeTo(this);_1a.activate();_1a.onComplete();}if(_17){_1a.setStyle("left",this.centerInitLeft||0+"px");_1a.setStyle("zIndex",110);_1a.setStyle("visibility","visible");if(!this.options.slide&&this.options.accessibility){_1a.setStyle("display","");}}this.selectedIndex=i;}else{if(_17){if(_1a.getStyle("visibility")!="hidden"){_1a.setStyle("visibility","hidden");if(!this.options.slide&&this.options.accessibility){_1a.setStyle("display","none");}}if(this.options.hidePosition=="left"){_1a.setStyle("left",(_1a.render.offsetLeft-this.getElementWidth(_1a.render))+"px");}else{if(this.options.hidePosition=="right"){_1a.setStyle("left",(_1a.render.offsetLeft+this.getElementWidth(_1a.render))+"px");}}}_1a.setStyle("zIndex",100);}}if(_18!=this.getSelectedIndex()){$W._c.fireEvent(this,"onSelectedIndexChange");}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._b.prototype.getSelectedIndex=function(){["WebSquare.uiplugin.Switch.getSelectedIndex"];try{return this.selectedIndex;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._b.prototype.setSelectedID=function(id){["WebSquare.uiplugin.Switch.setSelectedID"];try{var _1c=this.getSelectedIndex();for(var i=0;i<this.caseArr.length;i++){var _1e=this.getChild(this.caseArr[i].caseID);if(this.caseArr[i].orgID==id){if(!_1e.render){_1e.writeTo(this);_1e.activate();_1e.onComplete();}_1e.setStyle("left",this.centerInitLeft+"px");_1e.setStyle("zIndex",110);_1e.setStyle("visibility","visible");if(!this.options.slide&&this.options.accessibility){_1e.setStyle("display","");}this.selectedIndex=i;}else{if(_1e.getStyle("visibility")!="hidden"){_1e.setStyle("zIndex",100);_1e.setStyle("visibility","hidden");if(!this.options.slide&&this.options.accessibility){_1e.setStyle("display","none");}}}}if(_1c!=this.getSelectedIndex()){$W._c.fireEvent(this,"onSelectedIndexChange");}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._b.prototype.getSelectedID=function(){["WebSquare.uiplugin.Switch.getSelectedID"];try{for(var i=0;i<this.caseArr.length;i++){if(i==this.selectedIndex){var _20=this.caseArr[i];return _20.orgID;}}return null;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._b.prototype.moveToLeft=function(){["WebSquare.uiplugin.Switch.moveToLeft"];try{if(this.options.slide==true){this.combineSlideElement();var _21="right";if(this.options.rotation==false){if(this.selectedIndex<=0){this.setSelectedIndex(this.selectedIndex,false);_21="center";}else{this.setSelectedIndex(this.slide.leftIndex,false);}}else{this.setSelectedIndex(this.slide.leftIndex,false);}var _22=new Date().getTime()+this.options.animationDuration*1000;this.slideAnimation(_21,_22);}else{this.setSelectedIndex(this.selectedIndex-1);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._b.prototype.moveToRight=function(){["WebSquare.uiplugin.Switch.moveToRight"];try{if(this.options.slide==true){var _23="left";this.combineSlideElement();if(this.options.rotation==false){if(this.selectedIndex>=(this.caseArr.length-1)){this.setSelectedIndex(this.slide.centerIndex,false);_23="center";}else{this.setSelectedIndex(this.slide.rightIndex,false);}}else{this.setSelectedIndex(this.slide.rightIndex,false);}var _24=new Date().getTime()+this.options.animationDuration*1000;this.slideAnimation(_23,_24);}else{this.setSelectedIndex(this.selectedIndex+1);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._b.prototype.moveToIndex=function(idx){["WebSquare.uiplugin.Switch.moveToIndex"];try{if($W._G.isNull(idx)||idx<0||idx>=this.caseArr.length){return;}if(this.options.slide==true){var _26=this.getSelectedIndex();var _27=_26-idx;var _28=Math.abs(_26-idx);var _29=_27<0?"left":"right";var _2a=this;var _2b=function(){if(_28==0){$W._G.clearInterval(_2a.id+"_slider_moveToIndex");return;}if(_29=="left"){_2a.moveToRight();}else{if(_29=="right"){_2a.moveToLeft();}}_28--;};if(_28>0){_2b();$W._G.setInterval(_2b,{key:_2a.id+"_slider_moveToIndex",caller:_2a,delay:_2a.options.animationDuration*1000});}}else{this.setSelectedIndex(idx);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._b.prototype.setInitValue=function(_2c){["WebSquare.uiplugin.Switch.init"];try{this.init(_2c);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._b.prototype.init=function(_2d){["WebSquare.uiplugin.Switch.init"];try{_2d=$W.extend({excludePlugin:"",excludeId:"",fireEvent:false},_2d||{});var _2e=this.getChildren();for(var i=0;i<_2e.length;i++){if(_2e[i].setInitValue){if((" "+_2d.excludePlugin+" ").indexOf(" "+_2e[i].options.pluginName+" ")==-1&&(" "+_2d.excludeId+" ").indexOf(" "+_2e[i].id+" ")==-1){_2e[i].setInitValue(_2d);}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._b.prototype.invoke=function(_30,_31,_32,_33){["WebSquare.uiplugin.Switch.invoke"];try{return $W._t.prototype.invoke.call(this,_30,_31,_32,_33);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._b.prototype.getElementWidth=function(_34){["WebSquare.uiplugin.Switch.prototype.getElementWidth"];var _35;if(_34){_35=_34.offsetWidth;var _36=parseInt($W._G.getStyleProperty(_34,"border-left-width"),10)||0;var _37=parseInt($W._G.getStyleProperty(_34,"border-right-width"),10)||0;var _38=parseInt($W._G.getStyleProperty(_34,"padding-left"),10)||0;var _39=parseInt($W._G.getStyleProperty(_34,"padding-right"),10)||0;_35=_35-_36-_37-_38-_39;}return _35;};$W._a._b.prototype.combineSlideElement=function(){["WebSquare.uiplugin.Switch.prototype.combineSlideElement"];try{$W._N.clearTimer(this.id+"_slider_slide");this.slide={};this.slide.leftIndex=(this.selectedIndex-1>=0)?this.selectedIndex-1:this.caseArr.length-1;this.slide.centerIndex=this.selectedIndex;this.slide.rightIndex=(this.selectedIndex+1==this.caseArr.length)?0:this.selectedIndex+1;this.slide.leftElement=this.caseArr[this.slide.leftIndex].caseElement;this.slide.rightElement=this.caseArr[this.slide.rightIndex].caseElement;this.slide.centerElement=this.caseArr[this.slide.centerIndex].caseElement;if(!$W._G.isNumber(this.centerInitLeft)){this.centerInitLeft=this.slide.centerElement.offsetLeft;}this.slide.leftElement.style.left="-"+(this.getElementWidth(this.slide.leftElement)+this.centerInitLeft)+"px";this.slide.rightElement.style.left=(this.getElementWidth(this.slide.rightElement)-this.centerInitLeft)+"px";if(this.slide.leftElement.style["visibility"]!="visibility"){this.slide.leftElement.style["zIndex"]=110;this.slide.leftElement.style["visibility"]="visible";}if(this.slide.rightElement.style["visibility"]!="visibility"){this.slide.rightElement.style["zIndex"]=110;this.slide.rightElement.style["visibility"]="visible";}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._b.prototype.slideAnimation=function(_3a,_3b){["WebSquare.uiplugin.Switch.slideAnimation"];try{var _3c=this.options.animationDuration*1000;var _3d=5;function CubicBezierAtTime(t,p1x,p1y,p2x,p2y,_43){var ax=0,bx=0,cx=0,ay=0,by=0,cy=0;function sampleCurveX(t){return ((ax*t+bx)*t+cx)*t;}function sampleCurveY(t){return ((ay*t+by)*t+cy)*t;}function sampleCurveDerivativeX(t){return (3*ax*t+2*bx)*t+cx;}function solveEpsilon(_48){return 1/(200*_48);}function solve(x,_4a){return sampleCurveY(solveCurveX(x,_4a));}function solveCurveX(x,_4c){var t0,t1,t2,x2,d2,i;function fabs(n){if(n>=0){return n;}else{return 0-n;}}for(t2=x,i=0;i<8;i++){x2=sampleCurveX(t2)-x;if(fabs(x2)<_4c){return t2;}d2=sampleCurveDerivativeX(t2);if(fabs(d2)<0.000001){break;}t2=t2-x2/d2;}t0=0;t1=1;t2=x;if(t2<t0){return t0;}if(t2>t1){return t1;}while(t0<t1){x2=sampleCurveX(t2);if(fabs(x2-x)<_4c){return t2;}if(x>x2){t0=t2;}else{t1=t2;}t2=(t1-t0)*0.5+t0;}return t2;}cx=3*p1x;bx=3*(p2x-p1x)-cx;ax=1-cx-bx;cy=3*p1y;by=3*(p2y-p1y)-cy;ay=1-cy-by;return solve(t,solveEpsilon(_43));}var t=new Date().getTime()-(_3b-_3c);var cp=[0.25,0.1,0.25,1];var _51="ease";switch(_51){case "ease":cp=[0.25,0.1,0.25,1];break;case "linear":cp=[0,0,1,1];break;case "ease-in":cp=[0.42,0,1,1];break;case "ease-out":cp=[0,0,0.58,1];break;case "ease-in-out":cp=[0.42,0,0.58,1];break;case "deceleration":cp=[0,0,0,1];break;case "acceleration":cp=[1,0,1,1];break;}var _52=CubicBezierAtTime(t/_3c,cp[0],cp[1],cp[2],cp[3],_3c/1000);var _53;if(_3a=="right"){_53=Math.round((this.getElementWidth(this.slide.centerElement)-this.slide.centerElement.offsetLeft)*(_52));this.slide.leftElement.style.left=(this.slide.leftElement.offsetLeft+_53)+"px";this.slide.centerElement.style.left=this.slide.centerElement.offsetLeft+_53+"px";if(this.slide.leftIndex!=this.slide.rightIndex){this.slide.rightElement.style.left=this.slide.rightElement.offsetLeft+_53+"px";}}else{if(_3a=="left"){_53=Math.round((this.getElementWidth(this.slide.centerElement)+this.slide.centerElement.offsetLeft)*(_52));if(this.slide.leftIndex!=this.slide.rightIndex){this.slide.leftElement.style.left=this.slide.leftElement.offsetLeft-_53+"px";}this.slide.centerElement.style.left=this.slide.centerElement.offsetLeft-_53+"px";this.slide.rightElement.style.left=this.slide.rightElement.offsetLeft-_53+"px";}else{}}if(t>=_3c){this.stopSlideAnimation(_3a);return;}$W._N.setTimer(this.slideAnimation,{key:this.id+"_slider_slide",caller:this,delay:_3d,args:[_3a,_3b]});}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._b.prototype.stopSlideAnimation=function(_54){["WebSquare.uiplugin.Switch.stopSlideAnimation"];try{this.slide.leftElement.style.left=this.centerInitLeft+"px";this.slide.rightElement.style.left=this.centerInitLeft+"px";this.slide.centerElement.style.left=this.centerInitLeft+"px";if(_54==="right"){this.setSelectedIndex(this.slide.leftIndex);}else{if(_54==="left"){this.setSelectedIndex(this.slide.rightIndex);}else{this.setSelectedIndex(this.slide.centerIndex);}}$W._N.clearTimer(this.id+"_slider_slide");}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._b.prototype.setIsSliding=function(_55){["WebSquare.uiplugin.Switch.prototype.setIsSliding"];var _56=this.lastEventLayer.x-this.startEventLayer.x;var _57=this.lastEventLayer.y-this.startEventLayer.y;var _58=3;if(_56<_58&&_57<_58){this.isSliding=_55;}};$W._a._b.prototype.handleTouchStart=function(e){["WebSquare.uiplugin.Switch.prototype.handleTouchStart"];try{$W.getBody().getLayerListener().hideAll();$W._c.stopPropagation(e);this.isSliding=true;this.isYScrolling=false;this.startEventLayer.x=$W._c.getMouseX(e)-(this.leftPosition||0);this.startEventLayer.y=$W._c.getMouseY(e)-(this.topPosition||0);this.lastEventLayer.x=$W._c.getMouseX(e)-(this.leftPosition||0);this.lastEventLayer.y=$W._c.getMouseY(e)-(this.topPosition||0);this.combineSlideElement();if(this.options.useSelect==true){$W._N.clearTimer(this.id+"_setSlidingFlag");$W._N.setTimer(this.setIsSliding,{key:this.id+"_setSlidingFlag",caller:this,delay:1000,args:[false]});}}catch(e){this.isSliding=false;this.isYScrolling=false;$W.exception.printStackTrace(e,null,this);}};$W._a._b.prototype.handleTouchEnd=function(e,_5b){["WebSquare.uiplugin.Switch.prototype.handleTouchEnd"];try{$W._c.stopPropagation(e);this.isYScrolling=false;if(!this.isSliding){if(_5b&&this.slide.centerElement){this.stopSlideAnimation("center");}return;}this.isSliding=false;var _5c=new Date().getTime()+this.options.animationDuration*1000;var _5d=this.lastEventLayer.x-this.startEventLayer.x;if(Math.abs(_5d)<this.options.detectionRange){destination="center";}else{if(_5d>0){destination="right";}else{if(_5d<0){destination="left";}}}if(this.options.rotation==false){if(destination==="left"){if(this.selectedIndex>=this.caseArr.length-1){destination="center";}}else{if(destination==="right"){if(this.selectedIndex<=0){destination="center";}}}}if(destination==="center"){this.setSelectedIndex(this.slide.centerIndex);return;}else{if(destination==="left"){this.setSelectedIndex(this.slide.rightIndex,false);}else{if(destination==="right"){this.setSelectedIndex(this.slide.leftIndex,false);}}}this.slideAnimation(destination,_5c);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._b.prototype.handleTouchMove=function(e){["WebSquare.uiplugin.Switch.prototype.handleTouchMove"];try{if(!this.isSliding||this.options.motionDisplay!=true){this.lastEventLayer.x=$W._c.getMouseX(e)-(this.leftPosition||0);this.lastEventLayer.y=$W._c.getMouseY(e)-(this.topPosition||0);return;}if(!e.touches||e.touches.length==1){var _5f=$W._c.getMouseX(e)-(this.leftPosition||0);var _60=_5f-this.startEventLayer.x;this.lastEventLayer.x=_5f;this.lastEventLayer.y=$W._c.getMouseY(e)-(this.topPosition||0);if(Math.abs(this.lastEventLayer.x-this.startEventLayer.x)<5&&Math.abs(this.lastEventLayer.y-this.startEventLayer.y)>10){this.isSliding=false;this.isYScrolling=true;if(this.slide.centerElement&&this.slide.centerElement.offsetLeft!=0){this.stopSlideAnimation("center");return;}}if(this.isSliding){$W._c.stopEvent(e);}if(this.slide.leftIndex==this.slide.rightIndex){if(this.slide.centerElement.offsetLeft>=0){this.slide.leftElement.style.left=_60-this.getElementWidth(this.slide.leftElement)+"px";this.slide.centerElement.style.left=_60+"px";}else{if(this.slide.centerElement.offsetLeft<=0){this.slide.centerElement.style.left=_60+"px";this.slide.rightElement.style.left=_60+this.getElementWidth(this.slide.rightElement)+"px";}}}else{this.slide.leftElement.style.left=_60-this.getElementWidth(this.slide.leftElement)+"px";this.slide.centerElement.style.left=_60+"px";this.slide.rightElement.style.left=_60+this.getElementWidth(this.slide.rightElement)+"px";}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._b.prototype.handleMouseOut=function(e){["WebSquare.uiplugin.Switch.prototype.handleMouseOut"];if($W._c.getRelatedTarget(e)==null){this.handleTouchEnd(e);}};$W._a._b.prototype.handleDragEnd=function(e){["WebSquare.uiplugin.Switch.prototype.handleDragEnd"];this.handleTouchEnd(e,true);};$W._a._b.prototype.setDisabled=function(_63){["WebSquare.Switch.setDisabled"];try{_63=$W._t.prototype.setDisabled.call(this,_63);for(var i=0;i<this.childControlList.length;i++){var _65=this.childControlList[i];if(_65.setDisabled&&_65.activeStatus!="stop"){_65.setDisabled(_63);}}}catch(e){$W.exception.printStackTrace(e);}return _63;};;WebSquare.uiplugin.Switch=$W._a._b;$W._a.ae=function(id,_2,_3){["WebSquare.uiplugin.tabContainer"];$W._t.call(this,id,_2,_3);};$W.extend($W._a.ae.prototype,$W._t.prototype);$W._a.ae.prototype.defaultOptions={pluginType:"uiplugin.tabContainer",pluginName:"tabContainer",userEvents:["onchange","ontabclick","onbeforeselect","ontabselect"],tabClass:"",tabStyle:"",selectedIndex:0,alwaysDraw:true,contentsClass:"w2tabContainer_contents_layer",tabPosition:"auto left",tabDefaultLeftImageClass:"w2tabContainer_tab_left",tabDefaultCenterImageClass:"w2tabContainer_tab_center",tabDefaultRightImageClass:"w2tabContainer_tab_right",tabDefaultLeftImageStyle:"",tabDefaultCenterImageStyle:"",tabDefaultRightImageStyle:"",tabSelectedLeftImageClass:"w2tabContainer_tab_left",tabSelectedCenterImageClass:"w2tabContainer_tab_center",tabSelectedRightImageClass:"w2tabContainer_tab_right",tabSelectedLeftImageStyle:"",tabSelectedCenterImageStyle:"",tabSelectedRightImageStyle:"",tabHoverLeftImageClass:"w2tabContainer_tab_left",tabHoverCenterImageClass:"w2tabContainer_tab_center",tabHoverRightImageClass:"w2tabContainer_tab_right",tabHoverLeftImageStyle:"",tabHoverCenterImageStyle:"",tabHoverRightImageStyle:"",tabDisabledLeftImageClass:"",tabDisabledCenterImageClass:"",tabDisabledRightImageClass:"",tabDisabledLeftImageStyle:"",tabDisabledCenterImageStyle:"",tabDisabledRightImageStyle:""};$W._a.ae.prototype.defaultOptionsTab={id:"",value:"",localeRef:"",style:"",className:"",tabDefaultLeftImageClass:"w2tabContainer_tab_left",tabDefaultCenterImageClass:"w2tabContainer_tab_center",tabDefaultRightImageClass:"w2tabContainer_tab_right",tabDefaultLeftImageStyle:"",tabDefaultCenterImageStyle:"",tabDefaultRightImageStyle:"",tabSelectedLeftImageClass:"w2tabContainer_tab_left",tabSelectedCenterImageClass:"w2tabContainer_tab_center",tabSelectedRightImageClass:"w2tabContainer_tab_right",tabSelectedLeftImageStyle:"",tabSelectedCenterImageStyle:"",tabSelectedRightImageStyle:"",tabHoverLeftImageClass:"w2tabContainer_tab_left",tabHoverCenterImageClass:"w2tabContainer_tab_center",tabHoverRightImageClass:"w2tabContainer_tab_right",tabHoverLeftImageStyle:"",tabHoverCenterImageStyle:"",tabHoverRightImageStyle:"",tabDisabledLeftImageClass:"",tabDisabledCenterImageClass:"",tabDisabledRightImageClass:"",tabDisabledLeftImageStyle:"",tabDisabledCenterImageStyle:"",tabDisabledRightImageStyle:""};$W._a.ae.prototype.defaultOptionsContents={id:"",style:"",src:null,spa:false};$W._a.ae.prototype.initialize=function(_4){["WebSquare.uiplugin.tabContainer.initialize"];try{this.selectedIndex=0;this.tabArr=[];if($W._N.getConfiguration("/WebSquare/spa/@value")=="true"){this.options.spa=true;}var _5="w2:";var _6=$W._B.findNodes(_4,_5+"tab");var _7=$W._B.findNodes(_4,_5+"contents");if(_6&&_7&&_6.length==_7.length){for(var i=0;i<_6.length;i++){var _9=_6[i];var _a=_7[i];var _b=this.parseTabOption(_9);var _c=$W.extendKeepingType($W.extendKeepingType({},this.defaultOptionsContents),$W.WebSquareparser.parseAttribute(_a));_c.id=this.id+"_"+_c.id;if(_b.useMultipleImage=="none"){_b.useMultipleImage=true;}if(_b.useDefaultImage=="none"){_b.useDefaultImage="true";}var _d=null;if(_c.src){requires("uiplugin.wframe");_d=new $W._a._B(_c.id,null,_a);}else{_d=$W.controlFactory.create(_c.id,null,_a);}_d.options.className=_d.options.className+" "+this.options.contentsClass;this.addControl(_d);if(_b.localeRef!=""){_b.value=this.getLocaleValue(_b.localeRef);}this.tabArr.push(new $W._a._x(_b.id,{contentsID:_c.id,tabValue:_b.value,optionsTab:_b,optionsContents:_c}));}}for(var _e in this.options){if(_e.indexOf("ImageStyle")>-1){this.options[_e]=this.options[_e].replace("position:absolute;vertical-align:middle;word-wrap:break-word","");}}this.options=$W.cssManager.styleToClass(this.id,this.options);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ae.prototype.toHTML=function(){["WebSquare.uiplugin.tabContainer.toHTML"];try{var _f=[];var _10=(this.options.style=="")?"":"style='"+this.options.style+"'";_f.push("<div id='"+this.id+"' "+_10+" class='w2tabContainer "+this.options.className+"'>");_f.push("<div id='"+this.id+"_tabLayer' class='w2tabContainer_tab_layer'></div>");if(this.options.alwaysDraw==true){for(var i=0;i<this.tabArr.length;i++){var _12=this.getChild(this.tabArr[i].contentsID);_f.push(_12.toHTML());}}_f.push("<div id='"+this.id+"_wrap' class='w2tabContainer_wrap'></div>");_f.push("</div>");return _f.join("");}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ae.prototype.setAction=function(){["WebSquare.uiplugin.tabContainer.setAction"];try{this.dom.tabLayer=document.getElementById(this.id+"_tabLayer");this.drawTab();this.event.addListener(this.render,"onclick",this.event.bindAsEventListener(this,this.handleClickEvent));this.event.addListener(this.render,"onmouseover",this.event.bindAsEventListener(this,this.handleMouseoverEvent));this.event.addListener(this.render,"onmouseout",this.event.bindAsEventListener(this,this.handleMouseoutEvent));this.setSelectedIndexNM(this.options.selectedIndex);var _13=document.getElementById(this.id+"_wrap");if(_13){_13.style.display="none";}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ae.prototype.onPropertyChange=function(_14,_15){["WebSquare.uiplugin.tabContainer.onPropertyChange"];try{switch(_14){case "disabled":for(var i=0;i<this.getCount();i++){var _17=document.getElementById(this.id+"_tab_left_"+i);var _18=document.getElementById(this.id+"_tab_center_"+i);var _19=document.getElementById(this.id+"_tab_right_"+i);if(_15==true){this.addClass(_17,this.tabArr[i].optionsTab.tabDisabledLeftImageClass);this.addClass(_18,this.tabArr[i].optionsTab.tabDisabledCenterImageClass);this.addClass(_19,this.tabArr[i].optionsTab.tabDisabledRightImageClass);}else{this.removeClass(_17,this.tabArr[i].optionsTab.tabDisabledLeftImageClass);this.removeClass(_18,this.tabArr[i].optionsTab.tabDisabledCenterImageClass);this.removeClass(_19,this.tabArr[i].optionsTab.tabDisabledRightImageClass);}}break;case "readOnly":break;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ae.prototype._getTabIndex=function(idx){["WebSquare.uiplugin.tabContainer._getTabIndex"];try{var _1b=-1;if(typeof idx=="number"){_1b=idx;}else{if(typeof idx=="string"){for(var i=0;i<this.tabArr.length;i++){if(this.tabArr[i].tabID==idx){_1b=i;break;}}}}if(_1b<0||_1b>=this.tabArr.length){_1b=-1;}return _1b;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ae.prototype.getCount=function(){["WebSquare.uiplugin.tabContainer.getCount"];try{return this.tabArr.length;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ae.prototype.parseTabOption=function(_1d){["WebSquare.uiplugin.tabContainer.parseTabOption"];try{var _1e={};for(var idx in this.options){if(idx.indexOf("ImageStyle")>-1||idx.indexOf("ImageClass")>-1){_1e[idx]=this.options[idx];}}var _20={};_20=$W.extendKeepingType(_20,this.defaultOptionsTab);_20=$W.extendKeepingType(_20,_1e);_20=$W.extendKeepingType(_20,$W.WebSquareparser.parseAttribute(_1d));for(var idx in _20){if(idx.indexOf("ImageStyle")>-1){_20[idx]=_20[idx].replace("position:absolute;vertical-align:middle;word-wrap:break-word","");}}if(this.options.tabPosition.indexOf("manual")==-1){var _21=_20["style"];_21=_21.replace(/(?:^|;)\s*left\s*:\s*(\d*)px\s*/ig,"");_21=_21.replace(/(?:^|;)\s*right\s*:\s*(\d*)px\s*/ig,"");_21=_21.replace(/(?:^|;)\s*top\s*:\s*(\d*)px\s*/ig,"");_21=_21.replace(/(?:^|;)\s*bottom\s*:\s*(\d*)px\s*/ig,"");_21=_21.replace(/(?:^|;)\s*position\s*:\s*([A-z]*)\s*/ig,"");_20["style"]=_21;}_20=$W.cssManager.styleToClass(_20.id,_20);return _20;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ae.prototype.drawTab=function(){["WebSquare.uiplugin.tabContainer.drawTab"];try{var _22=[];for(var i=0;i<this.tabArr.length;i++){if(this.tabArr[i].tabValue==""){this.tabArr[i].tabValue="&nbsp;";}if(i==this.selectedIndex){_22.push("<table id='"+this.tabArr[i].tabID+"' style='"+this.tabArr[i].optionsTab.style+"' class='w2tabContainer_tab w2tabContainer_tab_table w2tabContainer_tab_selected "+this.tabArr[i].optionsTab.className+"' index='"+i+"' cellpadding='0' cellspacing='0'><tr>");_22.push("<td id='"+this.id+"_tab_left_"+i+"' class='w2tabContainer_tab_col_left "+this.tabArr[i].optionsTab.tabSelectedLeftImageClass+"' ></td>");_22.push("<td id='"+this.id+"_tab_center_"+i+"' class='w2tabContainer_tab_col_center "+this.tabArr[i].optionsTab.tabSelectedCenterImageClass+"' >"+this.tabArr[i].tabValue+"</td>");_22.push("<td id='"+this.id+"_tab_right_"+i+"' class='w2tabContainer_tab_col_right "+this.tabArr[i].optionsTab.tabSelectedRightImageClass+"' ></td>");_22.push("\t</tr></table>");}else{_22.push("<table id='"+this.tabArr[i].tabID+"' style='"+this.tabArr[i].optionsTab.style+"' class='w2tabContainer_tab w2tabContainer_tab_table w2tabContainer_tab_deselected "+this.tabArr[i].optionsTab.className+"' index='"+i+"' cellpadding='0' cellspacing='0'><tr>");_22.push("<td id='"+this.id+"_tab_left_"+i+"' class='w2tabContainer_tab_col_left "+this.tabArr[i].optionsTab.tabDefaultLeftImageClass+"'></td>");_22.push("<td id='"+this.id+"_tab_center_"+i+"' class='w2tabContainer_tab_col_center "+this.tabArr[i].optionsTab.tabDefaultCenterImageClass+"'>"+this.tabArr[i].tabValue+"</td>");_22.push("<td id='"+this.id+"_tab_right_"+i+"' class='w2tabContainer_tab_col_right "+this.tabArr[i].optionsTab.tabDefaultRightImageClass+"'></td>");_22.push("\t</tr></table>");}}this.dom.tabLayer.innerHTML=_22.join("");for(var idx=0;idx<this.tabArr.length;idx++){var _25=document.getElementById(this.tabArr[idx].tabID);var _26=document.getElementById(this.id+"_tab_left_"+idx);var _27=document.getElementById(this.id+"_tab_center_"+idx);var _28=document.getElementById(this.id+"_tab_right_"+idx);if(this.tabArr[idx].disabled==true){_25.disabled=true;this.addClass(_26,this.tabArr[idx].optionsTab.tabDisabledLeftImageClass);this.addClass(_27,this.tabArr[idx].optionsTab.tabDisabledCenterImageClass);this.addClass(_28,this.tabArr[idx].optionsTab.tabDisabledRightImageClass);}if(this.tabArr[idx].visible==false){this.addClass(_25,"w2tabContainer_none");}if(this.options.tabPosition.indexOf("right")>-1){this.addClass(_25,"w2tabContainer_tab_rightalign");}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ae.prototype.setSelectedIndexNM=function(idx){["WebSquare.uiplugin.tabContainer.setSelectedIndexNM"];try{idx=parseInt(idx);if(idx<0||idx>=this.tabArr.length){return;}if(this.tabArr[idx].disabled==true){return;}for(var i=0;i<this.tabArr.length;i++){var _2b=this.getChild(this.tabArr[i].contentsID);if(i==idx){if(!_2b.render){_2b.writeTo(this);_2b.activate();_2b.onComplete();}_2b.setStyle("zIndex",110);_2b.setStyle("visibility","visible");this.addClass(_2b.render,"w2tabContainer_contents_selected");this.selectedIndex=i;}else{_2b.setStyle("zIndex",100);_2b.setStyle("visibility","hidden");this.removeClass(_2b.render,"w2tabContainer_contents_selected");}}this.drawTab();$W._c.fireEvent(this,"ontabselect",idx);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ae.prototype.setSelectedIndex=function(idx){["WebSquare.uiplugin.tabContainer.setSelectedIndex"];try{var ret=$W._c.fireEvent(this,"onbeforeselect",this.getSelectedIndex(),idx);if(ret==false){return;}var _2e=this.getSelectedIndex();this.setSelectedIndexNM(idx);if(_2e!=this.getSelectedIndex()){$W._c.fireEvent(this,"onchange");}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ae.prototype.getSelectedIndex=function(){["WebSquare.uiplugin.tabContainer.getSelectedIndex"];try{return this.selectedIndex;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ae.prototype.getSelectedID=function(){["WebSquare.uiplugin.tabContainer.getSelectedID"];try{var idx=this.selectedIndex;if(idx<0||idx>=this.tabArr.length){return "";}return this.tabArr[idx].tabID;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ae.prototype.setLabelText=function(idx,_31){["WebSquare.uiplugin.tabContainer.setLabelText"];try{var _32=this._getTabIndex(idx);if(_32!=-1){this.tabArr[_32].tabValue=_31;this.drawTab();}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ae.prototype.getLabelText=function(idx){["WebSquare.uiplugin.tabContainer.getLabelText"];try{var _34=this._getTabIndex(idx);if(_34!=-1){return this.tabArr[_34].tabValue;}else{return null;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ae.prototype.addTab=function(id,_36){["WebSquare.uiplugin.tabContainer.addTab"];try{_36=$W.extend({label:"",src:"",frameMode:"iframe"},_36||{});var _37=id+"_contents";for(var i=0;i<this.tabArr.length;i++){if(this.tabArr[i].tabID==id){this.setSelectedIndex(i);return;}}this.tabArr.push(new $W._a._x(id,{contentsID:_37,tabValue:_36.label,optionsTab:$W.extendKeepingType({},this.defaultOptions)}));var _39=null;if(_36.frameMode=="wframe"){requires("uiplugin.wframe");_39=new $W._a._B(_37,{className:"w2tabContainer_contents"});}else{if(_36.frameMode=="iframe"){requires("uiplugin.iframe");_39=new $W._a.bs(_37,{className:"w2tabContainer_contents",spa:this.options.spa});}}_39.writeTo(this);_39.activate();_39.onComplete();_39.setSrc(_36.src);this.setSelectedIndex(this.tabArr.length-1);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ae.prototype.deleteTab=function(idx){["WebSquare.uiplugin.tabContainer.deleteTab"];try{var _3b=this._getTabIndex(idx);if(_3b!=-1){var _3c=this.getChild(this.tabArr[_3b].contentsID);if(_3c){_3c.remove();this.tabArr.splice(_3b,1);}this.drawTab();if(_3b<this.selectedIndex){this.setSelectedIndex(this.selectedIndex-1);}else{if(_3b==this.selectedIndex){if(this.tabArr[this.selectedIndex]){this.setSelectedIndex(this.selectedIndex);}else{this.setSelectedIndex(this.selectedIndex-1);}}else{if(_3b>this.selectedIndex){this.setSelectedIndex(this.selectedIndex);}}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ae.prototype.disableTab=function(idx){["WebSquare.uiplugin.tabContainer.enableTab"];try{idx=parseInt(idx);if(isNaN(idx)||idx<0||idx>=this.tabArr.length){return;}this.tabArr[idx].disabled=true;var _3e=this.getChild(this.tabArr[idx].contentsID);_3e.setDisabled(true);if(this.getSelectedIndex()==idx){var _3f=false;for(var i=0;i<this.tabArr.length;i++){if(this.tabArr[i].disabled==false){this.setSelectedIndex(i);_3f=true;break;}}if(_3f==false){this.enableTab(idx);alert("you should enable at least 1 tab!");return false;}}this.drawTab();return true;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ae.prototype.enableTab=function(idx){["WebSquare.uiplugin.tabContainer.enableTab"];try{idx=parseInt(idx);if(isNaN(idx)||idx<0||idx>=this.tabArr.length){return;}this.tabArr[idx].disabled=false;var _42=this.getChild(this.tabArr[idx].contentsID);_42.setDisabled(false);this.drawTab();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ae.prototype.setTabVisible=function(idx,_44){["WebSquare.uiplugin.tabContainer.setTabVisible"];try{idx=parseInt(idx);if(isNaN(idx)||idx<0||idx>=this.tabArr.length){return;}this.tabArr[idx].visible=_44;if(_44==true){this.enableTab(idx);}else{var _45=this.disableTab(idx);if(_45==false){this.setTabVisible(idx,true);}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ae.prototype.setInitValue=function(_46){["WebSquare.uiplugin.tabContainer.setInitValue"];try{this.init(_46);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ae.prototype.init=function(_47){["WebSquare.uiplugin.tabContainer.init"];try{_47=$W.extend({excludePlugin:"",excludeId:"",fireEvent:false},_47||{});var _48=this.getChildren();for(var i=0;i<_48.length;i++){if(_48[i].setInitValue){if((" "+_47.excludePlugin+" ").indexOf(" "+_48[i].options.pluginName+" ")==-1&&(" "+_47.excludeId+" ").indexOf(" "+_48[i].id+" ")==-1){_48[i].setInitValue(_47);}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ae.prototype.invoke=function(_4a,_4b,_4c,_4d){["WebSquare.uiplugin.tabContainer.invoke"];try{return $W._t.prototype.invoke.call(this,_4a,_4b,_4c,_4d);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ae.prototype.getWindow=function(idx){["WebSquare.uiplugin.tabContainer.getWindow"];try{var _4f;var _50=idx||this.selectedIndex;if(_50<0){return _4f;}for(var i=0;i<this.tabArr.length;i++){var _52=this.getChild(this.tabArr[i].contentsID);if(i==_50){if(_52.getPluginName()=="iframe"){_4f=_52.getWindow();}else{_4f=window;}}}return _4f;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ae.prototype.handleClickEvent=function(e){["WebSquare.uiplugin.tabContainer.handleClickEvent"];try{var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match("w2tabContainer_tab")){var _55=it.getElement().getAttribute("index");if(this.event.isMe(e,this.dom.tabLayer)){if(this.tabArr[_55].disabled==false){this.setSelectedIndex(_55);$W._c.fireEvent(this,"ontabclick");}}}}it=null;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ae.prototype.handleMouseoverEvent=function(e){["WebSquare.uiplugin.tabContainer.handleMouseoverEvent"];try{$W._c.stopEvent(e);var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match("w2tabContainer_tab")){var _58=it.getElement().getAttribute("index");if(this.tabArr[_58].disabled==false){this.addClass(it.getElement(),"w2tabContainer_tab_over");if(_58!=this.selectedIndex){var _59=document.getElementById(this.id+"_tab_left_"+_58);var _5a=document.getElementById(this.id+"_tab_center_"+_58);var _5b=document.getElementById(this.id+"_tab_right_"+_58);this.changeClass(_59,this.tabArr[_58].optionsTab.tabDefaultLeftImageClass,this.tabArr[_58].optionsTab.tabHoverLeftImageClass);this.changeClass(_5a,this.tabArr[_58].optionsTab.tabDefaultCenterImageClass,this.tabArr[_58].optionsTab.tabHoverCenterImageClass);this.changeClass(_5b,this.tabArr[_58].optionsTab.tabDefaultRightImageClass,this.tabArr[_58].optionsTab.tabHoverRightImageClass);}}}}it=null;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ae.prototype.handleMouseoutEvent=function(e){["WebSquare.uiplugin.tabContainer.handleMouseoutEvent"];try{$W._c.stopEvent(e);var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match("w2tabContainer_tab")){var _5e=it.getElement().getAttribute("index");if(this.tabArr[_5e].disabled==false){this.removeClass(it.getElement(),"w2tabContainer_tab_over");if(_5e!=this.selectedIndex){var _5f=document.getElementById(this.id+"_tab_left_"+_5e);var _60=document.getElementById(this.id+"_tab_center_"+_5e);var _61=document.getElementById(this.id+"_tab_right_"+_5e);this.changeClass(_5f,this.tabArr[_5e].optionsTab.tabHoverLeftImageClass,this.tabArr[_5e].optionsTab.tabDefaultLeftImageClass);this.changeClass(_60,this.tabArr[_5e].optionsTab.tabHoverCenterImageClass,this.tabArr[_5e].optionsTab.tabDefaultCenterImageClass);this.changeClass(_61,this.tabArr[_5e].optionsTab.tabHoverRightImageClass,this.tabArr[_5e].optionsTab.tabDefaultRightImageClass);}}}}it=null;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ae.prototype.setSize=function(_62,_63){["WebSquare.uiplugin.tabContainer.setSize"];try{$W._n.prototype.setSize.call(this,_62,_63);}catch(e){$W.exception.printStackTrace(e);}};$W._a._x=function(id,_65){_65=$W.extend({tabID:id,contentsID:"",tabValue:"",optionsTab:{},optionsContents:{},disabled:false,visible:true},_65||{});$W.extend(this,_65);};;WebSquare.uiplugin.tab=$W._a._x;;WebSquare.uiplugin.tabContainer=$W._a.ae;$W.korHelper=function(){this.font_cho=new Array("\u3131","\u3132","\u3134","\u3137","\u3138","\u3139","\u3141","\u3142","\u3143","\u3145","\u3146","\u3147","\u3148","\u3149","\u314a","\u314b","\u314c","\u314d","\u314e");this.font_jung=new Array("\u314f","\u3150","\u3151","\u3152","\u3153","\u3154","\u3155","\u3156","\u3157","\u3158","\u3159","\u315a","\u315b","\u315c","\u315d","\u315e","\u315f","\u3160","\u3161","\u3162","\u3163");this.font_jong=new Array("","\u3131","\u3132","\u3133","\u3134","\u3135","\u3136","\u3137","\u3139","\u313a","\u313b","\u313c","\u313d","\u313e","\u313f","\u3140","\u3141","\u3142","\u3144","\u3145","\u3146","\u3147","\u3148","\u314a","\u314b","\u314c","\u314d","\u314e");};$W.korHelper.prototype={getCho:function(_1){return this.font_cho[parseInt((_1-44032)/(21*28))];},getJung:function(_2){return this.font_jung[parseInt((_2-44032)%(21*28)/28)];},getJong:function(_3){return this.font_jong[parseInt((_3-44032)%(21*28)%28)];},getChoArr:function(_4){var _5=[];var _6=_4.length;for(var i=0;i<_6;i++){var _8=_4.charCodeAt(i);var _9=_8-44032;if(_9>=0){_5.push(this.getCho(_8));}else{_5.push(_4.charAt(i));}}return _5;},getJungArr:function(_a){var _b=[];var _c=_a.length;for(var i=0;i<_c;i++){var _e=_a.charCodeAt(i);var _f=_e-44032;if(_f>=0){_b.push(this.getJung(_e));}else{_b.push("");}}return _b;},getJongArr:function(str){var arr=[];var _12=str.length;for(var i=0;i<_12;i++){var _14=str.charCodeAt(i);var _15=_14-44032;if(_15>=0){arr.push(this.getJong(_14));}else{arr.push("");}}return arr;},matchArr:function(_16,_17,_18){var _19=true;if(_16.length!=_17.length){_19=false;}else{var _1a=_16.length;for(var i=0;i<_1a;i++){if(!_18){if(_17[i]==""){continue;}}if(_16[i]!=_17[i]){_19=false;break;}}}return _19;},containArr:function(_1c,_1d,_1e,_1f,end){var _21=[];var _22=_1c.length;var _23=false;var _24;myresult=function(_25,_26,_27,_28){if(_26.length-1>_28){if(_26[_28+1]===0){_23=true;}else{if(_25[_27+1]==_26[_28+1]){this.myresult(_25,_26,_27+1,_28+1,_23);}else{_23=false;}}}};for(var i=_1e;i<_22;i++){if(_1d.length==1&&_1d[0]==""){_23=true;return {"result":_23};}if(_1c[i]==_1d[0]){if(_1f){_24=i;_1f=false;}_23=true;myresult(_1c,_1d,i,0);if(_23==true){break;}}}return {"result":_23,"first":_24};},matchStr:function(_2a,_2b,_2c){if(this.matchArr(this.getChoArr(_2a),this.getChoArr(_2b),_2c)&&this.matchArr(this.getJungArr(_2a),this.getJungArr(_2b),_2c)&&this.matchArr(this.getJongArr(_2a),this.getJongArr(_2b),_2c)){return true;}else{return false;}},containStr:function(_2d,_2e,_2f){var _30=this.containArr(this.getChoArr(_2d),this.getChoArr(_2e),0,true,false);var _31=this.containArr(this.getJungArr(_2d),this.getJungArr(_2e),_30.first,false);var _32=this.containArr(this.getJongArr(_2d),this.getJongArr(_2e),_30.first,false,true);if(_30.result&&_31.result&&_32.result){return true;}else{return false;}},startWith:function(_33,_34){if(_34.length>_33.length){return false;}return this.matchStr(_33.substr(0,_34.length),_34);},containWith:function(_35,_36){if(_36.length>_35.length){return false;}return this.containStr(_35,_36);}};$W._a.ba=function(id,_2,_3){["WebSquare.uiplugin.slideHide"];$W._t.call(this,id,_2,_3);};$W.extend($W._a.ba.prototype,$W._t.prototype);$W._a.ba.prototype.defaultOptions={pluginType:"uiplugin.slideHide",pluginName:"slideHide",userEvents:["onSlideEnd","onHideEnd","onSlideStart","onHideStart"],parseChild:true,showSize:20,moveSize:10,slideDirection:"right",slideEvent:"",hideEvent:"",firstStatus:"hide",eventArea:"full"};$W._a.ba.prototype.initialize=function(_4){["WebSquare.uiplugin.slideHide.initialize"];try{this.slideStatus=(this.options.firstStatus=="slide")?true:false;this.slideDist=0;this.slideTime=0;this.nowMove=(this.slideStatus)?2:0;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ba.prototype.toHTML=function(){["WebSquare.uiplugin.slideHide.toHTML"];try{var _5=[];var _6=(this.options.style=="")?"":"style='"+this.options.style+""+((this.options.firstStatus=="hide")?";display:none":"")+"'";_5.push("<div id='"+this.id+"' "+_6+" class='w2slideHide "+this.options.className+"'>");_5.push("<div style='position:absolute;' id='"+this.id+"_slideHideMain' class='w2slideHide_slideHideMain'>");var _7=this.getChildren();for(var i=0;i<_7.length;i++){_5.push(_7[i].toHTML());}_5.push("</div>");_5.push("</div>");return _5.join("");}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ba.prototype.setAction=function(){["WebSquare.uiplugin.slideHide.setAction"];try{this.originStyle={};this.originStyle["left"]=this.render.style.left;this.originStyle["top"]=this.render.style.top;this.originStyle["width"]=this.render.style.width;this.originStyle["height"]=this.render.style.height;this.main=this.getElementById(this.id+"_slideHideMain");var _9=this.options.firstStatus=="hide"?this.render.style.width:$W._H.getSize(this.render,"innerwidth")+"px";var _a=this.options.firstStatus=="hide"?this.render.style.height:$W._H.getSize(this.render,"innerheight")+"px";this.main.style.width=_9;this.main.style.height=_a;switch(this.options.slideDirection){case "right":this.setRight(_9,_a);break;case "left":this.setLeft(_9,_a);break;case "up":this.setUp(_9,_a);break;case "down":this.setDown(_9,_a);break;}if(this.options.slideEvent==this.options.hideEvent){if(this.options.slideEvent!=""&&this.options.hideEvent!=""){this.event.addListener(this.render,this.options.slideEvent,this.event.bindAsEventListener(this,this.handleToggleEvent));}}else{if(this.options.slideEvent!=""){this.event.addListener(this.render,this.options.slideEvent,this.event.bindAsEventListener(this,this.handleSlideEvent));}if(this.options.hideEvent!=""){this.event.addListener(this.render,this.options.hideEvent,this.event.bindAsEventListener(this,this.handleHideEvent));}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ba.prototype.setRight=function(_b,_c){["WebSquare.uiplugin.slideHide.setRight"];try{this.main.style.right="0px";if(!this.slideStatus){this.render.style.width=this.options.showSize+"px";}this.render.style.display="";var _d=(parseInt(_b,10)-this.options.showSize)/this.options.moveSize*0.015;var _e=this;this.slideOption={width:parseInt(_b,10),height:parseInt(_c,10),fromLeft:true,fromTop:true,mode:"absolute",duration:_d,finish:function(){_e.endSlide();}};this.hideOption={width:this.options.showSize,height:parseInt(_c,10),fromLeft:true,fromTop:true,mode:"absolute",duration:_d,finish:function(){_e.endHide();}};}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ba.prototype.setLeft=function(_f,_10){["WebSquare.uiplugin.slideHide.setLeft"];try{this.main.style.left="0px";if(!this.slideStatus){this.render.style.width=this.options.showSize+"px";this.render.style.left=(parseInt(this.render.style.left,10)+parseInt(_f,10)-this.options.showSize)+"px";}this.render.style.display="";var _11=(parseInt(_f,10)-this.options.showSize)/this.options.moveSize*0.015;var _12=this;this.slideOption={width:parseInt(_f,10),height:parseInt(_10,10),fromLeft:false,fromTop:true,mode:"absolute",duration:_11,finish:function(){_12.endSlide();}};this.hideOption={width:this.options.showSize,height:parseInt(_10,10),fromLeft:false,fromTop:true,mode:"absolute",duration:_11,finish:function(){_12.endHide();}};}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ba.prototype.setDown=function(_13,_14){["WebSquare.uiplugin.slideHide.setDown"];try{this.main.style.bottom="0px";if(!this.slideStatus){this.render.style.height=this.options.showSize+"px";}this.render.style.display="";var _15=(parseInt(_14,10)-this.options.showSize)/this.options.moveSize*0.015;var _16=this;this.slideOption={width:parseInt(_13,10),height:parseInt(_14,10),fromLeft:true,fromTop:true,mode:"absolute",duration:_15,finish:function(){_16.endSlide();}};this.hideOption={width:parseInt(_13,10),height:this.options.showSize,fromLeft:true,fromTop:true,mode:"absolute",duration:_15,finish:function(){_16.endHide();}};}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ba.prototype.setUp=function(_17,_18){["WebSquare.uiplugin.slideHide.setUp"];try{this.main.style.top="0px";if(!this.slideStatus){this.render.style.height=this.options.showSize+"px";this.render.style.top=(parseInt(this.render.style.top,10)+parseInt(_18,10)-this.options.showSize)+"px";}this.render.style.display="";var _19=(parseInt(_18,10)-this.options.showSize)/this.options.moveSize*0.015;var _1a=this;this.slideOption={width:parseInt(_17,10),height:parseInt(_18,10),fromLeft:true,fromTop:false,mode:"absolute",duration:_19,finish:function(){_1a.endSlide();}};this.hideOption={width:parseInt(_17,10),height:this.options.showSize,fromLeft:true,fromTop:false,mode:"absolute",duration:_19,finish:function(){_1a.endHide();}};}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ba.prototype.endSlide=function(){["WebSquare.uiplugin.slideHide.endSlide"];try{this.nowMove=2;this.slideStatus=true;switch(this.options.slideDirection){case "right":case "left":this.render.style.top=this.originStyle["top"];this.render.style.height=this.originStyle["height"];break;case "up":case "down":this.render.style.left=this.originStyle["left"];this.render.style.width=this.originStyle["width"];break;}$W._c.fireEvent(this,"onSlideEnd");}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ba.prototype.endHide=function(e){["WebSquare.uiplugin.slideHide.endHide"];try{this.nowMove=0;this.slideStatus=false;switch(this.options.slideDirection){case "right":case "left":this.render.style.top=this.originStyle["top"];this.render.style.height=this.originStyle["height"];break;case "up":case "down":this.render.style.left=this.originStyle["left"];this.render.style.width=this.originStyle["width"];break;}$W._c.fireEvent(this,"onHideEnd");}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ba.prototype.isMouseInRender=function(e){["WebSquare.uiplugin.slideHide.isMouseInRender"];try{var _1d=$W._H.getAbsoluteLeft(this.render);var top=$W._H.getAbsoluteTop(this.render);var _1f=this.render.offsetWidth;var _20=this.render.offsetHeight;var x=$W._c.getMouseX(e);var y=$W._c.getMouseY(e);if(x>_1d&&x<_1d+_1f&&y>top&&y<top+_20){return true;}else{return false;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ba.prototype.isMouseInShownArea=function(e){["WebSquare.uiplugin.slideHide.isMouseInShownArea"];try{var _24;var top;var _26;var _27;switch(this.options.slideDirection){case "right":_24=$W._H.getAbsoluteLeft(this.render)+this.render.offsetWidth-this.options.showSize;top=$W._H.getAbsoluteTop(this.render);_26=this.options.showSize;_27=this.render.offsetHeight;break;case "left":_24=$W._H.getAbsoluteLeft(this.render);top=$W._H.getAbsoluteTop(this.render);_26=this.options.showSize;_27=this.render.offsetHeight;break;case "up":_24=$W._H.getAbsoluteLeft(this.render);top=$W._H.getAbsoluteTop(this.render);_26=this.render.offsetWidth;_27=this.options.showSize;break;case "down":_24=$W._H.getAbsoluteLeft(this.render);top=$W._H.getAbsoluteTop(this.render)+this.render.offsetHeight-this.options.showSize;_26=this.render.offsetWidth;_27=this.options.showSize;break;}var x=$W._c.getMouseX(e);var y=$W._c.getMouseY(e);if(x>_24&&x<_24+_26&&y>top&&y<top+_27){return true;}else{return false;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ba.prototype.startSlide=function(){["WebSquare.uiplugin.slideHide.startSlide"];try{if(this.nowMove==1||this.nowMove==2){return;}if(this.nowMove==3){$W._M.effectManager.remove(this.slideEffect);}this.nowMove=1;$W._c.fireEvent(this,"onSlideStart");this.slideEffect=new $W._M.resize(this.render,this.slideOption);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ba.prototype.startHide=function(){["WebSquare.uiplugin.slideHide.startHide"];try{if(this.nowMove==0||this.nowMove==3){return;}if(this.nowMove==1){$W._M.effectManager.remove(this.slideEffect);}this.nowMove=3;$W._c.fireEvent(this,"onHideStart");this.slideEffect=new $W._M.resize(this.render,this.hideOption);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ba.prototype.setSlideHide=function(_2a){["WebSquare.uiplugin.slideHide.startHide"];try{if(_2a==="slide"){if(this.nowMove==1||this.nowMove==3){$W._M.effectManager.remove(this.slideEffect);}this.nowMove=2;if(!this.slideStatus){if(this.options.slideDirection==="left"){this.render.style.left=parseInt(this.render.style.left,10)-parseInt(this.originStyle["width"],10)+this.options.showSize+"px";}else{if(this.options.slideDirection==="up"){this.render.style.top=parseInt(this.render.style.top,10)-parseInt(this.originStyle["height"],10)+this.options.showSize+"px";}}}this.slideStatus=true;switch(this.options.slideDirection){case "right":case "left":this.render.style.width=this.originStyle["width"];break;case "up":case "down":this.render.style.height=this.originStyle["height"];break;}}else{if(_2a==="hide"){if(this.nowMove==1||this.nowMove==3){$W._M.effectManager.remove(this.slideEffect);}this.nowMove=0;if(this.slideStatus){if(this.options.slideDirection==="left"){this.render.style.left=parseInt(this.render.style.left,10)+parseInt(this.originStyle["width"],10)-this.options.showSize+"px";}else{if(this.options.slideDirection==="up"){this.render.style.top=parseInt(this.render.style.top,10)+parseInt(this.originStyle["height"],10)-this.options.showSize+"px";}}}this.slideStatus=false;switch(this.options.slideDirection){case "right":case "left":this.render.style.width=this.options.showSize+"px";break;case "up":case "down":this.render.style.height=this.options.showSize+"px";break;}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ba.prototype.isOpen=function(){["WebSquare.uiplugin.slideHide.isOpen"];try{return this.slideStatus;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ba.prototype.handleSlideEvent=function(e){["WebSquare.uiplugin.slideHide.handleSlideEvent"];try{this.startSlide();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ba.prototype.handleHideEvent=function(e){["WebSquare.uiplugin.slideHide.handleHideEvent"];try{if(this.options.hideEvent=="onmouseout"&&this.isMouseInRender(e)){return;}if(this.options.eventArea=="partial"&&!this.isMouseInShownArea(e)){return;}this.startHide();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ba.prototype.handleToggleEvent=function(e){["WebSquare.uiplugin.slideHide.handleToggleEvent"];try{if(this.slideStatus==false){this.handleSlideEvent(e);}else{this.handleHideEvent(e);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ba.prototype.setHeight=function(_2e){if(!this.render){return;}if(this.options.slideDirection=="left"||this.options.slideDirection=="right"){_2e=parseInt(_2e,10);if(_2e!=null&&!isNaN(_2e)&&_2e>=0){this.render.style.height=_2e+"px";this.main.style.height=_2e+"px";this.slideOption.height=_2e;this.hideOption.height=_2e;}}};$W._a.ba.prototype.setWidth=function(_2f){if(!this.render){return;}if(this.options.slideDirection=="up"||this.options.slideDirection=="down"){_2f=parseInt(_2f,10);if(_2f!=null&&!isNaN(_2f)&&_2f>=0){this.render.style.width=_2f+"px";this.main.style.width=_2f+"px";this.slideOption.width=_2f;this.hideOption.width=_2f;}}};;WebSquare.uiplugin.slideHide=$W._a.ba;$W._a.aj=function(id,_2,_3){["WebSquare.uiplugin.taskManager"];$W._t.call(this,id,_2,_3);};$W.extend($W._a.aj.prototype,$W._t.prototype);$W._a.aj.prototype.defaultOptions={pluginType:"uiplugin.taskManager",pluginName:"taskManager",id:"",style:""};$W._a.aj.prototype.initialize=function(_4){};$W._a.aj.prototype.toHTML=function(){["WebSquare.uiplugin.taskManager.toHTML"];var _5=[];var _6=(this.options.style=="")?"":"style='"+this.options.style+"'";_5.push("<div id='"+this.id+"' "+_6+" class='w2taskManager "+this.options.className+"'>");_5.push("<div class='w2taskManager_title'>task</div>");_5.push("<div id='"+this.id+"_bar' class='w2taskManager_bar'>");_5.push("<table class='w2taskManager_bar_table' cellpadding='0' cellspacing='0'>");_5.push("<tr>");for(var i=0;i<5;i++){_5.push("<td class='w2taskManager_bar_col'><div class='w2taskManager_task' index='"+i+"'>bar_"+i+"<div></td>");}_5.push("</tr>");_5.push("</table>");_5.push("</div>");_5.push("</div>");return _5.join("");};$W._a.aj.prototype.setAction=function(){this.dom.bar=document.getElementById(this.id+"_bar");this.event.addListener(this.render,"onclick",this.event.bindAsEventListener(this,this.handleClickEvent));this.event.addListener(this.render,"onmouseover",this.event.bindAsEventListener(this,this.handleMouseoverEvent));this.event.addListener(this.render,"onmouseout",this.event.bindAsEventListener(this,this.handleMouseoutEvent));};$W._a.aj.prototype.refreshItemset=function(){};$W._a.aj.prototype.refresh=function(){};$W._a.aj.prototype.minimize=function(id){var _9=document.getElementById(id);_9.style.display="none";var _a=document.getElementById(this.id+"_taskBar");_a.innerHTML+="<div id='"+id+"_task' style='width:100px;'>"+id+"</div>";var _b=document.getElementById(id+"_task");this.event.addListener(_b,"ondblclick",this.event.bindAsEventListener(this,this.handleDblClickEvent));};$W._a.aj.prototype.restore=function(id){var _d=document.getElementById(id);var _e=document.getElementById(id+"_task");if(_e){_d.style.display="block";_e.innerHTML="";}};$W._a.aj.prototype.drawBar=function(id){this.dom.bar.innerHTML="abc";};$W._a.aj.prototype.handleClickEvent=function(e){$W._c.stopEvent(e);var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match("w2taskManager_task")){var _12=it.getElement().getAttribute("index");alert(_12);}}it=null;};$W._a.aj.prototype.handleMouseoverEvent=function(e){$W._c.stopEvent(e);var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match("w2taskManager_task")){this.addClass(it.getElement(),"w2taskManager_task_over");}}it=null;};$W._a.aj.prototype.handleMouseoutEvent=function(e){$W._c.stopEvent(e);var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match("w2taskManager_task")){this.removeClass(it.getElement(),"w2taskManager_task_over");}}it=null;};$W._a.aj.prototype.handleDblClickEvent=function(e){$W._c.stopEvent(e);var it=this.event.getTargetIterator(e,this.render);var _19=e.srcElement.id;_19=_19.replace("_task","");this.restore(_19);};;WebSquare.uiplugin.taskManager=$W._a.aj;$W.tag=function(id,_2,_3){this.parentControl=null;this.childControlList=[];this.element=_3;this.options={};if(_3.nodeType==1){this.id=_3.getAttribute("id");this.uuid=$W.UUIDPrefix+"_"+$W.UUID++;if(!this.id){this.element.setAttribute("id",this.uuid);this.id=this.uuid;this.options.id=this.uuid;}$W.idCache[this.uuid]=this;$W.idToUUID[this.id]=this.uuid;var _4=$W._G.getBoolean($W._N.getConfiguration("/WebSquare/parseHtml/@value")||"true");this.options.parseChild=this.element.tagName=="w2:tag"||_4;}this.refreshAdaptive=$W._n.prototype.refreshAdaptive;};$W.extend($W.tag.prototype,$W.htmlControl.prototype);$W.tag.idCounter=0;$W.tag.prototype.toHTML=function(){var _5=this.element.tagName;var _6=$W._N.getEmptyTag();var _7=null;if(_5=="w2:tag"){_5=this.element.getAttribute("tagname")||"div";if(this.element.getAttribute("tagname")){this.element.removeAttribute("tagname");_7=$W._B.noNameSpaceSerialize(this.element);this.element.setAttribute("tagname",_5);}else{_7=$W._B.noNameSpaceSerialize(this.element);}_7=_7.replace("w2:tag",_5);if(this.options.parseChild&&!this.id){this.id="w2tag_"+$W.tag.idCounter++;this.element.setAttribute("id",this.id);}}else{var _8="";if(_5=="td"){if(!($W._G.isIE()&&parseInt($W._N.browserVersion(),10)<10)){if($W._G.isIEAllVersion()){var _9=this.element.previousSibling;if(_9!=null){if(_9.nodeName=="th"){if(_9.text!=""){_8=_9.text;}else{var _a=_9.firstChild;if(_a!=null){if(_a.tagName=="w2:textbox"){_8=_a.getAttribute("label");}}}}}}else{var _9=this.element.previousElementSibling;if(_9!=null){if(_9.nodeName=="th"){if(_9.firstChild!=null){var _a;if(_9.firstChild.nodeType==1){_a=_9.firstChild;}else{_a=_9.firstChild.nextSibling;if(_a!=null&&_a.tagName=="br"){_a=null;}}if(_a==null){_8=_9.innerText||_9.textContent;}else{if(_a.tagName=="w2:textbox"){_8=_a.getAttribute("label");}else{_8=_a.innerText||_a.textContent;}}}}}}}this.element.setAttribute("data-title",_8.replace(/&nbsp;/g," "));}_7=$W._B.noNameSpaceSerialize(this.element);}if(this.options.parseChild&&!_6[_5.toLowerCase()]){var _b="";var _c="";if(this.element.nodeType==1){var _d=_7.substring(0,_7.indexOf(">"));if(_d.endsWith("/")){_d=_d.substring(0,_d.length-1)+">";}else{_d+=">";}_b=_d;_c="</"+_5+">";}else{if(this.element.nodeType==3){_b=this.element.nodeValue;_c="";}}var _e=[_b];if(_b.toLowerCase().wq_trim().indexOf("<script ")==0){var _f="";if(this.element.parentElement){_f=this.element.parentElement.tagName||"";}else{if(this.element.parentNode){_f=this.element.parentNode.tagName||"";}}if(_f.indexOf("xf")<0&&_f.indexOf("w2")<0){var _10=this.element.firstChild||{};if(_10.nodeType===3||_10.nodeType===4){$W.scriptSection+=";"+_10.data;_e.push(_10.data);}}}else{var _11=this.getChildren();for(var i=0;i<_11.length;i++){_e.push(_11[i].toHTML());}}_e.push(_c);return _e.join("");}else{if(this.options.parseChild){if(!_7.endsWith("/>")){_7=_7.substring(0,_7.indexOf(">"));if(_7.endsWith(" ")){_7+="/>";}else{_7+=" />";}}}if(this.element.nodeType==3){return this.element.nodeValue;}return _7;}};$W.tag.prototype.activate=function(){if(this.options.parseChild){var _13=this.getChildren();for(var i=0;i<_13.length;i++){_13[i].activate();}if(this.element.tagName=="td"){if(!($W._G.isIE()&&parseInt($W._N.browserVersion(),10)<10)){if($W._G.isIEAllVersion()){if(this.element.previousSibling!=null){if(this.element.previousSibling.nodeName!="th"){this.addClass(" w2tb_noTH");}}else{this.addClass(" w2tb_noTH");}}else{if(this.element.previousElementSibling!=null){if(this.element.previousElementSibling.nodeName!="th"){this.addClass(" w2tb_noTH");}}else{this.addClass(" w2tb_noTH");}}}}}};$W.tag.prototype.setAction=function(){};$W.tag.prototype.remove=function(){["WebSquare.tag.remove"];try{this.destroy();$W.removeNode(this.render);if(window[this.id]){window[this.id]=null;}for(var i in $W.getBody().childControlList){if($W.getBody().childControlList[i]==this){$W.getBody().childControlList.splice(i,1);}}for(var i in this){delete this[i];}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W.tag.prototype.setAdaptive=function(){["WebSquare.tag.prototype.setAdaptive"];try{var _16=parseInt(this.element.getAttribute("adaptiveThreshold"))||480;if(!($W._G.isIE()&&parseInt($W._N.browserVersion(),10)<10)){if(parseInt(top.document.documentElement.clientWidth||top.document.body.clientWidth)<=_16){this.addAdaptive();}else{this.removeAdaptive();}}}catch(e){$W.exception.printStackTrace(e);}};$W.tag.prototype.addAdaptive=function(){["WebSquare.tag.prototype.addAdaptive"];try{if(!($W._G.isIE()&&parseInt($W._N.browserVersion(),10)<10)){var _17=this.element;var _18=_17.getAttribute("adaptive");var _19;if(_18=="layout"){_19=" w2tb_adaptive_layout";}else{if(_18=="crosstab"){_19=" w2tb_adaptive_crosstab";}}this.addClass(_19);this.removeAdaptiveHeight(_18);this.setAdaptiveHeight(_18);}}catch(e){$W.exception.printStackTrace(e);}};$W.tag.prototype.removeAdaptive=function(){["WebSquare.tag.prototype.removeAdaptive"];try{if(!($W._G.isIE()&&parseInt($W._N.browserVersion(),10)<10)){var _1a=this.element;var _1b=_1a.getAttribute("adaptive");var _1c;if(_1b=="layout"){_1c=" w2tb_adaptive_layout";}else{if(_1b=="crosstab"){_1c=" w2tb_adaptive_crosstab";}}this.removeClass(_1c);this.removeAdaptiveHeight(_1b);}}catch(e){$W.exception.printStackTrace(e);}};$W.tag.prototype.addClass=function(_1d){["WebSquare.tag.addClass"];try{var _1e=document.getElementById(this.id).className.wq_trim();var _1f=_1e.split(" ");for(var i=0;i<_1f.length;i++){var tmp=_1f[i].wq_trim();if((" "+tmp+" ").indexOf(_1d)>-1){if(i==_1f.length-1){return;}}else{continue;}}if(_1f.length>1){_1e+=" ";}_1e+=_1d;document.getElementById(this.id).className=_1e;}catch(e){$W.exception.printStackTrace(e);}};$W.tag.prototype.removeClass=function(_22){["WebSquare.tag.removeClass"];try{var _23=document.getElementById(this.id).className.split(" ");var _24=[];for(var i=0;i<_23.length;i++){var tmp=_23[i].wq_trim();if((" "+tmp+" ").indexOf(_22)>-1){continue;}else{if(tmp.length>0){_24.push(tmp);}}}document.getElementById(this.id).className=_24.join(" ");}catch(e){$W.exception.printStackTrace(e);}};$W.tag.prototype.setDisabled=function(_27){for(var i=0;i<this.childControlList.length;i++){var _29=this.childControlList[i];if(_29&&$W.idCache[_29.uuid]&&typeof _29.setDisabled=="function"){_29.setDisabled(_27);}}};$W.tag.prototype.finalize=function(){};$W.tag.prototype.setAdaptiveHeight=function(_2a){["WebSquare.tag.prototype.setAdaptiveHeight"];try{if(_2a=="crosstab"){var ths=document.getElementById(this.id).getElementsByClassName("w2tb_th");var _2c=document.getElementById(this.id).getElementsByTagName("tbody")[0].getElementsByClassName("w2tb_tr");var _2d=document.getElementById(ths[0].id);var _2e=parseInt($W._H.getStyle(_2d,"padding-top"));var _2f=parseInt($W._H.getStyle(_2d,"padding-bottom"));var _30=document.getElementById(document.getElementById(this.id).getElementsByClassName("w2tb_td")[0].id);var _31=parseInt($W._H.getStyle(_30,"padding-top"));var _32=parseInt($W._H.getStyle(_30,"padding-bottom"));for(var i=0;i<ths.length;i++){var _34=ths[i].offsetHeight;var _35=0;for(var j=0;j<_2c.length;j++){var tds=_2c[j].getElementsByClassName("w2tb_td");for(var k=0;k<tds.length;k++){var _39=tds[i].offsetHeight;_35=_35>=_39?_35:_39;}}if(_34>_35){for(var l=0;l<_2c.length;l++){var tds=_2c[l].getElementsByClassName("w2tb_td");document.getElementById(tds[i].id).style.height=(_34-(_31+_32+1))+"px";}}else{if(_34<_35){document.getElementById(ths[i].id).style.height=(_35-(_2e+_2f+1))+"px";for(var l=0;l<_2c.length;l++){var tds=_2c[l].getElementsByClassName("w2tb_td");document.getElementById(tds[i].id).style.height=(_35-(_2e+_2f+1))+"px";}}}}}else{if(_2a=="layout"){var tds=document.getElementById(this.id).getElementsByClassName("w2tb_td");for(var i=0;i<tds.length;i++){var _3b=tds[i].getAttribute("data-title");if(_3b){var _3c=$W._G.getRulerSpan();_3c.style["padding"]=window.getComputedStyle(tds[i],":before").getPropertyValue("padding");_3c.style["width"]=window.getComputedStyle(tds[i],":before").getPropertyValue("width");_3c.style["white-space"]=window.getComputedStyle(tds[i],":before").getPropertyValue("white-space");_3c.style["font-weight"]=window.getComputedStyle(tds[i],":before").getPropertyValue("font-weight");_3c.innerHTML=_3b;if(_3c.offsetHeight>tds[i].offsetHeight){tds[i].style.height=_3c.offsetHeight+"px";}_3c.style.top="-10000px";_3c.style.left="-10000px";_3c.style.visibility="hidden";}}}}}catch(e){$W.exception.printStackTrace(e);}};$W.tag.prototype.removeAdaptiveHeight=function(_3d){["WebSquare.tag.prototype.removeAdaptiveHeight"];try{if(_3d=="crosstab"){var ths=document.getElementById(this.id).getElementsByClassName("w2tb_th");var tds=document.getElementById(this.id).getElementsByClassName("w2tb_td");for(var i=0;i<ths.length;i++){ths[i].style.removeProperty("height");}for(var k=0;k<tds.length;k++){tds[k].style.removeProperty("height");}}else{if(_3d=="layout"){var tds=document.getElementById(this.id).getElementsByClassName("w2tb_td");for(var i=0;i<tds.length;i++){tds[i].style.removeProperty("height");}}}}catch(e){$W.exception.printStackTrace(e);}};$W.tag.prototype.onComplete=function(){if(this.completed){$l("!!!WARNING!!! duplicate call 'onComplete' for : "+this.id);return;}var _42=this.childControlList;if((this.options.pluginName==="wframe"||this.options.pluginName=="pageInherit")&&_42[0]!=null){_42=_42[0].childControlList;}for(var i=0;i<_42.length;i++){if(!_42[i].completed&&typeof _42[i].onComplete=="function"){_42[i].onComplete();}}this.completed=true;if(!($W._G.isIE()&&parseInt($W._N.browserVersion(),10)<10)){if(typeof this.element.getAttribute!="undefined"){var _44=this.element.getAttribute("adaptive");if(_44=="crosstab"||_44=="layout"){var _45=document.getElementById(this.id).getElementsByTagName("tr");for(var i=0;i<_45.length;i++){var _46=_45[i].className;if((_46.indexOf("w2selectbox_row")==-1&&_46.indexOf("w2checkcombobox_row")==-1)&&_46.indexOf("w2tb_tr")==-1){_45[i].className=_46+" w2tb_tr";}}this.setAdaptive();$W._c.addListener(window,"onresize",$W._c.bindAsEventListener(this,this.setAdaptive));var _47=document.getElementById(this.id).getElementsByClassName("w2inputCalendar_div");for(var i=0;i<_47.length;i++){var id=_47[i].id;$W._G.getComponentById(id).setSetting();}}}}};$W._a.ag=function(id,_2,_3){["WebSquare.uiplugin.xhtml"];$W._t.call(this,id,_2,_3);};$W.extend($W._a.ag.prototype,$W._t.prototype);$W._a.ag.prototype.defaultOptions={pluginType:"uiplugin.xhtml",pluginName:"xhtml",src:""};$W._a.ag.prototype.initialize=function(_4){};$W._a.ag.prototype.toHTML=function(){["WebSquare.uiplugin.xhtml.toHTML"];var _5=[];var _6=(this.options.style=="")?"":"style='"+this.options.style+"'";_5.push("<div id='"+this.id+"' "+_6+" class='w2xhtml "+this.options.className+"'>");_5.push("</div>");return _5.join("");};$W._a.ag.prototype.setAction=function(){["WebSquare.uiplugin.xhtml.toHTML"];this.dom.mydiv=document.getElementById(this.id);var _7=$W._N.load($W._N.getURL(this.options.src));this.dom.mydiv.innerHTML=_7;};;WebSquare.uiplugin.xhtml=$W._a.ag;$W._a.aF=function(id,_2,_3){["WebSquare.uiplugin.xsl"];$W._t.call(this,id,_2,_3);};$W.extend($W._a.aF.prototype,$W._t.prototype);$W._a.aF.prototype.defaultOptions={pluginType:"uiplugin.xsl",pluginName:"xsl",xsl:"",xpath:""};$W._a.aF.prototype.initialize=function(_4){};$W._a.aF.prototype.toHTML=function(){["WebSquare.uiplugin.xsl.toHTML"];try{var _5=[];var _6=(this.options.style=="")?"":"style='"+this.options.style+"'";_5.push("<div id='"+this.id+"' "+_6+" class='w2xsl "+this.options.className+"'>");_5.push("</div>");return _5.join("");}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aF.prototype.setAction=function(){["WebSquare.uiplugin.xsl.setAction"];try{if(this.options.xsl!=""){this.transform();}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aF.prototype.setXSL=function(_7){["WebSquare.uiplugin.xsl.setXSL"];try{this.options.xsl=_7;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aF.prototype.getXSL=function(){["WebSquare.uiplugin.xsl.getXSL"];try{return this.options.xsl;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aF.prototype.setXPath=function(_8){["WebSquare.uiplugin.xsl.setXPath"];try{this.options.xpath=_8;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aF.prototype.getXPath=function(){["WebSquare.uiplugin.xsl.getXPath"];try{return this.options.xpath;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aF.prototype.transform=function(){["WebSquare.uiplugin.xsl.transform"];try{if(this.options.xpath!=""){var _9=$W._J.findInstanceNode(this.options.xpath);if(_9!=null){var _a=$W._B.serialize(_9);if(_a==null||_a==""){return;}var _b=$W._N.getURL(this.options.xsl);var _c=$W._B.transform(_a,_b);if(typeof _c!="undefined"){if($W._G.isFF()){this.render.innerHTML=$W._B.decode(_c);}else{this.render.innerHTML=_c;}}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};;WebSquare.uiplugin.xsl=$W._a.aF;$W._q.node=function(){this.index=-1;this.id="";this.label="";this.orgLabel="";this.value="";this.element=null;this.depth=-1;this.parentNode=null;this.childNodes=[];this._isRoot=null;this._hasChild=null;this._isLastChild=null;this.image="";this.selectedImage="";this.expandedImage="";this.checked=false;this.folder=false;};$W._q.node.prototype.appendChild=function(_1){if(!_1){return false;}var _2=this;do{if(_1==_2){return false;}_2=_2.parentNode;}while(_2);if(_1.parentNode){_1.parentNode.removeChild(_1);}_1.parentNode=this;this.childNodes.push(_1);return true;};$W._q.node.prototype.removeChild=function(_3){if(!_3){return;}var _4=[];for(var i=0;i<this.childNodes.length;i++){var _6=this.childNodes[i];if(_6!=_3){_4.push(_6);}}this.childNodes=_4;};$W._q.node.prototype.isRoot=function(){this._isRoot=null;this._isRoot=this.parentNode==null?true:false;return this._isRoot;};$W._q.node.prototype.hasChild=function(){this._hasChild=null;if(this.folder){return this.folder;}else{this._hasChild=this.childNodes.length!=0;}return this._hasChild;};$W._q.node.prototype.isLeaf=function(){return !this.hasChild();};$W._q.node.prototype.isFirstChild=function(){var _7=false;if(!this.parentNode){return _7;}if(this.parentNode.childNodes[0]){if(this===this.parentNode.childNodes[0]){_7=true;}}return _7;};$W._q.node.prototype.isLastChild=function(){this._isLastChild=null;if(!this.parentNode){return true;}var _8=this.parentNode.childNodes;if(_8[_8.length-1]==this){this._isLastChild=true;}if(this._isLastChild!=true){this._isLastChild=false;}return this._isLastChild;};$W._q.node.prototype.isFirstChildByRoot=function(){var _9=false;if(!this.parentNode){return _9;}if(this.parentNode.depth!=0){return _9;}if(this.parentNode.childNodes[0]){if(this===this.parentNode.childNodes[0]){_9=true;}}return _9;};$W._q.nodeIterator=function(_a,_b){this.node=_a;this.status=0;this.options=$W.extend({type:"dfs",pruning:null},$W.extend({},_b));this.stack=[];};$W._q.nodeIterator.prototype.next=function(){if(!this.node){return false;}if(this.status==0){this.status=1;return true;}if(this.options.type=="dfs"){this.stack=this.node.childNodes.concat(this.stack);this.node=this.stack.shift();}else{if(this.options.type=="bfs"){this.stack=this.stack.concat(this.node.childNodes);this.node=this.stack.shift();}}if(this.node){return true;}else{return false;}};$W._q.nodeIterator.prototype.stop=function(){this.status=2;};$W._q.nodeIterator.prototype.getNode=function(){return this.node;};$W._q.tree=function(){this.nodeCount=0;this.rootNode=null;this.hash_index_node={};this.useXPath=false;this.useCheckbox=false;this.useImage=false;var _c="w2:";this.xpath={nodeset:"",label:_c+"label",value:_c+"value",depth:_c+"depth",nodeName:_c+"node",checkbox:"",folder:_c+"folder"};this.dataPath={};this.imageXPath={image:"",iconImage:"",leafImage:"",selectedImage:"",expandedImage:""};this.checkbox={xpath:"",trueValue:"",falseValue:"",checkboxDisabled:"",checkboxDisabledTrueValue:"",checkboxDisabledFalseValue:"",checkboxDisabledAll:""};this.displayMode="0";this.delimiter="\t";this.customFormatter="";this.treeView="";};$W._q.tree.prototype.getNodeset=function(){if(this.xpath.nodeset!=""){return this.xpath.nodeset;}};$W._q.tree.prototype.setXPath=function(_d,_e,_f,_10,_11,_12,_13){if(_d!=""){this.useXPath=true;this.xpath.nodeset=_d;this.xpath.label=_e;this.xpath.value=_f;this.xpath.depth=_10;this.xpath.nodeName=_11;this.xpath.folder=_12;this.xpath.auth=_13;}};$W._q.tree.prototype.setDataPath=function(_14,_15,_16,_17,_18,_19){this.dataPath.label=_14;this.dataPath.value=_15;this.dataPath.depth=_16;this.dataPath.nodeName=_17;this.dataPath.folder=_18;this.dataPath.checkbox=_19;};$W._q.tree.prototype.setCheckbox=function(_1a,_1b,_1c,_1d,_1e,_1f,_20,_21,_22,_23,_24){if(_1a!=""){this.useCheckbox=true;this.checkbox.xpath=_1a;this.checkbox.trueValue=_1b;this.checkbox.falseValue=_1c;this.checkbox.checkboxDisabled=_1d;this.checkbox.checkboxDisabledTrueValue=_1e;this.checkbox.checkboxDisabledFalseValue=_1f;this.checkbox.checkboxDisabledAll=_20;this.checkbox.refreshCheckboxModel=_21;this.checkbox.refreshCheckboxDisableModel=_22;this.checkbox.hierarchy=_23;this.checkbox.colID=_24;}};$W._q.tree.prototype.setDisplayMode=function(_25,_26){this.displayMode=_25;this.delimiter=_26;};$W._q.tree.prototype.setImage=function(_27,_28,_29,_2a,_2b,_2c){this.useImage=true;this.imageXPath.image=_27||"";this.imageXPath.iconImage=_28||"";this.imageXPath.leafImage=_29||"";this.imageXPath.selectedImage=_2a||"";this.imageXPath.expandedImage=_2b||"";this.imageXPath.imageTitle=_2c||"";};$W._q.tree.prototype.setXML=function(_2d){if(!_2d){return;}this.nodeCount=0;this.rootNode=null;this.hash_index_node={};this.rootNode=this.parseNode(_2d,0,0);if(this.useImage==true){this.parseImage(this.rootNode);}};$W._q.tree.prototype.appendXML=function(_2e,_2f){if(!_2e){return;}var _30=this.findNodeByIndex(_2f);var _31=_30.element;var _32=1;for(var _33=_2e.firstChild;_33!=null;_33=_2e.firstChild){if(_33.nodeType==1&&_33.tagName==this.xpath.nodeName){_30.appendChild(this.parseNode(_33,_30.depth+1,_32++,_30));}_31.appendChild(_2e.removeChild(_33));}if(this.useImage==true){this.parseImage(_30);}return _30;};$W._q.tree.prototype.parseNode=function(_34,_35,_36,_37){if(!_34){return null;}var _38=$W._B.getValue(_34,this.xpath.label).wq_trim();var _39=false;var _3a=this.xpath.auth&&$W._B.getValue(_34,this.xpath.auth).wq_trim();if(this.xpath.folder){var _3b=$W._B.getValue(_34,this.xpath.folder).wq_trim();if(this.treeview&&this.treeview.options&&this.treeview.options.trueValue){_39=(_3b==this.treeview.options.trueValue);}if(_3b.toLowerCase()=="true"||_3b.toLowerCase()=="false"){_39=(_3b=="true");}}var _3c="";var _3d=this.xpath.value.split(" ");for(var i=0;i<_3d.length;i++){if(i!=0){_3c+="$$";}_3c+=$W._B.getValue(_34,_3d[i]).wq_trim();}var _3f=new $W._q.node();_3f.index=this.nodeCount++;_3f.depthIndex=_36;switch(this.displayMode){case "0":_3f.label=_38;break;case "1":_3f.label=_3c+this.delimiter+_38;break;case "2":_3f.label=_38+this.delimiter+_3c;break;default:_3f.label=_38;break;}_3f.orgLabel=_3f.label;_3f.value=_3c;_3f.element=_34;_3f.depth=_35;_3f.folder=_39;_3f.auth=_3a;if(_35==1){if(this.xpath.value){_3f.xpath=this.xpath.nodeset+"["+this.xpath.value+"='"+_3f.value+"']";}else{_3f.xpath=this.xpath.nodeset;}}else{if(_35>1){if(this.dataType=="recursive"){if(this.xpath.value){_3f.xpath=_37.xpath+"/"+this.xpath.nodeName+"["+this.xpath.value+"='"+_3f.value+"']";}else{_3f.xpath=_37.xpath+"/"+this.xpath.nodeName;}}else{if(this.xpath.value){_3f.xpath=this.xpath.nodeset+"["+this.xpath.value+"='"+_3f.value+"']";}else{_3f.xpath=this.xpath.nodeset;}}}}if(this.useCheckbox==true){var _40=$W._B.getValue(_34,this.checkbox.xpath).wq_trim();_3f.checkboxXPath=_3f.xpath+"/"+this.checkbox.xpath;if(_40==this.checkbox.trueValue){_3f.checked=true;if(this.checkbox.refreshCheckboxModel==true){$W._J.setInstanceValue(_3f.checkboxXPath,this.checkbox.trueValue);}}else{_3f.checked=false;if(this.checkbox.refreshCheckboxModel==true){$W._J.setInstanceValue(_3f.checkboxXPath,this.checkbox.falseValue);}}if(this.checkbox.checkboxDisabled){_3f.checkboxDisableXPath=_3f.xpath+"/"+this.checkbox.checkboxDisabled;var _41=$W._B.getValue(_34,this.checkbox.checkboxDisabled).wq_trim();if(this.checkbox.checkboxDisabledAll==true){_3f.checkboxDisabled=true;if(this.checkbox.refreshCheckboxDisableModel==true){$W._J.setInstanceValue(_3f.checkboxDisableXPath,this.checkbox.checkboxDisabledTrueValue);}}else{_3f.checkboxDisabled=false;if(this.checkbox.refreshCheckboxDisableModel==true){$W._J.setInstanceValue(_3f.checkboxDisableXPath,this.checkbox.checkboxDisabledFalseValue);}}if(_41==this.checkbox.checkboxDisabledTrueValue){_3f.checkboxDisabled=true;if(this.checkbox.refreshCheckboxDisableModel==true){$W._J.setInstanceValue(_3f.checkboxDisableXPath,this.checkbox.checkboxDisabledTrueValue);}}else{if(_41==this.checkbox.checkboxDisabledFalseValue){_3f.checkboxDisabled=false;if(this.checkbox.refreshCheckboxDisableModel==true){$W._J.setInstanceValue(_3f.checkboxDisableXPath,this.checkbox.checkboxDisabledFalseValue);}}}}}var _42=1;for(var _43=_34.firstChild;_43!=null;_43=_43.nextSibling){if(_43.nodeType==1&&_43.tagName==this.xpath.nodeName){_3f.appendChild(this.parseNode(_43,_35+1,_42++,_3f));}}if(this.useCheckbox==true&&this.checkbox.hierarchy==true){var _44=0;var _45=false;for(var i=0;i<_3f.childNodes.length;i++){var _46=_3f.childNodes[i];if(_46.checked==true){_44++;}else{if(_46.partial==true){_45=true;}}}if(_45==true||(0<_44&&_44<_3f.childNodes.length)){_3f.partial=true;}else{if(_44>0&&_44==_3f.childNodes.length){_3f.checked=true;if(!_3f.checkboxDom){_3f.checkboxDom=document.getElementById(this.treeview.id+"_checkbox_"+_3f.index);}if(_3f.checkboxDom){_3f.checkboxDom.checked=true;}}else{_3f.partial=false;}}}this.hash_index_node[_3f.index]=_3f;if(typeof this.customFormatter==="function"){var _47=this.customFormatter;var _48=this.getCloneNode(_3f);var _49=_47.call(this.treeview,_3f.orgLabel,_3f.label,_48)||_3f.label;_3f.label=_49;}return _3f;};$W._q.tree.prototype.parseNodeByNode=function(_4a,_4b,_4c,_4d){if(!_4a){return null;}var _4e=new $W._q.node();_4e.index=this.nodeCount++;_4e.depthIndex=_4c;_4e.label=_4a.label;_4e.orgLabel=_4e.label;_4e.value=_4a.value;_4e.element=_4a.element.cloneNode(true);_4e.depth=_4b;_4e.folder=_4a.folder;_4e.xpath="";_4e.checkboxXPath="";_4e.imageTitle=_4a.imageTitle;_4e.labelStyle=_4a.labelStyle;if(typeof _4a.checked!="undefined"){_4e.checked=_4a.checked;}_4e.checkboxDisableXPath="";if(typeof _4a.checkboxDisabled!="undefined"){_4e.checkboxDisabled=_4a.checkboxDisabled;}var _4f=1;for(var i=0;i<_4a.childNodes.length;i++){_4e.appendChild(this.parseNodeByNode(_4a.childNodes[i],_4b+1,_4f++,_4e));}this.hash_index_node[_4e.index]=_4e;return _4e;};$W._q.tree.prototype.parseImage=function(_51){var _52="";var _53="";var _54="";var _55="";var _56="";var _57=/\.[a-zA-Z][a-zA-Z][a-zA-Z][\s]*$/;if(this.imageXPath.image!=""){if(this.imageXPath.image.match(_57)){_52=this.imageXPath.image;}else{_52=$W._B.getValue(_51.element,this.imageXPath.image).wq_trim()||"";}}if(this.imageXPath.iconImage!=""){if(this.imageXPath.iconImage.match(_57)){_53=this.imageXPath.iconImage;}else{_53=$W._B.getValue(_51.element,this.imageXPath.iconImage).wq_trim()||"";}}if(this.imageXPath.selectedImage!=""){if(this.imageXPath.selectedImage.match(_57)){_54=this.imageXPath.selectedImage;}else{_54=$W._B.getValue(_51.element,this.imageXPath.selectedImage).wq_trim()||"";}}if(this.imageXPath.expandedImage!=""){if(this.imageXPath.expandedImage.match(_57)){_55=this.imageXPath.expandedImage;}else{_55=$W._B.getValue(_51.element,this.imageXPath.expandedImage).wq_trim()||"";}}if(this.imageXPath.leafImage!=""){if(this.imageXPath.leafImage.match(_57)){_56=this.imageXPath.leafImage;}else{_56=$W._B.getValue(_51.element,this.imageXPath.leafImage).wq_trim()||"";}}if(_56!=""&&_51.isLeaf()==true){_52=_56;}if(_53!=""){_52=_53;_54=_53;_55=_53;}if(_54==""){_54=_52;}if(_55==""){_55=_52;}_51.image=_52==""?"":$W._N.getURL(_52);_51.selectedImage=_54==""?"":$W._N.getURL(_54);_51.expandedImage=_55==""?"":$W._N.getURL(_55);_51.imageTitle=this.imageXPath.imageTitle&&$W._B.getValue(_51.element,this.imageXPath.imageTitle);for(var i=0;i<_51.childNodes.length;i++){this.parseImage(_51.childNodes[i]);}};$W._q.tree.prototype.parseListToTree=function(_59){var _5a=$W._B.parse("<Treeview xmlns:w2=\"http://www.inswave.com/websquare\" />",true);var _5b=_5a.documentElement;var _5c=0;this.dataType="list";for(var i=0;i<_59.length;i++){var _5e=_59[i];var _5f=_5e.cloneNode(true);var _60=parseInt($W._B.getValue(_5f,this.xpath.depth))||0;var _5c=parseInt($W._B.getValue(_5b,this.xpath.depth))||0;if(_60===0&&_5c!==0){$W._B.setValue(_5f,this.xpath.depth,_5c);_60=_5c;}if(_5c<_60){_5f=$W._B.appendChild(_5b,_5f);_5c=_60;}else{if(_5c==_60&&i==0){_5f=$W._B.appendChild(_5b,_5f);}else{if(_5c==_60){var _61=_5b.parentNode;_5f=$W._B.appendChild(_61,_5f);}else{if(_5c>_60){_5b=_5b.parentNode;for(j=0;j<_5c-_60;j++){if(_5b.parentNode!=null){_5b=_5b.parentNode;}}if(_5b.documentElement){_5b=_5b.documentElement;}_5f=$W._B.appendChild(_5b,_5f);}}}}_5b=_5f;}return _5a.documentElement;};$W._q.tree.prototype.parseRecursiveToTree=function(_62){this.dataType="recursive";var _63=$W._B.parse("<Treeview xmlns:w2=\"http://www.inswave.com/websquare\" />",true);for(var i=0;i<_62.length;i++){var _65=null;if($W._G.isOpera()){_65=($W._B.parse(_62[i])).firstChild;}else{_65=_62[i].cloneNode(true);}$W._B.appendChild(_63.documentElement,_65);}return _63.documentElement;};$W._q.tree.prototype.parseTreeToList=function(){var _66=this.xpath.nodeset;if(_66.indexOf("/")>-1){var arr=_66.split("/");_66=arr[arr.length-2];}if(!_66||_66==""){_66="Treeview";}var _68=$W._B.parse("<"+_66+" xmlns:w2=\"http://www.inswave.com/websquare\" />",true);var _69=_68.documentElement;var ni=this.getNodeIterator({type:"dfs"});ni.next();while(ni.next()){var _6b=ni.getNode();_69.appendChild(_6b.element);}return _68.documentElement;};$W._q.tree.prototype.getNodeIterator=function(_6c){_6c=$W.extend({rootNode:null},_6c||{});var ni=new $W._q.nodeIterator(_6c.rootNode||this.rootNode,_6c);return ni;};$W._q.tree.prototype.size=function(){return this.nodeCount;};$W._q.tree.prototype.findNodeByValue=function(_6e){var _6f=null;var ni=this.getNodeIterator();while(ni.next()){if(ni.getNode().value==_6e){_6f=ni.getNode();break;}}ni=null;return _6f;};$W._q.tree.prototype.findNodeByIndex=function(idx){var _72=this.hash_index_node[idx];if(_72){return _72;}else{return null;}};$W._q.tree.prototype.setRender=function(_73,_74){_73.rendered=_74;for(var i=0;i<_73.childNodes.length;i++){this.setRender(_73.childNodes[i],_74);}};$W._q.tree.prototype.getCloneNode=function(_76){var _77={};_77["checkboxDisabled"]=_76["checkboxDisabled"];_77["checked"]=_76["checked"];_77["folder"]=_76["folder"];_77["image"]=_76["image"];_77["imageTitle"]=_76["imageTitle"];_77["rendered"]=_76["rendered"];_77["id"]=_76["id"];_77["index"]=_76["index"];_77["value"]=_76["value"];_77["label"]=_76["label"];_77["labelStyle"]=_76["labelStyle"];return _77;};$W._q.tree.prototype.clearNode=function(_78){_78.element=null;_78.parentNode=null;_78.childNodes=[];delete this.hash_index_node[_78.index];};$W._q.tree.prototype.changeNodeIndex=function(_79,_7a){var _7b=this.hash_index_node[_79];_7b.index=_7a;delete this.hash_index_node[_79];this.hash_index_node[_7a]=_7b;this.changeDomIndex("node",_79,_7a,true);this.changeDomIndex("group",_79,_7a,true);this.changeDomIndex("checkbox",_79,_7a);this.changeDomIndex("label",_79,_7a);this.changeDomIndex("guideline",_79,_7a);this.changeDomIndex("child",_79,_7a);this.changeDomIndex("col_icon_navi",_79,_7a);if(_7b.checkboxDom){_7b.checkboxDom=null;delete _7b.checkboxDom;}};$W._q.tree.prototype.changeDomIndex=function(_7c,_7d,_7e,_7f){var _80=document.getElementById(this.treeview.id+"_"+_7c+"_"+_7d);if(_80!=null){_80.setAttribute("id",this.treeview.id+"_"+_7c+"_"+_7e);if(_7f){_80.setAttribute("index",_7e);}}};$W._q.tree.prototype.getLastChildIndex=function(_81){var _82=this.findNodeByIndex(_81);var _83=_81;if(_82.hasChild()){var _84=_82.parentNode;_83=this.size();var _85=null;var _86=_82;while(!_86.isRoot()&&_86.depthIndex==_86.parentNode.childNodes.length){_86=_86.parentNode;}if(!_86.isRoot()&&_86.depthIndex!=_86.parentNode.childNodes.length){_85=_86.parentNode.childNodes[_86.depthIndex];_83=_85.index-1;}}return _83;};requires("uiplugin/treeview/tree.js");requires("uiplugin/group/group.js");$W._a._o=function(id,_2,_3){["WebSquare.uiplugin.treeview"];$W._t.call(this,id,_2,_3);};$W.extend($W._a._o.prototype,$W._t.prototype);$W._a._o.prototype.defaultOptions={useConfig:true,pluginType:"uiplugin.treeview",pluginName:"treeview",userEvents:["onclick","ondblclick","onchange","onrightbuttonclick","ondrop","oncheckboxclick","onlabelclick","ontoggleclick","onviewchange"],repeatNode:"",useDrag:false,dataType:"recursive",lineShow:true,alwaysDraw:false,imgclass:"",labelclass:"",labelonClickClass:"w2treeview_select_node",defaultImage:"",iconImage:"",selectedImage:"",expandedImage:"",leafImage:"",showTreeDepth:1000,showCheckbox:false,trueValue:"true",falseValue:"false",checkAllChildNodes:false,checkboxDisabled:"",checkboxDisabledTrueValue:"true",checkboxDisabledFalseValue:"false",checkboxDisabledAll:false,rowHeight:-1,toggleEvent:"ondblclick",tooltipDisplay:false,tooltipStyle:"border:2px solid #7BAFE4; background-color:#ffffff;cursor:default;",tooltipClass:"",tooltipTime:1,tooltipGroupClass:true,hierarchy:false,refreshCheckboxModel:false,refreshCheckboxDisableModel:false,accessibility:undefined,title:"",accordion:false,dynamicAppend:false,displayMode:"0",delimiter:"\t",folderOpenToggleImage:$W.baseURI+"uiplugin/treeview/images/plus.gif",folderCloseToggleImage:$W.baseURI+"uiplugin/treeview/images/minus.gif",leafToggleImage:$W.baseURI+"uiplugin/treeview/images/middle.gif",lastToggleImage:$W.baseURI+"uiplugin/treeview/images/last.gif",middleToggleImage:$W.baseURI+"uiplugin/treeview/images/middle.gif",escape:false,toggleButtonEvent:"onclick",scrollFix:false};$W._a._o.prototype.initialize=function(_4){["WebSquare.uiplugin.treeview.initialize"];try{this.inlineElement=false;if(this.options.hierarchy==true){this.options.checkAllChildNodes=true;}this.tree=new $W._q.tree();this.tree.treeview=this;this.selectedInfo={groupDom:null,dom:null,node:null};this.tooltip=null;this.timeShowTooltip=null;this.timeHideTooltip=null;this.openedNodes={};this.originalBackgroundColor="";this.originalColor="";this.options.accessibility=$W._G.getBoolean(_4.getAttribute("accessibility"))||false;if(this.options.accessibility){this.options.lineShow=false;}if(this.options.accordion==true){this.options.showTreeDepth=0;}this.useDataCollection=false;this.successBinding=false;this.beforeSetRowData={};this.editModeComp=null;switch(this.options.displayMode){case "0":break;case "1":break;case "2":break;case "value delim label":this.options.displayMode="1";break;case "label delim value":this.options.displayMode="2";break;default:this.options.displayMode="0";break;}this.tree.setDisplayMode(this.options.displayMode,this.options.delimiter);if(_4){var _5=$W.WebSquareparser.parseItemset(_4);this.modelControl.setItemset(_5.nodeset,_5.label,_5.value);if(this.options.modelBinding==false){this.options.refreshCheckboxModel=false;this.options.refreshCheckboxDisableModel=false;}var _6="w2:";var _7=null;var _8=$W._B.findNode(_4,_6+"itemset");if(_8){var _9=$W._B.getValue(_8,"@nodeset");var _a=null;this.useDataCollection=_9.match("data:");var _b="";if(this.useDataCollection){this.modelControl.getDataCollectionItemsetData(this.modelControl.id);var _c=this.modelControl.getDataComp();if(_c!=undefined){var _d=_c.options.baseNode+"/"+_c.options.repeatNode;var _e=(_c.filterManager.filterArr.length===0?_c.getAllXML():_c.getAllFilteredXML());_a=$W._B.findNodes(_e,_d);_9=_c.options.baseNode+"/"+_c.options.repeatNode;if(_c.options.valueAttribute){_b="/@"+_c.options.valueAttribute;}this.successBinding=true;}}else{var _a=$W._J.findInstanceNodes(_9);}var _f=_9.replace(/\[[^\[\]]*\]/g,"").match(/[^\/]*$/);if(_f){_f=_f[0];}var _10=$W._B.getValue(_8,_6+"label/@ref");var _11=$W._B.getValue(_8,_6+"value/@ref");var _12=$W._B.getValue(_8,_6+"depth/@ref");var _13=$W._B.getValue(_8,_6+"folder/@ref");var _14=$W._B.getValue(_8,_6+"image/@ref");var _15=$W._B.getValue(_8,_6+"iconImage/@ref");var _16=$W._B.getValue(_8,_6+"selectedImage/@ref");var _17=$W._B.getValue(_8,_6+"expandedImage/@ref");var _18=$W._B.getValue(_8,_6+"leafImage/@ref");var _19=$W._B.getValue(_8,_6+"checkboxDisabled/@ref");var _1a=$W._B.getValue(_8,_6+"imageTitle/@ref");var _1b=$W._B.getValue(_8,_6+"checkbox/@ref");var _1c=_1b;if(this.useDataCollection){this.tree.setDataPath(_10,_11,_12,_f,_13,_1c);}if(_10&&_b&&_10.indexOf(_b)<0){_10=_10+_b;}if(_11&&_b&&_11.indexOf(_b)<0){_11=_11+_b;}if(_12&&_b&&_12.indexOf(_b)<0){_12=_12+_b;}if(_13&&_b&&_13.indexOf(_b)<0){_13=_13+_b;}if(_14&&_b&&_14.indexOf(_b)<0){_14=_14+_b;}if(_15&&_b&&_15.indexOf(_b)<0){_15=_15+_b;}if(_16&&_b&&_16.indexOf(_b)<0){_16=_16+_b;}if(_17&&_b&&_17.indexOf(_b)<0){_17=_17+_b;}if(_18&&_b&&_18.indexOf(_b)<0){_18=_18+_b;}if(_19&&_b&&_19.indexOf(_b)<0){_19=_19+_b;}if(_1a&&_b&&_1a.indexOf(_b)<0){_1a=_1a+_b;}if(this.options.defaultImage!=""){_14=this.options.defaultImage;}if(this.options.iconImage!=""){_15=this.options.iconImage;}if(this.options.selectedImage!=""){_16=this.options.selectedImage;}if(this.options.expandedImage!=""){_17=this.options.expandedImage;}if(this.options.leafImage!=""){_18=this.options.leafImage;}if(this.options.checkboxDisabled!=""){_19=this.options.checkboxDisabled;}if(_1c&&_b&&_1c.indexOf(_b)<0){_1c=_1c+_b;}this.tree.setXPath(_9,_10,_11,_12,_f,_13);this.tree.setCheckbox(_1c,this.options.trueValue,this.options.falseValue,_19,this.options.checkboxDisabledTrueValue,this.options.checkboxDisabledFalseValue,this.options.checkboxDisabledAll,this.options.refreshCheckboxModel,this.options.refreshCheckboxDisableModel,this.options.hierarchy,_1b);this.tree.setImage(_14,_15,_18,_16,_17,_1a);if(_a!=null){if(this.options.dataType=="recursive"){_7=this.tree.parseRecursiveToTree(_a);}else{if(this.options.dataType=="listed"){_7=this.tree.parseListToTree(_a);}}}}else{this.inlineElement=true;_7=_4;var _6="w2:";var _14=_6+"image";var _15=_6+"iconImage";var _16=_6+"selectedImage";var _17=_6+"expandedImage";var _18=_6+"leafImage";if(this.options.defaultImage!=""){_14=this.options.defaultImage;}if(this.options.iconImage!=""){_15=this.options.iconImage;}if(this.options.selectedImage!=""){_16=this.options.selectedImage;}if(this.options.expandedImage!=""){_17=this.options.expandedImage;}if(this.options.leafImage!=""){_18=this.options.leafImage;}this.tree.setImage(_14,_15,_18,_16,_17,_6+"imageTitle");this.tree.setCheckbox(_6+"checkbox",this.options.trueValue,this.options.falseValue,_6+"checkboxDisabled",this.options.checkboxDisabledTrueValue,this.options.checkboxDisabledFalseValue,this.options.checkboxDisabledAll,this.options.refreshCheckboxModel,this.options.refreshCheckboxDisableModel,this.options.hierarchy);}if(_7){this.tree.setXML(_7);}}this.options=$W.cssManager.styleToClass(this.id,this.options);if(this.options.showCheckbox==true){if($W._G.isOpera()==true){this.checkboxStyle="left:-1px;top:-1px";}else{this.checkboxStyle="left:0px;top:0px";}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._o.prototype.appendData=function(_1d,_1e,_1f){["WebSquare.uiplugin.treeview.appendData"];try{if(this.options.dynamicAppend==false){$l("treeview\ub97c \ub3d9\uc801\uc73c\ub85c \ucc98\ub9ac\ud558\ub294 \uacbd\uc6b0\uc5d0\ub294  dynamicAppend='true'\ub85c \uc124\uc815\ud558\ub294 \uac83\uc744 \uad8c\uc7a5\ud569\ub2c8\ub2e4."+"["+this.id+"]");}if(typeof _1d=="undefined"||_1d==null||!_1e){return;}_1f=(typeof _1f=="undefined")?false:_1f;var _20=this.tree.findNodeByIndex(_1d);if(!_1f){if(_20.childNodes&&_20.childNodes[0]&&_20.childNodes[0].rendered){return;}}var _21=null;if(this.options.dataType=="recursive"){_21=this.tree.parseRecursiveToTree(_1e);}else{if(this.options.dataType=="listed"){_21=this.tree.parseListToTree(_1e);}}this.tree.appendXML(_21,_1d);if(_1d==0){_20.hasChild();this.drawContents();}else{this.refreshNaviIcon(_20);if(_20.childNodes.length>0){_20.childNodes[0].rendered=false;this.toggleChild(null,_20.index,true);}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._o.prototype.toHTML=function(){["WebSquare.uiplugin.treevie.toHTML"];try{var _22=[];var _23=(this.options.style=="")?"":"style='"+this.options.style+"'";var _24=(this.options.title=="")?"":"title='"+this.options.title+"'";_22.push("<div tabindex='0' id='"+this.id+"' index='0' "+_23+" class='w2treeview "+this.options.className+"' "+_24+">");_22.push("</div>");return _22.join("");}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._o.prototype.setAction=function(){["WebSquare.uiplugin.treeview.setAction"];try{if(!this.useDataCollection||this.successBinding){this.drawContents();if(this.options.toggleEvent!="none"){this.event.addListener(this.render,this.options.toggleEvent,this.event.bindAsEventListener(this,this.handleToggleEvent));}this.event.addListener(this.render,"onclick",this.event.bindAsEventListener(this,this.handleClickEvent));this.event.addListener(this.render,"ondblclick",this.event.bindAsEventListener(this,this.handleDblclickEvent));if(!$W._G.isMobile()){this.event.addListener(this.render,"onmouseover",this.event.bindAsEventListener(this,this.handleMouseoverEvent));this.event.addListener(this.render,"onmouseout",this.event.bindAsEventListener(this,this.handleMouseoutEvent));}this.event.addListener(this.render,"onselectstart",function(e){$W._c.stopEvent(e);});this.event.addListener(this.render,"oncontextmenu",this.event.bindAsEventListener(this,this.handleContextmenuEvent));this.event.addListener(this.render,"onmousedown",this.event.bindAsEventListener(this,this.activateDrag));this.event.addListener(this.render,"onkeydown",this.event.bindAsEventListener(this,this.handleKeydownEvent));this.refreshStop=false;if(this.useDataCollection){var _26=this.modelControl.getDataComp();_26.bind("onbeforecelldatachange",this.event.bindAsEventListener(this,this.notifyValidCheck));}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._o.prototype.refreshItemset=function(_27){["WebSquare.uiplugin.treeview.refreshItemset"];try{if(this.modelControl.isItemsetBinded()&&!this.refreshStop){this.refreshStop=true;var _28=null;var _29=this.tree.getNodeset();var _2a=null;var _2b=false;if(this.useDataCollection){var _2c=this.modelControl.getDataComp();if(_2c!=undefined){var _2d=_2c.options.baseNode+"/"+_2c.options.repeatNode;if(_2c.filterManager.filterArr.length==0){_2a=$W._B.findNodes(_2c.getAllXML(),_2d);}else{_2a=$W._B.findNodes(_2c.getAllFilteredXML(),_2d);}if(!this.successBinding){_29=_2c.options.baseNode+"/"+_2c.options.repeatNode;var _2e=_29.replace(/\[[^\[\]]*\]/g,"").match(/[^\/]*$/);if(_2e){_2e=_2e[0];}var _2f="";if(_2c.options.valueAttribute){_2f="/@"+_2c.options.valueAttribute;}var _30=this.tree.xpath.label;var _31=this.tree.xpath.value;var _32=this.tree.xpath.depth;var _33=this.tree.xpath.folder;if(_30&&_2f&&_30.indexOf(_2f)<0){_30=_30+_2f;}if(_31&&_2f&&_31.indexOf(_2f)<0){_31=_31+_2f;}if(_32&&_2f&&_32.indexOf(_2f)<0){_32=_32+_2f;}if(_33&&_2f&&_33.indexOf(_2f)<0){_33=_33+_2f;}this.tree.setXPath(_29,_30,_31,_32,_2e,_33);this.successBinding=true;_2b=true;}}}else{_2a=$W._J.findInstanceNodes(_29);}if(_2a!=null){if(this.options.dataType=="recursive"){_28=this.tree.parseRecursiveToTree(_2a);}else{if(this.options.dataType=="listed"){_28=this.tree.parseListToTree(_2a);}}}this.tree.setXML(_28);var _34=this.selectedInfo.node;if(_2b){if(_27&&_27.setNodeSet===true){this.drawContents();if(this.useDataCollection){var _2c=this.modelControl.getDataComp();_2c.bind("onbeforecelldatachange",this.event.bindAsEventListener(this,this.notifyValidCheck));}}else{this.setAction();this.refreshStop=true;}}else{this.drawContents();}if(this.useDataCollection&&_34!=null){var _2c=this.modelControl.getDataComp();if(_2c!=null&&_2c.rowPosition!=null){this.selectNode2(_34);}}this.refreshStop=false;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._o.prototype.refreshItemArr=function(){this.refreshItemset();};$W._a._o.prototype.drawContents=function(){["WebSquare.uiplugin.treeview.drawContents"];try{this.selectedInfo={dom:null,node:null};this.initRenderStatus();var _35=[];for(var i=0;i<this.tree.rootNode.childNodes.length;i++){_35.push(this.nodeToHTML(this.tree.rootNode.childNodes[i]));}this.render.innerHTML=_35.join("");}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._o.prototype.selectNode=function(_37,idx,_39,_3a){["WebSquare.uiplugin.treeview.selectNode"];try{var _39=(typeof _39=="undefined")?true:_39;if(this.selectedInfo.dom){this.removeClass(this.selectedInfo.dom,this.options.labelonClickClass);this.selectedInfo.dom.style.backgroundColor=this.originalBackgroundColor;this.selectedInfo.dom.style.color=this.originalColor;}var _3b=this.selectedInfo.node?this.tree.getCloneNode(this.selectedInfo.node):null;var _3c=null;if(_37!=null){_3c=this.tree.findNodeByValue(_37);}else{if(idx!=null){_3c=this.tree.findNodeByIndex(idx);}}if(_3b!=null&&_3c!=null){if(_3b.index!=_3c.index){$W._c.fireEvent(this,"onchange",_3b,_3c);}}else{if((_3b==null&&_3c!=null)||(_3b!=null&&_3c==null)){$W._c.fireEvent(this,"onchange",_3b,_3c);}}this.selectedInfo.node=_3c;if(this.selectedInfo.node!=null&&_39){var _3d=this.selectedInfo.node.parentNode;var _3e=[];while(_3d){var idx=_3d.index;_3e.push(idx);_3d=_3d.parentNode;}_3e.reverse();for(var i in _3e){this.toggleChild(null,_3e[i],true);}}this.selectedInfo.dom=document.getElementById(this.id+"_label_"+this.selectedInfo.node.index);this.selectedInfo.groupDom=document.getElementById(this.id+"_group_"+this.selectedInfo.node.index);this.addClass(this.selectedInfo.dom,this.options.labelonClickClass);this.originalBackgroundColor=this.selectedInfo.dom.style.backgroundColor;this.originalColor=this.selectedInfo.dom.style.color;this.selectedInfo.dom.style.backgroundColor="";this.selectedInfo.dom.style.color="";if(_3a!==true){if(!this.options.scrollFix){this.selectedInfo.groupDom.setAttribute("tabindex",0);this.selectedInfo.groupDom.focus();this.selectedInfo.groupDom.setAttribute("tabindex",-1);}if(this.useDataCollection&&this.successBinding){var _40=this.modelControl.getDataComp();if(this.selectedInfo.node!=null){for(var id in _40.refCompHash){var _42=_40.refCompHash[id];if(_42!=null&&$W.idCache[_42.uuid]&&_42.options.pluginName=="input"){_42.setValue(_42.getValue());}}_40.setRowPosition(this.selectedInfo.node.index-1);}else{_40.setRowPosition(null);}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._o.prototype.selectNode1=function(_43,idx,_45,_46){["WebSquare.uiplugin.treeview.selectNode1"];try{if(this.selectedInfo.node!=null){var _47=this.tree.getCloneNode(this.selectedInfo.node);var _48=_47.index;this.selectNode(_43,idx,_45,_46);if(this.selectedInfo.node!=null){var _49=this.selectedInfo.node.index;if(_48!=_49){var _4a={"oldNode":_47,"newNode":this.tree.getCloneNode(this.selectedInfo.node)};$W._c.fireEvent(this,"onviewchange",_4a);}}}else{this.selectNode(_43,idx,_45,_46);if(this.selectedInfo.node!=null){var _4a={"oldNode":{},"newNode":this.tree.getCloneNode(this.selectedInfo.node)};$W._c.fireEvent(this,"onviewchange",_4a);}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._o.prototype.selectNode2=function(_4b){["WebSquare.uiplugin.treeview.selectNode"];try{this.selectedInfo.node=_4b;this.selectedInfo.dom=document.getElementById(this.id+"_label_"+this.selectedInfo.node.index);this.selectedInfo.groupDom=document.getElementById(this.id+"_group_"+this.selectedInfo.node.index);this.addClass(this.selectedInfo.dom,this.options.labelonClickClass);if(this.selectedInfo.dom){this.originalBackgroundColor=this.selectedInfo.dom.style.backgroundColor;this.originalColor=this.selectedInfo.dom.style.color;this.selectedInfo.dom.style.backgroundColor="";this.selectedInfo.dom.style.color="";}else{this.originalBackgroundColor="";this.originalColor="";}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._o.prototype.findNode=function(_4c,_4d){["WebSquare.uiplugin.treeview.findNode"];try{if(typeof _4d=="undefined"){_4d=true;}if(_4d===true){this.selectNode(_4c,null);var _4e=$W._H.getAbsoluteTop(this.selectedInfo.dom);var _4f=$W._H.getAbsoluteTop(this.render)+this.render.offsetHeight;if(_4f<_4e){this.render.scrollTop=(_4e-_4f+parseInt(this.render.offsetHeight/2));}return this.getSelectedNode();}else{return this.tree.findNodeByValue(_4c);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._o.prototype.findNodeByValue=function(_50,_51){["WebSquare.uiplugin.treeview.findNodeByValue"];try{if(_51===true){this.selectNode(_50,null);var _52=$W._H.getAbsoluteTop(this.selectedInfo.dom);var _53=$W._H.getAbsoluteTop(this.render)+this.render.offsetHeight;if(_53<_52){this.render.scrollTop=(_52-_53+parseInt(this.render.offsetHeight/2));}return this.getSelectedNode();}else{return this.tree.findNodeByValue(_50);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._o.prototype.findNodeByIndex=function(_54,_55){["WebSquare.uiplugin.treeview.findNodeByIndex"];try{if(_55===true){this.selectNode(null,_54);var _56=$W._H.getAbsoluteTop(this.selectedInfo.dom);var _57=$W._H.getAbsoluteTop(this.render)+this.render.offsetHeight;if(_57<_56){this.render.scrollTop=(_56-_57+parseInt(this.render.offsetHeight/2));}return this.getSelectedNode();}else{return this.tree.findNodeByIndex(_54);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._o.prototype.isOpen=function(_58){["WebSquare.uiplugin.treeview.isOpen"];try{if(_58>=this.tree.size()||_58<1){return;}var _59=document.getElementById(this.id+"_node_"+_58);var _5a=$W._G.getBoolean(_59.getAttribute("opened"));return _5a;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._o.prototype.getSelectedNode=function(){["WebSquare.uiplugin.treeview.getSelectedNode"];try{if(this.selectedInfo){return this.selectedInfo.node;}else{return null;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._o.prototype.getSelectedDom=function(){["WebSquare.uiplugin.treeview.getSelectedDom"];try{if(this.selectedInfo){return this.selectedInfo.dom;}else{return null;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._o.prototype.getSelectedLabel=function(){["WebSquare.uiplugin.treeview.getSelectedLabel"];try{if(this.selectedInfo&&this.selectedInfo.node){return this.selectedInfo.node.label;}else{return "";}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._o.prototype.getSelectedValue=function(){["WebSquare.uiplugin.treeview.getSelectedValue"];try{if(this.selectedInfo&&this.selectedInfo.node){return this.selectedInfo.node.value;}else{return "";}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._o.prototype.getSelectedIndex=function(){["WebSquare.uiplugin.treeview.getSelectedIndex"];try{if(this.selectedInfo&&this.selectedInfo.node){return this.selectedInfo.node.index;}else{return "";}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._o.prototype.getSelectedElement=function(){["WebSquare.uiplugin.treeview.getSelectedElement"];try{if(this.selectedInfo&&this.selectedInfo.node){return this.selectedInfo.node.element;}else{return null;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._o.prototype.isLeaf=function(){["WebSquare.uiplugin.treeview.isLeaf"];try{if(this.selectedInfo&&this.selectedInfo.node){return !this.selectedInfo.node.hasChild();}else{return true;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._o.prototype.setLabelStyle=function(idx,_5c,_5d,_5e){["WebSquare.uiplugin.treeview.setLabelStyle"];var _5f;if(typeof idx==="object"&&typeof idx.index==="number"){_5f=idx;}else{if(typeof idx==="number"){_5f=this.tree.findNodeByIndex(idx);}else{if(typeof idx==="string"){_5f=this.tree.findNodeByValue(idx);}}}this._setLabelStyle(_5f,_5c,_5d,_5e);};$W._a._o.prototype.setCustomFormatter=function(_60){["WebSquare.uiplugin.treeview.setCustomFormatter"];if(typeof _60==="function"){var ni=this.tree.getNodeIterator();while(ni.next()){var _62=ni.getNode();if(_62.isRoot()){continue;}var _63=this.tree.getCloneNode(_62);var _64=_60.call(this,_62.orgLabel,_62.label,_63)||_62.label;_62.label=_64;if(_62.rendered){var _65=document.getElementById(this.id+"_label_"+_62.index);_65.firstChild.nodeValue=_62.label;}}ni=null;this.tree.customFormatter=_60;}};$W._a._o.prototype._setLabelStyle=function(_66,_67,_68,_69){["WebSquare.uiplugin.treeview._setLabelStyle"];if(_66==null){return;}if(_66.labelStyle==undefined){_66.labelStyle={};}_66.labelStyle[_67]=_68;this.originalBackgroundColor=_66.labelStyle["background-color"]||this.originalBackgroundColor;this.originalColor=_66.labelStyle["color"]||this.originalColor;if(_66.rendered){var _6a=document.getElementById(this.id+"_label_"+_66.index);if(_6a){var _6b="";var _6c=0;for(var i=0;i<_67.length;i++){if(_67.charAt(i)==="-"){_6b+=_67.charAt(i+1).capitalize();i++;}else{_6b+=_67.charAt(i);}}_6a.style[_6b]=_68;}}if(_69===true){for(var i=0;i<_66.childNodes.length;i++){var _6e=_66.childNodes[i];this._setLabelStyle(_6e,_67,_68,_69);}}};$W._a._o.prototype.checkNode=function(idx,_70,_71,_72,_73){["WebSquare.uiplugin.treeview.checkNode"];try{var _74=this.tree.findNodeByIndex(idx);_74.checked=_70;if(!_74.checkboxDom){_74.checkboxDom=document.getElementById(this.id+"_checkbox_"+idx);}if(_74.checkboxDom){_74.checkboxDom.checked=_70;}if(this.options.refreshCheckboxModel==true){this.stopRefresh(true);if(this.useDataCollection&&this.tree.checkbox.colID){var _75=this.modelControl.getDataComp();var _76=_70?this.options.trueValue:this.options.falseValue;if(_75!=null){_75.setCellData(idx-1,this.tree.checkbox.colID,_76,null,_73);}if(_75.options.valueAttribute){$W._B.setValue(_74.element,this.tree.checkbox.colID,_75.options.valueAttribute,_76);}else{$W._B.setValue(_74.element,this.tree.checkbox.colID,_76);}}else{if(_70==true){if(_74.checkboxXPath&&$W._J.findInstanceNode(_74.checkboxXPath)!=null){$W._J.setInstanceValue(_74.checkboxXPath,this.options.trueValue);}}else{if(_74.checkboxXPath&&$W._J.findInstanceNode(_74.checkboxXPath)!=null){$W._J.setInstanceValue(_74.checkboxXPath,this.options.falseValue);}}}this.stopRefresh(false);}if(_71!==false&&(_71==true||this.options.hierarchy==true||this.options.checkAllChildNodes==true)){for(var i=0;i<_74.childNodes.length;i++){var _78=_74.childNodes[i];this.checkNode(_78.index,_70,true,false);}}if(this.options.hierarchy==true){this.partialSelection(_74);}if(_72!==false&&_74.parentNode.parentNode&&this.options.hierarchy==true){var _79=true;var _7a=0;for(var i=0;i<_74.parentNode.childNodes.length;i++){var _78=_74.parentNode.childNodes[i];if(_78.checked!=true){_79=false;break;}}if(_79==true){this.checkNode(_74.parentNode.index,true,false);}else{this.checkNode(_74.parentNode.index,false,false);}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._o.prototype.partialSelection=function(_7b){["WebSquare.uiplugin.treeview.partialSelection"];try{var _7c=0;var _7d=false;if(_7b.childNodes.length==0){return;}for(var i=0;i<_7b.childNodes.length;i++){var _7f=_7b.childNodes[i];if(_7f.checked==true){_7c++;}else{if(_7f.partial==true){_7d=true;}}}if(_7d==true||(0<_7c&&_7c<_7b.childNodes.length)){_7b.partial=true;this.addClass(_7b.checkboxDom,"w2treeview_partialselect");_7b.checkboxDom.checked=true;}else{_7b.partial=false;this.removeClass(_7b.checkboxDom,"w2treeview_partialselect");if(_7b.checked==true){_7b.checkboxDom.checked=true;}else{_7b.checkboxDom.checked=false;}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._o.prototype.disableCheckboxByValue=function(_80,_81,_82){["WebSquare.uiplugin.treeview.disalbeNode"];try{var _83=this.tree.findNodeByValue(_80);this.disableCheckbox(_83,_81,_82);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._o.prototype.setLabelByIndex=function(_84,_85,_86){["WebSquare.uiplugin.treeview.setLabelByValue"];this.setLabel(this.tree.findNodeByIndex(_84),_85,_86);};$W._a._o.prototype.setLabelByValue=function(_87,_88,_89){["WebSquare.uiplugin.treeview.setLabelByValue"];this.setLabel(this.tree.findNodeByValue(_87),_88,_89);};$W._a._o.prototype.setLabel=function(_8a,_8b,_8c){["WebSquare.uiplugin.treeview.setLabel"];try{if(_8a){var _8d=this.refreshStop;this.refreshStop=true;if(this.modelControl.useItemset){$W._J.setInstanceValue(_8a.xpath+"/"+this.tree.xpath.label,_8b);}$W._B.setValue(_8a.element,"label",_8b);if(typeof this.tree.customFormatter==="function"){var _8e=this.tree.getCloneNode(_8a);_8b=this.tree.customFormatter.call(this,_8b,_8b,_8e);}_8a.label=_8b;_8a.orgLabel=_8b;if(_8a.rendered){var _8f=document.getElementById(this.id+"_label_"+_8a.index);if(_8f.innerText!=undefined){_8f.innerText=_8b;}else{if(_8f.textContent!=undefined){_8f.textContent=_8b;}else{_8f.innerHTML=_8b;}}}this.refreshStop=_8d;if(this.useDataCollection){var _90=this.modelControl.getDataComp();if(_90!=null){_90.setCellData(_8a.index-1,this.tree.dataPath.label,_8b,null,_8c);}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._o.prototype.setValue=function(_91,_92,_93){["WebSquare.uiplugin.treeview.setValue"];try{if(_91){var _94=this.refreshStop;this.refreshStop=true;if(this.modelControl.useItemset){$W._J.setInstanceValue(_91.xpath+"/"+this.tree.xpath.value,_92);}$W._B.setValue(_91.element,"value",_92);_91.value=_92;this.refreshStop=_94;if(this.useDataCollection){var _95=this.modelControl.getDataComp();if(_95!=null){_95.setCellData(_91.index-1,this.tree.dataPath.value,_92,null,_93);}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._o.prototype.setValueByIndex=function(_96,_97,_98){["WebSquare.uiplugin.treeview.setLabelByValue"];this.setValue(this.tree.findNodeByIndex(_96),_97,_98);};$W._a._o.prototype.disableCheckbox=function(_99,_9a,_9b){["WebSquare.uiplugin.treeview.disalbeNode"];try{_9a=$W._G.getBoolean(_9a);if(!_99.checkboxDom){_99.checkboxDom=document.getElementById(this.id+"_checkbox_"+_99.index);}if(_99.checkboxDom){_99.checkboxDom.disabled=_9a;_99.checkboxDisabled=_9a;}if(this.options.refreshCheckboxDisableModel==true){this.stopRefresh(true);if(_9a==true){if($W._J.findInstanceNode(_99.checkboxDisableXPath)!=null){$W._J.setInstanceValue(_99.checkboxDisableXPath,this.options.checkboxDisabledTrueValue);}}else{if($W._J.findInstanceNode(_99.checkboxDisableXPath)!=null){$W._J.setInstanceValue(_99.checkboxDisableXPath,this.options.checkboxDisabledFalseValue);}}this.stopRefresh(false);}if(_9b===true){for(var i=0;i<_99.childNodes.length;i++){var _9d=_99.childNodes[i];this.disableCheckbox(_9d,_9a,_9b);}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._o.prototype.checkByValue=function(_9e,_9f,_a0){["WebSquare.uiplugin.treeview.checkByValue"];try{var _a1=this.tree.findNodeByValue(_9e);this.checkNode(_a1.index,_9f,_a0);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._o.prototype.getParentValue=function(_a2){["WebSquare.uiplugin.treeview.getParentValue"];try{var _a3="";var _a4=this.tree.findNodeByValue(_a2);if(_a4&&_a4.parentNode){_a3=_a4.parentNode.value;}return _a3;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._o.prototype.getChildData=function(_a5){["WebSquare.uiplugin.treeview.getChildLength"];try{var _a6=this.tree.findNodeByValue(_a5);var _a7=[];for(var i=0;i<_a6.childNodes.length;i++){if(this.options.dynamicAppend==true||this.useDataCollection){_a7.push(_a6.childNodes[i].element);}else{_a7.push($W._J.findInstanceNode(_a6.childNodes[i].xpath));}}return _a7;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._o.prototype.getXPathByValue=function(_a9){["WebSquare.uiplugin.treeview.getXPathByValue"];try{var _aa=this.tree.findNodeByValue(_a9);return _aa.xpath;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._o.prototype.nodeToHTML=function(_ab){["WebSquare.uiplugin.treeview.nodeToHTML"];try{if(!_ab){return "";}_ab.rendered=true;var _ac=[];var _ad=this.options.accessibility;var _ae=(this.options.escape)?$W._B._encode(_ab.label):_ab.label;var _af=(this.options.escape)?$W._B._encode(_ab.value):_ab.value;if(!_ad){_ac.push("<div tabindex='-1' id='"+this.id+"_group_"+_ab.index+"' class='w2treeview_group' index='"+_ab.index+"' label='"+_ae+"'>");}else{_ac.push("<ol tabindex='-1' id='"+this.id+"_group_"+_ab.index+"' class='w2treeview_group' aria-expanded='true' index='"+_ab.index+"' label='"+_ae+"'>");}_ac.push("<table id='"+this.id+"_node_"+_ab.index+"' treeNodeValue='"+_af+"' index='"+_ab.index+"' cellpadding='0' cellspacing='0'");var _b0="";if(_ab.isLastChild()){_b0=" w2treeview_last_sibling";}else{if(_ab.isFirstChild()){_b0=" w2treeview_first_sibling";}}if(_ab.hasChild()){if(_ab.depth>this.options.showTreeDepth||_ab.folder){_ac.push("class='w2treeview_node w2treeview_table_node w2treeview_notleaf w2treeview_close_child"+_b0+"'>");}else{_ac.push("class='w2treeview_node w2treeview_table_node w2treeview_notleaf w2treeview_open_child"+_b0+"' opened='true'>");}}else{if(_ab.isFirstChildByRoot()){if(_ab.parentNode.childNodes.length==1){_ac.push("class='w2treeview_node w2treeview_table_node w2treeview_root_single_leaf w2treeview_open_child"+_b0+"'>");}else{_ac.push("class='w2treeview_node w2treeview_table_node w2treeview_root_multi_leaf w2treeview_open_child"+_b0+"'>");}}else{if(_ab.isLastChild()){_ac.push("class='w2treeview_node w2treeview_table_node w2treeview_leaf w2treeview_last_leaf w2treeview_open_child"+_b0+"'>");}else{_ac.push("class='w2treeview_node w2treeview_table_node w2treeview_leaf w2treeview_open_child"+_b0+"'>");}}}_ac.push("<tr class='w2treeview_row_parent w2treeview_row_depth"+_ab.depth+"'>");if(this.options.lineShow==true){_ac.push("<td id='"+this.id+"_col_icon_navi_"+_ab.index+"' class='w2treeview_col_icon_navi'><div class='w2treeview_icon_navi'></div></td>");}else{if(_ab.isLeaf()){if(!_ad){_ac.push("<td id='"+this.id+"_col_icon_navi_"+_ab.index+"' class='w2treeview_col_icon_navi'><div class='w2treeview_icon_none'></div></td>");}else{_ac.push("<td id='"+this.id+"_col_icon_navi_"+_ab.index+"' class='w2treeview_col_icon_navi'></td>");}}else{if(!_ad){_ac.push("<td id='"+this.id+"_col_icon_navi_"+_ab.index+"' class='w2treeview_col_icon_navi'><div class='w2treeview_icon_navi'></div></td>");}else{if(_ab.depth>this.options.showTreeDepth){_ac.push("<td id='"+this.id+"_col_icon_navi_"+_ab.index+"' class='w2treeview_col_icon_navi'><img id='"+this.id+"_toggle_"+_ab.index+"' src='"+this.options.folderOpenToggleImage+"' class='w2treeview_icon_navi_img' /></td>");}else{_ac.push("<td id='"+this.id+"_col_icon_navi_"+_ab.index+"' class='w2treeview_col_icon_navi'><img id='"+this.id+"_toggle_"+_ab.index+"' src='"+this.options.folderCloseToggleImage+"' class='w2treeview_icon_navi_img' /></td>");}}}}if(_ab.image!=""){var _b1=_ab.image;if(_ab.hasChild()==true&&_ab.depth<=this.options.showTreeDepth){_b1=_ab.expandedImage;}var _b2=_ab.imageTitle?"title='"+_ab.imageTitle+"'":"";_ac.push("<td class='w2treeview_col_icon_label'>");_ac.push("<div id='"+this.id+"_icon_"+_ab.index+"' class='w2treeview_icon_label'"+_b2+" style='background-image:url("+_b1+")'></div>");_ac.push("</td>");}else{_ac.push("<td class='w2treeview_none'></td>");}if(this.options.showCheckbox==true){_ac.push("<td class='w2treeview_col w2treeview_col_icon_checkbox'>");if($W._G.isIE()){_ac.push("<div style='left:0px;top:-1px;' class='w2treeview_partialdiv'>");}else{_ac.push("<div style='left:4px;top:-1px;' class='w2treeview_partialdiv'>");}if(_ab.checked==true){if(_ab.checkboxDisabled==true){_ac.push("<input tabindex='-1' style='"+this.checkboxStyle+"' type='checkbox' checked='true' disabled='true' id='"+this.id+"_checkbox_"+_ab.index+"' class='w2treeview_checkbox' />");}else{_ac.push("<input tabindex='-1' style='"+this.checkboxStyle+"' type='checkbox' checked='true' id='"+this.id+"_checkbox_"+_ab.index+"' class='w2treeview_checkbox' />");}}else{if(_ab.checkboxDisabled==true){if(_ab.partial==true){_ac.push("<input tabindex='-1' style='"+this.checkboxStyle+"' type='checkbox' checked='true' disabled='true' id='"+this.id+"_checkbox_"+_ab.index+"' class='w2treeview_checkbox w2treeview_partialselect' />");}else{_ac.push("<input tabindex='-1' style='"+this.checkboxStyle+"' type='checkbox' disabled='true' id='"+this.id+"_checkbox_"+_ab.index+"' class='w2treeview_checkbox' /></div>");}}else{if(_ab.partial==true){_ac.push("<input tabindex='-1' style='"+this.checkboxStyle+"' type='checkbox' checked='true' id='"+this.id+"_checkbox_"+_ab.index+"' class='w2treeview_checkbox w2treeview_partialselect' />");}else{_ac.push("<input tabindex='-1' style='"+this.checkboxStyle+"' type='checkbox' id='"+this.id+"_checkbox_"+_ab.index+"' class='w2treeview_checkbox' />");}}}_ac.push("\t\t\t</div>");_ac.push("\t\t</td>");}var _b3="";if(typeof _ab.labelStyle==="object"){var _b4="";for(var key in _ab.labelStyle){_b4+=key+":"+_ab.labelStyle[key]+";";}_b3=" style='"+_b4+"'";}if(this.options.rowHeight!=-1){_ac.push("<td class='w2treeview_col_label' style='height:"+this.options.rowHeight+"px;'><span id='"+this.id+"_label_"+_ab.index+"' class='w2treeview_label "+this.options.labelclass+"'"+_b3+">"+_ae+"</span></td>");}else{_ac.push("<td class='w2treeview_col_label'><span id='"+this.id+"_label_"+_ab.index+"' class='w2treeview_label "+this.options.labelclass+"'"+_b3+">"+_ae+"</span></td>");}_ac.push("</tr>");if(_ab.hasChild()||this.options.dynamicAppend==true){_ac.push("<tr class='w2treeview_row_child'>");if(this.options.lineShow==false||_ab.isLastChild()){_ac.push("<td id='"+this.id+"_guideline_"+_ab.index+"' class='w2treeview_noguideline w2treeview_col_depth"+_ab.depth+"'></td>");}else{_ac.push("<td id='"+this.id+"_guideline_"+_ab.index+"' class='w2treeview_guideline w2treeview_row_depth"+_ab.depth+"'></td>");}if(this.options.showCheckbox==true){_ac.push("<td colspan='3'>");}else{_ac.push("<td colspan='2'>");}if(_ab.depth>this.options.showTreeDepth){_ac.push("<div id='"+this.id+"_child_"+_ab.index+"' class='w2treeview_child w2treeview_none'>");}else{_ac.push("<div id='"+this.id+"_child_"+_ab.index+"' class='w2treeview_child'>");}if(!_ab.folder&&(this.options.alwaysDraw==true||_ab.depth<=this.options.showTreeDepth)){for(var i=0;i<_ab.childNodes.length;i++){_ac.push(this.nodeToHTML(_ab.childNodes[i]));}}_ac.push("</div>");_ac.push("</td>");_ac.push("</tr>");}_ac.push("</table>");if(!_ad){_ac.push("</div>");}else{_ac.push("</ol>");}return _ac.join("");}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._o.prototype.toggleChild=function(_b7,idx,_b9){["WebSquare.uiplugin.treeview.toggleChild"];try{if(idx==null){idx=-1;}if(_b7!=null){var _ba=this.tree.findNodeByValue(_b7);if(_ba){idx=_ba.index;}}var _ba=this.tree.findNodeByIndex(idx);if(_ba&&_ba.depth>0&&_ba.hasChild()){var _bb=document.getElementById(this.id+"_node_"+idx);var _bc=document.getElementById(this.id+"_child_"+idx);var _bd=document.getElementById(this.id+"_icon_"+idx);if(_bb&&_bc){var _be=(_ba.childNodes&&_ba.childNodes[0]&&_ba.childNodes[0].rendered)?true:false;if(!_be||this.options.accessibility){var _bf=[];for(var i=0;i<_ba.childNodes.length;i++){_bf.push(this.nodeToHTML(_ba.childNodes[i]));}_bc.innerHTML=_bf.join("");}var _c1=$W._G.getBoolean(_bb.getAttribute("opened"));if(typeof _b9=="undefined"||_b9==null){_b9=(_c1==false)?true:false;}_ba.folder=!_b9;if(!!this.tree.dataPath.folder){var _c2=(!_b9)?this.options.trueValue:this.options.falseValue;var _c3=this.modelControl.getDataComp();if(_c3){_c3.setCellData(_ba.index-1,this.tree.dataPath.folder,_c2);}}if(_b9==true){if(this.options.accordion==true){var _c4={};var _c5=_ba;while(_c5.parentNode){_c5=_c5.parentNode;_c4[_c5.index]=_c5.depth;}for(var i in this.openedNodes){if(this.openedNodes[i]!=_ba&&!_c4[this.openedNodes[i].index]){if(this.openedNodes[i].depth<=_ba.depth){this.toggleChild(null,i,false);}}}this.openedNodes[idx]=_ba;}_bb.setAttribute("opened","true");_bc.style.display="block";this.changeClass(_bb,"w2treeview_close_child","w2treeview_open_child");if(_bd){_bd.style.backgroundImage="url("+_ba.expandedImage+")";}if(this.options.accessibility){var _c6=document.getElementById(this.id+"_toggle_"+idx);if(_c6){_c6.src=this.options.folderCloseToggleImage;}}}else{if(_b9==false){_bb.setAttribute("opened","false");if(this.openedNodes[idx]){delete this.openedNodes[idx];}_bc.style.display="none";this.changeClass(_bb,"w2treeview_open_child","w2treeview_close_child");if(_bd){_bd.style.backgroundImage="url("+_ba.image+")";}if(this.options.accessibility){var _c6=document.getElementById(this.id+"_toggle_"+idx);if(_c6){_c6.src=this.options.folderOpenToggleImage;}$W.removeChildren(_bc);}}}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._o.prototype.spanAll=function(_c7){["WebSquare.uiplugin.treeview.spanAll"];try{if(this.options.accordion==true){$l("treeview\uc758 accordion \ubaa8\ub4dc\uc5d0\uc11c\ub294 spanAll API\ub97c \uc9c0\uc6d0\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4."+"["+this.id+"]");return;}if(_c7==true){for(var idx=0;idx<this.tree.size();idx++){this.toggleChild(null,idx,_c7);}}else{if(_c7==false){for(var idx=this.tree.size()-1;idx>=0;idx--){this.toggleChild(null,idx,_c7);}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._o.prototype.spanNode=function(_c9,_ca,_cb){["WebSquare.uiplugin.treeview.spanNode"];try{if(this.options.accordion==true){$l("treeview\uc758 accordion \ubaa8\ub4dc\uc5d0\uc11c\ub294 spanNode API\ub97c \uc9c0\uc6d0\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4."+"["+this.id+"]");return;}var _cc=this.findNodeByIndex(_c9);if(_cc){var _cd=_cc.childNodes;if(_ca==true){if(_cb==true){for(var idx=0;idx<_cd.length;idx++){if(_cd[idx].childNodes.length>0){this.spanNode(_cd[idx].index,_ca,_cb);}}}}else{if(_ca==false){if(_cb==true){for(var idx=_cd.length-1;idx>=0;idx--){if(_cd[idx].childNodes.length>0){this.spanNode(_cd[idx].index,_ca,_cb);}}}}}this.toggleChild(null,_c9,_ca);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._o.prototype.showTooltip=function(_cf,top,_d1){["WebSquare.uiplugin.treeview.showTooltip"];try{if(this.timeShowTooltip!=null){clearTimeout(this.timeShowTooltip);this.timeShowTooltip=null;}if(this.timeHideTooltip!=null){clearTimeout(this.timeHideTooltip);this.timeHideTooltip=null;}this.timeShowTooltip=setTimeout(this.event.bindAsEventListener(this,function(){if(!this.tooltip){this.tooltip=new $W._a._p(this.id+"_tooltip",{className:"w2treeview_tooltip "+this.options.tooltipClass});this.tooltip.writeTo($W.getBody(),null,this.parentFrame);this.tooltip.activate();if(!this.options.tooltipGroupClass){this.tooltip.removeClass("w2group");}}this.tooltip.setStyle("display","block");this.tooltip.setStyle("left",_cf+"px");this.tooltip.setStyle("top",top+"px");if(this.options.escape){_d1=$W._B._encode(_d1);}this.tooltip.render.innerHTML=_d1;}),this.options.tooltipTime*1000);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._o.prototype.hideTooltip=function(){["WebSquare.uiplugin.treeview.hideTooltip"];try{this.timeHideTooltip=setTimeout(this.event.bindAsEventListener(this,function(){if(this.tooltip){this.tooltip.setStyle("display","none");}}),this.options.tooltipTime*1000);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._o.prototype.setXML=function(_d2){["WebSquare.uiplugin.treeview.setXML"];try{var _d3=null;var _d4=this.tree.getNodeset();var _d5=$W._B.findNodes(_d2,_d4);if(this.options.dataType=="recursive"){_d3=this.tree.parseRecursiveToTree(_d5);}else{if(this.options.dataType=="listed"){_d3=this.tree.parseListToTree(_d5);}}this.tree.setXML(_d3);this.drawContents();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._o.prototype.activateDrag=function(e){["WebSquare.uiplugin.treeview.activateDrag"];try{$W._c.stopEvent(e);var _d7=this;var it=this.event.getTargetIterator(e,this.render);if(it.element.id===this.id){return;}var _d9=false;var _da=false;var _db=false;var _dc=false;while(it.next()){if(it.match("w2treeview_label")){_dc=true;}if(it.match("w2treeview_icon_navi")||it.match("w2treeview_icon_navi_img")){_d9=true;}if(it.match("w2treeview_icon_label")){_da=true;}if(it.match("w2treeview_checkbox")){_db=true;}if(it.match("w2treeview_node")){var _dd=it.getElement().getAttribute("index");if(_dd==null){it.stop();break;}if(this.options.toggleButtonEvent=="onmousedown"){var _de=this.tree.findNodeByIndex(_dd);if(_d9&&!_de.isLeaf()){this.toggleChild(null,_dd);var _df=(_de.childNodes&&_de.childNodes[0]&&_de.childNodes[0].rendered)?true:false;if(!this.inlineElement){$W._c.fireEvent(this,"ontoggleclick",_de.element,_dd,_df);}else{$W._c.fireEvent(this,"ontoggleclick",null,_dd,_df);}}}if(_dc||_db||_da||_d9){this.selectNode1(null,_dd,false,true);}if(this.options.useDrag==true){var _e0=this.getSelectedLabel();$W._K.gDragManager.activate(e,it.getElement(),{id:this.id+"_drag",className:"w2treeview_drag",contents:_e0,delay:15,dropClass:"w2treeview_node",dragoverClass:"w2treeview_label",applyMousePosition:true,onDrop:function(_e1,_e2,x,y,dx,dy,e){if(!_e1){return;}var _e8=null;var it2={};if(_e2){it2=new $W.targetIterator(_e2,_d7.render);}else{it2=_d7.event.getTargetIterator(e);}while(it2.next()){if(it2.match("w2treeview")){var _ea=it2.getElement().id;if($W._G.getComponentById(_ea)){_e8=$W._G.getComponentById(_ea);}it2.stop();}}it2=null;if(_e8&&!_e2){_e2=document.getElementById(_e8.id+"_node_0");}if(_e1&&_e2&&_e8){var _eb=_e1.getAttribute("index");var _ec=_e2.getAttribute("index");var _ed=_d7.tree.findNodeByIndex(_eb);var _ee=_e8.tree.findNodeByIndex(_ec);$W._c.fireEvent(_e8,"ondrop",_ed,_ee,_d7,_e8,e);}},onDragover:function(_ef,_f0,x,y,dx,dy,e){if(!_ef){return;}if(!_f0){$W._c.fireEvent(_d7,"ondragleave",e);return;}var _f6=null;var it2=new $W.targetIterator(_f0,_d7.render);while(it2.next()){if(it2.match("w2treeview")){var _f8=it2.getElement().id;if($W._G.getComponentById(_f8)){_f6=$W._G.getComponentById(_f8);}it2.stop();}}it2=null;if(_f6){var _f9=_ef.getAttribute("index");var _fa=_f0.getAttribute("id");var _fb=_fa.substring(_fa.lastIndexOf("_")+1,_fa.length);var _fc=_d7.tree.findNodeByIndex(_f9);var _fd=_f6.tree.findNodeByIndex(_fb);$W._c.fireEvent(_f6,"ondragover",_fc,_fd,_d7,_f6,e);}}});}it.stop();}}it=null;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._o.prototype.appendXmlNodes=function(_fe,_ff){["WebSquare.uiplugin.treeview.appendXmlNodes"];try{this.appendData(_fe.index,_ff,true);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._o.prototype.appendNode=function(_100,_101){["WebSquare.uiplugin.treeview.appendNode"];try{if(this.options.dynamicAppend==false){$l("treeview\ub97c \ub3d9\uc801\uc73c\ub85c \ucc98\ub9ac\ud558\ub294 \uacbd\uc6b0\uc5d0\ub294  dynamicAppend='true'\ub85c \uc124\uc815\ud558\ub294 \uac83\uc744 \uad8c\uc7a5\ud569\ub2c8\ub2e4."+"["+this.id+"]");}var _102=_100.index;if(this.options.dynamicAppend==true){var _103=(_100.childNodes)?_100.childNodes.length+1:1;_100.appendChild(this.tree.parseNodeByNode(_101,(_100.depth+1),_103,_100));for(var i=0;i<_100.childNodes.length;i++){this.tree.setRender(_100.childNodes[i],false);}this.refreshNaviIcon(_100);if(_100.childNodes.length>0){_100.childNodes[0].rendered=false;this.toggleChild(null,_100.index,true);}}else{_100.appendChild(_101);this.drawContents();}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._o.prototype.refreshNaviIcon=function(_105){["WebSquare.uiplugin.treeview.refreshNaviIcon"];try{if(!_105){return;}var _106=_105.index;var _107=document.getElementById(this.id+"_node_"+_106);var _108=document.getElementById(this.id+"_col_icon_navi_"+_106);if(_105.childNodes.length>0){if(!this.options.accessibility){if(_107){this.removeClass(_107,"w2treeview_leaf");}if(_107){this.removeClass(_107,"w2treeview_last_leaf");}if(_107){this.removeClass(_107,"w2treeview_root_single_leaf");}if(_107){this.removeClass(_107,"w2treeview_root_multi_leaf");}if(_105.isFirstChildByRoot()){if(_105.parentNode.childNodes.length==1){if(_108){this.changeClass(_108,"w2treeview_first_leaf","w2treeview_icon_navi");}}else{if(_108){this.changeClass(_108,"w2treeview_root_multi_leaf","w2treeview_icon_navi");}}}else{if(_105.isLastChild()){if(_108){this.changeClass(_108,"w2treeview_last_leaf","w2treeview_icon_navi");}}else{if(_108){this.changeClass(_108,"w2treeview_leaf","w2treeview_icon_navi");}}}}else{if(_108){_108.innerHTML="<img id='"+this.id+"_toggle_"+_106+"' src='"+this.options.folderOpenToggleImage+"' class='w2treeview_icon_navi_img' />";}}}else{if(!this.options.accessibility){if(_107){this.changeClass(_107,"w2treeview_notleaf","w2treeview_leaf");}}else{if(_108){_108.innerHTML="<img id='"+this.id+"_toggle_"+_106+"' src='"+this.options.leafToggleImage+"' class='w2treeview_icon_navi_img' />";}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._o.prototype.removeNode=function(node){["WebSquare.uiplugin.treeview.removeNode"];try{if(!node){return;}var _10a=node.parentNode;if(_10a){var _10b=_10a.index;_10a.removeChild(node);if(this.options.dynamicAppend==true){var _10c=node.index;var _10d=document.getElementById(this.id+"_group_"+_10c);if(_10d){$W.removeChildren(_10d);}if(_10b==0){_10a._hasChild=_10a.folder?null:(_10a.childNodes.length!=0);this.drawContents();}else{this.refreshNaviIcon(_10a);}}else{this.drawContents();}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._o.prototype.removeNodeList=function(_10e){["WebSquare.uiplugin.treeview.removeNodeList"];try{for(var i=0;i<_10e.length;i++){if(!_10e[i]){continue;}var _110=_10e[i].parentNode;if(_110){var _111=_110.index;_110.removeChild(_10e[i]);}}this.drawContents();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._o.prototype.initRenderStatus=function(){["WebSquare.uiplugin.treeview.initRenderStatus"];try{this.tree.setRender(this.tree.rootNode,false);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._o.prototype.getCheckedNodeByType=function(_112,type){["WebSquare.uiplugin.treeview.getCheckedNodeByType"];try{if(typeof _112!=="object"||_112==null){_112={};}var arr=[];var ni=this.tree.getNodeIterator({type:"bfs"});while(ni.next()){var node=ni.getNode();if(node.checked==true||(_112.hierarchy&&node.partial==true&&!node.isRoot())){arr.push(node[type]);}}return arr;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._o.prototype.getCheckedValues=function(_117){["WebSquare.uiplugin.treeview.getCheckedValues"];return this.getCheckedNodeByType(_117,"value");};$W._a._o.prototype.getCheckedLabels=function(_118){["WebSquare.uiplugin.treeview.getCheckedLabels"];return this.getCheckedNodeByType(_118,"label");};$W._a._o.prototype.getCheckedIndexes=function(_119){["WebSquare.uiplugin.treeview.getCheckedIndexs"];return this.getCheckedNodeByType(_119,"index");};$W._a._o.prototype.getCheckedNodes=function(_11a){return this.getCheckedNodeByType(_11a,"element");};$W._a._o.prototype.expandNode=function(_11b,_11c){["WebSquare.uiplugin.treeview.expandNode"];try{if(typeof _11b=="number"){this.toggleChild(null,_11b,true);}else{this.toggleChild(_11b,null,true);}if(_11c){var node=null;if(typeof _11b=="number"){node=this.tree.findNodeByIndex(_11b);}else{node=this.tree.findNodeByValue(_11b);}for(var i=0;i<node.childNodes.length;i++){this.expandNode(node.childNodes[i].index,_11c);}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._o.prototype.collapseNode=function(_11f,_120){["WebSquare.uiplugin.treeview.collapseNode"];try{if(_120){var node=null;if(typeof _11f=="number"){node=this.tree.findNodeByIndex(_11f);}else{node=this.tree.findNodeByValue(_11f);}for(var i=0;i<node.childNodes.length;i++){this.collapseNode(node.childNodes[i].index,_120);}}if(typeof _11f=="number"){this.toggleChild(null,_11f,false);}else{this.toggleChild(_11f,null,false);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._o.prototype.getAllXML=function(){["WebSquare.uiplugin.treeview.getAllXML"];try{var _123=null;if(this.options.dataType=="recursive"){_123=this.tree.rootNode.element;}else{if(this.options.dataType=="listed"){_123=this.tree.parseTreeToList();}}return _123;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._o.prototype.stopRefresh=function(stop){["WebSquare.uiplugin.treeview.stopRefresh"];try{this.refreshStop=$W._G.getBoolean(stop);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._o.prototype.getNextNode=function(node){["WebSquare.uiplugin.treeview.getChildNextNode"];var _126=null;var _127=node.index;var _128=node.depth;var _129=document.getElementById(this.id+"_node_"+_127);var _12a=$W._G.getBoolean(_129.getAttribute("opened"));var ni=this.tree.getNodeIterator({type:"dfs"});var flag=false;while(ni.next()){var _12d=ni.getNode();if(!flag){if(_12d.index==_127){flag=true;}}else{if(!_12a){if(_12d.depth<=_128){break;}}else{break;}}}_126=ni.getNode();return _126;};$W._a._o.prototype.getPreviousNode=function(node){["WebSquare.uiplugin.treeview.getPreviousNode"];var _12f=null;var _130=node.index;var ni=this.tree.getNodeIterator({type:"dfs"});var _132={};while(ni.next()){var _133=ni.getNode();if(_133.index==_130){return _12f;}if(!this.options.accessibility){var _134=document.getElementById(this.id+"_node_"+_133.index);var _135=_134?$W._G.getBoolean(_134.getAttribute("opened")):false;var _136=_133.parentNode?_133.parentNode.depth:0;if(_132[_136]||_133.depth==0){if(_133.depth==0){_135=true;}_132[_133.depth]=_135;_12f=_133;}else{_132[_133.depth]=false;}}else{if(document.getElementById(this.id+"_group_"+_133.index)){_12f=_133;}}}return _12f;};$W._a._o.prototype.handleToggleEvent=function(e){["WebSquare.uiplugin.treeview.handleToggleEvent"];try{var _138=false;var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match("w2treeview_label")){_138=true;}if(_138&&it.match("w2treeview_node")){var _13a=it.getElement().getAttribute("treeNodeValue");var _13b=it.getElement().getAttribute("index");this.toggleChild(null,_13b);it.stop();}}it=null;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._o.prototype.handleDblclickEvent=function(e){["WebSquare.uiplugin.treeview.handleDblclickEvent"];try{var _13d=false;var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match("w2treeview_label")){_13d=true;}if(_13d&&it.match("w2treeview_node")){$W._c.fireEvent(this,"ondblclick");it.stop();}}it=null;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._o.prototype.handleClickEvent=function(e){["WebSquare.uiplugin.treeview.handleClickEvent"];try{var _140=false;var _141=false;var _142=false;var _143=false;var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match("w2treeview_label")){_143=true;}if(it.match("w2treeview_icon_navi")||it.match("w2treeview_icon_navi_img")){_140=true;}if(it.match("w2treeview_icon_label")){_141=true;}if(it.match("w2treeview_checkbox")){_142=true;}if(it.match("w2treeview_node")){var _145=it.getElement().getAttribute("treeNodeValue");var _146=it.getElement().getAttribute("index");var node=this.tree.findNodeByIndex(_146);if(_140&&!node.isLeaf()&&this.options.toggleButtonEvent!="onmousedown"){this.toggleChild(null,_146);var _148=(node.childNodes&&node.childNodes[0]&&node.childNodes[0].rendered)?true:false;if(!this.inlineElement){$W._c.fireEvent(this,"ontoggleclick",node.element,_146,_148);}else{$W._c.fireEvent(this,"ontoggleclick",null,_146,_148);}}if(_142){if(!node.checkboxDisabled){var _149=!node.checked;this.checkNode(_146,_149);if(!this.inlineElement){if(this.options.dynamicAppend==true||this.useDataCollection){$W._c.fireEvent(this,"oncheckboxclick",_145,node.element,_146);}else{$W._c.fireEvent(this,"oncheckboxclick",_145,$W._J.findInstanceNode(node.xpath),_146);}}else{$W._c.fireEvent(this,"oncheckboxclick",_145,null,_146);}}}if(_143){if(!this.inlineElement){$W._c.fireEvent(this,"onlabelclick",_145,node.element,_146);}else{$W._c.fireEvent(this,"onlabelclick",_145,null,_146);}}if(_141){if(!this.inlineElement){$W._c.fireEvent(this,"onImageclick",_145,node.element,_146);}else{$W._c.fireEvent(this,"onImageclick",_145,null,_146);}}var _14a=$W._N.getConfiguration("/WebSquare/treeview/useClickEventToggleButton/@value");if(_143||_142||_141||(_140&&_14a!="false")){this.selectNode1(null,_146,false);$W._c.fireEvent(this,"onclick");}it.stop();}}it=null;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._o.prototype.handleMouseoverEvent=function(e){["WebSquare.uiplugin.treeview.handleMouseoverEvent"];try{$W._c.stopEvent(e);var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match("w2treeview_label")){this.addClass(it.getElement(),"w2treeview_over");if(this.options.tooltipDisplay==true){var _14d=it.getElement();var left=$W._H.getAbsoluteLeft(_14d);var top=$W._H.getAbsoluteTop(_14d);var _150=_14d.innerHTML;var _151=$W._H.getAbsoluteLeft(this.render);if(left+_14d.offsetWidth>_151+this.render.clientWidth+this.render.scrollLeft){this.showTooltip(left,top,_150);}else{if(!$W._G.isIE(6)&&!$W._G.isIE(7)){var _152=_14d.style.display;_14d.style.display="block";if(_14d.clientWidth<_14d.scrollWidth){this.showTooltip(left,top,_150);}_14d.style.display=_152;}else{this.hideTooltip();}}}}}it=null;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._o.prototype.handleMouseoutEvent=function(e){["WebSquare.uiplugin.treeview.handleMouseoutEvent"];try{$W._c.stopEvent(e);if(this.options.tooltipDisplay==true){this.hideTooltip();}var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match("w2treeview_label")){this.removeClass(it.getElement(),"w2treeview_over");}}it=null;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._o.prototype.handleContextmenuEvent=function(e){["WebSquare.uiplugin.treeview.handleContextmenuEvent"];try{$W._c.stopEvent(e);var _156=false;var _157=false;var _158=false;var _159=false;var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match("w2treeview_label")){_159=true;}if(it.match("w2treeview_icon_navi")){_156=true;}if(it.match("w2treeview_icon_label")){_157=true;}if(it.match("w2treeview_checkbox")){_158=true;}if(it.match("w2treeview_node")){var _15b=it.getElement().getAttribute("treeNodeValue");var _15c=it.getElement().getAttribute("index");if(_156){this.toggleChild(null,_15c);}if(_158){var _15d=document.getElementById(this.id+"_checkbox_"+_15c).checked;this.checkNode(_15c,_15d);}if(_159||_158||_157){this.selectNode1(null,_15c);$W._c.fireEvent(this,"onrightbuttonclick",this.findNodeByIndex(_15c),$W._c.getMouseX(e),$W._c.getMouseY(e));}it.stop();}}it=null;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._o.prototype.handleKeydownEvent=function(e){["WebSquare.uiplugin.treeview.handleKeydownEvent"];try{var _15f=(e.charCode)?e.charCode:e.keyCode;var _160=0;var _161=null;if(this.selectedInfo.node){_161=this.selectedInfo.groupDom;_160=this.selectedInfo.node.index;}else{_161=e.srcElement||e.target;_160=_161.getAttribute("index");}var node=this.tree.findNodeByIndex(_160);if(_15f===37||_15f===39||_15f===13){var _163=(_15f===37)?false:true;if(_15f===13){this.toggleChild(null,_160,null);}else{this.toggleChild(null,_160,_163);}var _164=(node.childNodes&&node.childNodes[0]&&node.childNodes[0].rendered)?true:false;if(!this.inlineElement){$W._c.fireEvent(this,"ontoggleclick",node.element,_160,_164);}else{$W._c.fireEvent(this,"ontoggleclick",null,_160,_164);}$W._c.stopEvent(e);}else{if(_15f===38){var _165=null;if(_160==0){_160=1;_165=this.tree.findNodeByIndex(_160);}else{if(_161.id.indexOf("_group_")>-1){_165=this.getPreviousNode(node);}}if(_165){var _166=_165.index;var _167=document.getElementById(this.id+"_group_"+_166);if(_167){this.selectNode1(null,_166,false);}$W._c.stopEvent(e);}}else{if(_15f===40){var _165=null;if(_160==0){_160=1;_165=this.tree.findNodeByIndex(_160);}else{if(_161.id.indexOf("_group_")>-1){_165=this.getNextNode(node);}}if(_165){var _166=_165.index;var _167=document.getElementById(this.id+"_group_"+_166);if(_167){this.selectNode1(null,_166,false);}$W._c.stopEvent(e);}}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._o.prototype.onPropertyChange=function(_168,_169){["WebSquare.uiplugin.treeview.onPropertyChange"];try{switch(_168){case "disabled":this.options.disabled=_169;if(_169){this.addClass(this.render,"w2treeview_disabled");}else{this.removeClass(this.render,"w2treeview_disabled");}break;case "readOnly":break;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._o.prototype.setDisabled=function(_16a){["WebSquare.uiplugin.treeview.setDisabled"];_16a=$W._G.getBoolean(_16a);var ret=$W._t.prototype.setDisabled.call(this,_16a);this.disableCheckbox(this.tree.rootNode,_16a,true);return ret;};$W._a._o.prototype.setEditMode=function(_16c,_16d){["WebSquare.uiplugin.treeview.setEditMode"];var _16e=document.getElementById(this.id+"_label_"+_16c);if(this.editModeComp==null||this.editModeComp.render==null){if(!_16d){requires("uiplugin.input");this.editModeComp=new $W._a.aG(this.id+"_input");this.editModeComp.writeTo(_16e.parentNode);this.editModeComp.activate();var _16f=this.uuid;this.editModeComp.bind("onblur",function(){var comp=$W.idCache[_16f];var _171=comp.modelControl.getDataComp();var _172=this._oldValue;var _173=this.getValue();_171.setCellData(this._index-1,comp.tree.dataPath.label,_173);comp.appendChild(this);this.hide();var _174=document.getElementById(comp.id+"_label_"+this._index);$W._H.show(_174);this.setValueNM("");$W._c.fireEvent(comp,"oneditend",{"oldValue":_172,"newValue":_173,"index":this._index});});this.editModeComp.bind("onkeydown",function(e){$W._c.stopPropagation(e);});}}else{this.editModeComp.show();_16e.parentNode.appendChild(this.editModeComp.render);}this.editModeComp._index=_16c;$W._H.hide(_16e);this.editModeComp.setVerticalAlign=function(){};var _176=this.findNodeByIndex(_16c);if(_176&&_176.label!=""){this.editModeComp.setValueNM(_176.label);this.editModeComp._oldValue=_176.label;}this.editModeComp.focus();};$W._a._o.prototype.finalize=function(){if(this.editModeComp!=null&&$W.idCache[this.editModeComp.uuid]){this.editModeComp.remove();}};$W._a._o.prototype.notifyValidCheck=function(info){["WebSquare.uiplugin.treeview.notifyValidCheck"];try{if(info.colID===this.tree.dataPath.depth){var _178=this.findNodeByIndex(info.rowIndex+1);if(info.newValue<1){throw ({"message":"Invalid value : [label : "+_178.label+", newDepth : "+info.newValue+"]. The depthValue must be greater than 0."});}if(info.oldValue&&info.newValue>info.oldValue&&_178.isFirstChild()){throw ({"message":"Invalid value : [label : "+_178.label+", newDepth : "+info.newValue+"]. The depthValue must be less than "+(info.oldValue+1)});}}else{if(info.colID===this.tree.dataPath.value){var _178=this.findNodeByIndex(info.rowIndex+1);var _179=this.findNodeByValue(info.newValue);if(_179){throw ({"message":"Invalid value : [value : "+_178.value+", newValue : "+info.newValue+"]. The treeValue must be unique."});}}}return true;}catch(e){$W.exception.printStackTrace(e,null,this);return false;}};$W._a._o.prototype.notifyInvalid=function(){["WebSquare.uiplugin.treeview.notifyInvalid"];try{}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._o.prototype.notifySetCellData=function(_17a,_17b,_17c,_17d){["WebSquare.uiplugin.treeview.notifySetCellData"];try{if(this.refreshStop||parseInt(_17d,10)===parseInt(_17c,10)){return;}if(_17b===this.tree.dataPath.label){this.setLabelByIndex(_17a+1,_17c,true);}else{if(_17b===this.tree.dataPath.checkbox){if(_17c==this.options.trueValue){this.checkNode(_17a+1,true);}else{if(_17c==this.options.falseValue){this.checkNode(_17a+1,false);}}}else{if(_17b===this.tree.dataPath.depth){if(Math.abs(_17c-_17d)>1){this.refreshItemset();return;}this.stopRefresh(true);this.notifyDepthChanged(_17a+1,_17c,_17d);this.stopRefresh(false);var _17e=this.findNodeByIndex(_17a+1);if(_17e.parentNode===this.tree.rootNode){this.drawContents();}else{this.refreshNaviIcon(_17e);this.toggleChild(null,_17e.parentNode.index,true);}}else{if(_17b===this.tree.dataPath.value){this.setValueByIndex(_17a+1,_17c,true);}}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._o.prototype.notifyDepthChanged=function(_17f,_180,_181){["WebSquare.uiplugin.treeview.notifyDepthChanged"];try{var _182=this.findNodeByIndex(_17f);var _183=this.modelControl.getDataComp();if(_180>_181){var _184=_182.parentNode;var _185=_184.childNodes[_182.depthIndex-2];var _186=_182.childNodes.splice(0,_182.childNodes.length);_184.childNodes.splice(_182.depthIndex-1,1);_182.parentNode=_185;_185.childNodes.push(_182);_182.depthIndex=_185.childNodes.length;_185.rendered=false;_182.rendered=false;for(var i=0;i<_186.length;i++){_186[i].parentNode=_185;_185.childNodes.push(_186[i]);_186[i].depthIndex=_185.childNodes.length;_186[i].rendered=false;}_184.childNodes[0].rendered=false;}else{if(_182.hasChild()){for(var i=_182.childNodes.length-1;i>=0;i--){var _188=_182.childNodes[i];_183.setCellData(_188.index-1,this.tree.dataPath.depth,_188.depth-1);this.notifyDepthChanged(_188.index,_188.depth-1,_188.depth);}}var _184=_182.parentNode;var _189=_184.parentNode;if(_182.depthIndex<_184.childNodes.length){var _18a=_184.childNodes.splice(_182.depthIndex,_184.childNodes.length-_182.depthIndex);for(var i=0;i<_18a.length;i++){_18a[i].parentNode=_182;_182.childNodes.push(_18a[i]);_18a[i].depthIndex=_182.childNodes.length;_18a[i].rendered=false;}}_184.childNodes.splice(_184.childNodes.length-1,1);_182.parentNode=_189;_189.childNodes.splice(_184.depthIndex,0,_182);for(var i=_184.depthIndex;i<_189.childNodes.length;i++){_189.childNodes[i].depthIndex=i+1;}_189.childNodes[0].rendered=false;}_182.depth=_180;if(_183.options&&_183.options.valueAttribute){$W._B.setValue(_182.element,this.tree.dataPath.depth,_183.options.valueAttribute,_180);}else{$W._B.setValue(_182.element,this.tree.dataPath.depth,_180);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._o.prototype.notifyInsertRow=function(_18b){["WebSquare.uiplugin.treeview.notifyInsertRow"];try{if(this.refreshStop){return;}var _18c=this.modelControl.getDataComp();var _18d=this.findNodeByIndex(_18b);var _18e=new $W._q.node();_18e.index=_18b+1;_18e.depthIndex=1;_18e.depth=_18d.depth+1;_18e.rendered=false;_18e.parentNode=_18d;var _18f=_18c.getRowCount();for(var i=_18f;i>=_18b+2;i--){this.tree.changeNodeIndex(i-1,i);}this.tree.hash_index_node[_18b+1]=_18e;_18c.setCellData(_18b,this.tree.dataPath.depth,_18d.depth+1,null,true);var elem=_18c.getRowXML(_18b);if(elem.documentElement){elem=elem.documentElement;}_18e.element=elem;_18d.childNodes.unshift(_18e);for(var i=1;i<_18d.childNodes.length;i++){_18d.childNodes[i].depthIndex=i+1;}this.refreshNaviIcon(_18d);this.toggleChild(null,_18b,true);this.tree.nodeCount=_18c.getRowCount()+1;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._o.prototype.notifyBeforeSetRowData=function(_192,_193){["WebSquare.uiplugin.treeview.notifyBeforeSetRowData"];try{if(this.refreshStop){return;}var _194=this.modelControl.getDataComp();if(_193){this.beforeSetRowData={"depth":_194.getCellData(_192,this.tree.dataPath.depth),"label":_194.getCellData(_192,this.tree.dataPath.label),"checkbox":_194.getCellData(_192,this.tree.dataPath.checkbox),"value":_194.getCellData(_192,this.tree.dataPath.value),"overwrite":_193};}else{this.beforeSetRowData={"depth":Number(_194.getCellData(_192-1,this.tree.dataPath.depth))+1,"label":"","checkbox":"","value":_194.getCellData(_192,this.tree.dataPath.value),"overwrite":_193};}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._o.prototype.notifySetRowData=function(_195){["WebSquare.uiplugin.treeview.notifySetRowData"];try{if(this.refreshStop){return;}var _196=this.modelControl.getDataComp();var _197=_196.getCellData(_195,this.tree.dataPath.depth);var _198=_196.getCellData(_195,this.tree.dataPath.label);var _199=_196.getCellData(_195,this.tree.dataPath.checkbox);var _19a=_196.getCellData(_195,this.tree.dataPath.value);if(_197!=this.beforeSetRowData.depth){var _19b=this.notifyValidCheck({"colID":this.tree.dataPath.depth,"oldValue":this.beforeSetRowData.depth,"newValue":_197,"rowIndex":_195});if(_19b){this.notifySetCellData(_195,this.tree.dataPath.depth,_197,this.beforeSetRowData.depth);}else{var _196=this.modelControl.getDataComp();_196.setCellData(_195,this.tree.dataPath.depth,this.beforeSetRowData.depth);}}if(_198!=this.beforeSetRowData.label){this.notifySetCellData(_195,this.tree.dataPath.label,_198,this.beforeSetRowData.label);}if(_19a!=this.beforeSetRowData.value){var _19b=this.notifyValidCheck({"colID":this.tree.dataPath.value,"oldValue":this.beforeSetRowData.value,"newValue":_19a,"rowIndex":_195});if(_19b){this.notifySetCellData(_195,this.tree.dataPath.value,_19a,this.beforeSetRowData.value);}}if(_199!=this.beforeSetRowData.checkbox){this.notifySetCellData(_195,this.tree.dataPath.checkbox,_199,this.beforeSetRowData.checkbox);}this.beforeSetRowData={};this.tree.nodeCount=_196.getRowCount()+1;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._o.prototype.notifyRemoveRow=function(_19c){["WebSquare.uiplugin.treeview.notifyRemoveRow"];try{if(this.refreshStop){return;}var _19d=this.findNodeByIndex(_19c+1);var _19e=_19d.parentNode;var _19f=document.getElementById(this.id+"_group_"+_19d.index);if(_19f){$W.removeNode(_19f);}this.stopRefresh(true);this.notifyRemoveRow_allChildren(_19c);this.stopRefresh(false);if(_19e.index==0){_19e._hasChild=_19e.folder?null:(_19e.childNodes.length!=0);this.drawContents();}else{this.refreshNaviIcon(_19e);var _1a0=this.findNodeByIndex(_19c);if(_1a0&&!_1a0.isRoot()){if(_1a0.isLastChild()){var _1a1=document.getElementById(this.id+"_node_"+_1a0.index);this.addClass(_1a1,"w2treeview_last_sibling");this.removeClass(_1a1,"w2treeview_first_sibling");if(_1a0.isLeaf()){this.addClass(_1a1,"w2treeview_last_leaf");}}else{if(_1a0.isFirstChild()){var _1a1=document.getElementById(this.id+"_node_"+_1a0.index);this.addClass(_1a1,"w2treeview_first_sibling");}}if(_1a0.parentNode.isLastChild()){var _1a2=document.getElementById(this.id+"_guideline_"+_1a0.parentNode.index);this.removeClass(_1a2,"w2treeview_guideline");this.addClass(_1a2,"w2treeview_noguideline");}}}this.tree.nodeCount=dataComp.getRowCount()+1;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._o.prototype.notifyRemoveRow_allChildren=function(_1a3){["WebSquare.uiplugin.treeview.notifyRemoveRow_allChildren"];try{var _1a4=this.findNodeByIndex(_1a3+1);var _1a5=_1a4.parentNode;var _1a6=this.modelControl.getDataComp();var _1a7=_1a3;var _1a8=_1a6.getRowCount()+1;var _1a9=1;if(_1a4.hasChild()){_1a7=_1a8-1;var _1aa=null;var _1ab=_1a4;while(!_1ab.isRoot()&&_1ab.depthIndex==_1ab.parentNode.childNodes.length){_1ab=_1ab.parentNode;}if(!_1ab.isRoot()&&_1ab.depthIndex!=_1ab.parentNode.childNodes.length){_1aa=_1ab.parentNode.childNodes[_1ab.depthIndex];_1a7=_1aa.index-2;}var _1ac=[];for(var i=_1a3;i<_1a7;i++){_1ac.push(i);this.tree.clearNode(this.tree.findNodeByIndex(i+2));_1a9++;}_1a6.removeRows(_1ac);}_1a5.childNodes.splice(_1a4.depthIndex-1,1);for(var i=_1a4.depthIndex-1;i<_1a5.childNodes.length;i++){_1a5.childNodes[i].depthIndex=i+1;}this.tree.clearNode(_1a4);for(var i=_1a7+2;i<=_1a8;i++){this.tree.changeNodeIndex(i,i-_1a9);}this.tree.nodeCount=_1a6.getRowCount()+1;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._o.prototype.notifyDataChanged=function(_1ae){["WebSquare.uiplugin.treeview.notifyDataChanged"];try{this.stopRefresh(false);this.refreshItemset();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._o.prototype.getDataListInfo=function(){["WebSquare.uiplugin.treeview.getDataListInfo"];try{if(this.modelControl.isDataCollectionItemsetBinded){var temp={};temp.id=this.modelControl.dataCollectionItemsetInfo.dataComp.id;temp.nodeset=this.modelControl.itemsetObj.nodeset;temp.label=this.modelControl.itemsetObj.label;temp.value=this.modelControl.itemsetObj.value;return temp;}else{return null;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._o.prototype.getLastChildIndex=function(_1b0){["WebSquare.uiplugin.treeview.getLastChildIndex"];try{var _1b1=this.findNodeByIndex(_1b0);var _1b2=_1b0;if(_1b1.hasChild()){var _1b3=_1b1.parentNode;_1b2=this.tree.nodeCount-1;var _1b4=null;var _1b5=_1b1;while(!_1b5.isRoot()&&_1b5.depthIndex==_1b5.parentNode.childNodes.length){_1b5=_1b5.parentNode;}if(!_1b5.isRoot()&&_1b5.depthIndex!=_1b5.parentNode.childNodes.length){_1b4=_1b5.parentNode.childNodes[_1b5.depthIndex];_1b2=_1b4.index-1;}}return _1b2;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._o.prototype.moveNode=function(_1b6,_1b7,_1b8){["WebSquare.uiplugin.treeview.moveNode"];try{if(!this.useDataCollection){return false;}if(_1b6==_1b7){return false;}if(_1b6<_1b7&&this.getLastChildIndex(_1b6)>=_1b7){$W.logger.printLog("treeview moveNode : Invalid argument. [destIndex] must not be child of [srcIndex].["+this.id+"]");return false;}var _1b9=this.modelControl.getDataComp();var _1ba=_1b6-1;var _1bb=_1b7-1;var _1bc=this.findNodeByIndex(_1b6);var _1bd=this.findNodeByIndex(_1b7);var _1be=this.getLastChildIndex(_1ba+1)-1;var _1bf=[];var _1c0=this.tree.dataPath.depth;var _1c1=0;for(var i=_1ba;i<=_1be;i++){var _1c3=_1b9.getRowJSON(i);if(_1b8){_1c3[_1c0]=Number(_1c3[_1c0])+(_1bd.depth-_1bc.depth+1);}else{_1c3[_1c0]=Number(_1c3[_1c0])+(_1bd.depth-_1bc.depth);}_1bf.push(_1c3);_1c1++;}this.stopRefresh(true);_1b9.removeRange(_1ba,_1be);if(_1ba<_1bb){_1bb+=_1ba-_1be-1;}var _1c4=0;if(!_1b8){var _1c5=this.getLastChildIndex(_1b7);_1c4=_1c5-_1b7;if(_1b7<=_1ba&&_1c5>=_1be){_1c4=_1c4-_1c1;}}_1b9.insertJSON(_1bb+1+_1c4,_1bf);this.stopRefresh(false);this.refreshItemset();this.selectNode(null,_1bb+2+_1c4);return true;}catch(e){$W.exception.printStackTrace(e,null,this);return false;}};$W._a._o.prototype.setNodeSet=function(_1c6,_1c7){["WebSquare.uiplugin.treeview.moveNode"];try{var _1c8=_1c7||{};var _1c9=_1c6;if(_1c6.indexOf("data:")>=0){_1c9=_1c6.replaceAll("data:","");}var _1ca=this.modelControl.getDataComp(_1c9);if(_1ca){this.modelControl.unbindItemset();this.modelControl.setItemset("data:"+_1c9,_1c8.label,_1c8.value);this.modelControl.dataCollectionBindItemset();this.modelControl.getDataCollectionItemsetData(this.modelControl.id);for(var item in _1c7){this.tree.dataPath[item]=_1c7[item];if(item==="checkbox"){this.tree.checkbox.colID=_1c7[item];}}this.successBinding=false;this.refreshItemset({"setNodeSet":true});}}catch(e){$W.exception.printStackTrace(e,null,this);}};;WebSquare.uiplugin.treeview=$W._a._o;requires("uiplugin.group");requires("uiplugin/treeview/tree.js");requires("uiplugin/graphicUtil/graphicUtil.js");$W._a.bn=function(id,_2,_3){["WebSquare.uiplugin.menu"];$W._t.call(this,id,_2,_3);};$W.extend($W._a.bn.prototype,$W._t.prototype);$W._a.bn.prototype.defaultOptions={pluginType:"uiplugin.menu",pluginName:"menu",userEvents:["onleafclick","onbranchclick"],systemEvents:["onclick","onmousemove","onmouseover"],isVertical:false,dataType:"recursive",repeatNode:"",menuHide:true,firstOpenEvent:"onmouseover",menuWidthType:"byWidth",firstMenuGap:10,menuPosition:"manual",keepFirstSelectedMenu:false,hoverOneDepthMenuId:undefined,nowSelectedOneDepthMenuIndex:-1,beforeSelectedOneDepthMenuIndex:-1,selectedMenuIndex:-1,overlapHeight:0,overlapWidth:0,wmode:false};$W._a.bn.prototype.initialize=function(_4){["WebSquare.uiplugin.menu.initialize"];try{this.tree=new $W._q.tree();this.childMenuLayerArr=[];this.timeHide=null;this.mainMenuInfo={defaultStyle:{style:"",className:""},hoverStyle:{style:"",className:""},selectedStyle:{style:"",className:""}};this.childMenuInfo={roundStyle:{borderWidth:"0",borderColor:"#ffffff",fillColor:"#ffffff",arcSize:"0"},defaultStyle:{style:"",className:""},hoverStyle:{style:"",className:""},selectedStyle:{style:"",className:""},childDefaultStyle:{style:"",className:""},childHoverStyle:{style:"",className:""},childSelectedStyle:{style:"",className:""},childStyle:{style:"",className:""},containerStyle:{style:"",className:""}};this.selectedChildNodeList=[];this.directionObject={"direction":-1};this.oneDepthMenuId="";this.selectedMenuDepth=-1;this.maxChildMenuDepth=-1;this.useDataCollection=false;if(_4){var _5=$W.WebSquareparser.parseItemset(_4);this.modelControl.setItemset(_5.nodeset,_5.label,_5.value);var _6="w2:";var _7=$W._B.findNode(_4,_6+"mainMenu");if(_7){for(var _8=_7.firstChild;_8!=null;_8=_8.nextSibling){if(_8.nodeType==1){var _9=$W._B.getLocalName(_8);this.mainMenuInfo[_9]=$W.WebSquareparser.parseAttribute(_8);}}}var _a=$W._B.findNode(_4,_6+"childMenu");if(_a){this.childMenuInfo["onclick"]=$W._B.getValue(_a,"@onclick");try{this.childMenuInfo["onclickFunc"]=null;}catch(e){}for(var _8=_a.firstChild;_8!=null;_8=_8.nextSibling){if(_8.nodeType==1){var _9=$W._B.getLocalName(_8);this.childMenuInfo[_9]=$W.WebSquareparser.parseAttribute(_8);}}}var _b=null;var _c=$W._B.findNode(_4,_6+"itemset");if(_c){var _d=$W._B.getValue(_c,"@nodeset");var _e=null;this.useDataCollection=false;var _f="";if(_d.match("data:")){var _10=this.modelControl.getDataComp(_d.slice("data:".length));if(_10!=null){this.useDataCollection=true;this.modelControl.getDataCollectionItemsetData(this.modelControl.id);var _11=_10.options.baseNode+"/"+_10.options.repeatNode;_e=$W._B.findNodes(_10.getAllXML(),_11);_d=_10.options.baseNode+"/"+_10.options.repeatNode;if(_10.options.valueAttribute){_f="/@"+_10.options.valueAttribute;}}else{var _e=$W._J.findInstanceNodes(_d);}}else{var _e=$W._J.findInstanceNodes(_d);}var _12=_d.replace(/\[[^\[\]]*\]/g,"").match(/[^\/]*$/);if(_12){_12=_12[0];}var _13=$W._B.getValue(_c,_6+"label/@ref");var _14=$W._B.getValue(_c,_6+"value/@ref");var _15=$W._B.getValue(_c,_6+"depth/@ref");var _16=$W._B.getValue(_c,_6+"auth/@ref");if(_13&&_f&&_13.indexOf(_f)<0){_13=_13+_f;}if(_14&&_f&&_14.indexOf(_f)<0){_14=_14+_f;}if(_15&&_f&&_15.indexOf(_f)<0){_15=_15+_f;}if(_16&&_f&&_16.indexOf(_f)<0){_16=_16+_f;}this.tree.setXPath(_d,_13,_14,_15,_12,false,_16);if(_e!=null){if(this.options.dataType=="recursive"){_b=this.tree.parseRecursiveToTree(_e);}else{if(this.options.dataType=="listed"){_b=this.tree.parseListToTree(_e);}}}}else{_b=_4;}if(_b){this.tree.setXML(_b);}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bn.prototype.toHTML=function(){["WebSquare.uiplugin.menu.toHTML"];try{var _17=[];var _18=(this.options.style=="")?"":"style='"+this.options.style+"'";if(this.options.isVertical==true){_17.push("<div id='"+this.id+"' "+_18+" class='w2menu w2menu_vertical "+this.options.className+"'>");}else{_17.push("<div id='"+this.id+"' "+_18+" class='w2menu "+this.options.className+"'>");}_17.push("</div>");return _17.join("");}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bn.prototype.setAction=function(){["WebSquare.uiplugin.menu.setAction"];try{var _19=$W._j["comp"][this.modelControl.itemsetObj.nodeset.slice("data:".length)];if(_19&&_19.initializeType==="linkedDataList"){}else{this.drawContents();}if($W._G.isMobile()){this.event.addListener(document.documentElement,"ontouchstart",this.event.bindAsEventListener(this,this.handleClickEventDocument));this.event.addListener(this.render,"ontouchstart",this.event.bindAsEventListener(this,this.handleClickEvent));}else{this.event.addListener(document.documentElement,"onclick",this.event.bindAsEventListener(this,this.handleClickEventDocument));this.event.addListener(this.render,"onclick",this.event.bindAsEventListener(this,this.handleClickEvent));}this.event.addListener(this.render,this.options.firstOpenEvent,this.event.bindAsEventListener(this,this.handleFirstOpenEvent));this.event.addListener(this.render,"onmouseover",this.event.bindAsEventListener(this,this.handleMouseoverEvent));this.event.addListener(this.render,"onmouseout",this.event.bindAsEventListener(this,this.handleMouseoutEvent));}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bn.prototype.refreshItemset=function(){["WebSquare.uiplugin.menu.refreshItemset"];try{if(this.modelControl.isItemsetBinded()){var _1a=null;var _1b=this.tree.getNodeset();var _1c=null;if(this.useDataCollection){var _1d=this.modelControl.getDataComp();var _1e=_1d.options.baseNode+"/"+_1d.options.repeatNode;_1c=$W._B.findNodes(_1d.getAllXML(),_1e);}else{_1c=$W._J.findInstanceNodes(_1b);}if(_1c!=null){if(this.options.dataType=="recursive"){_1a=this.tree.parseRecursiveToTree(_1c);}else{if(this.options.dataType=="listed"){_1a=this.tree.parseListToTree(_1c);}}}this.tree.setXML(_1a);this.removeMenuLayer();this.drawContents();}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bn.prototype.refreshItemArr=function(){["WebSquare.uiplugin.menu.refreshItemArr"];try{this.refreshItemset();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bn.prototype.setXML=function(_1f){["WebSquare.uiplugin.menu.setXML"];try{var _20=null;var _21=this.tree.getNodeset();this.removeMenuLayer();var _22=$W._B.findNodes(_1f,_21);if(this.options.dataType=="recursive"){_20=this.tree.parseRecursiveToTree(_22);}else{if(this.options.dataType=="listed"){_20=this.tree.parseListToTree(_22);}}this.tree.setXML(_20);this.drawContents();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bn.prototype.drawContents=function(){["WebSquare.uiplugin.menu.drawContents"];try{this.render.innerHTML=this.mainNodeToHTML(this.tree.rootNode);if(this.options.menuPosition=="manual"){this.setMainMenuPosition();}if(this.options.keepFirstSelectedMenu&&this.options.selectedMenuIndex>-1&&this.options.selectedMenuIndex<this.tree.rootNode.childNodes.length){this.options.nowSelectedOneDepthMenuIndex=this.options.selectedMenuIndex;var _23=this.tree.rootNode.childNodes[this.options.selectedMenuIndex].nodeDom;this.addClass(_23,"w2menu_node_selected");}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bn.prototype.setMainMenuPosition=function(){["WebSquare.uiplugin.menu.setMainMenuPosition"];try{if(this.tree.rootNode){var _24=this.tree.rootNode.childNodes.length;var _25=Math.floor(this.render.offsetWidth/_24)-3;var _26=Math.floor(this.render.offsetHeight/_24)-3;var _27=0;var _28=0;var _29=0;var ni=this.tree.getNodeIterator({type:"bfs"});while(ni.next()){var _2b=ni.getNode();if(_2b.depth>1){ni.stop();}if(_2b.depth==1){_2b.nodeDom=document.getElementById(this.id+"_node_"+_2b.index);if(this.options.menuWidthType=="byEverage"){if(this.options.isVertical==true){_2b.nodeDom.style.height=_26+"px";_2b.nodeDom.style.top=(_27*_26)+"px";}else{_2b.nodeDom.style.width=_25+"px";_2b.nodeDom.style.left=(_27*_25)+"px";}_27++;}else{if(this.options.menuWidthType=="byWidth"){if(this.options.isVertical==true){_2b.nodeDom.style.top=_29+"px";_29+=(_2b.nodeDom.offsetHeight+this.options.firstMenuGap);}else{_2b.nodeDom.style.left=_28+"px";_28+=(_2b.nodeDom.offsetWidth+this.options.firstMenuGap);}}else{if(this.options.menuWidthType=="custom"){}}}}}ni=null;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bn.prototype.setChildMenuPosition=function(_2c,_2d,e,_2f){["WebSquare.uiplugin.menu.setChildMenuPosition"];try{var _30=this.getChild(this.id+"_subLayer");if(_30&&_2c){if(_2d.depth==1){if(this.options.isVertical==true){_30.render.style.top=$W._H.getAbsoluteTop(_2f)+"px";}else{_30.render.style.left=$W._H.getAbsoluteLeft(_2f)+"px";}this.directionObject={"direction":-1};}else{var _31=-1;var _32=0;var _33=1;var _34=$W._H.getAbsoluteLeft(_30.render);var _35=$W._H.getAbsoluteTop(_30.render);var _36=$W._H.getRelativeLeft(_2f,_30.render);var _37=$W._H.getRelativeTop(_2f,_30.render);var _38=_2f.offsetWidth;var _39=(_2c.render.children[0])?_2c.render.children[0].scrollWidth:0;var _3a=document.documentElement.clientWidth||document.body.clientWidth;if(this.directionObject[_2c.render.id]==undefined){this.directionObject[_2c.render.id]=this.directionObject["direction"];}else{this.directionObject["direction"]=this.directionObject[_2c.render.id];}switch(this.directionObject["direction"]){case _31:if(_34+_38+_39>_3a){_36-=_39;this.directionObject["direction"]=_33;}else{_36+=_38;this.directionObject["direction"]=_32;}break;case _32:_34=$W._H.getAbsoluteLeft(_2f.parentElement);if(_34+_38+_39>_3a){_36-=_39;this.directionObject["direction"]=_33;}else{_36+=_38;}break;case _33:_34=$W._H.getAbsoluteLeft(_2f.parentElement);if(_34-_39<0){_36+=_38;this.directionObject["direction"]=_32;}else{_36-=_39;}break;}if(this.directionObject["direction"]==_32){_36-=this.options.overlapWidth;}else{if(this.directionObject["direction"]==_33){_36+=this.options.overlapWidth;}}_37+=this.options.overlapHeight;if(_2f.className.indexOf("w2menu_node_horizon")>0){if(this.directionObject["direction"]==_32){_36-=_2f.offsetWidth;}else{if(this.directionObject["direction"]==_33){_36+=_2f.offsetWidth;}}_37+=_2f.offsetHeight;_2c.render.style.left=_36+"px";_2c.render.style.top=_37+"px";}else{_2c.render.style.left=_36+"px";_2c.render.style.top=_37+"px";}}}if(this.options.wmode){$W.getBody().showWModeFrame("menu",_2c.render);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bn.prototype.mainNodeToHTML=function(_3b){["WebSquare.uiplugin.menu.mainNodeToHTML"];try{if(!_3b){return "";}if(_3b.rendered==true){return "";}_3b.rendered=true;var _3c=[];if(_3b.depth==0){_3c.push("<div class='w2menu_main'>");for(var i=0;i<_3b.childNodes.length;i++){var _3e=_3b.childNodes[i];if(this.authorization){var _3f=this.authFunction(_3e.label,_3e.value,_3e.depth,_3e.auth);if(!_3f){continue;}}_3c.push("<span class='w2menu_node "+this.mainMenuInfo.defaultStyle.className+"' id='"+this.id+"_node_"+_3e.index+"' index='"+_3e.index+"'>");_3c.push("<span class='w2menu_label'>"+_3e.label+"</span>");_3c.push("</span>");}_3c.push("</div>");}return _3c.join("");}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bn.prototype.childNodeToHTML=function(_40){["WebSquare.uiplugin.menu.childNodeToHTML"];try{if(!_40){return "";}if(_40.rendered==true){return "";}_40.rendered=true;var _41=[];if(_40.childNodes.length>0){_41.push("<div class='w2menu_depth"+(_40.depth+1)+" w2menu_child'>");_41.push("<div class='w2menu_child_container "+this.childMenuInfo.containerStyle.className+"'>");for(var i=0;i<_40.childNodes.length;i++){var _43=_40.childNodes[i];if(this.authorization){var _44=this.authFunction(_43.label,_43.value,_43.depth,_43.auth);if(!_44){continue;}}var _45="";if(_43.hasChild()){_45=this.childMenuInfo.childDefaultStyle.className;}else{_45=this.childMenuInfo.defaultStyle.className;}if(_43.hasChild()){_41.push("<div class='w2menu_node w2menu_hasChild w2menu_node_icon "+_45+"' id='"+this.id+"_node_"+_43.index+"' index='"+_43.index+"'>");}else{_41.push("<div class='w2menu_node w2menu_node_icon "+_45+"' id='"+this.id+"_node_"+_43.index+"' index='"+_43.index+"'>");}_41.push("<span class='w2menu_label'>"+_43.label+"</span>");_41.push("</div>");}_41.push("</div>");_41.push("</div>");}return _41.join("");}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bn.prototype.showAll=function(){["WebSquare.uiplugin.menu.showAll"];try{var _46=this.getChildren();for(var i=0;i<_46.length;i++){if(_46[i].id.indexOf("menuLayer")>-1){_46[i].show();}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bn.prototype.hideAll=function(_48){["WebSquare.uiplugin.menu.hideAll"];try{var _49=this.getChildren();for(var i=0;i<_49.length;i++){if(_49[i].id.indexOf("menuLayer")>-1){if(this.options.wmode&&_48){var _4b=_49[i].render.childNodes;if(_4b.length==0){continue;}var _4c=_4b[0].className.split(" ")[0];$W.getBody().removeWModeFrame("menu",_4c);}_49[i].hide();}}var _4d=this.tree.rootNode.childNodes;for(var idx in _4d){if(_4d[idx].nodeDom){this.removeClass(_4d[idx].nodeDom,this.mainMenuInfo.selectedStyle.className);this.removeClass(_4d[idx].nodeDom,this.childMenuInfo.childSelectedStyle.className);this.removeClass(_4d[idx].nodeDom,this.childMenuInfo.childHoverStyle.className);this.removeClass(_4d[idx].nodeDom,this.childMenuInfo.hoverStyle.className);if(this.hoverOneDepthMenuId&&this.hoverOneDepthMenuId===_4d[idx].nodeDom.id){if(this.options.keepFirstSelectedMenu&&this.options.nowSelectedOneDepthMenuIndex>-1){if(_4d[idx].nodeDom.id===_4d[this.options.nowSelectedOneDepthMenuIndex].nodeDom.id){break;}}this.removeClass(_4d[idx].nodeDom,"w2menu_node_selected");}}}for(var idx in this.selectedChildNodeList){this.removeClass(this.selectedChildNodeList[idx],this.childMenuInfo.childSelectedStyle.className);this.removeClass(this.selectedChildNodeList[idx],this.childMenuInfo.childHoverStyle.className);}this.selectedChildNodeList=[];}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bn.prototype.showChildMenu=function(_4f,e,_51){["WebSquare.uiplugin.menu.showChildMenu"];try{var _52=this.getChild(this.id+"_"+"menuLayer"+_4f.index);if(!_52){_52=this.makeMenuLayer(_4f,e,_51);}if(!this.options.wmode){this.hideAll();}else{if(_4f.depth==1){if(this.oneDepthMenuId==_51.id||this.oneDepthMenuId==""){this.hideAll();}else{this.hideAll(true);}this.oneDepthMenuId=_51.id;}else{if(this.selectedMenuDepth>_4f.depth){for(var i=_4f.depth+1;i<=this.selectedMenuDepth;i++){$W.getBody().removeWModeFrame("menu","w2menu_depth"+i);}}this.hideAll();}}_52.show();var _54=_4f.parentNode;while(_54&&_54.depth>0){var _55=this.getChild(this.id+"_menuLayer"+_54.index);if(_55){_55.show();if(this.options.wmode){$W.getBody().showWModeFrame("menu",_55.render);}var _56=document.getElementById(this.id+"_node_"+_54.index);if(_56){if(_54.depth==1){this.addClass(_56,this.mainMenuInfo.selectedStyle.className);}else{if(_54.depth>1){this.selectedChildNodeList.push(_56);this.addClass(_56,this.childMenuInfo.childSelectedStyle.className);}}}}_54=_54.parentNode;}if(this.options.wmode){var _57=_4f.depth;if(this.selectedMenuDepth==_57){var _58="w2menu_depth"+(_57+1);var _59;if($W._G.isIE(8)||$W._G.isIE(7)||$W._G.isIE(6)){var _5a=document.getElementsByTagName("div");for(var i=0;i<_5a.length;i++){if(_5a[i].className.split(" ")[0]==_58){_59=_5a[i];}}}else{_59=document.getElementsByClassName(_58)[0];}var _5b=document.getElementById(_58+"_wmode_frame");if(!!_59){if(_59.parentElement.style.display=="none"){if(!!_5b){$W.getBody().removeWModeFrame("menu",_58);}}}}if(this.maxChildMenuDepth!=-1){if(this.maxChildMenuDepth>_57){if(this.maxChildMenuDepth-_57!=1){var _5c="w2menu_depth"+this.maxChildMenuDepth;var _5d=document.getElementById(_5c+"_wmode_frame");if(!!_5d){$W.getBody().removeWModeFrame("menu",_5c);this.maxChildMenuDepth=_57;}}}}this.selectedMenuDepth=_57;if(_4f.childNodes.length>0){if(this.maxChildMenuDepth<(_57+1)){this.maxChildMenuDepth=_57+1;}}else{this.maxChildMenuDepth=_57;}}this.setChildMenuPosition(_52,_4f,e,_51);this.addRoundRect(_52,_4f);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bn.prototype.hideChildMenu=function(_5e){["WebSquare.uiplugin.menu.hideChildMenu"];try{var _5f=this.getChild(this.id+"_menuLayer"+_5e.index);if(_5f){_5f.hide();}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bn.prototype.addRoundRect=function(_60,_61){["WebSquare.uiplugin.menu.addRoundRect"];try{if(_61.rounded==true){return;}_61.rounded=true;if(_60&&_60.render.firstChild){var _62=_60.render.firstChild;var idx=_61.index;_62.style.display="block";var gu=new $W._a._k(this.id+"_gu_"+idx,_62,null,{appendMode:"insert"});var _65=_62.offsetWidth-3;var _66=_62.offsetHeight-3;if(this.childMenuInfo.roundStyle.borderWidth>0){gu.drawToolkit.createRoundRect(this.id+"_back_round_"+idx,this.childMenuInfo.roundStyle.borderWidth,1,1,_65,_66,this.childMenuInfo.roundStyle.arcSize,this.childMenuInfo.roundStyle.borderColor,this.childMenuInfo.roundStyle.fillColor,true);}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bn.prototype.makeSubLayer=function(e,_68){["WebSquare.uiplugin.menu.makeSubLayer"];try{var _69="w2menu_sub";if(this.options.isVertical==true){_69+=" w2menu_vertical";}var _6a=new $W._a._p(this.id+"_subLayer",{className:_69});_6a.writeTo($W.getBody(),null,this.parentFrame);_6a.activate();var _6b=$W._H.getAbsoluteLeft(this.render);var top=$W._H.getAbsoluteTop(this.render);var _6d=this.render.offsetWidth;var _6e=this.render.offsetHeight;if(this.options.isVertical==true){var _6b=$W._H.getAbsoluteLeft(_68);var top=$W._H.getAbsoluteTop(this.render);var _6d=_68.offsetWidth;_6a.setStyle("left",_6b+_6d+"px");_6a.setStyle("top",top+"px");}else{var _6b=$W._H.getAbsoluteLeft(this.render);var top=$W._H.getAbsoluteTop(_68);var _6e=_68.offsetHeight;_6a.setStyle("left",_6b+"px");_6a.setStyle("top",top+_6e+"px");}if($W._G.isMobile()){_6a.event.addListener(_6a.render,"ontouchstart",this.event.bindAsEventListener(this,this.handleClickEvent));}else{_6a.event.addListener(_6a.render,"onclick",this.event.bindAsEventListener(this,this.handleClickEvent));}_6a.event.addListener(_6a.render,"onmouseover",this.event.bindAsEventListener(this,this.handleMouseoverEvent));_6a.event.addListener(_6a.render,"onmouseout",this.event.bindAsEventListener(this,this.handleMouseoutEvent));this.addControl(_6a);return _6a;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bn.prototype.makefakeSubLayer=function(){["WebSquare.uiplugin.menu.makefakeSubLayer"];try{var _6f=this.render.childNodes[0].childNodes[0];var _70="w2menu_sub";if(this.options.isVertical==true){_70+=" w2menu_vertical";}var _71=new $W._a._p(this.id+"_subLayer",{className:_70});_71.writeTo($W.getBody(),null,this.parentFrame);_71.activate();var _72=$W._H.getAbsoluteLeft(this.render);var top=$W._H.getAbsoluteTop(this.render);var _74=this.render.offsetWidth;var _75=this.render.offsetHeight;if(this.options.isVertical==true){var _72=$W._H.getAbsoluteLeft(_6f);var top=$W._H.getAbsoluteTop(this.render);var _74=_6f.offsetWidth;_71.setStyle("left",_72+_74+"px");_71.setStyle("top",top+"px");}else{var _72=$W._H.getAbsoluteLeft(this.render);var top=$W._H.getAbsoluteTop(_6f);var _75=_6f.offsetHeight;_71.setStyle("left",_72+"px");_71.setStyle("top",top+_75+"px");}if($W._G.isMobile()){_71.event.addListener(_71.render,"ontouchstart",this.event.bindAsEventListener(this,this.handleClickEvent));}else{_71.event.addListener(_71.render,"onclick",this.event.bindAsEventListener(this,this.handleClickEvent));}_71.event.addListener(_71.render,"onmouseover",this.event.bindAsEventListener(this,this.handleMouseoverEvent));_71.event.addListener(_71.render,"onmouseout",this.event.bindAsEventListener(this,this.handleMouseoutEvent));this.addControl(_71);return _71;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bn.prototype.makeMenuLayer=function(_76,e,_78){["WebSquare.uiplugin.menu.makeMenuLayer"];try{var _79=null;var _7a=this.getChild(this.id+"_subLayer");if(!_7a){_7a=this.makeSubLayer(e,_78);}if(_7a){_79=new $W._a._p(this.id+"_menuLayer"+_76.index,{className:"w2menu_menuLayer"});_79.writeTo(_7a);_79.activate();var _7b=this.childNodeToHTML(_76);if(_7b!=""){_79.render.innerHTML=_7b;}this.addControl(_79);}return _79;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bn.prototype.removeMenuLayer=function(){["WebSquare.uiplugin.menu.removeMenuLayer"];try{this.clearChildren();var _7c=document.getElementById(this.id+"_subLayer");if(!_7c){return;}else{this.removeChildren(_7c);document.body.removeChild(_7c);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bn.prototype.removeChildren=function(_7d){["WebSquare.uiplugin.scatterChart.removeChildren"];try{while(_7d.hasChildNodes()){if(_7d.firstChild!=""){_7d.removeChild(this.removeChildren(_7d.firstChild));}else{_7d.removeChild(_7d.firstChild);}}return _7d;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bn.prototype.showChildMenuHorizontal=function(_7e,_7f){["WebSquare.uiplugin.menu.showChildrenHorizontal"];try{var _80=this.getChild(this.id+"_subLayer");var _81=this.getChild(this.id+"_menuLayer"+_7e);var _82=this.render.childNodes[0].childNodes[0];var _83=this.tree.findNodeByIndex(_7e);if(_7f){if(_81){var _84=_81.render.childNodes[0].childNodes[1];_84.className+=" w2menu_child_container_horizon";var _85=_84.childNodes;for(var i=0;i<_85.length;i++){_85[i].className+=" w2menu_node_horizon";}}else{if(!_80){this.makefakeSubLayer(_82);}this.showChildMenu(_83,null,_82);var _87=this.getChild(this.id+"_"+"menuLayer"+_83.index);this.hideAll();var _84=_87.render.childNodes[0].childNodes[1];_84.className+=" w2menu_child_container_horizon";var _85=_84.childNodes;for(var i=0;i<_85.length;i++){_85[i].className+=" w2menu_node_horizon";}}}else{if(_81){var _84=_81.render.childNodes[0].childNodes[1];_84.className=_84.className.replaceAll("w2menu_child_container_horizon","");var _85=_84.childNodes;for(var i=0;i<_85.length;i++){_85[i].className=_85[i].className.replaceAll("w2menu_node_horizon","");}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bn.prototype.handleFirstOpenEvent=function(e){["WebSquare.uiplugin.menu.handleFirstOpenEvent"];try{var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match(null,this.id)){}if(it.match("w2menu_node")){var _8a=it.getElement();var _8b=_8a.getAttribute("index");var _8c=this.tree.findNodeByIndex(_8b);if(_8c.depth>1){break;}if(_8c.depth==1){this.showChildMenu(_8c,e,_8a);var _8d=document.getElementById(this.id+"_node_"+_8b);if(_8d){this.addClass(_8d,this.mainMenuInfo.selectedStyle.className);}this.hoverOneDepthMenuId=this.id+"_node_"+_8b;}}}it=null;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bn.prototype.handleClickEventDocument=function(e){["WebSquare.uiplugin.menu.handleClickEventDocument"];try{if(!this.event.isMine(e,this.render)){this.hideAll(true);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bn.prototype.handleClickEvent=function(e){["WebSquare.uiplugin.menu.handleClickEvent"];try{var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match(null,this.id)){}if(it.match("w2menu_node")){var _91=it.getElement().getAttribute("index");var _92=this.tree.findNodeByIndex(_91);var _93=_92.value.split("$$");if(_92.isLeaf()){try{if(this.options.keepFirstSelectedMenu){if(this.options.nowSelectedOneDepthMenuIndex>-1){this.options.beforeSelectedOneDepthMenuIndex=this.options.nowSelectedOneDepthMenuIndex;}var _94=this.tree.rootNode.childNodes;while(_92){if(_92.parentNode&&_92.parentNode.index!=0){_92=_92.parentNode;}else{break;}}for(var i=0;i<_94.length;i++){if(_94[i].index===_92.index){this.options.nowSelectedOneDepthMenuIndex=i;}}if(this.options.beforeSelectedOneDepthMenuIndex>-1&&this.options.nowSelectedOneDepthMenuIndex!==this.options.beforeSelectedOneDepthMenuIndex){var _96=this.tree.rootNode.childNodes[this.options.beforeSelectedOneDepthMenuIndex].nodeDom;this.removeClass(_96,"w2menu_node_selected");}}this.hideAll(true);if(this.options.keepFirstSelectedMenu){var _97=this.tree.rootNode.childNodes[this.options.nowSelectedOneDepthMenuIndex].nodeDom;this.addClass(_97,"w2menu_node_selected");}if(!this.childMenuInfo["onclickFunc"]){this.childMenuInfo["onclickFunc"]=eval(this.childMenuInfo["onclick"]);}}catch(e){}if(this.childMenuInfo["onclickFunc"]){this.childMenuInfo["onclickFunc"].apply(this,_93);}$W._c.fireEvent(this,"onleafclick",_93[0],_93[1],_93[2]);it.stop();}else{$W._c.fireEvent(this,"onbranchclick",_93[0],_93[1],_93[2]);}}}it=null;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bn.prototype.handleMouseoverEvent=function(e){["WebSquare.uiplugin.menu.handleMouseoverEvent"];try{$W._c.stopEvent(e);if(this.options.menuHide==true&&this.timeHide){clearTimeout(this.timeHide);this.timeHide=null;}var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match("w2menu_node")){this.addClass(it.getElement(),"w2menu_node_over");var _9a=it.getElement();var _9b=it.getElement().getAttribute("index");var _9c=this.tree.findNodeByIndex(_9b);if(_9c.depth==1){}else{if(_9c.depth>1){this.showChildMenu(_9c,e,_9a);if(_9c.hasChild()){this.addClass(it.getElement(),this.childMenuInfo.childHoverStyle.className);}else{this.addClass(it.getElement(),this.childMenuInfo.hoverStyle.className);}}}}}it=null;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bn.prototype.handleMouseoutEvent=function(e){["WebSquare.uiplugin.menu.handleMouseoutEvent"];try{$W._c.stopEvent(e);var _9e=this;if(this.options.menuHide==true){this.timeHide=setTimeout(function(){_9e.hideAll(true);},500);}var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match("w2menu_node")){this.removeClass(it.getElement(),"w2menu_node_over");var _a0=it.getElement();var _a1=it.getElement().getAttribute("index");var _a2=this.tree.findNodeByIndex(_a1);if(_a2.depth==1){}else{if(_a2.depth>1){if(_a2.hasChild()){this.removeClass(it.getElement(),this.childMenuInfo.childHoverStyle.className);}else{this.removeClass(it.getElement(),this.childMenuInfo.hoverStyle.className);}}}}}it=null;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bn.prototype.closeMenu=function(){this.hideAll();};$W._a.bn.prototype.setSelectedMenuIndex=function(_a3){["WebSquare.uiplugin.menu.setSelectedMenuIndex"];if(!this.options.keepFirstSelectedMenu){return;}if(isNaN(_a3)){return;}if(_a3>-1&&_a3<this.tree.rootNode.childNodes.length){if(this.options.nowSelectedOneDepthMenuIndex>-1){this.options.beforeSelectedOneDepthMenuIndex=this.options.nowSelectedOneDepthMenuIndex;}if(this.options.beforeSelectedOneDepthMenuIndex>-1){var _a4=this.tree.rootNode.childNodes[this.options.beforeSelectedOneDepthMenuIndex].nodeDom;this.removeClass(_a4,"w2menu_node_selected");}this.options.nowSelectedOneDepthMenuIndex=_a3;var _a5=this.tree.rootNode.childNodes[this.options.nowSelectedOneDepthMenuIndex].nodeDom;this.addClass(_a5,"w2menu_node_selected");}};$W._a.bn.prototype.authorize=function(_a6){["WebSquare.uiplugin.menu.authorize"];try{this.authorization=true;this.authFunction=_a6;this.hideAll();this.removeMenuLayer();this.removeMainMenuLayer();this.removeChildMenuLayer(this.tree.rootNode);this.drawContents();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bn.prototype.removeMainMenuLayer=function(){["WebSquare.uiplugin.menu.removeMainMenuLayer"];try{if(this.render){this.render.removeChild(this.render.childNodes[0]);this.tree.rootNode.rendered=false;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bn.prototype.removeChildMenuLayer=function(_a7){["WebSquare.uiplugin.menu.removeMainMenuLayer"];try{_a7.rendered=false;var _a8=_a7.childNodes;if(_a8.length>0){for(var i=0;i<_a8.length;i++){this.removeChildMenuLayer(_a8[i]);}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bn.prototype.getDataListInfo=function(){["WebSquare.uiplugin.menu.getDataListInfo"];try{if(this.modelControl.isDataCollectionItemsetBinded){var _aa={};_aa.id=this.modelControl.dataCollectionItemsetInfo.dataComp.id;var _ab=this.modelControl.itemsetObj;_aa.nodeset=_ab.nodeset;_aa.label=_ab.label;_aa.value=_ab.value;return _aa;}else{return null;}}catch(e){$W.exception.printStackTrace(e,null,this);}};;WebSquare.uiplugin.menu=$W._a.bn;requires("uiplugin.group");$W._a._B=function(id,_2,_3){["WebSquare.uiplugin.wframe"];$W._t.call(this,id,_2,_3);};$W.extend($W._a._B.prototype,$W._t.prototype);$W._a._B.prototype.defaultOptions={pluginType:"uiplugin.wframe",pluginName:"wframe",userEvents:["onpageload","onload"],useConfig:true,src:"",tagname:"div",mode:"async",scope:false,initScript:"",scopeVariable:"",scopeFunction:"$w",isWidget:false};$W._a._B.prototype.initialize=function(_4){["WebSquare.uiplugin.wframe.initialize "];this.createFlag=false;if(_4&&_4.tagName==="w2:wframe"){this.createFlag=true;}this.frameDoc=null;this.wframeScript=[];this.lazyImportsArr=[];this.childAllControlList=[];this.userComponentList=[];this.userPluginList=[];this.scope={};this.scopeLazyList=[];this.scopeVariable={};this.popupParam="";this.popupId=null;if(this.options.scope&&this.options.scopeVariable==""){this.options.scopeVariable=$W._N.getConfiguration("/WebSquare/spa/variable/@value")||"";}this.makeScopeVariable();};$W._a._B.html5={"footer":"div","header":"div","nav":"div","section":"div"};$W._a._B.prototype.toHTML=function(){["WebSquare.uiplugin.wframe.toHTML"];try{var _5=[];var _6=this.options.tagname;var _7=(this.options.style=="")?"":"style='"+this.options.style+"'";if($W._N.browserCheck.ie){var _8=$W._N.browserVersion();if(_8=="6"||_8=="7"||_8=="8"){if($W._a._B.html5[_6]){_6=$W._a._B.html5[_6];}}}_5.push("<"+_6+" id='"+this.id+"' "+_7+" class='w2wframe "+this.options.className+"' "+">");if(this.createFlag){var _9=this.getChildren();for(var i=0;i<_9.length;i++){_5.push(_9[i].toHTML());}}_5.push("</"+_6+">");return _5.join("");}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._B.prototype.setAction=function(){["WebSquare.uiplugin.wframe.setAction"];try{if(this.options.isWidget){return;}else{if(!this.createFlag){this.setSrc(this.options.src);}else{if(this.frameDoc&&this.frameDoc.scriptSection.wq_trim()!=""){var _b=this.frameDoc.scriptSection;if(this.options.scope){_b="WebSquare.scope_obj="+this.id+";\nwith(WebSquare.util.getComponentById('"+this.id+"').scope){\n var udc_obj = "+this.id+";"+_b+"\n};\nWebSquare.scope_obj=null;\n";}_b=$W.scriptIdentifier+$W._N.getURL(this.getSrc())+"\";"+_b;if($W.scriptSectionExcuteFlag&&$W.scriptSectionExcuteFlag==="executed"){var _c=this.parentControl.parentControl;if(_c.options.pluginName=="wframe"){_c.wframeScript.push(_b);if(this.wframeScript.length>0){for(var i=0;i<this.wframeScript.length;i++){_c.wframeScript+=this.wframeScript[i];}}this.frameDoc.scriptSection="";_c.lazyImportsArr=_c.lazyImportsArr.concat(this.lazyImportsArr);this.lazyImportsArr=[];}else{if(this.wframeScript.length>0){for(var i=0;i<this.wframeScript.length;i++){_b+=this.wframeScript[i];}}$W.BootLoader.globalEval(_b);}}else{if(!$W.wframeScript){$W.wframeScript=[];}$W.wframeScript.push(_b);this.frameDoc.scriptSection="";}}}}var _e=this.getSrc();for(var i=0;i<this.childControlList.length;i++){var _f=this.childControlList[i];if(_f.activeStatus=="stop"){_f.setUserAction();}if($W.scriptSectionExcuteFlag&&$W.scriptSectionExcuteFlag==="executed"){$W._j["activated"]=true;this.frame_dc_list=[];for(var _10 in $W._j["comp"]){var _11=$W._j["comp"][_10];if(_11&&_11.parentFrame===this.uuid&&!_11.activated){_11.activate();this.frame_dc_list.push(_11.uuid);}}}$W._c.fireEvent(_f,"oncreated",_f.options);$W._c.fireEvent(_f,"onwframeload",_e);$W._c.fireEvent(_f,"onpageload",_e);}$W._c.fireEvent(this,"onload",_e);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._B.prototype.setSrc=function(src,_13){["WebSquare.uiplugin.wframe.setSrc"];try{_13=_13||{};var _14=this.getSrc();if(!src||src==""){return false;}this.options.src=src;src=this.getSrc();var _15=$W._B.load($W._N.getURL(src),null);if(_15){for(var i=0;i<this.childControlList.length;i++){$W._c.fireEvent(this.childControlList[i],"onwframeunload",_14);}$W._G.emptySelection();if(_13.removeAll){_13.appendModel="replace";}if(_13.appendModel=="replace"){this.removeFrame_old();}else{this.finalize();}this.makeScopeVariable();this.frameDoc=new $W.WebSquareDocument(_15);this.frameDoc.renderStartTime=new Date();this.frameDoc.parsingWFrame(true,this);if(_13.appendModel==undefined){_13.appendModel=true;}this.appendModels(this.frameDoc.models,null,_13);this.frameDoc.renderBody2(this,true);return true;}else{return false;}}catch(e){$W.exception.printStackTrace(e,null,this);return false;}};$W._a._B.prototype.makeFrame=function(_17){["WebSquare.uiplugin.wframe.makeFrame"];try{var src=this.getSrc();if(src){var _19=$W._B.load($W._N.getURL(src),null);if(_19){this.frameDoc=new $W.WebSquareDocument(_19);this.frameDoc.renderStartTime=new Date();this.frameDoc.parsingWFrame(true,this);this.appendModels(this.frameDoc.models,null,{"appendModel":true});this.frameDoc.renderBody2(this,_17);}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._B.prototype.getSrc=function(){["WebSquare.uiplugin.wframe.getSrc"];try{var _1a=this.options.src;if(_1a==""){return "";}var _1b=$W._N.getConfiguration("/WebSquare/pageURLPrefix/@ignoreW2xPath");if($W.pageURLPrefix!==""&&$W.pageURLPrefixType=="function"){var _1c=$W.pageURLPrefix;if($W.pageURLPrefix.indexOf("()")==-1){_1c=$W.pageURLPrefix+"()";}if(_1b.toLowerCase()=="true"){_1c=_1c.wq_replaceAll("()","(obfuscator_url)");_1a=eval("(function(){var obfuscator_url = \""+_1a+"\";return "+_1c+"})();");}else{_1a=eval(_1c)+_1a;}}else{if($W.pageURLPrefix!==""&&$W.pageURLPrefixType!="function"){_1a=$W.pageURLPrefix+_1a;}}return _1a;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._B.prototype.appendModels=function(_1d,_1e,_1f){["WebSquare.uiplugin.wframe.appendModels"];try{_1f=_1f||{};if(_1f.appendModel=="replace"){this.replaceModels(_1d);return;}var _20=$W._J.getModelByID(_1e);if(_20){for(var i=0;i<_1d.length;i++){if(_1f.appendModel){var _22=_20.instances[0].document;var _23=_1d[i].instances[0].document.childNodes;for(var j=0;j<_23.length;j++){_22.appendChild(_23[j].cloneNode(true));}}_20.binds=_20.binds.concat(_1d[i].binds);for(var sm=0;sm<_1d[i].submissions.length;sm++){var _26=_1d[i].submissions[sm];_26.parentElement=_20.element;_20.submissions.push(_26);}for(var wk=0;wk<_1d[i].workflows.length;wk++){var _28=_1d[i].workflows[wk];_28.parentElement=_20.element;_20.workflows.push(_28);}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._B.prototype.replaceModels=function(_29){["WebSquare.uiplugin.wframe.replaceModels"];try{$W.WebSquaredoc.models.splice(0,$W.WebSquaredoc.models.length);$W.WebSquaredoc.models=$W.WebSquaredoc.models.concat(_29);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._B.prototype.remove=function(){["WebSquare.uiplugin.wframe.remove"];try{this.finalize();if(this.render!=null){$W.removeNode(this.render);}if(this.parentControl){this.parentControl.removeControl(this);}for(var i in $W.getBody().childControlList){if($W.getBody().childControlList[i]==this){$W.getBody().childControlList.splice(i,1);}}this.destroy();$W._G.emptySelection();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._B.prototype.finalize=function(){["WebSquare.uiplugin.wframe.finalize"];try{var _2b=new Date();for(var i=0;i<this.childControlList.length;i++){$W._c.fireEvent(this.childControlList[i],"onpageunload");}for(var i=this.childAllControlList.length-1;i>=0;i--){var _2d=$W.idCache[this.childAllControlList[i]];if(!_2d){continue;}if($W._j["comp"][_2d.id]!=undefined){$W._j.api.remove(_2d.id);continue;}$W.isPrintLog=false;if(typeof _2d.finalize=="function"){_2d.finalize();}$W.isPrintLog=true;if(typeof _2d.unbind=="function"){_2d.unbind();}if(_2d.event){_2d.event.clearCache();}if(_2d.modelControl){_2d.modelControl.unbindRef();_2d.modelControl.unbindItemset();}$W.getBody().getLayerListener().remove(_2d.id);_2d.childControlList=[];var _2e={"secret":"input","selectbox":"select1","radio":"select1","multiselect":"select","checkbox":"select","checkcombobox":"select","switch":"Switch"};var _2f=_2e[this.options.pluginName]||this.options.pluginName;var arr=$W.WebSquareDocument.componentsCache[_2f]||$W.WebSquareDocument.componentsCache[this._wTagName]||[];for(var idx=0,len=arr.length;idx<len;idx++){if(arr[idx]==this.uuid){arr[idx]=null;arr.splice(idx,1);}}if($W._N.memoryLeakComponent[_2f]){$W._N.memoryLeakComponentCount+=$W._N.memoryLeakComponent[_2f];}window[$W.noConflict]["comp"][_2d.id]=null;delete window[$W.noConflict]["comp"][_2d.id];window[$W.noConflict]["data"][_2d.id]=null;delete window[$W.noConflict]["data"][_2d.id];if(window[_2d.id]){window[_2d.id]=null;}if(_2d.render!=null){$W.removeNode(_2d.render);}$W.idToUUID[_2d.id]=null;delete $W.idToUUID[_2d.id];for(var _32 in _2d){delete _2d[_32];}_2d=null;$W.idCache[this.childAllControlList[i]]=null;delete $W.idCache[this.childAllControlList[i]];}this.childAllControlList=[];this.childControlList=[];for(var _33 in this.scopeVariable){if(window[this.id+"_"+_33]!=undefined){for(var _32 in window[this.id+"_"+_33]){delete window[this.id+"_"+_33][_32];}window[this.id+"_"+_33]=null;if(!$W._G.isIE()||parseInt($W._N.browserVersion(),10)>8){delete window[this.id+"_"+_33];}else{window[this.id+"_"+_33]=null;}}}this.scope={};this.scopeVariable={};this.scopeLazyList=[];for(var i=0;i<this.userComponentList.length;i++){$W._G.loadedUserComponent[this.userComponentList[i]]=null;delete $W._G.loadedUserComponent[this.userComponentList[i]];}this.userComponentList=[];for(var i=0;i<this.userPluginList.length;i++){$W._G.loadedUserComponentPluginName[this.userPluginList[i]]=null;delete $W._G.loadedUserComponentPluginName[this.userPluginList[i]];}this.userPluginList=[];if(this.render!=null){$W.removeChildren(this.render);}this.removeCommon();var _34=new Date();$W.logger.printLog("Wframe unloading["+this.id+"]. Time:"+(_34-_2b)+"ms");}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._B.prototype.removeFrame=function(){["WebSquare.uiplugin.wframe.removeFrame"];try{this.finalize();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._B.prototype.removeFrame_old=function(){["WebSquare.uiplugin.wframe.removeFrame_old"];try{$W.logger.printLog("Wframe unloading start.["+this.id+"]");for(var i=0;i<this.childControlList.length;i++){$W._c.fireEvent(this.childControlList[i],"onpageunload");}$W._j["stopBroadCast"]=true;$W.dragdrop2={"droppable":{},"scrollable":{},"scrollByDragDelay":300,"scrollByDragSpeed":50};var _36=$W.getBody();for(var key in $W.idCache){var _38=$W.idCache[key];if(_38===_36||_38===this){continue;}if(typeof _38.remove=="function"&&_38.remove!=$W._t.prototype.remove&&(!_38.options||(_38.options.pluginName!="wframe"&&_38.options.pluginName!="pageInherit"))){_38.remove();}else{$W.isPrintLog=false;if(typeof _38.finalize=="function"){_38.finalize();}$W.isPrintLog=true;if(typeof _38.unbind=="function"){_38.unbind();}if(_38.event){_38.event.clearCache();}if($W.useVisibleHelper&&_38.render&&_38.render.parentNode&&_38!=$W.bodyControlList[0]){_38.render.parentNode.removeChild(_38.render);}_38.childControlList=[];if(window[_38.id]){window[_38.id]=null;}}}_36.getLayerListener().removeAll();$W.idCache={};$W.idCache[_36.uuid]=_36;$W.idCache[this.uuid]=this;window[$W.noConflict].comp={};window[$W.noConflict].comp[this.id]=this;$W.idToUUID={};$W.idToUUID[_36.id]=_36.uuid;$W.idToUUID[this.id]=this.uuid;$W.WebSquaredoc.itemsetElement=[];$W.WebSquaredoc.refElement=[];$W.WebSquareDocument.componentsCache={};$W.WebSquareDocument.componentsCache[_36.options.pluginName]=[_36.uuid];$W.WebSquareDocument.componentsCache[this.options.pluginName]=[this.uuid];this.childAllControlList=[];this.childControlList=[];this.scope={};this.scopeVariable={};this.userComponentList=[];this.userPluginList=[];if(this.render!=null){$W.removeChildren(this.render);}this.removeCommon();$W._N.clearCommon();$W.logger.printLog("Wframe unloading finished.["+this.id+"]");}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._B.prototype.removeCommon=function(){["WebSquare.uiplugin.wframe.removeCommon"];try{this.wframeScript=[];if(this.frameDoc!=null){var _39=$W.document.getElementsByTagName("head")[0];for(var i=0;i<this.frameDoc.cssList.length;i++){var uri=this.frameDoc.cssList[i].getAttribute("href");for(var idx in $W._y.skinTag){if(uri==$W._y.skinTag[idx]){$W._y.skinTag.splice(idx,1);break;}}_39.removeChild(this.frameDoc.cssList[i]);this.frameDoc.cssList[i]=null;}_39=null;var _3d=this.frameDoc.models[0].submissions;var _3e=$W.WebSquaredoc.models[0].submissions;for(var i=0;i<_3d.length;i++){for(var j=0;j<_3e.length;j++){if(_3d[i].id===_3e[j].id&&_3d[i].ref===_3e[j].ref){_3e[j].dead=true;_3e[j].parentElement=null;_3e.splice(j,1);break;}}}var _40=this.frameDoc.models[0].workflows;var _3e=$W.WebSquaredoc.models[0].workflows;for(var i=0;i<_40.length;i++){for(var j=0;j<_3e.length;j++){if(_40[i].id===_3e[j].id&&_40[i].ref===_3e[j].ref){_3e[j].promiseStatus="REJECT";_3e[j].parentElement=null;_3e.splice(j,1);break;}}}for(var _41 in this.frameDoc){this.frameDoc[_41]=null;delete this.frameDoc[_41];}}this.frameDoc=null;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._B.prototype.onPropertyChange=function(_42,_43){["WebSquare.uiplugin.wframe.onPropertyChange"];try{switch(_42){case "disabled":for(var i=0;i<this.childControlList.length;i++){var _45=this.childControlList[i];var obj={componentId:_45.id,disabled:_43};$W._G.setDisabled(obj);}break;case "readOnly":break;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._B.prototype.onComplete=function(){["WebSquare.uiplugin.wframe.onComplete"];try{if(this.frame_dc_list!=undefined){for(var i=0;i<this.frame_dc_list.length;i++){if(!$W.idCache[this.frame_dc_list[i]].completed){$W.idCache[this.frame_dc_list[i]].onComplete();}}delete this.frame_dc_list;}$W._t.prototype.onComplete.call(this);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._B.prototype.getObj=function(id){["WebSquare.uiplugin.wframe.getObj"];try{return this.scope[id];}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._B.prototype.getObjList=function(){["WebSquare.uiplugin.wframe.getObj"];try{var _49=[];for(var _4a in this.scope){_49.push(_4a);}return _49;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._B.prototype.makeScopeVariable=function(){["WebSquare.uiplugin.wframe.makeScopeVariable"];try{if(this.options.scopeVariable){var _4b=this.options.scopeVariable.split(",");for(var i=0;i<_4b.length;i++){var _4d=_4b[i].wq_trim();this.scopeVariable[_4d]={};this.scope[_4d]=this.scopeVariable[_4d];window[this.id+"_"+_4d]=this.scopeVariable[_4d];if(this.options.scopeFunction){this.scopeVariable[_4d][this.options.scopeFunction]=new $W._a._B.scope(this.uuid);var _4e=this.scopeVariable[_4d][this.options.scopeFunction];for(var _4f in $W._u){if(_4f==="data"){continue;}if(_4e[_4f]==undefined){_4e[_4f]=$W._u[_4f];}}_4e.data=new $W._a._B.scope.data(this.id);for(var _50 in $W._u.data){if(_4e.data[_50]==undefined&&typeof $W._u.data==="function"){_4e.data[_50]=$W._u.data[_50];}}if(this.options.scopeFunction!==$W.noConflict&&window[_4d]!=undefined&&window[_4d][this.options.scopeFunction]==undefined){$W.extend(window[_4d][this.options.scopeFunction],$W._u);}}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._B.prototype.makeLazyScopeVariable=function(){["WebSquare.uiplugin.wframe.makeLazyScopeVariable"];try{if(this.options.scopeVariable){var _51=this.options.scopeVariable.split(",");for(var i=0;i<_51.length;i++){var _53=_51[i].wq_trim();for(var j=0;j<this.scopeLazyList.length;j++){$W.idCache[this.scopeLazyList[j]].scope[_53]=this.scopeVariable[_53];}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._B.prototype.setMode=function(_55){["WebSquare.uiplugin.wframe.getObj"];try{this.options.mode=_55;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._B.scope=function(_56){this._parent_uuid=_56;this._identifier="wframe_scope";};$W._a._B.scope.prototype.getRuntimeId=function(id,_58){["WebSquare.uiplugin.wframe.scope.getRuntimeIdj"];try{var _59=this._parent_uuid;var ret="";var _5b=$W.idCache[this._parent_uuid].options.scopeVariable.split(",");var _5c={};for(var i=0;i<_5b.length;i++){_5c[_5b[i].wq_trim()]=true;}if(typeof _58==="string"){var _5e=_58.split("parent").length-1;for(var i=0;i<_5e&&_59!=undefined&&$W.idCache[_59]!=undefined;i++){_59=$W.idCache[_59].parentFrame;}}if(_5c[id]===true){if(_59!=undefined){ret=$W.idCache[_59].id+"_"+id;}else{ret=id;}}else{if(_59!=undefined&&$W.idCache[_59].scope[id]!=undefined){ret=$W.idCache[_59].scope[id].id||"";}else{if($W.idToUUID[id]&&$W.idCache[$W.idToUUID[id]]){ret=id;}}}return ret;}catch(e){$W.exception.printStackTrace(e,null,this);return "";}};$W._a._B.scope.prototype.getSubmission=function(id){["WebSquare.uiplugin.wframe.scope.getSubmission"];try{return $W.idCache[this._parent_uuid].scope[id]||null;}catch(e){$W.exception.printStackTrace(e);}};$W._a._B.scope.prototype.executeSubmission=function(_60,_61,obj,_63,_64){["WebSquare.uiplugin.wframe.scope.executeSubmission"];try{var _65=this.getSubmission(_60);return $W._J.executeSubmission(_65,_61,obj,_63,_64);}catch(e){$W.exception.printStackTrace(e);}};$W._a._B.scope.prototype.getParentId=function(){["WebSquare.uiplugin.wframe.scope.getParentId"];try{return $W.idCache[this._parent_uuid].id||null;}catch(e){$W.exception.printStackTrace(e);}};$W._a._B.scope.prototype.getParentFrame=function(){["WebSquare.uiplugin.wframe.scope.getParentId"];try{return $W.idCache[this._parent_uuid];}catch(e){$W.exception.printStackTrace(e);}};$W._a._B.scope.prototype.getPopupParam=function(){["WebSquare.uiplugin.wframe.scope.getPopupParam"];try{return $W.idCache[this._parent_uuid].popupParam;}catch(e){$W.exception.printStackTrace(e);}};$W._a._B.scope.prototype.setPopupParam=function(_66){["WebSquare.uiplugin.wframe.scope.setPopupParam"];try{return $W.idCache[this._parent_uuid].popupParam=_66;}catch(e){$W.exception.printStackTrace(e);}};$W._a._B.scope.prototype.getPopupUrl=function(){["WebSquare.uiplugin.wframe.scope.getPopupUrl"];try{var _67=$W.idCache[this._parent_uuid].getSrc();return $W._N.getURL(_67);}catch(e){$W.exception.printStackTrace(e);}};$W._a._B.scope.prototype.getPopupId=function(){["WebSquare.uiplugin.wframe.scope.getPopupId"];try{return $W.idCache[this._parent_uuid].popupId;}catch(e){$W.exception.printStackTrace(e);}};$W._a._B.scope.prototype.isWFramePopup=function(){["WebSquare.uiplugin.wframe.scope.isWFramePopup"];try{var _68=$W.idCache[this._parent_uuid].popupId;return !!(_68&&$W._G.getPopup(_68));}catch(e){$W.exception.printStackTrace(e);}};$W._a._B.scope.data=function(id){this._parent_id=id;this._identifier="wframe_scope_data";};$W._a._B.scope.data.prototype.get=function(_6a,_6b,_6c){["WebSquare.uiplugin.wframe.scope.data.get"];try{if(!_6c){_6c={};}if(!_6c.scope_obj){_6c.scope_obj=this._parent_id;}return $W._j.api.get(_6a,_6b,_6c);}catch(e){$W.exception.printStackTrace(e);}};$W._a._B.scope.data.prototype.set=function(_6d,_6e,_6f,_70){["WebSquare.uiplugin.wframe.scope.data.set"];try{if(!_70){_70={};}if(!_70.scope_obj){_70.scope_obj=this._parent_id;}return $W._j.api.set(_6d,_6e,_6f,_70);}catch(e){$W.exception.printStackTrace(e);}};;WebSquare.uiplugin.wframe=$W._a._B;$W.wframeDocument=function(_1,_2){["WebSquare.wframeParser"];this.options=_2;$W.WebSquareDocument.call(this,_1);this.cssList=[];this.scriptSection="";};$W.wframeDocument.inherit($W.WebSquareDocument);$W.wframeDocument.prototype.renderBody=function(_3){["WebSquare.wframeDocument.renderBody"];var _4=$W._B.getElementsByTagName(this.xmlDocument,"body",$W._N._XML_NAMESPACE.XHTML);$W.cssManager.startCache();var _5=$W.controlFactory.create(null,null,_4[0],_3.options.scope?_3:null);$W.cssManager.endCache();_3.addControl(_5);};$W.wframeDocument.prototype.renderBody2=function(_6){["WebSquare.wframeDocument.renderBody2"];var _7=$W._B.getElementsByTagName(this.xmlDocument,"body",$W._N._XML_NAMESPACE.XHTML);$W.cssManager.startCache();var _8=$W.controlFactory.create(null,null,_7[0],_6.options.scope?_6:null);$W.cssManager.endCache();_6.addControl(_8);if(_8){var _9=this;var _a=function(){_8.activate();_8.onComplete();_8.render=null;_6.wframeScript.push(_9.scriptSection);_9.scriptSection=_6.wframeScript.reverse().join("");_9.wframeScript=[];if(_9.scriptSection.wq_trim()!=""){$W.BootLoader.globalEval(_9.scriptSection);}if(_6.lazyImportsArr.length>0){$W._G.js.apply(null,_6.lazyImportsArr);_6.lazyImportsArr=[];}$W._c.fireEvent(_8,"onwframeload",_6.getSrc());$W._c.fireEvent(_8,"onpageload",_6.getSrc());};var _b=function(){_6.render.innerHTML=_8.toHTML();if(_9.options.mode=="async"){setTimeout(_a,1);}else{_a();}};if($W.externalScriptArr.length>0){$W.externalScriptArr.push(_b);$W._G.js.apply(null,$W.externalScriptArr);}else{_b();}$W.externalScriptArr=[];return true;}else{return false;}};$W.wframeDocument.prototype.addBodyEvents=function(_c,_d){["WebSquare.wframeDocument.addBodyEvents"];try{if(typeof _d!="undefined"){var s1=$W._N.makeStyle(_d);$W._N.applyStyle(this.render,s1);}var _f=$W.WebSquareparser.parseEvent(_c);$W._c.addEvents(this.render,_f);}catch(e){$W.exception.printStackTrace(e);}};$W.wframeParser=function(_1,_2){["WebSquare.wframeParser"];$W._o.WebSquareParser.call(this);this.frameDoc=_1;this.wframeComponent=_2;};$W.wframeParser.inherit($W._o.WebSquareParser);$W.wframeParser.prototype.parse=function(_3){["WebSquare.wframeParser.parse"];try{if($W._N.browserCheck.ieAllVersion&&$W.BootLoader.useActiveXObject){var _4=$W._N.getNamespaces(_3);var _5="";for(var i in _4){if(i!=""){_5+="xmlns:"+i+"=\""+_4[i]+"\" ";}}_3.setProperty("SelectionLanguage","XPath");_3.setProperty("SelectionNamespaces",_5);}$W._y.importCSS(_3,true);this.parseModels(_3.documentElement);return this.parseScript(_3.documentElement);}catch(e){$W.exception.printStackTrace(e);}};$W.wframeParser.prototype.parseModels=function(_7){["WebSquare.wframeParser.parseModels"];try{var _8=$W._B.getElementsByTagName(_7,"model",$W._N._XML_NAMESPACE.XFORMS);for(var i=0;i<_8.length;i++){this.frameDoc.models.push(this.parseModel(_8[i]));if(this.wframeComponent.options.scope){for(var j=0;j<this.frameDoc.models[i].submissions.length;j++){this.frameDoc.models[i].submissions[j].scope_obj=this.wframeComponent;}for(var j=0;j<this.frameDoc.models[i].workflows.length;j++){this.frameDoc.models[i].workflows[j].scope_obj=this.wframeComponent;}}}}catch(e){$W.exception.printStackTrace(e);}};$W.wframeParser.prototype.parseScript=function(_b){["WebSquare.wframeParser.parseScript"];try{this.frameDoc.scriptSection="";var _c=$W._B.getElementsByTagName(_b,"head",$W._N._XML_NAMESPACE.XHTML);if(_c.length==1){for(var _d=_c[0].firstChild;_d!=null;_d=_d.nextSibling){if((_d.nodeType==1)&&$W._B.matchNode(_d,"script",$W._N._XML_NAMESPACE.XHTML)){var _e=_d.getAttribute("src");if(_e!=null&&_e!=""){var _f=_d.getAttribute("defer");if(_f=="defer"){if($W.scriptSectionExcuteFlag=="executed"){this.wframeComponent.lazyImportsArr.push($W._N.getURL(_e));}else{$W.lazyImportsArr.push($W._N.getURL(_e));}}else{$W.externalScriptArr.push($W._N.getURL(_e));}}else{for(var _10=_d.firstChild;_10!=null;_10=_10.nextSibling){if(_10.nodeType==4||_10.nodeType==3){var _11=_10.nodeValue;if(this.wframeComponent.options.scope){_11="WebSquare.scope_obj="+this.wframeComponent.id+";\nwith(WebSquare.util.getComponentById("+this.wframeComponent.id+").scope){\n"+_11+"\n};\nWebSquare.scope_obj=null;\n";}this.frameDoc.scriptSection+=_11;}}}}}}else{alert($W._m.getMessage("E_Parser_MoreThanOneHeadError",_c.length));return false;}}catch(e){$W.exception.printStackTrace(e);}return true;};$W._a._Y=function(id,_2,_3){["WebSquare.uiplugin.window"];$W._t.call(this,id,_2,_3);};$W.extend($W._a._Y.prototype,$W._t.prototype);$W._a._Y.prototype.defaultOptions={pluginType:"uiplugin.window",pluginName:"window",parseChild:true,userEvents:["onclose","onminimize","onmaximize","onrestore","ondragstart","ondragend","onwindowkeyup","onwindowmousedown","onpopup"],defaultTop:"5px",defaultLeft:"5px",defaultWidth:"300px",defaultHeight:"210px",minimumWidth:"150px",minimumHeight:"150px",frameMode:"iframe",windowTitle:"",statusMsg:"",customMsg:"",src:"",wmode:false,useStatusMsg:true,useCustomMsg:false,windowTooltipDisplay:true,title:"",dragResizable:true,spa:false,noAttatchedEvent:false};$W._a._Y.prototype.initialize=function(_4){["WebSquare.uiplugin.window.initialize"];try{this.frame=null;this.modal=null;this.windowInfo={status:this.options.parent?"maximized":"restored",drag:this.options.parent?false:true,top:this.options.defaultTop,left:this.options.defaultLeft,width:(this.options.defaultWidth.slice(-2)=="px"||this.options.defaultWidth.slice(-1)=="%")?this.options.defaultWidth:parseInt(this.options.defaultWidth,10)+"px",height:(this.options.defaultHeight.slice(-2)=="px"||this.options.defaultHeight.slice(-1)=="%")?this.options.defaultHeight:parseInt(this.options.defaultHeight,10)+"px",minWidth:(parseInt(this.options.minimumWidth,10)<150)?(150+"px"):this.options.minimumWidth,minHeight:(parseInt(this.options.minimumHeight,10)<150)?(150+"px"):this.options.minimumHeight,minimized:false,setInfo:function(_5){this.top=_5.style.top;this.left=_5.style.left;this.width=_5.style.width;this.height=_5.style.height;},getInfo:function(_6){_6.style.top=this.top;_6.style.left=this.left;_6.style.width=this.width;_6.style.height=this.height;}};if(this.options.frameMode=="iframe"){requires("uiplugin.iframe");}else{if(this.options.frameMode=="wframe"){requires("uiplugin.wframe");}}if($W._N.getConfiguration("/WebSquare/spa/@value")=="true"){this.options.spa=true;}if(this.options.parent&&this.options.parent.options.hideTitleOnMaximize){this.hideTitleOnMaximize=true;}if(this.options.parent&&this.options.parent.options.usePopup){this.usePopup=true;}this.buttons=[];this.buttonInfo={};this.hasButtons=false;this.popupParam="";this.popupId=null;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._Y.prototype.toHTML=function(){["WebSquare.uiplugin.window.toHTML"];try{var _7=(this.options.disabled=="")?"":"disabled='true'";var _8=[];var _9="";var _a="";var _b=(this.options.style=="")?"":"style='"+this.options.style+"'";if(this.options.windowTooltipDisplay){_a="title='"+this.options.windowTitle+"'";}_8.push("<div "+_7+" id='"+this.id+"' "+_b+" class='w2window w2window_maximized "+this.options.className+"' tabindex='0' role='application' "+_a+">");if(this.options.wmode==true){_9=$W._r.getSSLBlankPage();_8.push("<iframe frameBorder='no' title='"+this.options.title+"' class='w2window_wmode' "+_9+"></iframe>");}var _c="w2window_header";var _d="w2window_body";if(this.hideTitleOnMaximize==true&&this.windowInfo.status=="maximized"){_c+=" w2window_header_extend";_d+=" w2window_body_extend";}_8.push("<div id='"+this.id+"_header' class='"+_c+"'>");_8.push("<div id='"+this.id+"_header_icon' class='w2window_header_icon'></div>");_8.push("<div id='"+this.id+"_header_title' class='w2window_header_title'>"+this.options.windowTitle+"</div>");if(this.hasButtons){_8.push("<div id='"+this.id+"_header_buttonArea' class='w2window_header_buttonArea'>");for(var i=0;i<this.buttonInfo.buttons.length;i++){var _f=this.buttonInfo.buttons[i].value?"<span id='"+this.id+"_header_button_"+i+"_value' class='w2window_header_button_value'  btn_index='"+i+"' > "+this.buttonInfo.buttons[i].value+" </span>":"";_8.push("<div id='"+this.id+"_header_button_"+i+"' class='w2window_header_button w2window_header_button_"+i+"' btn_index='"+i+"' >");_8.push("<div id='"+this.id+"_header_button_"+i+"_content' class='w2window_header_button_content w2window_header_button_content_"+i+"' btn_index='"+i+"' >");_8.push(_f);_8.push("</div>");_8.push("</div>");}_8.push("</div>");}_8.push("<div id='"+this.id+"_header_control' class='w2window_header_control'>");_8.push("<div id='"+this.id+"_minimize' class='w2window_minimize' title='"+$W._m.getMessage("Window_minimize")+"'></div>");_8.push("<div id='"+this.id+"_restore' class='w2window_restore' title='"+$W._m.getMessage("Window_restore")+"' ></div>");if($W._G.getBoolean(this.options.useATagBtn)){_8.push("<a id='"+this.id+"_close' class='w2window_close' href='javascript:void(null);' title='"+$W._m.getMessage("Window_close")+"' ></div>");}else{_8.push("<div id='"+this.id+"_close' class='w2window_close' title='"+$W._m.getMessage("Window_close")+"' ></div>");}if(this.usePopup==true){_8.push("<div id='"+this.id+"_popup' class='w2window_popup' title='"+$W._m.getMessage("Window_popup")+"' ></div>");}_8.push("</div>");_8.push("</div>");if(this.options.useStatusMsg){_8.push("<div id='"+this.id+"_body' class='"+_d+"'>");}else{_8.push("<div id='"+this.id+"_body' class='"+_d+" w2window_no_status'>");}_8.push("<div id='"+this.id+"_content' class='w2window_content'>");_8.push("</div>");if(this.options.useStatusMsg||this.options.useCustomMsg){_8.push("<div id='"+this.id+"_status' class='w2window_status'>");if(this.options.useStatusMsg){_8.push("<div id='"+this.id+"_msg' class='w2window_msg'>"+this.options.statusMsg+"</div>");}if(this.options.useCustomMsg){_8.push("<div id='"+this.id+"_custom_msg' class='w2window_custom_msg'>"+this.options.customMsg+"</div>");}_8.push("</div>");}_8.push("</div>");if(this.options.dragResizable){_8.push("<div id='"+this.id+"_resize1' class='w2window_resize_right'></div>");_8.push("<div id='"+this.id+"_resize2' class='w2window_resize'></div>");_8.push("<div id='"+this.id+"_resize3' class='w2window_resize_bottom'></div>");}_8.push("</div>");return _8.join("");}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._Y.prototype.setAction=function(){["WebSquare.uiplugin.window.setAction"];try{this.dom.header=document.getElementById(this.id+"_header");this.dom.statusMsg=document.getElementById(this.id+"_msg");this.dom.customMsg=document.getElementById(this.id+"_custom_msg");this.dom.body=document.getElementById(this.id+"_body");this.event.addListener(this.render,"onclick",this.event.bindAsEventListener(this,this.handleClickEvent));if(this.options.useMaximize){this.event.addListener(this.render,"ondblclick",this.event.bindAsEventListener(this,this.handleDblclickEvent));}this.event.addListener(this.render,"onmouseover",this.event.bindAsEventListener(this,this.handleMouseoverEvent));this.event.addListener(this.render,"onmouseout",this.event.bindAsEventListener(this,this.handleMouseoutEvent));this.event.addListener(this.render,"onmousedown",this.event.bindAsEventListener(this,this.handleMousedownEvent));this.event.addListener(this.render,"onselectstart",this.event.bindAsEventListener(this,this.handleSelectStartEvent));this.drawFrame(this.options.src);if(this.hasButtons){for(var i=0;i<this.buttonInfo.buttons.length;i++){var _11=document.getElementById(this.id+"_header_button_"+i+"_content");_11.style.marginTop=-_11.offsetHeight/2+"px";_11.style.marginLeft=-_11.offsetWidth/2+"px";if(this.buttonInfo.buttons[i].value){var _12=document.getElementById(this.id+"_header_button_"+i+"_value");_12.style.marginTop=-_12.offsetHeight/2+"px";_12.style.marginLeft=-_12.offsetWidth/2+"px";}this.buttons.push({"btn_index":i,"disable":false,"hidden":false,"contentDom":_11,"valueDom":_12});}if(this.buttonInfo.alignment=="right"){var _13=document.getElementById(this.id+"_header_control");var _14=document.getElementById(this.id+"_header_buttonArea");$W._H.setStyle(_14,"float","right");$W._H.setStyle(_14,"left","-"+_13.offsetWidth+"px");}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._Y.prototype.drawFrame=function(src){["WebSquare.uiplugin.window.drawFrame"];try{if(this.frame){this.removeControl(this.frame);this.frame.remove();this.frame=null;}this.options.src=src||"";if(this.options.frameMode=="iframe"){this.frame=new $W._a.bs(this.id+"_iframe",{className:"w2window_iframe",src:this.options.src||"",spa:this.options.spa,title:this.options.title});}else{if(this.options.frameMode=="wframe"){this.frame=new $W._a._B(this.id+"_wframe",{className:"w2window_wframe",src:this.options.src||"",scope:true});}}var _16=this.getElementById(this.id+"_content");this.frame.writeTo(_16);this.frame.activate();this.addControl(this.frame);if(this.options.frameMode=="iframe"){try{if(this.options.noAttatchedEvent!=true){var _17=this.uuid;this.temp_cnt=0;$W._G.setInterval(function(){try{var _18=$W.idCache[_17];_18.temp_cnt++;if(_18.frame.render.contentWindow.location.href!=="about:blank"&&_18.frame.render.contentWindow.location.href!==$W._r.getSSLBlankPage(true)){if(document.addEventListener&&!$W._G.isIE()){_18.frame.render.contentWindow.document.addEventListener("mousedown",function(){self.WebSquare.idCache[_17].handleFrameMouseDownEvent({});});_18.frame.render.contentWindow.document.addEventListener("keyup",function(e){self.WebSquare.idCache[_17].handleFrameKeyupEvent({"keyCode":e.charCode?e.charCode:e.keyCode});});}else{if(document.attachEvent){_18.frame.render.contentWindow.document.attachEvent("onmousedown",function(){self.WebSquare.idCache[_17].handleFrameMouseDownEvent({});});_18.frame.render.contentWindow.document.attachEvent("onkeyup",function(e){self.WebSquare.idCache[_17].handleFrameKeyupEvent({"keyCode":e.charCode?e.charCode:e.keyCode});});}}$W._G.clearInterval(_18.id+"_drawframe");}else{if(_18.temp_cnt>1200){$W._G.clearInterval(_18.id+"_drawframe");$W.logger.printLog("["+_18.id+"] addListener fail 1");}}}catch(e){if(_18&&_18.temp_cnt>750){$W._G.clearInterval(_18.id+"_drawframe");}}},{key:this.id+"_drawframe",delay:80});}}catch(e){$W.logger.printLog("["+this.id+"] addListener fail 3");}}else{if(this.options.frameMode=="wframe"){this.frame.popupParam=this.popupParam;this.frame.popupId=this.popupId;}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._Y.prototype.resizeForIE6=function(_1b,_1c,_1d){["WebSquare.uiplugin.window.resizeForIE6"];try{if($W._G.isIE(6)){if(!_1d){_1d="windowContainer";}_1b=parseInt(_1b,10);_1c=parseInt(_1c,10);var _1e=this.options.useStatusMsg?0:20;if(_1d=="windowContainer"){this.setSize(_1b-3,_1c-2);}this.dom.windowBody=document.getElementById(this.id+"_body");this.dom.windowContent=document.getElementById(this.id+"_content");this.dom.windowStatus=document.getElementById(this.id+"_status");this.dom.header.style.setAttribute("width",(_1b-5)+"px");this.dom.windowBody.style.setAttribute("width",(_1b-5)+"px");this.dom.windowBody.style.setAttribute("height",(_1c-27)+"px");this.dom.windowContent.style.setAttribute("width",(_1b-11)+"px");if(_1d=="popup"){this.dom.windowContent.style.setAttribute("height",(_1c-31+_1e)+"px");}else{this.dom.windowContent.style.setAttribute("height",(_1c-50+_1e)+"px");}if(_1d=="popup"){this.frame.setSize(_1b-11,_1c-31+_1e);}else{this.frame.setSize(_1b-11,_1c-50+_1e);}if(this.options.useStatusMsg){this.dom.windowStatus.style.setAttribute("width",(_1b-11)+"px");}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._Y.prototype.resizeParentGroup=function(){["WebSquare.uiplugin.window.resizeParentGroup"];try{if(this.parentControl&&this.parentControl.parentControl&&(this.parentControl.parentControl.options.pluginName=="windowContainer"||this.parentControl.parentControl.options.inheritFrom=="windowContainer")){width=$W._H.getSize(this.parentControl.parentControl.render,"width");height=$W._H.getSize(this.parentControl.parentControl.render,"height")-$W._H.getSize(this.parentControl.parentControl.dom.toolBar,"height");return {"width":width,"height":height};}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._Y.prototype.close=function(){["WebSquare.uiplugin.window.close"];try{var _1f=this;setTimeout(function(){if(_1f.options){if(_1f.options.closeAction){var _20=$W._G.getGlobalFunction(_1f.options.closeAction,_1f.scope_id);if(typeof _20==="function"){var ret=_20.call(_1f,_1f.options.title);if(ret!==true){return;}}}var _22=(_1f.options.parent&&_1f.options.parent.options.spaIframeMaxSize>_1f.options.parent.storedFrame.length);if(_1f.options.frameMode=="iframe"){if(_22){_1f.frame.setSrc($W._r.getBlankXML());}else{try{var _23=$W._N.getConfiguration("/WebSquare/clearMemory/@value");if(!$W._G.isIEAllVersion()||_23!="true"){if(_1f.frame.getWindow().WebSquare){_1f.frame.getWindow().WebSquare.clearMemory();}}}catch(e){}_1f.frame.setSrc("about:blank");}}var _24={"src":_1f.options.src,"title":_1f.options.windowTitle,"id":_1f.id};$W._c.fireEvent(_1f,"onclose",_24);if(_22){if(_1f.render){_1f.render.style.display="none";}_1f.options.parent.storedFrame.push(_1f.id);}else{_1f.remove();}}},100);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._Y.prototype.forceClose=function(){["WebSquare.uiplugin.window.forceClose"];try{var _25=this;setTimeout(function(){if(_25.options.frameMode=="iframe"){_25.frame.setSrc("about:blank");}var _26={"src":_25.options.src,"title":_25.options.windowTitle};$W._c.fireEvent(_25,"onclose",_26);_25.remove();},100);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._Y.prototype.minimize=function(){["WebSquare.uiplugin.window.minimize"];try{if(this.windowInfo.minimized==false){this.setStyle("display","none");this.windowInfo.minimized=true;}else{this.setStyle("display","block");this.windowInfo.minimized=false;}$W._c.fireEvent(this,"onminimize");}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._Y.prototype.popup=function(){["WebSquare.uiplugin.window.popup"];try{$W._c.fireEvent(this,"onpopup");}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._Y.prototype.maximize=function(){["WebSquare.uiplugin.window.maximize"];try{this.removeClass(this.render,"w2window_restored");this.addClass(this.render,"w2window_maximized");if(this.hideTitleOnMaximize){this.dom.header.className="w2window_header w2window_header_extend";var _27="w2window_body w2window_body_extend";if(!this.options.useStatusMsg){_27+=" w2window_no_status";}this.dom.body.className=_27;}this.windowInfo.status="maximized";this.windowInfo.drag=false;this.windowInfo.minimized=false;this.windowInfo.setInfo(this.render);var _28=this.getMaxSize();if(this.parentControl){var _29=(document.documentElement.scrollTop||document.body.scrollTop);var _2a=(document.documentElement.scrollLeft||document.body.scrollLeft);this.render.style.left=_2a+"px";this.render.style.top=_29+"px";this.render.style.height=_28.height-_29+"px";if(_2a>0){this.render.style.width=_28.width+"px";}else{this.render.style.width="";}}else{this.render.style.left="0px";this.render.style.top="0px";this.render.style.width="";this.render.style.height="";}$W._c.fireEvent(this,"onmaximize");}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._Y.prototype.restore=function(){["WebSquare.uiplugin.window.restore"];try{this.removeClass(this.render,"w2window_maximized");this.addClass(this.render,"w2window_restored");if(this.hideTitleOnMaximize){this.dom.header.className="w2window_header";var _2b="w2window_body";if(!this.options.useStatusMsg){_2b+=" w2window_no_status";}this.dom.body.className=_2b;}this.windowInfo.status="restored";this.windowInfo.drag=true;this.windowInfo.minimized=false;this.windowInfo.getInfo(this.render);$W._c.fireEvent(this,"onrestore");}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._Y.prototype.toggleResize=function(){["WebSquare.uiplugin.window.toggleResize"];try{if(this.windowInfo.status=="restored"){this.maximize();}else{this.restore();}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._Y.prototype.setStatusMsg=function(msg){["WebSquare.uiplugin.window.setStatusMsg"];try{if(this.options.useStatusMsg){this.dom.statusMsg.innerHTML=msg;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._Y.prototype.setCustomMsg=function(msg){["WebSquare.uiplugin.window.setCustomMsg"];try{if(this.options.useCustomMsg){this.dom.customMsg.innerHTML=msg;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._Y.prototype.setSrc=function(url){["WebSquare.uiplugin.window.setSrc"];try{if(this.frame!=null){if(this.options.frameMode=="iframe"){this.drawFrame(url);}else{if(this.options.frameMode=="wframe"){this.frame.setSrc(url);}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._Y.prototype.movable=function(_2f){["WebSquare.uiplugin.window.movable"];try{_2f=$W._G.getBoolean(_2f);this.windowInfo.drag=_2f;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._Y.prototype.showModal=function(){["WebSquare.uiplugin.window.showModal"];try{$W._c.fireEvent(this,"ondragstart");if(!this.modal){this.modal=document.createElement("div");this.modal.id=this.id+"_modal";this.modal.className="w2modal";if($W._G.isIE(6)){this.resizeParentGroup();width=document.documentElement.offsetWidth||0;height=document.documentElement.offsetHeight||0;this.modal.style.width=width+"px";this.modal.style.height=height+"px";this.modal.style.left="-"+this.render.offsetLeft+"px";this.modal.style.top="-"+this.render.offsetTop+"px";}this.render.appendChild(this.modal);$W._H.setOpacity(this.modal,0.3);}if(this.modal){this.modal.style.display="block";if($W._G.isIE(6)){this.resizeParentGroup();width=document.documentElement.offsetWidth||0;height=document.documentElement.offsetHeight||0;this.modal.style.width=width+"px";this.modal.style.height=height+"px";this.modal.style.left="-"+this.render.offsetLeft+"px";this.modal.style.top="-"+this.render.offsetTop+"px";}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._Y.prototype.hideModal=function(){["WebSquare.uiplugin.window.hideModal"];try{$W._c.fireEvent(this,"ondragend");if(this.modal){this.modal.style.display="none";}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._Y.prototype.setFocus=function(){["WebSquare.uiplugin.window.setFocus"];try{if(this.options.frameMode=="iframe"){if(this.frame.render.contentWindow){this.frame.render.contentWindow.focus();}}else{if(this.options.frameMode=="wframe"){}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._Y.prototype.getMaxSize=function(){["WebSquare.uiplugin.window.prototype.getMaxSize"];var _30;var _31;if(this.parentControl){_30=$W._H.getSize(this.parentControl.render,"width");_31=$W._H.getSize(this.parentControl.render,"height")+(document.documentElement.scrollTop||document.body.scrollTop);}else{_30=this.options.width;_31=this.options.height;}if(this.render){var _32=parseInt($W._G.getStyleProperty(this.render,"border-left-width"),10)||0;var _33=parseInt($W._G.getStyleProperty(this.render,"border-right-width"),10)||0;var _34=parseInt($W._G.getStyleProperty(this.render,"padding-left"),10)||0;var _35=parseInt($W._G.getStyleProperty(this.render,"padding-right"),10)||0;_30=_30-_32-_33-_34-_35;var _36=parseInt($W._G.getStyleProperty(this.render,"border-top-width"),10)||0;var _37=parseInt($W._G.getStyleProperty(this.render,"border-bottom-width"),10)||0;var _38=parseInt($W._G.getStyleProperty(this.render,"padding-top"),10)||0;var _39=parseInt($W._G.getStyleProperty(this.render,"padding-bottom"),10)||0;_31=_31-_36-_37-_38-_39;}return {"width":_30,"height":_31};};$W._a._Y.prototype.getElementSize=function(_3a){["WebSquare.uiplugin.window.prototype.getElementWidth"];var _3b;var _3c;if(!_3a){_3a=this.render;}if(_3a){_3b=_3a.offsetWidth;_3c=_3a.offsetHeight;var _3d=parseInt($W._G.getStyleProperty(_3a,"border-left-width"),10)||0;var _3e=parseInt($W._G.getStyleProperty(_3a,"border-right-width"),10)||0;var _3f=parseInt($W._G.getStyleProperty(_3a,"padding-left"),10)||0;var _40=parseInt($W._G.getStyleProperty(_3a,"padding-right"),10)||0;_3b=_3b-_3d-_3e-_3f-_40;var _41=parseInt($W._G.getStyleProperty(_3a,"border-top-width"),10)||0;var _42=parseInt($W._G.getStyleProperty(_3a,"border-bottom-width"),10)||0;var _43=parseInt($W._G.getStyleProperty(_3a,"padding-top"),10)||0;var _44=parseInt($W._G.getStyleProperty(_3a,"padding-bottom"),10)||0;_3c=_3c-_41-_42-_43-_44;}return {"width":_3b,"height":_3c};};$W._a._Y.prototype.handleClickEvent=function(e){["WebSquare.uiplugin.window.handleClickEvent"];try{var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match(null,this.id)){}if(it.match("w2window_close")){this.close();}if(it.match("w2window_minimize")){$W._c.stopEvent(e);this.minimize();}if(it.match("w2window_restore")){this.toggleResize();}if(it.match("w2window_popup")){$W._c.stopEvent(e);this.popup();}}it=null;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._Y.prototype.handleFrameMouseDownEvent=function(e){["WebSquare.uiplugin.window.handleFrameMouseDownEvent"];try{$W._c.fireEvent(this,"onwindowmousedown",e);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._Y.prototype.handleDblclickEvent=function(e){["WebSquare.uiplugin.window.handleDblclickEvent"];try{$W._c.stopEvent(e);var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match("w2window_header_button")){return;}if(it.match("w2window_header")){this.toggleResize();}}it=null;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._Y.prototype.handleMouseoverEvent=function(e){["WebSquare.uiplugin.window.handleMouseoverEvent"];try{$W._c.stopEvent(e);var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match("w2window_minimize")){this.addClass(it.getElement(),"w2window_minimize_on");}if(it.match("w2window_restore")){this.addClass(it.getElement(),"w2window_restore_on");}if(it.match("w2window_close")){this.addClass(it.getElement(),"w2window_close_on");}if(it.match("w2window_popup")){this.addClass(it.getElement(),"w2window_popup_on");}if(it.match("w2window_header_button_content")){var _4c=it.getElement();var _4d=this.buttons[Number(_4c.getAttribute("btn_index"))];if(!_4d.disable){this.addClass(_4c,"w2window_header_button_content_on");}}}it=null;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._Y.prototype.handleMouseoutEvent=function(e){["WebSquare.uiplugin.window.handleMouseoutEvent"];try{$W._c.stopEvent(e);var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match("w2window_minimize")){this.removeClass(it.getElement(),"w2window_minimize_on");}if(it.match("w2window_restore")){this.removeClass(it.getElement(),"w2window_restore_on");}if(it.match("w2window_close")){this.removeClass(it.getElement(),"w2window_close_on");}if(it.match("w2window_popup")){this.removeClass(it.getElement(),"w2window_popup_on");}if(it.match("w2window_header_button_content")){var _50=it.getElement();var _51=this.buttons[Number(_50.getAttribute("btn_index"))];if(!_51.disable){this.removeClass(_50,"w2window_header_button_content_on");}}}it=null;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._Y.prototype.handleMousedownEvent=function(e){["WebSquare.uiplugin.window.handleMousedownEvent"];try{$W._c.stopEvent(e);this.resizeParentGroup();var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match("w2window_header")){if(this.windowInfo.drag==true){var _54=$W._c.getTarget(e);if(!_54||_54.id==this.id+"_minimize"||_54.id==this.id+"_restore"||_54.id==this.id+"_close"||_54.id==this.id+"_popup"){return;}var _55=this;$W._K.gDragManager.activate(e,this.render,{id:this.id+"_drag",className:"w2drag_resize",delay:5,mode:"move",makeGhostLayer:function(_56){var _57=$W._H.getAbsoluteLeft(_55.render);var top=$W._H.getAbsoluteTop(_55.render);var _59=_55.getElementSize(_55.render);var _5a=_59.width;var _5b=_59.height;var _5c=parseInt($W._G.getStyleProperty(_56.render,"border-left-width"),10)||0;var _5d=parseInt($W._G.getStyleProperty(_56.render,"border-right-width"),10)||0;var _5e=parseInt($W._G.getStyleProperty(_56.render,"border-top-width"),10)||0;var _5f=parseInt($W._G.getStyleProperty(_56.render,"border-bottom-width"),10)||0;_5a=_5a-_5c-_5d;_5b=_5b-_5e-_5f;_56.show();_56.setSize(_5a,_5b);_56.setPosition(_57,top);_56.hide();return _56;},handleStart:function(){_55.showModal.call(_55);},handleFinish:function(x,y,dx,dy){_55.hideModal.call(_55);var _64=_55.render.offsetLeft;var top=_55.render.offsetTop;var _66=_55.render.clientWidth;var _67=_55.render.clientHeight;var _68=_55.getMaxSize();var _69=_68.width;var _6a=_68.height;var _6b=_64+dx;var _6c=top+dy;var _6d=0;var _6e=0;if(_55.parentControl){_6d=document.documentElement.scrollTop||document.body.scrollTop;_6e=document.documentElement.scrollLeft||document.body.scrollLeft;}if(_64+dx<0){_6b=0;}if(_64+_66+dx>_69+_6e){if(_66<=_69){_6b=_69-_66+_6e;}else{_6b=0;}}else{if(_6e>_6b){_6b=_6e;}}if(top+dy<0){_6c=0;}if(top+_67+dy>_6a){if(_67<=_6a){_6c=_6a-_67;if(_6c<_6d){_6c=_6d;_55.render.style.height=_6a-_6d+"px";}}else{_6c=0+_6d;if(_67>_6a){_6a-=_6d;_55.render.style.height=_6a+"px";}}}else{if(_6d>_6c){_6c=_6d;}}_55.setPosition(_6b,_6c);}});}}if(it.match("w2window_header_button")){var _6f=it.getElement();var _70=_6f.getAttribute("btn_index");var _71=this.buttons[Number(_70)];if(!_71.disable){try{var _72=this.buttonInfo.buttons[_70].clickAction;switch(typeof _72){case "function":_72.apply(this,this);break;case "string":default:eval(_72+"( this ); ");break;}}catch(e){$W.exception.printStackTrace(e,null,this);}}return;}if(it.match("w2window_resize")){if(this.windowInfo.drag==true){var _55=this;$W._K.gDragManager.activate(e,this.render,{id:this.id+"_drag",className:"w2drag_resize",mode:"resize",makeGhostLayer:function(_73){var _74=$W._H.getAbsoluteLeft(_55.render);var top=$W._H.getAbsoluteTop(_55.render);var _76=_55.getElementSize(_55.render);var _77=_76.width;var _78=_76.height;var _79=parseInt($W._G.getStyleProperty(_73.render,"border-left-width"),10)||0;var _7a=parseInt($W._G.getStyleProperty(_73.render,"border-right-width"),10)||0;var _7b=parseInt($W._G.getStyleProperty(_73.render,"border-top-width"),10)||0;var _7c=parseInt($W._G.getStyleProperty(_73.render,"border-bottom-width"),10)||0;_77=_77-_79-_7a;_78=_78-_7b-_7c;_73.setSize(_77,_78);_73.setPosition(_74,top);return _73;},handleStart:function(){_55.showModal.call(_55);},handleFinish:function(x,y,dx,dy,e){_55.hideModal.call(_55);var _82=parseInt(_55.getStyle("width"),10);var _83=parseInt(_55.getStyle("height"),10);var _84=_82+dx;var _85=_83+dy;if(_84<parseInt(_55.windowInfo.minWidth,10)){_84=parseInt(_55.windowInfo.minWidth,10);}if(_85<parseInt(_55.windowInfo.minHeight,10)){_85=parseInt(_55.windowInfo.minHeight,10);}var _86=_55.getMaxSize();var _87=_86.width-_55.render.offsetLeft;var _88=_86.height-_55.render.offsetTop;var _89=_55.render.clientWidth+dx;var _8a=_55.render.clientHeight+dy;if(_87<_89){_84=_87;}if(_88<_8a){_85=_88;}_55.setSize(_84,_85);}});}}if(it.match("w2window_resize_right")){if(this.windowInfo.drag==true){var _55=this;$W._K.gDragManager.activate(e,this.render,{id:this.id+"_drag",className:"w2drag_resize",mode:"resize_right",makeGhostLayer:function(_8b){var _8c=$W._H.getAbsoluteLeft(_55.render);var top=$W._H.getAbsoluteTop(_55.render);var _8e=_55.getElementSize(_55.render);var _8f=_8e.width;var _90=_8e.height;var _91=parseInt($W._G.getStyleProperty(_8b.render,"border-left-width"),10)||0;var _92=parseInt($W._G.getStyleProperty(_8b.render,"border-right-width"),10)||0;var _93=parseInt($W._G.getStyleProperty(_8b.render,"border-top-width"),10)||0;var _94=parseInt($W._G.getStyleProperty(_8b.render,"border-bottom-width"),10)||0;_8f=_8f-_91-_92;_90=_90-_93-_94;_8b.setSize(_8f,_90);_8b.setPosition(_8c,top);return _8b;},handleStart:function(){_55.showModal.call(_55);},handleFinish:function(x,y,dx,dy,e){_55.hideModal.call(_55);var _9a=parseInt(_55.getStyle("width"),10);var _9b=parseInt(_55.getStyle("height"),10);var _9c=_9a+dx;if(_9c<parseInt(_55.windowInfo.minWidth,10)){_9c=parseInt(_55.windowInfo.minWidth,10);}var _9d=_55.getMaxSize();var _9e=_9d.width-_55.render.offsetLeft;var _9f=_9d.height-_55.render.offsetTop;var _a0=_55.render.clientWidth+dx;var _a1=_55.render.clientHeight+dy;if(_9e<_a0){_9c=_9e;}_55.setSize(_9c,_9b);}});}}if(it.match("w2window_resize_bottom")){if(this.windowInfo.drag==true){var _55=this;$W._K.gDragManager.activate(e,this.render,{id:this.id+"_drag",className:"w2drag_resize",mode:"resize_bottom",makeGhostLayer:function(_a2){var _a3=$W._H.getAbsoluteLeft(_55.render);var top=$W._H.getAbsoluteTop(_55.render);var _a5=_55.getElementSize(_55.render);var _a6=_a5.width;var _a7=_a5.height;var _a8=parseInt($W._G.getStyleProperty(_a2.render,"border-left-width"),10)||0;var _a9=parseInt($W._G.getStyleProperty(_a2.render,"border-right-width"),10)||0;var _aa=parseInt($W._G.getStyleProperty(_a2.render,"border-top-width"),10)||0;var _ab=parseInt($W._G.getStyleProperty(_a2.render,"border-bottom-width"),10)||0;_a6=_a6-_a8-_a9;_a7=_a7-_aa-_ab;_a2.setSize(_a6,_a7);_a2.setPosition(_a3,top);return _a2;},handleStart:function(){_55.showModal.call(_55);},handleFinish:function(x,y,dx,dy,e){_55.hideModal.call(_55);var _b1=parseInt(_55.getStyle("width"),10);var _b2=parseInt(_55.getStyle("height"),10);var _b3=_b2+dy;if(_b3<parseInt(_55.windowInfo.minHeight,10)){_b3=parseInt(_55.windowInfo.minHeight,10);}var _b4=_55.getMaxSize();var _b5=_b4.width-_55.render.offsetLeft;var _b6=_b4.height-_55.render.offsetTop;var _b7=_55.render.clientWidth+dx;var _b8=_55.render.clientHeight+dy;if(_b6<_b8){_b3=_b6;}_55.setSize(_b1,_b3);}});}}}it=null;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._Y.prototype.handleMouseupEvent=function(e){["WebSquare.uiplugin.window.handleMouseupEvent"];try{$W._c.stopEvent(e);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._Y.prototype.handleFrameKeyupEvent=function(e){["WebSquare.uiplugin.window.handleFrameKeyupEvent"];try{$W._c.fireEvent(this,"onwindowkeyup",e);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._Y.prototype.handleSelectStartEvent=function(e){["WebSquare.uiplugin.window.handleSelectStartEvent"];try{var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match("w2window_header")||it.match("w2window_status")){$W._c.preventDefault(e);}}it=null;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._Y.prototype.setWindowTitle=function(_bd){["WebSquare.uiplugin.window.setWindowTitle"];try{var _be=document.getElementById(this.id+"_header_title");if(_be){_be.innerHTML=_bd;this.options.windowTitle=_bd;if(this.options.windowTooltipDisplay&&this.render){this.render.setAttribute("title",_bd);}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._Y.prototype.setButtonCondition=function(_bf,_c0,_c1){["WebSquare.uiplugin.window.setButtonCondition"];try{var _c2=this.buttons[Number(_c0)];if(_c2){var _c3=_c2.contentDom;var _c1=$W._G.getBoolean(_c1);switch(_bf){case "hidden":_c2.visisble=_c1;if(_c1){_c3.parentNode.style.display="none";}else{_c3.parentNode.style.display="inline-block";}break;case "disabled":_c2.disable=_c1;if(_c1){this.addClass(_c3,"w2window_header_button_disabled");}else{this.removeClass(_c3,"w2window_header_button_disabled");}break;}}}catch(e){$W.exception.printStackTrace(e,null,this);}};;WebSquare.uiplugin.window=$W._a._Y;requires("uiplugin.window");requires("uiplugin.group");$W._a.aN=function(id,_2,_3){["WebSquare.uiplugin.windowContainer"];$W._t.call(this,id,_2,_3);};$W.extend($W._a.aN.prototype,$W._t.prototype);$W._a.aN.prototype.defaultOptions={useConfig:true,pluginType:"uiplugin.windowContainer",pluginName:"windowContainer",userEvents:["onCloseWindow","onwindowkeyup","onwindowchange","onwindowtabclick","onbeforecloseall","onbeforenamelayermove","onafternamelayermove"],useConfirmMessage:true,confirmTrueAction:"existWindow",confirmFalseAction:"newWindow",windowMaxNum:5,confirmMessage:"#title \ud654\uba74\uc774 \uc874\uc7ac\ud569\ub2c8\ub2e4. \uae30\uc874\uc758 \ucc3d\uc744 \uc0ac\uc6a9\ud558\uc2dc\ub824\uba74 '\ud655\uc778'\uc744 \uc0c8\ub85c\uc6b4 \ucc3d\uc744 \uc0ac\uc6a9\ud558\uc2dc\ub824\uba74 '\ucde8\uc18c'\ub97c \uc120\ud0dd\ud558\uc138\uc694",lineBreakNum:4,useNameScroll:false,useCloseButton:false,useFixButton:false,useNameContainer:false,controlIconPosition:"left",fixArrangeFullScreen:false,verticalArrangeNum:2,horizontalArrangeNum:2,sequentialArrangeRowNum:2,sequentialArrangeColNum:2,windowAutoResize:false,toolbarPosition:"bottom",positionX:"none",positionY:"none",windowMaximizeAll:false,stopMinimizeOnNameLayer:false,stopToggleOnLast:false,defaultTop:"5px",defaultLeft:"5px",defaultWidth:"300px",defaultHeight:"210px",minimumWidth:"150px",minimumHeight:"150px",frameMode:"iframe",hideTitleOnMaximize:false,usePopup:false,closeWindowOnPopup:false,tooltipDisplay:true,tooltipStyle:"border:2px solid #7BAFE4; background-color:#ffffff;cursor:default;",tooltipClass:"",tooltipTime:1,tooltipGroupClass:true,windowTooltipDisplay:true,confirmMessageLocaleRef:"",wmode:false,selectedIndex:-1,useStatusMsg:true,useCustomMsg:false,statusMsg:"",customMsg:"",nameScrollMode:"",useControlIconTitle:false,spa:false,spaIframeMaxSize:0,spaIframeMinSize:0,spaInitCount:0,skipZIndex:false,noAttatchedEvent:false,closeType:"all",nameLayerMove:false};$W._a.aN.prototype.initialize=function(_4){["WebSquare.uiplugin.windowContainer.initialize"];try{this.windows=[];this.fixedWindowArr=[];this.beforeWindow=null;this.nowWindow=null;this.selectedWindowHistory=[];this.selectedIndex=-1;this.windowIdx=0;this.maxZIndex=0;this.currentWindowNum=0;this.tooltip=null;this.timeShowTooltip=null;if(this.options.confirmMessageLocaleRef!=null&&this.options.confirmMessageLocaleRef!=""){this.options.confirmMessage=this.getLocaleValue(this.options.confirmMessageLocaleRef);}var _5="w2windowContainer_window";if(this.options.toolbarPosition=="top"){_5+="_top";}var _6=new $W._a._p(this.id+"_window",{className:_5,style:"background-color : transparent"});this.addControl(_6);this.options=$W.cssManager.styleToClass(this.id,this.options);if(_4&&_4.getAttribute("statusMsg")=="$blank"){this.defaultStatusMsg="";}else{this.defaultStatusMsg=this.options.statusMsg||$W._m.getMessage("Window_statusMsg");}if(this.options.spaIframeMinSize>this.options.spaIframeMaxSize){this.options.spaIframeMaxSize=this.options.spaIframeMinSize;}if(this.options.spaInitCount>0){this.options.spaIframeMaxSize=this.options.spaIframeMinSize=this.options.spaInitCount;}if($W._N.getConfiguration("/WebSquare/spa/@value")=="true"||this.options.spaIframeMaxSize>0){this.options.spa=true;}this.storedFrame=[];if(this.options.frameMode==="wframe"){this.options.spaIframeMaxSize=this.options.spaIframeMinSize=this.options.spaInitCount=0;this.options.spa=false;}this.zIndexFlagInfo={};}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aN.prototype.toHTML=function(){["WebSquare.uiplugin.windowContainer.toHTML"];try{var _7=(this.options.disabled=="")?"":"disabled='true'";var _8=(this.options.disabled="")?"":"style='color:#848684'";var _9=[];var _a={vertical:"",horizontal:"",cascade:"",sequential:"",closeAll:"",maximize:""};var _b=(this.options.style=="")?"":"style='"+this.options.style+"'";var _c=(this.options.tabIndex=="")?"":"tabIndex='"+this.options.tabIndex+"'";if(this.options.useControlIconTitle){function makeTitle(_d){return " title='"+_d+"'";}_a.maximize=makeTitle($W._m.getMessage("WindowContainer_controlIcon_maximize"));_a.vertical=makeTitle($W._m.getMessage("WindowContainer_controlIcon_vertical"));_a.horizontal=makeTitle($W._m.getMessage("WindowContainer_controlIcon_horizontal"));_a.cascade=makeTitle($W._m.getMessage("WindowContainer_controlIcon_cascade"));_a.sequential=makeTitle($W._m.getMessage("WindowContainer_controlIcon_sequential"));_a.closeAll=makeTitle($W._m.getMessage("WindowContainer_controlIcon_closeAll"));}var _e="w2windowContainer_windowToolbar";if(this.options.toolbarPosition=="top"){_e+="_top";}var _f="";var _10="";if(this.options.useNameContainer&&this.options.controlIconPosition=="right"){_f=" w2windowContainer_controlIconLayer_right";_10=(this.options.hideTitleOnMaximize)?" w2windowContainer_nameContainer_right_maximizeBtn":" w2windowContainer_nameContainer_right";}var _11="w2windowContainer_controlIconLayer";var _12="w2windowContainer_scrollLeftBtn";if(this.options.hideTitleOnMaximize){_11+=" w2windowContainer_controlIconLayer_extend";_12+=" w2windowContainer_scrollLeftBtn_extend";}_9.push("<div id='"+this.id+"' "+_b+" class='w2windowContainer "+this.options.className+"' "+_c+">");_9.push(this.getChild(this.id+"_window").toHTML());_9.push("<div id='"+this.id+"_toolbar' class='"+_e+"'>");_9.push("<div id='"+this.id+"_controlIcon' class='"+_11+_f+"'>");_9.push("<span id='"+this.id+"_vertical' class='w2windowContainer_controlIcon_vertical'"+_a.vertical+"></span>");_9.push("<span id='"+this.id+"_horizontal' class='w2windowContainer_controlIcon_horizontal'"+_a.horizontal+"></span>");_9.push("<span id='"+this.id+"_cascade' class='w2windowContainer_controlIcon_cascade'"+_a.cascade+"></span>");_9.push("<span id='"+this.id+"_sequential' class='w2windowContainer_controlIcon_sequential'"+_a.sequential+"></span>");_9.push("<span id='"+this.id+"_closeAll' class='w2windowContainer_controlIcon_closeAll'"+_a.closeAll+"></span>");if(this.options.hideTitleOnMaximize){_9.push("<span id='"+this.id+"_maximize' class='w2windowContainer_controlIcon_maximize'"+_a.maximize+"></span>");}_9.push("</div>");if(this.options.useNameContainer){_9.push("<div id='"+this.id+"_nameContainer' class='w2windowContainer_nameContainer"+_10+"'>");}_9.push("<div id='"+this.id+"_left' style='display:none;' class='"+_12+"'></div>");_9.push("<div id='"+this.id+"_name' class='w2windowContainer_name'></div>");_9.push("<div id='"+this.id+"_right' style='display:none;' class='w2windowContainer_scrollRightBtn'></div>");if(this.options.useNameContainer){_9.push("</div>");}_9.push("</div>");_9.push("</div>");return _9.join("");}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aN.prototype.setAction=function(){["WebSquare.uiplugin.windowContainer.setAction"];try{this.dom.toolBar=this.getElementById(this.id+"_toolbar");this.dom.nameBar=this.getElementById(this.id+"_name");this.dom.window=this.getElementById(this.id+"_window");this.dom.control=this.getElementById(this.id+"_controlIcon");this.dom.leftScrollBtn=this.getElementById(this.id+"_left");this.dom.rightScrollBtn=this.getElementById(this.id+"_right");this.dom.iconVertical=this.getElementById(this.id+"_vertical");this.dom.iconHorizontal=this.getElementById(this.id+"_horizontal");this.dom.iconCascade=this.getElementById(this.id+"_cascade");this.dom.iconSequential=this.getElementById(this.id+"_sequential");this.dom.iconCloseAll=this.getElementById(this.id+"_closeAll");if(this.options.hideTitleOnMaximize){this.dom.iconMaximize=this.getElementById(this.id+"_maximize");}this.dom.nameScrollLeft=this.getElementById(this.id+"_left");this.dom.nameScrollRight=this.getElementById(this.id+"_right");this.event.addListener(this.render,"onclick",this.event.bindAsEventListener(this,this.handleClickEvent));this.event.addListener(this.render,"onmouseover",this.event.bindAsEventListener(this,this.handleMouseOverEvent));this.event.addListener(this.render,"onmouseout",this.event.bindAsEventListener(this,this.handleMouseOutEvent));if($W._G.isMobile()){this.event.addListener(this.dom.nameBar,"ontouchstart",this.event.bindAsEventListener(this,this.handleNameLayerMove));}else{this.event.addListener(this.dom.nameBar,"onmousedown",this.event.bindAsEventListener(this,this.handleNameLayerMove));}$W._G.setInterval(this.checkResize,{key:this.id+"_checkResize",caller:this,delay:70});}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aN.prototype.onComplete=function(){["WebSquare.uiplugin.windowContainer.onComplete"];try{$W._N.setTimer(this.makeIframe,{key:this.id+"_makeIframe",caller:this,delay:10});$W._t.prototype.onComplete.call(this);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aN.prototype.makeIframe=function(){["WebSquare.uiplugin.windowContainer.makeIframe"];var _13=this.storedFrame.length;if(this.options.spaIframeMinSize>_13+this.windows.length){var _14=this.id+"_subWindow"+(this.windowIdx++);var _15=this._createSubWindow("temp",null,$W._r.getBlankXML());if(_15&&_15.render){_15.render.style.display="none";}this.storedFrame.push(_15.id);$W._N.setTimer(this.makeIframe,{key:this.id+"_makeIframe",caller:this,delay:50});}};$W._a.aN.prototype.createWindow=function(_16,_17,src,_19,_1a,_1b,_1c,_1d){["WebSquare.uiplugin.windowContainer.createWindow"];try{var _19=$W._B.encode(_19||_16);var _1a=_1a||_16;var _1e=null;for(var i=0;i<this.windows.length;i++){var _20=this.windows[i];if(_1a==_20.windowId){_1e=_20;}}if(_1e!=null){if(_1b!=null&&_1b!=""){this.performAction(_1b,_1e,_16,_17,src,_19,_1a,_1d,_1c);}else{var _21=this.options.confirmMessage;while(_21.indexOf("#title")!=-1){_21=_21.replace("#title",_16);}var _22=true;if(this.options.useConfirmMessage==true){_22=confirm(_21);}if(_22){this.performAction(this.options.confirmTrueAction,_1e,_16,_17,src,_19,_1a,_1d,_1c);}else{this.performAction(this.options.confirmFalseAction,_1e,_16,_17,src,_19,_1a,_1d,_1c);}}}else{this._createWindow(_16,_17,src,_19,_1a,_1c,_1d);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aN.prototype.performAction=function(_23,_24,_25,_26,src,_28,_29,_2a,_2b){["WebSquare.uiplugin.windowContainer.performAction"];try{if(_23=="selectWindow"){this.selectNameLayer(_24.id);}else{if(_23=="existWindow"){if(_24.isFix){_24.isFix=false;for(var i=0;i<this.fixedWindowArr.length;i++){if(this.fixedWindowArr[i].id==_24.id){this.fixedWindowArr.splice(i,1);break;}}}this.selectNameLayer(_24.id);_24.window.setStatusMsg(this.defaultStatusMsg);_24.window.setSrc(src);var _2a=_2a||_28;this.setWindowLabel(_29,"toolbar",_25);this.setWindowLabel(_29,"window",_28);this.setWindowLabel(_29,"tooltip",_2a);}else{if(_23=="newWindow"){this._createWindow(_25,_26,src,_28,_29,_2b,_2a);}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aN.prototype._createWindow=function(_2d,_2e,src,_30,_31,_32,_33){["WebSquare.uiplugin.windowContainer._createWindow"];try{var _34=_30.wq_replaceAll("&nbsp;","");if(this.options.windowMaxNum!=-1&&this.currentWindowNum>this.options.windowMaxNum-1){alert($W._m.getMessage("WindowContainer_maxNum_warning",this.options.windowMaxNum));return;}var _35=null;if(this.storedFrame.length>0){_35=$W._G.getComponentById(this.storedFrame.shift());_35.options.closeAction=_32;_35.options.title=_2d;_35.setWindowTitle(_30);_35.frame.setSrc(src);if(_35.render){_35.render.style.display="";}}else{_35=this._createSubWindow(_2d,_2e,src,_34,_31,_32,_33);}var _36=_35.id;this.currentWindowNum++;var _37={};_37.id=_36;_37.windowId=_31;_37.windowTitle=_30;_37.title=_2d;_37.window=_35;_37.tooltip=_33||_30;_37.isFix=false;this.windows.push(_37);this.createNameLayer();this.beforeWindow=this.nowWindow;this.nowWindow=_36;this.selectWindow();if(this.beforeWindow!=this.nowWindow){var _38=this.beforeWindow?this.getWinInfoObj(this.beforeWindow).windowId:null;var _39=this.getWinInfoObj(this.nowWindow).windowId;$W._c.fireEvent(this,"onwindowchange",_38,_39);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aN.prototype._createSubWindow=function(_3a,_3b,src,_3d,_3e,_3f,_40){["WebSquare.uiplugin.windowContainer._createSubWindow"];var _41=this.id+"_subWindow"+(this.windowIdx++);var _42=new $W._a._Y(_41,{windowTitle:_3d,src:src,useStatusMsg:this.options.useStatusMsg,useCustomMsg:this.options.useCustomMsg,statusMsg:(this.defaultStatusMsg=="")?"":this.defaultStatusMsg,customMsg:this.options.customMsg,defaultTop:this.options.defaultTop,defaultLeft:this.options.defaultLeft,defaultWidth:this.options.defaultWidth,defaultHeight:this.options.defaultHeight,minimumWidth:this.options.minimumWidth,minimumHeight:this.options.minimumHeight,frameMode:this.options.frameMode,wmode:this.options.wmode,width:(this.render.offsetWidth),height:(this.render.offsetHeight-25),closeAction:_3f,title:_3a,parent:this,windowTooltipDisplay:this.options.windowTooltipDisplay,noAttatchedEvent:this.options.noAttatchedEvent,spa:this.options.spa});var _43=this;_42.options.xmlEvents=[{name:"onclose",action:"script",param:{handler:function(e){try{$W._c.fireEvent(_43,"onCloseWindow",e);_43.removeNameLayer(this.id);for(var i=0;i<_43.fixedWindowArr.length;i++){if(_43.fixedWindowArr[i].id==this.id){_43.fixedWindowArr.splice(i,1);break;}}_43.createNameLayer();_43.selectWindow();var _46=_43.nowWindow?_43.getWinInfoObj(_43.nowWindow).windowId:null;$W._c.fireEvent(_43,"onwindowchange",_43.closedWindowId,_46);_43.setFocus(_43.getSelectedIndex());}catch(ee){$W.exception.printStackTrace(ee,null,_43);}}}},{name:"onwindowkeyup",action:"script",param:{handler:function(e){try{$W._c.fireEvent(_43,"onwindowkeyup",e);}catch(ee){$W.exception.printStackTrace(ee,null,_43);}}}},{name:"onwindowmousedown",action:"script",param:{handler:function(e){try{_43.selectNameLayer(this.id);}catch(ee){$W.exception.printStackTrace(ee,null,_43);}}}},{name:"onminimize",action:"script",param:{handler:function(e){_43._onminimize(this.id);}}},{name:"onmaximize",action:"script",param:{handler:function(e){_43._onmaximize(this.id);}}},{name:"ondragstart",action:"script",param:{handler:function(e){_43.selectNameLayer(this.id);_43.handleDragStartEvent();}}},{name:"ondragend",action:"script",param:{handler:function(e){_43.handleDragEndEvent();}}},{name:"onpopup",action:"script",param:{handler:function(e){_43._onpopup(this.id);}}}];_42.writeTo(this.getChild(this.id+"_window"));_42.activate();_42.onComplete();return _42;};$W._a.aN.prototype.setWindowLabel=function(_4e,_4f,_50){["WebSquare.uiplugin.windowContainer.setWindowLabel"];try{if(!_4e||!_4f||!_50){return;}var _51;for(var i=this.windows.length-1;i>=0;i--){if(this.windows[i].windowId===_4e){_51=this.windows[i];break;}}if(!_51){return;}_4f=_4f.toLowerCase();var _53=_4f==="all";if(_4f==="window"||_53){_51.windowTitle=_50;_51.window.options.windowTitle=_50;if(this.options.windowTooltipDisplay){var _54=_51.window.getElementById(_51.id);_54.setAttribute("title",_50);}var _55=_51.window.getElementById(_51.id+"_header_title");_55.innerHTML=_50;}if(_4f==="tooltip"||_53){_51.tooltip=_50;}if(_4f==="toolbar"||_53){var _56=document.getElementById(this.id+"_nameLayer_"+_51.id);_56.setAttribute("windowTitle",_50);_51.title=_50;this.createNameLayer();this.selectWindow();}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aN.prototype.getWindowLabel=function(_57,_58){["WebSquare.uiplugin.windowContainer.getWindowLabel"];try{if(!_57||!_58){return;}var _59;for(var i=this.windows.length-1;i>=0;i--){if(this.windows[i].windowId===_57){_59=this.windows[i];break;}}if(!_59){return;}_58=_58.toLowerCase();if(_58==="toolbar"){return _59.title;}else{if(_58==="window"){return _59.windowTitle;}else{if(_58==="tooltip"){return _59.tooltip;}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aN.prototype.createNameLayer=function(){["WebSquare.uiplugin.windowContainer.createNameLayer"];try{var _5b=[];this.dom.nameBar.innerHTML="";var _5c="w2windowContainer_nameLayer";if(this.options.useFixButton){_5c+=" w2windowContainer_nameLayer_fix";}for(var i=0;i<this.windows.length;i++){var _5e=this.windows[i];_5b.push("<div id='"+this.id+"_nameLayer_"+_5e.id+"' class='"+_5c+"' refId='"+_5e.id+"' windowTitle='"+_5e.title+"'>");if(this.options.useFixButton){var _5f="w2windowContainer_nameLayer_fixOff";if(_5e.isFix){_5f+=" w2windowContainer_nameLayer_fixOn";}_5b.push("<div class='"+_5f+"' refId='"+_5e.id+"'>");_5b.push("</div>");}_5b.push(_5e.title);if(this.options.useCloseButton){_5b.push("<div class='w2windowContainer_nameLayer_close' refId='"+_5e.id+"'>");_5b.push("</div>");}_5b.push("</div>");}this.dom.nameBar.innerHTML=_5b.join("");this.dom.nameBar.style.width="auto";if(this.windows.length>0){var _60=0;for(var i=0;i<this.windows.length;i++){var _61=parseInt($W._H.getStyleProperty(this.dom.nameBar.childNodes[i],"margin-left"))||0;var _62=parseInt($W._H.getStyleProperty(this.dom.nameBar.childNodes[i],"margin-right"))||0;_60+=this.dom.nameBar.childNodes[i].offsetWidth+_61+_62;}this.dom.nameBar.style.width=(_60+1)+"px";}else{this.dom.nameBar.style.width="0px";}if(this.render.offsetWidth<this.dom.nameBar.scrollWidth+this.dom.control.offsetWidth+2){this.options.useNameScroll=true;this.dom.rightScrollBtn.style.display="";this.dom.leftScrollBtn.style.display="";}else{this.options.useNameScroll=false;if(this.options.useNameContainer){this.dom.nameBar.style.left="0px";}else{this.dom.nameBar.style.left=(this.dom.control.offsetWidth+2)+"px";}this.dom.rightScrollBtn.style.display="none";this.dom.leftScrollBtn.style.display="none";}if(this.options.useNameScroll==true){this.dom.rightScrollBtn.style.left=parseInt(this.getSize("width"))-20+"px";this.dom.rightScrollBtn.style.display="block";this.dom.leftScrollBtn.style.display="block";}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aN.prototype.removeNameLayer=function(id){["WebSquare.uiplugin.windowContainer.removeNameLayer"];try{this.closedWindowId=this.getWinInfoObj(id).windowId;for(var i=0;i<this.windows.length;i++){var _65=this.windows[i];if(_65.id==id){this.windows.splice(i,1);}}this.addHistory(id);this.closedWindow=this.selectedWindowHistory.pop();this.beforeWindow=this.selectedWindowHistory[this.selectedWindowHistory.length-2]||null;this.nowWindow=this.selectedWindowHistory[this.selectedWindowHistory.length-1]||null;this.currentWindowNum--;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aN.prototype.clickNameLayer=function(_66,_67,_68){["WebSquare.uiplugin.windowContainer.clickNameLayer"];try{var _69=_66;var _67=$W._G.getBoolean(_67);var _6a=$W._G.getBoolean(_68.stopToggleOnLast);if(this.nowWindow==_69){if(_6a==true&&this.windows.length==1){return;}if(_67==true){return;}this.minimizeWindow(_69);}else{this.beforeWindow=this.nowWindow;this.nowWindow=_69;this.selectWindow();var _6b=this.beforeWindow?this.getWinInfoObj(this.beforeWindow).windowId:null;var _6c=this.getWinInfoObj(this.nowWindow).windowId;$W._c.fireEvent(this,"onwindowchange",_6b,_6c);$W._c.fireEvent(this,"onwindowtabclick",_6b,_6c);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aN.prototype.getWinInfoObj=function(_6d){["WebSquare.uiplugin.windowContainer.getWinInfoObj"];try{for(var i=0;i<this.windows.length;i++){if(this.windows[i].id==_6d){return this.windows[i];}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aN.prototype.minimizeWindow=function(_6f){["WebSquare.uiplugin.windowContainer.minimizeWindow"];try{var _70=this.getWinInfoObj(_6f);_70.window.minimize();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aN.prototype._onminimize=function(_71){["WebSquare.uiplugin.windowContainer._onminimize"];try{var _72=_71;this.prevWindow=this.nowWindow;if(this.nowWindow==_72){this.minimizedWindow=this.selectedWindowHistory.pop();this.nowWindow=this.selectedWindowHistory.pop()||null;this.beforeWindow=this.selectedWindowHistory[this.selectedWindowHistory.length-1];}this.selectWindow();if(this.prevWindow==_72){var _73=this.getWinInfoObj(this.minimizedWindow).windowId;var _74=this.nowWindow?this.getWinInfoObj(this.nowWindow).windowId:null;$W._c.fireEvent(this,"onwindowchange",_73,_74);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aN.prototype.maximizeWindow=function(_75){["WebSquare.uiplugin.windowContainer.maximizeWindow"];try{var _76=this.getWinInfoObj(_75);_76.window.maximize();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aN.prototype._onmaximize=function(_77){["WebSquare.uiplugin.windowContainer._onmaximize"];try{var _78=_77;this.prevWindow=this.nowWindow;if(this.prevWindow!=_78){this.nowWindow=_78;this.selectWindow();var _79=this.getWinInfoObj(this.prevWindow).windowId;var _7a=this.getWinInfoObj(_78).windowId;$W._c.fireEvent(this,"onwindowchange",_79,_7a);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aN.prototype._onpopup=function(_7b){["WebSquare.uiplugin.windowContainer._onpopup"];try{var _7c=_7b;this.prevWindow=this.nowWindow;if(this.prevWindow!=_7c){this.nowWindow=_7c;this.selectWindow();var _7d=this.getWinInfoObj(this.prevWindow).windowId;var _7e=this.getWinInfoObj(_7c).windowId;$W._c.fireEvent(this,"onwindowchange",_7d,_7e);}var _7f=this.getSelectedIndex();if(_7f>-1&&_7f<this.windows.length){var _80=this.windows[_7f];imports("uiplugin.popup");var top=(window.screen.availHeight-this.getSize("height"))/2;var _82=(window.screen.availWidth-this.getSize("width"))/2;var _83={id:_80.id,type:"window",width:this.getSize("width")+"px",height:this.getSize("height")+"px",top:top+"px",left:_82+"px",popupName:_80.title,modal:false,useIFrame:false,style:"",resizable:true,status:false,menubar:false,scrollbars:true,title:false,srcData:"",destData:""};$W._G.openPopup(_80.window.options.src,_83);if(this.options.closeWindowOnPopup){_80.window.forceClose();}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aN.prototype.selectWindow=function(){["WebSquare.uiplugin.windowContainer.selectWindow"];try{for(var i=0;i<this.windows.length;i++){var _85=this.windows[i].id;var _86=document.getElementById(this.id+"_nameLayer_"+_85);var _87=document.getElementById(_85+"_header");this.removeClass(_86,"w2windowContainer_selectedNameLayer");this.removeClass(_87,"w2window_selected_header");}if(this.nowWindow!=null){var _88=this.getWinInfoObj(this.nowWindow);_88.window.windowInfo.minimized=false;if(this.options.skipZIndex){if(this.zIndexFlagInfo[_88.id]){_88.window.setStyle("display","block");this.increaseZIndex(_88.window);}else{_88.window.setStyle("display","none");_88.window.setStyle("zIndex",0);}}else{_88.window.setStyle("display","block");this.increaseZIndex(_88.window);}var _86=document.getElementById(this.id+"_nameLayer_"+this.nowWindow);var _87=document.getElementById(this.nowWindow+"_header");this.addClass(_86,"w2windowContainer_selectedNameLayer");this.addClass(_87,"w2window_selected_header");if(this.options.nameScrollMode=="hide"){var _89=0;var _8a=this.dom.nameBar.offsetWidth;var _8b=this.selectedIndex;this.addHistory(this.nowWindow);this.refreshSelectedIndex();if(_8b>this.selectedIndex){for(var i=_8b;i>=0;i--){var _8c=this.windows[i].id;var _8d=document.getElementById(this.id+"_nameLayer_"+_8c);if(_8d.style.display!="block"){_8d.style.display="block";}}}for(var i=this.selectedIndex;i>=0;i--){var _8c=this.windows[i].id;var _8d=document.getElementById(this.id+"_nameLayer_"+_8c);if(_8d.style.display!="none"){var _8e=$W._H.getStyle(_8d,"margin-left");_8e=_8e==="auto"?"0":_8e;var _8f=$W._H.getStyle(_8d,"margin-right");_8f=_8f==="auto"?"0":_8f;var _90=_8d.offsetWidth+parseInt(_8e,10)+parseInt(_8f,10);if(_89+_90>=_8a){_8d.style.display="none";}else{_89+=_90;}}}}else{if(this.options.useNameScroll){var _91=this.dom.leftScrollBtn.offsetLeft+this.dom.leftScrollBtn.offsetWidth;var _92=this.dom.rightScrollBtn.offsetLeft;var _93=parseInt(this.dom.nameBar.style.left)+_86.offsetLeft;var _94=parseInt(this.dom.nameBar.style.left)+_86.offsetLeft+_86.offsetWidth;if(_93>_92||_94>_92){this.dom.nameBar.style.left=(parseInt(this.dom.nameBar.style.left)-(_94-_92))+"px";}else{if(_93<_91||_94<_91){var _95=(this.options.useNameContainer)?0:this.dom.control.offsetWidth;this.dom.nameBar.style.left=(_95+this.dom.leftScrollBtn.offsetWidth-_86.offsetLeft)+"px";}}this.addHistory(this.nowWindow);this.refreshSelectedIndex();}else{this.addHistory(this.nowWindow);this.refreshSelectedIndex();}}}else{this.selectedIndex=-1;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aN.prototype.addHistory=function(_96){["WebSquare.uiplugin.windowContainer.addHistory"];try{var idx=null;for(var i=0;i<this.selectedWindowHistory.length;i++){if(this.selectedWindowHistory[i]==_96){idx=i;}}if(idx!=null){this.selectedWindowHistory.splice(idx,1);}this.selectedWindowHistory.push(_96);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aN.prototype.increaseZIndex=function(_99){["WebSquare.uiplugin.windowContainer.increaseZIndex"];try{this.maxZIndex+=2;_99.setStyle("zIndex",this.maxZIndex);this.dom.toolBar.style.zIndex=this.maxZIndex;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aN.prototype.setZIndex=function(_9a){["WebSquare.uiplugin.windowContainer.setZIndex"];try{var _9b=this.windows[_9a];if(_9b){_9b.window.setStyle("display","block");this.increaseZIndex(_9b.window);this.zIndexFlagInfo[_9b.id]=true;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aN.prototype.selectNameLayer=function(_9c){["WebSquare.uiplugin.windowContainer.selectNameLayer"];try{for(var i=0;i<this.selectedWindowHistory.length;i++){if(this.selectedWindowHistory[i]==_9c){this.prevWindow=this.nowWindow;var _9e=_9c;if(_9e!=this.nowWindow){this.beforeWindow=this.nowWindow;this.nowWindow=_9e;}this.selectWindow();if(this.prevWindow!=_9e){var _9f=this.getWinInfoObj(this.prevWindow).windowId;var _a0=this.getWinInfoObj(_9e).windowId;$W._c.fireEvent(this,"onwindowchange",_9f,_a0);}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aN.prototype.doVerticalArrange=function(){["WebSquare.uiplugin.windowContainer.doVerticalArrange"];try{var _a1=0;var _a2=2;var _a3=[];for(var i=0;i<this.windows.length;i++){var _a5=this.windows[i];if(_a5.window.windowInfo.minimized==false){_a3.push(_a5);}}var _a6=_a3.length;if(_a6<this.options.lineBreakNum){_a2=1;_a1=_a6;}else{_a2=2;_a1=Math.ceil(_a6/_a2);}var _a7="";var x=0;var y=0;var _aa;var _ab;for(var i=0;i<_a6;i++){var _ac=_a3[i];var _ad=_ac.window;var _ae=_ad.resizeParentGroup();_aa=parseInt(_ae.width/_a1,10);_ab=parseInt(_ae.height/_a2,10);_ad.restore();_ad.setSize(_aa-(_ad.getSize("outerMarginWidth")-_ad.getSize("width")),_ab-(_ad.getSize("outerMarginHeight")-_ad.getSize("height")));_ad.setPosition(x*_aa,y*_ab);x++;if(x==_a1){x=0;y++;}_a7=_ac.id;}this.selectNameLayer(_a7);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aN.prototype.doVerticalFixArrange=function(){["WebSquare.uiplugin.windowContainer.doVerticalFixArrange"];try{var _af=this;var _b0=function(_b1){_af.prevWindow=_af.nowWindow;var _b2=_b1;if(_b2!=_af.nowWindow){_af.beforeWindow=_af.nowWindow;_af.nowWindow=_b2;}_af.selectWindow();};var _b3={};for(var i=0;i<this.windows.length;i++){var _b5=this.windows[i];if(!_b5.isFix){if(_b5.window.windowInfo.minimized){_b0(_b5.id);}else{_b3[_b5.id]=_b5;}}}var _b6=this.selectedWindowHistory.slice();for(var i=0;i<this.selectedWindowHistory.length;i++){var _b7=_b6[i];if(typeof _b3[_b7]!="undefined"){_b0(_b3[_b7].id);}}for(var i=0;i<this.fixedWindowArr.length;i++){var _b5=this.fixedWindowArr[i];_b0(_b5.id);}var _b8=1;var _b9=this.options.verticalArrangeNum;var _ba=this.windows.length;if(this.options.fixArrangeFullScreen){_b9=_b9>_ba?_ba:_b9;}var x=0;var y=0;var _bd=0;var _be=0;if(this.options.positionX=="none"){for(var i=this.selectedWindowHistory.length;i>0;i--){var _b5=this.getWinInfoObj(this.selectedWindowHistory[i-1]);var _bf=_b5.window;var _c0=_bf.resizeParentGroup();_bd=parseInt(_c0.width/_b9,10);_be=parseInt(_c0.height/_b8,10);_bf.restore();_bf.setSize(_bd-(_bf.getSize("outerMarginWidth")-_bf.getSize("width")),_be-(_bf.getSize("outerMarginHeight")-_bf.getSize("height")));_bf.setPosition(x*_bd,y*_be);x++;if(x==_b9){x=0;}}}else{if(this.options.positionX=="left"){for(var i=this.selectedWindowHistory.length;i>0;i--){var _b5=this.getWinInfoObj(this.selectedWindowHistory[i-1]);var _bf=_b5.window;var _c0=_bf.resizeParentGroup();_bd=parseInt(_c0.width/_b9,10);_be=parseInt(_c0.height/_b8,10);_bf.restore();_bf.setSize(_bd-(_bf.getSize("outerMarginWidth")-_bf.getSize("width")),_be-(_bf.getSize("outerMarginHeight")-_bf.getSize("height")));_bf.setPosition(x*_bd,y*_be);x++;if(x==_b9){x=1;}}}else{if(this.options.positionX=="right"){x=_b9-1;for(var i=this.selectedWindowHistory.length;i>0;i--){var _b5=this.getWinInfoObj(this.selectedWindowHistory[i-1]);var _bf=_b5.window;var _c0=_bf.resizeParentGroup();_bd=parseInt(_c0.width/_b9,10);_be=parseInt(_c0.height/_b8,10);_bf.restore();_bf.setSize(_bd-(_bf.getSize("outerMarginWidth")-_bf.getSize("width")),_be-(_bf.getSize("outerMarginHeight")-_bf.getSize("height")));_bf.setPosition(x*_bd,y*_be);x++;if(x==_b9&&y==0){x=0;}if(x==_b9-1){x=0;}}}}}this.selectNameLayer(this.selectedWindowHistory[_ba-1]);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aN.prototype.doHorizontalArrange=function(){["WebSquare.uiplugin.windowContainer.doHorizontalArrange"];try{var _c1=2;var _c2=0;var _c3=[];for(var i=0;i<this.windows.length;i++){var _c5=this.windows[i];if(_c5.window.windowInfo.minimized==false){_c3.push(_c5);}}var _c6=_c3.length;if(_c6<this.options.lineBreakNum){_c2=_c6;_c1=1;}else{_c2=Math.ceil(_c6/_c1);_c1=2;}var _c7="";var x=0;var y=0;var _ca;var _cb;for(var i=0;i<_c6;i++){var _cc=_c3[i];var _cd=_cc.window;var _ce=_cd.resizeParentGroup();_ca=parseInt(_ce.width/_c1,10);_cb=parseInt(_ce.height/_c2,10);_cd.restore();_cd.setSize(_ca-(_cd.getSize("outerMarginWidth")-_cd.getSize("width")),_cb-(_cd.getSize("outerMarginHeight")-_cd.getSize("height")));_cd.setPosition(x*_ca,y*_cb);x++;if(x==_c1){x=0;y++;}_c7=_cc.id;}this.selectNameLayer(_c7);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aN.prototype.doHorizontalFixArrange=function(){["WebSquare.uiplugin.windowContainer.doHorizontalFixArrange"];try{var _cf=this;var _d0=function(_d1){_cf.prevWindow=_cf.nowWindow;var _d2=_d1;if(_d2!=_cf.nowWindow){_cf.beforeWindow=_cf.nowWindow;_cf.nowWindow=_d2;}_cf.selectWindow();};var _d3={};for(var i=0;i<this.windows.length;i++){var _d5=this.windows[i];if(!_d5.isFix){if(_d5.window.windowInfo.minimized){_d0(_d5.id);}else{_d3[_d5.id]=_d5;}}}var _d6=this.selectedWindowHistory.slice();for(var i=0;i<this.selectedWindowHistory.length;i++){var _d7=_d6[i];if(typeof _d3[_d7]!="undefined"){_d0(_d3[_d7].id);}}for(var i=0;i<this.fixedWindowArr.length;i++){var _d5=this.fixedWindowArr[i];_d0(_d5.id);}var _d8=this.options.horizontalArrangeNum;var _d9=1;var _da=this.windows.length;if(this.options.fixArrangeFullScreen){_d8=_d8>_da?_da:_d8;}var x=0;var y=0;var _dd=0;var _de=0;if(this.options.positionY=="none"){for(var i=this.selectedWindowHistory.length;i>0;i--){var _d5=this.getWinInfoObj(this.selectedWindowHistory[i-1]);var _df=_d5.window;var _e0=_df.resizeParentGroup();_dd=parseInt(_e0.width/_d9,10);_de=parseInt(_e0.height/_d8,10);_df.restore();_df.setSize(_dd-(_df.getSize("outerMarginWidth")-_df.getSize("width")),_de-(_df.getSize("outerMarginHeight")-_df.getSize("height")));_df.setPosition(x*_dd,y*_de);y++;if(y==_d8){y=0;}}}else{if(this.options.positionY=="top"){for(var i=this.selectedWindowHistory.length;i>0;i--){var _d5=this.getWinInfoObj(this.selectedWindowHistory[i-1]);var _df=_d5.window;var _e0=_df.resizeParentGroup();_dd=parseInt(_e0.width/_d9,10);_de=parseInt(_e0.height/_d8,10);_df.restore();_df.setSize(_dd-(_df.getSize("outerMarginWidth")-_df.getSize("width")),_de-(_df.getSize("outerMarginHeight")-_df.getSize("height")));_df.setPosition(x*_dd,y*_de);y++;if(y==_d8){y=1;}}}else{if(this.options.positionY=="bottom"){y=_d8-1;for(var i=this.selectedWindowHistory.length;i>0;i--){var _d5=this.getWinInfoObj(this.selectedWindowHistory[i-1]);var _df=_d5.window;var _e0=_df.resizeParentGroup();_dd=parseInt(_e0.width/_d9,10);_de=parseInt(_e0.height/_d8,10);_df.restore();_df.setSize(_dd-(_df.getSize("outerMarginWidth")-_df.getSize("width")),_de-(_df.getSize("outerMarginHeight")-_df.getSize("height")));_df.setPosition(x*_dd,y*_de);y++;if(x==0&&y==_d8){y=0;}if(y==_d8-1){y=0;}}}}}this.selectNameLayer(this.selectedWindowHistory[_da-1]);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aN.prototype.doCascadeArrange=function(){["WebSquare.uiplugin.windowContainer.doCascadeArrange"];try{var _e1;var _e2;var _e3="";var _e4=[];for(var i=0;i<this.windows.length;i++){var _e6=this.windows[i];if(_e6.window.windowInfo.minimized==false){_e4.push(_e6);}}var _e7=_e4.length;for(var i=0;i<_e7;i++){var _e8=_e4[i];var _e9=_e8.window;if(i==0){var _ea=_e9.resizeParentGroup();_e1=parseInt(_ea.width-200,10);_e2=parseInt(_ea.height-200,10);}_e9.restore();_e9.setSize(_e1-(_e9.getSize("outerMarginWidth")-_e9.getSize("width")),_e2-(_e9.getSize("outerMarginHeight")-_e9.getSize("height")));_e9.setPosition((i%10)*20,(i%10)*20);_e3=_e8.id;}this.selectNameLayer(_e3);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aN.prototype.doCascadeFixArrange=function(){["WebSquare.uiplugin.windowContainer.doCascadeFixArrange"];try{var _eb=this;var _ec=function(_ed){_eb.prevWindow=_eb.nowWindow;var _ee=_ed;if(_ee!=_eb.nowWindow){_eb.beforeWindow=_eb.nowWindow;_eb.nowWindow=_ee;}_eb.selectWindow();};var _ef={};for(var i=0;i<this.windows.length;i++){var _f1=this.windows[i];if(!_f1.isFix){if(_f1.window.windowInfo.minimized){_ec(_f1.id);}else{_ef[_f1.id]=_f1;}}}var _f2=this.selectedWindowHistory.slice();for(var i=0;i<this.selectedWindowHistory.length;i++){var _f3=_f2[i];if(typeof _ef[_f3]!="undefined"){_ec(_ef[_f3].id);}}for(var i=0;i<this.fixedWindowArr.length;i++){var _f1=this.fixedWindowArr[i];_ec(_f1.id);}var _f4=this.windows.length;var _f5=0;var _f6=0;for(var i=this.selectedWindowHistory.length;i>0;i--){var _f1=this.getWinInfoObj(this.selectedWindowHistory[i-1]);var _f7=_f1.window;if(i==this.selectedWindowHistory.length){var _f8=_f7.resizeParentGroup();_f5=parseInt(_f8.width-200,10);_f6=parseInt(_f8.height-200,10);}_f7.restore();_f7.setSize(_f5-(_f7.getSize("outerMarginWidth")-_f7.getSize("width")),_f6-(_f7.getSize("outerMarginHeight")-_f7.getSize("height")));_f7.setPosition(((i-1)%10)*20,((i-1)%10)*20);}this.selectNameLayer(this.selectedWindowHistory[_f4-1]);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aN.prototype.doSequentialArrange=function(){["WebSquare.uiplugin.windowContainer.doSequentialArrange"];try{var _f9=1;var _fa=1;var _fb=true;var _fc=[];for(var i=0;i<this.windows.length;i++){var _fe=this.windows[i];if(_fe.window.windowInfo.minimized==false){_fc.push(_fe);}}var _ff=_fc.length;while(_fb){if(_f9*_fa<_ff){if(_f9==_fa){_f9++;}else{_fa++;}}else{_fb=false;}}var _100;var _101;var _102="";var x=0;var y=0;for(var i=0;i<_ff;i++){var _105=_fc[i];var _106=_105.window;if(i==0){var _107=_106.resizeParentGroup();_100=parseInt(_107.width/_f9,10);_101=parseInt(_107.height/_fa,10);}_106.restore();_106.setSize(_100-(_106.getSize("outerMarginWidth")-_106.getSize("width")),_101-(_106.getSize("outerMarginHeight")-_106.getSize("height")));_106.setPosition(x*_100,y*_101);x++;if(x==_f9){x=0;y++;}_102=_105.id;}this.selectNameLayer(_102);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aN.prototype.doSequentialFixArrange=function(){["WebSquare.uiplugin.windowContainer.doSequentialFixArrange"];try{var _108=this;var _109=function(_10a){_108.prevWindow=_108.nowWindow;var _10b=_10a;if(_10b!=_108.nowWindow){_108.beforeWindow=_108.nowWindow;_108.nowWindow=_10b;}_108.selectWindow();};var _10c={};for(var i=0;i<this.windows.length;i++){var _10e=this.windows[i];if(!_10e.isFix){if(_10e.window.windowInfo.minimized){_109(_10e.id);}else{_10c[_10e.id]=_10e;}}}var _10f=this.selectedWindowHistory.slice();for(var i=0;i<this.selectedWindowHistory.length;i++){var _110=_10f[i];if(typeof _10c[_110]!="undefined"){_109(_10c[_110].id);}}for(var i=0;i<this.fixedWindowArr.length;i++){var _10e=this.fixedWindowArr[i];_109(_10e.id);}var rows=this.options.sequentialArrangeRowNum;var cols=this.options.sequentialArrangeColNum;var _113=this.windows.length;if(this.options.fixArrangeFullScreen){cols=cols>_113?_113:cols;rows=cols>_113?1:rows;}var x=0;var y=0;var _116=0;var _117=0;if(this.options.positionX=="none"&&this.options.positionY=="none"){for(var i=this.selectedWindowHistory.length;i>0;i--){var _10e=this.getWinInfoObj(this.selectedWindowHistory[i-1]);var _118=_10e.window;var _119=_118.resizeParentGroup();_116=parseInt(_119.width/cols,10);_117=parseInt(_119.height/rows,10);_118.restore();_118.setSize(_116-(_118.getSize("outerMarginWidth")-_118.getSize("width")),_117-(_118.getSize("outerMarginHeight")-_118.getSize("height")));_118.setPosition(x*_116,y*_117);x++;if(x==cols){x=0;y++;if(y==rows){y=0;}}}}else{if(this.options.positionX=="left"&&this.options.positionY=="top"){for(var i=this.selectedWindowHistory.length;i>0;i--){var _10e=this.getWinInfoObj(this.selectedWindowHistory[i-1]);var _118=_10e.window;var _119=_118.resizeParentGroup();_116=parseInt(_119.width/cols,10);_117=parseInt(_119.height/rows,10);_118.restore();_118.setSize(_116-(_118.getSize("outerMarginWidth")-_118.getSize("width")),_117-(_118.getSize("outerMarginHeight")-_118.getSize("height")));_118.setPosition(x*_116,y*_117);x++;if(x==cols){x=0;y++;if(y==rows){x=1;y=0;}}}}else{if(this.options.positionX=="right"&&this.options.positionY=="top"){x=cols-1;for(var i=this.selectedWindowHistory.length;i>0;i--){var _10e=this.getWinInfoObj(this.selectedWindowHistory[i-1]);var _118=_10e.window;var _119=_118.resizeParentGroup();_116=parseInt(_119.width/cols,10);_117=parseInt(_119.height/rows,10);_118.restore();_118.setSize(_116-(_118.getSize("outerMarginWidth")-_118.getSize("width")),_117-(_118.getSize("outerMarginHeight")-_118.getSize("height")));_118.setPosition(x*_116,y*_117);x++;if(y==0&&x==cols-1){y++;x=0;}if(x==cols){x=0;if(y!=0){y++;if(y==rows){y=0;}}}}}else{if(this.options.positionX=="left"&&this.options.positionY=="bottom"){y=rows-1;for(var i=this.selectedWindowHistory.length;i>0;i--){var _10e=this.getWinInfoObj(this.selectedWindowHistory[i-1]);var _118=_10e.window;var _119=_118.resizeParentGroup();_116=parseInt(_119.width/cols,10);_117=parseInt(_119.height/rows,10);_118.restore();_118.setSize(_116-(_118.getSize("outerMarginWidth")-_118.getSize("width")),_117-(_118.getSize("outerMarginHeight")-_118.getSize("height")));_118.setPosition(x*_116,y*_117);if(y==rows-1&&x==0){x=0;y=0;}else{x++;if(x==cols){x=0;y++;if(y==rows-1){x=1;}else{if(y==rows){y=0;}}}}}}else{if(this.options.positionX=="right"&&this.options.positionY=="bottom"){x=cols-1;y=rows-1;for(var i=this.selectedWindowHistory.length;i>0;i--){var _10e=this.getWinInfoObj(this.selectedWindowHistory[i-1]);var _118=_10e.window;var _119=_118.resizeParentGroup();_116=parseInt(_119.width/cols,10);_117=parseInt(_119.height/rows,10);_118.restore();_118.setSize(_116-(_118.getSize("outerMarginWidth")-_118.getSize("width")),_117-(_118.getSize("outerMarginHeight")-_118.getSize("height")));_118.setPosition(x*_116,y*_117);x++;if(y==rows-1&&(x==cols-1||x==cols)){x=0;y=0;}if(x==cols){x=0;y++;}}}}}}}this.selectNameLayer(this.selectedWindowHistory[_113-1]);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aN.prototype.doCloseAll=function(){["WebSquare.uiplugin.windowContainer.doCloseAll"];var ret=$W._c.fireEvent(this,"onbeforecloseall");if(ret!==false){for(var i=this.windows.length-1;i>=0;i--){if(!this.options.useFixButton){this.selectNameLayer(this.windows[i].id);this.windows[i].window.close();}else{if(this.options.closeType=="fixedWindow"&&this.windows[i].isFix===true){this.selectNameLayer(this.windows[i].id);this.windows[i].window.close();}else{if(this.options.closeType=="noneFixedWindow"&&this.windows[i].isFix===false){this.selectNameLayer(this.windows[i].id);this.windows[i].window.close();}else{if(this.options.closeType=="all"){this.selectNameLayer(this.windows[i].id);this.windows[i].window.close();}}}}}this.selectedIndex=-1;}};$W._a.aN.prototype.doMaximizeAll=function(){["WebSquare.uiplugin.windowContainer.doMaximizeAll"];var _11c=[];for(var i=0;i<this.selectedWindowHistory.length;i++){for(var n=0;n<this.selectedWindowHistory.length;n++){if(this.selectedWindowHistory[i]==this.windows[n].id){_11c.push(this.windows[n]);break;}}}for(var i=0;i<_11c.length;i++){_11c[i].window.maximize();}};$W._a.aN.prototype.isExistWindow=function(_11f){["WebSquare.uiplugin.windowContainer.isExistWindow"];try{for(var i=0;i<this.windows.length;i++){var _121=this.windows[i];if(_11f==_121.title){return true;}}return false;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aN.prototype.setSize=function(_122,_123){["WebSquare.uiplugin.windowContainer.setSize"];try{if(parseInt(_122)<450){_122=450;}if(parseInt(_123)<150){_123=150;}var _124=this.getSize("width");var _125=this.getSize("height");var _126=_122/_124;var _127=_123/_125;this.setStyle("width",_122+"px");this.setStyle("height",_123+"px");for(var i=0;i<this.windows.length;i++){var _129=this.windows[i];_129.window.resizeParentGroup();if(this.options.windowAutoResize&&_129.window.windowInfo.status!="maximized"){var _12a=_129.window;var _12b=_12a.getSize("width");var _12c=_12a.getSize("height");var _12d=parseInt(_12a.getStyle("left"),10);var _12e=parseInt(_12a.getStyle("top"),10);var _12f=Math.ceil(_12b*_126);var _130=Math.ceil(_12c*_127);var _131=Math.ceil(_12d*_126);var _132=Math.ceil(_12e*_127);_129.window.setSize(_12f,_130);_129.window.setStyle("left",_131+"px");_129.window.setStyle("top",_132+"px");}if(this.options.useNameScroll){this.dom.rightScrollBtn.style.left=parseInt(this.render.offsetWidth)-20+"px";}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aN.prototype.checkResize=function(){["WebSquare.uiplugin.windowContainer.prototype.checkResize"];try{var _133=this.render?this.render.offsetWidth:null;if(this.bWidth!=null&&_133!=this.bWidth){this.nameLayerResize();}this.bWidth=_133;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aN.prototype.nameLayerResize=function(e){["WebSquare.uiplugin.windowContainer.prototype.nameLayerResize"];try{if(this.render.offsetWidth<this.dom.nameBar.scrollWidth+this.dom.control.offsetWidth+2){this.options.useNameScroll=true;this.dom.rightScrollBtn.style.left=parseInt(this.getSize("width"))-20+"px";this.dom.rightScrollBtn.style.display="block";this.dom.leftScrollBtn.style.display="block";}else{this.options.useNameScroll=false;if(this.options.useNameContainer){this.dom.nameBar.style.left="0px";}else{this.dom.nameBar.style.left=(this.dom.control.offsetWidth+2)+"px";}this.dom.rightScrollBtn.style.display="none";this.dom.leftScrollBtn.style.display="none";}if(this.options.nameScrollMode=="hide"){for(var i=0;i<this.windows.length;i++){var _136=this.windows[i].id;var _137=document.getElementById(this.id+"_nameLayer_"+_136);if(_137.style.display=="none"){_137.style.display="block";}}}this.selectWindow();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aN.prototype.showTooltip=function(_138,_139){["WebSquare.uiplugin.windowContainer.showTooltip"];try{if(this.timeShowTooltip!=null){clearTimeout(this.timeShowTooltip);this.timeShowTooltip=null;}this.timeShowTooltip=setTimeout(this.event.bindAsEventListener(this,function(){if(!this.tooltip){this.tooltip=new $W._a._p(this.id+"_tooltip",{className:"w2windowContainer_tooltip "+this.options.tooltipClass});this.tooltip.writeTo($W.getBody(),null,this.parentFrame);this.tooltip.activate();if(!this.options.tooltipGroupClass){this.tooltip.removeClass("w2group");}}if(this.tooltip.render.style.display!="block"){this.tooltip.setStyle("display","block");this.tooltip.render.innerHTML=_139;var left=$W._H.getAbsoluteLeft(_138)+(_138.offsetWidth/2);var top;if(this.options.toolbarPosition==="bottom"){top=$W._H.getAbsoluteTop(_138)-this.tooltip.render.offsetHeight;}else{top=$W._H.getAbsoluteTop(_138)+this.tooltip.render.offsetHeight;}this.tooltip.setStyle("zIndex",this.maxZIndex);this.tooltip.setStyle("left",left+"px");this.tooltip.setStyle("top",top+"px");}}),this.options.tooltipTime*1000);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aN.prototype.hideTooltip=function(){["WebSquare.uiplugin.windowContainer.hideTooltip"];try{if(this.timeShowTooltip!=null){clearTimeout(this.timeShowTooltip);this.timeShowTooltip=null;}if(this.tooltip){this.tooltip.setStyle("display","none");}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aN.prototype.setWindowSize=function(_13c,_13d){["WebSquare.uiplugin.windowContainer.setWindowSize"];try{for(var i=0;i<this.windows.length;i++){var _13f=this.windows[i];var _140=_13f.window;if(_13f.id==this.nowWindow){_140.windowInfo.width=_13c;_140.windowInfo.height=_13d;_140.restore();}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aN.prototype.setWindowPosition=function(left,top){["WebSquare.uiplugin.windowContainer.setWindowPosition"];try{for(var i=0;i<this.windows.length;i++){var _144=this.windows[i];var _145=_144.window;if(_144.id==this.nowWindow){_145.windowInfo.left=left;_145.windowInfo.top=top;_145.windowInfo.status="restored";_145.windowInfo.minimized=false;_145.windowInfo.getInfo(_145.render);break;}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aN.prototype.closeWindow=function(){["WebSquare.uiplugin.windowContainer.closeWindow"];try{for(var i=0;i<this.windows.length;i++){var _147=this.windows[i];var _148=_147.window;if(_147.id==this.nowWindow){_148.close();break;}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aN.prototype.setWindowStatusMsg=function(msg,_14a){["WebSquare.uiplugin.windowContainer.setWindowStatusMsg"];try{for(var i=0;i<this.windows.length;i++){var _14c=this.windows[i];var _14d=_14c.window;if(_14a){if(_14c.title==_14a){_14d.setStatusMsg(msg);break;}}else{if(_14c.id==this.nowWindow){_14d.setStatusMsg(msg);break;}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aN.prototype.setWindowCustomMsg=function(msg,_14f){["WebSquare.uiplugin.windowContainer.setWindowStatusMsg"];try{for(var i=0;i<this.windows.length;i++){var _151=this.windows[i];var _152=_151.window;if(_14f){if(_151.title==_14f){_152.setCustomMsg(msg);break;}}else{if(_151.id==this.nowWindow){_152.setCustomMsg(msg);break;}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aN.prototype.setAllWindowStatusMsg=function(msg){["WebSquare.uiplugin.windowContainer.setAllWindowStatusMsg"];try{for(var i=0;i<this.windows.length;i++){var _155=this.windows[i];var _156=_155.window;_156.setStatusMsg(msg);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aN.prototype.getWindow=function(_157){["WebSquare.uiplugin.windowContainer.getWindow"];try{for(var i=0;i<this.windows.length;i++){var _159=this.windows[i];if(_157==_159.title){this.beforeWindow=this.nowWindow;this.nowWindow=_159.id;this.selectWindow();if(this.beforeWindow!=this.nowWindow){var _15a=this.getWinInfoObj(this.beforeWindow).windowId;var _15b=this.getWinInfoObj(this.nowWindow).windowId;$W._c.fireEvent(this,"onwindowchange",_15a,_15b);}return _159.window.frame.getWindow();}}return null;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aN.prototype.getWindowByWindowId=function(_15c,_15d){["WebSquare.uiplugin.windowContainer.getWindowByWindowId"];try{var _15d=$W._G.getBoolean(_15d);for(var i=0;i<this.windows.length;i++){var _15f=this.windows[i];if(_15c==_15f.windowId){if(_15d==true){this.beforeWindow=this.nowWindow;this.nowWindow=_15f.id;this.selectWindow();if(this.beforeWindow!=this.nowWindow){var _160=this.getWinInfoObj(this.beforeWindow).windowId;var _161=this.getWinInfoObj(this.nowWindow).windowId;$W._c.fireEvent(this,"onwindowchange",_160,_161);}}return _15f.window.frame.getWindow();}}return null;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aN.prototype.showModal=function(){["WebSquare.uiplugin.windowContainer.showModal"];try{if(!this.modal){this.modal=document.createElement("div");this.modal.id=this.id+"_modal";this.modal.className="w2modal";this.render.appendChild(this.modal);}if(this.modal){this.modal.style.display="block";this.modal.style.zIndex=this.maxZIndex-1;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aN.prototype.hideModal=function(){["WebSquare.uiplugin.windowContainer.shideModal"];try{if(this.modal){this.modal.style.display="none";}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aN.prototype.moveNameLayerScroll=function(_162){["WebSquare.uiplugin.windowContainer.moveNameLayerScroll"];try{if(this.options.nameScrollMode=="hide"){var _163=0;for(var i=0;i<this.windows.length;i++){var _165=this.windows[i].id;var _166=document.getElementById(this.id+"_nameLayer_"+_165);var _167=$W._H.getStyle(_166,"margin-left");_167=_167==="auto"?"0":_167;var _168=$W._H.getStyle(_166,"margin-right");_168=_168==="auto"?"0":_168;var _169=_166.offsetWidth+parseInt(_167,10)+parseInt(_168,10);if(_166.style.display!="none"){_163+=_169;}}if(_162=="right"){if(this.dom.nameBar.offsetWidth>_163){return;}for(var i=0;i<this.windows.length;i++){var _165=this.windows[i].id;var _166=document.getElementById(this.id+"_nameLayer_"+_165);if(_166.style.display=="none"||i==this.windows.length-1){continue;}else{_166.style.display="none";break;}}}else{for(var i=this.windows.length-1;i>=0;i--){var _165=this.windows[i].id;var _166=document.getElementById(this.id+"_nameLayer_"+_165);if(_166.style.display!="none"){continue;}else{_166.style.display="block";break;}}}}else{var _16a=110;if(_162=="right"){var _16b=this.windows[this.windows.length-1].id;var _16c=document.getElementById(this.id+"_nameLayer_"+_16b);var _16d=this.dom.rightScrollBtn.offsetLeft-this.dom.nameBar.offsetWidth;if(parseInt(this.dom.nameBar.style.left)-_16a<_16d){this.dom.nameBar.style.left=_16d+"px";}else{this.dom.nameBar.style.left=parseInt(this.dom.nameBar.style.left)-_16a+"px";}}else{if(this.options.useNameContainer){if(parseInt(this.dom.nameBar.style.left)+_16a>this.dom.leftScrollBtn.offsetWidth){this.dom.nameBar.style.left=this.dom.leftScrollBtn.offsetWidth+"px";}else{this.dom.nameBar.style.left=parseInt(this.dom.nameBar.style.left)+_16a+"px";}}else{if(parseInt(this.dom.nameBar.style.left)+_16a>(this.dom.control.offsetWidth+this.dom.leftScrollBtn.offsetWidth)){this.dom.nameBar.style.left=(this.dom.control.offsetWidth+this.dom.leftScrollBtn.offsetWidth)+"px";}else{this.dom.nameBar.style.left=parseInt(this.dom.nameBar.style.left)+_16a+"px";}}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aN.prototype.setFocus=function(_16e){["WebSquare.uiplugin.windowContainer.setFocus"];try{if(!this.windows[_16e]){return;}if(this.windows[_16e].id!==this.nowWindow){this.selectNameLayer(this.windows[_16e].id);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aN.prototype.getSelectedIndex=function(){["WebSquare.uiplugin.windowContainer.getSelectedIndex"];return this.selectedIndex;};$W._a.aN.prototype.getSelectedWindowId=function(){["WebSquare.uiplugin.windowContainer.getSelectedWindowId"];return this.windows[this.selectedIndex].windowId;};$W._a.aN.prototype.refreshSelectedIndex=function(_16f){["WebSquare.uiplugin.windowContainer.refreshSelectedIndex"];try{var _170=_16f||this.nowWindow;for(var i=0;i<this.windows.length;i++){var _172=this.windows[i];var _173=this.nowWindow;if(_172.id==_170){this.selectedIndex=i;}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aN.prototype.handleClickEvent=function(e){["WebSquare.uiplugin.windowContainer.handleClickEvent"];try{var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match(null,this.id)){}if(it.match("w2windowContainer_controlIcon_vertical")){if(this.options.useFixButton&&this.options.verticalArrangeNum>0){this.doVerticalFixArrange();}else{this.doVerticalArrange();}$W._c.fireEvent(this,"onverticalarrange");}if(it.match("w2windowContainer_controlIcon_horizontal")){if(this.options.useFixButton&&this.options.horizontalArrangeNum>0){this.doHorizontalFixArrange();}else{this.doHorizontalArrange();}$W._c.fireEvent(this,"onhorizontalarrange");}if(it.match("w2windowContainer_controlIcon_cascade")){if(this.options.useFixButton){this.doCascadeFixArrange();}else{this.doCascadeArrange();}$W._c.fireEvent(this,"oncascadearrange");}if(it.match("w2windowContainer_controlIcon_sequential")){if(this.options.useFixButton&&this.options.sequentialArrangeRowNum>0&&this.options.sequentialArrangeColNum>0){this.doSequentialFixArrange();}else{this.doSequentialArrange();}$W._c.fireEvent(this,"onsequentialarrange");}if(it.match("w2windowContainer_controlIcon_closeAll")){this.doCloseAll();}if(it.match("w2windowContainer_controlIcon_maximize")){var _176=this.getSelectedIndex();if(_176>-1&&_176<this.windows.length){var _177=this.windows[_176];if(_177.window.windowInfo.status=="maximized"){_177.window.toggleResize();$W._c.fireEvent(this,"onselectedmaximize");}else{$W._c.fireEvent(this,"onselectedrestore");if(this.options.windowMaximizeAll==true){this.doMaximizeAll();}else{_177.window.toggleResize();}}}}if(it.match("w2windowContainer_nameLayer")){var _178=it.getElement().getAttribute("refId");var _179={};_179["stopToggleOnLast"]=this.options.stopToggleOnLast;this.clickNameLayer(_178,this.options.stopMinimizeOnNameLayer,_179);}if(it.match("w2windowContainer_nameLayer_close")){var _178=it.getElement().getAttribute("refId");var _17a=this.getWinInfoObj(_178);_17a.window.close();return;}if(it.match("w2windowContainer_nameLayer_fixOff")){var _178=it.getElement().getAttribute("refId");var _17a=this.getWinInfoObj(_178);_17a.isFix=!_17a.isFix;if(_17a.isFix){it.getElement().className="w2windowContainer_nameLayer_fixOff w2windowContainer_nameLayer_fixOn";this.fixedWindowArr.push(_17a);}else{it.getElement().className="w2windowContainer_nameLayer_fixOff";for(var i=0;i<this.fixedWindowArr.length;i++){if(this.fixedWindowArr[i].id==_17a.id){this.fixedWindowArr.splice(i,1);break;}}}return;}if(it.match("w2window")){this.selectNameLayer(it.getElement().id);}if(it.match("w2window_restore")){if(this.options.windowMaximizeAll==true){this.doMaximizeAll();}}if(it.match("w2windowContainer_scrollLeftBtn")){this.moveNameLayerScroll("left");}if(it.match("w2windowContainer_scrollRightBtn")){this.moveNameLayerScroll("right");}}it=null;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aN.prototype.handleMouseOverEvent=function(e){["WebSquare.uiplugin.windowContainer.handleMouseOverEvent"];try{$W._c.stopEvent(e);var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match(null,this.id)){}if(it.match("w2windowContainer_nameLayer")){var _17e=it.getElement();var _17f=it.getElement().getAttribute("refId");var _180="";for(var i=0;i<this.windows.length;i++){var _182=this.windows[i];if(_17f==_182.id){_180=_182.tooltip;break;}}if(it.getElement().id.indexOf(this.nowWindow)==-1){this.addClass(_17e,"w2windowContainer_selectedNameLayer");}if(this.options.tooltipDisplay){this.showTooltip(_17e,_180);}}else{if(it.match("w2windowContainer_controlIcon_vertical")){this.addClass(this.dom.iconVertical,"w2windowContainer_controlIcon_vertical_over");}else{if(it.match("w2windowContainer_controlIcon_horizontal")){this.addClass(this.dom.iconHorizontal,"w2windowContainer_controlIcon_horizontal_over");}else{if(it.match("w2windowContainer_controlIcon_cascade")){this.addClass(this.dom.iconCascade,"w2windowContainer_controlIcon_cascade_over");}else{if(it.match("w2windowContainer_controlIcon_sequential")){this.addClass(this.dom.iconSequential,"w2windowContainer_controlIcon_sequential_over");}else{if(it.match("w2windowContainer_controlIcon_closeAll")){this.addClass(this.dom.iconCloseAll,"w2windowContainer_controlIcon_closeAll_over");}else{if(it.match("w2windowContainer_controlIcon_maximize")){this.addClass(this.dom.iconMaximize,"w2windowContainer_controlIcon_maximize_over");}else{if(it.match("w2windowContainer_scrollLeftBtn")){this.addClass(this.dom.nameScrollLeft,"w2windowContainer_scrollLeftBtn_over");}else{if(it.match("w2windowContainer_scrollRightBtn")){this.addClass(this.dom.nameScrollRight,"w2windowContainer_scrollRightBtn_over");}}}}}}}}}}it=null;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aN.prototype.handleMouseOutEvent=function(e){["WebSquare.uiplugin.windowContainer.handleMouseOutEvent"];try{$W._c.stopEvent(e);this.hideTooltip();var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match(null,this.id)){}if(it.match("w2windowContainer_nameLayer")){if(it.getElement().id.indexOf(this.nowWindow)==-1){this.removeClass(it.getElement(),"w2windowContainer_selectedNameLayer");}}else{if(it.match("w2windowContainer_controlIcon_vertical")){this.removeClass(this.dom.iconVertical,"w2windowContainer_controlIcon_vertical_over");}else{if(it.match("w2windowContainer_controlIcon_horizontal")){this.removeClass(this.dom.iconHorizontal,"w2windowContainer_controlIcon_horizontal_over");}else{if(it.match("w2windowContainer_controlIcon_cascade")){this.removeClass(this.dom.iconCascade,"w2windowContainer_controlIcon_cascade_over");}else{if(it.match("w2windowContainer_controlIcon_sequential")){this.removeClass(this.dom.iconSequential,"w2windowContainer_controlIcon_sequential_over");}else{if(it.match("w2windowContainer_controlIcon_closeAll")){this.removeClass(this.dom.iconCloseAll,"w2windowContainer_controlIcon_closeAll_over");}else{if(it.match("w2windowContainer_controlIcon_maximize")){this.removeClass(this.dom.iconMaximize,"w2windowContainer_controlIcon_maximize_over");}else{if(it.match("w2windowContainer_scrollLeftBtn")){this.removeClass(this.dom.nameScrollLeft,"w2windowContainer_scrollLeftBtn_over");}else{if(it.match("w2windowContainer_scrollRightBtn")){this.removeClass(this.dom.nameScrollRight,"w2windowContainer_scrollRightBtn_over");}}}}}}}}}}it=null;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aN.prototype.handleDragStartEvent=function(){["WebSquare.uiplugin.windowContainer.handleDragStartEvent"];try{this.showModal();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aN.prototype.handleDragEndEvent=function(){["WebSquare.uiplugin.windowContainer.handleDragEndEvent"];try{this.hideModal();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aN.prototype.finalize=function(){["WebSquare.uiplugin.windowContainer.finalize"];try{$W._G.clearInterval(this.id+"_checkResize");for(var i=this.childControlList.length-1;i>=0;i--){this.childControlList[i].remove();}for(var i=this.storedFrame.length-1;i>=0;i--){var comp=$W._G.getComponentById(this.storedFrame[i]);if(comp!=null){comp.remove();}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aN.prototype.handleNameLayerMove=function(e){["WebSquare.uiplugin.windowContainer.handleNameLayerMove"];try{if(!this.options.nameLayerMove){return;}$W._c.stopEvent(e);var it=this.event.getTargetIterator(e,this.render);var _189=-1;var _18a=this.uuid;this._zoomLevel=($W.BootLoader.fullViewRatio!=null)?$W.BootLoader.fullViewRatio:1;while(it.next()){if(it.match("w2windowContainer_nameLayer")){var elem=it.getElement();if(!elem){return;}for(var i=0;i<this.windows.length;i++){if(this.windows[i].id===elem.getAttribute("refId")){_189=i;break;}}if(isNaN(_189)||_189<0){return;}$W._K.gDragManager.activate(e,elem,{id:this.id+"_ghostLayer_nameLayerMove",className:"w2windowContainer_drag_nameLayerMove",dragoverClass:"w2windowContainer_nameLayer",dropClass:"w2windowContainer_nameLayer",delay:15,makeGhostLayer:function(_18d){_18d.render.className="";_18d.render.style.zIndex=-1000;_18d.render.style.width="0px";_18d.render.style.height="0px";return _18d;},handleStart:function(e){var _18f=_189;var comp=$W.idCache[_18a];var _191=$(comp.dom.nameBar.childNodes[_18f]);this.nameLayerMove_left=_191.css("left");this.dragOverNameLayer={};this.dropIndex=-1;this.nameLayerMove_zIndex=_191.css("zIndex");var _192=Number(this.nameLayerMove_zIndex);this.nameLayerMove_zIndex_Array=[];if(isNaN(_192)||_192<=0){for(var i=0;i<comp.dom.nameBar.childNodes.length;i++){var _194=$(comp.dom.nameBar.childNodes[i]);this.nameLayerMove_zIndex_Array.push(_194.css("zIndex"));if(i===_18f){_194.css("zIndex",4);}else{_194.css("zIndex",5);}}_192=6;}else{_191.css("zIndex",_192-1);}},onDrop:function(drag,drop,x,y,dx,dy,e){var _19c=_189;var comp=$W.idCache[_18a];var _19e=$(comp.dom.nameBar.childNodes[_19c]);_19e.css("left",this.nameLayerMove_left);if(this.nameLayerMove_zIndex_Array.length>0){for(var i=0;i<comp.dom.nameBar.childNodes.length;i++){$(comp.dom.nameBar.childNodes[i]).css("zIndex",this.nameLayerMove_zIndex_Array[i]);}}else{_19e.css("zIndex",this.nameLayerMove_zIndex);}for(var _1a0 in this.dragOverNameLayer){$(comp.dom.nameBar.childNodes[_1a0]).css("left",this.dragOverNameLayer[_1a0]);}comp.moveNameLayer(_19c,this.dropIndex);this.nameLayerMove_left="";this.nameLayerMove_zIndex="";this.dragOverNameLayer={};this.nameLayerMove_zIndex_Array=[];},onDragover:function(drag,drop,x,y,dx,dy,e){var _1a8=_189;var _1a9=-1;var comp=$W.idCache[_18a];for(var i=0;i<comp.dom.nameBar.childNodes.length;i++){if(comp.dom.nameBar.childNodes[i]===drop){_1a9=i;break;}}var _1ac=$(comp.dom.nameBar.childNodes[_1a8]);_1ac.css("left",dx/comp._zoomLevel);if(comp.dom.nameBar.childNodes[_1a9]!=undefined&&_1a9!==_1a8){var _1ad=$(comp.dom.nameBar.childNodes[_1a9]);if(this.dragOverNameLayer[_1a9]==undefined){this.dragOverNameLayer[_1a9]=_1ad.css("left");if(_1a8>_1a9){_1ad.css("left",_1ac.width());}else{_1ad.css("left",_1ac.width()*-1);}this.dropIndex=_1a9;}else{_1ad.css("left",this.dragOverNameLayer[_1a9]);this.dragOverNameLayer[_1a9]=null;delete this.dragOverNameLayer[_1a9];if(_1a8>_1a9){this.dropIndex=_1a9+1;}else{this.dropIndex=_1a9-1;}}}}});it.stop();}}it=null;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aN.prototype.moveNameLayer=function(from,to){["WebSquare.uiplugin.windowContainer.moveNameLayer"];try{if(from===to||from<0||to<0){return;}var _1b0=this.windows[from].windowId;var _1b1=this.windows[to].windowId;var ret=$W._c.fireEvent(this,"onbeforenamelayermove",{"startWindowID":_1b0,"startIndex":from,"endWindowID":_1b1,"endIndex":to});if(ret===false){return;}var eps=from>to?0:1;if(to<this.windows.length-1){this.dom.nameBar.insertBefore(this.dom.nameBar.childNodes[from],this.dom.nameBar.childNodes[to+eps]);}else{this.dom.nameBar.appendChild(this.dom.nameBar.childNodes[from]);}var _1b4=function(arr,from,to){var temp=arr.splice(from,1);arr.splice(to,0,temp[0]);};_1b4(this.windows,from,to);for(var i=0;i<this.windows.length;i++){if(this.nowWindow===this.windows[i].id){this.selectedIndex=i;break;}}$W._c.fireEvent(this,"onafternamelayermove",{"startWindowID":_1b0,"startIndex":from,"endWindowID":_1b1,"endIndex":to});}catch(e){$W.exception.printStackTrace(e,null,this);}};;WebSquare.uiplugin.windowContainer=$W._a.aN;$W._a.aX=function(){try{}catch(e){$l(e.message);$W.exception.printStackTrace(e,null,this);}};$W._a.aX.prototype.toHTML=function(){["WebSquare.uiplugin.grid.toHTML"];var _1=$W._N.getConfiguration("/WebSquare/gridView/mainZIndex/@value")||"10";var _2=$W._N.getConfiguration("/WebSquare/gridView/xScrollZIndex/@value")||"20";var _3=$W._N.getConfiguration("/WebSquare/gridView/yScrollZIndex/@value")||"15";if(this.uncompleted){return;}var _4=[];var _5=this.options.overflowY==="scroll";var _6=this.options.title?" title='"+this.options.title.wq_replaceAll("'","&#39;")+"'":"";var _7=this.options.focusMode=="none"||this.options.focusFlow=="linear"?"":" tabIndex='0'";var _8=(this.options.scrollFocus=="true"&&this.options.senseReader==true)?" tabIndex='0'":"";var _9=(this.options.style=="")?"style='overflow:hidden;'":"style='"+this.options.style+";overflow:hidden;'";var _a=this.options.readOnly?" w2grid_readonly_outer":"";_4.push("<div id='"+this.id+"' class='w2grid "+this.options.className+_a+"' "+_9+" role='application' "+_6+_7+">");if(this.options.senseReader){_4.push("<div id='"+this.id+"_gridstart_div' style='height:0px; font-size:0; line-height:0px;' tabindex='0'>\uadf8\ub9ac\ub4dc \uc2dc\uc791</div>");}if(this.options.groupbyZone&&this.options.groupbyFilterBox&&this.options.groupbyFilterBoxLocation=="top"){_4.push("<div id='"+this.id+"_groupbyFilterBox_div' class='w2grid_groupbyFilterBox' style='top:0px;left:0px; right:"+(_5?this.scrollLayerWidthSize:"0")+"px;float:left;'>");_4.push("<div id='"+this.id+"_groupbyFilterBox_main' class='w2grid_groupbyFilterBox_main'>");_4.push("<div id='"+this.id+"_groupbyFilterBox_buttons' class='w2grid_groupbyFilterBox_buttons' >");_4.push("<input id=\""+this.id+"_groupbyFilterBox_delete\" type=\"button\" value=\"X\" class=\"w2grid_groupbyFilterBox_delete\" />");_4.push("<input id=\""+this.id+"_groupbyFilterBox_apply\" type=\"checkbox\" class=\"w2grid_groupbyFilterBox_apply\" />");_4.push("</div>");_4.push("<div id=\""+this.id+"_groupbyFilterBox_select\" role=\"combobox\" aria-labelledby=\""+this.id+"_groupbyFilterBox_itemTable\" aria-autocomplete=\"none\" class=\"w2selectbox w2grid_groupbyFilterBox_select \" tabindex=\"0\">");_4.push("<table class=\"w2selectbox_table_main\" cellpadding=\"0\" cellspacing=\"0\">");_4.push("<tbody id=\""+this.id+"_groupbyFilterBox_select_tbody\" class=\"w2grid_filterBox_select_tbody\">");_4.push("<tr class=\"w2selectbox_row w2selectbox_row_main\">");_4.push("<td class=\"w2selectbox_col_label\">");_4.push("<div id=\""+this.id+"_groupbyFilterBox_select_label\" role=\"document\" aria-live=\"assertive\" aria-automatic=\"true\" class=\"w2selectbox_label w2grid_groupbyFilterBox_label\"></div>");_4.push("</td>");_4.push("<td class=\"w2selectbox_col_button\" aria-labelledby=\""+this.id+"_groupbyFilterBox_itemTable\" aria-controls=\""+this.id+"_groupbyFilterBox_itemTable\"></td>");_4.push("</tr>");_4.push("</tbody>");_4.push("</table>");_4.push("</div>");_4.push("</div>");_4.push("</div>");}if(this.options.groupbyZone){_4.push("<div id='"+this.id+"_groupbyZone_div' class='w2grid_groupbyZone' style='width:0px; height:0px;'></div>");}_4.push("<div id='"+this.id+"_main_div' style='z-index:"+_1+";overflow:hidden;position:absolute;left:0px; right:"+(_5?this.scrollLayerWidthSize:"0")+"px; top:0px; bottom:"+this.scrollLayerWidthSize+"px;float:left;'>");_4.push(this.mainDataGridLayout());_4.push("</div>");if(this.options.groupbyZone&&this.options.groupbyFilterBox&&this.options.groupbyFilterBoxLocation=="bottom"){_4.push("<div id='"+this.id+"_groupbyFilterBox_div' class='w2grid_groupbyFilterBox' style='left:0px; right:"+(_5?this.scrollLayerWidthSize:"0")+"px; bottom:"+this.scrollLayerWidthSize+"px;float:left;'>");_4.push("<div id='"+this.id+"_groupbyFilterBox_main' class='w2grid_groupbyFilterBox_main' >");_4.push("<div id='"+this.id+"_groupbyFilterBox_buttons' class='w2grid_groupbyFilterBox_buttons' >");_4.push("<input id=\""+this.id+"_groupbyFilterBox_delete\" type=\"button\" value=\"X\" class=\"w2grid_groupbyFilterBox_delete\"/>");_4.push("<input id=\""+this.id+"_groupbyFilterBox_apply\" type=\"checkbox\" class=\"w2grid_groupbyFilterBox_apply\" />");_4.push("</div>");_4.push("<div id=\""+this.id+"_groupbyFilterBox_select\" role=\"combobox\" aria-labelledby=\""+this.id+"_groupbyFilterBox_itemTable\" aria-autocomplete=\"none\" class=\"w2selectbox w2grid_groupbyFilterBox_select \" tabindex=\"0\">");_4.push("<table class=\"w2selectbox_table_main\" cellpadding=\"0\" cellspacing=\"0\">");_4.push("<tbody id=\""+this.id+"_groupbyFilterBox_select_tbody\" class=\"w2grid_filterBox_select_tbody\">");_4.push("<tr class=\"w2selectbox_row w2selectbox_row_main\">");_4.push("<td class=\"w2selectbox_col_label\">");_4.push("<div id=\""+this.id+"_groupbyFilterBox_select_label\" role=\"document\" aria-live=\"assertive\" aria-automatic=\"true\" class=\"w2selectbox_label w2grid_groupbyFilterBox_label\"></div>");_4.push("</td>");_4.push("<td class=\"w2selectbox_col_button\" aria-labelledby=\""+this.id+"_groupbyFilterBox_itemTable\" aria-controls=\""+this.id+"_groupbyFilterBox_itemTable\"></td>");_4.push("</tr>");_4.push("</tbody>");_4.push("</table>");_4.push("</div>");_4.push("</div>");_4.push("</div>");}_4.push("<div id='"+this.id+"_scrollX_div' style='z-index:"+_2+";overflow-x:hidden;overflow-y:hidden;position:absolute; height:0px; left:0px; right:"+(_5?this.scrollWidthSize:"0")+"px; bottom:0px;'>");_4.push(this.getScrollX());_4.push("</div>");_4.push("<div id='"+this.id+"_scrollY_div' style='z-index:"+_3+";position:absolute; overflow-x:hidden;overflow-y:scroll;width:"+(_5?this.scrollLayerWidthSize:"0")+"px; height: 100%;right:0px;'"+_8+">");_4.push(this.getScrollY());_4.push("</div>");_4.push("<div id='"+this.id+"_iScrollX' class='w2grid_iScrollX' style='visibility:hidden;'></div>");_4.push("<div id='"+this.id+"_iScrollY' class='w2grid_iScrollY' style='visibility:hidden;'></div>");_4.push("<div id='"+this.id+"_resize_line' style='display:none;position:absolute;top:10px; bottom:0px;border:0px dashed #222222; border-left-width:1px;'></div>");_4.push("<div id='"+this.id+"_noresult' style='display:none;position:absolute;"+this.options.noResultMessageStyle+"' class='"+this.options.noResultMessageClass+"'>"+this.options.noResultMessage+"</div>");if(this.options.senseReader){_4.push("<div id='"+this.id+"_gridend_div' style='height:0px; font-size:0; line-height:0px;' tabindex='0'>\uadf8\ub9ac\ub4dc \ub05d</div>");}_4.push("</div>");return _4.join("");};$W._a.aX.prototype.getScrollY=function(){var _b="<div id='"+this.id+"_size_y' style='height:0px; position:absolute; top:0px; left:0px; width:18px;'></div>";return _b;};$W._a.aX.prototype.getScrollX=function(){var _c=this.getFixedColumnLastIndex();var _d=0;for(var i=0;i<_c;i++){if(!this.hiddenList[i]){_d+=this.colWidthList[i];}}var _f=this.getFixedRightColumnLastIndex();var _10=0;var _11=this.colWidthList.length;for(var i=_11-1;i>=_f;i--){if(!this.hiddenList[i]){_10+=this.colWidthList[i];}}var _12=(this.options.scrollFocus=="true"&&this.options.senseReader==true)?" tabIndex='0'":" tabIndex='-1'";var _13=[];_13.push("<table id='"+this.id+"_scrollX_table' style='height:18px;table-layout:fixed; border-collapse:collapse; border-spacing:0px; width:100%'>");_13.push("<tr>");_13.push("<td id='"+this.id+"_scrollX_left' style='border:0px solid red;padding:0px 0px 0px 0px;height:"+this.scrollLayerWidthSize+"px;width:"+_d+"px;vertical-align:bottom;'>");_13.push("<div style='height:"+this.scrollLayerWidthSize+"px;overflow-x:scroll;overflow-y:hidden'></div>");_13.push("</td>");_13.push("<td style='border:0px solid orange;padding:0px 0px 0px 0px;height:18px;'>");_13.push("<div id='"+this.id+"_scrollX_right' style='height:18px;border:0px solid blue; overflow-x:scroll;overflow-y:hidden;padding:0px 0px 0px 0px;padding-top:-5px;'"+_12+"'>");_13.push("<div id='"+this.id+"_scroll_size' style='height:1px;width:"+parseInt(this.gridWidth-_d-_10)+"px'></div>");_13.push("</div>");_13.push("</td>");_13.push("<td id='"+this.id+"_scrollX_fixedRight' style='border:0px solid red;padding:0px 0px 0px 0px;height:"+this.scrollLayerWidthSize+"px;width:"+_10+"px;vertical-align:bottom;'>");_13.push("<div style='height:"+this.scrollLayerWidthSize+"px;overflow-x:scroll;overflow-y:hidden'></div>");_13.push("</td>");_13.push("</tr>");_13.push("</table>");return _13.join("");};$W._a.aX.prototype.mainDataGridLayout=function(){["WebSquare.uiplugin.layoutController.prototype.mainDataGridLayout"];this.setTableStruct();var _14=[];_14.push(this.getBodyTable());_14.push(this.getFooterTable());this.setInitialCSS();return _14.join("");};$W._a.aX.prototype.setColArr=function(){this.colGroupArr=[];this.setColWidth();this.gridWidth=0;var _15=-1;if(this.options.rowStatusVisible){var _16=40;if(this.options.rowStatusWidth.length>0){if(this.options.rowStatusWidth.indexOf("*")>-1){_16=this.options.rowStatusWidth;_15++;}else{if((this.options.rowStatusWidth-0)>-1){_16=this.options.rowStatusWidth-0;}}}this.colWidthList.unshift(_16);this.hiddenList.unshift(false);this.hiddenAdaptiveList.unshift(false);}if(this.options.rowNumVisible){var _16=40;if(this.options.rowNumWidth.length>0){if(this.options.rowNumWidth.indexOf("*")>-1){_16=this.options.rowNumWidth;_15++;}else{if((this.options.rowNumWidth-0)>-1){_16=this.options.rowNumWidth-0;}}}this.colWidthList.unshift(_16);this.hiddenList.unshift(false);this.hiddenAdaptiveList.unshift(false);}if(_15>-1){this.autofitColumn=true;for(var i=0;i<2;i++){if(this.colWidthList[i]&&typeof this.colWidthList[i]=="string"){if(this.colWidthList[i].indexOf("*")>-1){this.autofitColumnIndexArr.push(i);this.autofitColumnWidthArr[i]=this.colWidthList[i];}}}}var _18;var _19;if(this.isIE6or7){_18=[];_19=this.colIndexes.bodyColInfo.colSpanArr;var len=this.colIndexes.bodyColInfo.colIndexArr.length;for(var i=0;i<len;i++){if(_19[i]){for(var j=0;j<_19[i];j++){_18[j]=true;}}}}this.colGroupArr.push("<colgroup>");for(var i=0;i<this.colWidthList.length;i++){if(this.colWidthList[i]==null){this.colWidthList[i]=70;}var _1c=(isNaN(this.colWidthList[i]))?0:this.colWidthList[i];if(!this.hiddenList[i]){this.gridWidth+=_1c;if(this.isIE6or7&&(i<this.defaultColCnt||!_18[i])){_1c--;if(i==this.defaultColCnt){_1c--;}}}else{_1c=0;}this.colGroupArr.push("<col id='colGroupID_"+i+"' style='width:"+_1c+"px;white-space:nowrap' />");}this.colGroupArr.push("</colgroup>");};$W._a.aX.prototype.setCss=function(){this.options.headerTableClass=this.struct.head.attr["class"]||"gridHeaderTableDefault";this.options.headerTrClass=this.struct.head.attr.rowClass||"gridHeaderTRDefault";this.options.headerTdClass=this.struct.head.attr.columnClass||"gridHeaderTDDefault";this.options.bodyTableClass=this.struct.body.attr["class"]||"gridBodyTableDefault";this.options.bodyTrClass=this.struct.body.attr.rowClass||"gridBodyTRDefault";this.options.bodyTdClass=this.struct.body.attr.columnClass||"gridBodyDefault";if(this.hasFooter){this.options.footerTableClass=this.struct.foot.attr["class"]||"gridFooterTableDefault";this.options.footerTrClass=this.struct.foot.attr.rowClass||"gridFooterTRDefault";this.options.footerTdClass=this.struct.foot.attr.columnClass||"gridFooterTDDefault";}if(this.hasSubtotal){this.options.subtotalTrClass=this.struct.subtotalArr[this.struct.subtotalArr.length-1].attr.rowClass||"gridSubtotalTRDefault";this.options.subtotalTdClass=this.struct.subtotalArr[this.struct.subtotalArr.length-1].attr.columnClass||"gridSubtotalDefault";}};$W._a.aX.prototype.setInitialCSS=function(){["WebSquare.uiplugin.layoutController.prototype.setInitialCSS"];try{if(this.options.oddEvenColorDisplay){$W.cssStyleSheet.addRule("#"+this.id+" .evenTd","background-color:"+this.options.evenRowBackgroundColor);$W.cssStyleSheet.addRule("#"+this.id+" .oddTd","background-color:"+this.options.oddRowBackgroundColor);}this.rowStyleIndex=0;this.cellStyleIndex=0;this.readOnlyTdStyle="";this.readOnlyTdImg="";this.disabledTdStyle="";this.rowOverStyle="";if(this.options.readOnlyBackgroundColor!=""){this.readOnlyTdStyle="background-color:"+this.options.readOnlyBackgroundColor;}if(this.options.readOnlyBackgroundImg!=""||this.options.readOnlyBackgroundImgCSS!=""){if(this.options.readOnlyBackgroundImgCSS){this.readOnlyTdImg=this.options.readOnlyBackgroundImgCSS;}else{this.readOnlyTdImg="background:url("+this.options.readOnlyBackgroundImg+") no-repeat center center; background-size: cover";}}if(this.options.disabledBackgroundColor!=""){this.disabledTdStyle="background-color:"+this.options.disabledBackgroundColor;}if(this.options.disabledFontColor!=""){this.disabledTdStyle=(this.disabledTdStyle!="")?this.disabledTdStyle+";":"";this.disabledTdStyle+="color:"+this.options.disabledFontColor;}if(this.options.rowNumBackgroundColor!=""){$W.cssStyleSheet.addRule("#"+this.id+" ."+this.options.bodyTdClass+"_rowNumber","background-color:"+this.options.rowNumBackgroundColor);}if(this.options.rowMouseOver){this.rowOverStyle="background-color:"+this.options.rowMouseOverColor;}if(this.options.defaultCellHeight!=-1){$W.cssStyleSheet.addRule("#"+this.id+" td."+this.options.bodyTdClass,"height:"+this.options.defaultCellHeight+"px");$W.cssStyleSheet.addRule("#"+this.id+" th."+this.options.headerTdClass,"height:"+this.options.defaultCellHeight+"px");}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aX.prototype.getGridClassName=function(_1d,_1e){if(_1d==null||_1d==""){return _1e;}return _1d;};$W._a.aX.prototype.grid2TableXml=function(_1f){var _20=$W._B.getElementsByTagName(this.element,_1f,$W._N._XML_NAMESPACE.W2);if(_20.length>0){return this.oneGrid2TableXml(_20[0]);}else{return null;}};$W._a.aX.prototype.xml2JSON=function(_21){var obj={attr:{},rowArr:[],rowAttrArr:[]};for(var i=0;i<_21.attributes.length;i++){if($W.nodeValueDeprecated){obj.attr[_21.attributes[i].name]=_21.attributes[i].value;}else{obj.attr[_21.attributes[i].nodeName]=_21.attributes[i].nodeValue;}}var _24=$W._B.getElementsByTagName(_21,"row",$W._N._XML_NAMESPACE.W2);for(var i=0;i<_24.length;i++){obj.rowAttrArr[i]={};for(var t=0;t<_24[i].attributes.length;t++){obj.rowAttrArr[i][_24[i].attributes[t].name]=_24[i].attributes[t].value;}var _26=$W._B.getElementsByTagName(_24[i],"column",$W._N._XML_NAMESPACE.W2);var _27=[];for(var j=0;j<_26.length;j++){var _29=_26[j];var col={"@xml":_29};for(var k=0;k<_29.attributes.length;k++){if($W.nodeValueDeprecated){col[_29.attributes[k].name]=_29.attributes[k].value;}else{col[_29.attributes[k].nodeName]=_29.attributes[k].nodeValue;}}_27.push(col);}obj.rowArr.push(_27);}return obj;};$W._a.aX.prototype.oneGrid2TableXml=function(_2c){var _2d=$W._B.serialize(_2c);var _2e=_2d.indexOf("w2:header")>=0?"th":"td";_2d=_2d.wq_replaceAll("w2:header",this.options.fixPrint?"tbody":"thead");_2d=_2d.wq_replaceAll("w2:gBody","tbody");_2d=_2d.wq_replaceAll("w2:footer","tbody");_2d=_2d.wq_replaceAll("w2:row","tr");_2d=_2d.wq_replaceAll("w2:column",_2e);var _2f=$W._B.parse(_2d);return _2f;};$W._a.aX.prototype.setColWidth=function(){var _30=this.getColCnt();this.colWidthList=[];this.autoFitColWidthList=null;this.hiddenList=[];this.hiddenAdaptiveList=[];for(var i=0;i<_30;i++){this.colWidthList[i]=null;this.hiddenList[i]=false;this.hiddenAdaptiveList[i]=false;}this.initializeTableInfo();};$W._a.aX.prototype.getColCnt=function(){["WebSquare.uiplugin.layoutController.prototype.getColCnt"];try{var _32=0;var row=this.htmlInfo?this.htmlInfo.head.rowArr[0]:this.struct.head.rowArr[0];for(var i=0;i<row.length;i++){var _35=row[i];_32+=parseInt(_35.colSpan,10)||1;}return _32;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aX.prototype.initializeTableInfo=function(){["WebSquare.uiplugin.layoutController.prototype.initializeTableInfo"];try{var _36=this;var _37=function(_38){if(_38==null){return null;}var _39=[];var _3a=[];var _3b=[];var _3c=[];var _3d=[];var _3e=_38.rowArr;var _3f=[];for(var i=0;i<_3e.length;i++){var _41=[];for(var j=0;j<_36.colWidthList.length;j++){_41.push(false);}_3f.push(_41);}var _43=0;if(_36.options.rowNumVisible){_39.push(0);_3b.push(0);_3c.push(_3e.length);_3d.push([_43++]);}if(_36.options.rowStatusVisible){_39.push((_36.options.rowNumVisible===true)?1:0);_3b.push(0);_3c.push(_3e.length);_3d.push([_43++]);}for(var i=0;i<_3e.length;i++){var _44=_3e[i];var x=0;for(var j=0;j<_44.length;j++){var _46=_44[j];var _47=parseInt(_46.colSpan||1);var _48=parseInt(_46.rowSpan||1);while(typeof _3f[i][x]!="undefined"&&_3f[i][x]){x++;}_46.colIndex=x+_36.defaultColCnt;_39.push(x+_36.defaultColCnt);_3b.push(i);_3c.push(_48);var _49=_46.width||"";if(_47>1){if(_49.indexOf("*")>-1){_36.autofitColumn=true;for(var _4a=0;_4a<_47;_4a++){var _4b=x+_4a;_36.colWidthList[_4b]=_49;_36.autofitColumnWidthArr[_4b+_36.defaultColCnt]=_49;_36.autofitColumnIndexArr.push(_4b+_36.defaultColCnt);}}_3a[_39.length-1]=_47;}if(_47==1&&_36.colWidthList[x]==null){if(_49.indexOf("*")>-1){_36.autofitColumn=true;var _4b=x;_36.colWidthList[_4b]=_49;_36.autofitColumnIndexArr.push(_4b+_36.defaultColCnt);_36.autofitColumnWidthArr[_4b+_36.defaultColCnt]=_49;}else{_36.colWidthList[x]=parseInt(_49||0);}}for(var k=0;k<_47;k++){if(!_3d[x+_36.defaultColCnt+k]){_3d[x+_36.defaultColCnt+k]=[];}_3d[x+_36.defaultColCnt+k].push(_43);_3f[i][x+k]=true;if(_46.hidden=="true"){_36.hiddenList[x+k]=true;}for(var l=1;l<_48;l++){_3f[i+l][x+k]=true;}}_43++;delete _46.hidden;}}return {colIndexArr:_39,colSpanArr:_3a,trIndexArr:_3b,rowSpanArr:_3c,colIndexMatch:_3d};};this.colIndexes={headerColInfo:_37(this.struct.head),bodyColInfo:_37(this.struct.body),footerColInfo:_37(this.struct.foot)};if(this.hasSubtotal){this.colIndexes.subtotalColInfo=[];for(var i=0;i<this.struct.subtotalArr.length;i++){var obj=_37(this.struct.subtotalArr[i]);this.colIndexes.subtotalColInfo.push(obj);this.colIndexes.subtotalColInfo[this.struct.subtotalArr[i].attr.targetColumnID]=obj;}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aX.prototype.getFooterTable=function(){if(!this.hasFooter){return "";}this.hasFooter=true;var _50=this.options.footerSummary?" summary='"+this.options.footerSummary.wq_replaceAll("'","&#39;")+"'":"";var str="";str="<table id='"+this.id+"_foot_table' class='"+this.options.footerTableClass+"' style='position:absolute; bottom:0px; table-layout:fixed; border-collapse:collapse; border-spacing:0px; width:"+this.gridWidth+"px;'"+_50+">";str+=this.getColGroup(this.id+"_col_footer");if(this.options.footerCaption){str+="<caption>"+this.options.footerCaption+"</caption>";}else{if(this.options.captionTitle&&this.options.footerCaptionAuto){str+="<caption>"+this.options.captionTitle+$W._m.getMessage("Grid_footer_caption")+"</caption>";}}if($W._G.isSafari()||$W._G.isChrome()){str+="<thead><tr></tr></thead>";}else{if($W._G.isIE()){var _52="";for(var i=0;i<this.getColCnt();i++){_52+="<td></td>";}str+="<thead style='visibility:collapse;'><tr>"+_52+"</tr></thead>";}}str+=this.getTableHtml(this.htmlInfo.foot,"tbody","td",this.options.footerTdClass);str+="</table>";str=str.wq_replaceAll("width=","or_wd=");str=str.wq_replaceAll("disabled=","dis=");return str;};$W._a.aX.prototype.getBodyTable=function(){var _54="width:"+this.gridWidth+"px;";if(this.isIE6or7){_54="";}var _55="";if(this.options.summary){_55="' summary = '"+(this.element.getAttribute("summary")||"").wq_replaceAll("'","&#39;");}var str="";str="<div id='"+this.id+"_dataLayer' style='position:absolute; width:100%; top:0px;bottom:0px;overflow:hidden;'>";str+=this.getGridHeaderFillerTable(this.headerXml,this.options.headerTdClass,this.options.headerTrClass,this.id+"_head_table",this.options.headerTableClass);str+="<table id='"+this.id+"_body_table' class='"+this.options.headerTableClass+"' style='position:absolute;left:0px;top:0px;table-layout:fixed; border-collapse:collapse; border-spacing:0px;"+_54+_55+"' role='grid'>";str+=this.getColGroup(this.id+"_col_body");if(this.captionXml){var _57=$W._B.parse("<caption/>");var _58=null;for(var i=0;i<this.captionXml.attributes.length;i++){_57.documentElement.setAttribute(this.captionXml.attributes[i].nodeName,this.captionXml.attributes[i].nodeValue);if(this.captionXml.attributes[i].nodeName=="value"){_58=this.captionXml.attributes[i].nodeValue;}}if(_58){_57.documentElement.appendChild(_57.createTextNode(_58));}else{for(var i=0;i<this.captionXml.childNodes.length;i++){_57.documentElement.appendChild(this.captionXml.childNodes[i].cloneNode(true));}}str+=$W._B.noNameSpaceSerialize(_57);}if(this.isWebKit){if(!this.captionXml){var _5a="transparent";var _5b="0";for(var i=0;i<document.styleSheets.length;i++){var _5c=document.styleSheets[i];for(var j=0;_5c.cssRules&&j<_5c.cssRules.length;j++){var _5e=_5c.cssRules[j];if(_5e.selectorText=="."+this.options.headerTableClass){_5a=_5e.style["border-top-color"];_5b=parseInt(_5e.style["border-top-width"])/2;i=document.styleSheets.length;break;}}}str+="<caption style='height:"+_5b+"px;background-color:"+_5a+";'></caption>";}str+="<thead><tr></tr></thead>";}str+=this.getTableHtml(this.htmlInfo.head,"thead","th",this.options.headerTdClass);str+="<tbody id='"+this.id+"_body_tbody'></tbody>";str+="</table>";str+="</div>";str=str.wq_replaceAll("width=","or_wd=");return str;};$W._a.aX.prototype.getTableInfo=function(_5f,_60,_61){var _62=$W.extend({},_5f.attr);var _63=[];var _64=_5f.rowAttrArr||[{}];var _65=_5f.rowArr;_62.id=this.id+"_"+_60+"_tbody";_62.style="";for(var i=0;i<_65.length;i++){_64[i].role="row";_63.push([]);for(var j=0;j<_65[i].length;j++){var _68=$W.extend({},_65[i][j]);_68.role="gridcell";_68["class"]=_60+" "+_60+"_data";if(this.isIE6or7){var _69=parseInt(_68.colSpan||"1");var _6a=parseInt(_68.colIndex);if(_69>1){for(var k=1;k<_69;k++){if(this.hgap[_61+"_"+_6a]!=false){this.hgap[_61+"_"+(_6a+k)]=true;}}this.hgap[_61+"_"+_6a]=true;}else{this.hgap[_61+"_"+_6a]=false;}}var _6c=_68.textAlign;var _6d=_68.style;_6d=_6d+";text-align:"+(_6c||"center");_68.style=_6d;_63[i].push(_68);}}return {attr:_62,rowArr:_63,rowAttrArr:_64};};$W._a.aX.prototype.getBodyHtmlInfo=function(){var _6e=this.options.bodyTdClass;var _6f=this.options.bodyTrClass;var _70=this.getTableInfo(this.struct.body,_6e,_6f);var _71=_70.attr;var _72=_70.rowArr;var _73=_70.rowAttrArr;this.oneRowLength=_72.length;this.oneRowDataLength=0;this.tdIdList=[];this.bodyIdColIndexMap={};this.colMoveIndexMap={};var _74=0;var _75={};for(var i=0;i<_72.length;i++){_73[i].trIndex=i;this.oneRowDataLength+=_72[i].length;for(var j=0;j<_72[i].length;j++){var _78=_72[i][j];var _79=_78.style;var _7a=_79.split(";");if(_7a.length>0){var _7b=this.id+"_columnstyle_"+_74+"_";for(var k=0;k<_7a.length;k++){if(_7a[k].indexOf(":")>-1){try{var _7d=_7a[k].split(":")[0].wq_trim();var _7e=_7a[k].split(":")[1].wq_trim();this.setColumnStyle(_74,_7d,_7e);}catch(e){}break;}}}var _7f=this.options.adaptiveStyle||$W._N.getConfiguration("/WebSquare/gridView/adaptiveStyle/@value");if(this.options.adaptiveStyle=="none"){_7f="";}_7f=_78.adaptiveStyle||_7f;if(_78.adaptiveStyle=="none"){_7f="";}if(_7f){var _80=_7f.split(";");if(_80.length>0){for(var m=0;m<_80.length;m++){if(_80[m].indexOf(":")>-1){try{var _82=_80[m].split(":")[0].wq_trim();var _83=_80[m].split(":")[1].wq_trim();this.setAdaptiveColumnStyle(_74,_82,_83);}catch(e){}}}}}var _84=_78.inputType;if(_84=="textarea"){if(_78.displayType=="all"){_78.style+=";word-break:break-all;white-space:normal;";}}var _85=_78.id;if(_78.col_id==null){_78.col_id=_85;_78.id=this.id+"_"+_85;_78["@xml"].setAttribute("col_id",_85);_78["@xml"].setAttribute("id",this.id+"_"+_85);}else{_85=_78.col_id;}this._setCellInfo(_85,_78["@xml"]);this.bodyIdColIndexMap[_85]=_74;if(i==0){this.colMoveIndexMap[_85]=_74;}if(_75[_85]){var _86=$W._m.getMessage("E_comp_duplicated_Msg",_85)||"id["+_85+"] \uac00 \uc911\ubcf5\uc0ac\uc6a9\ub418\uc5c8\uc2b5\ub2c8\ub2e4. \uc18c\uc2a4\ucf54\ub4dc\ub97c \ud655\uc778\ud558\uc138\uc694.";$l(_86);}else{_75[_85]=_85;}this.tdIdList.push(_85);_74++;}}return {attr:_71,rowArr:_72,rowAttrArr:_73};};$W._a.aX.prototype.getHeaderHtmlInfo=function(){var _87=this.options.headerTdClass;var _88=this.options.headerTrClass;var _89=this.getTableInfo(this.struct.head,_87,_88);var _8a=_89.attr;var _8b=_89.rowArr;var _8c=_89.rowAttrArr;var _8d=[];var _8e=this.struct.head.rowArr;this.thIdList=[];_8a.id=this.id+"_head_table";_8a["class"]=this.options.headerTableClass;var _8f=/(?:^|;)\s*height\s*:\s*(\d*)px\s*(?:$|;)/i;var _90=_8f.exec(this.struct.head.attr.style);if(_90&&_90.length==2){this.headerHeight=parseInt(_90[1]);}_8a.style=this.options.hideHeader?"display:none":"";this.headCellInfoHash={};for(var i=0;i<_8b.length;i++){_8d.push([]);for(var j=0;j<_8b[i].length;j++){var _93=_8b[i][j];var _94=null;var _95=_93.inputType;var _96=_93.dataType;var _97=_93.value;if(typeof _97=="undefined"||_97==null){_97=_93.defaultValue;if(typeof _97=="undefined"||_97==null){_97="";}}if(_95=="checkbox"){_94="<input type='checkbox' style='border:0px solid blue;background-color:transprent;' />";}else{if(_95=="select"){var _98="";var _99="";if(this.options.chooseOption){_98=$W._G.getBoolean(this.options.useLocale)?this.getLocaleValue(this.options.chooseOptionLabel):this.options.chooseOptionLabel;}else{if(this.options.allOption){var _9a=$W._m.getMessage("Grid_all")||"-\uc804\uccb4-";_98=_9a;}else{var _9b=$W._B.serialize(_93["@xml"]);var _9c=(_9b.match(/label\s*>[^<]+<\//)||"").toString();if(_9c!==""){_98=_9c.slice(_9c.toString().indexOf(">")+1,-2);}}}_94="<div style='width:100%;height:20px;top:0px;left:0px;position:relative;background-color:#ffffff' class='w2selectbox "+this.options.headerTdClass+" "+this.options.headerTdClass+"_data'>"+"<span style='display:none'></span>"+"<table class='w2selectbox_table_main' cellSpacing='0' cellPadding='0'>"+"<tr class='w2selectbox_row w2selectbox_row_main'>"+"<td class='w2selectbox_col_label'>"+"<div class='w2selectbox_label'>"+_98+"</div></td>"+"<td class='w2selectbox_col_button'></td>"+"</tr></table></div>";}else{if(_95=="text"&&_96=="own"){_94="<input type='text' class='w2grid_head_input' style='width:95%; height:18px;' />";}else{var _9d=_93.localeRef;if(_9d!=null){_97=this.getLocaleValue(_9d);}else{if(_97==null){_97="";}}_94="<nobr style='padding-top:0px; padding-left:4px;padding-right:4px' >"+_97+"</nobr>";}}}_8d[i].push(_94);this.thIdList.push(_93.id);this.headCellInfoHash[_93.id]=_93["@xml"];this._setHeaderInfo(_93.id,_93["@xml"]);if(_93.col_id==null){_93.col_id=_93.id;}}}return {attr:_8a,rowArr:_8b,rowAttrArr:_8c,headerTdHtml:_8d};};$W._a.aX.prototype.getFooterHtmlInfo=function(){var _9e=this.options.footerTdClass;var _9f=this.options.footerTrClass;var _a0=this.getTableInfo(this.struct.foot,_9e,_9f);var _a1=_a0.attr;var _a2=_a0.rowArr;var _a3=_a0.rowAttrArr;var _a4=/(?:^|;)\s*height\s*:\s*(\d*)px\s*(?:$|;)/i;var _a5=_a4.exec(this.struct.foot.attr.style);if(_a5&&_a5.length==2){this.footerHeight=parseInt(_a5[1]);}return {attr:_a1,rowArr:_a2,rowAttrArr:_a3};};$W._a.aX.prototype.getSubtotalHtmlInfo=function(_a6){var _a7=this.options.subtotalTdClass;var _a8=this.options.subtotalTrClass;var _a9=this.getTableInfo(_a6,_a7,_a8);var _aa=_a9.attr;var _ab=_a9.rowArr;var _ac=_a9.rowAttrArr;for(var i=0;i<_ab.length;i++){_ac[i].trIndex=i;_ac[i].targetColumnID=_aa.targetColumnID;for(var j=0;j<_ab[i].length;j++){_ab[i][j]["class"]+=_ab[i][j]["class"]+" "+this.id+"_subtotal__column"+j;delete _ab[i][j].hidden;}}return {attr:_aa,rowArr:_ab,rowAttrArr:_ac};};$W._a.aX.prototype.getTableHtml=function(_af,_b0,_b1,_b2){var _b3=_af.attr;var _b4=_af.rowArr;var _b5=_af.rowAttrArr;var _b6=[];_b6.push("<"+_b0+this.getAttributesString(_b3)+">");var _b7="";if(_b4.length>=2){_b7=" rowSpan='"+_b4.length+"'";}for(var i=0;i<_b4.length;i++){if(_af==this.htmlInfo.head){_b6.push("<tr"+this.getAttributesString(_b5[i])+" class='gridHeaderStyle_"+i+"'"+">");}else{if(_af==this.htmlInfo.foot){_b6.push("<tr"+this.getAttributesString(_b5[i])+" class='gridFooterStyle_"+i+"'"+">");}else{_b6.push("<tr"+this.getAttributesString(_b5[i])+">");}}if(i==0){var _b9="";var _ba="";if(_af==this.htmlInfo.head){_b9=this.options.rowNumHeaderValue;_ba=this.options.rowStatusHeaderValue;}if(this.options.rowNumVisible){_b6.push("<"+_b1+_b7+" class='"+_b2+" "+_b2+"_rowNumber' value='"+_b9+"' colIndex='0' id='_headerRowNumber'></"+_b1+">");}if(this.options.rowStatusVisible){_b6.push("<"+_b1+_b7+" class='"+_b2+" "+_b2+"_rowStatus' value='"+_ba+"' colIndex='"+(this.options.rowNumVisible?1:0)+"' id='_headerRowStatus'></"+_b1+">");}}for(var j=0;j<_b4[i].length;j++){if((_b2===this.options.subtotalTdClass||_b2===this.options.footerTdClass)&&_b4[i][j].columnClass!=undefined){var _bc=_b4[i][j]["class"];_b4[i][j]["class"]=_b4[i][j].columnClass+" "+_b4[i][j]["class"];_b6.push("<"+_b1+this.getAttributesString(_b4[i][j])+">");_b4[i][j]["class"]=_bc;}else{_b6.push("<"+_b1+this.getAttributesString(_b4[i][j])+">");}if(_af.headerTdHtml&&_af.headerTdHtml[i][j]){_b6.push(_af.headerTdHtml[i][j]);}_b6.push("</"+_b1+">");}_b6.push("</tr>");}_b6.push("</"+_b0+">");return _b6.join("");};$W._a.aX.prototype.getGridHeaderFillerTable=function(_bd,_be,_bf,_c0,_c1){if(!this.options.headFiller){return "";}var _c2=[];var _c3="";if(this.options.hideHeader){_c3="display:none";}_c2.push("<table class='"+this.options.headerTableClass+"' style='z-index:-1;position:absolute;table-layout:fixed; border-collapse:collapse; border-spacing:0px; width:"+this.gridWidth+"px; '>");_c2.push("<tbody id='"+this.id+"_"+_be+"_tbody_tmp"+"' style='"+_c3+"' class='"+_c1+"'>");_c2.push("<tr class='"+_bf+"'>");_c2.push("<td style='' id='"+this.id+"_header_bg_td' class='"+_be+" "+_be+"_rowNumber'>&nbsp;</td>");_c2.push("</tr>");_c2.push("</tbody>");_c2.push("</table>");return _c2.join("");};$W._a.aX.prototype.getColGroup=function(id){return this.colGroupArr.join("").wq_replaceAll("colGroupID",id);};$W._a.aX.prototype.initializeLayoutEvents=function(){["WebSquare.uiplugin.layoutController.prototype.initializeLayoutEvents"];try{this.event.addListener2(this.getElementById(this.id+"_scrollX_right"),"onscroll",this.handleScrollX,this);this.event.addListener2(this.getElementById(this.id+"_scrollY_div"),"onscroll",this.handleScrollY,this);this.event.addListener2(this.render,"onmousewheel",this.handleWheel,this);if(this.options.groupbyZone){this.event.addListener2(this.getElementById(this.id+"_groupbyZone_div"),"onclick",this.handleGroupbyZoneClick,this);this.event.addListener2(this.getElementById(this.id+"_groupbyZone_div"),"onmousedown",this.handleChangeGroupDepth,this);}if(this.options.resize&&!$W._G.isMobile()){this.event.addListener(this.getElementById(this.id+"_head_table"),"onmousemove",this.event.bindAsEventListener(this,this.handleColumnResize));this.event.addListener(this.getElementById(this.id+"_head_table"),"onmousedown",this.event.bindAsEventListener(this,this.doColumnResize));this.event.addListener(document.documentElement,"onmouseup",this.event.bindAsEventListener(this,this.endColumnResize));if($W._G.isIE()&&$W._N.browserVersion()<=8){this.event.addListener(this.render,"onmousemove",this.event.bindAsEventListener(this,function(e){if(this.resizeStarted||this.columnMoveTarget!=null){$W._c.preventDefault(e);}}));}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aX.prototype.handleScrollX=function(e){["WebSquare.uiplugin.layoutController.handleScrollX"];try{if(typeof (CollectGarbage)=="function"){var _c7=$W._N.getConfiguration("/WebSquare/"+this.options.pluginName+"/collectGarbage/@value");if(_c7!="none"&&_c7!="false"&&_c7!="draw"){CollectGarbage();}}var _c8=$W._c.getTarget(e);if(_c8){if(!this._scrollXPrev){this._scrollXPrev={};}if(this._scrollXPrev.scrollLeft===_c8.scrollLeft&&this._scrollXPrev.scrollTop===_c8.scrollTop&&this._scrollXPrev.scrollWidth===_c8.scrollWidth&&this._scrollXPrev.scrollHeight===_c8.scrollHeight){this.scrollXPreventEndEdit=true;}this._scrollXPrev.scrollLeft=_c8.scrollLeft;this._scrollXPrev.scrollTop=_c8.scrollTop;this._scrollXPrev.scrollWidth=_c8.scrollWidth;this._scrollXPrev.scrollHeight=_c8.scrollHeight;}$W._N.clearTimer(this.id+"_completiveDrawData",true);$W._N.clearTimer(this.id+"_applyStyleOptions",true);if(this.editedCell!=null&&!this.scrollXPreventEndEdit){var _c9=this.editedCell.editRowIndex;var _ca=this._dataList.getColumnIndex(this.editedCell.id);var _cb=this.getColumnIndex(this.editedCell.id);var _cc=this._grid.getRealRowIndex(_c9);var _cd=this._dataList.dataArr[_cc*this._dataList.getColumnCount()+_ca];this.editedCell.handleEndEdit(e);var _ce=this._dataList.dataArr[_cc*this._dataList.getColumnCount()+_ca];if(_cd!=_ce){$W._c.fireEvent(this,"onviewchange",{"oldValue":_cd,"newValue":_ce,"rowIndex":_c9,"colIndex":_cb});}}this._handleScrollX();if(this.scrollXPreventEndEdit&&this.editedCell&&this.editedCell.setPosition){this.editedCell.setPosition();}this.scrollXPreventEndEdit=false;$W._c.fireEvent(this,"onscrollx",e);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aX.prototype._handleScrollX=function(){["WebSquare.uiplugin.layoutController._handleScrollX"];try{if(!this.body_table){this.head_table=this.getElementById(this.id+"_head_table");this.body_table=this.getElementById(this.id+"_body_table");if(this.hasFooter){this.foot_table=this.getElementById(this.id+"_foot_table");}this.scrollX_right=this.getElementById(this.id+"_scrollX_right");}if(typeof this.colGroup=="undefined"||this.colGroup==null){this.colGroup={};this.colGroup.bodyColList=this.body_table.getElementsByTagName("col");if(this.hasFooter){this.colGroup.footerColList=this.foot_table.getElementsByTagName("col");}else{this.colGroup.footerColList=null;}}var _cf=this.getFixedColumnLastIndex();var _d0=this.scrollX_right.scrollLeft;var max=this.gridWidth-_d0-this.fixedWidth-this.fixedWidthRight-1;var _d2=max;max=max>0?max:0;var _d3=(this.options.fixedRightColumn>0);if(!_d3){this.head_table.style.width=max+"px";if(this.isWebKit){var _d4=[];for(var i=this.defaultColCnt;i<this.hiddenList.length;i++){if(this.hiddenList[i]==true){_d4.push(i-this.defaultColCnt);}}var _d6=max-this.colGroup.bodyColList.length-_d4.length-1;if(_d6<0){_d6=0;}this.body_table.style.width=_d6+"px";}else{this.body_table.style.width=max+"px";}if(this.hasFooter){this.foot_table.style.width=max+"px";}}var _d7=[];var _d8=[];var _d9=0;var _da=-1;var _db=0;if(_d3||this.options.scrollByColumn||$W._G.isIE(8)){var _dc=parseInt(document.getElementById(this.id+"_scrollY_div").style.width,10)-1;var _dd=(this.resizeObj&&this.resizeObj.clientWidth)?this.resizeObj.clientWidth:this.render.clientWidth;_d9=(_dd-1)-this.fixedWidth-this.fixedWidthRight;if(_dc!=-1){_d9=_d9-_dc;}if(_d3){this.options.scrollByColumn=false;this.head_table.style.width=(_dd-1-_dc)+"px";this.body_table.style.width=(_dd-1-_dc)+"px";if(this.hasFooter){this.foot_table.style.width=(_dd-1-_dc)+"px";}}}var _de=this.getFixedRightColumnLastIndex();var _df=_d3;var _e0=_d0;var _e1=-1;for(var i=this.colWidthList.length-1;i>=_de;i--){this.colGroup.bodyColList[i].style.width=this.colWidthList[i]+"px";}for(var i=_de-1;i>=0;i--){var _e2=0;var _e3=this.colWidthList[i];if(this.hiddenList[i]){_e3=0;}if(_d3&&_df){if(max>_d9+_e3){max-=_e3;_e3=0;}else{var _e4=_e3;_e3=_e3-(max-_d9);max-=_e4;_df=false;_e1=i;}}else{if(max>_e3){max-=_e3;}else{if(max>0&&_d2<=_d9){_da=i;if(this.options.scrollByColumn){_e2=max;}}_e3=max;max=0;}if(i<_cf&&!this.hiddenList[i]){_e3=this.colWidthList[i];}}var _e5=0;var _e6=0;var _e7=0;if(this.isIE6or7&&_e3!=0){if(this.hgap[this.options.headerTrClass+"_"+i]==true){_e5=0;}else{_e5=1;}if(this.hgap[this.options.bodyTrClass+"_"+i]==true){_e6=0;}else{_e6=1;}if(this.hasFooter){if(this.hgap[this.options.footerTrClass+"_"+i]==true){_e7=0;}else{_e7=1;}}}if($W._G.isIE(8)&&this.defaultColCnt==0&&i==0&&_e3==0){_e3=1;if(_da>=0){_d7[_da]=_d7[_da]-1;this.colGroup.bodyColList[_da].style.width=_d7[_da]+"px";if(this.hasFooter){_d8[_da]=_d8[_da]-1;this.colGroup.footerColList[_da].style.width=_d8[_da]+"px";}}}if(this.options.scrollByColumn){var _e8=this.colWidthList[i];if(_e3==1&&$W._G.isIE(8)&&this.defaultColCnt==0&&i==0){_e8=1;}if(_e3==0){_e8=0;}if(_e2>0){_e8=_e2;}if(_e1===i){_e8=_db;}if(_e8==0||_e8==1||_e8==this.colWidthList[i]||_e2>0||_e1===i){this.colGroup.bodyColList[i].style.width=(_e8-_e6)+"px";_d7[i]=_e8-_e6;if(this.hasFooter){this.colGroup.footerColList[i].style.width=(_e8-_e7)+"px";_d8[i]=_e8-_e7;}}}else{this.colGroup.bodyColList[i].style.width=(_e3-_e6)+"px";_d7[i]=_e3-_e6;if(this.hasFooter){this.colGroup.footerColList[i].style.width=(_e3-_e7)+"px";_d8[i]=_e3-_e7;}}}this.redrawTable();this.setColIndexInfo(_d7,_d8);this._setGridBorder();if(this.groupbyZoneStatus.groupbyZoneRender||this.options.useFilterList){this.resizeGroupbyZone();this.resizeGridList();}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aX.prototype.redrawTable=function(){try{if(this.isWebKit){this.body_table.style.webkitTransform="rotateZ(0deg)";this.body_table.offsetHeight;this.body_table.style.webkitTransform="none";}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aX.prototype.setColIndexInfo=function(_e9,_ea){["WebSquare.uiplugin.layoutController.setColIndexInfo"];try{if(typeof this.colGroup=="undefined"||this.colGroup==null){this.colGroup={};this.colGroup.bodyColList=this.getElementById(this.id+"_body_table").getElementsByTagName("col");var _eb=this.getElementById(this.id+"_foot_table");if(_eb){this.colGroup.footerColList=_eb.getElementsByTagName("col");}else{this.colGroup.footerColList=null;}}this.colIndexInfo={};var _ec=this.getVisibleColRange(this.colGroup.bodyColList,_e9);var _ed=this.getVisibleTds(this.colIndexes.bodyColInfo,_ec);this.colIndexInfo.body={colInfo:this.colIndexes.bodyColInfo,visibleTds:_ed.visibleTds,invisibleTds:_ed.invisibleTds,visibilityArr:_ed.visibilityArr,firstCoveredColIndex:_ec.firstCoveredColIndex};if(this.isIE6or7){var _ee=this.getVisibleTds(this.colIndexes.headerColInfo,_ec);this.colIndexInfo.header={colInfo:this.colIndexes.headerColInfo,visibleTds:_ee.visibleTds,invisibleTds:_ee.invisibleTds,visibilityArr:_ee.visibilityArr,firstCoveredColIndex:_ec.firstCoveredColIndex};if(this.hasFooter){var _ef=this.getVisibleColRange(this.colGroup.footerColList,_ea);var _f0=this.getVisibleTds(this.colIndexes.footerColInfo,_ef);this.colIndexInfo.footer={colInfo:this.colIndexes.footerColInfo,visibleTds:_f0.visibleTds,invisibleTds:_f0.invisibleTds,visibilityArr:_f0.visibilityArr,firstCoveredColIndex:_ef.firstCoveredColIndex};}if(this.hasSubtotal){this.colIndexInfo.subtotal={};for(var _f1 in this.subtotalRowHash){var _f2=this.getVisibleTds(this.colIndexes.subtotalColInfo[_f1],_ec);this.colIndexInfo.subtotal[_f1]={colInfo:this.colIndexes.subtotalColInfo[_f1],visibleTds:_f2.visibleTds,invisibleTds:_f2.invisibleTds,visibilityArr:_f2.visibilityArr,firstCoveredColIndex:_ec.firstCoveredColIndex};}}}if(this.options.lazyDrawHiddenColumn){this.hideInvisibleTds();}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aX.prototype.hideInvisibleTds=(function(){var _f3=true;return function(){if(_f3){_f3=false;if(this.groupbyStatus.grouped){this.options.lazyDrawHiddenColumn=false;var _f4=$W._m.getMessage("Grid_warning6",this.id)||this.id+" groupby\uac00 \ud65c\uc131\ud654\ub418\uc5b4\uc11c lazyDrawHiddenColumn \uc18d\uc131\uc774 \ube44\ud65c\uc131\ud654 \ub418\uc5c8\uc2b5\ub2c8\ub2e4.";$l(_f4);return;}for(var i=this.defaultColCnt;i<this.colIndexes.bodyColInfo.rowSpanArr.length;i++){if(this.colIndexes.bodyColInfo.rowSpanArr[i]>=2){this.options.lazyDrawHiddenColumn=false;var _f6=$W._m.getMessage("Grid_warning7",this.id)||this.id+" : rowSpan\uc774 \uc788\uae30 \ub54c\ubb38\uc5d0 lazyDrawHiddenColumn \uc18d\uc131\uc774 \ube44\ud65c\uc131\ud654 \ub418\uc5c8\uc2b5\ub2c8\ub2e4.";$l(_f6);return;}}}var _f7=this.colIndexInfo.body.visibilityArr;var _f8=[];for(var i=0;i<this.drawedRowLength;i++){if(this.dataRowList[i].style.display=="none"){continue;}var _f9=0;var cnt=0;for(var j=this.defaultColCnt;j<_f7.length;j++){if(this.colIndexes.bodyColInfo.trIndexArr[j]>_f9){cnt=0;_f9++;}var _fc=parseInt((j-this.defaultColCnt)/this.columnOrder.length);var _fd=(j-this.defaultColCnt)%this.columnOrder.length;var _fe=this.columnOrder[_fd]+(_fc*this.columnOrder.length);var td=this.data_td_list[_fe+(i*this.oneRowDataLength)];var _100=this.colIndexes.bodyColInfo.colSpanArr[j]||1;if(_f7[j]){if(!this.initVisibilityArr[j]){this.drawCellData(i,i+this.rowIndex,_fe);this.applyCellStyleOptions(i+this.rowIndex,_fe);_f8[j]=true;}td.style.display="";if(_100+cnt>1){td.setAttribute("colSpan",_100+cnt);td.setAttribute("data-lazydrawtd","true");}else{td.removeAttribute("colSpan");td.removeAttribute("data-lazydrawtd");}cnt=0;}else{td.style.display="none";cnt+=_100;}}}for(var i=0;i<_f8.length;i++){if(_f8[i]){this.initVisibilityArr[i]=true;}}};})();$W._a.aX.prototype.getVisibleColRange=function(_101,_102){["WebSquare.uiplugin.layoutController.prototype.getVisibleColRange"];try{var _103=this.render.clientWidth;var _104=[];var _105=0;var _106=-1;var _107=-1;var len=_102?_102.length:_101.length;for(var i=0;i<len;i++){var _10a=_102?_102[i]:parseInt(_101[i].style.width);_105+=_10a;if(_105>_103){if(_106>=0){if(_10a<3){_104.push([_106,i]);}else{_104.push([_106,i+1]);}_107=i+1;_106=-1;}else{_104.push([i,i+1]);_107=i+1;}break;}if(_10a<3){if(_106!=-1){_104.push([_106,i]);_106=-1;}}else{if(_106==-1){_106=i;}}}if(_106!=-1&&_106<i){_104.push([_106,i]);}_104.firstCoveredColIndex=_107!==-1?_107:len;if(_107==-1){_107=len;}return _104;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aX.prototype.getVisibleTds=function(_10b,_10c){["WebSquare.uiplugin.layoutController.prototype.getVisibleTds"];try{var _10d=[];var _10e=[];var _10f=[];for(var i=0;i<_10b.colIndexArr.length;i++){var _111=_10b.colIndexArr[i];var _112=_10b.colSpanArr[i]||1;for(var j=0;j<_10c.length;j++){if((_10c[j][0]<=_111&&_111<_10c[j][1])||(_10c[j][0]<=_111+_112-1&&_111+_112-1<_10c[j][1])||(_111<=_10c[j][0]&&_10c[j][0]<_111+_112)||(_111<=_10c[j][1]-1&&_10c[j][1]-1<_111+_112)){_10d[_10d.length]=i;_10f[_10f.length]=true;break;}}if(j==_10c.length){_10e[_10e.length]=i;_10f[_10f.length]=false;}}return {visibleTds:_10d,invisibleTds:_10e,visibilityArr:_10f};}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aX.prototype._setGridBorder=function(){["WebSquare.uiplugin.layoutController.prototype._setGridBorder"];try{if($W._G.isIE(8)){if(this.defaultColCnt==0){var _114=this.colGroup.bodyColList[0].style.width;var _115=(_114=="1px"||_114=="0px")?"0px":"";if(!this.leftMostTds){this.leftMostTds=[];var _116=this.getElementById(this.id+"_head_table").getElementsByTagName("th");var _117=this.hasFooter?this.getElementById(this.id+"_foot_table").getElementsByTagName("td"):[];for(var i=0;i<_116.length;i++){if(_116[i].getAttribute("colIndex")==0){this.leftMostTds.push(_116[i]);}}for(var i=0;i<_117.length;i++){if(_117[i].getAttribute("colIndex")==0){this.leftMostTds.push(_117[i]);}}}for(var i=0;i<this.leftMostTds.length;i++){this.leftMostTds[i].style.borderLeftWidth=_115;this.leftMostTds[i].style.borderRightWidth=_115;}if(this.all_data_td_list.length>0){if(!this.leftMostIndexArr){this.leftMostIndexArr=[];for(var i=0;i<this.oneRowDataLength;i++){if(this.all_data_td_list[i].getAttribute("colIndex")==0){this.leftMostIndexArr.push(i);}}}for(var i=0;i<this.leftMostIndexArr.length;i++){for(j=0;j<this.drawedRowLength;j++){var td=this.all_data_td_list[this.leftMostIndexArr[i]+j*this.oneRowDataLength];td.style.borderLeftWidth=_115;td.style.borderRightWidth=_115;}}}if(this.hasSubtotal&&this.drawedSubtotal){for(var i=0;i<this.drawedSubtotal.length;i++){for(var j=0;j<this.drawedSubtotal[i].length;j++){var td=this.drawedSubtotal[i][j].cells[0];if(td.cellIndex==0){td.style.borderLeftWidth=_115;td.style.borderRightWidth=_115;}}}}}if(!this._setGridBorderNoRefresh){var _11b=this.getElementById(this.id+"_dataLayer");var _11c=_11b.style.display;var _11d=document.activeElement;_11b.style.display="none";_11b.offsetHeight;_11b.style.display=_11c;if(document.activeElement!=_11d&&this.hasClass(_11d,this.options.bodyTdClass)){_11d.focus();}}}if(this.isIE6or7){if(!this.colIndexInfo){this.setColIndexInfo();}if(this.colGroup){this._setBorderFolding(this.all_data_td_list,this.colIndexInfo.body,this.drawedRowLength);if(!this.headerTds){this.headerTds=this.getElementById(this.id+"_head_table").getElementsByTagName("th");}this._setBorderFolding(this.headerTds,this.colIndexInfo.header);}if(this.hasFooter){if(!this.footerTds){this.footerTds=this.getElementById(this.id+"_foot_table").getElementsByTagName("td");}this._setBorderFolding(this.footerTds,this.colIndexInfo.footer);}if(this.hasSubtotal){this._setSubtotalBorder();}if(!this._setGridBorderNoRefresh){var _11b=this.getElementById(this.id+"_dataLayer");var _11e=_11b.style.filter;var _11d=document.activeElement;_11b.style.filter="alpha(opacity=99)";_11b.style.filter=_11e;if(document.activeElement!=_11d&&this.hasClass(_11d,this.options.bodyTdClass)){_11d.focus();}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aX.prototype._setBorderFolding=function(_11f,_120,_121){["WebSquare.uiplugin.layoutController.prototype._setBorderFolding"];try{if(!_11f||_121==0){return;}var _121=_121||1;var _122=_120.firstCoveredColIndex;var _123=this.oneRowDataLength+this.defaultColCnt;for(var i=0,len=_120.visibilityArr.length;i<len;i++){var _125=_120.colInfo.colIndexArr[i];var _126=_120.visibilityArr[i];var _127=_11f[i].style.borderWidth==="0px";if(_121>1){_127=_127||_11f[i+_123].style.borderWidth==="0px";}if(_125<_122&&!_126&&!_127){for(var j=0;j<_121;j++){_11f[i+j*_123].style.borderWidth="0px";}}else{if((_125>=_122||_126)&&_127){for(var j=0;j<_121;j++){_11f[i+j*_123].style.borderWidth="";_11f[i+j*_123].style.borderStyle="";}}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aX.prototype._setSubtotalBorder=function(){["WebSquare.uiplugin.layoutController.prototype._setSubtotalBorder"];try{if(!this.drawedSubtotal){return;}var _129={};for(idx=0;idx<this.drawedSubtotal.length;idx++){var _12a=this.drawedSubtotal[idx];if(_129[_12a.targetID]){continue;}_129[_12a.targetID]=true;var _12b=this.colIndexInfo.subtotal[_12a.targetID];var _12c=_12b.firstCoveredColIndex;var col=0;for(var i=0;i<_12a.length;i++){var row=_12a[i];for(var j=0;j<row.cells.length;j++,col++){var _131=_12b.colInfo.colIndexArr[col];var _132=_12b.visibilityArr[col];var _133=row.cells[j].style.borderWidth==="0px";if(_131<_12c&&!_132&&!_133){for(var idx2=idx;idx2<this.drawedSubtotal.length;idx2++){if(this.drawedSubtotal[idx2].targetID==_12a.targetID){this.drawedSubtotal[idx2][i].cells[j].style.borderWidth="0px";}}}else{if((_131>=_12c||_132)&&_133){for(var idx2=idx;idx2<this.drawedSubtotal.length;idx2++){if(this.drawedSubtotal[idx2].targetID==_12a.targetID){this.drawedSubtotal[idx2][i].cells[j].style.borderWidth="";}}}}}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aX.prototype.handleWheel=function(e){["WebSquare.uiplugin.layoutController.handleWheel"];var _136=e.detail;var _137=e.wheelDelta;var _138=e.wheelDeltaY;var _139=e.wheelDeltaX;var _13a=this.options.wheelRows;var _13b=0;var _13c=navigator.userAgent.indexOf("Windows")!=-1||false;var _13d=navigator.userAgent.indexOf("Macintosh")!=-1||false;if(this.options.groupbyZone){var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match("w2grid_groupbyZone_scrollView")||it.match("w2grid_customFilter_scrollView")){$W._c.stopPropagation(e);return;}}}if($W._G.isChrome()){_13b=_137<0?_137*-1:_137;if(_13c){_13a=(_13b/120)*_13a;}else{if(_13d){_13a=(_13b/120)*_13a;}}}else{if($W._G.isSafari()){_13b=_137<0?_137*-1:_137;if(_13c){_13a=(_13b/120)*_13a;}else{if(_13d){_13a=(_13b/12)*_13a;}}}else{if($W._G.isFF()){_13b=_136<0?_136*-1:_136;if(_13c){_13a=(_13b/3)*_13a;}else{if(_13d){_13a=_13b*_13a;}}}else{if($W._G.isOpera()){_13b=_137<0?_137*-1:_137;if(_13c){_13a=(_13b/120)*_13a;}else{if(_13d){_13a=(_13b/160)*_13a;}}}else{if($W._G.isIEAllVersion("8 9 10 11")){_13b=_137<0?_137*-1:_137;_13a=(_13b/120)*_13a;}}}}}_13a=Math.floor(_13a);if(("wheelDeltaX" in e)&&Math.abs(_139)>Math.abs(_138)){var _13f=this.getElementById(this.id+"_scrollX_right");_13f.scrollLeft-=_139;$W._c.stopEvent(e);return;}var _140=this.getElementById(this.id+"_scrollY_div");this.scrollEvent=true;if(_137>0||_136<0){if(_140.scrollTop==0){if(this.options.wheelStop){$W._c.stopEvent(e);}return;}_140.scrollTop=this.oneRowScrollHeight*(this.rowIndex-_13a);}else{if(_137<0||_136>0){var _141=this.getElementById(this.id+"_scrollY_div");if(this.rowIndex<0||_141.clientHeight==0||_141.scrollTop==_141.scrollHeight-_141.clientHeight){if(this.options.wheelStop){$W._c.stopEvent(e);}return;}_140.scrollTop=this.oneRowScrollHeight*(this.rowIndex+_13a);}}$W._c.stopEvent(e);};$W._a.aX.prototype.handleColumnResize=function(e){["WebSquare.uiplugin.layoutController.prototype.handleColumnResize"];try{this.handleResizeLine(e);if(this.columnMoveTarget!=null){return;}var it=this.event.getTargetIterator(e,this.render);var _144=null;while(it.next()){var el=it.getElement();if(el.tagName=="TH"||el.tagName=="TD"){_144=el;}if(el.tagName=="NOBR"){_144=null;break;}}this.getElementById(this.id+"_head_table").style.cursor="";this.getElementById(this.id+"_head_table").cursor="";if(_144==null){return;}var _146=$W._c.getMouseX(e);var _147=$W._H.getAbsoluteLeft(_144);var _148=parseInt(_144.getAttribute("colSpan")||1,10);var _149=parseInt(_144.getAttribute("colIndex"),0);var _14a=_147;if(_146-_14a<10&&_149!=0){this.getElementById(this.id+"_head_table").style.cursor="col-resize";this.getElementById(this.id+"_head_table").cursor="col-resize";return;}for(var i=0;i<_148;i++){_14a+=parseInt(this.colGroup.bodyColList[_149+i].style.width);if(_14a-10<_146&&_146<_14a+10){this.getElementById(this.id+"_head_table").style.cursor="col-resize";this.getElementById(this.id+"_head_table").cursor="col-resize";return;}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aX.prototype.doColumnResize=function(e){["WebSquare.uiplugin.layoutController.prototype.doColumnResize"];try{var _14d=$W._c.getTarget(e);var it=this.event.getTargetIterator(e,this.render);var _14f=null;this.resize_colIndex=null;while(it.next()){if(it.match(this.options.headerTdClass)){_14f=it.getElement();}}if(_14f==null){return;}this.startResizeX=$W._c.getScreenX(e);if(this.getElementById(this.id+"_head_table").cursor=="col-resize"){$W._c.preventDefault(e);this.resizeStarted=true;var _150=$W._c.getMouseX(e);var _151=$W._H.getAbsoluteLeft(_14f);var _152=parseInt(_14f.getAttribute("colSpan")||1,10);var _153=_14f.getAttribute("header_id");var _154=this._getRealColIndex("head",_153)+this.defaultColCnt;if(_153=="_headerRowNumber"||_153=="_headerRowStatus"){_154=parseInt(_14f.getAttribute("colindex"),10);}var _155=_151;this.resizeColIndex=_154;if(_150-_155<10&&_154!=0){this.resizeColIndex--;}else{for(var i=0;i<_152;i++){_155+=parseInt(this.colGroup.bodyColList[_154+i].style.width);if(_155-10<_150&&_150<_155+10){this.resizeColIndex+=i;break;}}}}else{if(this.options.columnMove){var _153=_14f.getAttribute("header_id");var _157=null;var _158=this.htmlInfo.head.rowArr[0];var _159=true;if(parseInt(this.options.stopColumnMoveRow,10)!=0){for(var i=0;i<_158.length;i++){if(_158[i].id==_153){_159=false;break;}}}if(this.options.allColumnMove){for(var i=1;i<this.htmlInfo.head.rowArr.length;i++){if(parseInt(this.options.stopColumnMoveRow,10)==i){continue;}else{for(var j=0;j<this.htmlInfo.head.rowArr[i].length;j++){if(this.htmlInfo.head.rowArr[i][j].id==_153){_159=false;_157=_153;_153=this.htmlInfo.head.rowArr[0][j].id;break;}}}}}if(_159||this.colMoveBolockedHeaderObj[_153]){return;}this.resizeStarted=false;if(_153!="_headerRowNumber"&&_153!="_headerRowStatus"){if(_157!=null){this.realColumnMoveTarget=this.getHeaderIndex(_157);}this.columnMoveTarget=this.getHeaderIndex(_153);this.columnMoveTargetId=_153;this.getElementById(this.id+"_head_table").style.cursor="pointer";this.addClass("w2noselect");$W._G.emptySelection();}}else{if(this.options.groupbyZone){this.resizeStarted=false;var _153=_14f.getAttribute("header_id");if(_153!="_headerRowNumber"&&_153!="_headerRowStatus"){this.groupbyZoneStatus.clickedHeaderInfo={};this.groupbyZoneStatus.clickedHeaderInfo.index=this._getRealHeaderColIndex(_153);this.groupbyZoneStatus.clickedHeaderInfo.value=_14f.getAttribute("value");this.groupbyZoneStatus.clickedHeaderInfo.headerID=_153;if(this.groupbyStatus.sortIndexArr!=null&&this.groupbyStatus.sortOrderArr!=null){var _15b=false;var _15c={};_15c.render=_14f;_15c.parentRender=this.render.getElementsByTagName("div")[0];_15c.headerID=_14f.getAttribute("header_id");_15c.headerIndex=this.getHeaderIndex(_15c.headerID);_15c.dataIndex=this._getDataColIndex(this._getRealHeaderColIndex(_153));for(var i=0;i<this.groupbyStatus.sortIndexArr.length;i++){if(_15c.headerIndex==this.groupbyStatus.sortIndexArr[i]){_15b=true;break;}}if(_15b){if(this.groupbyFilterScrollView){this.toggleGroupbyFilterList(_15c);}else{this.makeCustomFilter(_15c);}}else{this.hideGroupbyFilterList();this.showGroupbyHeaderGhost(e,_153);}}else{this.showGroupbyHeaderGhost(e,_153);}this.getElementById(this.id+"_head_table").style.cursor="pointer";this.addClass("w2noselect");$W._G.emptySelection();}}}}this.handleResizeLine(e);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aX.prototype.endColumnResize=function(e){["WebSquare.uiplugin.layoutController.prototype.endColumnResize"];try{if(this.resizeStarted){this.endResizeX=$W._c.getScreenX(e);var _15e=this.resizeColIndex||0;while(this.hiddenList[_15e]==true){_15e--;if(_15e<0){break;}}if(_15e>=0){var _15f=this.colWidthList[_15e];var _160=_15f+this.endResizeX-this.startResizeX;_160=(_160<20)?20:_160;if(!this.options.autoFit&&this.options.rowNumStatusResize&&this.defaultColCnt>0&&(_15e==0||_15e==1)){this.setColumnWidth(_15e,_160,_15e);}else{this.setColumnWidth(_15e-this.defaultColCnt,_160);}}this.resizeStarted=false;this.columnMoveTarget=null;this.realColumnMoveTarget=null;this.handleResizeLine(e);this.getElementById(this.id+"_head_table").style.cursor="";$W._G.emptySelection();this.removeClass("w2noselect");var cols=this.getColCnt();for(var i=0;i<cols;i++){var _163=this.getHeaderIDArr(i);for(var j=0;j<_163.length;j++){var _165=_163[j];var td=this.getHeaderLayer(_165);var _167=td.getAttribute("useFilter");_167=$W._G.getBoolean(_167);if(td.offsetWidth>0&&_167){var _168=td.children[0];var _169=td.getAttribute("value");if(_169&&_169.length&&_168&&_168.tagName==="TABLE"){var _16a=_168.getElementsByTagName("nobr")[0];if(_16a){_16a.innerHTML=_169;for(var k=0;k<_169.length;k++){if(_168.offsetWidth>td.offsetWidth){_16a.innerHTML=_169.substr(0,_169.length-(k+1));}else{break;}}}}}}}}else{if(this.columnMoveTarget!=null){var _16c=$W._c.getTarget(e);var it=this.event.getTargetIterator(e,this.render);var _16e=null;while(it.next()){if(it.match(this.options.headerTdClass)){_16e=it.getElement();}}var _16f;var _170=this.columnMoveTarget;if(_16e!=null){var _165=_16e.getAttribute("header_id");var _171=this.htmlInfo.head.rowArr[0];var _172=true;for(var i=0;i<_171.length;i++){if(_171[i].id==_165){_172=false;break;}}if(this.options.allColumnMove){for(var i=1;i<this.htmlInfo.head.rowArr.length;i++){for(var j=0;j<this.htmlInfo.head.rowArr[i].length;j++){if(this.htmlInfo.head.rowArr[i][j].id==_165){_172=false;_165=this.htmlInfo.head.rowArr[0][j].id;break;}}}}if(!_172){_16f=this.getHeaderIndex(_165);}}else{_16f=this.resize_colIndex;}if(_170!=null&&_170!=_16f){this.moveColumn(_170,_16f);}this.resizeStarted=false;this.columnMoveTarget=null;this.realColumnMoveTarget=null;this.handleResizeLine(e);this.getElementById(this.id+"_head_table").style.cursor="";$W._G.emptySelection();this.removeClass("w2noselect");}else{if(this.groupbyZoneStatus.clickedHeaderInfo!=null){var it=this.event.getTargetIterator(e,this.render);var _173=null;while(it.next()){if(it.match("w2grid_groupbyZone")){_173=it.getElement();if(this.groupbyStatus.sortIndexArr==null){this.groupbyStatus.sortIndexArr=[];}if(this.groupbyStatus.sortOrderArr==null){this.groupbyStatus.sortOrderArr=[];}for(var i=0;i<this.groupbyStatus.sortIndexArr.length;i++){if(this.groupbyZoneStatus.clickedHeaderInfo.index==this.groupbyStatus.sortIndexArr[i]){this.groupbyZoneStatus.clickedHeaderInfo=null;this.resizeStarted=false;return;}}if(this.options.groupbyMaxCount!=-1){if(this.options.groupbyMaxCount<=this.groupbyStatus.sortIndexArr.length){$W.logger.printLog("groupby max column count has been exceeded.["+this.id+"]");this.groupbyZoneStatus.clickedHeaderInfo=null;this.resizeStarted=false;return;}}this.groupbyStatus.sortIndexArr.push(this.groupbyZoneStatus.clickedHeaderInfo.index);this.groupbyStatus.sortOrderArr.push(1);var _174={};_174.sortIndex=this.groupbyStatus.sortIndexArr;_174.sortOrder=this.groupbyStatus.sortOrderArr;if(this.groupbyStatus.filter!=null){_174.filter={};for(var _175 in this.groupbyStatus.filter){if(this.getColumnIndex(_175)!=undefined){_174.filter[_175]=this.groupbyStatus.filter[_175];}}}var _176=$W._c.fireEvent(this,"ongroupby",_174);if(_176===false){var _177=this.getColCnt()+this.defaultColCnt;_174.rowNumHeader={colSpan:_177,inputType:"expression",expression:" toggle() + depthStr() + ' [ ' + count() + ' \uac74 ] ' ",align:"left"};_174.footerVisible=false;_174.rowNumFooter={colSpan:_177};this._groupbyFromUI(_174);}if(this.groupbyFilterScrollView){this.hideGroupbyFilterList();}break;}}this.groupbyZoneStatus.clickedHeaderInfo=null;this.resizeStarted=false;this.handleResizeLine(e);this.getElementById(this.id+"_head_table").style.cursor="";$W._G.emptySelection();this.removeClass("w2noselect");}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aX.prototype.handleResizeLine=function(e){["WebSquare.uiplugin.layoutController.prototype.handleResizeLine"];try{var _179=this.getElementById(this.id+"_resize_line");if(!this.resize_ghost){this.resize_ghost=document.createElement("div");this.resize_ghost.className="w2grid_columnMove_ghost";this.resize_ghost.style.display="none";document.body.appendChild(this.resize_ghost);this.resize_arrow=document.createElement("div");this.resize_arrow.className="w2grid_columnMove_arrow";this.resize_arrow.style.display="none";document.body.appendChild(this.resize_arrow);}if(this.resizeStarted){_179.style.cssText="position:absolute;top:10px; bottom:0px;border:0px dashed #222222; border-left-width:1px;";_179.style.display="block";_179.style.zIndex=100;_179.style.top=0;_179.style.height=this.render.offsetHeight+"px";if(this.getElementById(this.id+"foot_table")){_179.style.height=(this.render.offsetHeight-this.getElementById(this.id+"_foot_table").offsetHeight-this.getElementById(this.id+"_scrollX_div").offsetHeight)+"px";}_179.style.left=($W._c.getMouseX(e)-$W._H.getAbsoluteLeft(this.render))+"px";this.resize_ghost.style.display="none";}else{if(this.columnMoveTarget!=null){var _17a=$W._c.getTarget(e);var it=this.event.getTargetIterator(e,this.render);var _17c=null;while(it.next()){if(it.match(this.options.headerTdClass)){_17c=it.getElement();}}if(_17c!=null){var _17d=this.columnMoveTargetId;var _17e=this.getHeaderIndex(_17d);var _17f=_17c.getAttribute("header_id");var _180=this.getHeaderIndex(_17f);var _181=this._getRealColIndex("head",_17f);var _182=this.htmlInfo.head.rowArr[0];var _183=true;for(var i=0;i<_182.length;i++){if(_182[i].id==_17f){_183=false;break;}}if(this.options.allColumnMove){for(var i=1;i<this.htmlInfo.head.rowArr.length;i++){for(var j=0;j<this.htmlInfo.head.rowArr[i].length;j++){if(this.htmlInfo.head.rowArr[i][j].id==_17f){_183=false;_17f=this.htmlInfo.head.rowArr[0][j].id;_180=this.getHeaderIndex(_17f);_181=this._getRealColIndex("head",_17f);break;}}}}if(_183){return;}if(_17f=="_headerRowNumber"||_17f=="_headerRowStatus"||_17e==_180){_179.style.display="none";this.resize_ghost.style.display="none";this.resize_arrow.style.display="none";}else{this.resize_colIndex=_180;var _186=null;if(this.colMoveBolockedHeaderObj[_17f]){return;}else{for(var i=0;i<this.htmlInfo.body.rowArr.length;i++){for(var j=0;j<this.htmlInfo.body.rowArr[i].length;j++){if(this.htmlInfo.body.rowArr[i][j]["@col"]==_181){_186=this.bodyIdColIndexMap[this.htmlInfo.body.rowArr[i][j]["col_id"]];break;}}if(_186!==null){break;}}}var _187=this.getElementById(this.id+"_head_table");var _188=this.getDomList("head_tds","th",this.getElementById(this.id+"_head_table"));var _189=$W._H.getAbsoluteTop(this.render);var _18a=$W._H.getAbsoluteLeft(this.render);var _18b=_188[_181+this.defaultColCnt];var _18c=_18b.offsetLeft;var _18d=_18b.offsetWidth;var _18e=_18c+(_17e<_180?_18d:0);if(this.realColumnMoveTarget!=null){this.resize_ghost.innerHTML=_188[this.realColumnMoveTarget+this.defaultColCnt].innerHTML;}else{this.resize_ghost.innerHTML=_188[this.columnMoveTarget+this.defaultColCnt].innerHTML;}this.resize_ghost.style.display="block";this.resize_ghost.style.top=(_189+_188[this.columnMoveTarget].offsetHeight+5)+"px";this.resize_ghost.style.left=(_18a+_18e+5)+"px";this.resize_arrow.style.display="block";this.resize_arrow.style.top=(_189-this.resize_arrow.offsetHeight)+"px";this.resize_arrow.style.left=(_18a+_18e-parseInt(this.resize_arrow.offsetWidth/2,10)+1)+"px";_179.style.display="block";_179.style.zIndex=9999;_179.style.border="1px solid #3a3f44";_179.style.top=0;_179.style.left=_18e+"px";_179.style.height=this.render.offsetHeight+"px";if(this.getElementById(this.id+"foot_table")){_179.style.height=(this.render.offsetHeight-this.getElementById(this.id+"_foot_table").offsetHeight-this.getElementById(this.id+"_scrollX_div").offsetHeight)+"px";}$W._G.emptySelection();}}}else{_179.style.display="none";this.resize_ghost.style.display="none";this.resize_arrow.style.display="none";}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aX.prototype._setColumnWidth=function(_18f,_190){["WebSquare.uiplugin.layoutController.prototype._setColumnWidth"];try{this.autoFitColWidthList=null;if(this.hiddenList[_18f]){this.colWidthList[_18f]=_190;}else{var _191=(isNaN(this.colWidthList[_18f]))?0:this.colWidthList[_18f];this.colWidthList[_18f]=_190;this.gridWidth+=(_190-_191);this.arrangeOverflowXScroll();this.setOverflowX();this.handleScrollX();var _192=_18f-this.defaultColCnt;if(_192>=0){var _193=this.getCellInfo(_192);if(_193.options.inputType=="textarea"){this.drawColumnData(_192);}else{if((_193.options.inputType=="text"||_193.options.inputType=="secret"||_193.options.inputType=="calendar")&&_193.options.embeddedInput){var _194=0;for(var i=0;i<=_192;i++){_193=this.getCellInfo(i);_194+=(_193.options.colSpan-0);if(_194-1==_192){_192=i;break;}}if(this.embeddedWidthObj[_192]){this.embeddedWidthObj[_192]["isChanged"]=true;}this.drawColumnData(_192);}}}this.handlerResize_drawInitializer();}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aX.prototype.setColumnVisible=function(_196,_197){["WebSquare.uiplugin.layoutController.prototype.setColumnVisible"];var _197=$W._G.getBoolean(_197);var _198=this.getCellInfo(_196);var _199=this._getRealColIndex("body",_198.options.col_id)+this.defaultColCnt;for(var i=0;i<_198.options.colSpan;i++){this.hiddenList[_199+i]=!_197;}this.gridWidth=0;for(var i=0;i<this.colWidthList.length;i++){if(!this.hiddenList[i]){this.gridWidth+=this.colWidthList[i];}}if(this.options.hiddenClass!=""||_198.options.hiddenClass!=""){this.drawData(this.rowIndex,0);var _19b=this.getColumnID(_196);var _19c=this.options.hiddenClass;if(_198.options.hiddenClass!=""){_19c=_198.options.hiddenClass;}var th=(this.bodyToHeaderRelation[_19b]!=undefined)?this.getHeaderLayer(this.bodyToHeaderRelation[_19b]):null;if(!_197){if(th!=undefined&&!this.hasClass(th,_19c)){this.addClass(th,_19c);}}else{if(th!=undefined&&this.hasClass(th,_19c)){this.removeClass(th,_19c);}}}if(this.options.lazyDrawHiddenColumn&&_197&&this.initVisibilityArr&&!this.initVisibilityArr[_199]){var _19e=this.colIndexInfo.body.colInfo.colIndexArr;for(var i=0;i<_19e.length;i++){if(_19e[i]==_199){for(var j=0;j<=this.lastIndex;j++){this.drawCellData(j,j+this.rowIndex,i-this.defaultColCnt);this.applyCellStyleOptions(j+this.rowIndex,i-this.defaultColCnt);}}}this.initVisibilityArr[_199]=true;}if(this.options.adaptive=="crosstab"&&this.hasClass("w2grid_adaptive_crosstab")){this.setAdaptiveColumnVisible(_199,_197);}$W._N.setTimer(function(){this.arrangeOverflowXScroll();this.setOverflowX();this.handleScrollX();if(this.options.autoFit||this.autofitColumn){this._setAutoFit();}else{var cols=this.getColCnt();for(var i=0;i<cols;i++){var _1a2=this.getHeaderIDArr(i);for(var j=0;j<_1a2.length;j++){var _1a4=_1a2[j];var td=this.getHeaderLayer(_1a4);var _1a6=td.getAttribute("useFilter");_1a6=$W._G.getBoolean(_1a6);if(td.offsetWidth>0&&_1a6){var _1a7=td.children[0];var _1a8=td.getAttribute("value");if(_1a8&&_1a8.length&&_1a7&&_1a7.tagName==="TABLE"){var _1a9=_1a7.getElementsByTagName("nobr")[0];if(_1a9){_1a9.innerHTML=_1a8;for(var k=0;k<_1a8.length;k++){if(_1a7.offsetWidth>td.offsetWidth){_1a9.innerHTML=_1a8.substr(0,_1a8.length-(k+1));}else{break;}}}}}}}}},{key:this.id+"_setColumnVisible",caller:this});};$W._a.aX.prototype.setScrollLeft=function(left){["WebSquare.uiplugin.layoutController.prototype.setScrollLeft"];left=parseInt(left,10);try{var _1ac=this.getElementById(this.id+"_scrollX_right");_1ac.scrollLeft=left;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aX.prototype.setScrollTop=function(top){["WebSquare.uiplugin.layoutController.prototype.setScrollTop"];top=parseInt(top,10);try{this.scrollEvent=true;var _1ae=this.getElementById(this.id+"_scrollY_div");_1ae.scrollTop=top;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aX.prototype.getScrollLeft=function(){["WebSquare.uiplugin.layoutController.prototype.getScrollLeft"];try{var _1af=this.getElementById(this.id+"_scrollX_right");return _1af.scrollLeft;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aX.prototype.getScrollTop=function(){["WebSquare.uiplugin.layoutController.prototype.getScrollTop"];try{var _1b0=this.getElementById(this.id+"_scrollY_div");return _1b0.scrollTop;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aX.prototype.setGridStyle=function(doc){if(doc.nodeType==9){doc=doc.documentElement;}var _1b2=this.getParent();if(_1b2&&_1b2.parentControl&&_1b2.parentControl.options.pluginName=="wframe"){_1b2=_1b2.parentControl;}var _1b3=this.scope_obj;var _1b4=this.parentFrame;this.remove();this["__removed_object__"]=true;var _1b5=$W.controlFactory.create(null,null,doc,_1b3,_1b4);_1b5.writeTo(_1b2);_1b5.activate();_1b5.onComplete();};$W._a.aX.prototype.getGridStyle=function(){["WebSquare.uiplugin.grid.prototype.getGridStyle"];try{return $W._B.serialize(this.element);}catch(e){$W.exception.printStackTrace(e);}};$W._a.aX.prototype.getCurrentGridStyle=function(){["WebSquare.uiplugin.grid.prototype.getCurrentGridStyle"];try{var _1b6=this.element.cloneNode(true);_1b6.setAttribute("columnOrder",this.getColumnOrder());_1b6.setAttribute("fixedColumn",this.options.fixedColumn);_1b6.setAttribute("fixedRightColumn",this.options.fixedRightColumn);var _1b7=_1b6.childNodes;for(var i=0;i<_1b7.length;i++){if(_1b7[i].tagName=="w2:header"){var _1b9=_1b7[i].childNodes;for(var rows=0;rows<_1b9.length;rows++){if(_1b9[rows].tagName==="w2:row"){var _1bb=_1b9[rows].getElementsByTagName("column");var ep=0;var _1bd={};for(var j=0;j<_1bb.length;j++){_1bd[j+ep]=j;var _1bf=parseInt(_1bb[j].getAttribute("colSpan"),10);if(_1bf>1){ep+=_1bf-1;}}var ep2=0;for(var j=0;j<_1bb.length;j++){var _1c1=_1bb[_1bd[[this.columnOrder[j+ep2]]]];var _1bf=parseInt(_1c1.getAttribute("colSpan"),10);if(_1bf>1){ep2+=_1bf-1;}_1c1.setAttribute("width",this.colWidthList[j+this.defaultColCnt+ep2]);_1c1.setAttribute("hidden",this.hiddenList[j+this.defaultColCnt+ep2]);}}}}if(_1b7[i].tagName=="w2:gBody"){var _1b9=_1b7[i].childNodes;for(var rows=0;rows<_1b9.length;rows++){if(_1b9[rows].tagName==="w2:row"){var _1c2=_1b9[rows].getElementsByTagName("column");var ep=0;var _1bd={};for(var j=0;j<_1c2.length;j++){_1bd[j+ep]=j;var _1bf=parseInt(_1c2[j].getAttribute("colSpan"),10);if(_1bf>1){ep+=_1bf-1;}}var ep2=0;for(var j=0;j<_1c2.length;j++){var _1c1=_1c2[_1bd[[this.columnOrder[j+ep2]]]];var _1bf=parseInt(_1c1.getAttribute("colSpan"),10);if(_1bf>1){ep2+=_1bf-1;}_1c1.setAttribute("width",this.colWidthList[j+this.defaultColCnt+ep2]);_1c1.setAttribute("hidden",this.hiddenList[j+this.defaultColCnt+ep2]);var _1c3=_1c1.getAttribute("col_id");if(_1c3){_1c1.setAttribute("id",_1c3);_1c1.removeAttribute("col_id");}}}}}}return $W._B.serialize(_1b6);}catch(e){$W.exception.printStackTrace(e);}};$W._a.aX.prototype.setTableStruct=function(){this.headerXml=$W._B.getElementsByTagName(this.element,"header",$W._N._XML_NAMESPACE.W2)[0];this.bodyXml=$W._B.getElementsByTagName(this.element,"gBody",$W._N._XML_NAMESPACE.W2)[0];this.struct={head:this.xml2JSON(this.headerXml),body:this.xml2JSON(this.bodyXml)};this.updateStruct(this.struct.head.rowArr);this.updateStruct(this.struct.body.rowArr);this.changeRowID(this.struct.head.rowAttrArr);this.changeRowID(this.struct.body.rowAttrArr);this.footerXml=$W._B.getElementsByTagName(this.element,"footer",$W._N._XML_NAMESPACE.W2)[0];if(this.footerXml){this.hasFooter=true;this.struct.foot=this.xml2JSON(this.footerXml);this.updateStruct(this.struct.foot.rowArr);}this.subtotalXmlArr=$W._B.getElementsByTagName(this.element,"subTotal",$W._N._XML_NAMESPACE.W2);if(this.subtotalXmlArr.length>0){this.hasSubtotal=true;this.drawedSubtotal=[];this.struct.subtotalArr=[];for(var i=0;i<this.subtotalXmlArr.length;i++){var obj=this.xml2JSON(this.subtotalXmlArr[i]);this.struct.subtotalArr.push(obj);this.struct.subtotalArr[obj.attr.id]=obj;this.updateStruct(obj.rowArr);}}this.setCss();this.setColArr();this.htmlInfo={head:this.getHeaderHtmlInfo(),body:this.getBodyHtmlInfo()};if(this.footerXml){this.htmlInfo.foot=this.getFooterHtmlInfo();}if(this.subtotalXmlArr.length>0){this.htmlInfo.subtotalArr=[];this.subtotalStrList={};for(var i=0;i<this.struct.subtotalArr.length;i++){var obj=this.getSubtotalHtmlInfo(this.struct.subtotalArr[i]);this.htmlInfo.subtotalArr.push(obj);this.htmlInfo.subtotalArr[obj.attr.id]=obj;this.subtotalStrList[obj.attr.targetColumnID]=obj;}}this.captionXml=$W._B.getElementsByTagName(this.element,"caption",$W._N._XML_NAMESPACE.W2)[0];var _1c6=this.getColCnt();this.columnOrder=[];for(var i=0;i<_1c6;i++){this.columnOrder.push(i);}};$W._a.aX.prototype.updateStruct=function(_1c7){var cnt=0;var map=[];var _1ca=this.getColCnt();for(var i=0;i<_1c7.length;i++){var row=[];for(var j=0;j<_1ca;j++){row.push(null);}map.push(row);}for(var i=0;i<_1c7.length;i++){for(var j=0;j<_1c7[i].length;j++){var col;for(col=0;col<map[i].length;col++){if(map[i][col]===null){break;}}var cell=_1c7[i][j];cell["@col"]=col;var _1d0=cell["colSpan"]||cell["colspan"]||1;var _1d1=cell["rowSpan"]||cell["rowspan"]||1;for(var k=0;k<_1d1;k++){for(var l=0;l<_1d0;l++){map[i+k][col+l]=cnt;}}cnt++;}}};$W._a.aX.prototype.changeRowID=function(_1d4){for(var i=0;i<_1d4.length;i++){var _1d6=_1d4[i];if(_1d6.id!=null){_1d6["data-tr-id"]=_1d6.id;delete _1d6.id;}}};$W._a.aX.prototype._getRealColIndex=function(type,id){for(var i=0;i<this.htmlInfo[type].rowArr.length;i++){for(var j=0;j<this.htmlInfo[type].rowArr[i].length;j++){if(this.htmlInfo[type].rowArr[i][j]["col_id"]==id){return this.htmlInfo[type].rowArr[i][j]["@col"];}}}return null;};$W._a.aX.prototype._getRealHeaderColIndex=function(id){var i=0;var j=0;var _1de=false;var row=0;var col=0;for(i=0;i<this.htmlInfo["head"].rowArr.length;i++){for(j=0;j<this.htmlInfo["head"].rowArr[i].length;j++){if(this.htmlInfo["head"].rowArr[i][j]["id"]==id){_1de=true;row=i;col=j;break;}}if(_1de){break;}}return col+row*this.getColCnt();};$W._a.aX.prototype._getDataColIndex=function(_1e1){var i=0;var j=0;var _1e4=false;var _1e5=0;var _1e6=0;for(i=0;i<this.htmlInfo["body"].rowArr.length;i++){for(j=0;j<this.htmlInfo["body"].rowArr[i].length;j++){if(_1e5==_1e1){_1e4=true;var _1e7=this.htmlInfo["body"].rowArr[i][j].col_id;_1e6=this._dataList.getColumnIndex(_1e7);break;}_1e5++;}if(_1e4){break;}}return _1e6;};$W._a.aX.prototype._moveColumn=function(_1e8,_1e9,_1ea,_1eb,_1ec,_1ed){var _1e9=_1e9||"td";var _1ee=[];for(var i=0;i<_1e8[_1ea].childNodes.length;i++){if(_1e8[_1ea].childNodes[i].nodeName.toLowerCase()==_1e9){_1ee.push(_1e8[_1ea].childNodes[i]);}}var _1f0=_1ee[_1eb];_1f0.parentNode.removeChild(_1f0);var _1f1=[];for(var i=0;i<_1e8[_1ea].childNodes.length;i++){if(_1e8[_1ea].childNodes[i].nodeName.toLowerCase()==_1e9){_1f1.push(_1e8[_1ea].childNodes[i]);}}if(_1ed<_1f1.length){var toTd=_1f1[_1ed];toTd.parentNode.insertBefore(_1f0,toTd);}else{_1e8[_1ec].appendChild(_1f0);}};$W._a.aX.prototype.moveBodyColumn=function(_1f3,_1f4,_1f5,_1f6){var tmp=this.htmlInfo.body.rowArr[_1f3].splice(_1f4,1);this.htmlInfo.body.rowArr[_1f5].splice(_1f6,0,tmp[0]);this.updateStruct(this.htmlInfo.body.rowArr);_1f4+=_1f3==0?this.defaultColCnt:0;_1f6+=_1f5==0?this.defaultColCnt:0;var _1f8=this.getElementById(this.id+"_body_tbody");for(var i=0;i<this.drawedRowLength;i++){var _1fa=[];for(var j=0;j<this.oneRowLength;j++){_1fa.push(_1f8.rows[i*this.oneRowLength+j]);}this._moveColumn(_1fa,"td",_1f3,_1f4,_1f5,_1f6);}};$W._a.aX.prototype.moveHeadColumn=function(_1fc,_1fd,_1fe,_1ff){var tmp=this.htmlInfo.head.rowArr[_1fc].splice(_1fd,1);this.htmlInfo.head.rowArr[_1fe].splice(_1ff,0,tmp[0]);this.updateStruct(this.htmlInfo.head.rowArr);_1fd+=_1fc==0?this.defaultColCnt:0;_1ff+=_1fe==0?this.defaultColCnt:0;var _201=this.getElementById(this.id+"_head_table");this._moveColumn(_201.rows,"th",_1fc,_1fd,_1fe,_1ff);};$W._a.aX.prototype._moveFooterColumn=function(_202,_203,_204,_205){var tmp=this.htmlInfo.foot.rowArr[_202].splice(_203,1);this.htmlInfo.foot.rowArr[_204].splice(_205,0,tmp[0]);this.updateStruct(this.htmlInfo.foot.rowArr);_203+=_202==0?this.defaultColCnt:0;_205+=_204==0?this.defaultColCnt:0;var _207=document.getElementById(this.id+"_foot_table").getElementsByTagName("tbody")[0];this._moveColumn(_207.rows,"td",_202,_203,_204,_205);};$W._a.aX.prototype.moveFooterColumn=function(_208,_209){["WebSquare.uiplugin.layoutController.prototype.moveFooterColumn"];try{var _20a=parseInt(_208,10);var _20b;var _20c;var _20d=[];if(typeof _208==="string"&&isNaN(_20a)){_20c="id";_20b=_208;}else{_20c="@col";_20b=this.colIndexes.footerColInfo.colIndexArr[_20a+this.defaultColCnt]-this.defaultColCnt;}for(var i=0;i<this.htmlInfo.foot.rowArr.length;i++){for(var j=0;j<this.htmlInfo.foot.rowArr[i].length;j++){if(this.htmlInfo.foot.rowArr[i][j][_20c]==_20b){_20d.push({row:i,col:j});}}}var _210=parseInt(_209,10);var _211;var _212;var _213=[];if(typeof _209==="string"&&isNaN(_210)){_212="id";_211=_209;}else{_212="@col";_211=this.colIndexes.footerColInfo.colIndexArr[_210+this.defaultColCnt]-this.defaultColCnt;}for(var i=0;i<_20d.length;i++){var _214=null;for(var j=0;j<this.htmlInfo.foot.rowArr[_20d[i].row].length;j++){if(this.htmlInfo.foot.rowArr[_20d[i].row][j][_212]==_211){_214=j;break;}}if(_214!==null){this._moveFooterColumn(_20d[i].row,_20d[i].col,_20d[i].row,_214);}else{this._moveFooterColumn(_20d[i].row,_20d[i].col,_20d[i].row,_210);}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aX.prototype.moveColumn=function(_215,_216){if(_215==_216){return;}var _217=this.getHeaderID(_215);var _218=this._getRealColIndex("head",_217)+this.defaultColCnt;var _219=this.headerToBodyRelation[_217];if(!_219||this.colMoveBolockedHeaderObj[_217]){return;}var _21a=this.colMoveIndexMap[_219];var _21b=this._getRealColIndex("body",_219)+this.defaultColCnt;var _21c=this.getHeaderID(_216);var _21d=this.headerToBodyRelation[_21c];var _21e;if(!_21d||this.colMoveBolockedHeaderObj[_21c]){return;}var _21f=this._getRealColIndex("head",_21c)+this.defaultColCnt;var _220=this.colMoveIndexMap[_21d];var _221=this.colIndexes.bodyColInfo.colIndexArr[_220+this.defaultColCnt];var ret=$W._c.fireEvent(this,"onbeforecolumnmove",{"startColumnID":_219,"startColumnIndex":_21a,"endColumnID":_21d,"endColumnIndex":_220});if(ret===false){return false;}var _223=[];var _224=_21b-this.defaultColCnt;for(var i=0;i<this.htmlInfo.body.rowArr.length;i++){for(var j=0;j<this.htmlInfo.body.rowArr[i].length;j++){if(this.htmlInfo.body.rowArr[i][j]["@col"]==_224){_223.push({row:i,col:j});}}}var _227=_221-this.defaultColCnt;for(var i=0;i<_223.length;i++){var _228=null;for(var j=0;j<this.htmlInfo.body.rowArr[_223[i].row].length;j++){if(this.htmlInfo.body.rowArr[_223[i].row][j]["@col"]==_227){_228=j;break;}}if(_228!==null){this.moveBodyColumn(_223[i].row,_223[i].col,_223[i].row,_228);}else{this.moveBodyColumn(_223[i].row,_223[i].col,_223[i].row,_220);}}var _223=[];var _229=_218-this.defaultColCnt;for(var i=0;i<this.htmlInfo.head.rowArr.length;i++){for(var j=0;j<this.htmlInfo.head.rowArr[i].length;j++){if(this.htmlInfo.head.rowArr[i][j]["@col"]==_229){_223.push({row:i,col:j});}}}var _22a=_21f-this.defaultColCnt;for(var i=0;i<_223.length;i++){var _228=null;for(var j=0;j<this.htmlInfo.head.rowArr[_223[i].row].length;j++){if(this.htmlInfo.head.rowArr[_223[i].row][j]["@col"]==_22a){_228=j;break;}}if(_228!==null){this.moveHeadColumn(_223[i].row,_223[i].col,_223[i].row,_228);}else{this.moveHeadColumn(_223[i].row,_223[i].col,_223[i].row,_216);}}if(this.options.columnMoveWithFooter){this.moveFooterColumn(_215,_216);}var _22b=function(arr,from,to){var tmp=arr.splice(from,1);arr.splice(to,0,tmp[0]);};if(this.initVisibilityArr!=undefined){for(var i=0;i<this.htmlInfo.body.rowArr.length;i++){_22b(this.initVisibilityArr,_21b+i*this.getColCnt(),_221+i*this.getColCnt());}}_22b(this.columnOrder,_21b-this.defaultColCnt,_221-this.defaultColCnt);_22b(this.colIndexInfo.body.colInfo.colIndexMatch,_21b,_221);_22b(this.colWidthList,_21b,_221);_22b(this.hiddenList,_218,_21f);for(var id in this.colMoveIndexMap){if(this.colMoveIndexMap[id]==_21a){this.colMoveIndexMap[id]=_220;}else{if(_21a<_220){if(_21a<this.colMoveIndexMap[id]&&this.colMoveIndexMap[id]<=_220){this.colMoveIndexMap[id]-=1;}}else{if(_21a>_220){if(_21a>this.colMoveIndexMap[id]&&this.colMoveIndexMap[id]>=_220){this.colMoveIndexMap[id]+=1;}}}}}this.arrangeOverflowXScroll();this._handleScrollX();$W._c.fireEvent(this,"onaftercolumnmove",{"startColumnID":_219,"startColumnIndex":_21a,"endColumnID":_21d,"endColumnIndex":_220});};$W._a.aX.prototype.resetMoveColumn=function(){["WebSquare.uiplugin.layoutController.prototype.resetMoveColumn"];try{var _231=this.getColCnt();var _232=[];for(var i=0;i<_231;i++){_232.push(i);}this.setColumnOrder(_232);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aX.prototype.setColumnOrder=function(_234){var _235=this.getColCnt();var _236=[];if(typeof _234=="string"){_234=_234.split(",");}for(var i=0;i<_234.length;i++){if(this.bodyIdColIndexMap[_234[i]]!=null){_234[i]=this.bodyIdColIndexMap[_234[i]];}_234[i]=Number(_234[i]);if(typeof _234[i]!="number"){$l(this.id+".setColumnOrder : wrong column order array.");return;}_236[_234[i]]=true;}for(var i=0;i<_234.length;i++){var _238=this.getCellInfo(_234[i]).options.colSpan;if(_238>1){for(var j=1;j<_238;j++){if(_234[i+j]!==_234[i]+j){_234.splice(i+j,0,_234[i]+j);_236[_234[i]+j]=true;}}}}for(var i=_234.length-1;i>=0;i--){for(var j=i-1;j>=0;j--){if(_234[i]===_234[j]){_234.splice(i,1);}}}for(var i=0;i<_235;i++){if(!_236[i]){_234.push(i);}}if(_235!=_234.length){$l(this.id+".setColumnOrder : wrong column order array.");return;}var _23a=[];for(var i=0;i<_234.length;i++){for(var j=0;j<this.columnOrder.length;j++){if(this.columnOrder[j]==_234[i]){_23a[i]=j;break;}}}this.columnOrder=_23a.slice(0);if(this.drawedRowLength<=0){this.drawDataTable();}this._moveColumnByOrder(this.id+"_body_tbody",this.htmlInfo.body.rowArr);this._moveColumnByOrder(this.id+"_head_table",this.htmlInfo.head.rowArr);if(this.options.columnMoveWithFooter){var _23b=document.getElementById(this.id+"_foot_table").getElementsByTagName("tbody")[0];this._moveColumnByOrder(_23b.getAttribute("id"),this.htmlInfo.foot.rowArr);}if(this.initVisibilityArr!=undefined){var temp=[];for(var i=0;i<this.initVisibilityArr.length-this.defaultColCnt;i++){var qx=Math.floor(i/this.columnOrder.length);var rx=i%this.columnOrder.length;var idx=(qx*this.columnOrder.length)+this.columnOrder[rx]+this.defaultColCnt;temp.push(this.initVisibilityArr[idx]);}for(var i=0;i<temp.length;i++){this.initVisibilityArr[i+this.defaultColCnt]=temp[i];}}this._swapItem(this.colIndexInfo.body.colInfo.colIndexMatch,this.columnOrder,this.defaultColCnt);this._swapItem(this.colWidthList,this.columnOrder,this.defaultColCnt);this._swapItem(this.hiddenList,this.columnOrder,this.defaultColCnt);for(var i=0;i<this.tdIdList.length;i++){for(var j=0;j<this.columnOrder.length;j++){if(i==this.columnOrder[j]){this.colMoveIndexMap[this.tdIdList[i]]=j;break;}}}this.columnOrder=_234.slice(0);this.arrangeOverflowXScroll();this._handleScrollX();};$W._a.aX.prototype._moveColumnByOrder=function(_240,_241){["WebSquare.uiplugin.layoutController._moveColumnByOrder"];try{var _242=document.getElementById(_240);var _243=[];var _244={};var _245=_241.length;if(isNaN(_245)||_245<=0){_245=1;}for(var i=0;i<_245;i++){var _247=_242.rows[i];var _248=0;if(i===0){_248=this.defaultColCnt;}var _249={};var ep=0;var rp=0;for(var j=_248;j<_247.childNodes.length;j++){if(_244[i]!=undefined&&_244[i][j]!=undefined){rp+=_244[i][j];}_249[j+ep-_248+rp]=j;var _24d=parseInt(_247.childNodes[j].getAttribute("colSpan"),10);if(this.options.lazyDrawHiddenColumn){if(_247.childNodes[j].getAttribute("data-lazydrawtd")=="true"){_24d=1;}}if(_24d>1){ep+=_24d-1;}var _24e=parseInt(_247.childNodes[j].getAttribute("rowSpan"),10);if(_24e>1){for(var t=i;t<i+_24e-1;t++){if(_244[i+1]==undefined){_244[i+1]={};}if(_244[i+1][j-_248]==undefined){_244[i+1][j-_248]=1;}else{_244[i+1][j-_248]++;}}}}var ep2=0;var rp2=0;_243[i]=[];for(var j=_248;j<_247.childNodes.length;j++){if(_244[i]!=undefined&&_244[i][j]!=undefined){rp2+=_244[i][j];}var _252=_249[[this.columnOrder[j-_248+ep2+rp2]]];if(_252==undefined){_252=_247.childNodes.length-1;}_243[i].push(_252-_248);var _253=_247.childNodes[_252];var _24d=parseInt(_253.getAttribute("colSpan"),10);if(this.options.lazyDrawHiddenColumn){if(_253.getAttribute("data-lazydrawtd")=="true"){_24d=1;}}if(_24d>1){ep2+=_24d-1;}}}for(var i=0;i<_242.rows.length;i++){var _248=0;var _254=i%_245;if(_254===0){_248=this.defaultColCnt;}var _247=_242.rows[i];var _255=[];for(var j=0;j<_243[_254].length;j++){_255.push(_247.childNodes[_243[_254][j]+_248]);}for(var j=0;j<_255.length;j++){_247.appendChild(_255[j]);}}for(var i=0;i<_245;i++){this._swapItem(_241[i],_243[i],0);}this.updateStruct(_241);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aX.prototype._swapItem=function(src,_257,_258){["WebSquare.uiplugin.layoutController._swapItem"];try{var temp=[];var _25a=(_258==undefined)?0:_258;for(var i=0;i<_257.length;i++){temp.push(src[_257[i]+_25a]);}for(var i=0;i<temp.length;i++){src[i+_25a]=temp[i];}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aX.prototype.getColumnOrder=function(_25c){if(_25c){var _25d=[];var _25e=this.colIndexInfo.body.colInfo.colIndexMatch;for(var i=this.defaultColCnt;i<_25e.length;i++){if(_25e[i].length==0){$l(this.id+".getColumnOrder : use getColumnOrder(false). cannot express column order by name.");return;}var _260=this.tdIdList[_25e[i][0]-this.defaultColCnt];var _261=false;for(var j=0;j<_25d.length;j++){if(_25d[j]===_260){_261=true;break;}}if(!_261){_25d.push(_260);}}return _25d;}return this.columnOrder.slice(0);};$W._a.aX.prototype.handleGroupbyZoneClick=function(e){["WebSquare.uiplugin.grid.handleGroupbyZoneClick"];var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match("w2grid_groupbyZone_column")){var _265=it.getElement();var _266={};_266.render=_265;_266.parentRender=this.render.getElementsByTagName("div")[0];_266.headerID=_265.getAttribute("header_id");_266.headerIndex=this.getHeaderIndex(_266.headerID);_266.dataIndex=this._getDataColIndex(this._getRealHeaderColIndex(_266.headerID));this.toggleGroupbyFilterList(_266);$W._c.stopEvent(e);break;}if(it.match("w2grid_groupbyZone_column_closeButtonImg")){var _265=it.getElement();this.hideGroupbyFilterList();this.ungroupColumn(_265.getAttribute("col_id"));break;}if(it.match("w2grid_groupbyZone")){this.hideGroupbyFilterList();$W._c.stopEvent(e);break;}}};$W._a.aX.prototype.toggleGroupbyFilterList=function(_267){["WebSquare.uiplugin.grid.toggleGroupbyFilterList"];var _268=_267.render;var _269=_268.tagName;var _26a=_267.headerIndex;if(typeof this.groupbyZoneStatus.beforeOpenedColIndex=="number"){this.groupbyFilterList.saveState(this.groupbyZoneStatus.beforeOpenedColIndex.toString());if(_26a==this.groupbyZoneStatus.beforeOpenedColIndex&&_269==this.groupbyZoneStatus.beforeOpenedColTagName){if(this.groupbyFilterList.render.style.display=="block"){this.hideGroupbyFilterList();}else{this.groupbyStatus.FilterListOpen=true;this.groupbyStatus.FilterListAction=false;this.showGroupbyFilterList(_267,true);}}else{this.groupbyStatus.FilterListOpen=true;this.showGroupbyFilterList(_267,true);this.groupbyFilterList.loadState(_26a);}}else{this.groupbyStatus.FilterListOpen=true;this.groupbyStatus.FilterListAction=false;this.createGroupbyFilterList(_267);}};$W._a.aX.prototype.createGroupbyFilterList=function(_26b){["WebSquare.uiplugin.grid.createGroupbyFilterList"];var _26c=_26b.render;var _26d=_26b.parentRender;var _26e=_26b.headerIndex;var _26f=_26b.headerID;if(!this.groupbyFilterList){var _270="";_270+="<w2:list xmlns:w2=\"http://www.inswave.com/websquare\" tagName='div' style='position:absolute; z-index:11; padding:0px; display:block;' class='w2grid_groupbyZone_list' virtualized='true' labelCheck='true'>";_270+="\t<w2:listRow tagName='div' style='height: 20px; display:block; border-top: 0px; border-left:0px; border-right:0px;' class='w2grid_groupbyZone_list_listRow' check_id='id1' >";_270+="\t\t<w2:listColumn id='id1' inputType='checkbox' style='' class='w2grid_groupbyZone_list_listColumn_checkbox'/>";_270+="\t\t<w2:listColumn id='id2' check_id='id1' inputType='text' style='' class='w2grid_groupbyZone_list_listColumn_text'/>";_270+="\t</w2:listRow>";_270+="</w2:list>";var _271=$W._B.parse(_270,true);var _272=_271.documentElement;this.groupbyFilterList=new $W._a.bi(this.id+"_groupbyZone_list","",_272);var _273=this;this.groupbyFilterList._handleClickEvent=this.groupbyFilterList.handleClickEvent;this.groupbyFilterList.handleClickEvent=function(e){this._handleClickEvent(e);$W._c.stopPropagation(e);var _275;if($W._G.isIE()){_275=e.srcElement;}else{_275=e.target;}var _276=_275;if(_275.className.match("w2grid_groupbyZone_list_listColumn_checkbox")||_275.className.match("w2grid_groupbyZone_list_listColumn_text")){_276=_275.parentElement;}if(!_276.className.match("w2grid_groupbyZone_list_listRow")){return;}var _277=_276.children[0];var _278=_273.getHeaderID(this.headerIndex);var _279=_273.getColumnID(this.headerIndex);var _27a=_276.getAttribute("unique_id");var _27b="id1";var _27c="id2";var data=this.getAllData();var _27e=_277.checked;var _27f=false;var _280=false;var _281=false;if(data[0].customerFilter&&data[0]["unique_id"]==_27a){if(_27e){_273.passAppendGroupbyFilter=true;_273.hideGroupbyFilterList();if(!_273.firstOpenCustomFilter[_278]){_273.firstOpenCustomFilter[_278]=true;}_273.showCustomFilter(_278);return;}else{_273.customFilterStatusObj[_278]=false;_273.removeGroupFilter(this.headerIndex);_273.removeGroupFilter(_278);_27f=true;_280=true;_281=true;for(var i=1;i<data.length;i++){data[i][_27b]=true;}}}else{if(data[1].gridCheckedAll&&data[1]["unique_id"]==_27a){_280=true;if(_27e){_281=true;}for(var i=2;i<data.length;i++){data[i][_27b]=_27e;}}}if(!_27f&&!_281){_273.groupbyStatus.filter[_279]=[];var _283=[];var _284=[];var sReg=/[\^\$\.\[\]\{\}\+\(\)\|\\]/g;for(var i=2;i<data.length;i++){if(data[i]["id1"]&&data[i]["value"]!=undefined&&data[i]["value"]!=null){_283.push(data[i]["value"].toString().replace(sReg,function(m){return _273.replacechar(m);}));}else{if(!data[i]["id1"]&&data[i]["value"]!=undefined&&data[i]["value"]!=null){_284.push(data[i]["value"].toString().replace(sReg,function(m){return _273.replacechar(m);}));}}}delete _273.groupbyStatus.filter[_279];_273.groupbyStatus.filter[_279]=_283;if(_284.length<_283.length){_273.groupbyStatus.filter[_279]["minusFilter"]=_284;_273.groupbyStatus.filter[_279]["negative_execute"]=true;}}if(_281){delete _273.groupbyStatus.filter[_279];}if(!_280){var _288=this.getAllData().length-2;if(_288>_273.groupbyStatus.filter[_279].length&&_273.groupbyStatus.filter[_279].length>0){data[1]["id1"]=false;}else{if(_273.groupbyStatus.filter[_279].length==_288){data[1]["id1"]=true;delete _273.groupbyStatus.filter[_279];}}}this.setFirstRowIndex(this.firstListIndex,true);var _289={};_289.sortIndex=_273.groupbyStatus.sortIndexArr;_289.sortOrder=_273.groupbyStatus.sortOrderArr;if(_273.groupbyStatus.filter!=null){_289.filter={};for(var _28a in _273.groupbyStatus.filter){if(_273.getColumnIndex(_28a)!=undefined){_289.filter[_28a]=_273.groupbyStatus.filter[_28a];}}}var _28b=$W._c.fireEvent(_273,"ongroupby",_289);if(_28b===false){var _28c=_273.getColCnt()+_273.defaultColCnt;_289.rowNumHeader={colSpan:_28c,inputType:"expression",expression:" toggle() + depthStr() + ' [ ' + count() + ' \uac74 ] ' ",align:"left"};_289.footerVisible=false;_289.rowNumFooter={colSpan:_28c};setTimeout(function(){_273._groupbyFromUI(_289);},1);}};this.groupbyFilterList.writeTo(this);this.groupbyFilterList.activate();}var _28d;var _28e=$W._H.getRelativeTop(_26c,_26d)+_26c.offsetHeight;var _28f=$W._H.getRelativeLeft(_26c,_26d);var _290;if($W._G.getBoolean(this.headerInfoHash[_26f].options.autoFitFilterList)){_28d=this.groupbyFilterList.getMaxItemWidth();if(_26c.clientWidth>_28d){_28d=_26c.clientWidth;}}else{_28d=_26c.clientWidth;}this.groupbyFilterList.setPosition(_28f,_28e);this.groupbyFilterList.render.style.width=_28d+"px";var _291=this.getGroupbyDepthInfo(_26b);this.groupbyFilterList.setJSON(_291);this.groupbyFilterList.currentHeaderID=_26f;this.groupbyFilterList.headerIndex=_26e;$W._H.show(this.groupbyFilterList.render);this.groupbyFilterList.focus();this.groupbyZoneStatus.beforeOpenedColIndex=_26e;this.groupbyZoneStatus.beforeOpenedColTagName=_26c.tagName;};$W._a.aX.prototype.showGroupbyFilterList=function(_292,_293){["WebSquare.uiplugin.grid.showGroupbyFilterList"];var _294=_292.render;var _295=_292.parentRender;var _296=_292.headerIndex;var _297=_292.headerID;this.groupbyFilterList.currentHeaderID=_292.headerID;this.groupbyFilterList.headerIndex=_296;this.groupbyZoneStatus.beforeOpenedColIndex=_296;this.groupbyZoneStatus.beforeOpenedColTagName=_294.tagName;$W._H.show(this.groupbyFilterList.render);this.groupbyFilterList.focus();if(_293){var _298;var _299=$W._H.getRelativeTop(_294,_295)+_294.offsetHeight;var _29a=$W._H.getRelativeLeft(_294,_295);var _29b;if($W._G.getBoolean(this.headerInfoHash[_297].options.autoFitFilterList)){_298=this.groupbyFilterList.getMaxItemWidth();if(_294.clientWidth>_298){_298=_294.clientWidth;}}else{_298=_294.clientWidth;}this.groupbyFilterList.setPosition(_29a,_299);this.groupbyFilterList.render.style.width=_298+"px";var _29c=this.getGroupbyDepthInfo(_292);this.groupbyFilterList.setJSON(_29c);}};$W._a.aX.prototype.hideGroupbyFilterList=function(){["WebSquare.uiplugin.grid.hideGroupbyFilterList"];try{if(this.groupbyFilterList){if(this.groupbyFilterList.render.style.display=="block"){$W._H.hide(this.groupbyFilterList.render);if(this.passAppendGroupbyFilter){this.passAppendGroupbyFilter=false;return;}if(this.options.groupbyFilterBox){this.appendGroupbyFilter();}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aX.prototype.getGroupbyDepthInfo=function(_29d){["WebSquare.uiplugin.grid.getGroupbyDepthInfo"];var _29e=_29d.headerIndex;var _29f=this.getColumnID(_29e);var _2a0=_29d.headerID;var _2a1=_29d.dataIndex;var _2a2=[];this.groupbyStatus.groupbyDepthInfoObj=this.groupbyStatus.groupbyDepthInfoObj?this.groupbyStatus.groupbyDepthInfoObj:{};if(this.groupbyStatus.groupbyDepthInfoObj[_29f]){_2a2=this.groupbyStatus.groupbyDepthInfoObj[_29f];}else{var _2a3=false;if(this.options.useFilterList){var _2a4=this.getHeaderLayer(_29d.headerID);if($W._G.getBoolean(_2a4.getAttribute("useFilter"))){_2a2=this.createGroupbyDepthInfoLabel(_2a1);_2a3=true;}}if(!_2a3){_2a2=this.createGroupbyDepthInfo(_2a1);}this.groupbyStatus.groupbyDepthInfoObj[_29f]=_2a2;}var _2a5=[];var _2a6=this.groupbyStatus.filter[_29f];var _2a7=(_2a6===undefined);if(_2a6||_2a6==""){if(_2a6.length==0){_2a6=[];}else{if(_2a6.length>0){_2a6=this.groupbyStatus.filter[_29f];}}}var _2a8=$W._m.getMessage("Grid_Customized_Filter")||"\uc0ac\uc6a9\uc790\ud544\ud130";var _2a9=$W._m.getMessage("Grid_checked_all")||"\uc804\uccb4\uc120\ud0dd";_2a5.push({id1:false,id2:_2a8,customerFilter:true});_2a5.push({id1:false,id2:_2a9,gridCheckedAll:true});var _2aa=this.groupbyStatus.filter[this.getColumnIndex(_29f)]!=undefined&&this.groupbyStatus.filter[this.getColumnIndex(_29f)]["userFilter"];var _2ab=0;var _2ac;var _2ad=_2a6&&_2a6.length>0;var _2ae=true;if(_2a7){_2ae=true;}else{_2ae=false;}for(var i=0;i<_2a2.length;i++){var _2b0={};var _2b1=_2a2[i].value;var _2b2=true;if(_2aa){_2b2=false;}else{_2b2=_2ae;if(_2ad){if(_2ac===undefined){if(_2ab<_2a6.length){_2ac=_2a6[_2ab].wq_replaceAll("\\","");}else{_2ad=false;}}if(_2b1==_2ac){_2ab++;_2ac=undefined;_2b2=true;}}}_2b0["id1"]=_2b2;_2b0["id2"]=_2a2[i].label;_2b0["value"]=_2a2[i].value;_2a5.push(_2b0);}if(_2aa){if(this.customFilterStatusObj[_2a0]){_2a5[0].id1=true;}}else{_2a5[1].id1=true;if(_2a6){if(_2a6.length==_2a2.length){_2a5[1].id1=true;}else{_2a5[1].id1=false;}}}return _2a5;};$W._a.aX.prototype.showGroupbyZoneMessage=function(){["WebSquare.uiplugin.layoutController.prototype.showGroupbyZoneMessage"];try{if((this.options.groupbyZone||this.clearGrouping)&&this.options.groupbyZoneMessage){var _2b3=this.groupbyZoneStatus.groupbyZoneMessageRender;if(_2b3){$W._H.show(_2b3);}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aX.prototype.hideGroupbyZoneMessage=function(){["WebSquare.uiplugin.layoutController.prototype.hideGroupbyZoneMessage"];try{if(this.options.groupbyZone&&this.options.groupbyZoneMessage){var _2b4=this.groupbyZoneStatus.groupbyZoneMessageRender;if(_2b4){$W._H.hide(_2b4);}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aX.prototype.syncWithGroupbyZone=function(){["WebSquare.uiplugin.layoutController.prototype.syncWithGroupbyZone"];try{if(this.groupbyStatus.grouped&&this.options.groupbyZone){this.clearGroupbyZone();var _2b5=this.groupbyStatus.sortIndexArr;for(var i=0;i<_2b5.length;i++){var _2b7=_2b5[i];var id=this.getHeaderID(_2b7);var _2b9=this.getColumnID(_2b7);var _2ba=document.createElement("div");_2ba.setAttribute("header_id",id);_2ba.className="w2grid_groupbyZone_column";var _2bb=document.createElement("div");_2bb.className="w2grid_groupbyZone_column_closeButtonDiv";var _2bc=document.createElement("div");_2bc.className="w2grid_groupbyZone_column_closeButtonImg";_2bc.setAttribute("col_id",_2b9);var _2bd=document.createElement("div");_2bd.className="w2grid_groupbyZone_column_labelDiv";var _2be=document.createElement("span");_2be.innerHTML=this.getHeaderValue(id);_2bd.appendChild(_2be);_2bb.appendChild(_2bc);_2ba.appendChild(_2bd);_2ba.appendChild(_2bb);this.groupbyZoneStatus.groupbyZoneRender.appendChild(_2ba);_2be.className="w2grid_groupbyZone_column_value";}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aX.prototype.clearGroupbyZone=function(){["WebSquare.uiplugin.layoutController.prototype.syncWithGroupbyZone"];try{if((this.groupbyStatus.grouped||this.clearGrouping)&&this.options.groupbyZone){var _2bf=this.groupbyZoneStatus.groupbyZoneRender;var _2c0=_2bf.childNodes;var _2c1=[];for(var i=0;i<_2c0.length;i++){if(_2c0[i].className.match("w2grid_groupbyZone_column")!=null){_2c1.push(_2c0[i]);}}for(var i=0;i<_2c1.length;i++){_2bf.removeChild(_2c1[i]);}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aX.prototype.handleChangeGroupDepth=function(e){["WebSquare.uiplugin.layoutController.prototype.handleChangeGroupDepth"];var it=this.event.getTargetIterator(e);while(it.next()){if(it.match("w2grid_groupbyZone_column")){this.addClass("w2noselect");$W._G.emptySelection();var _2c5=it.getElement();var _2c6=_2c5.getAttribute("header_id");var _2c7=this.getHeaderIndex(_2c6);var _2c8=this.getHeaderValue(_2c6);var _2c9=this;$W._K.gDragManager.activate(e,null,{id:this.id+"_drag",className:"w2grid_groupbyZone_column_drag",contents:_2c8,delay:15,applyMousePosition:true,onDrop:function(drag,drop,x,y,dx,dy,e){var _2d1=null;if(this.isMobile){_2d1=new $W.targetIterator(document.elementFromPoint(e.changedTouches[0].clientX,e.changedTouches[0].clientY));e.preventDefault();}else{_2d1=_2c9.event.getTargetIterator(e);}var _2d2;while(_2d1.next()){if(_2d1.match("w2grid_groupbyZone_column")){_2d2=_2c9.getHeaderIndex(_2d1.getElement().getAttribute("header_id"));break;}if(_2d1.match("w2grid_groupbyZone")){var _2d3=_2c9.groupbyStatus.sortIndexArr;_2d2=_2d3[_2d3.length-1];break;}if(_2d1.match(null,null,"body")){return;}}if(_2c7==_2d2){return;}_2c9.removeClass("w2noselect");_2c9.hideGroupbyFilterList();_2c9.changeGroupDepth(_2c7,_2d2);}});return;}}};$W._a.aX.prototype.createContextMenu=function(info,_2d5){var _2d6="";_2d6+="<w2:list xmlns:w2=\"http://www.inswave.com/websquare\" tagName='div' style='' class='w2grid_contextMenu'>";_2d6+="\t<w2:listRow tagName='div' style='height: 20px; display:block; border-top: 0px; border-left:0px; border-right:0px;' class='w2grid_contextMenu_row'>";_2d6+="\t\t<w2:listColumn id='col1' inputType='text' style='padding-left: 10px' class='w2grid_contextMenu_column'/>";_2d6+="\t</w2:listRow>";_2d6+="</w2:list>";var _2d7=$W._B.parse(_2d6,true);var _2d8=_2d7.documentElement;this.contextMenu=new $W._a.bi(this.id+"_contextMenu_list","",_2d8);this.contextMenu.writeTo($W.getBody());this.contextMenu.activate();var _2d9=this;this.contextMenu.event.addListener(this.contextMenu.render,"onclick",function(e){$W._c.stopPropagation(e);var it=_2d9.event.getTargetIterator(e,this.render);var list=_2d9.contextMenu;var _2dd;while(it.next()){if(it.match("w2grid_contextMenu_column")){_2dd=it.getElement().parentNode;break;}if(it.match("w2grid_contextMenu_row")){_2dd=it.getElement();break;}if(it.match("w2grid_contextMenu")){break;}}var _2de;for(var i=0;i<list.getLength();i++){if(_2dd==list.render.childNodes[i]){_2de=i;break;}}_2d9.callSelectedAPI(list.getRowData(i).col1,list.info);_2d9.hideContextMenu();var menu=_2d9.contextMenu.getAllData()[_2de];var _2e1={row:list.info.rowIndex,col:list.info.colIndex,userMenuId:menu.userMenuId,isSystemMenu:menu.isSystemMenu,systemMenu:menu.systemMenu};list.info=null;$W._c.fireEvent(_2d9,"oncontextclick",_2e1.row,_2e1.col,_2e1.userMenuId,_2e1.isSystemMenu,_2e1.systemMenu);});var _2e2=this.getContextMenuData(info);if(_2d5&&_2d5.hideSystemMenu){if(_2d5.hideSystemMenu===true){_2e2=[];}else{if(typeof _2d5.hideSystemMenu==="object"&&_2d5.hideSystemMenu.indexOf){for(var i=0;i<_2e2.length;i++){var _2e4=_2e2[i].systemMenu;if(_2d5.hideSystemMenu.indexOf(_2e4)>-1){_2e2.splice(i,1);i--;}}}}}if(_2d5&&_2d5.appendMenu&&typeof _2d5.appendMenu==="object"&&_2d5.appendMenu.length){for(var i=0;i<_2d5.appendMenu.length;i++){var _2e5=_2d5.appendMenu[i];_2e5["col1"]=_2e5.label;_2e5["isSystemMenu"]=false;_2e2.push(_2e5);}}if(_2e2.length>0){var _2e6=_2e2.length*21;this.contextMenu.show();this.contextMenu.setSize(180,_2e6);this.contextMenu.setPosition($W._c.getMouseX(info.event),$W._c.getMouseY(info.event));this.contextMenu.setJSON(_2e2);this.contextMenu.info=info;for(var i=0;i<_2e2.length;i++){var menu=_2e2[i];if(menu.className){this.contextMenu.render.children[i].className=this.contextMenu.render.children[i].className+" "+menu.className;}}}};$W._a.aX.prototype.getContextMenuData=function(info){var _2e9=[];var _2ea=true;if(this.groupbyStatus.grouped){var _2eb=$W._m.getMessage("Grid_ungroup")||"\uc120\ud0dd \uceec\ub7fc \uadf8\ub8f9 \ud574\uc81c";for(var i=0;i<this.groupbyStatus.sortIndexArr.length;i++){if(this.groupbyStatus.sortIndexArr[i]==info.colIndex){_2e9.push({"col1":_2eb,"isSystemMenu":true,"systemMenu":"Ungroup"});_2ea=false;break;}}}if(_2ea){var _2ed=$W._m.getMessage("Grid_group")||"\uc120\ud0dd \uceec\ub7fc \uadf8\ub8f9";_2e9.push({"col1":_2ed,"isSystemMenu":true,"systemMenu":"Group"});}var _2ee=$W._m.getMessage("Grid_column_hide")||"\uc120\ud0dd \uceec\ub7fc \uc228\uae30\uae30";_2e9.push({"col1":_2ee,"isSystemMenu":true,"systemMenu":"ColumnHide"});if(this.options.fixedColumn==0||this.options.fixedColumn-1<info.colIndex){var _2ef=$W._m.getMessage("Grid_column_fix")||"\uc120\ud0dd \uceec\ub7fc \ud2c0\uace0\uc815";_2e9.push({"col1":_2ef,"isSystemMenu":true,"systemMenu":"ColumnFix"});}var _2f0=$W._m.getMessage("Grid_column_adjustWidth")||"\uc120\ud0dd \uceec\ub7fc \ud06c\uae30 \uc790\ub3d9 \ub9de\ucd94\uae30";var _2f1=$W._m.getMessage("Grid_column_showAll")||"\uc804\uccb4 \uceec\ub7fc \uc228\uae30\uae30 \ud574\uc81c";_2e9.push({"col1":_2f0,"isSystemMenu":true,"systemMenu":"ColumnAdjustWidth"});for(var i=0;i<this.hiddenList.length;i++){if(this.hiddenList[i]){_2e9.push({"col1":_2f1,"isSystemMenu":true,"systemMenu":"ColumnShowAll"});break;}}if(this.options.fixedColumn>0){var _2f2=$W._m.getMessage("Grid_column_unfix")||"\uc804\uccb4 \uceec\ub7fc \ud2c0\uace0\uc815 \ucde8\uc18c";_2e9.push({"col1":_2f2,"isSystemMenu":true,"systemMenu":"ColumnUnfixAll"});}var _2f3=$W._m.getMessage("Grid_column_adjustAuto")||"\uc804\uccb4 \uceec\ub7fc \ud06c\uae30 \uc790\ub3d9 \ub9de\ucd94\uae30";_2e9.push({"col1":_2f3,"isSystemMenu":true,"systemMenu":"ColumnAdjustAuto"});if(this.groupbyStatus.grouped){var _2f4=$W._m.getMessage("Grid_fold_all")||"\uc804\uccb4 \uadf8\ub8f9 \uc811\uae30";var _2f5=$W._m.getMessage("Grid_unfold_all")||"\uc804\uccb4 \uadf8\ub8f9 \ud3bc\uce58\uae30";var _2f6=$W._m.getMessage("Grid_ungroup_all")||"\uc804\uccb4 \uadf8\ub8f9 \ud574\uc81c";_2e9.push({"col1":_2f4,"isSystemMenu":true,"systemMenu":"FoldAll"});_2e9.push({"col1":_2f5,"isSystemMenu":true,"systemMenu":"UnfoldAll"});_2e9.push({"col1":_2f6,"isSystemMenu":true,"systemMenu":"UngroupAll"});}return _2e9;};$W._a.aX.prototype.showContextMenu=function(info){var _2f8=this.getContextMenuData(info);var _2f9=_2f8.length*21;this.contextMenu.show();this.contextMenu.setSize(180,_2f9);this.contextMenu.setPosition($W._c.getMouseX(info.event),$W._c.getMouseY(info.event));this.contextMenu.setJSON(_2f8);this.contextMenu.info=info;};$W._a.aX.prototype.hideContextMenu=function(){if(this.contextMenu){this.contextMenu.hide();}};$W._a.aX.prototype.callSelectedAPI=function(type,info){var _2fc=$W._m.getMessage("Grid_column_hide")||"\uc120\ud0dd \uceec\ub7fc \uc228\uae30\uae30";var _2fd=$W._m.getMessage("Grid_column_showAll")||"\uc804\uccb4 \uceec\ub7fc \uc228\uae30\uae30 \ud574\uc81c";var _2fe=$W._m.getMessage("Grid_column_fix")||"\uc120\ud0dd \uceec\ub7fc \ud2c0\uace0\uc815";var _2ff=$W._m.getMessage("Grid_column_unfix")||"\uc804\uccb4 \uceec\ub7fc \ud2c0\uace0\uc815 \ucde8\uc18c";var _300=$W._m.getMessage("Grid_column_adjustWidth")||"\uc120\ud0dd \uceec\ub7fc \ud06c\uae30 \uc790\ub3d9 \ub9de\ucd94\uae30";var _301=$W._m.getMessage("Grid_column_adjustAuto")||"\uc804\uccb4 \uceec\ub7fc \ud06c\uae30 \uc790\ub3d9 \ub9de\ucd94\uae30";var _302=$W._m.getMessage("Grid_fold_all")||"\uc804\uccb4 \uadf8\ub8f9 \uc811\uae30";var _303=$W._m.getMessage("Grid_unfold_all")||"\uc804\uccb4 \uadf8\ub8f9 \ud3bc\uce58\uae30";var _304=$W._m.getMessage("Grid_ungroup_all")||"\uc804\uccb4 \uadf8\ub8f9 \ud574\uc81c";var _305=$W._m.getMessage("Grid_ungroup")||"\uc120\ud0dd \uceec\ub7fc \uadf8\ub8f9 \ud574\uc81c";var _306=$W._m.getMessage("Grid_group")||"\uc120\ud0dd \uceec\ub7fc \uadf8\ub8f9";switch(type){case _2fc:this.setColumnVisible(info.colIndex,false);if(this.groupbyStatus.grouped){this.ungroupColumn(info.colIndex);}break;case _2fd:for(var i=0;i<this.hiddenList.length;i++){if(this.hiddenList[i]){this.setColumnVisible(i-this.defaultColCnt,true);}}break;case _2fe:this.setFixedColumn(parseInt(info.colIndex,10)+1);break;case _2ff:this.setFixedColumn(0);break;case _300:if(!this.autofitColumn){var _308={"type":"selectedColumn","colIndex":info.colIndex};this.setAutoFit(_308);}break;case _301:var _308={"type":"allColumn"};this.setAutoFit(_308);break;case _302:if(this.groupbyStatus.grouped){this.foldAll();}break;case _303:if(this.groupbyStatus.grouped){this.unfoldAll();}break;case _304:if(this.groupbyStatus.grouped){this.clearGroupby();}break;case _305:this.ungroupColumn(info.colIndex);break;case _306:if(this.groupbyStatus.grouped){var _308={};_308.sortIndex=this.groupbyStatus.sortIndexArr;_308.sortOrder=this.groupbyStatus.sortOrderArr;_308.sortIndex.push(info.colIndex);_308.sortOrder.push(1);var _309=$W._c.fireEvent(this,"ongroupby",_308);if(_309===false){_308=$W.extend({},this.groupbyDisplayOptions);_308.sortIndex=this.groupbyStatus.sortIndexArr;_308.sortOrder=this.groupbyStatus.sortOrderArr;this.groupby(_308,true);}}else{var _308={};_308.sortIndex=[info.colIndex];_308.sortOrder=[1];var _309=$W._c.fireEvent(this,"ongroupby",_308);if(_309===false){var _30a=this.getColCnt()+this.defaultColCnt;_308.rowNumHeader={colSpan:_30a,inputType:"expression",expression:" toggle() + depthStr() + ' [ ' + count() + ' \uac74 ] ' ",align:"left"};_308.rowNumFooter={colSpan:_30a};this.groupby(_308,true);}}break;}};$W._a.aX.prototype.createCustomFilterList=function(_30b){["WebSquare.uiplugin.grid.createCustomFilterList"];var _30c=this.headerToBodyRelation[_30b];var _30d=this.getCellInfo(_30c);var _30e=this.getColumnIndex(_30c);var _30f="";_30f+="<w2:scrollView xmlns:w2=\"http://www.inswave.com/websquare\" style='position:absolute; z-index:11;' class='w2grid_customFilter_scrollView'>";_30f+="</w2:scrollView>";var _310=$W._B.parse(_30f,true);scrollViewXML=_310.documentElement;$W._B.setAttribute(scrollViewXML,"bounce",false);$W._B.setAttribute(scrollViewXML,"horizontalScroll",false);$W._B.setAttribute(scrollViewXML,"paging",false);$W._B.setAttribute(scrollViewXML,"scrollType","auto");$W._B.setAttribute(scrollViewXML,"showHorizontalScroll",false);$W._B.setAttribute(scrollViewXML,"showVerticalScroll",false);$W._B.setAttribute(scrollViewXML,"verticalScroll",false);this.customFilterScrollView=new $W._a.aP(this.id+"_customFilter_scrollView","",scrollViewXML);var _311="";_311+="<w2:list xmlns:w2=\"http://www.inswave.com/websquare\" tagName='div' style='position:absolute; z-index:11; padding:0px; display:block;' class='w2grid_customFilter_list'>";_311+="\t<w2:listRow tagName='div' style='height: 20px; display:block; border-top: 0px; border-left:0px; border-right:0px;' class='w2grid_customFilter_list_listRow'>";_311+="\t\t<w2:listColumn id='id1' inputType='checkbox' style='' class='w2grid_customFilter_list_listColumn_checkbox'/>";_311+="\t\t<w2:listColumn id='id2' inputType='text' style='' class='w2grid_customFilter_list_listColumn_text'/>";_311+="\t</w2:listRow>";_311+="</w2:list>";var _312=$W._B.parse(_311,true);var _313=_312.documentElement;this.customFilterList=new $W._a.bi(this.id+"_customFilter_list","",_313);this.customFilterList.filterHistory={"column":[],"filteredRowIndexArr":[]};this.customFilterScrollView.addControl(this.customFilterList);this.customFilterScrollView.writeTo(this);this.customFilterScrollView.activate();var _314=this;this.customFilterScrollView.event.addListener(this.customFilterScrollView.render,"onclick",this.customFilterScrollView.event.bindAsEventListener(this.customFilterList,function(e){$W._c.stopPropagation(e);var _316=$W._c.getTarget(e);var _317=_316.parentNode;if(_316.className.match("w2grid_customFilter_list_listRow")){_317=_316;_316=_317.firstChild;for(var i=0;i<this.getLength();i++){if(_317==this.render.childNodes[i]){this.setCellData(i,"id1",!_316.checked);break;}}}if(_316.className.match("w2grid_customFilter_list_listColumn_text")){if(this.render.childNodes[0]!=_317){_316=_317.firstChild;for(var i=0;i<this.getLength();i++){if(_317==this.render.childNodes[i]){this.setCellData(i,"id1",!_316.checked);break;}}}}var _319=this.currentHeaderID;var _31a=_314.headerToBodyRelation[_319];var _31b=_314._dataList.getColumnIndex(_31a);var _31c=_314.headerInfoHash[_319];var _31d=0;if(_31c&&_31c.options.hideCustomFilter){_31d=1;}if(_31d!==1&&_317==this.render.childNodes[0]){if(_316.className.match("w2grid_customFilter_list_listColumn_checkbox")){if(_316.checked){if(_314.firstOpenCustomFilter[_319]){_314.headerID=_319;_314.targetColID=_31a;_314.setCustomFilterExpression();delete this.customFilterListFilterInfo[_31a];for(var i=1;i<this.getLength();i++){this.setCellData(i,"id1",false);}return;}else{_314.hideCustomFilterList();if(!_314.firstOpenCustomFilter[_319]){_314.firstOpenCustomFilter[_319]=true;}_314._showCustomFilter(_319);return;}}else{_314.customFilterStatusObj[_319]=false;for(var i=1;i<this.getLength();i++){this.setCellData(i,"id1",true);}}}else{if(_316.className.match("w2grid_customFilter_list_listColumn_text")){_314._showCustomFilter(_319);return;}}}else{if(_31d!==1){this.setCellData(0,"id1",false);}_314.customFilterStatusObj[_319]=false;if(_317==this.render.childNodes[1-_31d]){var _31e=_316.checked;for(var i=1-_31d;i<this.getLength();i++){this.setCellData(i,"id1",_31e);}}}var _31f=[];var sReg=/[\^\$\.\[\]\{\}\+\(\)\|\\]/g;for(var i=2-_31d;i<this.getLength();i++){if(this.getCellData(i,"id1")){var _321=this.getCellData(i,"id2");if(typeof _321=="string"){_31f.push(_321.replace(sReg,function(m){return _314.replacechar(m);}));}else{_31f.push(_321);}}}_31f=_314.changeItemValue("value",_31a,_31f);var _323="";if(_31f.length==0){_323+="/^[a-z0-9_-]{3,16}$/";}else{_323+="^"+_31f.join("$|^")+"$";_323=_323.wq_replaceAll("*","\\*");}var _324=_314.getColumnOption(_30d.options.col_id,"dataType");if(_324=="number"){regexp=new RegExp(_323);}else{regexp=new RegExp(_323,"gi");}$W._c.fireEvent(_314._dataList,"onbeforecolumnfilterchange");var _325=this.getLength()-2+_31d;if(_31f.length<_325){$W._j["stopBroadCast"]=true;}_314.dataList.removeColumnFilter(_31a);if(this.filterHistory.column[0]!==_31a){this.filterHistory.column.unshift(_31a);this.filterHistory.filteredRowIndexArr.unshift(_314._dataList.filteredRowIndexArr.slice(0));}if(_31f.length<_325){$W._j["stopBroadCast"]=false;_314.dataList.setColumnFilter({type:"regExp",colIndex:_31b,key:regexp,condition:"and"});this.customFilterListFilterInfo[_31a]=_31f;}else{delete this.customFilterListFilterInfo[_31a];}var _326=_314.getElementById(_314.id+"_"+_319+"_filter");if(_31d===1||!this.getCellData(0,"id1")){$W._H.removeClass(_326,"w2grid_customFilter_filter");}var _327=true;var _325=this.getLength()-2+_31d;var _328=this.getAllData();for(var i=2-_31d;i<_328.length;i++){if(!_328[i].id1){_327=false;break;}}if(_327){this.setCellData(1-_31d,"id1",true);this.filterHistory.column.shift();this.filterHistory.filteredRowIndexArr.shift();}else{this.setCellData(1-_31d,"id1",false);$W._H.addClass(_326,"w2grid_customFilter_filter");}$W._c.fireEvent(_314._dataList,"onaftercolumnfilterchange");}));var _329=this.getCustomFilterListJSON({colID:_30c,headerID:_30b});var _32a;var _32b;var _32c=this.getElementById(this.id+"_"+_30b);var _32d=_329.length*21;this.customFilterScrollViewRenderHeight=this.options.customFilterListVisibleRowNum*21;var _32e=$W._H.getRelativeTop(_32c,this.render)+_32c.offsetHeight+1;var _32f=$W._H.getRelativeLeft(_32c,this.render);var _330=this.getElementById(this.id+"_head_table");var _331=this.dataLayerHeight-_330.offsetHeight;var _332=Math.min(this.customFilterScrollViewRenderHeight,_32d,_331);if($W._G.getBoolean(this.headerInfoHash[_30b].options.autoFitFilterList)||$W._G.getBoolean(this.options.autoFitFilterList)){this.customFilterList.setJSON(_329);_32a=this.customFilterList.getMaxItemWidth();if(_32c.clientWidth>_32a){_32a=_32c.clientWidth;}_32b=_32a;if(this.customFilterScrollViewRenderHeight>=_32d){_332=_32d;}else{_332=this.customFilterScrollViewRenderHeight;_32b+=this.getElementById(this.id+"_size_y").clientWidth;}var _333=this.getElementById(this.id+"_customFilter_scrollView_container");$W._H.setStyle(_333,"overflow-x","hidden");}else{_32a=_32c.clientWidth;_32b=_32a;if(this.customFilterScrollViewRenderHeight>_32d){_332=_32d;}else{_332=this.customFilterScrollViewRenderHeight;_32a-=this.getElementById(this.id+"_size_y").clientWidth;}this.customFilterList.setJSON(_329);}this.customFilterScrollView.setPosition(_32f,_32e);this.customFilterScrollView.setSize(_32b,_332);this.customFilterList.setSize(_32a,_32d);this.customFilterList.setJSON(_329);this.customFilterList.currentHeaderID=_30b;this.customFilterList.customFilterListFilterInfo={};$W._H.show(this.customFilterScrollView.render);};$W._a.aX.prototype.toggleCustomFilterList=function(_334){["WebSquare.uiplugin.grid.toggleCustomFilterList"];try{if(this.customFilterScrollView&&this.customFilterList){if(this.customFilterScrollView.render.style.display=="none"){this.moveCustomFilterList(_334);}else{if(this.customFilterList.currentHeaderID!=_334){this.moveCustomFilterList(_334);}else{this.hideCustomFilterList();}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aX.prototype.showCustomFilterList=function(info,_336){["WebSquare.uiplugin.grid.showCustomFilterList"];try{if(this.customFilterScrollView&&this.customFilterList){if(_336){$W._H.show(this.customFilterScrollView.render);var _337;var _338;var _339=this.getElementById(this.id+"_"+info.headerID);var _33a=info.dataLength*21;this.customFilterScrollViewRenderHeight=this.options.customFilterListVisibleRowNum*21;var _33b=$W._H.getRelativeTop(_339,this.render)+_339.offsetHeight+1;var _33c=$W._H.getRelativeLeft(_339,this.render);var _33d=this.getElementById(this.id+"_head_table");var _33e=this.dataLayerHeight-_33d.offsetHeight;var _33f=Math.min(this.customFilterScrollViewRenderHeight,_33a,_33e);if($W._G.getBoolean(this.headerInfoHash[info.headerID].options.autoFitFilterList)||$W._G.getBoolean(this.options.autoFitFilterList)){_337=this.customFilterList.getMaxItemWidth();if(_339.clientWidth>_337){_337=_339.clientWidth;}_338=_337;if(this.customFilterScrollViewRenderHeight>=_33a){_33f=_33a;}else{_33f=this.customFilterScrollViewRenderHeight;_338+=this.getElementById(this.id+"_size_y").clientWidth;}var _340=this.getElementById(this.id+"_customFilter_scrollView_container");$W._H.setStyle(_340,"overflow-x","hidden");}else{_337=_339.clientWidth;_338=_337;if(this.customFilterScrollViewRenderHeight>_33a){_33f=_33a;}else{_33f=this.customFilterScrollViewRenderHeight;_337-=this.getElementById(this.id+"_size_y").clientWidth;}}this.customFilterScrollView.setPosition(_33c,_33b);this.customFilterScrollView.setSize(_338,_33f);this.customFilterList.setSize(_337,_33a);}this.customFilterList.currentHeaderID=info.headerID;$W._H.show(this.customFilterScrollView.render);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aX.prototype.moveCustomFilterList=function(_341){["WebSquare.uiplugin.grid.moveCustomFilterList"];try{if(this.customFilterScrollView&&this.customFilterList){var _342=this.headerToBodyRelation[_341];var _343=this.getColumnIndex(_342);var _344=this.getCustomFilterListJSON({colID:_342,headerID:_341});this.customFilterList.setJSON(_344);this.customFilterList.currentHeaderID=_341;this.showCustomFilterList({headerID:_341,dataLength:_344.length},true);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aX.prototype.hideCustomFilterList=function(){["WebSquare.uiplugin.grid.hideCustomFilterList"];try{if(this.customFilterScrollView&&this.customFilterList){$W._H.hide(this.customFilterScrollView.render);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aX.prototype.getCustomFilterListJSON=function(info){["WebSquare.uiplugin.grid.getCustomFilterListJSON"];try{var _346=this.customFilterList.filterHistory.column[0];var _347;if(_346===info.colID){_347=this.customFilterList.filterHistory.filteredRowIndexArr[0];}else{_347=this._dataList.filteredRowIndexArr;}var _348=this.dataList.getColData(info.colID,_347);var _349=this.getCellInfo(info.colID);var _34a=this.getUniqueValueOfArray(_348);var _34b=this.options.useFilterEmptyValue?this.options.useFilterEmptyValue.split(","):[];_34b.push("");var _34c=this.changeItemValue("label",info.colID,_34a.slice(0));var _34d=this.customFilterStatusObj[info.headerID]||false;var _34e=$W._m.getMessage("Grid_Customized_Filter")||"\uc0ac\uc6a9\uc790\ud544\ud130";var _34f=$W._m.getMessage("Grid_checked_all")||"\uc804\uccb4\uc120\ud0dd";var _350=[{"id1":_34d,"id2":_34e},{"id1":!_34d,"id2":_34f}];var _351;var _352;if(!_34d&&this.customFilterList.customFilterListFilterInfo){if(info.colID in this.customFilterList.customFilterListFilterInfo){_351=this.customFilterList.customFilterListFilterInfo[info.colID];_352=_351.slice(0);}}var sReg=/[\^\$\.\[\]\{\}\+\(\)\|\\]/g;var _354=this;for(var i=0;i<_34c.length;i++){var json={};if(_352){var _357=false;var _358=_349.itemArr?_349.itemHash[_34c[i]]:_34c[i];if(typeof _358=="string"){_358=_358.replace(sReg,function(m){return _354.replacechar(m);});}for(var j=_352.length-1;j>-1;j--){if(_358==_352[j]){_357=true;_352.splice(j,1);break;}else{if(typeof _352[j]=="string"){var _35b=false;for(var k=0;k<_34b.length;k++){if(_34b[k]==_352[j]){_35b=true;break;}}if(_35b&&(_34c[i]==this.options.useFilterEmptyMsg||_34c[i]==this.filterEmptyStr)){_357=true;break;}}}}json["id1"]=_357;}else{json["id1"]=!_34d;}json["id2"]=_34c[i];_350.push(json);}var _35d=0;var _35e=this.headerInfoHash[info.headerID];if(_35e&&_35e.options.hideCustomFilter){_350.shift();_35d=1;}if(_351){var _35f=true;var _360=this.customFilterList.getLength()-2+_35d;var _361=this.customFilterList.getAllData();for(var i=2-_35d;i<_361.length;i++){if(!_361[i].id1){_35f=false;break;}}if(_35f){_350[1-_35d]["id1"]=true;}else{_350[1-_35d]["id1"]=false;}}return _350;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aX.prototype.changeItemValue=function(to,_363,_364){["WebSquare.uiplugin.grid.changeItemValue"];try{var _365=[];this.useFilterEmptyValueInfo={"":true};var _366=false;var _367=this.getCellInfo(_363);var _368=this.options.useFilterEmptyValue?this.options.useFilterEmptyValue.split(","):[];_368.push("");this.filterEmptyStr=this.options.useFilterEmptyMsg||$W._m.getMessage("GRID_useFilterEmptyMsg");for(var i=0;i<_368.length;i++){_368[i]=_368[i].trim();this.useFilterEmptyValueInfo[_368[i]]=true;}_367.itemHash={};if(_367.itemsetObj&&_367.itemsetObj.nodeset!=""&&_367.itemsetObj.nodeset.wq_replaceAll(" ","").indexOf("data:")>=0&&!_367.itemArr){_367.itemArr=[];var _36a=_367.itemsetObj.nodeset.replace("data:","");var _36b=this.modelControl.getDataComp(_36a);if(_36b&&$W.idCache[_36b.uuid]){switch(_36b.initializeType){case "linkedDataList":case "dataList":var _36c=[];var _36d={};for(var i=0;i<_36b.getDataLength();i++){var _36e=_36b.getCellData(i,_367.itemsetObj.label);var _36f=_36b.getCellData(i,_367.itemsetObj.value);if(_36d[_36e]==_36f){continue;}_36d[_36e]=_36f;_36c.push({label:_36e,value:_36f});}_367.itemArr=_36c;break;case "dataMap":var _36c=[];var _36d={};for(var i=0;i<_36b.getCount();i++){var _36e=_36b.get(_367.itemsetObj.label);var _36f=_36b.get(_367.itemsetObj.value);if(_36d[_36e]==_36f){continue;}_36d[_36e]=_36f;_36c.push({label:_36e,value:_36f});}_367.itemArr=_36c;break;}}}if(_367.itemArr){var from=to=="label"?"value":"label";var _371=_367.itemArr.slice(0);for(var i=0;i<_364.length;i++){for(var j=_371.length-1;j>-1;j--){var item=_371[j];if(item[from]==_364[i]){_365.push(item[to]);_371.splice(j,1);if(to=="label"){_367.itemHash[item[to]]=item[from];}break;}else{if(to=="label"){if(!_364[i]||this.useFilterEmptyValueInfo[_364[i]]){if(!_366){_366=true;_365.push(this.filterEmptyStr);}break;}}else{if(to=="value"){if(_364[i]==this.filterEmptyStr){for(var j=0;j<_368.length;j++){_365.push(_368[j]);}break;}}}}}}}else{for(var i=0;i<_364.length;i++){if(to=="label"){if(!_364[i]||this.useFilterEmptyValueInfo[_364[i]]){if(!_366){_366=true;_365.push(this.filterEmptyStr);}continue;}}else{if(to=="value"){if(_364[i]==this.filterEmptyStr){for(var j=0;j<_368.length;j++){_365.push(_368[j]);}continue;}}}_365.push(_364[i]);_367.itemHash[_364[i]]=_364[i];}}return _365;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aX.prototype.resizeGridList=function(){["WebSquare.uiplugin.grid.resizeGridList"];try{var list;var _375;if(this.groupbyFilterList){return;}else{if(this.customFilterList){list=this.customFilterList;_375=this.customFilterScrollView;}else{return;}}var _376=this.getElementById(this.id+"_"+list.currentHeaderID);var _377=_376.clientWidth;var _378=_375.render.clientHeight;var _379=$W._H.getRelativeTop(_376,this.render)+_376.offsetHeight+1;var _37a=$W._H.getRelativeLeft(_376,this.render);_375.setPosition(_37a,_379);list.setSize(_377,null);_375.setSize(_377,_378);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aX.prototype.showGroupbyHeaderGhost=function(e,_37c){["WebSquare.uiplugin.grid.showGroupbyHeaderGhost"];try{var _37d=this;var _37e=this.getHeaderValue(_37c);$W._K.gDragManager.activate(e,null,{id:this.id+"_drag",className:"w2grid_groupbyZone_header_drag",contents:_37e,delay:15,applyMousePosition:true,onDrop:function(drag,drop,x,y,dx,dy,e){}});}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aX.prototype.setAdaptiveColumnVisible=function(_386,_387){["WebSquare.uiplugin.layoutController.prototype.setAdaptiveColumnVisible"];try{if(this.hiddenAdaptiveList[_386]==!_387||_386>=this.hiddenAdaptiveList.length){return;}var _388=this;function getHeaderCol(_389){var _38a=_388.getColumnID(_389);var _38b=(_388.bodyToHeaderRelation[_38a]!=undefined)?_388.getHeaderLayer(_388.bodyToHeaderRelation[_38a]):null;if(_38b!=null){return _38b;}else{return getHeaderCol(_389-1);}}var _38c=getHeaderCol(_386);var _38d=document.getElementsByClassName(this.id+"_columnstyle_"+(_386-this.defaultColCnt)+"_");var _38e=this.columnStyleValueObj[_386-this.defaultColCnt].height;if(this.oldOptions["headerColBorder"]==undefined&&_38c!=null){this.oldOptions["headerColBorder"]=$W._H.getStyle(_38c,"border-top");}if(this.oldOptions["headerPaddingTop"]==undefined&&_38c!=null){this.oldOptions["headerPaddingTop"]=$W._H.getStyle(_38c,"padding-top");}if(this.oldOptions["headerPaddingBottom"]==undefined&&_38c!=null){this.oldOptions["headerPaddingBottom"]=$W._H.getStyle(_38c,"padding-bottom");}if(_38d.length>0&&this.oldOptions["bodyColBorder"]!=""){this.oldOptions["bodyColBorder"]=$W._H.getStyle(_38d[0],"border-top");}if(this.hasSubtotal){var _38f=0;var _390=0;var _391=this.drawedSubtotal[0][0].childNodes;var _392;for(var i=0;i<_391.length;i++){_392=parseInt(_391[i].getAttribute("colSpan"));if(!_392){_392=1;}if(_390<=_386&&_386<_390+_392){break;}else{_390+=_392;_38f++;}}}if(this.hasFooter){var _394=0;var _395=0;var _396=this.htmlInfo.foot.rowArr;for(var i=0;i<_396.length;i++){var _397=_396[i];for(var j=0;j<_397.length;j++){var _399=_397[j];var _392=parseInt(_399.colSpan);if(!_392){_392=1;}if(_395<=_386-this.defaultColCnt&&_386-this.defaultColCnt<_395+_392){break;}else{_395+=_392;_394++;}}}}if(_387){_38c.style.height=_38e;_38c.style.removeProperty("padding");_38c.style.borderTop=this.oldOptions["headerColBorder"];for(var i=0;i<_38d.length;i++){_38d[i].style.height=_38e;_38d[i].style.removeProperty("padding");_38d[i].style.borderTop=this.oldOptions["bodyColBorder"];}if(this.hasFooter){for(var i=0;i<_396.length;i++){var _399=_396[i][_394];var _39a=parseInt(this.getFooterStyle(_399.id,"height"))+parseInt(_38c.offsetHeight);var _392=parseInt(_399.colSpan);if(!_392||parseInt(this.getFooterStyle(_399.id,"height"))<=0){this.setFooterStyle(_399.id,"height",_38c.style.height);this.setFooterStyle(_399.id,"padding",_38c.style.padding);this.setFooterStyle(_399.id,"borderTop",_38c.style.borderTop);}else{this.setFooterStyle(_399.id,"height",_39a+"px");}}}if(this.hasSubtotal){for(var i=0;i<this.drawedSubtotal.length;i++){for(var j=0;j<this.drawedSubtotal[i].length;j++){var _39b=this.drawedSubtotal[i][j].childNodes;var _39a=parseInt(_39b[_38f].style.height)+parseInt(_38c.offsetHeight);var _392=parseInt(_39b[_38f].getAttribute("colSpan"));if(!_392||parseInt(_39b[_38f].style.height)<=0){_39b[_38f].style.height=_38c.style.height;_39b[_38f].style.padding=_38c.style.padding;_39b[_38f].style.borderTop=_38c.style.borderTop;}else{_39b[_38f].style.height=_39a+"px";}}}}}else{if(this.hasFooter){for(var i=0;i<_396.length;i++){var _399=_396[i][_394];var _39a=parseInt(this.getFooterStyle(_399.id,"height"))-parseInt(_38c.offsetHeight);var _392=parseInt(_399.colSpan);if(!_392||_39a<=0){this.setFooterStyle(_399.id,"height","0px");this.setFooterStyle(_399.id,"padding","0px");this.setFooterStyle(_399.id,"borderTop","0px");}else{this.setFooterStyle(_399.id,"height",_39a+"px");}}}if(this.hasSubtotal){for(var i=0;i<this.drawedSubtotal.length;i++){for(var j=0;j<this.drawedSubtotal[i].length;j++){var _39b=this.drawedSubtotal[i][j].childNodes;var _39a=parseInt(_39b[_38f].style.height)-parseInt(_38c.offsetHeight);var _392=parseInt(_39b[_38f].getAttribute("colSpan"));if(!_392||_39a<=0){_39b[_38f].style.height="0px";_39b[_38f].style.padding="0px";_39b[_38f].style.borderTop="0px";}else{_39b[_38f].style.height=_39a+"px";}}}}var _39c=parseInt(_38c.colSpan,10);var _39d=false;if(_39c>1){var _39e=this.headerToBodyRelation[_38c.getAttribute("header_id")];var _39f=this.getColumnIndex(_39e);for(var k=_39f;k<(_39f+_39c);k++){if(!this.hiddenList[k]){_39d=true;}}}if(_39c<2||!_39d){_38c.style.height="0px";_38c.style.padding="0px";_38c.style.borderTop="0px";}for(var i=0;i<_38d.length;i++){_38d[i].style.height="0px";_38d[i].style.padding="0px";_38d[i].style.borderTop="0px";}}if(parseInt(_38c.colSpan,10)>1){this.setAdaptiveGridHeaderHeight();}this.hiddenAdaptiveList[_386]=!_387;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aX.prototype.createGroupbyFilterSelectItemTable=function(_3a1){["WebSquare.uiplugin.grid.createGroupbyFilterList"];try{if(this.groupbyFilterBoxItemTable==null){this.groupbyFilterBoxItemTable=new $W._a.ab(this.id+"_itemTable",{row:this.options.filterBoxvisibleRowNum,col:1,submenuSize:"fixed",style:"position:absolute;",defaultStyle:"text-align:center;",className:"w2table "+this.options.className+" w2grid_filterBox_itemTable",w2table:"w2table_sb",w2table_main:"w2table_sb_main",w2table_row:"w2table_sb_row",w2table_col:"w2table_sb_col",w2table_col_over:"w2table_sb_col_over",escape:this.options.escape});this.groupbyFilterBoxItemTable.writeTo(this);this.groupbyFilterBoxItemTable.activate();var _3a2=this;this.groupbyFilterBoxItemTable.addClickEventListener(function(_3a3){_3a3=parseInt(_3a3);["WebSquare.uiplugin.selectbox.itemTable.addClickEventListener"];if(_3a2.filterObjectArrIndex!=_3a3){_3a2.filterObjectArrIndex=_3a3;_3a2.applyGroupbyFilter();}_3a2.hideGroupbyFilterSelectItemTable();});var _3a4=this.getElementById(this.id+"_groupbyFilterBox_div");this.groupbyFilterBoxItemTable.render.style.right=_3a4.style.right;if(this.options.groupbyFilterBoxLocation==="top"){this.groupbyFilterBoxItemTable.render.style.top=_3a4.offsetHeight+"px";}else{if(this.options.groupbyFilterBoxLocation==="bottom"){this.groupbyFilterBoxItemTable.render.style.bottom=(parseInt(_3a4.style.bottom.replaceAll("px",""))+_3a4.offsetHeight)+"px";}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aX.prototype.toggleGroupbyFilterSelectItemTable=function(){if(this.isShowGroupbyFilterSelectItemTable){this.hideGroupbyFilterSelectItemTable();}else{this.showGroupbyFilterSelectItemTable();}};$W._a.aX.prototype.showGroupbyFilterSelectItemTable=function(){["WebSquare.uiplugin.grid.showGroupbyFilterList"];try{if(this.filterObjectArr&&this.filterObjectArr.length>0){this.createGroupbyFilterSelectItemTable();if(!this.isShowGroupbyFilterSelectItemTable){this.groupbyFilterBoxItemTable.show();this.groupbyFilterBoxItemTable.render.setAttribute("aria-expended","true");this.groupbyFilterBoxItemTable.focus();this.groupbyFilterBoxItemTable.setItemArr(this.filterObjectArr);this.groupbyFilterBoxItemTable.setSelectedIndex(this.filterObjectArrIndex);var _3a5;var tds=this.groupbyFilterBoxItemTable.render.getElementsByTagName("td");if(tds&&tds.length>0){_3a5=0;var rows=Math.min(this.filterObjectArr.length,this.options.filterBoxvisibleRowNum);for(var i=0;i<rows;i++){_3a5+=tds[i].offsetHeight;}this.groupbyFilterBoxItemTable.setStyle("height",_3a5+"px");}else{this.groupbyFilterBoxItemTable.setStyle("height","0px");}if(this.groupbyFilterBoxItemTable.getStyle("overflow-x")=="auto"){_3a5+=20;this.groupbyFilterBoxItemTable.setStyle("height",_3a5+"px");}var _3a9=this.getElementById(this.id+"_groupbyFilterBox_select_tbody");this.groupbyFilterBoxItemTable.setStyle("width",(_3a9.offsetWidth-2)+"px");document.getElementById(this.groupbyFilterBoxItemTable.id+"_main").style.width=(_3a9.offsetWidth-2)+"px";this.isShowGroupbyFilterSelectItemTable=true;}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aX.prototype.hideGroupbyFilterSelectItemTable=function(){["WebSquare.uiplugin.grid.hideGroupbyFilterList"];try{if(this.groupbyFilterBoxItemTable){this.groupbyFilterBoxItemTable.hide();this.isShowGroupbyFilterSelectItemTable=false;}}catch(e){$W.exception.printStackTrace(e,null,this);}};;WebSquare.uiplugin.layoutController=$W._a.aX;$W._a.aa=function(){try{}catch(e){$l(e.message);$W.exception.printStackTrace(e,null,this);}};$W._a.aa.prototype.setTableLayout=function(){["WebSquare.uiplugin.drawInitializer.prototype.setTableLayout"];try{this.initializeHead();this.initializeFooter();this.setDataLayerPosition();this.arrangeOverflowXScroll();this.handlerResize_drawInitializer();this.setTrRowTable();this.setTrSubtotalRowTable();this._setAutoFit();this.realRowDataLength=this.oneRowDataLength+this.defaultColCnt;this.associateHeaderBody();if(this.options.columnMove){this.createBlockedHeaderInfo();}this.lastDisplayedRow=-1;this.drawFooter();this.drawHeader();for(var j=0;j<this.oneRowDataLength;j++){var _2=this.cellInfoHash2[this.tdIdList[j]];var _3=new $W._a._J(_2,this);if(_3.options.inputType=="textarea"){this.isExistTextarea=true;}if(_3.options.colMerge){this.isColMerge=true;if($W._G.getBoolean(this.options.colMergeAnd)){this.isColMergeAnd=true;}if(_3.options.upperColumn){if(!this.upperToLowerColumnRelation[_3.options.upperColumn]){this.upperToLowerColumnRelation[_3.options.upperColumn]=[];}this.upperToLowerColumnRelation[_3.options.upperColumn].push(_3.options.id);}}if(_3.options.maxLength!=undefined&&_3.options.maxLength!==""){_3.options.maxlength=_3.options.maxLength;}this.cellInfoHash[_3.id]=_3;this.cellIdList.push(_3.id);var _4=_3.options.hideThreshold;if(typeof _4!="undefined"){this.hideThresholdObj[_3.id]=_4;}}for(var _5=0;_5<this.thIdList.length;_5++){var _6=this.headerInfoHash2[this.thIdList[_5]];if(_6){var _7=new $W._a.headerInfo(_6,this);this.headerInfoHash[_7.id]=_7;}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aa.prototype.setDataLayerPosition=function(){try{var _8=this.getElementById(this.id+"_dataLayer");if(this.hasFooter){var _9=this.getElementById(this.id+"_foot_table").offsetHeight;_9=(_9==0)?this.footerHeight:_9;_8.style.bottom=_9+"px";}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aa.prototype.arrangeOverflowXScroll=function(){["WebSquare.uiplugin.drawInitializer.arrangeOverflowXScroll"];try{this.fixedWidth=0;var _a=this.getFixedColumnLastIndex();for(var i=0;i<_a;i++){if(!this.hiddenList[i]){this.fixedWidth+=this.colWidthList[i];}}this.fixedWidthRight=0;var _c=this.getFixedRightColumnLastIndex();var _d=this.colWidthList.length;for(var i=_d-1;i>=_c;i--){if(!this.hiddenList[i]){this.fixedWidthRight+=this.colWidthList[i];}}var _e=this.getElementById(this.id+"_scrollX_div");var _f=this.getElementById(this.id+"_scrollX_table");var _10=_e.offsetWidth-_f.offsetWidth;var _11=this.getElementById(this.id+"_scrollX_left");var _12=this.getElementById(this.id+"_scroll_size");var _13=this.getElementById(this.id+"_scrollX_fixedRight");_11.style.width=this.fixedWidth+"px";_12.style.width=(this.gridWidth-this.fixedWidth-this.fixedWidthRight-_10)+"px";_13.style.width=this.fixedWidthRight+"px";}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aa.prototype.handlerResize_drawInitializer=function(){["WebSquare.uiplugin.drawInitializer.prototype.handlerResize_drawInitializer"];try{if(this.render.offsetWidth==0||this.render.offsetHeight==0){return;}this.setOverflowY();this.setOverflowX();this.setIE6Fix();if(this.options.headFiller){var _14=this.getElementById(this.id+"_header_bg_td");var _15=this.getElementById(this.id+"_dataLayer").offsetWidth-1;var _16=this.getElementById(this.id+"_head_table").offsetHeight;var _17=_15;var _18=_16;_14.style.width=(_15)+"px";while(_14.offsetWidth!=_17){if(_14.offsetWidth>_17){_15--;}else{_15++;}_14.style.width=(_15)+"px";}_14.style.height=(_16)+"px";while(_14.offsetHeight!=_18){if(_14.offsetHeight>_18){_16--;}else{_16++;}_14.style.height=(_16)+"px";}}if(this.options.groupbyZone){var _19=this.getElementById(this.id+"_main_div");if(this.isIE6){_19.style.height=_19.offsetHeight-this.groupbyZoneStatus.groupbyZoneRender.offsetHeight;}if(this.options.groupbyFilterBox&&this.options.groupbyFilterBoxLocation==="bottom"){var _1a=this.getElementById(this.id+"_groupbyFilterBox_div");_19.style.bottom=(this.scrollLayerWidthSize+_1a.offsetHeight)+"px";if(this.isIE6){var _1b=this.scrollLayerWidthSize+_1a.offsetHeight+this.groupbyZoneStatus.groupbyZoneRender.offsetHeight;var _1c=Math.ceil(_1b/this.oneRowScrollHeight);if(this.lastIndex>-1&&this.lastIndex>_1c){this.cutGridBottom(this.lastIndex-_1c);}}}else{if(this.isIE6){this.cutGridBottom(this.lastIndex-Math.ceil(this.groupbyZoneStatus.groupbyZoneRender.offsetHeight/this.oneRowScrollHeight));}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aa.prototype.setIE6Fix=function(){["WebSquare.uiplugin.drawInitializer.prototype.setIE6Fix"];try{var _1d=this.options.fixPrint&&($W._G.isIE(9)||$W._G.isIE(10)||($W._N.browserCheck.ieAllVersion&&document.documentMode=="11")||$W._G.isFF());if(this.isIE6||$W._G.isOpera()||_1d){var _1e=this.getElementById(this.id+"_scrollX_div");var _1f=this.getElementById(this.id+"_scrollY_div");var _20=this.getElementById(this.id+"_main_div");var _21=(this.render.offsetHeight-_1e.offsetHeight);var _22=(this.render.offsetWidth-_1f.offsetWidth+2);_21=(_21<0)?0:_21;_22=(_22<0)?0:_22;_20.style.height=_21+"px";_20.style.width=_22+"px";var _23=0;if(this.hasFooter){_23=this.getElementById(this.id+"_foot_table").offsetHeight;_23=(_23==0)?this.footerHeight:_23;}var _24;if(this.options.visibleRowNum!==""){var _25=this.getElementById(this.id+"_body_table");if(!this.defaultDataLayerHeight||_25.offsetHeight>this.defaultDataLayerHeight){_24=_25.offsetHeight+_23;}else{_24=this.defaultDataLayerHeight+_23;}}else{_24=_21-_23-1;}_24=_24<0?0:_24;var _26=this.getElementById(this.id+"_dataLayer");_26.style.height=_24+"px";this.dataLayerHeight=_24;var _27=this.getElementById(this.id+"_scrollX_right");_27.style.width=_27.parentNode.offsetWidth+"px";if(_1d){_20.style.position="relative";_20.style.bottom="";_20.style.right="";_26.style.position="relative";_26.style.bottom="";}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aa.prototype.setOverflowX=function(_28){var _29=true;if(typeof _28!="undefined"){if(_28!="hidden"&&_28!="auto"&&_28!="scroll"){_28="auto";}this.options.overflowX=_28;}else{_29=false;}_28=this.isMobile?"hidden":this.options.overflowX;switch(_28){case "auto":this.setOverflowXAuto();break;case "hidden":this.setOverflowXHidden();break;default:this.setOverflowXScroll();break;}if(this.isMobile){this.setIScrollX();}if(_29){this.setIE6Fix();}};$W._a.aa.prototype.setOverflowXAuto=function(){var _2a=this.getElementById(this.id+"_scrollX_div");var _2b=this.getElementById(this.id+"_scrollX_left");var _2c=this.getElementById(this.id+"_scrollX_right");if(_2c.firstChild.offsetWidth>_2a.offsetWidth-_2b.offsetWidth){this.setOverflowXScroll();}else{this.setOverflowXHidden();}};$W._a.aa.prototype.setOverflowXScroll=function(){["WebSquare.uiplugin.drawInitializer.prototype.setOverflowXScroll"];try{var _2d=this.getElementById(this.id+"_scrollX_div");var _2e=_2d.style.height;_2d.style.height=(this.scrollLayerWidthSize)+"px";if(this.options.scrollFocus=="true"&&this.options.senseReader==true){var _2f=this.getElementById(this.id+"_scrollX_right");var _30=this.getElementById(this.id+"_scrollX_left");_2f.setAttribute("aria-hidden","true");if(_2f.firstChild.offsetWidth>_2d.offsetWidth-_30.offsetWidth){_2f.setAttribute("tabIndex","0");}else{_2f.setAttribute("tabIndex","-1");}}if(this.rowIndex!==-1&&_2e==="0px"){if(this.options.visibleRowNum!==""){var _31=parseInt(this.render.style.height,10);this.setSize(null,_31+this.scrollWidthSize);}else{this.dataLayerHeight-=this.scrollWidthSize;var _32=this.dataRowList[(this.lastIndex+1)*this.oneRowLength-1];if(_32&&_32.offsetTop+_32.offsetHeight>this.dataLayerHeight){this._setRowDisplay(this.lastIndex,"none");this.lastIndex=this.lastIndex-1;this.maxRowLength=this.maxRowLength-1;this.lastDisplayedRow=this.lastIndex;this.lastTopRowIndex=null;this.setScrollYHeight({noDraw:true});this.setOverflowYAuto();}}}if(!this.isIE6){var _33=this.getElementById(this.id+"_main_div");var _2d=this.getElementById(this.id+"_scrollX_div");var _34=parseInt(_2d.style.height,10);_33.style.bottom=_34+"px";if(this.options.groupbyZone&&this.options.groupbyFilterBox){if(this.options.groupbyFilterBoxLocation==="bottom"){var _35=this.getElementById(this.id+"_groupbyFilterBox_div");_33.style.bottom=(this.scrollLayerWidthSize+_35.offsetHeight)+"px";}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aa.prototype.setOverflowXHidden=function(){["WebSquare.uiplugin.drawInitializer.prototype.setOverflowXHidden"];try{var _36=this.getElementById(this.id+"_scrollX_div");var _37=_36.style.height;_36.style.height="0px";if(this.options.scrollFocus=="true"&&this.options.senseReader==true){var _38=this.getElementById(this.id+"_scrollX_right");var _39=this.getElementById(this.id+"_scrollX_left");_38.setAttribute("aria-hidden","true");if(_38.firstChild.offsetWidth>_36.offsetWidth-_39.offsetWidth){_38.setAttribute("tabIndex","0");}else{_38.setAttribute("tabIndex","-1");}}if(_37!="0px"){this.handleScrollX();}if(this.rowIndex!==-1&&_37!=="0px"){if(this.options.visibleRowNum!==""){var _3a=parseInt(this.render.style.height,10);this.setSize(null,_3a-this.scrollWidthSize);}else{this.dataLayerHeight+=this.scrollWidthSize;this.maxRowLength=this.maxRowLength+1;var _3b=this.getDataLength();if(this.maxRowLength>=_3b){this.getElementById(this.id+"_size_y").style.height="0px";}this.setOverflowYAuto();this.drawData(this.rowIndex,this.lastIndex);for(var i=0;i<this.tdIdList.length;i++){var _3d=this.cellInfoHash[this.tdIdList[i]];if(_3d.dataComp){var _3e=this.modelControl.getDataComp(_3d.dataComp);if(_3e.initializeType==="linkedDataList"){_3e.syncWithParent();}}}this.lastTopRowIndex=null;}}var _3f=this.getElementById(this.id+"_main_div");if(!this.isIE6){_3f.style.bottom="0px";}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aa.prototype.setOverflowY=function(_40){var _41=true;if(typeof _40!="undefined"){if(_40!="hidden"&&_40!="auto"&&_40!="scroll"){_40="auto";}this.options.overflowY=_40;}else{_41=false;}_40=this.isMobile?"hidden":this.options.overflowY;switch(_40){case "auto":this.setOverflowYAuto();break;case "hidden":this.setOverflowYHidden();break;default:this.setOverflowYScroll();break;}if(this.isMobile){this.setIScrollY();}if(_41){this.setIE6Fix();}};$W._a.aa.prototype.setOverflowYAuto=function(){var _42=this.getElementById(this.id+"_scrollY_div");if(_42.offsetHeight<_42.scrollHeight){this.setOverflowYScroll();}else{this.setOverflowYHidden();}};$W._a.aa.prototype.setOverflowYScroll=function(){var _43=this.getElementById(this.id+"_scrollY_div");var _44=this.getElementById(this.id+"_scrollX_div");var _45=this.getElementById(this.id+"_main_div");var _46=parseInt(_43.style.width,10);_43.style.width=this.scrollLayerWidthSize+"px";_43.style.overflowY="scroll";if(!this.isIE6){_45.style.right=(this.scrollWidthSize-1)+"px";_44.style.right=this.scrollWidthSize+"px";}else{var _47=this.render.offsetWidth-this.scrollWidthSize;_44.style.width=(_47>0?_47:0)+"px";_43.style.height=this.render.offsetHeight+"px";}if(this.options.groupbyZone&&this.options.groupbyFilterBox){var _48=this.getElementById(this.id+"_groupbyFilterBox_div");_48.style.right=_45.style.right;}if(_46==0){this._setAutoFit();}if(this.options.scrollFocus=="true"&&this.options.senseReader==true){_43.setAttribute("aria-hidden","true");if(_43.offsetHeight<_43.scrollHeight){_43.setAttribute("tabIndex","0");}else{_43.setAttribute("tabIndex","-1");}}};$W._a.aa.prototype.setOverflowYHidden=function(){var _49=this.getElementById(this.id+"_scrollY_div");var _4a=parseInt(_49.style.width,10);_49.style.width="0px";_49.style.overflowY="hidden";var _4b=this.getElementById(this.id+"_main_div");if(!this.isIE6){_4b.style.right="0px";var _4c=this.getElementById(this.id+"_scrollX_div");_4c.style.right="0px";}if(this.options.groupbyZone&&this.options.groupbyFilterBox){var _4d=this.getElementById(this.id+"_groupbyFilterBox_div");_4d.style.right=_4b.style.right;}if(_4a!=0){this._setAutoFit();}if(this.options.scrollFocus=="true"&&this.options.senseReader==true){_49.setAttribute("aria-hidden","true");if(_49.offsetHeight<_49.scrollHeight){_49.setAttribute("tabIndex","0");}else{_49.setAttribute("tabIndex","-1");}}};$W._a.aa.prototype.setTrRowTable=function(){["WebSquare.uiplugin.drawInitializer.prototype.setTrRowTable"];try{this.tempDiv=document.createElement("div");this.tempDiv.style.width="0px";this.tempDiv.style.height="0px";this.tempDiv.style.overflow="hidden";this.tempDiv.innerHTML="<table id='tempTable' style='table-layout:fixed; border-collapse:collapse; border-spacing:0px;'>"+this.getTableHtml(this.htmlInfo.body,"tbody","td",this.options.bodyTdClass)+"</table>";this.tempTr=this.tempDiv.getElementsByTagName("table")[0];var tds=this.tempTr.getElementsByTagName("td");this.aria_labelledby=[];for(var i=0;i<tds.length;i++){if(this.options.autoScope&&i==0){tds[i].setAttribute("scope","row");}this.aria_labelledby[i]=tds[i].getAttribute("aria-labelledby");tds[i].innerHTML="";}this.tempDiv.id=this.id;this.tempDiv.className="w2grid";document.body.appendChild(this.tempDiv);var _50=this.tempDiv.getElementsByTagName("tbody")[0].offsetHeight;if(_50==0){if(this.options.defaultCellHeight!=-1){_50=this.options.defaultCellHeight;}else{_50=20;}}this.oneRowHeight=_50+($W._G.isIE(6)||$W._G.isIE(7)?1:0);if(this.options.scrollRowHeight){this.oneRowScrollHeight=this.oneRowHeight;}document.body.removeChild(this.tempDiv);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aa.prototype.setTrSubtotalRowTable=function(){["WebSquare.uiplugin.drawInitializer.prototype.setTrSubtotalRowTable"];try{this.subtotalTableList={};for(var _51 in this.subtotalStrList){var _52=document.createElement("div");_52.style.width="0px";_52.style.height="0px";_52.style.overflow="hidden";_52.innerHTML="<table id='tempTable' style='width:100%;table-layout:fixed; border-collapse:collapse; border-spacing:0px;'>"+this.getTableHtml(this.subtotalStrList[_51],"tbody","td",this.options.subtotalTdClass)+"</table>";var _53=_52.getElementsByTagName("table")[0];var _54=_53.getElementsByTagName("td");for(var j=0;j<_54.length;j++){var _56=_54[j];var _57=_56.getAttribute("width");if(_57){_56.removeAttribute("width");_56.setAttribute("or_wd",_57);}}this.subtotalTableList[_51]=_53;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aa.prototype._setAutoFit=function(_58){["WebSquare.uiplugin.drawInitializer.prototype._setAutoFit"];if(this.render.offsetWidth==0||this.render.offsetHeight==0){return;}var _58=_58||{};var _59=_58.type?_58.type:this.options.autoFit;var _5a=_58.exceptCol;var _5b=_58.exceptWidth||0;var _5c=this.options.autoFitFixYScroll?this.scrollLayerWidthSize:parseInt(this.getElementById(this.id+"_scrollY_div").style.width,10);var _5d=this.render.clientWidth;this.autofit_clientWidth=_5d;var _5e=0;for(var i=this.colWidthList.length-1;i>=0;i--){if(this.hiddenList[i]==false){_5e=i;break;}}if(_59=="selectedColumn"&&!this.autofitColumn){if(this.gridWidth>=_5d){return;}this.autofitColumn=true;var _60=this.defaultColCnt+_58.colIndex;this.gridWidth-=this.colWidthList[_60];this.autofitColumnIndexArr.push(_60);this.colWidthList[_60]="*";this.autofitColumnWidthArr[_60]="*";}if(this.autofitColumn){var _61=_5d;var _62=this.autofitColumnIndexArr.slice();if(_5c>0){_61-=_5c;}for(var i=0;i<_62.length;i++){if(this.hiddenList[_62[i]]==true){if($W._G.isIE("6 7 8")){for(var j=0;j<_62.length;j++){if(_62[j]===_62[i]){_62.splice(j,1);break;}}}else{var _64=_62.indexOf(_62[i]);_62.splice(_64,1);}}}var _65=0;var _66=[];for(var i=0;i<this.colWidthList.length;i++){if(this.hiddenList[i]==true){continue;}if(i<this.autofitColumnWidthArr.length&&this.autofitColumnWidthArr[i]){var _67=this.autofitColumnWidthArr[i].substring(0,this.autofitColumnWidthArr[i].indexOf("*"));if(_67.length>0){_66.push(parseInt(_67,10));}else{if(_67.length==0){_66.push(1);}}}else{_61-=this.colWidthList[i];}}var gcd=function(o){if(!o.length){return 0;}for(var r,a,i=o.length-1,b=o[i];i;){for(a=o[--i];r=a%b;a=b,b=r){}}return b;};var _6b=gcd(_66);for(var i=0;i<_66.length;i++){_66[i]=_66[i]/_6b;_65=_65+_66[i];}var _6c=Math.floor(_61/_65);var _6d=_61-(_6c*_65);for(var i=0;i<_62.length;i++){var _6e=this.options.autoFitMinWidth||0;var _6f=_62[i];var _70=_6c*_66[i];_66[i]=_70;if(_70<_6e){this._setColumnWidth(_6f,_6e);}else{this._setColumnWidth(_6f,_70);}}if(_6d>0){if(_62.length==1){this._setColumnWidth(_62[0],_6d);}else{var _71=_66.slice();for(var i=_6d;i>0;i--){var _72={};for(var j=0;j<_66.length;j++){if(this.hiddenList[_62[j]]==true){continue;}var _73=Math.abs((_71[j]-(_66[j]+1))*(this.gridWidth/_71[j]));if(_72.distortion==undefined||_72.distortion>_73){_72.distortion=_73;_72.index=j;}}_66[_72.index]++;}for(var t=0;t<_66.length;t++){this._setColumnWidth(_62[t],_66[t]);}}}}if(_59=="lastColumn"){if(!this.autoFitGridWidth){this.autoFitGridWidth=this.gridWidth;this.orgLastWidth=this.colWidthList[_5e];this.orgLastVisibleCol=_5e;}if(typeof _5a=="number"&&_5a!=_5e){this.autoFitGridWidth+=_5b-this.colWidthList[_5a];this._setColumnWidth(_5a,_5b);}var _75=_5d-_5c-this.gridWidth+this.colWidthList[_5e];var _76=this.gridWidth+_75-this.colWidthList[_5e];if(_75>this.orgLastWidth){this._setColumnWidth(_5e,_75);}else{this._setColumnWidth(_5e,this.orgLastWidth);}}else{if(_59=="allColumn"){if(!this.autofitColumn){var _77=this.autoFitColWidthList||this.colWidthList;var _76=_5d-_5c;var _78=[];if(this.options.keepDefaultColumnWidth){for(var i=0;i<this.defaultColCnt;i++){_78.push(i);}}var _6e=parseInt(_58.minWidth?_58.minWidth:this.options.autoFitMinWidth,10);if(!isNaN(_6e)&&_6e>_76){_76=_6e;}_76-=_5b;for(var i=0;i<_78.length;i++){_76-=this.colWidthList[_78[i]];}var _79=0;for(var i=0;i<_77.length;i++){var _7a=false;if(this.options.keepDefaultColumnWidth&&i==0||i==1){for(var _7b=0;_7b<_78.length;_7b++){if(_78[i]==i){_7a=true;}}}_79+=(this.hiddenList[i]||i===_5a||_7a)?0:_77[i];}var _7c=0;var _7d=_79?(_76/_79):0;var _7e=[];if(_7d){for(var i=0;i<_77.length;i++){var _7a=false;if(this.options.keepDefaultColumnWidth&&i==0||i==1){for(var _7b=0;_7b<_78.length;_7b++){if(_78[i]==i){_7a=true;}}}if(i==_5a){this.colWidthList[i]=_5b;}else{if(_7a){this.colWidthList[i]=this.colWidthList[_78[i]];}else{_7e[i]=_7d*_77[i];var _7f=Math.round(_7e[i]);this.colWidthList[i]=_7f;_7c+=this.hiddenList[i]?0:_7f;}}}var _80=_76-_7c;var _81=(_80>0)?1:-1;for(i=0;i<_80*_81;i++){var min={};for(j=0;j<_77.length;j++){var _7a=false;if(this.options.keepDefaultColumnWidth&&j==0||j==1){for(var _7b=0;_7b<_78.length;_7b++){if(_78[j]==j){_7a=true;}}}if(this.hiddenList[j]||j==_5a||_7a){continue;}var _73=Math.abs(_7e[j]-(this.colWidthList[j]+_81))*(_7c/this.colWidthList[j]);if(min.value==undefined||min.value>_73){min.value=_73;min.index=j;}}this.colWidthList[min.index]+=_81;_7c+=_81;}if(this.hiddenList[0]&&$W._G.isIE(8)){for(var i=0;i<this.colWidthList.length;i++){if(!this.hiddenList[i]){this.colWidthList[i]=this.colWidthList[i]-2;break;}}}}if(!this.autoFitColWidthList){this.autoFitColWidthList=this.colWidthList.slice(0);}this.gridWidth=_7c+_5b;if(this.options.keepDefaultColumnWidth){for(var i=0;i<_78.length;i++){this.gridWidth+=this.colWidthList[_78[i]];}}this.arrangeOverflowXScroll();this.setOverflowX();this.handleScrollX();this.handlerResize_drawInitializer();}for(var i=0;i<this.oneRowDataLength;i++){var _83=this.getCellInfo(i);if((_83.options.inputType=="text"||_83.options.inputType=="secret"||_83.options.inputType=="calendar")&&_83.options.embeddedInput&&(this.options.autoResizeEmbeddedInput||_83.options.inputType=="calendar")){if(!this.hiddenList[i]){if(this.embeddedWidthObj[i]){this.embeddedWidthObj[i]["isChanged"]=true;}this.drawColumnData(i);}}}}else{if(_59=="clear"){if(!this.autoFitGridWidth){this.autoFitGridWidth=this.gridWidth;}if(typeof _5a=="number"){this.autoFitGridWidth+=_5b-this.colWidthList[_5a];this._setColumnWidth(_5a,_5b);}}}}var _84=this.getColCnt();for(var i=0;i<_84;i++){var _85=this.getHeaderIDArr(i);if(!_85||!_85.length){continue;}for(var j=0;j<_85.length;j++){var _86=_85[j];var td=this.getHeaderLayer(_86);var _88=td.getAttribute("useFilter");_88=$W._G.getBoolean(_88);if(td.offsetWidth>0&&_88){var _89=td.children[0];var _8a=td.getAttribute("value");if(_8a&&_8a.length&&_89&&_89.tagName==="TABLE"){var _8b=_89.getElementsByTagName("nobr")[0];if(_8b){_8b.innerHTML=_8a;for(var k=0;k<_8a.length;k++){if(_89.offsetWidth>td.offsetWidth){_8b.innerHTML=_8a.substr(0,_8a.length-(k+1));}else{break;}}}}}}}};$W._a.aa.prototype.setAutoFit=function(_8d){["WebSquare.uiplugin.drawInitializer.prototype.setAutoFit"];try{if(_8d){this.options.autoFit=_8d.type;}this._setAutoFit(_8d);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aa.prototype.autoFitFunc=function(){if(this.autofit_clientWidth===this.render.clientWidth){$W._N.clearTimer(this.id+"_autofit");}else{$W._N.setTimer(this._setAutoFit,{key:this.id+"_autofit",caller:this,delay:100});}};$W._a.aa.prototype.setIScrollX=function(){["WebSquare.uiplugin.drawInitializer.prototype.setIScrollX"];try{var _8e=this.getElementById(this.id+"_iScrollX");if(!_8e){return;}var _8f=this.getElementById(this.id+"_scrollX_right");if(_8f.offsetWidth>=_8f.firstChild.offsetWidth){_8e.style.visibility="hidden";return;}var _90=this.getElementById(this.id+"_dataLayer");var _91=parseInt(this.getElementById(this.id+"_scrollX_left").style.width,10);var _92=_8f.firstChild.offsetWidth-_8f.offsetWidth;var _93=parseInt(_8f.offsetWidth*_8f.offsetWidth/_8f.firstChild.offsetWidth,10);_8e.style.width=(_93<30?30:_93)+"px";_8e.style.left=(_91+_8f.scrollLeft/_92*(_90.offsetWidth-_91-_8e.offsetWidth))+"px";_8e.style.visibility="";}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aa.prototype.setIScrollY=function(){["WebSquare.uiplugin.drawInitializer.prototype.setIScrollY"];try{var _94=this.getElementById(this.id+"_iScrollY");if(!_94){return;}var _95=this.getDataLength();var _96=this.rowIndex;var _97=this.getElementById(this.id+"_size_y").parentNode.offsetHeight;if(_97==0){_97=parseInt(this.getStyleValue("height"));}if(_96==-1||(_96==0&&_96+this.lastIndex+1==_95)){var _98=!this.hasSubtotal;if(this.hasSubtotal){if(this.drawedSubtotal.length>0){var _99=this.drawedSubtotal[this.drawedSubtotal.length-1];if(_99.rowIndex==dataLen-1){var _9a=_99[_99.length-1];if(_9a.style.display!="none"){_98=true;}}}}if(_98){_94.style.visibility="hidden";return;}}var _9b=this.getElementById(this.id+"_scrollY_div");var _9c=_9b.firstChild.offsetHeight;var _9d=this.getElementById(this.id+"_dataLayer");var _9e=_9c-_9d.offsetHeight;var _9f=parseInt(_9d.offsetHeight*_9d.offsetHeight/_9c,10);_94.style.height=(_9f<30?30:_9f)+"px";_94.style.top=(_9b.scrollTop/_9e*(_9d.offsetHeight-_94.offsetHeight))+"px";_94.style.visibility="";}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aa.prototype.createBlockedHeaderInfo=function(){["WebSquare.uiplugin.drawInitializer.prototype.createBlockedHeaderInfo"];try{var _a0=function(arr,_a2){var max=0;var _a4=arr[_a2];if(typeof _a4=="string"){for(var i=_a2;i<arr.length;i++){if(typeof arr[i]=="string"){max++;}else{break;}}}else{if(_a4>1){max=_a4;}}return max;};var _a6=this.htmlInfo.body.rowArr;var _a7=this.htmlInfo.head.rowArr;this.colSpanInfoObj={};for(var _a8=0;_a8<_a7.length;_a8++){this.colSpanInfoObj["header_row_"+_a8]=[];for(var _a9=0;_a9<_a7[_a8].length;_a9++){var _aa=_a7[_a8][_a9];var _ab=parseInt(_aa.colSpan,10)||1;if(_ab>1){for(var _ac=0;_ac<_ab;_ac++){if(_ac==0){this.colSpanInfoObj["header_row_"+_a8].push(_ab);}else{this.colSpanInfoObj["header_row_"+_a8].push("*");}}}else{this.colSpanInfoObj["header_row_"+_a8].push(_ab);}}}for(var _a8=0;_a8<_a6.length;_a8++){this.colSpanInfoObj["body_row_"+_a8]=[];for(var _a9=0;_a9<_a6[_a8].length;_a9++){var _aa=_a6[_a8][_a9];var _ab=parseInt(_aa.colSpan,10)||1;if(_ab>1){for(var _ac=0;_ac<_ab;_ac++){if(_ac==0){this.colSpanInfoObj["body_row_"+_a8].push(_ab);}else{this.colSpanInfoObj["body_row_"+_a8].push("*");}}}else{this.colSpanInfoObj["body_row_"+_a8].push(_ab);}}}var _ad=0;var _ae;var _af=[];var _b0=this.colSpanInfoObj["header_row_0"];for(var _a9=0;_a9<_b0.length;_a9++){if(_a9<_ad){continue;}var _aa=_b0[_a9];var max=0;for(var key in this.colSpanInfoObj){var _ab=_a0(this.colSpanInfoObj[key],_a9);if(max<_ab){max=_ab;if(_af.length==0){var _b3=this.colIndexes.headerColInfo.colIndexMatch[_a9+this.defaultColCnt][0]-this.defaultColCnt;var _b4=_a7[0][_b3].id;_ae=this.getHeaderIndex(_b4);_af.push({"startHeaderID":_b4});}}}var _b5=_ad+max-1;if(_ad<_b5){_ad=_b5;}else{if(_af.length!=0){var _b3=this.colIndexes.headerColInfo.colIndexMatch[_a9+this.defaultColCnt][0]-this.defaultColCnt;var _b4=_a7[0][_b3].id;var _b6=this.getHeaderIndex(_b4);_af[0]["endHeaderID"]=_b4;_af[0]["blockLength"]=_b3-_ae+1;for(var i=_ae;i<=_b6;i++){this.colMoveBolockedHeaderObj[_a7[0][i].id]=_af[0];}_af=[];_ad=_a9;}else{_ad=_a9;continue;}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};;WebSquare.uiplugin.drawInitializer=$W._a.aa;$W._a.az=function(){["WebSquare.uiplugin.eventController"];};$W._a.az.prototype.initializeEvent=function(){["WebSquare.uiplugin.eventController.prototype.initializeEvent"];try{this.otherClickEvent();this.checkResize();this.event.addListener(this.render,"ondblclick",this.event.bindAsEventListener(this,this.handleDblClickEvent));this.event.addListener(this.render,"onclick",this.event.bindAsEventListener(this,this.handleClickEvent));if(!$W._G.isIEAllVersion()){if($W._N.browserCheck.safari){this.event.addListener($W.getBody().render,"onbeforecopy",this.event.bindAsEventListener(this,this.handleBeforeCopyEvent));this.event.addListener($W.getBody().render,"oncopy",this.event.bindAsEventListener(this,this.handleCopyEvent));this.event.addListener(this.render,"onpaste",this.event.bindAsEventListener(this,this.handlePasteEvent));}else{this.event.addListener(this.render,"oncopy",this.event.bindAsEventListener(this,this.handleCopyEvent));this.event.addListener(this.render,"onpaste",this.event.bindAsEventListener(this,this.handlePasteEvent));}}else{if($W._G.isIEAllVersion()){this.event.addListener(this.render,"oncopy",this.event.bindAsEventListener(this,function(e){if(!this.options.preventCopy){$W._c.preventDefault(e);}}));this.event.addListener(this.render,"onpaste",this.event.bindAsEventListener(this,function(e){if(this.options.preventPaste){$W._c.preventDefault(e);}}));}}if(!this.isMobile){this.event.addListener(this.getElementById(this.id+"_head_table"),"onmouseover",this.event.bindAsEventListener(this,this.gridDataLayerOut));this.event.addListener(this.getElementById(this.id+"_scrollX_div"),"onmouseover",this.event.bindAsEventListener(this,this.gridDataLayerOut));this.event.addListener(this.getElementById(this.id+"_scrollY_div"),"onmouseover",this.event.bindAsEventListener(this,this.gridDataLayerOut));this.event.addListener(this.getElementById(this.id+"_dataLayer"),"onmouseover",this.event.bindAsEventListener(this,this.gridOver));if(this.hasFooter){this.event.addListener(this.getElementById(this.id+"_foot_table"),"onmouseover",this.event.bindAsEventListener(this,this.gridOver));}}this.event.addListener(this.getElementById(this.id+"_dataLayer"),"oncontextmenu",this.event.bindAsEventListener(this,this.clickRightButtonCell));this.event.addListener(this.render,"onmouseout",this.event.bindAsEventListener(this,this.gridOut));this.event.addListener(this.render,"onkeydown",this.event.bindAsEventListener(this,this.handleKeyDownEvent));this.event.addListener(this.render,"onkeyup",this.event.bindAsEventListener(this,this.handleKeyUpEvent));if($W._G.isOpera()){this.event.addListener(this.render,"onkeypress",function(e){if(e.keyCode==9||e.keyCode==27){$W._c.preventDefault(e);}});}if(this.options.dataDragDrop){if(this.isMobile==true){}else{this.event.addListener(this.render,"onmousedown",this.event.bindAsEventListener(this,this.handleDragEvent));}}else{if(!this.options.dataDragDrop&&this.options.dataDragSelect){if(!this.isMobile){this.event.addListener(this.getElementById(this.id+"_dataLayer"),"onmousedown",this.event.bindAsEventListener(this,this.handleDragSelectEvent));}}}$W._N.setTimer(function(){this.event.addListener(this.render,"onmousedown",this.event.bindAsEventListener(this,function(e){var _5=$W.getBody().getLayerListener();if(_5.layers[this.id]){var _6=_5.layers[this.id].component;var _7={};while(_6.parentControl){_6=_6.parentControl;for(var id in _5.useOtherComponentId){if(_5.useOtherComponentId[id]==_6.id){_7[id]=true;}}}$W.getBody().getLayerListener().hideAll(_7);}if(!this.parentControl||!this.parentControl.options||(this.parentControl.options.pluginName!="gridItemTable"&&this.parentControl.options.pluginName!="gridViewItemTable")){$W._c.stopPropagation(e);}}));},{key:this.id+"initializeEvent",caller:this,delay:100});if(this.isMobile){this.iScroll={};this.event.addListener(this.render,"ontouchstart",this.event.bindAsEventListener(this,this.handleTouchStart));this.event.addListener(this.render,"ontouchmove",this.event.bindAsEventListener(this,this.handleTouchMove));this.event.addListener(this.render,"ontouchend",this.event.bindAsEventListener(this,this.handleTouchEnd));}else{if(window.navigator.msPointerEnabled&&window.navigator.userAgent.toLowerCase().indexOf("touch")!=-1){this.iScroll={};this.render.style.touchAction="none";this.event.addListener(this.render,"onMSPointerDown",this.event.bindAsEventListener(this,this.handleTouchStart));this.event.addListener(this.render,"onMSPointerMove",this.event.bindAsEventListener(this,this.handleTouchMove));this.event.addListener(this.render,"onMSPointerUp",this.event.bindAsEventListener(this,this.handleTouchEnd));}else{if(this.options.senseReader){this.event.addListener(this.getElementById(this.id+"_gridstart_div"),"onfocus",this.event.bindAsEventListener(this,this.handleStartDivFocus));this.event.addListener(this.getElementById(this.id+"_gridend_div"),"onfocus",this.event.bindAsEventListener(this,this.handleEndDivFocus));this.event.addListener(this.getElementById(this.id+"_gridend_div"),"onkeydown",this.event.bindAsEventListener(this,this.handleEndDivKeyDown));this.event.addListener(this.getElementById(this.id+"_gridend_div"),"onkeyup",this.event.bindAsEventListener(this,this.handleEndDivKeyUp));}}}this.initializeLayoutEvents();$W._G.setInterval(this.checkResize,{key:this.id+"_checkResize",caller:this,delay:70});}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.az.prototype.handleStartDivFocus=function(e){this.focusedCellLinkIndex=-1;this.focusedCellLinkLength=0;this.applyFocusedCellOut();this.focusedCell=[];this.addGridScroll(0-this.rowIndex);var _a=this.getElementById(this.id+"_scrollY_div").scrollTop;if(_a!=0){this.addGridScroll(0-this.rowIndex);}};$W._a.az.prototype.handleEndDivFocus=function(e){this.focusedCellLinkIndex=-1;this.focusedCellLinkLength=0;this.applyFocusedCellOut();this.focusedCell=[];};$W._a.az.prototype.handleEndDivKeyDown=function(e){if(e.shiftKey&&e.keyCode==9){var _d=this.getElementById(this.id+"_size_y").parentNode.offsetHeight;var _e=parseInt(this.getElementById(this.id+"_size_y").style.height,10);if(_e==0){return;}var _f=_e-_d;var _10=this.getElementById(this.id+"_scrollY_div").scrollTop;if(_f!=_10){var _11=0;for(var i=0;i<this.getRowCount();i++){_11+=this.getHasSubtotalCount(i);}this.addGridScroll(this.getRowCount()-this.rowIndex-this.lastIndex-1+_11);}var _13=this.getRowCount()-1;var _14=this.getRightMostFocusableColIndex(_13);while(_13>=0&&_14==null){_13-=1;_14=this.getRightMostFocusableColIndex(_13);}if(_14!=null){this.setFocusedCell(_13,_14,false,{tabDirection:"left"});$W._c.stopEvent(e);}}};$W._a.az.prototype.handleEndDivKeyUp=function(e){if(e.keyCode==38&&(this.options.visibleRowNum!="all")){this.getElementById(this.id+"_scrollY_div").scrollTop=0;}};$W._a.az.prototype.handleTdFocus=function(e){var td=$W._c.getTarget(e);var _18=this.getLastFocusedCell();if(td.tagName=="TD"&&_18.focusedTd!=undefined&&_18.focusedTd!=td&&!this.focusedByApi){var _19=parseInt(td.getAttribute("tdIndex"));var _1a=parseInt(_19/this.realRowDataLength);var _1b=_1a+this.rowIndex;var _1c=td.getAttribute("col_id");this.setFocusedCell(_1b,_1c);}this.focusedByApi=false;};$W._a.az.prototype.handleDragSelectEvent=function(e){if(this.isDrillDown){return;}var it=this.event.getTargetIterator(e);while(it.next()){if(it.match(null,null,"td")){var _1f=this;var _20=it.getElement();$W._K.gDragManager.activate(e,this.render,{id:this.id+"_dragSelect",delay:15,handleStart:function(e){_1f._setFocusedCell(e,_20,{editMode:false});},handleUpdate:function(x,y,dx,dy,e){var _27=null;var _28=null;var it2=_1f.event.getTargetIterator(e);while(it2.next()){if(it2.match("w2grid")){_27=it2.getElement().id;break;}if(it2.match(null,null,"td")){_28=it2.getElement();}}if(_27!=null&&_28!=null&&_1f.id==_27){_1f._setFocusedCell({shiftKey:true},_28,{editMode:false});}}});if($W._G.isIEAllVersion()){$W._G.emptySelection();$W._c.preventDefault(e);}return;}}};$W._a.az.prototype.handleDragEvent=function(e){if(this.isDrillDown&&!this.drillDownDragDrop){return;}if(this.editedCell){return;}var it=this.event.getTargetIterator(e);while(it.next()){if(it.match(null,null,"td")){var _2c=it.getElement();var _2d=[];var _2e=this.rowIndex+parseInt(parseInt(_2c.getAttribute("tdIndex"))/(this.oneRowDataLength+this.defaultColCnt));if(this.options.dragDisplayColumn==""){_2d.push(_2c.getAttribute("col_id"));}else{_2d=this.options.dragDisplayColumn.split(",");}var _2f=[];for(var i=0;i<_2d.length;i++){_2f.push(this.getCellDisplayData(_2e,_2d[i].wq_trim()));}_2f=_2f.join(",");var _31=this;$W._K.gDragManager.activate(e,_2c,{id:this.id+"_drag",className:"w2grid_drag",contents:_2f,delay:15,applyMousePosition:true,onDrop:function(_32,_33,x,y,dx,dy,e){var _39=null;var _3a=null;var _3b=null;var _3c;var it2=null;if(this.isMobile){it2=new $W.targetIterator(document.elementFromPoint(e.changedTouches[0].clientX,e.changedTouches[0].clientY));e.preventDefault();}else{it2=_31.event.getTargetIterator(e);}while(it2.next()){if(it2.match(null,null,"body")){return;}if(it2.match("w2grid")){_39=it2.getElement().id;break;}if(it2.match("w2grid_tooltip")){var _3e=it2.getElement();_3e.style.display="none";it2=new $W.targetIterator(document.elementFromPoint($W._c.getClientX(e),$W._c.getClientY(e)));}if(_3b==null&&it2.match(null,null,"td")){var _3f=it2.getElement();_3b=parseInt(_3f.getAttribute("tdIndex"),10);_3c=parseInt(_3f.getAttribute("colindex"),10);if(typeof _3c!="number"){_3c=undefined;}}if(_3b!=null){}}if(_39!=null){_39=$W._G.getComponentById(_39);_3a=_39.getDataLength();if(_3b!=null){_3a=_39.rowIndex+parseInt(_3b/(_39.oneRowDataLength+_39.defaultColCnt));}}var _40=_31.dataList.getRowXML(_2e);var _41=_32.getAttribute("col_id");var _42=_31.getColumnIndex(_41);if(_31.options.dragStartFunction!=""){var _43=$W._G.getGlobalFunction(_31.options.dragStartFunction,_31.scope_id);if(typeof _43=="function"){if(_31.drillDownDragDrop){var _44;var _45;if(_31.getRowCount()<=_3a){_44=undefined;_45=undefined;}else{_44=_31.getRealRowIndex(_3a);_45=_31.dataList.getRowData(_3a);}var _46=_31.getRealRowIndex(_2e);var _47=[_46].concat(_31.drilldown.getRecursiveRowIndex(_46));var _48=[];for(var i=0;i<_47.length;i++){_48=_48.concat(_31.dataList.getRowData(_31.getDisplayRowIndex(_47[i])));}var _4a=_43.call(_31,{"parentRowIndex":_44,"parentRowData":_45,"beforeRemoveData":_48,"beforeRemoveRowIndex":_47});if(!_4a){return;}}else{var _4b={"fromColumnId":_41,"fromColumnIndex":_42};_40=_43.call(_31,_2e,_40,_4b);}}}if(_39.options.dragEndFunction!=""){var _4c=$W._G.getGlobalFunction(_39.options.dragEndFunction,_31._scope_id);if(typeof _4c=="function"){if(_31.drillDownDragDrop){if(_31.id==_39.id&&_31.isDrillDown&&(_3a!=_2e)){var _4d;var _46=_31.getRealRowIndex(_2e);if(_31.getRowCount()<=_3a){_31.drilldown.bodyDrop=true;var _4e=_31.getRealRowIndex(_3a-1);_4d=_4e+_31.drilldown.getRecursiveRowCount(_4e);}else{_4d=_31.getRealRowIndex(_3a)+1;}var _4f=[_46].concat(_31.drilldown.getRecursiveRowIndex(_46));var _50=_31.drilldown.moveNode(_46,_4d);var _51=[_50.insertedRowIndex].concat(_31.drilldown.getRecursiveRowIndex(_50.insertedRowIndex));_4c.call(_31,_4d,_40,{"removedData":_50.detachedData,"removedRowIndex":_4f,"insertedData":_50.insertedData,"insertedRowIndex":_51,"fromRowIndex":_46,"toRowIndex":_51[0]});}}else{var _52=typeof _3c=="number"?_39.getColumnID(_3c):undefined;var _4b={"fromColumnId":_41,"fromColumnIndex":_42,"toColumnId":_52,"toColumnIndex":_3c};if(_4c.call(_31,_3a,_40,_4b)){_31.dataList.removeRow(_2e);}}}}else{if(_31.id==_39.id&&_31.isDrillDown&&(_3a!=_2e)){if(_31.drillDownDragDrop){var _4d;var _46=_31.getRealRowIndex(_2e);if(_31.getRowCount()<=_3a){_31.drilldown.bodyDrop=true;var _4e=_31.getRealRowIndex(_3a-1);_4d=_4e+_31.drilldown.getRecursiveRowCount(_4e);}else{_4d=_31.getRealRowIndex(_3a)+1;}var ret=_31.drilldown.moveNode(_46,_4d);return;}}if(_31.id==_39.id){if(_3a>_2e){_3a++;}else{_2e++;}}_39.dataList.setRowXML(_3a,_40);if(_31._linkedDataList){_2e=_31._linkedDataList.getRealRowIndex(_2e);}_31.dataList.removeRow(_2e);}}});return;}}};$W._a.az.prototype.otherClickEvent=function(){["WebSquare.uiplugin.eventController.otherClickEvent"];try{var _54=this;var _55=window;this.otherClickHandler=function(e){var _57=e||_55.event;_57.otherClick=true;if(_54.editedCell){var _58=_54.editedCell.editRowIndex;var _59=_54._dataList.getColumnIndex(_54.editedCell.id);var _5a=_54.getColumnIndex(_54.editedCell.id);var _5b=_54._grid.getRealRowIndex(_58);var _5c=_54._dataList.dataArr[_5b*_54._dataList.getColumnCount()+_59];_54.editedCell.handleEndEdit();var _5d=_54._dataList.dataArr[_5b*_54._dataList.getColumnCount()+_59];if(_5c!=_5d){$W._c.fireEvent(_54,"onviewchange",{"oldValue":_5c,"newValue":_5d,"rowIndex":_58,"colIndex":_5a});}}};if(this.isMobile){this.event.addListener(document.documentElement,"ontouchstart",this.event.bindAsEventListener(this,this.handleClickEventDocument));if(this.options.tooltipDisplay){this.hideTooltip();}}else{var _5e=self;var cnt=0;$W.getBody().getLayerListener().addListener({component:this,event:{},otherClick:this.handleClickEventDocument});}if(!$W._G.isFF()){var _5e=self;var cnt=0;while(_5e!=_5e.parent&&cnt++<10){var _60=true;if(_5e.parent["__WebSquare_gridArr__"]){for(var i=0;i<_5e.parent["__WebSquare_gridArr__"].length;i++){if(_5e.parent["__WebSquare_gridArr__"][i]!=null){_60=false;break;}}}if(_60){if(_5e.parent.$l){_5e.parent.$l("[grid.otherClickEvent]initialize GridArray"+"["+this.id+"]");}_5e.parent["__WebSquare_gridArr__"]=[];}_5e.parent["__WebSquare_gridArr__"].push(this);_5e=_5e.parent;}}}catch(e){}};$W._a.az.prototype.handleClickEventDocument=function(e){["WebSquare.uiplugin.eventController.handleClickEventDocument"];this.lastEvent=e;if(!this.event.isMe(e,this.render)&&!this.isMine(e)){e.otherClick=true;if(this.editedCell){var _63=this.editedCell.editRowIndex;var _64=this._dataList.getColumnIndex(this.editedCell.id);var _65=this.getColumnIndex(this.editedCell.id);var _66=this._grid.getRealRowIndex(_63);var _67=this._dataList.dataArr[_66*this._dataList.getColumnCount()+_64];this.handleClickEventDocumentAfter(e);var _68=$W.getBody();_68.layerListener.handleMouseDownEventDocument.call(_68,e);_68=null;this.editedCell.handleEndEdit(e,false,true);var _69=this._dataList.dataArr[_66*this._dataList.getColumnCount()+_64];if(_67!=_69){$W._c.fireEvent(this,"onviewchange",{"oldValue":_67,"newValue":_69,"rowIndex":_63,"colIndex":_65});}}else{this.handleClickEventDocumentAfter(e);}if(this.options.tooltipDisplay&&this.isMobile){this.hideTooltip();if(e.srcElement.id==this.id+"_tooltip"){$W._c.stopEvent(e);}}}else{this.handleClickEventDocumentAfter(e);}};$W._a.az.prototype.handleClickEventDocumentAfter=function(e){if(this.contextMenu){var _6b=e.srcElement||e.target;if(!_6b.className.match("contextMenu")){this.hideContextMenu();}}if(this.groupbyFilterScrollView||this.customFilterScrollView){var it=this.event.getTargetIterator(e,this.render);var _6d=true;while(it.next()){if(it.match("gridHeaderTDDefault")||it.match("w2grid_groupbyZone_scrollView")||it.match("w2grid_groupbyZone_column")||it.match("w2grid_customFilter_scrollView")||it.match("w2grid_customFilter_column")){_6d=false;break;}}if(_6d){this.hideCustomFilterList();}}if(this.options.groupbyZone&&this.options.groupbyFilterBox){var it=this.event.getTargetIterator(e,this.render);var _6d=true;while(it.next()){if(it.match("w2grid_filterBox_select_tbody")||it.match("w2grid_filterBox_itemTable")){_6d=false;break;}}if(_6d){this.hideGroupbyFilterSelectItemTable();}}if(this.groupbyFilterList){var it=this.event.getTargetIterator(e,this.render);var _6d=true;while(it.next()){if(it.match("w2grid_groupbyZone_list")||it.match("w2grid_groupbyZone_column")){_6d=false;break;}}if(_6d){this.hideGroupbyFilterList();}}};$W._a.az.prototype.isMine=function(e){["WebSquare.uiplugin.eventController.isMine"];try{var _6f=$W._c.getTarget(e);while(_6f!=null){if(_6f.id&&_6f.id.indexOf&&_6f.id.indexOf("G_"+this.id+"__")>=0){return true;}_6f=_6f.parentNode;}return false;}catch(e){$W.exception.printStackTrace(e);}};$W._a.az.prototype.handleResize=function(){["WebSquare.uiplugin.eventController.prototype.handleResize"];try{var _70=this.render.offsetWidth;var _71=this.render.offsetHeight;if(_70>0&&_71>0){if(this.delayedDrawObj){this.setRedrawStatus("draw");}else{var _72=_70-this.resizeObj.width;var _73=_71-this.resizeObj.height;var _74=false;if(_73>0){if(this.options.adaptive){var _75=this.options.adaptive;var _76=parseInt(this.options.adaptiveThreshold)||480;if(!($W._G.isIE()&&parseInt($W._N.browserVersion(),10)<10)){if(parseInt(top.document.documentElement.clientWidth||top.document.body.clientWidth)<=_76){return;}}}_74=true;var _77=this.getDataLength();var _78=this.drawedRowLength;this.lastTopRowIndex=null;this.setDataTable();if(_77<=0){}else{if(this.rowIndex+this.lastIndex+this.drawedRowLength-_78<_77){this.drawData(this.rowIndex,this.lastIndex);}else{var _79=_77-this.drawedRowLength>0?_77-this.drawedRowLength:0;if(_79==this.rowIndex){this.drawData(this.rowIndex,this.lastIndex);}else{this.scrollEvent=false;this.checkScrollEnd=true;var _7a=this.getElementById(this.id+"_scrollY_div");_7a.scrollTop=this.oneRowScrollHeight*_79;this.drawData(_79);}}}}else{if(_73<0&&this.options.visibleRowNum!="all"){_74=true;var _7b=this.getElementById(this.id+"_body_table");this.dataLayerHeight=_7b.parentNode.offsetHeight;var _7c=Number(this.options.visibleRowNum);var _7d=this.getVisibleRowNum();if(!isNaN(_7c)&&_7c>=_7d){this.setScrollYHeight();}else{this.lastTopRowIndex=null;this.lastIndex=this.cutGridBottom(this.lastIndex);this.setScrollYHeight();}}}if(_72!=0){_74=true;this.resizeObj.clientWidth=this.render.clientWidth;this.setScrollYHeight();this._handleScrollX();if(this.options.autoFit){this.autoFitFunc();}}if(_74&&this.groupbyZoneStatus.groupbyZoneRender){this.resizeGroupbyZone();}}}else{this.setRedrawStatus("stop");}if(this.groupbyZoneStatus.groupbyZoneRender&&!this.adjustGroupbyZone){this.adjustGroupbyZone=true;this.resizeGroupbyZone();}this.resizeObj={width:_70,height:_71,scrollLeft:this.resizeObj.scrollLeft,scrollTop:this.resizeObj.scrollTop,clientWidth:this.resizeObj.clientWidth};if(this.resizeObj.width>0&&this.resizeObj.height>0){this.resizeObj.scrollLeft=this.getElementById(this.id+"_scrollX_right").scrollLeft;this.resizeObj.scrollTop=this.getElementById(this.id+"_scrollY_div").scrollTop;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.az.prototype.resizeGroupbyZone=function(){["WebSquare.uiplugin.eventController.prototype.resizeGroupbyZone"];if(this.groupbyZoneStatus.groupbyZoneRender){var _7e=(this.resizeObj.clientWidth-this.groupbyZoneStatus.groupbyZoneBorder);var _7f=this.dom[this.id+"_scrollY_div"].offsetWidth;if(_7f!=0){_7e=_7e-_7f;}_7e=_7e+"px";if(this.groupbyZoneStatus.groupbyZoneRender.style.width!=_7e){this.groupbyZoneStatus.groupbyZoneRender.style.width=_7e;}}};$W._a.az.prototype.checkPercent=function(){["WebSquare.uiplugin.eventController.prototype.checkPercent"];var _80=$W.WebSquareparser.getAttribute(this.element,"style");if(_80.indexOf("%")>0){var _81=_80.split(";");for(var i=0;i<_80.length;i++){if((_81[i].indexOf("%")&&_81[i].indexOf("height"))||(_81[i].indexOf("%")&&_81[i].indexOf("width"))){this.checkResize();break;}}}};$W._a.az.prototype.checkResize=function(){["WebSquare.uiplugin.eventController.prototype.checkResize"];try{if(this.render){var _83=true;if($W.getBody().modalStack&&$W.getBody().modalStack.length>0&&this.getDisabled()){var _84=this.parentControl;while(_84){if(_84.options&&_84.options.pluginName=="floatingLayer"){break;}_84=_84.parentControl;}if(_84==null){_83=false;}}if(_83&&!this.startedDisplayNone){this.handleResize();}if(this.startedDisplayNone){if(this.render.offsetWidth>0&&this.render.offsetHeight>0){this.delayedAction();}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.az.prototype.handleDblClickEvent=function(e){["WebSquare.uiplugin.eventController.prototype.handleDblClickEvent"];var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match(this.options.bodyTdClass)){this.bodyDblClick(e,it.getElement());break;}else{if(it.match(this.options.headerTdClass)){this.headerDdlClick(e,it.getElement());break;}else{if(this.hasFooter&&it.match(this.options.footerTdClass)){this.footerDblClick(e,it.getElement());break;}else{if(this.hasSubtotal&&it.match(this.options.subtotalTdClass)){this.subtotalDblClick(e,it.getElement());break;}else{if(it.match("w2grid_customFilter_sortable_open")){$W._c.stopEvent(e);it.stop();}}}}}}};$W._a.az.prototype.handleClickEvent=function(e){["WebSquare.uiplugin.eventController.prototype.handleClickEvent"];this.lastEvent=e;$W._c.fireEvent(this,"onclick",e);if(this.isMobile){if(this.iScroll&&this.iScroll.moveDirection){return;}}var it=this.event.getTargetIterator(e,this.render);var _89=(this.editedCell!=null);var _8a,_col,gridCol,_realRow,oldValue;if(_89){_8a=this.editedCell.editRowIndex;_col=this._dataList.getColumnIndex(this.editedCell.id);gridCol=this.getColumnIndex(this.editedCell.id);_realRow=this._grid.getRealRowIndex(_8a);oldValue=this._dataList.dataArr[_realRow*this._dataList.getColumnCount()+_col];}while(it.next()){if(it.match(this.options.bodyTdClass)){this.bodyClick(e,it.getElement());break;}else{if(it.match(this.options.headerTdClass)){this.headerClick(e,it.getElement());break;}else{if(this.hasFooter&&it.match(this.options.footerTdClass)){this.footerClick(e,it.getElement());break;}else{if(this.hasSubtotal&&it.match(this.options.subtotalTdClass)){this.subtotalClick(e,it.getElement());break;}else{if(this.isMine(e)){}else{if(it.getElement().getAttribute("id")==this.id+"_dataLayer"){if(this.editedCell!=null){this.editedCell.handleEndEdit();}}}}}}}}if(_89){var _8b=this._dataList.dataArr[_realRow*this._dataList.getColumnCount()+_col];if(oldValue!=_8b){$W._c.fireEvent(this,"onviewchange",{"oldValue":oldValue,"newValue":_8b,"rowIndex":_8a,"colIndex":gridCol});}}};$W._a.az.prototype.gridDataLayerOut=function(e){["WebSquare.uiplugin.eventController.prototype.gridDataLayerOut"];if(this.overElem){if(this.options.rowMouseOver){this.removeRowOverStyle(this.overElem.parentNode);}this.bodyOut(e,this.overElem);this.overElem=null;}};$W._a.az.prototype.gridHeaderOver=function(e){["WebSquare.uiplugin.eventController.prototype.gridHeaderOver"];if(this.overElem){if(this.options.rowMouseOver){this.removeRowOverStyle(this.overElem.parentNode);}this.bodyOut(e,this.overElem);this.overElem=null;}};$W._a.az.prototype.gridOver=function(e){["WebSquare.uiplugin.eventController.prototype.gridOver"];var _8f=$W._c.getTarget(e);while(_8f){if(_8f.tagName=="TD"&&_8f.getAttribute("colIndex")!=null&&(this.hasClass(_8f,this.options.bodyTdClass)||this.hasClass(_8f,this.options.subtotalTdClass)||this.hasClass(_8f,this.options.footerTdClass))){break;}if(_8f.tagName=="DIV"&&(_8f.getAttribute("id")==this.id+"_dataLayer")){break;}if(_8f.tagName=="TABLE"&&(_8f.getAttribute("id")==this.id+"_foot_table")){break;}_8f=_8f.parentNode;}if(_8f.id==this.id+"_dataLayer"){if(this.overElem){this.removeRowOverStyle(this.overElem.parentNode);this.bodyOut(e,this.overElem);this.overElem=null;}}else{if(_8f.id==this.id+"_foot_table"){if(this.overElem){this.bodyOut(e,this.overElem);this.overElem=null;}}else{if(_8f&&_8f.tagName=="TD"){if(this.overElem!=_8f&&_8f.className.indexOf(this.options.headerTdClass)==-1){this.bodyOut(e,this.overElem);this.bodyOver(e,_8f);if(this.options.rowMouseOver){var _90=this;if(this.overElem){this.removeRowOverStyle(this.overElem.parentNode);}if(!this.hasClass(_8f,"w2grid_groupby")){this.addRowOverStyle(_8f.parentNode);}}this.overElem=_8f;var _91={};var _92=_8f.getAttribute("col_id");if(_92){_91.rowIndex=this.getElemRowIndex(_8f);_91.colIndex=this.getColumnIndex(_8f.getAttribute("col_id"));}$W._c.fireEvent(this,"onbodymouseover",_91);}}}}};$W._a.az.prototype.gridOver1=function(e){["WebSquare.uiplugin.eventController.prototype.gridOver"];var _94=$W._c.getTarget(e);if(_94.tagName=="NOBR"){_94=_94.parentNode;}if(typeof _94.tagName=="undefined"||_94.tagName!="TD"){return;}if(this.options.rowMouseOver){var _95=this;if(this.overElem){this.removeRowOverStyle(this.overElem.parentNode);}this.addRowOverStyle(_94.parentNode);}this.overElem=_94;};$W._a.az.prototype.gridOver2=function(e){["WebSquare.uiplugin.eventController.prototype.gridOver2"];input1.setValue(this.tmpCnt++);var _97=$W._c.getTarget(e);if(_97.tagName=="NOBR"){_97=_97.parentNode;}if(typeof _97.tagName=="undefined"||_97.tagName!="TD"){return;}if(this.options.rowMouseOver){var _98=this;if(this.overElem){}this.addRowOverStyle(_97.parentNode);}this.overElem=_97;};$W._a.az.prototype.handlePasteEvent=function(e){["WebSquare.uiplugin.eventController.prototype.handlePasteEvent"];try{if(this.options.preventPaste||($W._c.getTarget(e)&&$W._c.getTarget(e).getAttribute("class").indexOf("w2grid_head_input")>-1)){return;}var _9a=($W._G.isIEAllVersion())?window.clipboardData:e.clipboardData;var _9b=_9a.getData("Text");if(_9b.slice(-2)=="\r\n"){_9b=_9b.slice(0,_9b.length-2);}else{if(_9b.slice(-1)=="\n"){_9b=_9b.slice(0,_9b.length-1);}}var _9c=Papa.parse(_9b,{delimiter:"\t"}).data;if(!_9c||_9c==null||_9c=="undefined"){return;}if(this.focusedCell.length>0){var _9d=this.getDataLength();var _9e=0;var _9f=this.getTotalCol();var _a0=0;var _a1=null;for(var i=0;i<this.focusedCell.length;i++){var _a3=this.focusedCell[i];var _a4=_a3.focusedRowIndex;var _a5=_a3.focusedColIndex;if(_9d>_a4){_9d=_a4;}if(_9e<_a4){_9e=_a4;}if(_9f>_a5){_9f=_a5;}if(_a0<_a5){_a0=_a5;}}var _a6=0;for(var i=this.defaultColCnt+_9f;i<_a0;i++){if(this.hiddenList[i]==true){_a6+=1;}}if(this.focusedCell.length!=(_9e-_9d+1)*(_a0-_9f-_a6+1)){return;}else{for(var i=0;i<this.focusedCell.length;i++){_a3=this.focusedCell[i];_a4=_a3.focusedRowIndex;_a5=_a3.focusedColIndex;if(_a4==_9d&&_a5==_9f){_a1=_a3;break;}}}if(_a1.focusedTd!=null){var _a7=_a1.focusedTd;var _a8=_a7.getAttribute("col_id");if(_a8==null||_a8.wq_trim()==""){return;}if(_a7.getAttribute("colMerged")=="1"){return;}var _a9=parseInt(_a7.getAttribute("tdIndex"));var _aa=parseInt(_a9/this.realRowDataLength);var _a4=_aa+this.rowIndex;var _a5=_a7.getAttribute("col_id");var _ab=this.getColumnIndex(_a5);var _ac=this.getCellInfo(_a5);var _ad=this.getTotalRow();var _ae=this.getTotalCol();if(this.options.checkBlankRowOnPaste){for(var i=_9c.length-1;i>-1;i--){var _af=true;for(var j=0;j<_9c[0].length;j++){if(_9c[i][j].wq_trim()!=""){_af=false;break;}}if(_af){_9c.splice(i,1);}}}var ret=$W._c.fireEvent(this,"onbeforepaste",{"rowIndex":_a4,"colIndex":_a5,"data":_9c.slice(0)});if(ret===false){return;}var _b2=this;var _b3=function(_b4){for(var i=_b2.defaultColCnt+_b4;i<_b2.hiddenList.length;i++){if(_b2.hiddenList[i]==false){return i-_b2.defaultColCnt;}}};var _b6=function(){if(_a4+_9c.length>=_ad){var _b7=(_a4+_9c.length)-_ad;var _b8=Array(_b2._dataList.getTotalCol()*_b7);if(_b2.depthColumn!=""){var _b9=_b2._dataList.getCellInfo(_b2.depthColumn).options.defaultValue;for(var i=0;i<_b7;i++){_b8[i*_b2._dataList.getTotalCol()+_b2._dataList.getColumnIndex(_b2.depthColumn)]=_b9;}}if(_b2.options.setDefaultValueOnPaste){for(var i=0;i<_ae;i++){var _bb=_b2._dataList.getCellInfo(i).options.defaultValue;for(var j=0;j<_b7;j++){_b8[j*_ae+_b2._dataList.getColumnIndex(i)]=_bb;}}}if(_b2.options.checkReadOnlyOnPaste){var _bd=true;var _be=_ab;for(var j=0;j<_9c[0].length;j++){if(_be==undefined||_be>=_ae){break;}if(!_b2.getReadOnly("all",_a4,_be)){_bd=false;break;}_be=_b3(_be+1);}if(_bd){return;}}if(_b2.options.checkDisabledOnPaste){var _bf=true;var _be=_ab;for(var j=0;j<_9c[0].length;j++){if(_be==undefined||_be>=_ae){break;}if(!_b2.getDisabled("all",_a4,_be)){_bf=false;break;}}if(_bf){return;}_be=_b3(_be+1);}if(_b8.length>0){_b2._dataList.setData(_b8,true);for(var m=0;m<_b7;m++){_b2._dataList._createRowStatus(_ad+m);}}}for(var i=0;i<_9c.length;i++){var _be=_ab;for(var j=0;j<_9c[0].length;j++){if(_be==undefined||_be>=_ae){break;}if(_b2.options.checkReadOnlyOnPaste&&_b2.getReadOnly("all",i+_a4,_be)){_be=_b3(_be+1);continue;}if(_b2.options.checkDisabledOnPaste&&_b2.getDisabled("all",i+_a4,_be)){_be=_b3(_be+1);continue;}var _c1=_be;var _c2=_b2.tdIdList[_c1];var _c3=_b2._dataList.getColumnIndex(_c2);var _c4=_b2._dataList.dataArr[(i+_a4)*_b2._dataList.getColumnCount()+_c3];var _c5=_9c[i][j];var _c6=_b2.getCellInfo(_c1);if(_b2.options.unformatOnPaste){var _c7=_c5;var _c8=_c6.formatter.masking;var _c9=_c6.formatter.type;if(typeof _c9!="undefined"&&_c9!=null&&_c9=="number"){_c7=$W._A.unformatCurrency(_c8,_c7);}else{if(typeof _c9!="undefined"&&_c9!=null&&_c9=="date"){_c7=$W._A.unformatDate(_c8,_c7);}else{if(typeof _c9!="undefined"&&_c9!=null&&_c9=="time"){_c7=$W._A.unformatTime(_c8,_c7);}else{_c7=$W._A.unformatText(_c8,_c7);}}}_c5=_c7;}if(_c6.options.maxLength){var len=parseInt(_c6.options.maxLength);if(!isNaN(len)){_c5=_c5.slice(0,len);}}if(_c6.options.allowChar){var _cb=_c6.options.allowChar;if(typeof _cb!="undefined"&&_cb!=null&&_cb!=""){var re=new RegExp("["+_cb+"]");for(var k=0;k<_c5.length;k++){var s=_c5.charAt(k);if(s.match(re)==null){return;}}}}_b2._dataList.setCellData(i+_a4,_c3,_c5);if(_c4!=_c5){$W._c.fireEvent(_b2,"onviewchange",{"oldValue":_c4,"newValue":_c5,"rowIndex":(i+_a4),"colIndex":_c1});}_be=_b3(_be+1);}}};if(this.options.showMessageOnPaste){var _cf=$W._N.getConfiguration("/WebSquare/"+this.options.pluginName+"/pasteMessage/@value");$W.layer.pasteMessageLoaded=false;$W.layer.showProcessMessage(_cf,{type:"pasteMsg"});var _d0=function(){if(!$W.layer.pasteMessageLoaded){$w.setTimeout(_d0,{delay:500,key:_b2.id+"_pasteMessageLoaded"});}else{$w.clearTimeout(_b2.id+"_pasteMessageLoaded");_b6();$W.layer.hideProcessMessage({type:"pasteMsg"});$W._c.fireEvent(_b2,"onafterpaste");}};_d0();}else{_b6();$W._c.fireEvent(this,"onafterpaste");}}}$W._c.preventDefault(e);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.az.prototype.handleBeforeCopyEvent=function(e){["WebSquare.uiplugin.eventController.prototype.handleBeforeCopyEvent"];$W._c.preventDefault(e);};$W._a.az.prototype.handleCopyEvent=function(e){["WebSquare.uiplugin.eventController.prototype.handleCopyEvent"];try{if(this.options.preventCopy){return;}if($W._N.browserCheck.safari){var _d3=document.activeElement;var _d4=false;while(_d3!=null){if(_d3.id&&_d3.id==this.id){_d4=true;}_d3=_d3.parentNode;}if(!_d4){return;}}var _d5=($W._G.isIEAllVersion())?window.clipboardData:e.clipboardData;var _d6=this.options.copyAmount;if(!_d6){_d6="cell";}if(_d6=="cell"){var _d7=this.getDataLength();var _d8=0;var _d9=this.getTotalCol();var _da=0;var _db=[];for(var i=0;i<this.focusedCell.length;i++){var _dd=this.focusedCell[i];var _de=_dd.focusedRowIndex;var _df=_dd.focusedColIndex;if(_d7>_de){_d7=_de;}if(_d8<_de){_d8=_de;}if(_d9>_df){_d9=_df;}if(_da<_df){_da=_df;}}var _e0=0;for(var i=this.defaultColCnt+_d9;i<_da+this.defaultColCnt;i++){if(this.hiddenList[i]==true){_e0+=1;}}if(this.focusedCell.length==(_d8-_d7+1)*(_da-_d9-_e0+1)){for(var i=_d7;i<=_d8;i++){var _e1=[];for(var j=_d9;j<=_da;j++){if(this.hiddenList[j+this.defaultColCnt]==true){continue;}if(this.options.copyOption=="display"){_e1.push(this._getDisplayData(i,this.getColumnID(j)));}else{_e1.push(this.dataList.getCellData(i,this.getColumnID(j)));}}_db.push(_e1);}}else{var _e3=this.focusedCell[this.focusedCell.length-1];if(_e3!=undefined){var _e1=[];if(this.options.copyOption=="display"){_e1.push(this._getDisplayData(_e3.focusedRowIndex,this.getColumnID(_e3.focusedColIndex)));}else{_e1.push(this.dataList.getCellData(_e3.focusedRowIndex,this.getColumnID(_e3.focusedColIndex)));}_db.push(_e1);}}var _e4=Papa.unparse(_db,{delimiter:"\t"});_d5.setData("Text",_e4);}$W._c.preventDefault(e);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.az.prototype.clickRightButtonCell=function(e){["WebSquare.uiplugin.eventController.prototype.clickRightButtonCell"];var _e6=$W._c.getTarget(e);while(_e6){if(_e6.tagName=="TD"||_e6.tagName=="TH"||_e6.tagName=="DIV"){break;}_e6=_e6.parentNode;}var _e7=_e6&&this.hasClass(_e6,this.options.headerTdClass);if(_e6&&this.hasClass(_e6,this.options.bodyTdClass)){_e7=false;}if(!_e7){var _e8=_e6;while(_e8){if(_e8.tagName==="TH"&&this.hasClass(_e8,this.options.headerTdClass)){_e7=true;break;}if(_e8.tagName==="TD"&&this.hasClass(_e8,this.options.bodyTdClass)){_e7=false;break;}_e8=_e8.parentNode;}}if(_e7){$W._c.preventDefault(e);$W._c.fireEvent(this,"onheaderrightbuttonclick",_e6.getAttribute("header_id"));}else{if(_e6&&_e6.tagName=="TD"&&this.hasClass(_e6,this.options.bodyTdClass)){var _e9=this._setFocusedCell(e,_e6);var _ea;var _eb;if(_e9===false){if(this.focusedCell.length>0){for(var i=0;i<this.focusedCell.length;i++){this._applyFocusedCellOut(this.focusedCell[i]);}}var _ed=_e6.className;var _ee=parseInt(_e6.getAttribute("tdIndex"));var _ef=parseInt(_ee/this.realRowDataLength);if(_ed.match("rowNum")!=null){_ea=_ef;_eb="rowNum";}else{if(_ed.match("rowStatus")!=null){_ea=_ef;_eb="rowStatus";}else{if(_ed.match("groupby")!=null){_ea="groupby";_eb=-1;}else{if(_ed.match("Subtotal")!=null){_ea="subtotal";_eb=parseInt(_e6.getAttribute("colIndex"),10);_eb=typeof _eb=="number"?_eb:-1;}}}}}else{if(_e6&&(this.hasClass(_e6,"w2grid_textImage")||this.hasClass(_e6,"w2grid_textImage_image"))){_ea=parseInt(_e6.getAttribute("rowIndex"),10);_eb=parseInt(_e6.getAttribute("colIndex"),10);this.setFocusedCell(_ea,_eb);}else{_ea=this.getFocusedRowIndex();_eb=this.getFocusedColumnIndex();}}$W._c.preventDefault(e);$W._c.fireEvent(this,"onrightbuttonclick",_ea,_eb,e);if(this.options.contextMenu){var _f0={};_f0.result=_e9;_f0.rowIndex=_ea;_f0.colIndex=_eb;_f0.event=e;var _f1=$W._c.fireEvent(this,"oncontextopen",_ea,_eb);if(_f1){this.createContextMenu(_f0,_f1);}else{if(!this.contextMenu){this.createContextMenu(_f0);}else{this.showContextMenu(_f0);}}}}}};$W._a.az.prototype.fireImageClick=function(_f2,_f3){["WebSquare.uiplugin.eventController.prototype.fireImageClick"];var _f4=this.getCellInfo(_f3);var _f5=$W._G.getGlobalFunction(_f4.options.imageClickFunction,this.scope_id);if(typeof _f5=="function"){_f5.call(this,_f2,_f3,this.dataList.getCellData(_f2,_f3));}};$W._a.az.prototype.gridOut=function(e){["WebSquare.uiplugin.eventController.prototype.gridOut"];var _f7=$W._c.getTarget(e);var _f8="";if(this.overElem&&(_f7.id==this.id+"_dataLayer"||_f7.id==this.overElem.id||_f7.id=="")){if(this.options.rowMouseOver){this.removeRowOverStyle(this.overElem.parentNode);}this.bodyOut(e,this.overElem);this.overElem=null;}};$W._a.az.prototype.addRowOverStyle=function(_f9){["WebSquare.uiplugin.eventController.prototype.addRowOverStyle"];while(_f9!=null&&_f9.getAttribute("trIndex")==null){_f9=_f9.parentNode;if(_f9.id==this.id+"_foot_table"){return;}}if(_f9==null){return;}var _fa=parseInt(_f9.getAttribute("trIndex"));while(_fa>0){_fa--;_f9=$W._G.prev(_f9);}var cnt=0;var _fc=$W._G.first(_f9);var _fd=parseInt(_fc.getAttribute("tdIndex"));if(isNaN(_fd)){return;}_fd=parseInt(_fd/(this.oneRowDataLength+this.defaultColCnt),10)*(this.oneRowDataLength+this.defaultColCnt);var _fe=this.options.rowMouseOverColor.wq_trim();var _ff=(this.options.selectedCellOverColor=="")?"":this.options.selectedCellOverColor.wq_trim();var _100=(this.options.selectedRowOverColor=="")?"":this.options.selectedRowOverColor.wq_trim();for(var i=0;i<this.realRowDataLength;i++){var td=this.all_data_td_list[_fd+i];var _103=_fe;if(_ff!=""&&(this.options.focusMode=="cell"||this.options.focusMode=="both")){var _104=parseInt(td.getAttribute("tdIndex"));var _105=parseInt(_104/this.realRowDataLength)+this.rowIndex;var _106=_104%this.realRowDataLength-(this.realRowDataLength-this.oneRowDataLength);for(var j=0;j<this.focusedCell.length;j++){if(_105==this.focusedCell[j].focusedRowIndex&&_106==this.focusedCell[j].focusedColIndex){_103=_ff;break;}}}else{if(_100!=""&&(this.options.focusMode=="row"||this.options.focusMode=="both")){var _104=parseInt(td.getAttribute("tdIndex"));var _105=parseInt(_104/this.realRowDataLength)+this.rowIndex;var _106=_104%this.realRowDataLength-(this.realRowDataLength-this.oneRowDataLength);for(var j=0;j<this.focusedCell.length;j++){if(_105==this.focusedCell[j].focusedRowIndex){_103=_100;break;}}}}if(i<this.defaultColCnt){var _108=td.className;if(this.options.rowNumBackgroundColor==""&&_108.indexOf(this.options.bodyTdClass+"_rowNumber")>=0){td.style.backgroundColor=_103;}else{if(_108.indexOf(this.options.bodyTdClass+"_rowStatus")>=0){td.style.backgroundColor=_103;}}}else{td.style.backgroundColor=_103;}td.removeAttribute("style_bak");}};$W._a.az.prototype.removeRowOverStyle=function(_109){["WebSquare.uiplugin.eventController.prototype.removeRowOverStyle"];while(_109!=null&&_109.getAttribute("trIndex")==null){_109=_109.parentNode;if(_109==null||_109.id==this.id+"_foot_table"){return;}}if(_109==null){return;}var _10a=parseInt(_109.getAttribute("trIndex"));while(_10a>0){_10a--;_109=$W._G.prev(_109);}var _10b=$W._G.first(_109);var _10c=parseInt(_10b.getAttribute("tdIndex"));if(isNaN(_10c)){return;}_10c=parseInt(_10c/(this.oneRowDataLength+this.defaultColCnt),10)*(this.oneRowDataLength+this.defaultColCnt);for(var i=0;i<this.realRowDataLength;i++){var td=this.all_data_td_list[_10c+i];if(i<this.defaultColCnt){var _10f=td.className;if(this.options.rowNumBackgroundColor==""&&_10f.indexOf(this.options.bodyTdClass+"_rowNumber")>=0){if(this.options.focusMode=="row"||this.options.focusMode=="both"){var _110=parseInt(td.getAttribute("tdIndex"));var _111=parseInt(_110/this.realRowDataLength)+this.rowIndex;var _112=false;for(var j=0;j<this.focusedCell.length;j++){if(_111==this.focusedCell[j].focusedRowIndex){_112=true;break;}}if(_112){td.style.backgroundColor=this.options.selectedRowColor.wq_trim();}else{td.style.backgroundColor="";}}else{td.style.backgroundColor="";}}else{if(_10f.indexOf(this.options.bodyTdClass+"_rowStatus")>=0){if(this.options.focusMode=="row"||this.options.focusMode=="both"){var _110=parseInt(td.getAttribute("tdIndex"));var _111=parseInt(_110/this.realRowDataLength)+this.rowIndex;var _112=false;for(var j=0;j<this.focusedCell.length;j++){if(_111==this.focusedCell[j].focusedRowIndex){_112=true;break;}}if(_112){td.style.backgroundColor=this.options.selectedRowColor.wq_trim();}else{td.style.backgroundColor="";}}else{td.style.backgroundColor="";}}}}else{td.style.backgroundColor=td.getAttribute("or_bgColor")||"";}td.removeAttribute("style_bak");}};$W._a.az.prototype.handleKeyDownEvent=function(e){["WebSquare.uiplugin.eventController.prototype.handleKeyDownEvent"];var ret=$W._c.fireEvent(this,"onkeydown",e);if(ret==false){return;}this.lastEvent=e;if(this.headerFocus){}else{this.handleBodyKeyDown(e);}};$W._a.az.prototype.handleKeyUpEvent=function(e){["WebSquare.uiplugin.eventController.prototype.handleKeyUpEvent"];var ret=$W._c.fireEvent(this,"onkeyup",e);if(ret==false){return;}this.lastEvent=e;if(this.editedCell&&this.editedCell._getEditedValue){var t=this.editedCell.options.inputType;if(t==="text"||t==="textarea"||t==="calendar"||t==="textImage"||t==="secret"){var _119=(e.charCode)?e.charCode:e.keyCode;var info={"rowIndex":this.editedCell.editRowIndex,"colIndex":this.getColumnIndex(this.editedCell.id),"colID":this.getColumnID(this.editedCell.id),"oldValue":this.editedCell.beforeEditValue||"","newValue":this.editedCell._getEditedValue(),"inputType":t,"keyCode":_119};$W._c.fireEvent(this,"oneditkeyup",info);}}else{if(this.beforeEditedCellInfo!=null){$W._c.fireEvent(this,"oneditkeyup",this.beforeEditedCellInfo);}}this.beforeEditedCellInfo=null;};$W._a.az.prototype.bodyOver=function(e,_11c){["WebSquare.uiplugin.eventController.prototype.bodyOver"];if(this.options.tooltipDisplay){if(_11c.className.indexOf(this.options.bodyTdClass+"_rowNumber")>=0||_11c.className.indexOf(this.options.bodyTdClass+"_rowStatus")>=0){return;}if(_11c.offsetWidth<2||!_11c.firstChild){return;}var _11d=_11c.getAttribute("col_id");if(!_11d){var _11e="text";}else{var _11f=this.getCellInfo(_11d);var _11e=_11f.options.inputType;var _120=_11f.options.embeddedInput;if(_120&&_11e=="text"){var _121=this.getElemRowIndex(_11c);var _122=this.getColumnIndex(_11c.getAttribute("col_id"));_120=!this.getEditDisabled(_121,_122)&&!this._getEditReadOnly(_121,_122);}}if(_11e=="text"||_11e=="textarea"||_11e=="textImage"||_11e=="link"||_11e=="calendar"||_11e=="expression"||(_11e=="select"&&!_120)||_11e=="drilldown"||_11e=="checkcombobox"||_11e=="button"||_11e=="image"){var _123;if((_11e=="textImage"&&_11c.firstChild.style.width==="100%")||_11e=="textarea"){_123=_11c.cloneNode(true);_123.firstChild.style.width=_11c.firstChild.offsetWidth+"px";if(_11e=="textarea"){_123.firstChild.style.width="";}else{_123.firstChild.style.width=_11c.firstChild.offsetWidth+"px";}}else{_123=_11c;}var obfuscator_elemWidth=_11c.offsetWidth;var obfuscator_elemHeight=_11c.offsetHeight;var _124=$W._H.getStyle(_11c,"text-overflow");if(!this.tooltipPositionParse){this.options.tooltipPositionX=this.options.tooltipPositionX.replaceAll("cellWidth","obfuscator_elemWidth").replaceAll("cellHeight","obfuscator_elemHeight");this.options.tooltipPositionY=this.options.tooltipPositionY.replaceAll("cellWidth","obfuscator_elemWidth").replaceAll("cellHeight","obfuscator_elemHeight");this.tooltipPositionParse=true;}var _125=20;var _126=obfuscator_elemHeight+3;try{_125=eval(this.options.tooltipPositionX);_126=eval(this.options.tooltipPositionY);}catch(e){$W.logger.printLog("tooltipPosistion \uc635\uc158 \uc801\uc6a9 \uc911 \uc624\ub958 \ubc1c\uc0dd. \uc635\uc158 \ubb34\uc2dc\ud558\uace0 \uae30\ubcf8\uac12 \uc801\uc6a9.["+this.id+"]");$W.exception.printStackTrace(e,null,this);}if(this.options.tooltipShowAlways){var left=$W._H.getAbsoluteLeft(_11c)+_125;var top=$W._H.getAbsoluteTop(_11c)+_126;var _129="";if(_11e=="text"&&_120){_129=_123.firstChild.value;}else{if(_11e=="image"){_129=_123.firstChild.src;}else{_129=(_11c.firstChild.tagName=="NOBR")||(_11c.firstChild.tagName=="BUTTON")?_123.firstChild.innerHTML:_123.innerHTML;}}if(this.options.tooltipFormatter){try{eval("var obfuscator_tooltipFormatter = "+this.options.tooltipFormatter);if(typeof obfuscator_tooltipFormatter=="function"){var _121=this.getElemRowIndex(_11c);var _122=this.getColumnIndex(_11c.getAttribute("col_id"));var _12a=_11c.offsetWidth<_11c.scrollWidth;_129=obfuscator_tooltipFormatter(_121,_122,_129,_12a);}}catch(e){$W.exception.printStackTrace(e,null,this);}}if(_129!=""){this.showTooltip(left,top,_129);}}else{if(_124=="ellipsis"){if(!this.toolTipRuler){this.toolTipRuler=document.createElement("span");this.toolTipRuler.style.position="absolute";this.toolTipRuler.style.visibility="hidden";this.toolTipRuler.style.left="0px";this.toolTipRuler.style.top="0px";}document.body.appendChild(this.toolTipRuler);this.toolTipRuler.className=_123.className;if(_11e=="text"&&_120){this.toolTipRuler.innerHTML="<div>"+_123.firstChild.value+"</div>";this.toolTipRuler.style.fontSize=$W._H.getStyle(_123.firstChild,"font-size");this.toolTipRuler.style.fontFamily=$W._H.getStyle(_123.firstChild,"font-family");this.toolTipRuler.style.fontWeight=$W._H.getStyle(_123.firstChild,"font-weight");}else{this.toolTipRuler.innerHTML=_123.innerHTML;this.toolTipRuler.style.fontSize=$W._H.getStyle(_123,"font-size");this.toolTipRuler.style.fontFamily=$W._H.getStyle(_123,"font-family");this.toolTipRuler.style.fontWeight=$W._H.getStyle(_123,"font-weight");}var _12b=this.toolTipRuler.firstChild.offsetWidth;var _12c=_11c.clientWidth;if(_123.firstChild.nodeType!=3){var _12d=$W._H.getStyle(this.toolTipRuler.firstChild,"padding-left");var _12e=$W._H.getStyle(this.toolTipRuler.firstChild,"padding-right");_12b-=parseInt(_12d?_12d:"0",10);_12b-=parseInt(_12e?_12e:"0",10);_12c-=parseInt($W._H.getStyle(_11c.firstChild,"padding-left"),10);_12c-=parseInt($W._H.getStyle(_11c.firstChild,"padding-right"),10);_12c-=parseInt($W._H.getStyle(_11c,"padding-left"),10);_12c-=parseInt($W._H.getStyle(_11c,"padding-right"),10);}if((_12c<_12b)||_11e=="image"){var left=$W._H.getAbsoluteLeft(_11c)+_125;var top=$W._H.getAbsoluteTop(_11c)+_126;var _129="";if(_11e=="text"&&_120){_129=_123.firstChild.value;}else{if(_11e=="image"){_129=_123.firstChild.src;}else{_129=(_11c.firstChild.tagName=="NOBR")||(_11c.firstChild.tagName=="BUTTON")?_123.firstChild.innerHTML:_123.innerHTML;}}document.body.removeChild(this.toolTipRuler);if(this.options.tooltipFormatter){try{eval("var obfuscator_tooltipFormatter = "+this.options.tooltipFormatter);if(typeof obfuscator_tooltipFormatter=="function"){var _121=this.getElemRowIndex(_11c);var _122=this.getColumnIndex(_11c.getAttribute("col_id"));_129=obfuscator_tooltipFormatter(_121,_122,_129);}}catch(e){$W.exception.printStackTrace(e,null,this);}}this.showTooltip(left,top,_129);}else{document.body.removeChild(this.toolTipRuler);}}else{if(_11c.offsetWidth+3<_11c.firstChild.offsetWidth){var left=$W._H.getAbsoluteLeft(_11c)+_125;var top=$W._H.getAbsoluteTop(_11c)+_126;var _129="";if(_11e=="text"&&_120){_129=_123.firstChild.value;}else{if(_11e=="image"){_129=_123.firstChild.src;}else{_129=(_11c.firstChild.tagName=="NOBR")||(_11c.firstChild.tagName=="BUTTON")?_123.firstChild.innerHTML:_123.innerHTML;}}if(this.options.tooltipFormatter){try{eval("var obfuscator_tooltipFormatter = "+this.options.tooltipFormatter);if(typeof obfuscator_tooltipFormatter=="function"){var _121=this.getElemRowIndex(_11c);var _122=this.getColumnIndex(_11c.getAttribute("col_id"));_129=obfuscator_tooltipFormatter(_121,_122,_129);}}catch(e){$W.exception.printStackTrace(e,null,this);}}this.showTooltip(left,top,_129);}}}}}};$W._a.az.prototype.bodyOut=function(e,_130){["WebSquare.uiplugin.eventController.prototype.bodyOut"];var _131=this;if(_131.options.tooltipDisplay){if(_130){_131.hideTooltip();}}};$W._a.az.prototype.showTooltip=function(left,top,_134){["WebSquare.uiplugin.eventController.prototype.showTooltip"];if(this.editedCell!=null){return;}var _135=document.body.scrollWidth;var _136=document.body.scrollHeight;if(!this.tooltip){requires("uiplugin.output");this.tooltip=new $W._a.aC(this.id+"_tooltip",{className:"w2grid_tooltip "+this.options.tooltipClass,style:"position:absolute;z-index:10000;"+this.options.tooltipStyle});this.tooltip.writeTo($W.getBody());this.tooltip.activate();if(this.options.tooltipHide==="click"){this.tooltip.render.onclick=function(){this.style.display="none";};}else{this.tooltip.render.onmouseover=function(){this.style.display="none";};}}if(this.options.tooltipHide==="click"){if($W.getBody().hasClass("w2drag_activate")==true){this.tooltip.render.onclick=null;this.tooltip.render.onmouseover=function(){this.style.display="none";};}else{this.tooltip.render.onclick=function(){this.style.display="none";};this.tooltip.render.onmouseover=null;}}this.tooltip.setStyle("display","block");this.tooltip.setStyle("left",left+"px");this.tooltip.setStyle("top",top+"px");this.tooltip.render.innerHTML=_134;var _137=this.tooltip.render.offsetTop+this.tooltip.render.offsetHeight+20;if(_137>document.body.scrollHeight){tooltipTop=top-this.tooltip.render.offsetHeight;if(tooltipTop<0){tooltipTop=0;}this.tooltip.setStyle("top",tooltipTop+"px");}var _138=this.tooltip.render.offsetLeft+this.tooltip.render.offsetWidth;if(document.body.scrollWidth>_135){var _139=left-(document.body.scrollWidth-_135);if(_139<0){_139=0;}this.tooltip.setStyle("left",_139+"px");}if(this.options.tooltipDisplayTime>0){$W._N.setTimer(this.hideTooltip,{key:this.id+"_tooltip_hide_timer",caller:this,delay:this.options.tooltipDisplayTime});}};$W._a.az.prototype.hideTooltip=function(){["WebSquare.uiplugin.eventController.prototype.hideTooltip"];if(this.tooltip){if(this.options.tooltipDisplayTime>0){$W._N.clearTimer(this.id+"_tooltip_hide_timer");}this.tooltip.setStyle("display","none");}};$W._a.az.prototype.bodyClick=function(e,_13b){["WebSquare.uiplugin.eventController.prototype.bodyClick"];try{if(this.options.rowMouseOver){this.removeRowOverStyle(this.lastOverSrc,"grid_body_row_over","grid_body_row");}var _13c=parseInt(_13b.getAttribute("tdIndex"));var _13d=parseInt(_13c/this.realRowDataLength);var _13e=_13d+this.rowIndex;var _13f=_13b.getAttribute("col_id");var _140;if(_13f){_140=this.getCellInfo(_13f);}var _141=this.rowIndex;var _142=this.dataList.getRealRowIndex(_13e);if(typeof _142!="number"){if(_142&&_142.type=="header"){this.toggleGroup(_142.groupId);}return;}if(this.options.focusDefaultColumn){var _143=_13b.getAttribute("id");if(_143=="_headerRowNumber"||_143=="_headerRowStatus"){this._setFocusedCell(e,_13b,{editMode:false});return;}}if(_13f==null){return;}this.moveDirection=null;var _144=this._dataList.getRowPosition();var _145=this.getColumnIndex(this._dataList.getColumnPosition());var _146=_13d+_141;var _147=_13c%this.realRowDataLength-(this.realRowDataLength-this.oneRowDataLength);var _148=_145-_147;var _149=_144-_146;if(_148==0&&_149==0){this.moveDirection="none";}else{if((_148>0||_148<0)&&(_149>0||_149<0)){this.moveDirection="both";}else{if(_148>0||_148<0){this.moveDirection="column";}else{if(_149>0||_149<0){this.moveDirection="row";}}}}var _14a=_13b.getAttribute("editModeEvent")||"";var _14b=false;if((_14a!=""&&_14a.toLowerCase()=="onsecondclick")||(_14a==""&&this.options.editModeEvent.toLowerCase()=="onsecondclick")){for(var i=0;i<this.focusedCell.length;i++){if(this.focusedCell[i].focusedRowIndex==_146&&this.focusedCell[i].focusedColIndex==_147){_14b=true;}}}var _140=this.getCellInfo(_13b);var _14d=true;if(!_140.options.blockSelect&&(_140.options.inputType!="button"||this.getEditDisabled(_146,_147)||this._getEditReadOnly(_146,_147))){var _14e=this._setFocusedCell(e,_13b,{editMode:_140.options.focusMode=="none"});if(_14e===false){_14d=false;}if(_140.options.embeddedInput){this.focusedByApi=false;}}var _14f;var _150=true;if($W._G.isIE()){_14f=e.srcElement;}else{_14f=e.target;}switch(_140.options.inputType){case "radio":case "checkbox":if(_14f.tagName!="INPUT"){_150=false;}case "drilldown":if(this.options.ignoreToggleOnDisabled&&this.getEditDisabled(_13e,_13f)){_150=false;}}var _151=false;var _152;if(_150){_152=this.setCellClickEdit(_13b);if(!_152){if((_14a!=""&&_14a.toLowerCase()=="onclick")||(_14a==""&&this.options.editModeEvent.toLowerCase()=="onclick")||_14b){if(!this.getEditDisabled(_13e,_13f)){var _13c=parseInt(_13b.getAttribute("tdIndex"));var _13d=parseInt(_13c/this.realRowDataLength);var _13f=parseInt(_13b.getAttribute("colIndex"));var _146=_13d+_141;var _147=_13c%this.realRowDataLength-(this.realRowDataLength-this.oneRowDataLength);this.hideTooltip();if(this.getCellInfo(_147).options.inputType!="button"){if(this.getCellInfo(_147).options.inputType=="drilldown"){if(this.options.ignoreCellClick){if(!_152){$W._c.fireEvent(this,"oncellclick",_146,_147);}}else{$W._c.fireEvent(this,"oncellclick",_146,_147);}}else{$W._c.fireEvent(this,"oncellclick",_146,_147);}}_151=true;}if(_14d){this.setEditMode(_13b);}}}}if(!_151&&!this.getEditDisabled(_13e,_13f)){var _13c=parseInt(_13b.getAttribute("tdIndex"));var _13d=parseInt(_13c/this.realRowDataLength);var _13f=parseInt(_13b.getAttribute("colIndex"));var _146=_13d+_141;var _147=_13c%this.realRowDataLength-(this.realRowDataLength-this.oneRowDataLength);if(this.options.tooltipDisplay&&this.isMobile){this.bodyOver(e,_13b);}else{this.hideTooltip();}var _140=this.getCellInfo(_147);if(_140.options.inputType!="button"){if(_140.internal==false&&_140.options.inputType=="custom"){_140=_140.cellManagerHashByRowIndex[_146]?_140.cellManagerHashByRowIndex[_146]:_140;if(_140.options.inputType=="button"){return;}}if(this.getCellInfo(_147).options.inputType=="drilldown"){if(this.options.ignoreCellClick){if(!_152){$W._c.fireEvent(this,"oncellclick",_146,_147);}}else{$W._c.fireEvent(this,"oncellclick",_146,_147);}}else{$W._c.fireEvent(this,"oncellclick",_146,_147);}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.az.prototype.bodyDblClick=function(e,_154){["WebSquare.uiplugin.eventController.prototype.bodyDblClick"];if(_154.tagName=="INPUT"){var _155=this.getLastFocusedCell();var _156=_155.focusedRowIndex;var _157=_155.focusedColIndex;}else{var _158=parseInt(_154.getAttribute("tdIndex"));var _159=parseInt(_158/this.realRowDataLength);var _156=_159+this.rowIndex;var _157=_154.getAttribute("col_id");}if(_157==null){return;}var _15a=_154.getAttribute("editModeEvent")||"";if((_15a!=""&&_15a.toLowerCase()=="ondblclick")||(_15a==""&&this.options.editModeEvent.toLowerCase()=="ondblclick")){this.setEditMode(_154);}if(!this.getEditDisabled(_156,_157)){this.rollbackCommitFlag=false;$W._c.fireEvent(this,"oncelldblclick",this.getFocusedRowIndex(),this.getFocusedColumnIndex());this.rollbackCommitFlag=true;}};$W._a.az.prototype.headerClick=function(e,_15c){["WebSquare.uiplugin.eventController.prototype.headerClick"];$W._c.fireEvent(this,"onheaderclick",_15c.getAttribute("header_id"));var _15d=$W._c.getTarget(e);var type=_15c.getAttribute("inputType");if(this.editedCell!=null){this.editedCell.handleEndEdit();}if(this.noevent==true){}else{if(this.options.sortEvent=="onclick"&&(this.options.sortable||_15c.getAttribute("sortable")=="true")&&!this.groupbyStatus.grouped){this.fireSortEvent(e,_15c);if(this.options.sortHeaderDiv){var _15f=_15c.getElementsByTagName("button");if(_15f.length>0){var _160=_15f[_15f.length-1];_160.focus();}}}}this.noevent=false;};$W._a.az.prototype.headerDdlClick=function(e,_162){["WebSquare.uiplugin.eventController.prototype.headerDdlClick"];$W._c.fireEvent(this,"onheaderdblclick",_162.getAttribute("header_id"));if(this.options.sortEvent=="ondblclick"&&(this.options.sortable||_162.getAttribute("sortable")=="true")&&!this.groupbyStatus.grouped){this.fireSortEvent(e,_162);}if(this.groupbyStatus.grouped&&this.options.sortable){return;this.fireGroupByRangeSortEvent(e,_162);}this.noevent=false;};$W._a.az.prototype.fireGroupByRangeSortEvent=function(e,_164){["WebSquare.uiplugin.eventController.prototype.fireGroupByRangeSortEvent"];try{return;var _165=_164.className;var _166=parseInt(_164.getAttribute("colIndex"),10)-this.defaultColCnt;if(_165.indexOf(this.options.headerTdClass+"_rowNumber")>=0||_165.indexOf(this.options.headerTdClass+"_rowStatus")>=0){return;}for(var i=0;i<this.groupbyStatus.sortIndexArr.length;i++){if(this.groupbyStatus.sortIndexArr[i]==_166){return;}}var _168=1;var _169=_164.getAttribute("header_id");var _16a=_164.getAttribute("inputtype");if(this.headerSortStatusArr.length>this.groupbyStatus.sortIndexArr.length){var _16b=this.headerSortStatusArr[this.headerSortStatusArr.length-1];var td=this.getElementById(this.id+"_"+_16b.headerId);if(_169==_16b.headerId){_168=(_16b.sortOrder===-1)?1:-1;}this._clearHeaderSortImage(td,"table");this._clearHeaderSortImage(td,"div");this.headerSortStatusArr.pop();}this.headerSortStatusArr.push({"dataType":_16a,"headerId":_169,"colID":this.headerToBodyRelation[_169],"sortOrder":_168});this.filteredRowIndexArr=this.recursiveRangeSort(this.filteredRowIndexArr,_166,_168);this.drawHeaderSortImages();this.drawData(0,null,"async");}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.az.prototype.recursiveRangeSort=function(_16d,_16e,_16f){["WebSquare.uiplugin.eventController.prototype.recursiveRangeSort"];try{return;var _170=0;var _171={};var _172=[];var _173=[_16e];var _174=[_16f];for(var i=0;i<_16d.length;i++){if(typeof _16d[i]=="number"){if(!_171[_170]){_171[_170]=[];_172.push(i);}_171[_170].push(_16d[i]);}else{if(_16d[i].type=="header"){if(_16d[i].status=="open"){continue;}else{if(_16d[i].status=="closed"){var arr=_16d[i].closedChildArr.slice();var _177=this.recursiveRangeSort(arr,_16e,_16f);_16d[i].closedChildArr=_177;}}}else{if(_16d[i].type=="footer"){if(_171[_170]){_170++;}}}}}for(var key in _171){var _179=_171[key].slice();var _177=this._rangeSort(_179,[_16e],[_16f]);var _17a=_172[parseInt(key,10)];_177.unshift(_17a,_177.length);[].splice.apply(_16d,_177);}this.groupbyStatus.groupbyRowIndexArr=[];for(var i=0;i<_16d.length;i++){if(typeof _16d[i]=="number"){this.groupbyStatus.groupbyRowIndexArr.push(_16d[i]);}}return _16d;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.az.prototype.fireSortEvent=function(e,_17c){["WebSquare.uiplugin.eventController.prototype.fireSortEvent"];if(_17c.disabled){return;}if(_17c.className.indexOf(this.options.headerTdClass+"_rowNumber")>=0||_17c.className.indexOf(this.options.headerTdClass+"_rowStatus")>=0){return;}if(_17c.getAttribute("sortable")=="false"){return;}var _17d=_17c.getAttribute("header_id");var _17e=this.headerToBodyRelation[_17d];var _17f=this.options.useCtrlOnMultisort?(e.ctrlKey||e.metaKey):true;if(this.options.preventMultisort){_17f=false;}var _180=this.cellInfoHash[_17e];if(this.initializeType=="gridView"&&_180.options.inputType=="expression"){if(_180.options.expressionSort!="true"){return;}}if(this.headerSortStatusArr==null){this.headerSortStatusArr=[];}if(this.headerSortStatusArr[_17e]){if(this.options.sortOrderReverse){this.headerSortStatusArr[_17e].sortOrder=(this.headerSortStatusArr[_17e].sortOrder+3)%3-1;}else{this.headerSortStatusArr[_17e].sortOrder=(this.headerSortStatusArr[_17e].sortOrder-3)%3+1;}if(!_17f){var _181=this.headerSortStatusArr[_17e];this.clearHeaderSort();this.headerSortStatusArr.push(_181);this.headerSortStatusArr[_17e]=this.headerSortStatusArr[0];}}else{var _181={};_181.headerId=_17d;_181.colID=_17e;if(this.options.sortOrderReverse){_181.sortOrder=-1;}else{_181.sortOrder=1;}var _180=this.getCellInfo(_17e);var _182=this.getColumnOption(_180.options.col_id,"dataType");_181.dataType=(_182=="number")?"number":"text";if(_17f){this.headerSortStatusArr.push(_181);this.headerSortStatusArr[_17e]=this.headerSortStatusArr[this.headerSortStatusArr.length-1];}else{this.clearHeaderSort();this.headerSortStatusArr.push(_181);this.headerSortStatusArr[_17e]=this.headerSortStatusArr[0];}}var _183=[];var _184=[];var _182=[];var _185={};_185["headerId"]=_17d;_185["bodyColId"]=_17e;_185["sortOrder"]=this.headerSortStatusArr[_17e].sortOrder;if(this.headerSortStatusArr.length==0){this.dataList.clearSortFilter();}else{for(var i=this.headerSortStatusArr.length-1;i>=0;i--){if(this.headerSortStatusArr[i].sortOrder==0){var _cId=this.headerSortStatusArr[i].colID;this.setHeaderSortImage(_17d,0,0);this.headerSortStatusArr.splice(i,1);delete this.headerSortStatusArr[_cId];if(this.headerSortStatusArr.length==0){this.dataList.clearSort();$W._c.fireEvent(this,"onsort",_185);return;}}else{_183.push(this.headerSortStatusArr[i].colID);_184.push(this.headerSortStatusArr[i].sortOrder);_182.push(this.headerSortStatusArr[i].dataType);}}_183.reverse();_184.reverse();_182.reverse();this.dataList.setFilter({type:"sort",sortIndex:_183.join(" "),sortOrder:_184.join(" "),dataType:_182.join(" "),focuseMode:this.options.filterFocusMode,ignoreEmptyStringOnSort:this.options.ignoreEmptyStringOnSort,setEmptyStringFirstOnSort:this.options.setEmptyStringFirstOnSort,setEmptyStringSortableOnSort:this.options.setEmptyStringSortableOnSort});}this.drawHeaderSortImages();$W._c.fireEvent(this,"onsort",_185);};$W._a.az.prototype.footerClick=function(e,_189){["WebSquare.uiplugin.eventController.prototype.footerClick"];$W._c.fireEvent(this,"onfooterclick",_189.getAttribute("footer_id"));if(this.editedCell!=null){this.editedCell.handleEndEdit();}};$W._a.az.prototype.footerDblClick=function(e,_18b){["WebSquare.uiplugin.eventController.prototype.footerDblClick"];$W._c.fireEvent(this,"onfooterdblclick",_18b.getAttribute("footer_id"));if(this.editedCell!=null){this.editedCell.handleEndEdit();}};$W._a.az.prototype.subtotalClick=function(e,_18d){["WebSquare.uiplugin.eventController.prototype.subtotalClick"];$W._c.fireEvent(this,"onsubtotalclick",_18d.getAttribute("id"));if(this.editedCell!=null){this.editedCell.handleEndEdit();}};$W._a.az.prototype.subtotalDblClick=function(e,_18f){["WebSquare.uiplugin.eventController.prototype.subtotalDblClick"];$W._c.fireEvent(this,"onsubtotaldblclick",_18f.getAttribute("id"));if(this.editedCell!=null){this.editedCell.handleEndEdit();}};$W._a.az.prototype.handleTouchStart=function(e){["WebSquare.uiplugin.eventController.prototype.handleTouchStart"];if(this.options.tooltipDisplay&&this.isMobile){this.hideTooltip();}$W._N.clearTimer(this.id+"_iScroll_slideX");if(e.touches&&e.touches.length==1){this.iScrollAddMoveClass();this.iScroll.moveDirection=null;this.iScroll.propagation=null;this.iScroll.prevTouches=[{x:e.touches[0].pageX,y:e.touches[0].pageY}];$W._N.setTimer(function(){this.iScrollRemoveMoveClass();this.iScroll.prevTouches=[];this.iScroll.propagation="pass";},{key:this.id+"_iScroll",caller:this,delay:this.options.iScrollMoveEffectTime});}else{if(window.navigator.msPointerEnabled&&e.pointerType=="touch"){this.iScrollAddMoveClass();this.iScroll.moveDirection=null;this.iScroll.propagation=null;this.iScroll.prevTouches=[{x:e.pageX,y:e.pageY}];$W._N.setTimer(function(){this.iScrollRemoveMoveClass();this.iScroll.prevTouches=[];this.iScroll.propagation="pass";},{key:this.id+"_iScroll",caller:this,delay:this.options.iScrollMoveEffectTime});}}};$W._a.az.prototype.handleTouchMove=function(e){["WebSquare.uiplugin.eventController.prototype.handleTouchMove"];if(this.iScroll.propagation=="pass"){return;}if(this.iScroll.addMoveClass){this.iScrollAddMoveClass();this.iScroll.addMoveClass=false;}if(e.touches&&e.touches.length==1){var _192=this.scrollX_right;var _193=this.getElementById(this.id+"_scrollY_div");var _194=this.getElementById(this.id+"_iScrollX");var _195=this.getElementById(this.id+"_iScrollY");this.iScroll.prevTouches.push({x:e.touches[0].pageX,y:e.touches[0].pageY});var _196=this.iScroll.prevTouches=this.iScroll.prevTouches.splice(-2);var _197=_196[0].x-_196[1].x;var _198=_196[0].y-_196[1].y;var _199=this.iScroll.moveDirection;if(!_199){_199=this.iScroll.moveDirection=Math.abs(_198)>=Math.abs(_197)?"Y":"X";}if(this.options.scrollByColumnAdaptive&&this.event.hasEvent(this.id+"_body_tbody","onscroll")&&_199==="X"){$W._c.stopEvent(e);return;}var _19a=_199=="X"&&_197<0&&_192.scrollLeft==0||_199=="X"&&_197>0&&_192.scrollLeft>=_192.firstChild.offsetWidth-_192.offsetWidth||_199=="Y"&&_198<0&&_193.scrollTop==0||_199=="Y"&&_198>0&&this.rowIndex+this.lastIndex+1==this.getDataLength()||this.getDataLength()==0;if(_19a){if(this.iScroll.propagation=="stop"){$W._c.stopEvent(e);}else{this.iScrollRemoveMoveClass();this.iScroll.prevTouches=[];this.iScroll.propagation="pass";}return;}if(_199=="X"){this.moveXScroll(_197);}else{this.moveYScroll(_198);}this.iScroll.propagation="stop";$W._c.stopEvent(e);$W._N.setTimer(function(){this.iScrollRemoveMoveClass();this.iScroll.addMoveClass=true;},{key:this.id+"_iScroll",caller:this,delay:this.options.iScrollMoveEffectTime});}else{if(window.navigator.msPointerEnabled&&this.iScroll.prevTouches&&e.pointerType=="touch"){var _192=this.scrollX_right;var _193=this.getElementById(this.id+"_scrollY_div");var _194=this.getElementById(this.id+"_iScrollX");var _195=this.getElementById(this.id+"_iScrollY");this.iScroll.prevTouches.push({x:e.pageX,y:e.pageY});var _196=this.iScroll.prevTouches=this.iScroll.prevTouches.splice(-2);var _197=_196[0].x-_196[1].x;var _198=_196[0].y-_196[1].y;var _199=this.iScroll.moveDirection;if(!_199){_199=this.iScroll.moveDirection=Math.abs(_198)>=Math.abs(_197)?"Y":"X";}var _19a=_199=="X"&&_197<0&&_192.scrollLeft==0||_199=="X"&&_197>0&&_192.scrollLeft>=_192.firstChild.offsetWidth-_192.offsetWidth||_199=="Y"&&_198<0&&_193.scrollTop==0||_199=="Y"&&_198>0&&this.rowIndex+this.lastIndex+1==this.getDataLength()||this.getDataLength()==0;if(_19a){if(this.iScroll.propagation=="stop"){$W._c.stopEvent(e);}else{this.iScrollRemoveMoveClass();this.iScroll.prevTouches=[];this.iScroll.propagation="pass";}return;}if(_199=="X"){this.moveXScroll(_197);}else{this.moveYScroll(_198);}this.iScroll.propagation="stop";$W._c.stopEvent(e);$W._N.setTimer(function(){this.iScrollRemoveMoveClass();this.iScroll.addMoveClass=true;},{key:this.id+"_iScroll",caller:this,delay:this.options.iScrollMoveEffectTime});}}};$W._a.az.prototype.handleTouchEnd=function(e){["WebSquare.uiplugin.eventController.prototype.handleTouchEnd"];if(this.isMobile||(window.navigator.msPointerEnabled&&this.iScroll.prevTouches&&e.pointerType=="touch")){$W._N.clearTimer(this.id+"_iScroll");this.iScroll.prevTouches=this.iScroll.prevTouches.splice(-2);var _19c=this.iScroll.prevTouches;if(_19c.length>=2){var _19d=_19c[0].x-_19c[1].x;if(this.options.scrollByColumnAdaptive&&this.event.hasEvent(this.id+"_body_tbody","onscroll")&&this.iScroll.moveDirection==="X"){var _19e=this.getElementById(this.id+"_body_tbody");var _19f=_19e.firstChild.offsetWidth;var _1a0=0;if(_19d>0){_1a0=Math.ceil(_19d/_19f)*_19f;}else{if(_19d<0){_1a0=Math.floor(_19d/_19f)*_19f;}}_19e.scrollLeft=Math.floor((_19e.scrollLeft+_1a0)/_19f)*_19f;return;}else{var _1a1=new Date();this.slideX(_19d,_1a1);}}else{this.iScrollRemoveMoveClass();}}};$W._a.az.prototype.iScrollAddMoveClass=function(){var _1a2=this.getElementById(this.id+"_iScrollX");var _1a3=this.getElementById(this.id+"_iScrollY");if($W._G.isMobile()){this.__addClass(_1a2,"w2grid_iScrollX_move_mobile");this.__addClass(_1a3,"w2grid_iScrollY_move_mobile");}else{this.__addClass(_1a2,"w2grid_iScrollX_move");this.__addClass(_1a3,"w2grid_iScrollY_move");}};$W._a.az.prototype.iScrollRemoveMoveClass=function(){var _1a4=this.getElementById(this.id+"_iScrollX");var _1a5=this.getElementById(this.id+"_iScrollY");if($W._G.isMobile()){this.__removeClass(_1a4,"w2grid_iScrollX_move_mobile");this.__removeClass(_1a5,"w2grid_iScrollY_move_mobile");}else{this.__removeClass(_1a4,"w2grid_iScrollX_move");this.__removeClass(_1a5,"w2grid_iScrollY_move");}};$W._a.az.prototype.moveXScroll=function(_1a6){var _1a7=this.getElementById(this.id+"_iScrollX");var _1a8=this.getElementById(this.id+"_dataLayer");var _1a9=this.getElementById(this.id+"_scrollX_left");var _1aa=this.scrollX_right;_1aa.scrollLeft+=_1a6;var _1ab=parseInt(_1a9.style.width,10);var _1ac=_1aa.firstChild.offsetWidth-_1aa.offsetWidth;var _1ad=parseInt(_1aa.offsetWidth*_1aa.offsetWidth/_1aa.firstChild.offsetWidth,10);_1a7.style.width=(_1ad<30?30:_1ad)+"px";_1a7.style.left=(_1ab+_1aa.scrollLeft/_1ac*(_1a8.offsetWidth-_1ab-_1a7.offsetWidth))+"px";if(this.options.tooltipDisplay&&this.isMobile){this.hideTooltip();}};$W._a.az.prototype.slideX=function(_1ae,_1af){var _1b0=new Date();var dx=parseInt(_1ae/3,10);this.moveXScroll(dx);_1ae-=dx;var sign=_1ae>0?"+":"-";if(Math.abs(_1ae)>=0&&_1b0-_1af<this.options.iScrollSlideTime){$W._N.clearTimer(this.id+"_iScroll_slideX");$W._N.setTimer(this.slideX,{key:this.id+"_iScroll_slideX",caller:this,delay:this.options.iScrollSlidePeriod,args:[_1ae,_1af]});}else{this.iScrollRemoveMoveClass();}};$W._a.az.prototype.moveYScroll=function(_1b3){_1b3*=parseInt(this.options.touchScrollDelta,10)||5;var _1b4=this.getElementById(this.id+"_iScrollY");var _1b5=this.getElementById(this.id+"_scrollY_div");_1b5.scrollTop+=_1b3;var _1b6=_1b5.firstChild.offsetHeight;var _1b7=this.getElementById(this.id+"_dataLayer");var _1b8=_1b6-_1b7.offsetHeight;var _1b9=parseInt(_1b7.offsetHeight*_1b7.offsetHeight/_1b6,10);_1b4.style.height=(_1b9<30?30:_1b9)+"px";_1b4.style.top=(_1b5.scrollTop/_1b8*(_1b7.offsetHeight-_1b4.offsetHeight))+"px";if(this.options.tooltipDisplay&&this.isMobile){this.hideTooltip();}};$W._a.az.prototype.tbodyMoveXScroll=function(e){["WebSquare.uiplugin.eventController.prototype.tbodyMoveXScroll"];if(this.editedCell){this.editedCell.handleEndEdit();}if(!this.mobile&&this.options.scrollByColumnAdaptive){}if(this.options.adaptiveSlideHeader){var _1bb=this.options.adaptive;var _1bc=parseInt(this.options.adaptiveThreshold)||480;if(_1bb=="crosstab"&&!($W._G.isIE()&&parseInt($W._N.browserVersion(),10)<10)){if(parseInt(top.document.documentElement.clientWidth||top.document.body.clientWidth)<=_1bc&&this.slideHeadObj&&this.slideHeadObj.render.style.position=="absolute"){if(this.slideHeadObj.hidden){$(this.slideHeadObj.render.firstChild).animate({width:"show"});this.slideHeadObj.hidden=false;}var _1bd=this;var _1be=function(){$w.setTimeout(function(){if($W.userTimerHash[_1bd.id+"_adaptiveSlideHeader"]!=null){$w.clearTimeout(_1bd.id+"_adaptiveSlideHeader");_1be();}else{if(!_1bd.slideHeadObj.hidden){$(_1bd.slideHeadObj.render.firstChild).animate({width:"hide"});_1bd.slideHeadObj.hidden=true;}}},{delay:1000,key:_1bd.id+"_adaptiveSlideHeader"});};_1be();}}}};;WebSquare.uiplugin.eventController=$W._a.az;$W._a._h=function(){["WebSquare.uiplugin.keyEventController"];};$W._a._h.prototype.nonCharKeys={4:"insert",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",9:"tab",13:"enter",46:"del",16:"shift",17:"ctrl",18:"alt",21:"hanyoung",25:"hanja",91:"window",20:"capslock",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"numlock",145:"scrolllock"};$W._a._h.prototype.handleBodyKeyDown=function(e){["WebSquare.uiplugin.keyEventController.prototype.handleBodyKeyDown"];this.isKeyPressed=true;if(!this.editMode){if(this.options.focusMode!="none"&&(this.getFocusedRowIndex()==-1||this.getFocusedColumnIndex()==null)){if(e.keyCode==13&&document.activeElement==this.render){this.setFocusedCell();$W._c.stopEvent(e);}if($W._c.getTarget(e).tagName=="A"){var it=this.event.getTargetIterator(e,this.render);var _3=false;while(it.next()){if(it.match("gridBodyDefault")){_3=true;var _4=it.getElement();var _5=parseInt(_4.getAttribute("tdIndex"));var _6=parseInt(_5/this.realRowDataLength);var _7=_4.getAttribute("col_id");var _8=this.getColumnIndex(_7);this.focusedCell.push({focusedTd:_4,focusedRowIndex:_6,focusedColIndex:_8});var _9=_4.getElementsByTagName("a");if(this.focusedCellLinkIndex==-1){for(var i=0;i<_9.length;i++){if(document.activeElement==_9[i]){this.focusedCellLinkIndex=i;}}}this.focusedCellLinkLength=_9.length;break;}}if(!_3){return;}}else{return;}}var _b=false;if($W._N.browserCheck.safari&&(e.ctrlKey||e.metaKey)){this.tempEditableCell=document.activeElement;this.tempEditableCell.contentEditable="true";this.tempEditableCell.style.textShadow="0 0 0 "+$W._H.getStyle(this.tempEditableCell,"color");this.tempEditableCell.style.color="transparent";var _c=this;$W._N.setTimer(function(){_c.tempEditableCell.contentEditable="inherit";var _d=this.tempEditableCell.style.textShadow;this.tempEditableCell.style.color="";this.tempEditableCell.style.textShadow="";},{key:this.id+"_tempEditableCell_contentEditable",caller:this,delay:500});}switch(e.keyCode){case 37:case 39:if(this.options.moveKeyEditMode){var _e=(e.keyCode==37)?"left":"right";this.moveHorizontal(false,_e,true);$W._c.stopEvent(e);return;}case 38:case 40:this.skipScrollEndEvent=false;if(this.options.moveKeyEditMode){var _e=(e.keyCode==38)?"up":"down";this.moveVertical(false,_e,true);$W._c.stopEvent(e);return;}case 33:case 34:case 35:case 36:case 9:_b=true;break;case 13:if(this.options.senseReader&&this.options.focusImage&&this.getLastFocusedCell().focusedColIndex){var _f=this.getCellInfo(this.getLastFocusedCell().focusedColIndex);if(_f&&_f.options.inputType=="image"){var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match("w2grid_image")){var _10=$W._G.getGlobalFunction(_f.options.imageClickFunction,this.scope_id);if(typeof _10=="function"){_10.call(this,this.getLastFocusedCell().focusedRowIndex,_f.id,this.getCellData(this.getLastFocusedCell().focusedRowIndex,_f.id));}}}}}if(this.options.senseReader&&this.getLastFocusedCell().focusedColIndex!=null){var _f=this.getCellInfo(this.getLastFocusedCell().focusedColIndex);if(_f&&_f.options.inputType=="select"&&_f.options.tableRender=="ul"){this.setEditHtml(e);$W._c.stopEvent(e);return;}}_b=true;break;default:_b=false;break;}if(_b==true&&this.options.focusMove=="false"){var _11=(e.charCode)?e.charCode:e.keyCode;if(!this.options.senseReader){return;}else{if(_11!=9){return;}}}if(this.F2Mode){switch(e.keyCode){case 8:case 46:case 35:case 36:case 37:case 38:case 39:case 40:return;}}switch(e.keyCode){case 4:break;case 46:this.removeCellData(e);$W._c.stopEvent(e);break;case 32:this.doDefaultAction(e);break;case 33:this.movePageUp(e);$W._c.stopEvent(e);break;case 34:this.movePageDown(e);$W._c.stopEvent(e);break;case 35:this.moveHorizontal(e,"end");$W._c.stopEvent(e);break;case 36:this.moveHorizontal(e,"home");$W._c.stopEvent(e);break;case 37:this.moveHorizontal(e,"left");$W._c.stopEvent(e);break;case 38:this.moveVertical(e,"up");$W._c.stopEvent(e);break;case 39:this.moveHorizontal(e,"right");$W._c.stopEvent(e);break;case 40:this.moveVertical(e,"down");$W._c.stopEvent(e);break;case 9:if(this.options.senseReader&&this.options.focusImage&&this.getLastFocusedCell().focusedColIndex){var _f=this.getCellInfo(this.getLastFocusedCell().focusedColIndex);if(_f&&_f.options.inputType=="image"){$W._c.stopPropagation(e);var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match("w2grid_image")){if($W._c.getTarget(e)==this.render){this.getLastFocusedCell().focusedTd.setAttribute("tabIndex",-1);}else{var ret=this.moveHorizontal(e,e.shiftKey?"left":"right",this.options.keyMoveEditMode);if(ret||this.options.focusFlow!="linear"){$W._c.stopEvent(e);}}}}}}else{if($W._c.getTarget(e)==this.render){this.getLastFocusedCell().focusedTd.setAttribute("tabIndex",-1);}else{var ret=this.moveHorizontal(e,e.shiftKey?"left":"right",this.options.keyMoveEditMode);if(ret||this.options.focusFlow!="linear"){$W._c.stopEvent(e);}}}break;case 13:if(this.options.enterKeyMove=="edit"){this.setEditHtml(e);}else{if(this.options.enterKeyMove=="none"){}else{if(this.options.enterKeyMove=="right"){this.moveHorizontal(e,e.shiftKey?"left":"right",this.options.keyMoveEditMode);}else{this.moveVertical(e,e.shiftKey?"up":"down",this.options.keyMoveEditMode);}}}$W._c.stopEvent(e);break;case 67:if(e.ctrlKey||e.metaKey){if($W._G.isIEAllVersion()){this.handleCopyEvent({});}else{if(!$W._G.isIEAllVersion()){if($W._N.browserCheck.moz){var _13=document.createElement("textarea");var _c=this;var _14=document.getElementsByTagName("body")[0];_13.oncopy=function(e){_c.handleCopyEvent(e);_14.removeChild(this);};_13.textContent="temp";_14.appendChild(_13);_13.select();try{document.execCommand("copy");}catch(e){}}}}}else{var _16=$W._G.getBoolean(e.srcElement.getAttribute("directItemChoice"));if(_16){this.directItemChoiceKeyObj.select=e.keyCode;}this.setEditHtml(e);}break;case 86:if(e.ctrlKey||e.metaKey){if(this.options.preventPaste){$W._c.stopEvent(e);break;}if($W._G.isIEAllVersion()){this.handlePasteEvent({});}else{if(!$W._G.isIEAllVersion()){if($W._N.browserCheck.moz){var _13=document.createElement("textarea");var _c=this;_13.onpaste=function(e){_c.handlePasteEvent(e);_14.removeChild(this);};_13.textContent="temp";var _14=document.getElementsByTagName("body")[0];_14.appendChild(_13);_13.select();try{document.execCommand("paste");}catch(e){}}}}}else{var _16=$W._G.getBoolean(e.srcElement.getAttribute("directItemChoice"));if(_16){this.directItemChoiceKeyObj.select=e.keyCode;}this.setEditHtml(e);}break;case 90:if(e.ctrlKey){}else{var _16=$W._G.getBoolean(e.srcElement.getAttribute("directItemChoice"));if(_16){this.directItemChoiceKeyObj.select=e.keyCode;}this.setEditHtml(e);}break;case 27:if(this.options.focusMode!="none"&&this.options.focusFlow!="linear"){this.getLastFocusedCell().focusedTd.setAttribute("tabIndex",-1);this.render.focus();}break;case 16:case 17:case 18:case 21:case 229:case 25:case 91:case 20:case 112:case 113:case 114:case 115:case 116:case 117:case 118:case 119:case 120:case 121:case 122:case 123:break;default:if(!e.ctrlKey&&!e.metaKey){var _16=$W._G.getBoolean(e.srcElement.getAttribute("directItemChoice"));if(_16){this.directItemChoiceKeyObj.select=e.keyCode;}this.setEditHtml(e);}}}else{var t=this.editedCell.options.inputType;if(t==="text"||t==="textarea"||t==="calendar"||t==="textImage"||t==="secret"){this.beforeEditedCellInfo={"rowIndex":this.editedCell.editRowIndex,"colIndex":this.getColumnIndex(this.editedCell.id),"colID":this.getColumnID(this.editedCell.id),"oldValue":this.editedCell.beforeEditValue||"","newValue":this.editedCell._getEditedValue(),"inputType":t,"keyCode":(e.charCode)?e.charCode:e.keyCode};}switch(e.keyCode){case 9:$W._c.stopEvent(e);var _19=this.editedCell.editRowIndex;var _1a=this._dataList.getColumnIndex(this.editedCell.id);var _1b=this.getColumnIndex(this.editedCell.id);var _1c=this._grid.getRealRowIndex(_19);var _1d=this._dataList.dataArr[_1c*this._dataList.getColumnCount()+_1a];var ret=this.editedCell.handleEndEdit(e);if(ret+""!="false"){var _1e=this._dataList.dataArr[_1c*this._dataList.getColumnCount()+_1a];if(_1d!=_1e){$W._c.fireEvent(this,"onviewchange",{"oldValue":_1d,"newValue":_1e,"rowIndex":_19,"colIndex":_1b});}if(!this.moveHorizontal(e,e.shiftKey?"left":"right",this.options.keyMoveEditMode)){this.setFocusedCell(this.editMode);}}break;case 13:if(this.editedCell.options.inputType=="textarea"&&!e.ctrlKey){break;}var _19=this.editedCell.editRowIndex;var _1a=this._dataList.getColumnIndex(this.editedCell.id);var _1b=this.getColumnIndex(this.editedCell.id);var _1c=this._grid.getRealRowIndex(_19);var _1d=this._dataList.dataArr[_1c*this._dataList.getColumnCount()+_1a];var ret=this.editedCell.handleEndEdit(e);if(ret+""!="false"){var _1e=this._dataList.dataArr[_1c*this._dataList.getColumnCount()+_1a];if(_1d!=_1e){$W._c.fireEvent(this,"onviewchange",{"oldValue":_1d,"newValue":_1e,"rowIndex":_19,"colIndex":_1b});}var _1f=false;if(this.options.enterKeyMove=="right"){_1f=this.moveHorizontal(e,e.shiftKey?"left":"right",this.options.keyMoveEditMode);}else{if(this.options.enterKeyMove!="none"){_1f=this.moveVertical(e,e.shiftKey?"up":"down",this.options.keyMoveEditMode);}}if(!_1f){this.setFocusedCell(this.editMode);}}break;case 27:this.editedCell.handleCancelEdit(e);this.setFocusedCell();$W._c.stopEvent(e);break;case 86:if(e.ctrlKey||e.metaKey){if(this.options.preventPaste){$W._c.stopEvent(e);break;}}default:var _20={};_20.rowIndex=this.editedCell.editRowIndex;_20.colIndex=this._dataList.getColumnIndex(this.editedCell.id);$W._c.fireEvent(this,"oneditkeydown",_20);break;}}this.isKeyPressed=false;};$W._a.az.prototype.handleOnfocus=function(e){if(this.getDataLength()>0&&(this.getFocusedRowIndex()==-1||this.getFocusedColumnIndex()==null)){var _22=null;var _23=this.colIndexInfo.body.colInfo.colIndexMatch;var _24=this.colIndexes.bodyColInfo.trIndexArr;var _25=_24[this.defaultColCnt];var row=0;for(var i=0;i<_23.length;i++){var _28=_23[i];if(this.hiddenList[i]){continue;}for(var j=_28.length-1;j>=0;j--){var _2a=_28[j]-this.defaultColCnt;var _2b=_24[_28[j]];if(_2b<=_25){if(this.options.readOnlyTabIgnore&&this.getReadOnly("all",row,_2a)){break;}if(this.options.ignoreNonEditableCell&&(this.getReadOnly("all",row,_2a)||this.getDisabled("all",row,_2a))){break;}_22=_2a;break;}}if(_22!==null){break;}}if(_22!==null){this.setFocusedCell(row,_22);}}};$W._a._h.prototype.removeCellData=function(e){var _2d=this.getLastFocusedCell();var row=_2d.focusedRowIndex;var col=_2d.focusedColIndex;var _30=this._grid.getColumnID(col);var _31=this._dataList.getColumnIndex(_30);var _32=this.getColumnIndex(_30);var _33=this._grid.getRealRowIndex(row);var _34=this._dataList.dataArr[_33*this._dataList.getColumnCount()+_31];var _35=this.getCellInfo(col);if(!this.getReadOnly("all",row,col)&&!this.getDisabled("all",row,col)&&_34!==""&&_34!=undefined){_35.removeCellData(row,col);$W._c.fireEvent(this,"onviewchange",{"oldValue":_34,"newValue":"","rowIndex":row,"colIndex":_32});}};$W._a._h.prototype.doDefaultAction=function(e){if(this.options.focusMode=="none"){var td=$W._c.getTarget(e);while(td&&td.tagName!="TD"){td=td.parentNode;}if(td){this.getCellInfo(td).doDefaultAction(e);}}else{this.getCellInfo(this.getLastFocusedCell().focusedColIndex).doDefaultAction(e);}};$W._a._h.prototype.setEditHtml=function(e){["WebSquare.uiplugin.keyEventController.prototype.setEditHtml"];var _39=$W._c.getTarget(e);if(!this.options.fastEditMode&&_39.tagName!="INPUT"){$W._c.stopEvent(e);}if(this.focusedCell.length>0){var _3a=this.focusedCell[this.focusedCell.length-1];if(_3a.focusedTd!=null){this.setEditMode(_3a.focusedTd);}}};$W._a._h.prototype.getFirstTdTrIndex=function(td){["WebSquare.uiplugin.keyEventController.prototype.getFirstTdTrIndex"];var _3c=0;var tr=td.parentNode;while(tr.getAttribute("trIndex")!="0"){tr=$W._G.prev(tr);}return tr;};$W._a._h.prototype.fixScrollRightDirection=function(){["WebSquare.uiplugin.keyEventController.prototype.fixScrollRightDirection"];var _3e=this.getLastFocusedCell();var _3f=this.getElementById(this.id+"_dataLayer").offsetWidth;var _40=this.getElementById(this.id+"_scrollX_right");var _41=_3e.focusedTd.offsetLeft;var _42=_3e.focusedTd.offsetWidth+1;if($W._G.isFF()){_42-=1;}if($W._G.isOpera()){_42+=2;}var gap=_41+_42-_3f;if(this.options.lazyDrawHiddenColumn){var td=this.focusedCell[0].focusedTd;if(td.style.display=="none"||gap>0){if(this.options.scrollByColumn){var _45=_3f-this.fixedWidth;var _46;for(var i=0;i<this.columnOrder.length;i++){if(this.columnOrder[i]==_3e.focusedColIndex){_46=i+this.defaultColCnt;break;}}var _48=-1;var _49=0;$W._G.isOpera()&&(_49=2);for(var _4a=_46;_4a>=0;_4a--){if(this.hiddenList[_4a]){continue;}_45-=this.colWidthList[_4a];if(_45<0){_48=_4a;break;}}var _4a=0;if(this.fixedWidth>0){_4a=this.getFixedColumnLastIndex();}for(_4a;_4a<=_48;_4a++){if(this.hiddenList[_4a]){continue;}else{_49+=this.colWidthList[_4a];}}this.scrollXPreventEndEdit=true;_40.scrollLeft=_49;this._handleScrollX();}else{var _4b=parseInt(td.getAttribute("colIndex"),10);var _4c=0;$W._G.isOpera()&&(_4c=2);for(var i=0;i<=_4b;i++){if(!this.hiddenList[i]){_4c+=this.colWidthList[i];}}this.scrollXPreventEndEdit=true;_40.scrollLeft=_4c-_3f;this._handleScrollX();}}}else{if(gap>0){if(this.options.scrollByColumn){var _45=_3f-this.fixedWidth;var _46;var _4d=_3e.focusedColIndex%this.columnOrder.length;for(var i=0;i<this.columnOrder.length;i++){if(this.columnOrder[i]==_4d){_46=i+this.defaultColCnt;break;}}var _48=-1;var _49=0;for(var _4a=_46;_4a>=0;_4a--){if(this.hiddenList[_4a]){continue;}if(this.colIndexes.bodyColInfo.colSpanArr.length!=0){_45-=(this.colWidthList[_4a]*(this.colIndexes.bodyColInfo.colSpanArr[_4a]?this.colIndexes.bodyColInfo.colSpanArr[_4a]:1));if(_45<0){_48=_4a;break;}}else{_45-=this.colWidthList[_4a];if(_45<0){_48=_4a;break;}}}var _4a=0;if(this.fixedWidth>0){_4a=this.getFixedColumnLastIndex();}for(_4a;_4a<=_48;_4a++){if(this.hiddenList[_4a]){continue;}else{if(this.colIndexes.bodyColInfo.colSpanArr.length!=0){_49+=(this.colWidthList[_4a]*(this.colIndexes.bodyColInfo.colSpanArr[_4a]?this.colIndexes.bodyColInfo.colSpanArr[_4a]:1));}else{_49+=this.colWidthList[_4a];}}}this.scrollXPreventEndEdit=true;_40.scrollLeft=_49;this._handleScrollX();}else{this.scrollXPreventEndEdit=true;_40.scrollLeft=_40.scrollLeft+gap;this._handleScrollX();}}}};$W._a._h.prototype.fixScrollLeftDirection=function(){["WebSquare.uiplugin.keyEventController.prototype.fixScrollLeftDirection"];var _4e=this.getLastFocusedCell();var _4f=_4e.focusedTd.getAttribute("colIndex");_4f=parseInt(_4f);var _50=this.getElementById(this.id+"_scrollX_right");var _51=0;var max=this.gridWidth-_51-this.fixedWidth;var _53=this.getFixedColumnLastIndex();for(var i=_53;i<_4f;i++){if(this.hiddenList[i]){continue;}var _55=this.colWidthList[i];_51+=_55;}if(_50.scrollLeft>_51){this.scrollXPreventEndEdit=true;_50.scrollLeft=_51;this._handleScrollX();}};$W._a._h.prototype.getLeftMostFocusableColIndex=function(_56){var _57=this.colIndexInfo.body.colInfo.colIndexArr;var _58=null;if(_56>=this.dataList.getRowCount()||_56<0){return _58;}for(var i=0;i<_57.length-this.defaultColCnt;i++){var _5a=false;var _5b=this.getCellInfo(i);if(this.options.readOnlyTabIgnore){_5a=this.getReadOnly("all",_56,i);}if(this.options.ignoreNonEditableCell||this.options.senseReader){_5a=this.getReadOnly("all",_56,i)||this.getDisabled("all",_56,i);}if(this.options.senseReader&&this.getReadOnly("all",_56,i)||this.getDisabled("all",_56,i)){var _5b=this.getCellInfo(i);if(_5b.options.inputType=="user"||_5b.options.inputType=="link"){var _5c=this.data_td_list[i+((_56-this.rowIndex)*this.oneRowDataLength)];var _5d=_5c.getElementsByTagName("a");if(_5d.length!=0){_5a=false;}}}if(this.isColMerge&&this.cellInfoHash[this.tdIdList[i]].options.colMerge){var _5e=this.getCellData(_56-1,i);var _5f=this.upperGroupingTest(_56,i);var _60=this.getCellData(_56,i);if(_5e==_60&&_5f){_5a=true;}}if(!this.hiddenList[i]&&!_5a){_58=i;break;}}return _58;};$W._a._h.prototype.getRightMostFocusableColIndex=function(_61){var _62=this.colIndexInfo.body.colInfo.colIndexArr;var _63=null;if(_61>=this.getRowCount()||_61<0){return _63;}for(var i=_62.length-1-this.defaultColCnt;i>=0;i--){var _65=false;var _66=this.getCellInfo(i);if(this.options.readOnlyTabIgnore){_65=this.getReadOnly("all",_61,i);}if(this.options.ignoreNonEditableCell||this.options.senseReader){_65=this.getReadOnly("all",_61,i)||this.getDisabled("all",_61,i);}if(this.options.senseReader&&this.getReadOnly("all",_61,i)||this.getDisabled("all",_61,i)){var _66=this.getCellInfo(i);if(_66.options.inputType=="user"||_66.options.inputType=="link"){if(_61<this.rowIndex){_65=true;}else{var _67=this.data_td_list[i+((_61>=this.rowIndex?_61-this.rowIndex:_61)*this.oneRowDataLength)];var _68=_67.getElementsByTagName("a");if(_68.length!=0){_65=false;}else{_65=true;}}}}if(this.isColMerge&&this.cellInfoHash[this.tdIdList[i]].options.colMerge){var _69=this._dataList.getCellData(_61-1,i);var _6a=this.upperGroupingTest(_61,i);var _6b=this._dataList.getCellData(_61,i);if(_69==_6b&&_6a){_65=true;}}if(!this.hiddenList[i]&&!_65){_63=i;break;}}return _63;};$W._a._h.prototype.moveHorizontal=function(e,_6d,_6e){["WebSquare.uiplugin.keyEventController.prototype.moveHorizontal"];if(this.options.focusMove=="false"||this.options.focusMove=="vertical"){var _6f=(e.charCode)?e.charCode:e.keyCode;if(!this.options.senseReader){return false;}else{if(_6f!=9){return false;}}}var _70=this.getLastFocusedCell();var row=_70.focusedRowIndex;var col=_70.focusedColIndex;var _73=this.colIndexInfo.body.colInfo.colIndexArr;var _74=this._getRealColIndex("body",this.tdIdList[col])+this.defaultColCnt;var _75=this.colIndexInfo.body.colInfo.colIndexMatch;var _76=this.colIndexes.bodyColInfo.trIndexArr;var _77=_76[col+this.defaultColCnt];var _78=e?e.keyCode==9:false;var _79=e?(e.keyCode==9||e.keyCode==13):false;var _7a=e?(37<=e.keyCode&&e.keyCode<=40):false;var _7b=e?e.shiftKey:false;var _6d=_6d||"right";if(_70.bTrIndex){_77=_70.bTrIndex;}var _7c=null;var _7d=row;if(this.options.focusMultiRow){if(_6d=="left"){var _7e=_74-1;var end=this.defaultColCnt-1;var inc=-1;}else{if(_6d=="right"){var _7e=_74+1;var end=_75.length;var inc=+1;}else{if(_6d=="home"){var _7e=this.defaultColCnt;var end=_75.length;var inc=+1;}else{var _7e=_75.length-1;var end=this.defaultColCnt-1;var inc=-1;}}}for(var i=_7e;i!=end;i+=inc){var _82=_75[i];if(this.hiddenList[i]){continue;}for(var j=_82.length-1;j>=0;j--){var _84=_82[j]-this.defaultColCnt;var _85=_76[_82[j]];if(_85<=_77&&((_6d=="left"||_6d=="right")?_84!=col:true)){if((this.options.readOnlyTabIgnore||this.options.senseReader)&&this.getReadOnly("all",row,_84)){break;}if(_79&&(this.options.ignoreNonEditableCell||this.options.senseReader)&&(this.getReadOnly("all",row,_84)||this.getDisabled("all",row,_84))){break;}if(this.isColMerge&&this.cellInfoHash[this.tdIdList[_84]].options.colMerge){var _86=this.getCellData(row-1,_84);var _87=this.upperGroupingTest(row,_84);var _88=this.getCellData(row,_84);if(_86==_88&&_87){break;}}_7c=_84;break;}}if(_7c!==null){break;}}}else{var _89=this.getCellInfo(col);var _8a=false;if(this.options.senseReader&&_89.options.inputType=="user"&&this.getReadOnly("all",row,col)){_8a=true;}else{this.focusedCellLinkIndex=-1;this.focusedCellLinkLength=0;}if(_6d=="left"){if(_8a&&this.focusedCellLinkIndex>0){var _7e=col+this.defaultColCnt;var end=_73.length;var inc=+1;}else{var _7e=col+this.defaultColCnt-1;var end=this.defaultColCnt-1;var inc=-1;}}else{if(_6d=="right"){if(_8a&&this.focusedCellLinkIndex+1<this.focusedCellLinkLength){var _7e=col+this.defaultColCnt;var end=_73.length;var inc=+1;}else{this.focusedCellLinkIndex=-1;this.focusedCellLinkLength=0;var _7e=col+this.defaultColCnt+1;var end=_73.length;var inc=+1;}}else{if(_6d=="home"){var _7e=this.defaultColCnt;var end=_75.length;var inc=+1;}else{var _7e=_73.length-1;var end=this.defaultColCnt-1;var inc=-1;}}}for(var i=_7e;i!=end;i+=inc){var cnt=0;var _8c=null;for(var t=0;t<_75.length;t++){cnt=0;for(var r=0;r<_75[t].length;r++){if(i==_75[t][r]){_8c=t;break;}cnt++;}if(_8c!=null){break;}}var _82=_75[_8c];if(this.hiddenList[_8c]){continue;}for(var j=0;j<_82.length;j++){var _84=_82[j]-this.defaultColCnt;var _85=_76[_82[j]];var _89=this.getCellInfo(_84);if(j==cnt&&((_6d=="left"||_6d=="right")?(_8a?true:_84!=col):true)){var _8f=false;if(_78&&this.getReadOnly("all",row,_84)&&this.options.senseReader){if(_89.options.inputType=="user"||_89.options.inputType=="link"){var _90=this.data_td_list[_84+(_7d-this.rowIndex)*this.oneRowDataLength];var _91=_90.getElementsByTagName("a");if(_6d=="right"){for(var k=0;k<_91.length;k++){if(document.activeElement==_91[k]){this.focusedCellLinkIndex=k;break;}this.focusedCellLinkIndex=-1;}}else{if(_6d=="left"){for(var k=_91.length-1;k>-1;k--){if(document.activeElement==_91[k]){this.focusedCellLinkIndex=k;break;}this.focusedCellLinkIndex=-1;}}}if(_91[0]){if((_6d=="right"&&this.focusedCellLinkIndex!=(_91.length-1))||(_6d=="left"&&this.focusedCellLinkIndex!=0)){_8f=true;}}else{break;}}else{break;}}if(_79&&(this.options.ignoreNonEditableCell||this.options.senseReader)&&(this.getReadOnly("all",row,_84)||this.getDisabled("all",row,_84))){if(_78&&_8f==true){}else{break;}}if(this.isColMerge&&this.cellInfoHash[this.tdIdList[_84]].options.colMerge){var _86=this.getCellData(row-1,_84);var _87=this.upperGroupingTest(row,_84);var _88=this.getCellData(row,_84);if(_86==_88&&_87){break;}}_7c=_84;break;}}if(_7c!==null){break;}}}if(_7c!==null){if(_6e){if(this.getReadOnly("all",_7d,_7c)||this.getDisabled("all",_7d,_7c)){_6e=false;}}if(_6e&&this.options.keyMoveEditMode){var _89=this.getCellInfo(_7c);if($W._G.getBoolean(_89.options.skipKeyMoveEditMode)){_6e=false;}}this.setFocusedCell(row,_7c,_6e,{tabDirection:_6d});_70=this.getLastFocusedCell();_70.bTrIndex=_77;return true;}else{if(this.options.focusFlow=="linear"){if(row>0&&_7b){var _93=this.getRightMostFocusableColIndex(row-1);if(this.options.senseReader==true&&this.options.visibleRowNum!="all"&&_93==null){while(row>=0&&_93==null){this._setGridBorderNoRefresh=true;var _94=-1;if(this.hasSubtotal){_94-=this.getHasSubtotalCount(row-1);}this.addGridScroll(_94);this._setGridBorderNoRefresh=false;if(this.options.senseReader==true&&this.options.visibleRowNum!="all"){_93=this.getRightMostFocusableColIndex(row-1);}if(_93==null){row-=1;}}}else{while(row>=0&&_93==null){row-=1;_93=this.getRightMostFocusableColIndex(row-1);}}if(_93==null){if(this.editedCell){this.editedCell.handleEndEdit(e);}return false;}if(this.options.senseReader==true&&this.options.visibleRowNum!="all"){this.focusedCellLinkIndex=-1;this.focusedCellLinkLength=0;}if(row-1<this.rowIndex){this._setGridBorderNoRefresh=true;var _94=-1;if(this.hasSubtotal){_94-=this.getHasSubtotalCount(row-1);}this.addGridScroll(_94);this._setGridBorderNoRefresh=false;if(this.options.senseReader==true&&_93!=null&&this.options.visibleRowNum!="all"){_93=this.getRightMostFocusableColIndex(row-1);}}if(_6e){if(this.getReadOnly("all",_7d,_93)||this.getDisabled("all",_7d,_93)){_6e=false;}}if(_6e&&this.isKeyPressed&&this.options.keyMoveEditMode){var _89=this.getCellInfo(_93);if($W._G.getBoolean(_89.options.skipKeyMoveEditMode)){_6e=false;}}this._setGridBorderNoRefresh=true;this.setFocusedCell(row-1,_93,_6e,{tabDirection:_6d});this._setGridBorderNoRefresh=false;return true;}else{if(_6d=="left"&&row>0&&!_7b){var _95=this.getRightMostFocusableColIndex(row-1);while(row>0&&_95==null){row-=1;_95=this.getRightMostFocusableColIndex(row-1);}if(_95==null){if(this.editedCell){this.editedCell.handleEndEdit(e);}return false;}if(row-1>0&&row==this.rowIndex){this._setGridBorderNoRefresh=true;var _94=-1;this.addGridScroll(_94);this._setGridBorderNoRefresh=false;}if(_6e){if(this.getReadOnly("all",_7d,_95)||this.getDisabled("all",_7d,_95)){_6e=false;}}if(_6e&&this.isKeyPressed&&this.options.keyMoveEditMode){var _89=this.getCellInfo(_95);if($W._G.getBoolean(_89.options.skipKeyMoveEditMode)){_6e=false;}}this._setGridBorderNoRefresh=true;this.setFocusedCell(row-1,_95,_6e,{tabDirection:_6d});this._setGridBorderNoRefresh=false;return true;}else{if(_6d=="right"&&!_7b){if(row<this.getDataLength()-1){var _95=this.getLeftMostFocusableColIndex(row+1);while(row!=this.dataList.getRowCount()&&_95==null){row+=1;_95=this.getLeftMostFocusableColIndex(row+1);}if(_95==null){if(this.editedCell){this.editedCell.handleEndEdit(e);}return false;}if(row+1>this.rowIndex+this.lastIndex){this._setGridBorderNoRefresh=true;var _94=1;if(this.hasSubtotal){_94+=this.getHasSubtotalCount(row+1);}if(this.options.senseReader==true&&this.options.visibleRowNum!="all"){_94+=(row-(this.rowIndex+this.lastIndex));this.focusedCellLinkIndex=-1;this.focusedCellLinkLength=0;}this.addGridScroll(_94);this._setGridBorderNoRefresh=false;}if(_6e){if(this.getReadOnly("all",_7d,_95)||this.getDisabled("all",_7d,_95)){_6e=false;}}if(_6e&&this.isKeyPressed&&this.options.keyMoveEditMode){var _89=this.getCellInfo(_95);if($W._G.getBoolean(_89.options.skipKeyMoveEditMode)){_6e=false;}}this._setGridBorderNoRefresh=true;this.setFocusedCell(row+1,_95,_6e,{tabDirection:_6d});this._setGridBorderNoRefresh=false;return true;}else{}}}}}}if(this.editedCell){this._setGridBorderNoRefresh=true;this.editedCell.handleEndEdit(e);this._setGridBorderNoRefresh=false;}else{if(this.options.moveKeyEditMode){this._setGridBorderNoRefresh=true;this.setFocusedCell(row,col,false);this._setGridBorderNoRefresh=false;}}this.moveDirection=null;return false;};$W._a._h.prototype.moveVertical=function(e,_97,_98){["WebSquare.uiplugin.keyEventController.prototype.moveVertical"];this.moveDirection="row";if(this.options.focusMove=="false"||this.options.focusMove=="horizontal"){return false;}var _99=this.getLastFocusedCell();var row=_99.focusedRowIndex;var col=_99.focusedColIndex;var _9c=this.defaultColCnt;var _9d=this.colIndexInfo.body.colInfo.colIndexArr;var _9e=this.colIndexes.bodyColInfo.trIndexArr;var _9f=this.colIndexes.bodyColInfo.colSpanArr;var _a0=this.colIndexes.bodyColInfo.rowSpanArr;var _a1=_9d[col+_9c];var _a2=_9e[col+_9c];var _a3=_9f[col+_9c];var _a4=_a0[col+_9c];var _a5=col;var _a6=row;var _a7=e?e.keyCode==13:false;var _a8=e?e.keyCode==9:false;if(_a3&&_99.bColIndex){_a1=_99.bColIndex;}if(_97=="up"){var _a9=_a2==0?this.oneRowDataLength-1:col-1;var end=-1;var inc=-1;}else{var _a9=_a2+_a4==this.oneRowLength?0:col+1;var end=this.oneRowDataLength;var inc=+1;}for(var i=_a9;i!=end;i+=inc){var _ad=_9d[i+_9c];var _ae=_ad+(_9f[i+_9c]?_9f[i+_9c]:1)-1;if(_ad<=_a1&&_a1<=_ae&&!this.hiddenList[_9d[i+_9c]]){_a5=i;if(_97=="up"){for(var j=row;j>=0;j--){_a6=_a2==0?j-1:j;if(!((this.options.ignoreNonEditableCell||this.options.senseReader)&&(this.getReadOnly("all",_a6,_a5)||this.getDisabled("all",_a6,_a5)))){break;}else{if(!_a8&&!_a7&&this.options.ignoreNonEditableCell&&this.options.ignoreNonEditableCellTabEnter&&!(this.options.senseReader||this.getDisabled("all",_a6,_a5))){break;}}}}else{for(var j=row;j<this.getDataLength();j++){_a6=_a2+_a4==this.oneRowLength?j+1:j;if(!((this.options.ignoreNonEditableCell||this.options.senseReader)&&(this.getReadOnly("all",_a6,_a5)||this.getDisabled("all",_a6,_a5)))){break;}else{if(!_a8&&!_a7&&this.options.ignoreNonEditableCell&&this.options.ignoreNonEditableCellTabEnter&&!(this.options.senseReader||this.getDisabled("all",_a6,_a5))){break;}}}}break;}}if(0<=_a6&&_a6<this.getDataLength()&&(row!=_a6||col!=_a5)){$W._c.stopEvent(e);if(_98){if(this.getReadOnly("all",_a6,_a5)||this.getDisabled("all",_a6,_a5)){_98=false;}}if(_98&&this.isKeyPressed&&this.options.keyMoveEditMode){var _b0=this.getCellInfo(_a5);if($W._G.getBoolean(_b0.options.skipKeyMoveEditMode)){_98=false;}}if(this.setFocusedCell2(_a6,_a5,_98)){_99=this.getLastFocusedCell();_99.bColIndex=_a1;return true;}else{return false;}}if(this.options.focusFlow=="linear"){var _b1=false;if(_a6==-1&&_97=="up"&&col==0){_b1=true;}else{if(_a6==this.getDataLength()&&_97=="down"&&_9d[col+_9c+1]==null){_b1=true;}}if(!_b1){if(_a6==-1||_a6==this.getDataLength()){var td=this.getLastFocusedCell().focusedTd;var _b0=this.getCellInfo(td);if(_b0.options.inputType=="text"&&_b0.options.embeddedInput){var _b3=this.getInput(_b0,td);this.showFakeInput(_b3);this.fakeInput.setValue(_b3.getValue());this.F2Mode=false;_b3.select();}else{var _b4=false;if(_97=="up"&&_a6==-1&&_a5-1>-1){var _b5=this.getDataLength()-1;var _b6=_a5-1;for(;_9d[_b6+_9c]!=null;_b6--){for(;_b5>-1;_b5--){if(!((this.options.ignoreNonEditableCell||this.options.senseReader)&&(this.getReadOnly("all",_b5,_b6)||this.getDisabled("all",_b5,_b6)))){_a6=_b5;_a5=_b6;_b4=true;break;}else{if(!_a8&&!_a7&&this.options.ignoreNonEditableCell&&this.options.ignoreNonEditableCellTabEnter&&!(this.options.senseReader||this.getDisabled("all",_b5,_b6))){_a6=_b5;_a5=_b6;_b4=true;break;}}}if(_b4){break;}}}else{if(_97=="down"&&_a6==this.getDataLength()){var _b5=0;var _b6=_a5+1;for(;_9d[_b6+_9c]!=null;_b6++){for(;_b5<this.getDataLength();_b5++){if(!((this.options.ignoreNonEditableCell||this.options.senseReader)&&(this.getReadOnly("all",_b5,_b6)||this.getDisabled("all",_b5,_b6)))){_a6=_b5;_a5=_b6;_b4=true;break;}else{if(!_a8&&!_a7&&this.options.ignoreNonEditableCell&&this.options.ignoreNonEditableCellTabEnter&&!(this.options.senseReader||this.getDisabled("all",_b5,_b6))){_a6=_b5;_a5=_b6;_b4=true;break;}}}if(_b4){break;}}}}if(_b4){$W._c.stopEvent(e);if(_98){if(this.getReadOnly("all",_a6,_a5)||this.getDisabled("all",_a6,_a5)){_98=false;}}if(_98&&this.isKeyPressed&&this.options.keyMoveEditMode){var _b0=this.getCellInfo(_a5);if($W._G.getBoolean(_b0.options.skipKeyMoveEditMode)){_98=false;}}if(this.setFocusedCell2(_a6,_a5,_98)){_99=this.getLastFocusedCell();_99.bColIndex=_a1;return true;}else{return false;}}}}}}if(this.editedCell){this.editedCell.handleEndEdit(e);}else{if(this.options.moveKeyEditMode){this._setGridBorderNoRefresh=true;this.setFocusedCell(row,col,false);this._setGridBorderNoRefresh=false;}}this.moveDirection=null;return false;};$W._a._h.prototype.moveEnd=function(e){["WebSquare.uiplugin.keyEventController.prototype.moveEnd"];if(this.options.focusMove=="false"||this.options.focusMove=="vertical"){return;}while(this._moveRight(e)){}var _b8=false;while(!_b8){var _b9=true;var _ba=this.getLastFocusedCell();var _bb=parseInt(_ba.focusedTd.getAttribute("colIndex"));var _bc=parseInt(_ba.focusedTd.getAttribute("colSpan")||1);for(var i=0;i<_bc;i++){if(this.hiddenList[_bb+i]==false){_b9=false;break;}}if(_b9==true){this._moveLeft(e);}else{_b8=true;}}this.fixScrollRightDirection();};$W._a._h.prototype.moveHome=function(e){["WebSquare.uiplugin.keyEventController.prototype.moveHome"];if(this.options.focusMove=="false"||this.options.focusMove=="vertical"){return;}while(this._moveLeft(e)){}var _bf=false;while(!_bf){var _c0=true;var _c1=this.getLastFocusedCell();var _c2=parseInt(_c1.focusedTd.getAttribute("colIndex"));var _c3=parseInt(_c1.focusedTd.getAttribute("colSpan")||1);for(var i=0;i<_c3;i++){if(this.hiddenList[_c2+i]==false){_c0=false;break;}}if(_c0==true){this._moveRight(e);}else{_bf=true;}}this.fixScrollLeftDirection();};$W._a._h.prototype.movePageUp=function(e){["WebSquare.uiplugin.keyEventController.prototype.movePageUp"];if(this.options.focusMove=="false"||this.options.focusMove=="horizontal"){return;}if(this.rowIndex<=0){return;}var _c6=this.getLastFocusedCell();var _c7=_c6.focusedRowIndex;if(_c7<0){return;}_c7-=this.rowIndex;var _c8=_c6.focusedColIndex;this._applyFocusedCellOut(_c6);if(this.focusedCell){this.focusedCell.pop();}var _c9=this.rowIndex-this.lastIndex;if(_c9>=0){this.setTopRowIndex(_c9);this.setFocusedCell(_c7+this.rowIndex,_c8);}else{this.setTopRowIndex(0);this.setFocusedCell(0,_c8);}return true;};$W._a._h.prototype.movePageDown=function(e){["WebSquare.uiplugin.keyEventController.prototype.movePageDown"];if(this.options.focusMove=="false"||this.options.focusMove=="horizontal"){return;}if(this.lastTopRowIndex!=null&&this.rowIndex>=this.lastTopRowIndex){return;}var _cb=this.getLastFocusedCell();var _cc=_cb.focusedRowIndex;if(_cc<0){return;}_cc-=this.rowIndex;var _cd=_cb.focusedColIndex;this._applyFocusedCellOut(_cb);var _ce=this.rowIndex+this.lastIndex;var _cf=this.getDataLength();var _d0=this.getDataLength()-this.lastIndex-1;if(_ce<=_d0){this.setTopRowIndex(_ce);this.setFocusedCell(_cc+this.rowIndex,_cd);}else{this.setTopRowIndex(_d0);this.setFocusedCell(_cf-1,_cd);}return true;};$W._a._h.prototype.findTd=function(_d1,_d2,_d3){["WebSquare.uiplugin.keyEventController.prototype.findTd"];var pTd=null;var i=0;while(_d1!=null){var _d6=$W._G.first(_d1);while(_d6!=null){var _d7=parseInt(_d6.getAttribute("colIndex"));if(_d7<=_d2&&_d2<=_d7+_d6.colSpan-1){if(i<=_d3&&_d3<=i+_d6.rowSpan-1){return _d6;}}if(_d7>_d2){break;}_d6=$W._G.next(_d6);}_d1=$W._G.next(_d1);if(i>_d3){break;}if(pTd!=null){break;}i++;}};$W._a._h.prototype.pasteFromClipboard=function(){["WebSquare.uiplugin.keyEventController.prototype.pasteFromClipboard"];var _d8=this.parseClipboardExcel();var _d9=this.getFocusedRowIndex();var _da=this.getFocusedColumnIndex();var _db=[];for(var row=0;row<_d8.length;row++){_db.push([]);for(var col=0;col<_d8[0].length;col++){_db[row][col]=this.dataList.getCellData(row+_d9,this.getColumnID(col+_da));}}for(var row=0;row<_d8.length;row++){for(var col=0;col<_d8[0].length;col++){var _de=_d8[row][col];try{_de=_de.wq_trim();var _df=this.getCellInfo(col+_da);var _e0=this.mainGrid.getColumnOption(_df.options.col_id,"dataType");var _e1=/[^(\-0-9)]/g;if(_e0=="number"){_de=_de.replace(_e1,"");}}catch(e){}if(this._getEditReadOnly(row+_d9,col+_da)!=true&&this.getEditDisabled(row+_d9,col+_da,true)!=true){this.dataList.setCellData(row+_d9,this.getColumnID(col+_da),_de);}}}var _e2=this;$W.historyManager.set("grid","grid1",{focusRowIndex:_d9,focusColIndex:_da,data2d:_db},{onRestore:function(_e3){var _e4=_e3.data2d;for(var row=0;row<_e4.length;row++){for(var col=0;col<_e4[0].length;col++){var _e7=_e4[row][col];_e2.dataList.setCellData(row+_d9,this.getColumnID(col+_da),_e7);}}}});};$W._a._h.prototype.parseClipboardExcel=function(){["WebSquare.uiplugin.keyEventController.prototype.parseClipboardExcel"];var _e8=[];var str=window.clipboardData.getData("Text");var _ea=str.split("\n");for(var row=0;row<_ea.length-1;row++){var _ec=_ea[row].split("\t");_e8.push(_ec);}return _e8;};$W._a._h.prototype.copyToClipboard=function(){["WebSquare.uiplugin.keyEventController.prototype.copyToClipboard"];var _ed=this.options.copyAmount;if(!_ed){if(this.options.focusMode=="cell"){_ed="cell";}else{if(this.options.focusMode=="both"||this.options.focusMode=="row"){_ed="row";}}}if(_ed=="cell"){var _ee=this.getDataLength();var _ef=0;var _f0=this.getTotalCol();var _f1=0;var _f2=[];for(var i=0;i<this.focusedCell.length;i++){var _f4=this.focusedCell[i];var _f5=_f4.focusedRowIndex;var _f6=_f4.focusedColIndex;if(_f2[_f5]==null){_f2[_f5]=[];}_f2[_f5][_f6]=_f4;if(_ee>_f5){_ee=_f5;}if(_f0>_f6){_f0=_f6;}}var _f7=[];for(var i=_ee;i<_f2.length;i++){var _f8=_f2[i];var _f9=[];if(typeof _f8!="undefined"){for(var j=_f0;j<_f8.length;j++){var _fb=_f2[i][j];if(_fb){_f9.push(this.dataList.getCellData(i,this.getColumnID(j)));}else{_f9.push("");}}}_f7.push(_f9.join("\t"));}window.clipboardData.setData("Text",_f7.join("\n"));}else{if(_ed=="row"){var _fc=[];for(var i=0;i<this.focusedCell.length;i++){var _f4=this.focusedCell[i];_fc[_f4.focusedRowIndex]=1;}var _f8=[];for(var _f5 in _fc){_f8.push(_f5);}function compare(a,b){if(parseInt(a)>parseInt(b)){return 1;}return -1;}_f8.sort(compare);var _f2=[];for(var i=0;i<_f8.length;i++){var _f5=_f8[i];var _ff=this.getRowData(_f5);_f2.push(_ff.join("\t"));}window.clipboardData.setData("Text",_f2.join("\n"));}}};$W._a._h.prototype.getEditCursorEnable=function(e,_101){var _102=e.srcElement;if(_102===undefined){_102=e.target;}if(e!=undefined&&_102!=undefined&&_102!=undefined&_102.tagName!=undefined&&_102.tagName=="INPUT"&&_102.value!=undefined){if($W._G.isIE(8)){var _103=document.selection.createRange();if(_103.text.length>0){return true;}_103.moveStart("character",-_102.value.length);var _104=_103.text.length;if(_101==="left"){if(_104>0){return true;}}else{if(_101==="right"){if(_104<_102.value.length){return true;}}}return false;}if(_102.selectionStart!=undefined&&_102.selectionStart!=_102.selectionEnd){return true;}else{if(_101==="left"){if(_102.selectionEnd>0){return true;}}else{if(_101==="right"){if(_102.selectionEnd<_102.value.length){return true;}}}}}return false;};;WebSquare.uiplugin.keyEventController=$W._a._h;$W._a._G=function(_1){["WebSquare.uiplugin.mainDrawController"];};$W._a._G.prototype.initializeDrawController=function(){["WebSquare.uiplugin.mainDrawController.prototype.initializeDrawController"];this.data_td_list=[];this.data_num_td_list=[];this.data_status_td_list=[];this.all_data_td_list=[];};$W._a._G.prototype.setScrollYHeight=function(){["WebSquare.uiplugin.mainDrawController.prototype.setScrollYHeight"];};$W._a._G.prototype.handleScrollY=function(){["WebSquare.uiplugin.layoutController.handleScrollY"];};$W._a._G.prototype.drawDataTable=function(_2){["WebSquare.uiplugin.mainDrawController.prototype.drawDataTable"];};$W._a._G.prototype.showAllBodyTR=function(_3){["WebSquare.uiplugin.mainDrawController.prototype.showAllBodyTR"];var _3=_3||"";for(var i=0;i<this.drawedRowLength;i++){this._setRowDisplay(i,_3);}this.lastDisplayedRow=_3==="none"?-1:this.drawedRowLength-1;};$W._a._G.prototype._setRowDisplay=function(_5,_6){["WebSquare.uiplugin.mainDrawController.prototype._setRowDisplay"];var _7=null;for(var i=0;i<this.oneRowLength;i++){_7=this.dataRowList[this.oneRowLength*_5+i];if(_7){_7.style.display=_6;if(_6=="none"){this.__addClass(_7,"w2grid_hidedRow");}else{this.__removeClass(_7,"w2grid_hidedRow");}}}return _7;};$W._a._G.prototype.setDataTable=function(){["WebSquare.uiplugin.mainDrawController.prototype.setDataTable"];};$W._a._G.prototype.drawData=function(_9){["WebSquare.uiplugin.mainDrawController.prototype.drawData"];var _a=0;if(_9+this.maxRowLength>this.getDataLength()){_a=_9+this.getDataLength()-this.maxRowLength;}this.setEvenOddBackground(_9);if(this.rowIndex!=_9){this.changeFocusedCellPosition(_9);}if(this.rowIndex!=_9||this.drawSizeAdded){this.rowIndex=_9;this.showAllBodyTR("");for(var i=0;i<this.maxRowLength-_a;i++){if(i+this.rowIndex<this.getDataLength()){this.drawRowData(i,_9+i);}else{this.hideRow(i);}}}if(_a>0){this.maxRowLength+=_a;this.handleBodyResize();}};$W._a._G.prototype.drawRowData=function(_c,_d){["WebSquare.uiplugin.mainDrawController.prototype.drawRowData"];for(var i=0;i<this.oneRowDataLength;i++){this.drawCellData(_c,_d,i);}this._drawRowNumData(_c,_d);this._drawRowStatus(_c,_d);};$W._a._G.prototype.drawColumnData=function(_f,_10){["WebSquare.uiplugin.mainDrawController.prototype.drawColumnData"];var _11=this._dataList.rowPosition;var _12=false;_f=this.getColumnIndex(_f);var _13=this.options.showLastRow?this.lastIndex+1:this.lastIndex;var _14=this.getCellInfo(_f);if(_14.dataComp){var _15=this.modelControl.getDataComp(_14.dataComp);if(_15!=null&&_15.initializeType==="linkedDataList"&&_15.conditionInfo!=undefined&&_15.conditionInfo.targetInfo!=undefined&&typeof _11==="number"){_12=true;}}for(var i=0;i<=_13;i++){var _17=i+this.rowIndex;if(_10&&_14.select&&_14.hasRef){_14.select.itemArr=_14.getRefItemArr(_17);_14.select.setSelectOptions();if(!_14.select.setValueNM(_14.mainGrid._dataList._getData(_17,_f))){_14.mainGrid._dataList._setData(_17,_f,"");}}if(_12&&i===_11){continue;}this.drawCellData(i,_17,_f);}if(_12){this.drawCellData(_11,_11+this.rowIndex,_f);}};$W._a._G.prototype.addGridScroll=function(gap){["WebSquare.uiplugin.drawController2.prototype.addGridScroll"];};$W._a._G.prototype.setFocusedCellPosition=function(){["WebSquare.uiplugin.mainDrawController.prototype.setFocusedCellPosition"];};$W._a._G.prototype._setMouseOverTr=function(e,_1a){["WebSquare.uiplugin.mainDrawController.prototype._setMouseOverTr"];this.setOverClass(_1a,"overTd",true);};$W._a._G.prototype._setMouseOutTr=function(e,_1c){["WebSquare.uiplugin.mainDrawController.prototype._setMouseOutTr"];this.setOverClass(_1c,"overTd",false);};$W._a._G.prototype.setOverClass=function(_1d,_1e,_1f){["WebSquare.uiplugin.mainDrawController.prototype.setOverClass"];var _20=_1d.parentNode;var _21=parseInt(_20.getAttribute("trIndex"));while(_21>0){_21--;_20=$W._G.prev(_20);}do{var _22=$W._G.first(_20);while(_22!=null){if(_22.offsetLeft>this.render.offsetWidth){break;}if(_22.offsetWidth>0){var _23="";if(_1f){_22.setAttribute("row_out_style",_22.style.cssText);_22.style.cssText=_22.style.cssText+";background-color:"+this.options.rowMouseOverColor;}else{_22.style.cssText=_22.getAttribute("row_out_style");}}_22=$W._G.next(_22);}_20=$W._G.next(_20);}while(_20!=null&&_20.getAttribute("trIndex")!="0");};$W._a._G.prototype.changeFocusedCellPosition=function(_24,_25){["WebSquare.uiplugin.mainDrawController.prototype.changeFocusedCellPosition"];if(this.focusedCell.length==0){return;}this.applyFocusedCellOut();for(var i=0;i<this.focusedCell.length;i++){targetRowIndex=this.focusedCell[i].focusedRowIndex-_24;targetColIndex=this.focusedCell[i].focusedColIndex;var _27=null;if(this.options.fixedRow>0&&this.options.fixedRow>this.focusedCell[i].focusedRowIndex){_27=this.data_td_list[targetColIndex+this.focusedCell[i].focusedRowIndex*this.oneRowDataLength];this.applyFocusedCellIn(_27,_25);}else{if(targetRowIndex<0||targetRowIndex>this.maxRowLength){_27=null;}else{_27=this.data_td_list[targetColIndex+targetRowIndex*this.oneRowDataLength];if(_27){this.applyFocusedCellIn(_27,_25);}}}this.focusedCell[i].focusedTd=_27;}};$W._a._G.prototype.setTRClass=function(_28,_29,_2a){["WebSquare.uiplugin.mainDrawController.prototype.setTRClass"];var _2b=_28.parentNode;var _2c=parseInt(_2b.getAttribute("trIndex"));while(_2c>0){_2c--;_2b=$W._G.prev(_2b);}do{var _2d=$W._G.first(_2b);while(_2d!=null){if(_2a){this.addClass(_2d,_29);}else{this.removeClass(_2d,_29);}_2d=$W._G.next(_2d);}_2b=$W._G.next(_2b);}while(_2b!=null&&_2b.getAttribute("trIndex")!="0");};$W._a._G.prototype.setEditMode=function(_2e){var _2f=_2e.getAttribute("col_id");if(_2f==null||_2f.wq_trim()==""){return;}var _30=parseInt(_2e.getAttribute("tdIndex"));var _31=parseInt(_30/this.realRowDataLength);if(this.options.fixedRow>0&&this.options.fixedRow>_31){var _32=_31;}else{var _32=_31+this.rowIndex;}var _33=_2e.getAttribute("col_id");var _34=this.getCellInfo(_33);if(!_34.options.colMergeEdit&&_2e.getAttribute("colMerged")=="1"){return;}if(_34.options.embeddedInput||this.groupbyStatus.grouped){return;}if(this.getEditReadOnly(_2e,_32)){this.editMode=false;if(_34.options.showReadOnly){this.editMode=true;_34.showReadonly(_2e,_32);}return;}if(this.getEditDisabled(_32,_33)){this.editMode=false;if(_34.options.showReadOnly){this.editMode=true;_34.showReadonly(_2e,_32);}return;}var _35=$W._c.fireEvent(this,"onbeforeedit",_32,_33,this.dataList.getCellData(_32,this.getColumnID(_33)));if(_35!=false){if(this.editedCell==null){this.editMode=true;this.setCellEditMode(_2e,_32);if(_34.comp){_34.comp.setReadOnly(this.getEditReadOnly(_2e,_32));}}}};$W._a._G.prototype.getEditReadOnly=function(_36,_37){var _38=_36.getAttribute("col_id");return this._getEditReadOnly(_37,_38);};$W._a._G.prototype.getReadOnly=function(){var _39=$W._G.getBoolean;var _3a=arguments[0];if(_3a=="grid"||arguments.length==0){return _39(this.options.readOnly);}else{if(_3a=="row"){return _39(this.getRowReadOnly(arguments[1]));}else{if(_3a=="column"){var _3b=this.getColumnID(arguments[1]);return _39(this.getColumnReadOnly(_3b));}else{if(_3a=="cell"){var _3c=arguments[1];var _3b=this.getColumnID(arguments[2]);return _39(this.getCellReadOnly(_3c,_3b));}else{if(_3a=="all"){var _3c=arguments[1];var _3b=this.getColumnID(arguments[2]);return this._getEditReadOnly(_3c,_3b);}}}}}};$W._a._G.prototype.setReadOnly=function(){try{var _3d=arguments[0];if(arguments.length==1||_3d=="grid"){var _3e=arguments[arguments.length-1];if(_3e=="clear"){this.rowReadOnlyArr=[];this.cellReadOnlyArr=[];}else{this.options.readOnly=$W._G.getBoolean(_3e);}var _3f=this.getDataLength();if(_3f!=0){this.notifyDataChanged({keepTop:true});}if(this.options.readOnly){this.addClass(" w2grid_readonly_outer");}else{this.removeClass("w2grid_readonly_outer");}}else{if(_3d=="row"){this.setRowReadOnly(arguments[1],arguments[2]);}else{if(_3d=="column"){this.setColumnReadOnly(arguments[1],arguments[2]);}else{if(_3d=="cell"){this.setCellReadOnly(arguments[1],arguments[2],arguments[3]);}}}}}catch(e){$W.exception.printStackTrace(e);}};$W._a._G.prototype._getEditReadOnly=function(_40,_41,_42){var _41=this.getColumnID(_41);var _43=this.getCellReadOnly(_40,_41,_42);var _44=this.cellInfoHash[_41];var _45=$W._G.getBoolean;if(_43+""!=""){return _45(_43);}var _46=this.options.readOnlyPriority;var _47=_44.options.readOnly;var _48=this.getRowReadOnly(_40,_42);if(_46=="column"&&_47!==""){return _45(_47);}else{if(_46=="row"&&_48!==""){return _45(_48);}else{if(_47+""=="true"||_48+""=="true"){return true;}else{if(_47+""=="false"||_48+""=="false"){return false;}}}}if(this.options.readOnly+""!=""){return _45(this.options.readOnly);}return false;};$W._a._G.prototype.getDisabled=function(){var _49=$W._G.getBoolean;var _4a=arguments[0];if(_4a=="grid"||_4a==undefined){return _49(this.options.disabled);}else{if(_4a=="row"){return _49(this.getRowDisabled(arguments[1]));}else{if(_4a=="column"){var _4b=this.getColumnID(arguments[1]);return _49(this.getColumnDisabled(_4b));}else{if(_4a=="cell"){var _4c=arguments[1];var _4b=this.getColumnID(arguments[2]);return _49(this.getCellDisabled(_4c,_4b));}else{if(_4a=="all"){var _4c=arguments[1];var _4b=this.getColumnID(arguments[2]);return this.getEditDisabled(_4c,_4b);}}}}}};$W._a._G.prototype.setDisabled=function(){try{var _4d=arguments[0];var f1=(arguments.length==1||_4d=="grid");var f2=(arguments.length==2&&typeof arguments[0]=="boolean"&&typeof arguments[1]=="boolean");if(f1||f2){var _50=f1?arguments[arguments.length-1]:arguments[0];_50=$W._G.getBoolean(_50);if(_50!=this.options.disabled){this.options.disabled=_50;var _51=this.getElementById(this.id+"_dataLayer");if(f1||!_50){_51.disabled=_50;}if(f2||(!_50&&_51.disabledW2)){_51.disabledW2=_50;}if(_50){this.addClass(_51,"w2grid_disabled");this.addClass("w2grid_disabled_outer");}else{this.removeClass(_51,"w2grid_disabled");this.removeClass("w2grid_disabled_outer");}var _52=this.getDomList("head_tds","th",this.getElementById(this.id+"_head_table"));for(var i=0;i<_52.length;i++){var _54=_52[i].getAttribute("header_id");var _55=this.headerObj[_54];if(_55){if(_55.setDisabled){_55.setDisabled(_50);}else{if(_55.render){_55.render.disabled=_50;}else{_55.disabled=_50;}}var _56=this.headerToBodyRelation[_54];var _57=this.cellInfoHash[_56];if(_57.options.inputType=="checkbox"){var _58=this.getColumnIndex(_56);this.drawColumnData(_58);this.applyColumnStyleOptions(_58);}}else{_52[i].disabled=_50;}}}return _50;}else{if(_4d=="row"){this.setRowDisabled(arguments[1],arguments[2]);}else{if(_4d=="column"){this.setColumnDisabled(arguments[1],arguments[2]);}else{if(_4d=="cell"){this.setCellDisabled(arguments[1],arguments[2],arguments[3]);}}}}}catch(e){$W.exception.printStackTrace(e);}};$W._a._G.prototype.getEditDisabled=function(_59,_5a,_5b){try{var _5c=-1;var _5d="";if(typeof _5a=="number"){_5c=_5a;_5d=this.cellIdList[_5a];}else{_5c=this.bodyIdColIndexMap[_5a];_5d=_5a;}var _5e=-1;if(_5b===true){_5e=_59;}else{if(this._linkedDataList){_5e=this._linkedDataList.filteredRowIndexArr[_59];}else{if(this.groupbyStatus.grouped){var _5f=true;for(var key in this._grid.customFilterStatusObj){if(this._grid.customFilterStatusObj[key]){_5e=this._dataList.filteredRowIndexArr[_59];_5f=false;break;}}if(_5f){_5e=this.groupbyStatus.groupedRowIndexArr[_59];}}else{_5e=this._dataList.filteredRowIndexArr[_59];}}}var _61=this.cellInfoHash[_5d]||{"options":{}};var _62=this.cellDisabledArr[_5e*this.oneRowDataLength+_5c];if(_62!==true&&_62!==false){var _63=_61.options.disabled;var _64=this.rowDisabledArr[_5e];var _65=this.options.disabledPriority;if(_64!==true&&_64!==false){_64="";}if(_65==="column"&&_63!==""){_62=_63;}else{if(_65==="row"&&_64!==""){_62=_64;}else{if(_63+""==="true"||_64+""==="true"){_62=true;}else{if(_63+""==="false"||_64+""==="false"){_62=false;}else{if(this.options.disabled!==""){_62=this.options.disabled;}else{_62=false;}}}}}}return _62;}catch(e){$W.exception.printStackTrace(e);}};$W._a._G.prototype.getElemRowIndex=function(_66){var _67=parseInt(_66.getAttribute("tdIndex"));var _68=parseInt(_67/this.realRowDataLength);var _69=_68+this.rowIndex;return _69;};$W._a._G.prototype.notifyDataChanged=function(_6a){if(this.activeStatus!="active"){return;}this.checkResize();var _6b=_6a?(_6a.append||false):false;var _6c=_6a?(_6a.keepTop||false):false;var _6d=_6c&&this.rowIndex>=0?this.rowIndex:0;if(this.delayedDraw({rowIndex:_6d})){return;}var _6e=this._setGridBorderNoRefresh||false;this._setGridBorderNoRefresh=true;if(this.options.senseReader&&this.rowIndex<=0){this.senseReaderMode=true;this.setDataTable();this.drawData(0);this.drawFooter();this.drawHeader();this.senseReaderMode=false;this.displayNoResultMessage();this._setGridBorderNoRefresh=_6e;return;}if(_6b&&!this.loadFlag){this.drawFooter();this.drawHeader();return;}this.changeCount++;var _6f=this.drawDataTable(0);if(_6f==0){if(_6b){this.setScrollYHeight();}this.drawData(_6d);}this.displayNoResultMessage();this.drawFooter();this.drawHeader();this._setGridBorderNoRefresh=_6e;if(!($W._G.isIE()&&parseInt($W._N.browserVersion(),10)<10)){if(this.checkAdaptiveGridType()&&(this.options.adaptive!=""||Object.keys(this.hideThresholdObj).length!=0)){var _70=this.options.adaptive;var _71=parseInt(this.options.adaptiveThreshold)||480;if(_70=="crosstab"){if(parseInt(top.document.documentElement.clientWidth||top.document.body.clientWidth)<=_71){this.removeAdaptive();this.addAdaptive();}}}}for(var _72 in this.cellInfoHash){this.cellInfoHash[_72].refreshCell();}};$W._a._G.prototype.notifyCellChanged=function(_73,_74,_75,_76){if(this.delayedDraw({})){return;}this.changeCount++;var _77=_73;if(this.rowIndex>=0){if(this.options.fixedRow>0&&this.options.fixedRow>_73){}else{_77-=this.rowIndex;}}_74=this.getColumnIndex(_74);this._drawRowStatus(_77,_73);if(_75!==true){this.drawCellData(_77,_73,_74);}var _78=this.getColumnID(_74);var _79=this.expressionAssArr[_78];if(_79!=null){var obj=this.searchExpression(_79);for(var i in obj){var _7c=this.getColumnIndex(i);this.drawCellData(_77,_73,_7c);this.drawFooter(_7c);this.drawHeader(_7c);}}this.displayNoResultMessage();if(this.hasSubtotal){this.subtotalHidden({"startRowIndex":0});this.refreshSubtotalRow(this.rowIndex);}this.drawFooter(_78);this.drawHeader(_78);if(!_76){this._setCheckboxHead(_78);}};$W._a._G.prototype.searchExpression=function(_7d){var exp=_7d;var ret={};var _80=[_7d];while(_80.length>0){var exp=_80.pop();for(var i=0;i<exp.length;i++){ret[exp[i]]=true;if(this.expressionAssArr[exp[i]]){var a=this.expressionAssArr[exp[i]];if(a.length>1){_80.push(a);}else{var b=this.expressionAssArr[a];if(b!=undefined){_80.push(a);}ret[a]=true;}}}}return ret;};$W._a._G.prototype.notifyRowChanged=function(_84){if(this.delayedDraw({rowIndex:_84})){return;}if(this.options.senseReader&&this.rowIndex<=0){this.senseReaderMode=true;this.setDataTable();this.drawData(0);this.drawFooter();this.drawHeader();this.senseReaderMode=false;this.displayNoResultMessage();return;}if(this.rowIndex==-1){this.drawDataTable(0);}else{this.lastTopRowIndex=null;var _85=(this._dataList.options.depthColumn)?this.getDrawCount()+this.rowIndex:this.getDataLength();var _84=_84||this.rowIndex;var _86=_84-this.rowIndex;if(0<=_86&&_86<=this.lastIndex&&(this.rowIndex<=0||this.rowIndex+this.lastIndex<_85)){this.drawData(this.rowIndex,0);}else{if((0<=_86&&_86<=this.lastIndex)||_86<0){var _87=this.rowIndex-1;if(_87+this.lastIndex>=_85){_87=_85-this.lastIndex-1;}_87=_87>0?_87:0;this.drawData(_87,0);}}}this.displayNoResultMessage();if(this.hasSubtotal){this.refreshSubtotalRow(_84);}this.drawFooter();this.drawHeader();};$W._a._G.prototype.notifyRowInserted=function(_88){_88=parseInt(_88,10);if(this.delayedDraw({rowIndex:_88})){return;}if(this.options.senseReader&&this.rowIndex<=0){this.senseReaderMode=true;this.setDataTable();this.drawData(0);this.drawFooter();this.drawHeader();this.senseReaderMode=false;this.displayNoResultMessage();return;}this.lastTopRowIndex=null;if(this.rowIndex==-1){if(this.drawDataTable(0)==0){this.drawData(0,0);}}else{if(this.options.visibleRowNum!==""||this.options.initFixedHeightByRowNum>0){this.setDataTable();this.drawData(0);}else{var _89=_88-this.rowIndex;var _8a=this.getElementById(this.id+"_scrollY_div");if(_89<0){var _8b=this.getElementById(this.id+"_scrollY_div");this.scrollEvent=false;_8b.scrollTop=this.oneRowScrollHeight*_88;this.drawData(_88,0);}else{if(_8a.offsetHeight>=_8a.scrollHeight||_89<=this.lastIndex){if(this.hasSubtotal){_89=0;}this.drawData(this.rowIndex,_89);}}}}if(this.getDataLength()==0){this.removeFocusedCell();}this.setScrollYHeight();var _8c=this.rowIndex+this.lastIndex;if(_8c<_88){this.scrollEvent=false;var _8b=this.getElementById(this.id+"_scrollY_div");_8b.scrollTop=this.oneRowScrollHeight*_88;var _8d=parseInt(_8b.scrollTop/this.oneRowScrollHeight);this.drawData(_8d);}this.displayNoResultMessage();this.drawFooter();this.drawHeader();};$W._a._G.prototype.displayNoResultMessage=function(){var _8e=this.getElementById(this.id+"_noresult");if(this.options.noResultMessageVisible&&this.removed==false&&this.initFlag==false&&this.getDataLength()==0){_8e.innerHTML=this.options.noResultMessage;_8e.style.display="block";var _8f=this.getElementById(this.id+"_main_div");var _90=_8f.offsetHeight;var _91=this.getElementById(this.id+"_body_table").offsetHeight+3;var _92=this.getElementById(this.id+"_foot_table");var _93=0;if(_92){_93=_92.offsetHeight;}var _94=this.getElementById(this.id+"_noresult");var _95=parseInt($W._H.getStyle(_94,"margin-top"),10)||0;var _96=parseInt($W._H.getStyle(_94,"margin-bottom"),10)||0;var _97=_94.offsetHeight+_95+_96;var _98=_90-_91-_93;var _99=this.getElementById(this.id+"_scrollX_div").offsetHeight;if(_98<=_97){this.getElementById(this.id+"_noresult").style.top=(_91+_95)+"px";this.setSize(_8f,(_91+_93+_97+_99+_95+_96));}}else{_8e.style.display="none";}this.removed=false;if(!this.delayedDrawObj&&!this.removeAllFinish){this.initFlag=false;}};$W._a._G.prototype.delayedDraw=function(_9a){if(this.startedDisplayNone){return true;}if(this.resizeObj.width==0||this.resizeObj.height==0){if(!this.delayedDrawObj){this.delayedDrawObj={};}this.delayedDrawObj.redraw=true;if(_9a.hasOwnProperty("rowIndex")){this.delayedDrawObj.rowIndex=_9a.rowIndex;}return true;}return false;};$W._a._G.prototype.delayedAction=function(){this.startedDisplayNone=false;this.setPreAction();if(this.getRowCount&&this.getRowCount()>0){this.notifyDataChanged();}if(this.options.focusOnSetData){this.setFocusedCell(0,0);}if(this.checkAdaptiveGridType()){if(this.options.adaptive!=""||Object.keys(this.hideThresholdObj).length!=0){this.oldOptions["headerColBorder"]="";this.oldOptions["bodyColBorder"]="";this.setAdaptive();if(!($W._G.isMobile()&&this.options.fixAdaptive)){this.event.addListener(window,"onresize",this.event.bindAsEventListener(this,this.setAdaptive));}}}this.delayedDrawObj=null;this.initFlag=false;};$W._a._G.prototype.setRedrawStatus=function(_9b){if(this.startedDisplayNone&&_9b=="stop"){return;}if(_9b=="stop"){if(!this.delayedDrawObj){this.delayedDrawObj={};}}else{this.setDataLayerPosition();this.scrollX_right.scrollLeft=this.resizeObj.scrollLeft;this.getElementById(this.id+"_scrollY_div").scrollTop=this.resizeObj.scrollTop;this.handlerResize_drawInitializer();this._handleScrollX();var _9c=false;for(var i=0;i<this.colWidthList.length;i++){if(this.colWidthList[i].toString().indexOf("*")>-1){_9c=true;break;}}if(this.options.autoFit||_9c){this.autoFitFunc();}if(this.delayedDrawObj.redraw){this.setDataTable();this.setColIndexInfo();var _9e=this.delayedDrawObj.rowIndex||0;var _9f=_9e;var _a0=this.getDataLength();if(_a0-this.drawedRowLength<_9f){_9f=_a0-this.drawedRowLength;(_9f<0)&&(_9f=0);}this.drawData(_9f);this.setScrollYHeight();var _a1=this.rowIndex+this.lastIndex;if(_a1<_9e){this.scrollEvent=false;var _a2=this.getElementById(this.id+"_scrollY_div");_a2.scrollTop=this.oneRowScrollHeight*_9e;var _a3=parseInt(_a2.scrollTop/this.oneRowScrollHeight);this.drawData(_a3);}this.drawFooter();this.drawHeader();this.displayNoResultMessage();}this.delayedDrawObj=null;this.initFlag=false;}};;WebSquare.uiplugin.mainDrawController=$W._a._G;$W._a.aS=function(_1){["WebSquare.uiplugin.drawController"];};$W._a.aS.prototype.setScrollYHeight=function(_2){["WebSquare.uiplugin.drawController.prototype.setScrollYHeight"];var _3=this.getDataLength();var _4=this.rowIndex;var _5=_2?(_2.noDraw||false):false;var _6=this.getElementById(this.id+"_size_y");var _7=this.getElementById(this.id+"_scrollY_div");var _8=_6.parentNode.offsetHeight;if(_8==0){_8=parseInt(this.getStyle("height"));}if(_4==-1||(_4==0&&_4+this.lastIndex+1==_3)){var _9=true;if(this.hasSubtotal&&this.drawedSubtotal.length>0){var _a=this.drawedSubtotal[this.drawedSubtotal.length-1];if(_a.rowIndex+1!=_3){_9=false;}}else{if(this.hasSubtotal&&this.drawedSubtotal.length==0&&this.lastSubtotalRow&&_3>0){_9=false;}}if(_9){if(_6.tagName.toLowerCase()=="table"){_7.innerHTML=this.getScrollY();this.dom[this.id+"_size_y"]=null;_6=this.getElementById(this.id+"_size_y");}_6.style.height="0px";this.handlerResize_drawInitializer();return;}}var _b;if(this.options.visibleRowNum!==""){if(this.options.senseReader){_b=_3-(this.lastIndex+1);}else{_b=_3-this.drawedRowLength;}if(_b<0){_b=0;}}else{if(this.lastTopRowIndex&&this.lastTopRowIndex>0){_b=Math.ceil(this.lastTopRowIndex);}else{var _c=this.getElementById(this.id+"_head_table");var _d=this.dataLayerHeight-_c.offsetHeight;var _e=parseInt(_d/this.oneRowHeight);var _f=this.drawedRowLength;if(_e+(this.isMobile?0:1)<_f){_f=_e+(this.isMobile?0:1);}if(this.options.fixHeight||this.hasSubtotal){_b=_3-_e>1?_3-_e:1;}else{if(this.options.senseReader){_b=_3-(this.lastIndex+1)>0?_3-(this.lastIndex+1):1;}else{_b=_3-_f+1>1?_3-_f+(this.isMobile?0:1):1;}}}}var _10=_7.scrollTop;var _11=_8+this.oneRowScrollHeight*_b;if(_11<=1000000&&_6.tagName.toLowerCase()!="table"){_6.style.height=_11+"px";}else{if(_11<=1000000){_7.innerHTML=this.getScrollY();this.dom[this.id+"_size_y"]=null;_6=this.getElementById(this.id+"_size_y");_6.style.height=_11+"px";}else{if(($W._N.browserCheck.ieAllVersion&&!this.isIE6or7)||$W._G.isSpartan()){var _12=[];_12.push("<table id='"+this.id+"_size_y' style='border-collapse:collapse; border-spacing:0px;height:0px; position:absolute; top:0px; left:0px; width:18px'><tbody>");while(_11>1000000){_12.push("<tr style='height:1000000px'><td></td></tr>");_11-=1000000;}_12.push("<tr style='height:"+_11+"px'><td></td></tr></tbody></table>");_7.innerHTML=_12.join("");this.dom[this.id+"_size_y"]=null;_6=this.getElementById(this.id+"_size_y");}else{if(_6.tagName.toLowerCase()=="table"){_7.innerHTML=this.getScrollY();this.dom[this.id+"_size_y"]=null;_6=this.getElementById(this.id+"_size_y");}if($W._N.browserCheck.moz){_6.style.height=(_11+1)+"px";}else{_6.style.height=_11+"px";}}}}if(Math.floor(_10/this.oneRowScrollHeight)!=_4){if(this.lastTopRowIndex&&this.lastTopRowIndex==_4){_4=this.lastTopRowIndex+1;}if(_5&&_7.scrollTop!=this.oneRowScrollHeight*_4){this.scrollEvent=false;}_7.scrollTop=this.oneRowScrollHeight*_4;this.bScrollTop=parseInt(_7.scrollTop/this.oneRowScrollHeight);}var _8=_7.offsetHeight;var _13=parseInt(_6.style.height,10)-_8;if(_13>0&&_13==_7.scrollTop){var _14=this.getDataLength();var _9=false;if(this.hasSubtotal){if(this.drawedSubtotal.length>0){var _15=this.drawedSubtotal[this.drawedSubtotal.length-1];if(_15.rowIndex==_14-1){lastTr=_15[_15.length-1];if(lastTr.style.display!="none"){_9=true;}}}}else{_9=true;}if(this.rowIndex+this.lastIndex+1!=_14||!_9){this.lastTopRowIndex=null;_6.style.height=(parseInt(_6.style.height,10)+this.oneRowScrollHeight)+"px";}}this.lastScrollYTop=_7.scrollTop;this.handlerResize_drawInitializer();};$W._a.aS.prototype.addGridScroll=function(gap){["WebSquare.uiplugin.drawController.prototype.addGridScroll"];var _17=this.rowIndex+gap;_17=(_17<0)?0:_17;_17=(_17>=this.getDataLength()-this.lastIndex)?this.getDataLength()-this.lastIndex:_17;this.scrollEvent=false;this.checkScrollEnd=true;this.drawData(_17,0);};$W._a.aS.prototype.handleScrollY=function(e){["WebSquare.uiplugin.drawController.handleScrollY"];var _19=this.getElementById(this.id+"_scrollY_div").scrollTop;if(_19==this.bScrollY){return;}else{this.bScrollY=_19;}var _1a=parseInt(Math.ceil(_19)/this.oneRowScrollHeight);if(this.scrollEvent){if(this.editedCell!=null){var _1b=this.editedCell.editRowIndex;var _1c=this._dataList.getColumnIndex(this.editedCell.id);var _1d=this.getColumnIndex(this.editedCell.id);var _1e=this._grid.getRealRowIndex(_1b);var _1f=this._dataList.dataArr[_1e*this._dataList.getColumnCount()+_1c];this.editedCell.handleScrollY(e);var _20=this._dataList.dataArr[_1e*this._dataList.getColumnCount()+_1c];if(_1f!=_20){$W._c.fireEvent(this,"onviewchange",{"oldValue":_1f,"newValue":_20,"rowIndex":_1b,"colIndex":_1d});}}if(this.bScrollTop!=_1a){if(this.hasClass(document.activeElement,this.options.bodyTdClass)&&document.activeElement.blur){document.activeElement.blur();}this.drawData(_1a,null,"async");}this.bScrollTop=_1a;}if((this.scrollEvent||this.checkScrollEnd)&&this.options.loadCount>0&&this.loadFlag){var _21=this.getDataLength();var _22=_1a+this.lastIndex;if(_21-this.options.loadCount-1<=_22&&this.loadCheck[_21]==null){if(!this.skipScrollEndEvent){this.loadCheck[_21]=true;this.scrollEvent=true;this.loadFlag=false;$W._c.fireEvent(this,"onscrollend");$W._c.stopEvent(e);}}}else{if((this.scrollEvent||this.checkScrollEnd)&&this.options.loadCount==0&&this.getDataLength()!=0&&this.getDataLength()==_1a+this.lastIndex+1){$W._c.fireEvent(this,"onscrollend");$W._c.stopEvent(e);}}this.skipScrollEndEvent=false;this.scrollEvent=true;this.checkScrollEnd=false;$W._c.fireEvent(this,"onscrolly",e);};$W._a.aS.prototype.drawDataTable=function(_23){["WebSquare.uiplugin.drawController.prototype.drawDataTable"];try{if(_23==null){_23=this.rowIndex;}if(_23==-1){_23=0;}var _24=this.drawedRowLength;this.setDataTable();this.headerTds=null;this.footerTds=null;if(this.drawedRowLength!=_24){this.setColIndexInfo();this.drawData(_23,0);}return this.drawedRowLength-_24;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aS.prototype.drawData=function(_25,_26,_27,_28){["WebSquare.uiplugin.drawController.prototype.drawData"];try{if(typeof (CollectGarbage)=="function"){var _29=$W._N.getConfiguration("/WebSquare/"+this.options.pluginName+"/collectGarbage/@value");if(_29!="none"&&_29!="false"&&_29!="scroll"){CollectGarbage();}}var _27=_27||"sync";var _2a=(_27=="async")&&(this.options.fastScroll=="true");var _2b=true;if(this.options.senseReader){_2b=false;}this.changeFocusedCellPosition(_25,_2b);this.rowIndex=_25;if(this.editedCell!=null){this.editedCell.handleEndEdit(null,_28);}this.subtotalHidden(_26?{startRowIndex:_26+this.rowIndex}:null);if((this.rowIndex==-1||_27=="sync"||this.options.visibleRowNum==="all")&&!this.startedDisplayNone){var _2c=this.completiveDrawData(_26,true);this.adjustDraw(_2c);this._setGridBorder();this._setCheckboxHead();}else{$W._N.clearTimer(this.id+"_drawData");$W._N.clearTimer(this.id+"_completiveDrawData");$W._N.clearTimer(this.id+"_adjustDraw");var _26=this.fastDrawData(_26,_2a);$W._N.setTimer(function(_2d){$W._N.setTimer(this.completiveDrawData,{key:this.id+"_completiveDrawData",caller:this,delay:120,args:[_2d],callback:function(_2e){$W._N.setTimer(function(){if(!this.startedDisplayNone){this.adjustDraw(_2e);this._setGridBorder();this._setCheckboxHead();}},{key:this.id+"_adjustDraw",caller:this});}});},{key:this.id+"_drawData",caller:this,delay:1,args:[_26]});}this.dynamicMergeHTML();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aS.prototype.fastDrawData=function(_2f,_30){["WebSquare.uiplugin.drawController.prototype.fastDrawData"];try{if(this.options.measureTime){$W._N.measureTime(function(_31){var _32=_31.aver;var fps=parseInt(1000/_32*10,10)/10;$W.logger.printLog("Id : "+this.id+", time : "+_32+"ms   ,fps : "+fps);},{key:this.id+"_measureDrawTime",caller:this});}var _34=this.rowIndex;var _35=this.getDataLength();var _2f=_2f||0;if(_35>0){if(_2f==0&&_34!=this.lastTopRowIndex&&this.options.visibleRowNum===""){this.drawSubtotalRow(0,_34-1);}var _36=new Date();for(var i=_2f;i<this.drawedRowLength&&(i+_34)<_35;i++){if(_30&&new Date()-_36>this.options.drawLimitTime&&i>=this.options.drawLimitRow){this.hideNochangeDataLayer(i);return i;}if(this.options.fixedRow>0&&this.options.fixedRow>i){this.fastDrawRowData(i,i);}else{this.fastDrawRowData(i,i+_34);}if(this.options.backgroundColorMode.toLowerCase()=="always"){if(typeof this.dataList.getRealRowIndex()!="object"){if(this.options.fixedRow>0&&this.options.fixedRow>i){this.applyRowStyleOptions(i);}else{this.applyRowStyleOptions(_34+i);}}}if(this.lastDisplayedRow<i){this._setRowDisplay(i,"");this.lastDisplayedRow=i;}}}if(this.hideDataLayer){this.hideDataLayer.style.display="none";}if(this.lastTopRowIndex!==null&&_34>=this.lastTopRowIndex){for(var j=i;j<=this.lastDisplayedRow;j++){this._setRowDisplay(j,"none");}this.lastDisplayedRow=i-1;}return i;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aS.prototype.completiveDrawData=function(_39,_3a){["WebSquare.uiplugin.drawController.prototype.completiveDrawData"];try{var _3b=this.getDataLength();var _39=_39||0;var _3c=this.rowIndex;var _3d=_39-1;var _3e=this.dataLayerHeight;if(_3b>0){if(_39==0&&_3c!=this.lastTopRowIndex&&this.options.visibleRowNum===""){this.drawSubtotalRow(0,_3c-1);}for(var i=_39;i<this.drawedRowLength&&(i+_3c)<_3b;i++){if(this.options.fixedRow>0&&this.options.fixedRow>i){this.fastDrawRowData(i,i);}else{this.fastDrawRowData(i,_3c+i);}_3d=i;}for(var i=_3d+1;i<=this.lastDisplayedRow;i++){this._setRowDisplay(i,"none");}for(var i=this.lastDisplayedRow+1;i<=_3d;i++){this._setRowDisplay(i,"");}if(_3a){for(var i=_39;i<=_3d;i++){if(this.options.fixedRow>0&&this.options.fixedRow>i){this.applyRowStyleOptions(i);}else{this.applyRowStyleOptions(_3c+i);}}if(this.options.autoResizeEmbeddedInput&&this.firstEmbeddedInputResize){this.setAutoResizeEmbeddedInput();this.firstEmbeddedInputResize=false;}}this.lastDisplayedRow=_3d;if(this.options.visibleRowNum===""&&this.options.initFixedHeightByRowNum==-1){_3d=this.cutGridBottom(_3d);}for(var i=0;i<=_3d;i++){if(this.options.fixedRow>0&&this.options.fixedRow>i){this.setEvenOddBackground(i,i);}else{this.setEvenOddBackground(i,_3c+i);}}if(_3d+1<this.drawedRowLength){this._setRowDisplay(_3d+1,"");this.setEvenOddBackground(_3d+1,_3c+_3d+1);this.applyRowStyleOptions(_3c+_3d+1);this._setRowDisplay(_3d+1,"none");}}else{var _40=this.options.showLastRow?1:0;for(var i=0;i<=this.lastDisplayedRow+_40;i++){this._setRowDisplay(i,"none");}_3d=this.lastDisplayedRow=-1;}if(this.hideDataLayer){this.hideDataLayer.style.display="none";}if(this.focusedCell.length>0&&!this.editedCell){var _41=this.focusedCell[this.focusedCell.length-1].focusedRowIndex-this.rowIndex;var _42=this.focusedCell[this.focusedCell.length-1].focusedColIndex;if(0<=_41&&_41<=_3d){var td=this.data_td_list[_42+_41*this.oneRowDataLength];this.applyFocusedCellIn(td);}}if(this.options.adaptive=="crosstab"&&this.hasClass("w2grid_adaptive_crosstab")){if(this.hasSubtotal){this.setAdaptiveGridSubtotalHeight();}for(var i=this.defaultColCnt;i<this.hiddenList.length;i++){if(this.hiddenList[i]==true){this.setAdaptiveColumnVisible(i,false);}}}return _3d;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aS.prototype.adjustDraw=function(_44){["WebSquare.uiplugin.drawController.prototype.adjustDraw"];try{var _45=this.getDataLength();var _46=this.rowIndex;var _47=this.dataLayerHeight;var _48=this.scrollEvent;if(this.options.lazyDrawHiddenColumn){this.initVisibilityArr=this.colIndexInfo.body.visibilityArr.slice(0);this.hideInvisibleTds();}else{this.rollbackCommitFlag=false;for(var i=0;i<=this.lastDisplayedRow;i++){if(this.groupbyStatus.grouped){if(typeof this.dataList.getRealRowIndex(i+_46)=="object"){continue;}}this.lazyDrawRowData(i,i+_46);}this.rollbackCommitFlag=true;}if(this.options.visibleRowNum!==""){this.setDataTable();this.setScrollYHeight({noDraw:true});var _4a=this.options.visibleRowNum=="all"?_45:_4a=parseInt(this.options.visibleRowNum,10);for(var i=_44+1;i+_46<_45&&i<_4a;i++){this.drawRowData(i,i+_46);_44=i+_46;}for(var i=this.lastDisplayedRow+1;i<=_44;i++){this._setRowDisplay(i,"");}this.applyStyleOptions(_44);for(var i=_44+1;i<=this.lastDisplayedRow;i++){this._setRowDisplay(i,"none");}this.lastDisplayedRow=_44;var _4b=this.getElementById(this.id+"_scrollX_div");var _4c=parseInt(_4b.style.height,10);var _4d=this.getElementById(this.id+"_body_table");var _4e=0;if(this.hasFooter){_4e=this.getElementById(this.id+"_foot_table").offsetHeight;_4e=(_4e==0)?this.footerHeight:_4e;}var _4f=_4d.offsetHeight;if($W._G.isIE(9)){_4f=_4d.getBoundingClientRect().height;}this.lastIndex=_44;if(this.options.senseReader){var _50=_45;if(this.options.visibleRowNum!="all"&&parseInt(this.options.visibleRowNum,10)<_45){_50=parseInt(this.options.visibleRowNum,10);if(_50==0){_4f=this.defaultDataLayerHeight;}else{var tr=this.dataRowList[this.oneRowLength*_50-1];_4f=tr.offsetTop+tr.offsetHeight+this.gridLastTrBottomFix;if(_4f>=this.dataLayerHeight-_4c-_4e){for(var i=0;i<tr.childNodes.length;i++){var _52=tr.childNodes[i];if(_52.tagName.toLowerCase()=="td"){_52.style.borderBottomWidth="1px";}}}var _53=this.rowIndex+(this.oneRowLength*_50-1);if(this.hasSubtotal&&_53+1>=_45&&this.drawedSubtotal.length>0){var _54=this.drawedSubtotal[this.drawedSubtotal.length-1][0];_4f=_54.offsetTop+_54.offsetHeight+this.gridLastTrBottomFix;}}}this.lastIndex=_50-1;}if(_4f<this.defaultDataLayerHeight){_4f=this.defaultDataLayerHeight;}this.setSize(null,_4f+_4c+_4e);if(this.options.autoFit){this._setAutoFit();}this.resizeObj={width:this.render.offsetWidth,height:this.render.offsetHeight,clientWidth:this.render.clientWidth};this.dataLayerHeight=_4d.parentNode.offsetHeight;this.setScrollYHeight({noDraw:true});}else{if(this.options.initFixedHeightByRowNum>-1){if(!this.initHeightCompleted){this.setDataTable();this.setScrollYHeight({noDraw:true});var _4a=this.options.initFixedHeightByRowNum;for(var i=_44+1;i+_46<_45&&i<_4a;i++){this.drawRowData(i,i+_46);_44=i+_46;}for(var i=this.lastDisplayedRow+1;i<=_44;i++){this._setRowDisplay(i,"");}this.applyStyleOptions(_44);for(var i=_44+1;i<=this.lastDisplayedRow;i++){this._setRowDisplay(i,"none");}this.lastDisplayedRow=_44;var _4b=this.getElementById(this.id+"_scrollX_div");var _4c=parseInt(_4b.style.height,10);var _4d=this.getElementById(this.id+"_body_table");var _4e=0;if(this.hasFooter){_4e=this.getElementById(this.id+"_foot_table").offsetHeight;_4e=(_4e==0)?this.footerHeight:_4e;}var _4f=_4d.offsetHeight;if($W._G.isIE(9)){_4f=_4d.getBoundingClientRect().height;}this.lastIndex=_44;if(this.options.senseReader){var _50=_45;if(this.options.initFixedHeightByRowNum!="all"&&parseInt(this.options.initFixedHeightByRowNum,10)<_45){_50=parseInt(this.options.initFixedHeightByRowNum,10);if(_50==0){_4f=this.defaultDataLayerHeight;}else{var tr=this.dataRowList[this.oneRowLength*_50-1];_4f=tr.offsetTop+tr.offsetHeight+this.gridLastTrBottomFix;}}this.lastIndex=_50-1;}if(_4f<this.defaultDataLayerHeight){_4f=this.defaultDataLayerHeight;}var _55=0;var _56=0;var _57=0;var _58=this.dom[this.id+"_body_tbody"].childNodes;for(var i=0;i<_58.length;i++){var row=_58[i];if(row.style.display!="none"){_55=i;_56++;if(row.className.match("grid_body_row")&&row.getAttribute("trindex")==="0"){_57++;}if(_56==_4a){break;}}}if(_56<_4a){this.setSize(null,_4f+_4c+_4e);this.lastIndex=_57-1;}else{var _5a=_58[_55];_4f=_5a.offsetTop+_5a.offsetHeight+this.gridLastTrBottomFix+_4c+_4e;this.setSize(null,_4f);this.initHeightCompleted=true;this.lastIndex=_57-1;}if(this.options.autoFit){this._setAutoFit();}this.resizeObj={width:this.render.offsetWidth,height:this.render.offsetHeight,clientWidth:this.render.clientWidth};this.dataLayerHeight=_4d.parentNode.offsetHeight;}else{var _4b=this.getElementById(this.id+"_scrollX_div");var _4d=this.getElementById(this.id+"_body_table");var _4c=parseInt(_4b.style.height,10);var _4e=0;if(this.hasFooter){_4e=this.getElementById(this.id+"_foot_table").offsetHeight;_4e=(_4e==0)?this.footerHeight:_4e;}var _4f=_4d.offsetHeight;if($W._G.isIE(9)){_4f=_4d.getBoundingClientRect().height;}if(this.options.senseReader){var _50=_45;if(this.options.initFixedHeightByRowNum!="all"&&parseInt(this.options.initFixedHeightByRowNum,10)<_45){_50=parseInt(this.options.initFixedHeightByRowNum,10);if(_50==0){_4f=this.defaultDataLayerHeight;}else{var tr=this.dataRowList[this.oneRowLength*_50-1];_4f=tr.offsetTop+tr.offsetHeight+this.gridLastTrBottomFix;}}}if(_4f<this.defaultDataLayerHeight){_4f=this.defaultDataLayerHeight;}var _55=0;var _56=0;var _57=0;var _58=this.dom[this.id+"_body_tbody"].childNodes;for(var i=0;i<_58.length;i++){var row=_58[i];if(row.style.display!="none"){_55=i;_56++;if(row.className.match("grid_body_row")&&row.getAttribute("trindex")==="0"){_57++;}if(_56==this.options.initFixedHeightByRowNum){break;}}}if(_56<this.options.initFixedHeightByRowNum){this.setSize(null,_4f+_4c+_4e);}else{var _5a=_58[_55];_4f=_5a.offsetTop+_5a.offsetHeight+this.gridLastTrBottomFix+_4c+_4e;this.setSize(null,_4f);}_44=_57-1;}}var _5b=this.getElementById(this.id+"_size_y").parentNode.offsetHeight;var _5c=parseInt(this.getElementById(this.id+"_size_y").style.height,10)-_5b;var _5d=this.getElementById(this.id+"_scrollY_div").scrollTop;var _5e=_45-(_46+_44+1);var _5f=false;if(this.hasSubtotal){if(this.drawedSubtotal.length>0){var _60=this.drawedSubtotal[this.drawedSubtotal.length-1];if(_60.rowIndex==_45-1){var _61=_60[_60.length-1];if(_61.style.display!="none"){_5f=true;}}}}else{_5f=true;}if(this.adjustDraw_keepTop&&_5c>0&&_5c<=_5d&&!_5f){var _62=this.getElementById(this.id+"_size_y");_62.style.height=parseInt(_62.style.height,10)+this.oneRowScrollHeight+"px";_5c=_5d-this.oneRowScrollHeight;}if((!this.lastTopRowIndex&&this.options.senseReader!=true)&&_5c>0&&_5c<=_5d){var _63=(_44+_5e+1)*this.oneRowLength-1;if((_5e>=0||!_5f)&&_63>-1){if(_44+_5e<this.drawedRowLength){this.drawSubtotalRow(_44+1,_46+_44);for(var i=_44+1;i<=_44+_5e;i++){this.drawRowData(i,i+_46);}if(_5e==0&&!_5f){this.drawRowData(_44+_5e,_44+_5e+_46);}for(var i=this.lastDisplayedRow+1;i<=_44+_5e;i++){this._setRowDisplay(i,"");}this.lastDisplayedRow=_44+_5e;var _61=this.dataRowList[_63];if(this.hasSubtotal&&this.drawedSubtotal.length>0){var _64=this.drawedSubtotal[this.drawedSubtotal.length-1];_61=_64[_64.length-1];}var _65=0;var _66=_46;if(this.hasSubtotal&&this.drawedSubtotal.length>0&&this.drawedSubtotal[0].rowIndex!=_46){_66=_46-0.5;}var _67=_61.offsetTop+_61.offsetHeight;while(_67>_47&&_65<_44+_5e){this.subtotalHidden({rowIndex:_46+_65-1});_67=_61.offsetTop+_61.offsetHeight;if(_67<=_47){_66=_46+_65;break;}this._setRowDisplay(_65,"none");_67=_61.offsetTop+_61.offsetHeight;_66=_46+_65+0.5;_65++;}if(this.hasSubtotal&&this.drawedSubtotal.length>0&&_66+0.5==this.drawedSubtotal[0].rowIndex){_66+=0.5;}if(_46!=Math.ceil(_66)){_46=Math.ceil(_66);this.bScrollTop=_46;var _68=_46-this.rowIndex;var _69=_44+_5e;_44=_69-_68;this.rowIndex=_46;this.lastTopRowIndex=_66;this.subtotalHidden();if(_46!=this.lastTopRowIndex&&this.options.visibleRowNum===""){this.drawSubtotalRow(0,_46-1);}for(var i=0;i<=_44;i++){if(this.options.fixedRow>0&&i<=this.options.fixedRow-1){this.drawRowData(i,i);}else{this.drawRowData(i,i+_46);}}for(var i=0;i<=_65;i++){this._setRowDisplay(i,"");}for(var i=_44+1;i<=this.lastDisplayedRow;i++){this._setRowDisplay(i,"none");}this.changeFocusedCellPosition(_46);this.lastDisplayedRow=_44;if(this.scrollEvent){this.checkScrollEnd=true;}}}}if(!this.lastTopRowIndex){this.lastTopRowIndex=this.rowIndex;if(this.hasSubtotal&&this.drawedSubtotal.length>0&&this.drawedSubtotal[0].rowIndex==this.rowIndex-1){this.lastTopRowIndex-=0.5;}}}this.applyStyleOptions(_44);if(this.options.initFixedHeightByRowNum!=-1){var tr=this.dataRowList[_57-1];for(var i=0;i<tr.childNodes.length;i++){var _52=tr.childNodes[i];if(_52.tagName.toLowerCase()=="td"){_52.style.borderBottomWidth="1px";}}}_44=this.cutGridBottom(_44);this.lastIndex=_44;if(this.adjustDraw_keepTop){this.adjustDraw_keepTop=null;}else{this.setScrollYHeight();}}this.maxRowLength=_44;if(this.isIE6or7){this._setRowDisplay(_44+1,"");if(this.dataRowList[(_44+1)*this.oneRowLength]){this.dataRowList[(_44+1)*this.oneRowLength].offsetHeight;}this._setRowDisplay(_44+1,"none");}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aS.prototype.drawBottomData=function(_6a){if(this.rowIndex<0||this.rowIndex==0&&_6a<=this.lastIndex||this.rowIndex>=0&&this.rowIndex+this.lastIndex==_6a||isNaN(Number(_6a))){return;}var _6b=this.getDataLength();(_6a>=_6b)&&(_6a=_6b-1);this.subtotalHidden();for(var i=0;i<=this.lastDisplayedRow;i++){this._setRowDisplay(i,"none");}var _6d=_6a+1-this.drawedRowLength;(_6d<0)&&(_6d=0);var _6e=((_6b<this.drawedRowLength)?_6b:this.drawedRowLength)-1;for(var i=0;i<=_6e;i++){this.drawRowData(i,i+_6d);this._setRowDisplay(i,"");}var _6f=_6a-_6d;var _70=this.dataRowList[(_6a-_6d+1)*this.oneRowLength-1];if(this.hasSubtotal&&this.drawedSubtotal.length>0){for(var i=0;i<this.drawedSubtotal.length;i++){var _71=this.drawedSubtotal[i];if(_71.rowIndex==_6a){_70=_71[_71.length-1];break;}}}var _72=_70.offsetTop+_70.offsetHeight;var _73=this.dataLayerHeight;if(_72<=_73){this.rowIndex=_6d;this.lastIndex=this.cutGridBottom(_6e);for(var i=this.rowIndex;i<=this.rowIndex+this.lastIndex;i++){this.applyRowStyleOptions(i);}this.setScrollYHeight({noDraw:true});return;}else{this.subtotalHidden({startRowIndex:_6a+1});for(var i=_6f+1;i<=_6e;i++){this._setRowDisplay(i,"none");}}var _74=_6d-(this.hasSubtotal?0.5:0);var _75=0;var _76=0;if(this.hasSubtotal){for(var _77 in this.subtotalTableList){_76+=this.subtotalTableList[_77].rows.length;}}while(_74<_6b){if(this.hasSubtotal){for(var i=0;i<this.drawedSubtotal.length;i++){if(this.drawedSubtotal[i].rowIndex==_74-0.5){for(var j=0;j<this.drawedSubtotal[i].length;j++){_72-=this.drawedSubtotal[i][j].offsetHeight;}}}_74+=0.5;if(_72<=_73){this.subtotalHidden({endRowIndex:_74-1});break;}_75+=_76;}for(var i=0;i<this.oneRowLength;i++){_72-=this.dataRowList[this.oneRowLength*(_74-_6d)+i].offsetHeight;}_75+=this.oneRowLength;_74+=(this.hasSubtotal?0.5:1);if(_72<=_73){if(this.hasSubtotal){_74+=0.5;for(var i=0;i<this.drawedSubtotal.length;i++){if(this.drawedSubtotal[i].rowIndex==_74-1){_74-=0.5;break;}}}break;}}var _79=[];var _7a=this.getElementById(this.id+"_body_tbody");for(var i=0;i<_75;i++){var tr=_7a.removeChild(_7a.rows[0]);tr.style.cssText="display:none";_79.push(tr);}for(var i=_76;i<_79.length;i++){_7a.appendChild(_79[i]);}for(var i=0;i<_76;i++){_7a.appendChild(_79[i]);}this.dataRowList=[];this.all_data_td_list=[];this.data_num_td_list=[];this.data_status_td_list=[];this.data_td_list=[];for(var _77 in this.subtotalRowHash){this.subtotalRowHash[_77]=[];}var _7c=0;for(var i=0;i<_76;i++){var row=_7a.rows[_7c++];var _77=row.getAttribute("targetcolumnid");this.subtotalRowHash[_77].push(row);}for(var i=0;i<this.drawedRowLength;i++){var _7e=[];for(var j=0;j<this.oneRowLength;j++){_7e.push(_7a.rows[_7c++]);}this.addBodyRow2(i,_7e);for(var j=0;j<_76;j++){var row=_7a.rows[_7c++];var _77=row.getAttribute("targetcolumnid");this.subtotalRowHash[_77].push(row);}}if(this.hideDataLayer){this.hideDataLayer.style.display="none";}this.rowIndex=parseInt(_74+0.5,10);this.lastIndex=_6e=_6a-this.rowIndex;if(_6a>=_6b-1){this.lastTopRowIndex=_74;}for(var i=0;i<=_6e;i++){this.setEvenOddBackground(i,this.rowIndex+i);}for(var i=_6a;i>=_74;i--){this.applyRowStyleOptions(i);}if(_6e+1<this.drawedRowLength){this._setRowDisplay(_6e+1,"");this.setEvenOddBackground(_6e+1,this.rowIndex+_6e);this.rowIndex--;this.applyRowStyleOptions(this.rowIndex+_6e+1);this.rowIndex++;this._setRowDisplay(_6e+1,"none");}this.setScrollYHeight({noDraw:true});if(this.options.lazyDrawHiddenColumn){this.hideInvisibleTds();}};$W._a.aS.prototype.cutGridBottom=function(_7f){try{var _80=this.rowIndex;var _81=this.dataLayerHeight;if(_7f<0){this.lastDisplayedRow=-1;return -1;}var _82=this.getElementById(this.id+"_head_table");var _83=this.getElementById(this.id+"_body_tbody");var _84=$W._H.getStyle(_82,"border-top-width");if(_84=="thin"){if($W._G.isIE(6)||$W._G.isIE(7)){_84=2;}else{_84=1;}}else{if(_84=="medium"){if($W._G.isIE(6)||$W._G.isIE(7)){_84=4;}else{_84=3;}}else{if(_84=="thick"){if($W._G.isIE(6)||$W._G.isIE(7)||$W._G.isOpera()){_84=6;}else{_84=5;}}else{_84=parseInt(_84,10);}}}var _85=parseInt(_84/2,10)-_82.offsetTop;if(_83.getBoundingClientRect){var _86=_83.getBoundingClientRect();var _87=_86.bottom-_86.top;_85+=_87-parseInt(_87,10)>0?1:0;}while(true){if(this.hasSubtotal&&this.drawedSubtotal.length>0){for(var i=this.drawedSubtotal.length-1;i>=0;i--){var _89=this.drawedSubtotal[i];if(_89.rowIndex==_80+_7f){var _8a=_89[_89.length-1];if(_81<_8a.offsetTop+_8a.offsetHeight){this.subtotalHidden({index:i});}else{break;}}else{break;}}}var _8b=this.dataRowList[(_7f+1)*this.oneRowLength-1];if(_7f>0&&_8b.offsetTop+_8b.offsetHeight+_85>_81){_7f--;}else{break;}}if(!this.senseReaderMode){if(this.options.senseReader==true&&this.options.visibleRowNum==""){if(this.rowIndex>=this.drawedRowLength-(_7f+1)){for(var i=_7f+1;i<=this.drawedRowLength;i++){this._setRowDisplay(i,"none");}}}else{for(var i=_7f+1;i<=this.drawedRowLength;i++){this._setRowDisplay(i,"none");}}if(this.options.showLastRow){var _8c=this.getDataLength();if(this.rowIndex+_7f+1<_8c){this._setRowDisplay(_7f+1,"");this.lazyDrawRowData(_7f+1,this.rowIndex+_7f+1);}}if(!(this.options.senseReader==true&&this.options.visibleRowNum=="")){this.lastDisplayedRow=_7f;}}else{if(this.options.showLastRow){var _8c=this.getDataLength();if(this.rowIndex+_7f+1<_8c){this._setRowDisplay(_7f+1,"");this.lazyDrawRowData(_7f+1,this.rowIndex+_7f+1);}}}return _7f;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aS.prototype.getLastIndex=function(_8d){try{var _8e=this.rowIndex;var _8f=this.dataLayerHeight;if(_8d<0){this.lastDisplayedRow=-1;return -1;}while(true){var _90=this.dataRowList[(_8d+1)*this.oneRowLength-1];if(_8d>0&&_90.offsetTop+_90.offsetHeight>_8f){_8d--;}else{break;}}return _8d;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aS.prototype.lazyDrawRowData=function(_91,_92){["WebSquare.uiplugin.drawController.prototype.lazyDrawRowData"];try{for(var i=0;i<this.colIndexInfo.body.invisibleTds.length;i++){var _94=this.colIndexInfo.body.invisibleTds[i]-this.defaultColCnt;if(_94>=0){this.drawCellData(_91,_92,_94,true);}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aS.prototype.fastDrawRowData=function(_95,_96){["WebSquare.uiplugin.drawController.prototype.fastDrawRowData"];try{var _97=this.dataList.getRealRowIndex(this.rowIndex+_95);var td=this.all_data_td_list[_95*this.realRowDataLength];if(typeof _97=="number"){if(this.groupbyStatus.grouped||this.clearGrouping){if(this.defaultColCnt>0){var _99=td;var _9a=true;for(var i=0;i<this.defaultColCnt;i++){var _9c=this.colIndexes.bodyColInfo.colSpanArr[i]||1;_99.setAttribute("colSpan",_9c);_99.style.display="";_99.innerText="";_99.textContent="";if(_99.className.match("w2grid_groupby")){_99.className=td.className.split(" ").splice(0,1);if(this.options.rowNumVisible&&_9a){_99.className+=" gridBodyDefault_rowNumber";_9a=false;}else{_99.className+=" gridBodyDefault_rowStatus";}}_99=_99.nextSibling;}}}if(this.options.rowMerge){var _9d={};_9d.rowMergeStartPoint=[];_9d.rowMergeSameDataLength=[];var _9e=this.getRowData(_96);var _9f=false;var cnt=0;for(var i=0;i<_9e.length;i++){if(_9e[i]==_9e[i+1]){if(!_9f){_9d.rowMergeStartPoint.push(i);cnt++;}else{cnt++;}_9f=true;}else{if(_9f){cnt++;_9d.rowMergeSameDataLength.push(cnt);}_9f=false;cnt=0;}}}this._drawRowNumData(_95,_96);this._drawRowStatus(_95,_96);var _a1=this.colIndexInfo.body.visibleTds;var len=_a1.length;for(var i=0;i<len;i++){var _a3=_a1[i]-this.defaultColCnt;var _a4=parseInt(_a3/this.columnOrder.length);var _a5=_a3%this.columnOrder.length;var _a6=this.columnOrder[_a5]+(_a4*this.columnOrder.length);if(_a6>=0){if(this.options.rowMerge){var _9c=null;for(var j=0;j<_9d.rowMergeStartPoint.length;j++){if(_a6==_9d.rowMergeStartPoint[j]){_9c=_9d.rowMergeSameDataLength[j];}else{if(_9d.rowMergeStartPoint[j]<_a6&&_a6<_9d.rowMergeStartPoint[j]+_9d.rowMergeSameDataLength[j]){_9c=-1;}}}this.drawCellData(_95,_96,_a6,null,_9c);}else{this.drawCellData(_95,_96,_a6);}}}this.drawSubtotalRow(_95+1,_96);}else{if(typeof _97=="object"){this.drawGroupData(td,_97,_95);}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aS.prototype.drawRowData=function(_a8,_a9){["WebSquare.uiplugin.drawController.prototype.drawRowData"];try{var _aa=this.dataList.getRealRowIndex(this.rowIndex+_a8);if(_aa==undefined){return;}var td=this.all_data_td_list[_a8*this.realRowDataLength];if(typeof _aa=="number"){this._drawRowNumData(_a8,_a9);this._drawRowStatus(_a8,_a9);for(var i=0;i<this.oneRowDataLength;i++){this.drawCellData(_a8,_a9,i);}this.drawSubtotalRow(_a8+1,_a9);}else{this.drawGroupData(td,_aa,_a8);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aS.prototype.hideNochangeDataLayer=function(_ad){if(this.hideDataLayer==null){this.hideDataLayer=document.createElement("div");this.hideDataLayer.className="w2grid_fastScroll_layer";var _ae=document.createElement("div");_ae.innerHTML=this.options.scrollMsg;_ae.className="w2grid_fastScroll_msg";this.hideDataLayer.appendChild(_ae);var _af=this.getElementById(this.id+"_dataLayer");_af.appendChild(this.hideDataLayer);}var _b0=this.all_data_td_list[(_ad-1)*this.realRowDataLength];var _b1=_b0.offsetHeight;if(_b1!=0){this.hideDataLayer.style.display="block";this.hideDataLayer.style.top=(_b0.offsetTop+_b1+1)+"px";}else{this.hideDataLayer.style.display="none";}};$W._a.aS.prototype.setEvenOddBackground=function(_b2,_b3){if(this.options.oddEvenColorDisplay){var td=this.data_td_list[_b2*this.oneRowDataLength];var tr=null;if(td){tr=td.parentNode;do{if(_b3%2==1){tr.style.backgroundColor=this.options.evenRowBackgroundColor;}else{tr.style.backgroundColor=this.options.oddRowBackgroundColor;}tr=$W._G.next(tr);}while(tr!=null&&tr.getAttribute("trIndex")!="0");}}};$W._a.aS.prototype._drawRowNumData=function(_b6,_b7){["WebSquare.uiplugin.drawController.prototype._drawRowNumData"];if(this.options.rowNumVisible){var _b8=this.data_num_td_list[_b6];if(this.rowNumArr){if(typeof this.rowNumArr[_b7]=="number"){_b8.innerHTML=1+this.rowNumArr[_b7];}}else{if(_b8){_b8.innerHTML=1+_b7+this.startRowNumber;}}}};$W._a.aS.prototype._drawRowStatus=function(_b9,_ba){["WebSquare.uiplugin.drawController.prototype._drawRowStatus"];if(this.options.rowStatusVisible){var _bb=this.data_status_td_list[_b9];if(_bb){var _bc=this._linkedDataList||this._dataList;if(_bc.initializeType=="linkedDataList"){var _bd=_bc.getRowStatusValue(_ba);}else{var _be=(this._dataList.options.depthColumn)?this.getRealRowIndex(_ba):_ba;var _bd=_bc.getRowStatusValue(_be);}var _bf="";switch(_bd){case 0:_bf="R";break;case 1:_bf="U";break;case 2:_bf="C";break;case 3:_bf="D";break;case 4:_bf="V";break;}if(typeof _bb.imageName=="undefined"){_bb.imageName="";}if(_bb.imageName!=_bf){switch(_bb.imageName){case "":case "R":break;case "C":this.removeClass(_bb,"w2grid_rowStatus_C");break;case "U":this.removeClass(_bb,"w2grid_rowStatus_U");break;case "D":this.removeClass(_bb,"w2grid_rowStatus_D");break;case "V":this.removeClass(_bb,"w2grid_rowStatus_V");break;}if(_bf!="R"&&_bf!=""){this.addClass(_bb,"w2grid_rowStatus_"+_bf);}_bb.imageName=_bf;}}}};$W._a.aS.prototype.drawCellData=function(_c0,_c1,_c2,_c3,_c4){["WebSquare.uiplugin.drawController.prototype.drawCellData"];try{if(!_c3&&this.editedCell!=null&&this.editedCell.options.colIndex+""==_c2+""){this.editedCell.handleCancelEdit();}var td=this.data_td_list[_c2+_c0*this.oneRowDataLength];if(td){var _c6=this.cellInfoHash[this.tdIdList[_c2]];if(this.groupbyStatus.grouped||this.clearGrouping){var _c7=this.colIndexes.bodyColInfo.colSpanArr[_c2+this.defaultColCnt]||1;td.setAttribute("colSpan",_c7);td.style.display="";td.style.textAlign=_c6.options.textAlign;}if(this.options.rowMerge){if(_c4==null){td.setAttribute("colSpan","");td.style.display="";td.style.textAlign="";}else{if(_c4>0){var _c7=_c4;td.setAttribute("colSpan",_c7);td.style.display="";td.style.textAlign=_c6.options.textAlign;}else{if(_c4==-1){td.style.display="none";}}}}var _c8=_c6.options.embeddedInput;if(!_c8&&this.groupbyStatus.grouped){td.innerText="";td.textContent="";}if((this.groupbyStatus.grouped||this.clearGrouping)&&this.hasClass(td,"w2grid_groupby")){td.className="gridBodyDefault";}var _c9=this.aria_labelledby[_c2];if(_c9){var row=_c0+_c1+1;td.setAttribute("aria-labelledby",_c9+" r"+row);}if(this.isColMerge&&_c6.options.colMerge){this.setColMergeCellData(_c0,_c1,_c2);}else{this.setInnerHTML(td,_c1,_c2);}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aS.prototype.setColMergeCellData=function(_cb,_cc,_cd){["WebSquare.uiplugin.drawController.prototype.setColMergeCellData"];if(this.isColMergeAnd){return this.setColMergeAndCellData(_cb,_cc,_cd);}var td=this.data_td_list[_cd+_cb*this.oneRowDataLength];var _cf=this.getHasSubtotalCount(_cc);if(_cb==0){if(_cf!=0){td.style.borderBottomWidth="1px";}this.setInnerHTML(td,_cc,_cd);return;}var _d0=_cc-1;var _d1=this.getColumnID(_cd);var _d2=this.dataList.getCellData(_cc-1,_d1);var _d3=this.data_td_list[_cd+(_cb-1)*this.oneRowDataLength];var _d4=this.upperGroupingTest(_cc,_cd,_cb);var _d5=this.dataList.getCellData(_cc,_d1);if(_d2==_d5&&_d4){_d3.style.borderBottomWidth="0px";td.style.borderTopWidth="0px";td.style.borderBottomWidth="0px";td.innerHTML="";if(td.getAttribute("viewType")=="icon"){var _d6=td.getAttribute("inputType");this.removeClass(td,this.options.bodyTdClass+"_"+_d6);}if(this.options.senseReader){if(_cf!=0||_cb==this.lastDisplayedRow||_cb==this.lastIndex){td.style.borderBottomWidth="1px";}if(_cb-1==this.lastDisplayedRow||_cb-1==this.lastIndex){_d3.style.borderBottomWidth="1px";}}if(_cf!=0){td.style.borderBottomWidth="1px";}}else{var _d7=td.style.borderTopWidth;var _d8=this.getCellInfo(_cd);if(_d8.options.colMergeEdit&&_d7=="0px"){_d7="1px";}td.style.borderTopWidth="0px";this.setInnerHTML(td,_cc,_cd);td.style.borderTopWidth=_d7;}return;};$W._a.aS.prototype.setColMergeAndCellData=function(_d9,_da,_db){["WebSquare.uiplugin.drawController.prototype.setColMergeAndCellData"];var td=this.data_td_list[_db+_d9*this.oneRowDataLength];var _dd=this.getHasSubtotalCount(_da);if(_d9==0){if(_dd!=0){td.style.borderBottomWidth="1px";}this.setInnerHTML(td,_da,_db);return;}if(!this.colMergeObj){this.colMergeObj={displayRowIndex:_da,colArr:[]};}else{if(this.colMergeObj.displayRowIndex!=_da){this.colMergeObj={displayRowIndex:_da,colArr:[]};}}var _de=this.getColumnID(_db);if(this.colMergeObj.colArr[_db]==undefined){var _df=this.dataList.getCellData(_da-1,_de);var _e0=this.dataList.getCellData(_da,_de);this.colMergeObj.colArr[_db]=(_df==_e0);if(this.colMergeObj.colArr[_db]){for(var i=0;i<this.oneRowDataLength;i++){if(this.colMergeObj.colArr[i]!=undefined){continue;}var _e2=this.getCellInfo(i);if(!_e2.options.colMerge){this.colMergeObj.colArr[i]=true;}else{var _e3=this.getColumnID(i);var _e4=this.dataList.getCellData(_da-1,_e3);var _e5=this.dataList.getCellData(_da,_e3);this.colMergeObj.colArr[i]=(_e4==_e5);}}}}var _e6=true;for(var i=0;i<this.colMergeObj.colArr.length;i++){if(!this.colMergeObj.colArr[i]){_e6=false;break;}}var _e7=_da-1;var _e8=this.data_td_list[_db+(_d9-1)*this.oneRowDataLength];if(_e6){_e8.style.borderBottomWidth="0px";td.style.borderTopWidth="0px";td.style.borderBottomWidth="0px";td.innerHTML="";if(this.options.senseReader){if(_dd!=0||_d9==this.lastDisplayedRow||_d9==this.lastIndex){td.style.borderBottomWidth="1px";}if(_d9-1==this.lastDisplayedRow||_d9-1==this.lastIndex){_e8.style.borderBottomWidth="1px";}}if(_dd!=0){td.style.borderBottomWidth="1px";}}else{var _e9=td.style.borderTopWidth;var _ea=this.getCellInfo(_db);if(_ea.options.colMergeEdit&&_e9=="0px"){_e9="1px";}td.style.borderTopWidth="0px";this.setInnerHTML(td,_da,_db);td.style.borderTopWidth=_e9;}return;};$W._a.aS.prototype.drawColMergeCellData=function(_eb,_ec,_ed,_ee){["WebSquare.uiplugin.drawController.prototype.drawColMergeCellData"];if(this.isColMergeAnd){return this.drawColMergeAndCellData(_eb,_ec,_ed,_ee);}var _ef=this.getColumnID(_ed);var td=this.data_td_list[_ed+_eb*this.oneRowDataLength];td.style.borderBottomWidth="0px";if(_eb==0&&!_ee){return;}var _f1=this.getHasSubtotalCount(_ec);if(_f1==0){td.style.borderBottomWidth="0px";}var _f2=_ec-1;var _f3=this.dataList.getCellData(_ec-1,_ef);var _f4=this.data_td_list[_ed+(_eb-1)*this.oneRowDataLength];td.style.borderTopWidth="0px";var _f5=this.upperGroupingTest(_ec,_ed,_eb);var _f6=true;if(this.options.senseReader){var _f7=this.lastIndex;if(_f7==-1){var _f8=this.getDataLength();_f7=_f8-1;if(this.options.visibleRowNum!="all"&&parseInt(this.options.visibleRowNum,10)<_f8){_f7=parseInt(this.options.visibleRowNum,10)-1;}}if(_f7+this.rowIndex+1==_ec){_f6=false;}}var _f9=this.dataList.getCellData(_ec,_ed);if(_f3==_f9&&_f5){if(_f4!=undefined){_f4.style.borderBottomWidth="0px";if(this.options.oddEvenColorDisplay){return "mergeCellBackgroundColor";}}td.style.borderTopWidth="0px";td.style.borderBottomWidth="0px";td.setAttribute("colMerged","1");td.innerHTML="";if(_f1!=0){td.style.borderBottomWidth="1px";}}else{td.style.borderTopWidth="1px";}return;};$W._a.aS.prototype.drawColMergeAndCellData=function(_fa,_fb,_fc,_fd){["WebSquare.uiplugin.drawController.prototype.drawColMergeAndCellData"];var _fe=this.getColumnID(_fc);var td=this.data_td_list[_fc+_fa*this.oneRowDataLength];td.style.borderBottomWidth="0px";if(_fa==0&&!_fd){return;}var _100=this.getHasSubtotalCount(_fb);if(_100==0){td.style.borderBottomWidth="0px";}if(!this.colMergeObj){this.colMergeObj={displayRowIndex:_fb,colArr:[]};}else{if(this.colMergeObj.displayRowIndex!=_fb){this.colMergeObj={displayRowIndex:_fb,colArr:[]};}}if(this.colMergeObj.colArr[_fc]==undefined){var _101=this.dataList.getCellData(_fb-1,_fe);var _102=this.dataList.getCellData(_fb,_fe);this.colMergeObj.colArr[_fc]=(_101==_102);if(this.colMergeObj.colArr[_fc]){for(var i=0;i<this.oneRowDataLength;i++){if(this.colMergeObj.colArr[i]!=undefined){continue;}var _104=this.getCellInfo(i);if(!_104.options.colMerge){this.colMergeObj.colArr[i]=true;}else{var _105=this.getColumnID(i);var _106=this.dataList.getCellData(_fb-1,_105);var _107=this.dataList.getCellData(_fb,_105);this.colMergeObj.colArr[i]=(_106==_107);}}}}var _108=true;for(var i=0;i<this.colMergeObj.colArr.length;i++){if(!this.colMergeObj.colArr[i]){_108=false;break;}}if(_108){var _109=this.data_td_list[_fc+(_fa-1)*this.oneRowDataLength];if(_109!=undefined){_109.style.borderBottomWidth="0px";if(this.options.oddEvenColorDisplay){return "mergeCellBackgroundColor";}}td.style.borderTopWidth="0px";td.style.borderBottomWidth="0px";td.setAttribute("colMerged","1");td.innerHTML="";if(_100!=0){td.style.borderBottomWidth="1px";}}else{td.style.borderTopWidth="1px";}return;};$W._a.aS.prototype.upperGroupingTest=function(_10a,_10b,_10c){["WebSquare.uiplugin.drawController.prototype.upperGroupingTest"];var _10d=this.getCellInfo(_10b);var _10e=_10d.options.upperColumn;if(this.hasSubtotal&&this.hasUpperSubtotalRow(_10a)){return false;}if(_10e!=""){if(_10c){var _10f=this.getColumnIndex(_10e);var _110=this.data_td_list[_10f+(_10c*this.oneRowDataLength)];var _111=this.getCellInfo(_10f);if(_110&&_110.style.width==""&&!_111.options.colMerge){return false;}}var _112=this.dataList.getCellData(_10a,_10e);var _113=this.dataList.getCellData(_10a-1,_10e);if(_112!=_113){return false;}var _114=this.getCellInfo(_10e);if(_114.options.upperColumn&&_114.options.upperColumn!=""&&_114.options.upperColumn!=_10d.id){return this.upperGroupingTest(_10a,_114.options.upperColumn,_10c);}}else{var _112=this.dataList.getCellData(_10a,_10b);var _113=this.dataList.getCellData(_10a-1,_10b);if(_112!=_113){return false;}}return true;};$W._a.aS.prototype.setDataTable=function(){["WebSquare.uiplugin.drawController.prototype.setDataTable"];try{var _115=this.getElementById(this.id+"_head_table");var _116=this.getElementById(this.id+"_body_table");var _117=this.getElementById(this.id+"_body_tbody");this.dataLayerHeight=_116.parentNode.offsetHeight;if(this.options.visibleRowNum===""){if(this.dataLayerHeight==0){this.resizeObj={width:0,height:0,scrollLeft:0,scrollTop:0,clientWidth:0};this.setRedrawStatus("stop");this.delayedDraw({rowIndex:this.rowIndex==-1?0:this.rowIndex});return;}}if(!this.defaultDataLayerHeight){if(this.isIE6||$W._G.isOpera()){this.defaultDataLayerHeight=this.getElementById(this.id+"_main_div").offsetHeight;}else{this.defaultDataLayerHeight=this.dataLayerHeight;}}var _118=0;if(this.options.senseReader){_118=this.getDataLength();}else{if(this.options.visibleRowNum===""){if(this.options.initFixedHeightByRowNum>-1){_118=parseInt(this.options.initFixedHeightByRowNum,10)+1;}else{_118=parseInt((this.dataLayerHeight-_115.offsetHeight)/this.oneRowHeight)+1;}}else{if(this.options.visibleRowNum==="all"){_118=this.getDataLength();}else{_118=parseInt(this.options.visibleRowNum,10);}}}if(_118>this.drawedRowLength){var _119=this.drawedRowLength;this.drawedRowLength=_118;var rows=[];if(_119==0&&this.hasSubtotal){rows=rows.concat(this.createSubtotalRows());}for(var k=_119;k<this.drawedRowLength;k++){var _11c=[];for(var i=0;i<this.oneRowLength;i++){var _11e=this.tempTr.rows[i].cloneNode(true);_11c[i]=_11e;rows.push(_11e);}this.addBodyRow(k,_11c);if(this.hasSubtotal){rows=rows.concat(this.createSubtotalRows());}}if(this.drawedRowLength==0){_116.style.borderWidth="0px";}else{_116.style.borderWidth="";}for(var i=0;i<rows.length;i++){_117.appendChild(rows[i]);}for(var k=_119;k<this.drawedRowLength;k++){this._setRowDisplay(k,"none");}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aS.prototype.applyStyleOptions=function(_11f){["WebSquare.uiplugin.drawController.prototype.applyStyleOptions"];try{var _120=this.rowIndex>=0?this.rowIndex:0;for(var i=0;i<=_11f+1&&i<this.drawedRowLength;i++){if(typeof this.dataList.getRealRowIndex(i+_120)=="object"){continue;}if(this.options.fixedRow>0&&i<=this.options.fixedRow-1){this.applyRowStyleOptions(i);}else{this.applyRowStyleOptions(i+_120);}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aS.prototype._setCheckboxHead=function(_122){["WebSquare.uiplugin.drawController.prototype._setCheckboxHead"];try{if(_122){this.checkHeader(this.bodyToHeaderRelation[_122]);}else{for(var _123 in this.headerInfoHash){this.checkHeader(_123);}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aS.prototype.applyColumnStyleOptions=function(_124){["WebSquare.uiplugin.drawController.prototype.applyColumnStyleOptions"];try{for(var i=0;i<this.drawedRowLength;i++){this.applyCellStyleOptions(i+this.rowIndex,_124);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aS.prototype.applyRowStyleOptions=function(_126){["WebSquare.uiplugin.drawController.prototype.applyRowStyleOptions"];try{var _127=_126;if(this.rowIndex>=0){if(this.options.fixedRow>0&&this.options.fixedRow>_126){}else{_127-=this.rowIndex;}}if(_127<0||_127>=this.drawedRowLength){return;}var tr=this.dataRowList[this.oneRowLength*_127];if(!tr||tr.style.display=="none"){return;}if(this.options.fixedRow>0&&_127==this.options.fixedRow-1){tr.style.borderBottom="2px solid #383d41";this.styledFixedRow=tr;}if(this.options.lazyDrawHiddenColumn){var _129=this.colIndexInfo.body.visibleTds;var _r=_127*this.oneRowDataLength;for(var i=this.defaultColCnt;i<_129.length;i++){var _12c=_129[i]-this.defaultColCnt;var td=this.all_data_td_list[_r+_12c];if(td){this.applyCellStyleOptions(_126,_12c);}}}else{for(var i=0;i<this.oneRowDataLength;i++){var _r=_127*this.oneRowDataLength;var td=this.data_td_list[_r+i];if(td){this.applyCellStyleOptions(_126,i);}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aS.prototype.setAutoResizeEmbeddedInput=function(){try{tdArr=this.data_td_list;var _12e="";var _12f=null;var _130=null;var _131=0;var _132=0;var _133=false;for(var i=0;i<tdArr.length;i++){if(tdArr[i].getAttribute("inputType")=="text"||tdArr[i].getAttribute("inputType")=="secret"){_12e=tdArr[i].getAttribute("col_id");_130=this.cellInfoHash[_12e];var _135=false;if(this.dom[_130.mainGridId+_130.id]||this.dom[tdArr[i].getAttribute("id")+"_"+tdArr[i].getAttribute("inputType")]){_135=true;}if(_130.options.embeddedInput==true&&_135){_12f=this.getInput(_130,tdArr[i]);if(_12f.render.parentNode==null){tdArr[i].innerHTML="";tdArr[i].appendChild(_12f.render);}if(tdArr[i].parentNode.style.display=="none"){tdArr[i].parentNode.style.display="";_133=true;}var _136=parseInt(tdArr[i].getAttribute("colindex"),10);if(!this.embeddedStyleObj){this.embeddedStyleObj={top:parseInt($W._H.getStyle(tdArr[i],"padding-top"),10),bottom:parseInt($W._H.getStyle(tdArr[i],"padding-bottom"),10),left:parseInt($W._H.getStyle(tdArr[i],"padding-left"),10),right:parseInt($W._H.getStyle(tdArr[i],"padding-right"),10),inputTop:parseInt($W._H.getStyle(_12f.render,"padding-top"),10),inputBottom:parseInt($W._H.getStyle(_12f.render,"padding-bottom"),10),inputLeft:parseInt($W._H.getStyle(_12f.render,"padding-left"),10),inputRight:parseInt($W._H.getStyle(_12f.render,"padding-right"),10)};}var _137=parseInt($W._H.getStyle(_12f.render,"border-top-width"),10);var _138=parseInt($W._H.getStyle(_12f.render,"border-bottom-width"),10);var _139=parseInt($W._H.getStyle(_12f.render,"border-left-width"),10);var _13a=parseInt($W._H.getStyle(_12f.render,"border-right-width"),10);_131=tdArr[i].offsetHeight-parseInt($W._H.getStyle(tdArr[i],"border-top-width"),10)-parseInt($W._H.getStyle(tdArr[i],"border-bottom-width"),10);_131-=(this.embeddedStyleObj["top"]+this.embeddedStyleObj["bottom"]);_131-=(_137+_138);if(!this.embeddedWidthObj[_136]||this.embeddedWidthObj[_136]["isChanged"]){this.embeddedWidthObj[_136]={isChanged:false,width:tdArr[i].clientWidth};}_132=this.embeddedWidthObj[_136]["width"];_132-=(this.embeddedStyleObj["left"]+this.embeddedStyleObj["right"]);_132-=(_139+_13a);_132-=(this.embeddedStyleObj["inputLeft"]+this.embeddedStyleObj["inputRight"]);if($W._G.isOpera()){_131+=2;}if(_133){tdArr[i].parentNode.style.display="none";}else{if($W._G.isIE("6 7")){_131-=2;}}_12f.setSize(_132-2,_131-(this.embeddedStyleObj["inputTop"]+this.embeddedStyleObj["inputBottom"]));_12f.setStyle("lineHeight",_131+"px");}}else{if(tdArr[i].getAttribute("inputType")=="calendar"){_12e=tdArr[i].getAttribute("col_id");_130=this.cellInfoHash[_12e];var _13b=null;if(_130.options.embeddedInput==true){_13b=this.getInput(_130,tdArr[i]);if(_13b.render.parentNode==null){tdArr[i].innerHTML="";tdArr[i].appendChild(_13b.render);}if(tdArr[i].parentNode.style.display=="none"){tdArr[i].parentNode.style.display="";_133=true;}}_131=tdArr[i].offsetHeight-parseInt($W._H.getStyle(tdArr[i],"border-top-width"),10)-parseInt($W._H.getStyle(tdArr[i],"border-bottom-width"),10);_131-=(this.embeddedCalendarStyleObj["top"]+this.embeddedCalendarStyleObj["bottom"]);var _136=parseInt(tdArr[i].getAttribute("colindex"),10);if(!this.embeddedWidthObj[_136]||this.embeddedWidthObj[_136]["isChanged"]){this.embeddedWidthObj[_136]={isChanged:false,width:tdArr[i].clientWidth};}_132=this.embeddedWidthObj[_136]["width"];_132-=(this.embeddedCalendarStyleObj["left"]+this.embeddedCalendarStyleObj["right"]);if(_133){tdArr[i].parentNode.style.display="none";}else{if($W._G.isIE("6 7")){_131-=2;}}_13b.setSize(_132-2,_131);}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aS.prototype.applyCellStyleOptions=function(_13c,_13d,_13e){["WebSquare.uiplugin.drawController.prototype.applyCellStyleOptions"];try{var _13f=_13c;if(this.rowIndex>=0){if(this.options.fixedRow>0&&this.options.fixedRow>_13c){}else{_13f-=this.rowIndex;}}if(_13f<0||_13f>=this.drawedRowLength){return;}var td=this.data_td_list[_13f*this.oneRowDataLength+_13d];if(td){var _141=[];var _142=false;var _143;var _144;if(typeof _13d=="number"){_143=_13d;_144=this.cellIdList[_13d];}else{_143=this.bodyIdColIndexMap[_13d];_144=_13d;}var _145;if(this._linkedDataList){_145=this._linkedDataList.filteredRowIndexArr[_13c];}else{if(this.groupbyStatus.grouped){var _146=true;for(var key in this._grid.customFilterStatusObj){if(this._grid.customFilterStatusObj[key]){_145=this._dataList.filteredRowIndexArr[_13c];_146=false;break;}}if(_146){_145=this.groupbyStatus.groupedRowIndexArr[_13c];}}else{_145=this._dataList.filteredRowIndexArr[_13c];}}var _148=this.cellInfoHash[_144]||{"options":{}};if(_148.options.textAlign!=""){_141.push("text-align:"+_148.options.textAlign);}if(this.options.adjustAlign!=""){if(_148.options.textAlign=="left"){_141.push("padding-left:"+this.options.adjustAlign+"px");}}var _149=null;var _14a=null;if(_145!=null){_149=(typeof _145=="number")?this.rowStyleArr[_145]:this.rowStyleArr[_145.type+"_"+_145.groupId];_14a=(typeof _145=="number")?this.cellStyleArr[_145*this.oneRowDataLength+_143]:this.cellStyleArr[_145.type+"_"+_145.groupId+"_"+_143];}if(_149!=null){_141.push(this.rowStyleValueObj[_149]["style"]);}var _14b=this.columnStyleValueObj[_143];if(_14b!=null){_141.push(this.columnStyleValueObj[_143]["style"]);}if(_14a!=null){_141.push(this.cellStyleValueObj[_14a]["style"]);}if(this.options.readOnlyBackgroundColor!=""&&typeof _145=="number"){var _14c=this._getEditReadOnly(_13c,_13d);if(_14c==true){_141.push(this.readOnlyTdStyle);td.readOnly=true;}else{td.readOnly=false;}}if(this.options.readOnlyBackgroundImg!=""||this.options.readOnlyBackgroundImgCSS!=""){var _14c=this._getEditReadOnly(_13c,_13d);if(_14c==true){_141.push(this.readOnlyTdImg);if(!this.options.readOnlyBackgroundImgCSS){if($W._G.isIE(8)||$W._G.isIE(6)||$W._G.isIE(7)){_141.push("filter: \"progid:DXImageTransform.Microsoft.AlphaImageLoader(enabled='true', src='"+this.options.readOnlyBackgroundImg+"', sizingMethod='scale')\"");_141.push("-ms-filter: \"progid:DXImageTransform.Microsoft.AlphaImageLoader(enabled='true', src='"+this.options.readOnlyBackgroundImg+"', sizingMethod='scale')\"");}}td.readOnly=true;}else{td.readOnly=false;}}td.disabled=false;var _14d=this.cellDisabledArr[_145*this.oneRowDataLength+_143];if(_14d!==true&&_14d!==false){var _14e=_148.options.disabled;var _14f=this.rowDisabledArr[_145];var _150=this.options.disabledPriority;if(_14f!==true&&_14f!==false){_14f="";}if(_150==="column"&&_14e!==""){_14d=_14e;}else{if(_150==="row"&&_14f!==""){_14d=_14f;}else{if(_14e+""==="true"||_14f+""==="true"){_14d=true;}else{if(_14e+""==="false"||_14f+""==="false"){_14d=false;}else{if(this.options.disabled!==""){_14d=this.options.disabled;}else{_14d=false;}}}}}}if(_14d===true||_14d==="true"){_141.push(this.disabledTdStyle);if(this.disabledCellStyleObj&&this.disabledCellStyleObj[_13c+"_"+_13d]&&this.disabledCellStyleObj[_13c+"_"+_13d]["style"]){_141.push(this.disabledCellStyleObj[_13c+"_"+_13d]["style"]);}}if(!_13e&&this.options.selectedRowColor!="transparent"){if(this.options.focusMode=="row"||this.options.focusMode=="both"){for(var j=0;j<this.focusedCell.length;j++){if(_13c==this.focusedCell[j].focusedRowIndex){_141.push("background-color:"+this.options.selectedRowColor);_142=true;break;}}}}if(!_13e&&this.options.selectedCellColor!="transparent"){if(this.options.focusMode=="cell"||this.options.focusMode=="both"){for(var j=0;j<this.focusedCell.length;j++){if(_13c==this.focusedCell[j].focusedRowIndex&&_13d==this.focusedCell[j].focusedColIndex){_141.push("background-color:"+this.options.selectedCellColor);_142=true;break;}}}}if(td.style.display=="none"){_141.push("display:none");}var _152=_141.join(";");var _153=td.style.borderBottomWidth;if(_152!=td.getAttribute("style_bak")||this.groupbyStatus.grouped){td.style.cssText=_152;}if(this.isColMerge&&_148.options.colMerge){td.setAttribute("colMerged","0");var _154=this.drawColMergeCellData(_13f,_13c,_13d);if(this.options.senseReader&&_153&&_153.indexOf("px")!=-1){td.style.borderBottomWidth=_153;}if(_154==="mergeCellBackgroundColor"&&!_142){var _155=this.getCellStyleValue(_13c-1,_144,"background-color",true);var _156;if(_155!=""){_156=_155;}else{if(_13c%2){_156=this.options.oddRowBackgroundColor;}else{_156=this.options.evenRowBackgroundColor;}}td.style.backgroundColor=_156;this.setCellStyle(_13c,_144,"background-color",_156,true);}}td.setAttribute("style_bak",_152);td.setAttribute("or_bgColor",td.style.backgroundColor);if(this.cellReadOnlyArr[_145*this.oneRowDataLength+_13d]){td.setAttribute("readonly","true");}else{if(this.cellReadOnlyArr[_145*this.oneRowDataLength+_13d]===false){td.setAttribute("readonly","false");}else{td.removeAttribute("readonly");}}if(_148.options.disabledClass!=""){if(_14d===true||_14d==="true"){this.addClass(td,_148.options.disabledClass);}else{this.removeClass(td,_148.options.disabledClass);}}if(this.options.hiddenClass!=""||_148.options.hiddenClass!=""){var _157=this.options.hiddenClass;if(_148.options.hiddenClass!=""){_157=_148.options.hiddenClass;}var _158=this._getRealColIndex("body",_148.options.col_id)+this.defaultColCnt;if(this.hiddenList[_158]){this.addClass(td,_157);}else{this.removeClass(td,_157);}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aS.prototype.dynamicMergeHTML=function(){["WebSquare.uiplugin.drawController.prototype.dynamicMergeHTML"];try{for(var _159 in this.tdMergeInfo){var _15a=this.data_td_list[_159];if(this.tdMergeInfo[_159].orgColSpan>1){_15a.setAttribute("colSpan",this.tdMergeInfo[_159].orgColSpan);}else{_15a.removeAttribute("colSpan");}if(this.tdMergeInfo[_159].orgRowSpan>1){_15a.setAttribute("rowSpan",this.tdMergeInfo[_159].orgRowSpan);}else{_15a.removeAttribute("rowSpan");}_15a.style.display=this.tdMergeInfo[_159].display;delete this.tdMergeInfo[_159];}for(var _15b in this.cellMergeInfo){var _15c=_15b.split("_");var _15d=Number(_15c[0]);var _15e=Number(_15c[1]);var _15f=_15d;if(this.rowIndex>=0){if(this.options.fixedRow>0&&this.options.fixedRow>_15d){}else{_15f-=this.rowIndex;}}var _160=this.cellMergeInfo[_15b].rowSpan;var _161=this.cellMergeInfo[_15b].colSpan;var _162=_160;if((_15f<0&&_15f+_160<=0)||_15f>=this.drawedRowLength){continue;}if(_15f<0&&_15f+_160>0){_162=_15f+_160;_15f=0;}if(_15f+_160>this.drawedRowLength){_162=this.drawedRowLength-_15f;}for(var i=0;i<_162;i++){for(var j=0;j<_161;j++){var _159=(_15f+i)*this.oneRowDataLength+(_15e+j);var _15a=this.data_td_list[_159];if(_15a==undefined){continue;}this.tdMergeInfo[_159]={"orgColSpan":_15a.getAttribute("colSpan"),"orgRowSpan":_15a.getAttribute("rowSpan"),"display":_15a.style.display};if(i===0&&j===0){if(_161>1){_15a.setAttribute("colSpan",_161);}else{_15a.removeAttribute("colSpan");}if(_162){_15a.setAttribute("rowSpan",_162);}else{_15a.removeAttribute("rowSpan");}_15a.style.display="";}else{_15a.removeAttribute("colSpan");_15a.removeAttribute("rowSpan");_15a.style.display="none";}}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aS.prototype.createSubtotalRows=function(){["WebSquare.uiplugin.drawController.prototype.createSubtotalRows"];var rows=[];for(var _166 in this.subtotalTableList){var _167=this.subtotalRowHash[_166];if(_167==null){_167=[];}var _168=this.subtotalTableList[_166];for(var i=0;i<_168.rows.length;i++){var _16a=_168.rows[i].cloneNode(true);_16a.style.display="none";_167.push(_16a);rows.push(_16a);}this.subtotalRowHash[_166]=_167;}return rows;};$W._a.aS.prototype.addBodyRow=function(_16b,_16c){["WebSquare.uiplugin.drawController.prototype.addBodyRow"];var _16d=new RegExp("(^|\\s)"+this.options.bodyTdClass+"_rowNumber(\\s|$)");var _16e=new RegExp("(^|\\s)"+this.options.bodyTdClass+"_rowStatus(\\s|$)");var _16f=new RegExp("(^|\\s)"+this.options.bodyTdClass+"_data(\\s|$)");var idx=0;var _171=0;for(var i=0;i<_16c.length;i++){this.dataRowList.push(_16c[i]);_16c[i].className="grid_body_row";var _173=_16c[i].getElementsByTagName("td");for(var j=0;j<_173.length;j++){var _175=_173[j];var _176=_175.className;_175.setAttribute("tdIndex",_16b*this.realRowDataLength+idx);_175.removeAttribute("title");var _177=_175.getAttribute("width");if(_177){_175.removeAttribute("width");_175.setAttribute("or_wd",_177);}idx++;this.all_data_td_list.push(_175);if(_16d.test(_176)){this.data_num_td_list.push(_175);}else{if(_16e.test(_176)){this.data_status_td_list.push(_175);}else{if(!this.hasSubtotal||_16f.test(_176)){this.data_td_list.push(_175);var _178=this.id+"_columnstyle_"+_171+"_";this.addClass(_175,_178);var _179=_175.getAttribute("col_id");var _17a=this.getCellInfo(_179);this.addClass(_175,_17a.options.className);_175.style.cssText=(_17a.options.textAlign=="")?"":"text-align:"+_17a.options.textAlign+";";_175.setAttribute("id",this.id+"_cell_"+_16b+"_"+_171);_171++;if(this.options.focusFlow=="linear"&&this.options.focusMode!="none"){if(!_17a.options.embeddedInput){if(_17a.options.inputType!="link"&&_17a.options.inputType!="button"&&_17a.options.inputType!="image"&&_17a.options.inputType!="user"&&_17a.options.tableRender!="ul"){if(_17a.options.inputType=="expression"&&this.options.senseReader==true){}else{_175.setAttribute("tabIndex","0");}}this.event.addListener(_175,"onfocus",this.event.bindAsEventListener(this,this.handleTdFocus));}}}}}}}var _17b=[];if(!this.options.duplicateColumnId){for(var i=0;i<_16c.length;i++){var _173=_16c[i].getElementsByTagName("td");var _17c=[];for(var j=0;j<_173.length;j++){_17c[j]=_173[j];}for(var j=0;j<_17c.length;j++){var _176=_17c[j].className;if(!_16d.test(_176)&&!_16e.test(_176)){_17b.push(_17c[j].parentNode.removeChild(_17c[j]));}}}for(var i=0;i<this.htmlInfo.body.rowArr.length;i++){for(var j=0;j<this.htmlInfo.body.rowArr[i].length;j++){var _17d=this.htmlInfo.body.rowArr[i][j].col_id;for(var k=0;k<_17b.length;k++){if(_17b[k].getAttribute("col_id")==_17d){_16c[i].appendChild(_17b[k]);break;}}}}}};$W._a.aS.prototype.addBodyRow2=function(_17f,_180){["WebSquare.uiplugin.drawController.prototype.addBodyRow"];var _181=new RegExp("(^|\\s)"+this.options.bodyTdClass+"_rowNumber(\\s|$)");var _182=new RegExp("(^|\\s)"+this.options.bodyTdClass+"_rowStatus(\\s|$)");var _183=new RegExp("(^|\\s)"+this.options.bodyTdClass+"_data(\\s|$)");var _184=[];for(var i=0;i<_180.length;i++){this.dataRowList.push(_180[i]);_180[i].className="grid_body_row";var _186=_180[i].getElementsByTagName("td");for(var j=0;j<_186.length;j++){var _188=_186[j];var _189=_188.className;var _18a=parseInt(_188.getAttribute("tdIndex"),10);var _18b=_18a%this.realRowDataLength;_188.setAttribute("tdIndex",_17f*this.realRowDataLength+_18b);_188.removeAttribute("title");var _18c=_188.getAttribute("width");if(_18c){_188.removeAttribute("width");_188.setAttribute("or_wd",_18c);}if(_181.test(_189)){this.data_num_td_list.push(_188);this.all_data_td_list.push(_188);}else{if(_182.test(_189)){this.data_status_td_list.push(_188);this.all_data_td_list.push(_188);}else{if(!this.hasSubtotal||_183.test(_189)){var _18d=_18b-this.defaultColCnt;_184[_18d]=_188;var _18e=this.id+"_columnstyle_"+_18d+"_";this.addClass(_188,_18e);var _18f=_188.getAttribute("col_id");var _190=this.getCellInfo(_18f);this.addClass(_188,_190.options.className);_188.style.cssText=(_190.options.textAlign=="")?"":"text-align:"+_190.options.textAlign+";";_188.setAttribute("id",this.id+"_cell_"+_17f+"_"+_18d);_18d++;if(this.options.focusFlow=="linear"&&this.options.focusMode!="none"){if(!_190.options.embeddedInput){if(_190.options.inputType!="link"&&_190.options.inputType!="button"&&_190.options.inputType!="image"){_188.setAttribute("tabIndex","0");}this.event.addListener(_188,"onfocus",this.event.bindAsEventListener(this,this.handleTdFocus));}}}}}}}[].push.apply(this.all_data_td_list,_184);[].push.apply(this.data_td_list,_184);};$W._a.aS.prototype.addRows=function(_191){["WebSquare.uiplugin.drawController.prototype.addRows"];var _192=this.drawedRowLength;var rows=[];for(var i=0;i<_191;i++){var _195=[];for(var j=0;j<this.oneRowLength;j++){var _197=this.tempTr.rows[j].cloneNode(true);rows.push(_197);}this.addBodyRow(_192+i,_195);if(this.hasSubtotal){rows=rows.concat(this.createSubtotalRows());}}var _198=this.getElementById(this.id+"_body_tbody");for(var i=0;i<rows.length;i++){_198.appendChild(rows[i]);}};$W._a.aS.prototype.notifyStatusChanged=function(_199){["WebSquare.uiplugin.drawController.prototype.notifyStatusChanged"];var from;var to;var _19c=false;if(typeof _199.rowIndex=="object"){from=0;to=_199.rowIndex.length;_19c=true;}else{if(_199.rowIndex=="all"){from=0;to=this.getRowCount();}else{if(typeof _199.startIndex=="number"&&typeof _199.endIndex=="number"){from=_199.startIndex;to=_199.endIndex;}}}for(var i=from;i<to;i++){var row;if(_19c){row=_199.rowIndex[i];}else{row=i;}if(this.rowStatusColIDArr!=null){for(var k=0;k<this.rowStatusColIDArr.length;k++){var _1a0=this.getColumnIndex(this.rowStatusColIDArr[k]);this.drawCellData(row-this.rowIndex,row,_1a0);}}}};;WebSquare.uiplugin.drawController=$W._a.aS;$W._a._g=function(){["WebSquare.uiplugin.cellController"];};$W._a._g.prototype.setCellInfo=function(){["WebSquare.uiplugin.cellController.prototype.setCellInfo"];var _1=this.tempDiv.getElementsByTagName("td");for(var i=0;i<_1.length;i++){var _3=_1[i].getAttribute("inputType");if(_3=="drilldown"){this.isDrillDown=true;this.depthColumn=_1[i].getAttribute("depthColumn");this.showDepth=_1[i].getAttribute("showDepth");if(!this._dataList.options.depthColumn&&(this.options.pluginName!="grid"||this.options.drilldownRealRowIndex)){this._dataList.options.depthColumn=this.depthColumn;}}}};$W._a._g.prototype.setDataListCellInfo=function(){["WebSquare.uiplugin.cellController.prototype.setDataListCellInfo"];if(this.successBinding){var _4=this.getColCnt();for(var i=0;i<_4;i++){var _6=this.getColumnID(i);var _7=this.getCellInfo(_6);if(_7&&_7.options&&_7.options.importExp){var _8=this._dataList.getCellInfo(_6);if(_8&&_8.options&&!_8.options.importExp){_8.options.importExp=_7.options.importExp;}}}}};$W._a._g.prototype.setInnerHTML=function(td,_a,_b){["WebSquare.uiplugin.cellController.prototype.setInnerHTML"];var _c=this.getColumnID(_b);var _d=this.dataList.getCellData(_a,_c);var _e=this.cellInfoHash[this.tdIdList[_b]];if(_d===""){if(_e.options.groupName){var _f=this.dataList.getCellData(_a,_e.options.groupName);if(_f==_e.options.groupValue){_d=_e.options.trueValue;}else{_d=_e.options.falseValue;}}else{_d=_e.options.defaultValue;}}_e.setInnerHTML(td,_d,_a,_b);if(_e.options.disabledClass!=""){if(this.getEditDisabled(_a,_b)){this.addClass(td,_e.options.disabledClass);}else{this.removeClass(td,_e.options.disabledClass);}}if(this.options.hiddenClass!=""||_e.options.hiddenClass!=""){var _10=this.options.hiddenClass;if(_e.options.hiddenClass!=""){_10=_e.options.hiddenClass;}var _11=this._getRealColIndex("body",_c)+this.defaultColCnt;if(this.hiddenList[_11]){this.addClass(td,_10);}else{this.removeClass(td,_10);}}};$W._a._g.prototype.getCellInfo=function(td){["WebSquare.uiplugin.cellController.prototype.getCellInfo"];try{var _13="";if(typeof td=="string"){_13=td;}else{if(typeof td=="number"){_13=this.tdIdList[td];}else{_13=td?td.getAttribute("col_id"):null;}}return this.cellInfoHash[_13]||{options:{}};}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._g.prototype._endEdit=function(){["WebSquare.uiplugin.cellController.prototype._endEdit"];if(this.editedCell!=null){this.editedCell.handleEndEdit();}};$W._a._g.prototype.initColumns=function(){["WebSquare.uiplugin.cellController.prototype.initColumns"];for(var _14 in this.cellInfoHash){var _15=this.cellInfoHash[_14];if(_15.options.inputType=="select"){_15.initializeCellInfo(_15.element);_15.style="";_15.comp=null;}if(this.options.initColumns){for(var _16 in _15.dynamicAttrInfo){var _17=_15.dynamicAttrInfo[_16];if(_17){_15.options[_16]=_17["originalValue"];if(_16=="displayFormat"||_16=="displayFormatter"){_15.initFormatter();}}}}}};$W._a._g.prototype.initHeaders=function(){["WebSquare.uiplugin.cellController.prototype.initHeaders"];for(var _18 in this.headerInfoHash){var _19=this.headerInfoHash[_18];if(_19.options.inputType=="checkbox"){this.setHeaderValue(_18,false);}}};$W._a._g.prototype._setCellInfo=function(_1a,td){["WebSquare.uiplugin.cellController.prototype._setCellInfo"];this.cellInfoHash2[_1a]=td;};$W._a._g.prototype.getColumnCount=function(){return this.tdIdList.length;};$W._a._g.prototype.getColumnID=function(_1c){if(typeof _1c=="string"){return _1c;}var _1d=this.tdIdList[_1c];if(_1d){return _1d;}else{return null;}};$W._a._g.prototype.getColumnIndex=function(_1e){if(typeof _1e=="number"){return _1e;}return this.bodyIdColIndexMap[_1e];};$W._a._g.prototype.getDisplayColumnIndex=function(_1f){if(typeof _1f=="number"){return _1f;}return this.colMoveIndexMap[_1f];};$W._a._g.prototype.setExpressionAssociation=function(_20,_21){["WebSquare.uiplugin.cellController.prototype.setExpressionAssociation"];try{if(this.expressionAssArr[_20]==null){this.expressionAssArr[_20]=[];}this.expressionAssArr[_20].push(_21);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._g.prototype.setCellEditMode=function(td,_23){["WebSquare.uiplugin.cellController.prototype.setCellEditMode"];this.hideTooltip();var _24=this.getCellInfo(td);this.editedCell=_24;this.rollbackCommitFlag=false;var _25=this.render.offsetWidth;var _26=this.render.offsetHeight;_24.setEditMode(td,_23);if(_25!==this.render.offsetWidth||_26!==this.render.offsetHeight){this.handleResize();_24.setEditMode(td,_23);}this.rollbackCommitFlag=true;};$W._a._g.prototype.setCellClickEdit=function(td){["WebSquare.uiplugin.cellController.prototype.setCellClickEdit"];var _28=this.getElemRowIndex(td);var _29=this.getCellInfo(td);if(_29.options.inputType=="custom"&&!_29.internal){_29=_29.cellManagerHashByRowIndex[_28]?_29.cellManagerHashByRowIndex[_28]:_29;}var ret=false;switch(_29.options.inputType){case "checkbox":case "radio":case "drilldown":ret=_29.handleClick(td,_28);}return ret;};$W._a._g.prototype.getInput=function(_2b,_2c){var _2d=_2b.options.inputType||"text";var _2e=_2b.options.embeddedInput;var _2f=this.getColumnOption(_2b.id,"dataType");var _30=(_2f=="bigDecimal")?true:false;if(_2e){var _31=_2c.getAttribute("id")+"_"+_2d;if(!this.fakeInput&&(_2d=="text"||_2d=="secret"||_2d=="calendar")){this.makeFakeInput=function(){this.fakeInput=new $W._a.aG(this.id+"_fakeInput",{style:"visibility:hidden;position:absolute;z-index:100;background-color:"+this.options.selectedCellColor,className:"w2grid_embedded_input",ioFormat:"$blank",ioFormatter:"$blank",displayFormat:"$blank",displayFormatter:"$blank",readOnly:"$blank",disabled:"$blank",useKeyupBlur:false,xmlEvents:[{name:"onmousedown",action:"script",param:{handler:function(e){_this.lastEvent=e;$W._c.stopEvent(e);var _33=this;setTimeout(function(){_33.lastInput.focus();},1);}}},{name:"oncontextmenu",action:"script",param:{handler:function(e){_this.lastEvent=e;}}},{name:"ondblclick",action:"script",param:{handler:function(e){_this.lastEvent=e;_this.hideFakeInput(this);$W._c.stopPropagation(e);_this.F2Mode=true;$W._A.setCaretPos(this.lastInput.render,this.lastInput.render.value.length);}}}]});this.fakeInput.setAction=function(){};this.fakeInput.writeTo(this.render);this.fakeInput.activate();this.fakeInput.render.parentNode.removeChild(this.fakeInput.render);var _36=null;this.showFakeInput=function(_37){var td=_37.render.parentNode;this.render.appendChild(this.fakeInput.render);if(!_36){var td0=this.all_data_td_list[0];_36=1-td0.offsetLeft;}var _3a=this.getElementById(this.id+"_dataLayer");this.fakeInput.setPosition(td.offsetLeft+_36-_3a.scrollLeft,td.offsetTop+_36-_3a.scrollTop);this.fakeInput.setSize(td.clientWidth,td.clientHeight);if($W._G.isIE()){this.fakeInput.setVerticalAlign();}this.fakeInput.lastInput=_37;var _3b=_37.getStyle("text-align");if(_3b){this.fakeInput.setStyle("text-align",_3b);}else{this.fakeInput.setStyle("text-align","");}};this.hideFakeInput=function(_3c){if(this.fakeInput.render.parentNode){this.fakeInput.render.parentNode.removeChild(this.fakeInput.render);}};};}}else{var _31=_2b.mainGridId+_2b.id;}var _3d=this.dom[_31];var _3e=this;if(!_3d){if((_2d=="text"||_2d=="secret")&&_2e){var _3f=_2b.options.title||"";var _40="text";var _41="w2grid_embedded_input";if(_2d=="secret"){_40="password";if($W._G.isIEAllVersion()){_41+=" w2grid_secret";}else{_41="w2grid_embedded_secret";}}var _42={className:_41,style:"$blank",ioFormat:"$blank",ioFormatter:"$blank",readOnly:"$blank",disabled:"$blank",hidden:"$blank",title:_3f,type:_40,adjustMaxLength:_2b.options.adjustMaxLength,useKeyupBlur:false,xmlEvents:[{name:"onmousedown",action:"script",param:{handler:function(e){var row=parseInt(this.render.getAttribute("rowIndex"),10);var col=this.render.parentNode.getAttribute("col_id");if(row-_3e.rowIndex>=_3e.lastIndex+1){$W._c.stopEvent(e);_3e.addGridScroll(1);_3e.setFocusedCell(row,col,true);return;}}}},{name:"onclick",action:"script",param:{handler:function(e){$W._c.stopPropagation(e);}}},{name:"oncopy",action:"script",param:{handler:function(e){$W._c.stopPropagation(e);}}},{name:"onpaste",action:"script",param:{handler:function(e){$W._c.stopPropagation(e);}}}]};_3d=new $W._a.aG(_31,$W.extend($W.extend({},_2b.options),_42));_2c.innerHTML="";_3d.writeTo(_2c);if(_2b.options.dataType=="number"){if(_2b.options.displayFormat==""){_3d.validator.addCommand(new $W._p.allowCharCommand("+\\-.0-9"));}else{_3d.validator.addCommand(new $W._p.numberCommand());}}if($W._G.isIE()){_3d.setVerticalAlign();}_3d.setVerticalAlign=function(){};var _49=$W._a.aG.prototype.handleBlurEventBasic;_3d.handleBlurEventBasic=function(e){var _4b=parseInt(this.render.getAttribute("rowindex"),10);var _4c=this.render.parentNode.getAttribute("col_id");var _4d=_3e._dataList.getColumnIndex(_4c);var _4e=_3e.getColumnIndex(_4c);var _4f=_3d.validator.validateString(this.getValue());var ret=$W._c.fireEvent(_3e,"oneditend",_4b,_4e,_4f,e);if(ret+""=="false"){_3e.editEndFlag=true;this.reFocus=true;if(_3e.fakeInput.lastInput==this){this.focus();}var _51=_3e.getLastFocusedCell();if(_51.focusedTd!=this.render.parentNode){_3e.setFocusedCell(_4b,_4c);}$W._c.stopEvent(e);return false;}_3e.editEndFlag=false;_49.call(this,e);var _52=_3e.getCellInfo(_4c);if(_52.options.dataType=="number"){var _53=_4f.wq_trim();if(_53==="."||_53==="-"||_53==="+"){_4f="";}}var _54=_3e._dataList.dataArr[_4b*_3e._dataList.getColumnCount()+_4d];_3e.dataList.setCellData(_4b,_4c,_4f);_4f=_3e._dataList.getCellData(_4b,_4c);if(_52.options.applyFormat!="all"&&!this.options.displayFormat){_4f=_52.getDisplayData(_4f);}this.setValue(_4f);var ret=$W._c.fireEvent(_3e,"onafteredit",_4b,_4e,_4f,_3e.lastEvent);if(_54!=_4f){$W._c.fireEvent(_3e,"onviewchange",{"oldValue":_54,"newValue":_4f,"rowIndex":_4b,"colIndex":_4e});}_3e.hideFakeInput(_3d);_3e.F2Mode=false;};var _55=$W._a.aG.prototype.handleFocusValueEventAdv;_3d.handleFocusValueEventAdv=function(e){if(_3e.editEndFlag&&_3e.fakeInput.lastInput!=this){$W._c.stopEvent(e);return false;}var _57=this.render.getAttribute("rowindex");var _58=this.render.parentNode.getAttribute("col_id");_3e.lastEvent=e;var _59=_3e.getLastFocusedCell();if(_59.focusedTd!=this.render.parentNode&&!_3e.focusedByApi){_3e.setFocusedCell(_57,_58);}var _5a=this.reFocus;_55.call(this,e);this.reFocus=_5a;_3e.focusedByApi=false;if(!this.reFocus){this.setValue(_3e._dataList.getCellData(_57,_58));_3e.showFakeInput(this);_3e.fakeInput.setValue(this.getValue());this.select();this.focus();if(_3e.fakeInput.render.parentNode){var _5b=_3e.getColumnIndex(_58);var _5c=$W._c.fireEvent(_3e,"onbeforeedit",_57,_5b,_3e._dataList.getCellData(_57,_5b));}}_3e.F2Mode=false;this.reFocus=false;};var _5d=$W._a.aG.prototype.handleKeydownEvent;_3d.handleKeydownEvent=function(e){_3e.lastEvent=e;_5d.call(this,e);switch(e.keyCode){case 46:if(!_3e.F2Mode&&_3e.fakeInput.render.parentNode){this.setValue("");_3e.fakeInput.setValue("");}$W._c.stopPropagation(e);return;case 27:_3e.F2Mode=false;_3e.showFakeInput(this);this.setValue(_3e.getCellData(_3e.getFocusedRowIndex(),_3e.getFocusedColumnIndex()));this.select();$W._c.stopPropagation(e);return;case 113:_3e.F2Mode=true;$W._A.setCaretPos(this.render,this.render.value.length);_3e.hideFakeInput(this);$W._c.stopPropagation(e);return;case 9:var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match("w2inputCalendar_divInput")){$W._c.stopPropagation(e);break;}}return;}var _60=e.which||e.keyCode;if(_3e.nonCharKeys[_60]){return;}if(_60==32){$W._c.stopPropagation(e);return;}if(_3e.fakeInput.render.parentNode){var _61=this.render.getAttribute("rowindex");var _62=this.render.parentNode.getAttribute("col_id");var _63=_3e.getColumnIndex(_62);var _64=$W._c.fireEvent(_3e,"onbeforeedit",_61,_63,_3e.dataList.getCellData(_61,_63));_3e.hideFakeInput(this);}$W._c.stopPropagation(e);};_3d.activate();if(!this.fakeInput){this.makeFakeInput();}}else{if(_2d=="select"&&_2e){var _65=_2b.options.title||"";_3d=new $W._a._O(_31,{className:"w2grid_embedded_select",style:"$blank",pluginName:"selectbox",renderType:"native",title:_65,_scope_obj_uuid:_2b.options._scope_obj_uuid,xmlEvents:[{name:"onmousedown",action:"script",param:{handler:function(e){$W._c.stopPropagation(e);}}},{name:"onclick",action:"script",param:{handler:function(e){$W._c.stopEvent(e);}}},{name:"onkeydown",action:"script",param:{handler:function(e){switch(e.keyCode){case 38:case 40:case 27:$W._c.stopPropagation(e);return;}}}}]},_2b.xml);_2c.innerHTML=_3d.toHTML();var _69=$W._a._O.prototype.handleOnchange;_3d.handleOnchange=function(e){var _6b=this.render.parentNode.getAttribute("col_id");var _6c=parseInt(this.render.getAttribute("rowindex"),10);var _6d=_3e.getColumnIndex(_6b);var _6e=this.selectedIndex;var _6f=this.getValue();_69.call(this,e);_3e.dataList.setCellData(_6c,_6b,this.getValue());_3e._dataList.setRowPosition(_6c);if(_6e!=this.selectedIndex){var _70={"oldValue":_6f,"newValue":this.getValue(),"oldSelectedIndex":_6e,"newSelectedIndex":this.selectedIndex,"rowIndex":_6c,"colIndex":_6d};$W._c.fireEvent(_3e,"onviewchange",_70);}$W._c.fireEvent(_3e,"onafteredit",_6c,_6d,this.getValue(),e);};_3d.activate();var _71=_3d.uuid;_3d.event.addListener2(_3d.dom.select,"onfocus",function(e){_3e.lastEvent=e;var _73=$W.idCache[_71];var _74=_3e.getLastFocusedCell();if(_74.focusedTd!=_73.render.parentNode&&!_3e.focusedByApi){_3e.setFocusedCell(_73.render.getAttribute("rowindex"),_73.render.parentNode.getAttribute("col_id"));}_3e.focusedByApi=false;});}else{if(_2d=="checkbox"&&_2e){var _75;if(_2b.options.checkboxLabel||_2b.options.checkboxLabelColumn||_2b.options.checkboxLabelFormatter){var _76=this.getElemRowIndex(_2c);var _77=_2b.mainGridId+"_checkbox_"+_2b.id;var _78=_77+"_"+_76;var _79=_2b.options.checkboxLabel||"";if(_2b.options.checkboxLabelColumn){var _7a=_2b.options.checkboxLabelColumn.split(",");var _7b="";for(var i=0;i<_7a.length;i++){if(i===_7a.length-1){_7b+=this.getCellDisplayData(_76,_7a[i]);}else{_7b+=this.getCellDisplayData(_76,_7a[i])+",";}}_79=_7b+_79;}if(_2b.options.checkboxLabelFormatter){try{var _7d=$W._G.getGlobalFunction(_2b.options.checkboxLabelFormatter,_2b._scopeId);_79=_7d.call(this,_76,this.getColumnIndex(_2b.colID),_79);}catch(e){$W.logger.printLog(this.id+"_"+_2b.id+" checkboxLabelFormatter error : "+e.message);}}_75="<INPUT style='border-width:0px;' type='checkbox' class='w2grid_embedded_check' "+" id='"+_78+"' name='"+_77+"'/>";var _7e="<label class='w2checkbox_label ' for='"+_78+"'>"+_79+"</label>";if(_2b.options.checkboxLabelPosition==="left"){_75=_7e+_75;}else{_75=_75+_7e;}}else{_75="<INPUT style='border-width:0px;' type='checkbox' class='w2grid_embedded_check' />";}_2c.innerHTML=_75;var _3d=_2c.getElementsByTagName("input")[0];if(_2b.options.title){_3d.title=_2b.options.title;}this.event.addListener(_3d,"onfocus",this.event.bindAsEventListener(this,function(e){var _80=$W._c.getTarget(e);this.lastEvent=e;var _81=this.getLastFocusedCell();if(_81.focusedTd!=_80.parentNode&&!this.focusedByApi){this.setFocusedCell(_80.getAttribute("rowindex"),_80.parentNode.getAttribute("col_id"));}this.focusedByApi=false;}));}else{if(_2d=="radio"&&_2e){var _75;if(_2b.options.radioLabel||_2b.options.radioLabelColumn||_2b.options.radioLabelFormatter){var _76=this.getElemRowIndex(_2c);var _82=_2b.mainGridId+"_radio_"+_2b.id;var _83=_82+"_"+_76;var _84=_2b.options.radioLabel||"";if(_2b.options.radioLabelColumn){var _7a=_2b.options.radioLabelColumn.split(",");var _7b="";for(var i=0;i<_7a.length;i++){if(i===_7a.length-1){_7b+=this.getCellDisplayData(_76,_7a[i]);}else{_7b+=this.getCellDisplayData(_76,_7a[i])+",";}}_84=_7b+_84;}if(_2b.options.radioLabelFormatter){try{var _85=$W._G.getGlobalFunction(_2b.options.radioLabelFormatter,_2b._scopeId);_84=_85.call(this,_76,this.getColumnIndex(_2b.colID),_84);}catch(e){$W.logger.printLog(this.id+"_"+_2b.id+" radioLabelFormatter error : "+e.message);}}_75="<INPUT style='border-width:0px;' type='radio' class='w2grid_embedded_radio' "+" id='"+_83+"' name='"+_82+"'/>";var _7e="<label class='w2radio_label ' for='"+_83+"'>"+_84+"</label>";if(_2b.options.radioLabelPosition==="left"){_75=_7e+_75;}else{_75=_75+_7e;}}else{var _86=_2b.mainGridId+"_radio_"+_2b.id;_75="<INPUT style='border-width:0px;' type='radio' name='"+_86+"' class='w2grid_embedded_radio' />";}_2c.innerHTML=_75;var _3d=_2c.firstChild;if(_2b.options.title){_3d.title=_2b.options.title;}this.event.addListener(_3d,"onfocus",this.event.bindAsEventListener(this,function(e){var _88=$W._c.getTarget(e);this.lastEvent=e;var _89=this.getLastFocusedCell();if(_89.focusedTd!=_88.parentNode&&!this.focusedByApi){this.setFocusedCell(_88.getAttribute("rowindex"),_88.parentNode.getAttribute("col_id"));}this.focusedByApi=false;}));}else{if(_2d=="calendar"&&_2e){var _3f=_2b.options.title||"";var _8a=_2b.options.ioFormat;var _8b={style:"width:0px; height:0px;",delimiter:"$blank",calendarValueType:_2b.options.calendarValueType,calendarClass:_2b.options.calendarClass||"class1",ioFormat:_8a,ioFormatter:"$blank",displayFormat:_2b.options.displayFormat||_8a,displayFormatter:"$blank",footerDiv:true,renderDiv:true,keepFocusSelect:true,focusOnOuterDiv:true,renderType:"native",readOnly:"$blank",disabled:"$blank",title:_3f,validCheck:false,_scope_obj_uuid:_2b.options._scope_obj_uuid,senseReader:_2b.options.senseReader,xmlEvents:[{name:"onclick",action:"script",param:{handler:function(e){$W._c.stopPropagation(e);}}},{name:"onafterviewchange",action:"script",param:{handler:function(_8d){var _8e=parseInt(this.render.getAttribute("rowindex"),10);var _8f=_3e.getColumnIndex(this.render.parentNode.getAttribute("col_id"));if(_8d.oldValue!=_8d.newValue){$W._c.fireEvent(_3e,"onviewchange",{"oldValue":_8d.oldValue,"newValue":_8d.newValue,"rowIndex":_8e,"colIndex":_8f});}}}},{name:"ondateselect",action:"script",param:{handler:function(_90,_91){if(this.options.senseReader){}else{this.dom.input.blur();}var _92=this.render.getAttribute("rowindex");var _93=this.render.parentNode.getAttribute("col_id");var _94=_3e.getColumnIndex(_93);var _95=_3d.validator.validateString(this.getValue());var _96=_3e.getCellInfo(_93);_3e.dataList.setCellData(_92,_93,_95);}}},{name:"onconfirm",action:"script",param:{handler:function(){if(this.options.senseReader){}else{this.dom.input.blur();}var _97=this.render.getAttribute("rowindex");var _98=this.render.parentNode.getAttribute("col_id");var _99=_3e.getColumnIndex(_98);var _9a=_3d.validator.validateString(this.getValue());var _9b=_3e.getCellInfo(_98);_3e.dataList.setCellData(_97,_98,_9a);}}}]};var _3d=new $W._a._l(_31,_8b,_2b.element);try{if(_2b.element&&typeof _2b.element.getAttribute!="undefined"&&!_2b.element.getAttribute("dateValidCheck")){_3d.options.dateValidCheck=$W._N.getConfiguration("/WebSquare/grid/column[@inputType=\"calendar\"]/dateValidCheck/@value")||"false";}}catch(e){$W.exception.printStackTrace(e,null,this);}_2c.innerHTML="";_3d.writeTo(_2c);if(_8a!=_3d.options.ioFormat){_2b.options.ioFormat=_3d.options.ioFormat;_2b.initFormatter();}_3d.setVerticalAlign=function(){};_3d.handleKeyupEvent=function(){};var _9c=$W._a._l.prototype.handleFocusEvent;_3d.handleFocusEvent=function(e){if(_3e.editEndFlag&&_3e.fakeInput.lastInput!=this){$W._c.stopEvent(e);return false;}var _9e=this.render.getAttribute("rowindex");var _9f=this.render.parentNode.getAttribute("col_id");_3e.lastEvent=e;var _a0=_3e.getLastFocusedCell();if(_a0.focusedTd!=this.render.parentNode&&!_3e.focusedByApi){_3e.setFocusedCell(_9e,_9f);}_9c.call(this,e);_3e.focusedByApi=false;if(!this.reFocus){_3e.showFakeInput(this);_3e.fakeInput.setValue(this.getValue());this.select();this.focus();if(_3e.fakeInput.render.parentNode){var _a1=_3e.getColumnIndex(_9f);var _a2=$W._c.fireEvent(_3e,"onbeforeedit",_9e,_a1,_3e._dataList.getCellData(_9e,_a1));}}_3e.F2Mode=false;this.reFocus=false;};var _a3=$W._a._l.prototype.handleKeyEvent;_3d.handleKeyEvent=function(e){_3e.lastEvent=e;_a3.call(this,e);switch(e.keyCode){case 46:if(!_3e.F2Mode&&_3e.fakeInput.render.parentNode){this.setValue("");_3e.fakeInput.setValue("");}$W._c.stopPropagation(e);return;case 27:_3e.F2Mode=false;_3e.showFakeInput(this);this.setValue(_3e.getCellData(_3e.getFocusedRowIndex(),_3e.getFocusedColumnIndex()));this.select();$W._c.stopPropagation(e);return;case 113:_3e.F2Mode=true;$W._A.setCaretPos(this.render,this.render.value.length);_3e.hideFakeInput(this);$W._c.stopPropagation(e);return;case 9:var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match("w2inputCalendar_divInput")){$W._c.stopPropagation(e);break;}}return;}var _a6=e.which||e.keyCode;if(_3e.nonCharKeys[_a6]){return;}if(_a6==32){$W._c.stopPropagation(e);return;}if(_3e.fakeInput.render.parentNode){_3e.hideFakeInput(this);}$W._c.stopPropagation(e);};var _a7=$W._a._l.prototype.handleBlurEvent;_3d.handleBlurEvent=function(e){var _a9=this.render.getAttribute("rowindex");var _aa=this.render.parentNode.getAttribute("col_id");var _ab=_3e.getColumnIndex(_aa);var _ac=_3d.validator.validateString(this.getValue());var _ad=$W.historyManager.get(this.options.pluginName,this.id);var _ae;if(_ad){_ae=_ad.value;}var ret=$W._c.fireEvent(_3e,"oneditend",_a9,_ab,_ac,e);if(ret+""=="false"){_3e.editEndFlag=true;this.reFocus=true;if(_3e.fakeInput.lastInput==this){this.focus();}var _b0=_3e.getLastFocusedCell();if(_b0.focusedTd!=this.render.parentNode){_3e._dataList.setFocusedCell(_a9,_aa);}$W._c.stopEvent(e);return false;}_3e.editEndFlag=false;_a7.call(this,e);var _b1=_3e.getCellInfo(_aa);_3e.dataList.setCellData(_a9,_aa,_ac);_ac=_3e._dataList.getCellData(_a9,_aa);if(_b1.options.applyFormat!="all"&&!this.options.displayFormat){_ac=_b1.getDisplayData(_ac);}this.setValue(_ac);$W._c.fireEvent(this,"onafterviewchange",{"oldValue":_ae,"newValue":_ac});var ret=$W._c.fireEvent(_3e,"onafteredit",_a9,_ab,_ac,_3e.lastEvent);_3e.F2Mode=false;};_3d.setStyle("z-index","10");_3d.activate();if(!this.fakeInput){this.makeFakeInput();}}else{if(_2d=="text"||_2d=="textImage"||_2d=="drilldown"||_2d=="secret"){var _40="text";if(_2d=="secret"){_40="password";}if(_30){_2f="bigDecimal";}if(typeof _3f=="undefined"){_3f="";}var _42={style:"position:absolute;display:none;border:1px solid "+this.options.selectedCellColor+";outline:none;z-index:10;",ioFormat:"$blank",ioFormatter:"$blank",displayFormat:_2b.options.applyFormat=="all"?"":"$blank",displayFormatter:"$blank",readOnly:"$blank",disabled:"$blank",title:_3f,type:_40,dataType:_2f,maxlength:_2b.options.maxLength||-1,adjustMaxLength:_2b.options.adjustMaxLength,useKeyupBlur:false,_scope_obj_uuid:_2b.options._scope_obj_uuid};if(_2b.internal){_42=$W.extend($W.extend(_42,_2b.initializeInfo.options));}_3d=new $W._a.aG(_31,_42,_2b.element);_3d.writeTo(this);_3d.event.addListener(_3d.render,"oncopy",this.event.bindAsEventListener(this,function(e){$W._c.stopPropagation(e);}));_3d.event.addListener(_3d.render,"onpaste",this.event.bindAsEventListener(this,function(e){$W._c.stopPropagation(e);}));_3d.activate();if(_2b.options.dataType=="number"){if(_2b.options.displayFormat==""){_3d.validator.addCommand(new $W._p.allowCharCommand("+\\-.0-9"));}else{_3d.validator.addCommand(new $W._p.numberCommand());}}_3d.setVerticalAlign=function(){};if(this.options.moveKeyEditMode){var _3e=this;var _b4={37:"left",38:"up",39:"right",40:"down"};_3d._handleKeydownEvent=_3d.handleKeydownEvent;_3d.handleKeydownEvent=function(e){this._handleKeydownEvent(e);var _b6=_b4[e.keyCode];if(_b6){var _b7=_3e.editedCell.editRowIndex;var _b8=_3e._dataList.getColumnIndex(_3e.editedCell.id);var _b9=_3e.getColumnIndex(_3e.editedCell.id);var _ba=_3e._grid.getRealRowIndex(_b7);var _bb=_3e._dataList.dataArr[_ba*_3e._dataList.getColumnCount()+_b8];switch(_b6){case "left":case "right":if(this.getValue().length==0||(_3e.options.arrowMove&&!_3e.getEditCursorEnable(e,_b6))){var ret=_3e.editedCell.handleEndEdit(e);if(ret+""!="false"){var _bd=_3e._dataList.dataArr[_ba*_3e._dataList.getColumnCount()+_b8];if(_bb!=_bd){$W._c.fireEvent(_3e,"onviewchange",{"oldValue":_bb,"newValue":_bd,"rowIndex":_b7,"colIndex":_b9});}_3e.moveHorizontal(false,_b6,true);}$W._c.stopEvent(e);}break;case "up":case "down":var ret=_3e.editedCell.handleEndEdit(e);if(ret+""!="false"){var _bd=_3e._dataList.dataArr[_ba*_3e._dataList.getColumnCount()+_b8];if(_bb!=_bd){$W._c.fireEvent(_3e,"onviewchange",{"oldValue":_bb,"newValue":_bd,"rowIndex":_b7,"colIndex":_b9});}_3e.moveVertical(false,_b6,true);}$W._c.stopEvent(e);break;}}};}}else{if(_2d=="textarea"){_3d=new $W._a.bk(_31,{style:"position:absolute;display:none;width:150px;height:60px;z-index:1000;resize:none;",className:"$blank",readOnly:"$blank",disabled:"$blank",maxlength:_2b.options.maxLength||-1,_scope_obj_uuid:_2b.options._scope_obj_uuid},_2b.element);_3d.writeTo(this);_3d.event.addListener(_3d.render,"oncopy",this.event.bindAsEventListener(this,function(e){$W._c.stopPropagation(e);}));_3d.event.addListener(_3d.render,"onpaste",this.event.bindAsEventListener(this,function(e){$W._c.stopPropagation(e);}));_3d.activate();}else{if(_2d=="calendar"){var _8a=_2b.options.ioFormat;var _8b={style:"position:absolute;display:none;border:1px solid "+this.options.selectedCellColor+";outline:none;",delimiter:"$blank",calendarValueType:_2b.options.calendarValueType,calendarClass:_2b.options.calendarClass||"class1",ioFormat:_8a,ioFormatter:"$blank",displayFormat:_2b.options.displayFormat||_8a,displayFormatter:"$blank",keepFocusSelect:true,focusOnOuterDiv:true,footerDiv:_2b.options.footerDiv,_scope_obj_uuid:_2b.options._scope_obj_uuid,readOnly:"$blank",disabled:"$blank",validCheck:false,renderDiv:true};if(_2b.internal){_8b=$W.extend($W.extend(_8b,_2b.initializeInfo.options));}var _3d=new $W._a._l(_31,_8b,_2b.element);try{if(_2b.element&&typeof _2b.element.getAttribute!="undefined"&&!_2b.element.getAttribute("dateValidCheck")){_3d.options.dateValidCheck=$W._N.getConfiguration("/WebSquare/grid/column[@inputType=\"calendar\"]/dateValidCheck/@value")||"false";}}catch(e){$W.exception.printStackTrace(e,null,this);}_3d.writeTo(this);_3d.event.addListener(_3d.render,"oncopy",this.event.bindAsEventListener(this,function(e){$W._c.stopPropagation(e);}));_3d.event.addListener(_3d.render,"onpaste",this.event.bindAsEventListener(this,function(e){$W._c.stopPropagation(e);}));if(_8a!=_3d.options.ioFormat){_2b.options.ioFormat=_3d.options.ioFormat;_2b.initFormatter();}_3d.activate();_3d.setVerticalAlign=function(){};_3d.handleKeyupEvent=function(){};_3d.setStyle("z-index","10");}}}}}}}}this.dom[_31]=_3d;if(_2e){this.adaptiveEmbeddedInputIdList.push(_31);}}return _3d;};$W._a._g.prototype.getTemporaryDataCollectionItemArr=function(_c2){["WebSquare.uiplugin.cellController.prototype.getTemporaryDataCollectionItemArr"];try{var _c3=[];var _c4=this.modelControl.getDataComp(_c2.dataCompID);if(_c4){switch(_c4.initializeType){case "linkedDataList":var _c5={};for(var i=0;i<_c4.filteredRowIndexArr.length;i++){var _c7=_c4.getRealRowIndex(i);var _c8=_c4._dataList.dataArr[_c7*_c4.cellIdList.length+_c4.bodyIdColIndexMap[_c2.itemsetObj.label]];var _c9=_c4._dataList.dataArr[_c7*_c4.cellIdList.length+_c4.bodyIdColIndexMap[_c2.itemsetObj.value]];if(_c5[_c8]==_c9){continue;}_c5[_c8]=_c9;_c3.push({label:_c8,value:_c9});}break;case "dataList":var _c5={};for(var i=0;i<_c4.filteredRowIndexArr.length;i++){var _c8=_c4.dataArr[_c4.filteredRowIndexArr[i]*_c4.cellIdList.length+_c4.bodyIdColIndexMap[_c2.itemsetObj.label]];var _c9=_c4.dataArr[_c4.filteredRowIndexArr[i]*_c4.cellIdList.length+_c4.bodyIdColIndexMap[_c2.itemsetObj.value]];if(_c5[_c8]==_c9){continue;}_c5[_c8]=_c9;_c3.push({label:_c8,value:_c9});}break;case "dataMap":var _c5={};for(var i=0;i<_c4._dataList.oneRowDataLength;i++){var _c8=_c4._dataList.dataArr[_c4.bodyIdColIndexMap[_c2.itemsetObj.label]];var _c9=_c4._dataList.dataArr[_c4.bodyIdColIndexMap[_c2.itemsetObj.value]];if(_c5[_c8]==_c9){continue;}_c5[_c8]=_c9;_c3.push({label:_c8,value:_c9});}break;}}return _c3;}catch(e){$W.exception.printStackTrace(e);}};$W._a._J=function(_ca,_cb,_cc){["WebSquare.uiplugin.cellInfo"];this.options={id:"",col_id:"",colIndex:"",colSpan:0,rowSpan:0,defaultValue:"",value:"",inputType:"text",useFilter:false,blockSelect:false,dataType:"",valueType:"binary",viewType:"",trueValue:null,falseValue:null,editType:"",applyFormat:"display",displayFormat:"",displayFormatter:"",chooseOptionLabel:"-\uc120\ud0dd-",chooseOptionValue:"",chooseOption:false,allOption:false,title:"",adjustMaxLength:false,depthColumn:"",showDepth:0,importExp:"",importFormatter:"",expression:"",colMerge:false,colMergeEdit:false,upperColumn:"",readOnly:"",imageWidth:"",imageHeight:"",imageClickFunction:"",imageSrc:"",imageSrcDisabled:"",imageSrcReadOnly:"",alt:"",calendarValueType:"yearMonthDate",disabled:"",textAlign:"",exportFormatter:"",imeMode:"",selectSetter:"",ignoreStatus:false,dateValidCheck:"true",embeddedInput:"",groupName:"",escape:"",setRecursive:false,showReadOnly:false,customFormatter:"",escapeFormatter:"",depthType:"nbsp",moveFocusByChoice:"",directItemChoice:"",focusOutOnCheckHeaderClick:true,usePartialCheck:true,footerDiv:false,displayRowIndex:false,NaNFormat:"NaN",disabledClass:"",hiddenClass:"",displayMode:"0",delimiter:"\t",skipKeyMoveEditMode:false,checkboxLabel:"",checkboxLabelPosition:"right",checkboxLabelColumn:"",checkboxLabelFormatter:"",radioLabel:"",radioLabelPosition:"right",radioLabelColumn:"",radioLabelFormatter:"",checkAlways:false,sortLabel:false,useIOFormatLength:false};this.internal=false;if(_ca.tagName.toUpperCase()=="TD"||_cc){this.internal=true;}this.mainGrid=_cb;this.mainGridId="G_"+this.mainGrid.id+"__";if(_ca){this.setOptions(_ca);}if(this.mainGrid.scope_obj!=undefined){this.options._scope_obj_uuid=this.mainGrid.scope_obj.uuid;this._scopeId=this.mainGrid.scope_obj.id;}if(this.options.value!=""&&this.options.defaultValue==""){this.options.defaultValue=this.options.value;}if(this.options.value==""&&this.options.defaultValue!=""){this.options.value=this.options.defaultValue;}this.colID=this.options.col_id;this.id=this.options.col_id;this.options.id=this.options.col_id;this.setController();this.initFormatter(_ca);this.initializeCellInfo(_ca,_cc);this.expressionStr=null;this.style="";this.heightGap=0;var _cd=$W._N.browserVersion();if($W._N.browserCheck.ie&&_cd!="8"){this.heightGap=2;}if(this.options.importExp!=""){this.options.importExp=this.options.importExp.replace(/[cC][oO][lL][\s]*[(]/g,"this.columnValue(obfuscator_rowXml, ");this.options.importExp=this.options.importExp.replace(/[xX][pP][aA][tT][hH][\s]*[(]/g,"this.xpathValue(obfuscator_rowXml, ");this.options.importExp=this.options.importExp.replace(/[rR][oO][wW][iI][nN][dD][eE][xX][\s]*[(]/g,"this.rowIndexValue(obfuscator_i");}if(this.options.colSpan==0){this.options.colSpan=1;}if(this.options.rowSpan==0){this.options.rowSpan=1;}if(_ca){var _ce=(this.options.groupName&&this.options.groupValue)?false:true;var _cf=this.options.inputType;var _d0=(_cf=="button"||_cf=="image")?false:true;if(_ce&&_d0&&this.mainGrid.successBinding){var _d1=!!(_cb._dataList.getCellInfo(this.id).element)?true:false;if(!_d1){this.options.readOnly=true;}}}var _d2=this.mainGrid.getColumnIndex(this.id);if(this.options.inputType=="radio"&&this.options.groupName){this.mainGrid.radioGroupRepChk[this.options.groupName]=true;}if(this.options.NaNFormat=="$blank"){this.options.NaNFormat="";}this.changedCellHeight=0;this.dynamicAttrInfo={};if(this.options.inputType=="custom"){this.mainGrid.hasCustomInputType=true;}if(this.options.inputType==="expression"&&this.options.expressionSort!=="true"){this.mainGrid.expressionHeaderInfo[this.mainGrid.bodyToHeaderRelation[this.id]]=true;}};$W._a._J.prototype.setOptions=function(_d3){var _d4=this.mainGrid.options.pluginName;var _d5=_d3.getAttribute("inputType")||"text";var _d6=_d3.getAttribute("calendarValueType")||this.options.calendarValueType;this.configOptions=$W.configManager.getConfig(_d4+"/column[@inputType='"+_d5+"']");if(_d5=="calendar"&&_d4=="grid"){this.configOptions.displayFormat=$W._N.getConfiguration("/WebSquare/grid/column[@inputType=\"calendar\"]/displayFormat[@valueType=\""+_d6+"\"]/@value")||$W._N.getConfiguration("/WebSquare/grid/column[@inputType=\"calendar\"]/displayFormat/@value");}else{if(_d5=="calendar"&&_d4=="gridView"){this.configOptions.displayFormat=$W._N.getConfiguration("/WebSquare/gridView/column[@inputType=\"calendar\"]/displayFormat[@valueType=\""+_d6+"\"]/@value")||$W._N.getConfiguration("/WebSquare/gridView/column[@inputType=\"calendar\"]/displayFormat/@value");}}this.options=$W.extendKeepingType(this.options,this.configOptions);var _d7=[];for(var _d8 in this.options){_d7[_d8.toLowerCase()]=_d8;}var _d9=_d3.attributes;for(var i=0;i<_d9.length;i++){var _db=_d9[i];var _dc=_db.name;var _dd=_db.value;if(_dc=="xmlns:w2"){continue;}if(_dc=="class"){this.options["className"]=_dd;}else{if((_dd).wq_trim()!=""){if(_d7[_dc]){_dc=_d7[_dc];}if(typeof this.options[_dc]=="boolean"){_dd=$W._G.getBoolean(_dd);}else{if(typeof this.options[_dc]=="number"){_dd=$W._G.getNumber(_dd);}}this.options[_dc]=_dd;}}}var _de=this.options.dataType;if(!_de&&this.mainGrid.successBinding){_de=this.mainGrid._dataList.getColumnOption(this.options.col_id,"dataType");}if(_de=="date"&&!this.options.displayFormat){this.options.displayFormat=$W._N.getConfiguration("/WebSquare/"+_d4+"/dataType/date/@displayFormat");}if(_de=="time"&&!this.options.displayFormat){this.options.displayFormat="HH:mm";}if(this.mainGrid.options.senseReader&&this.options.embeddedInput!=="false"){switch(this.options.inputType||"text"){case "secret":case "text":if(this.mainGrid.options.focusMode=="none"&&this.options.readOnly!="false"){this.options.readOnly=true;}case "select":case "checkbox":case "radio":case "calendar":this.options.embeddedInput=true;}}else{this.options.embeddedInput=$W._G.getBoolean(this.options.embeddedInput);}if(this.options.inputType=="textarea"){this.options.showReadOnly=true;}this.element=_d3;if(this.options.inputType=="expression"){var str=this.options.expression;if(str!=""){str=str.replace(/rowStatus[\s]*[(]/ig,"this.rowStatus(");if(str.match("rowStatus")){this.mainGrid.rowStatusColIDArr.push(this.options.col_id);}}}};$W._a._J.prototype.setController=function(){switch(this.options.inputType){case "text":$W.extend(this,$W._a._J.text.prototype);break;case "link":$W.extend(this,$W._a._J.link.prototype);break;case "checkbox":$W.extend(this,$W._a._J.checkbox.prototype);break;case "button":$W.extend(this,$W._a._J.button.prototype);break;case "image":$W.extend(this,$W._a._J.image.prototype);break;case "radio":$W.extend(this,$W._a._J.radio.prototype);break;case "select":$W.extend(this,$W._a._J.select.prototype);break;case "calendar":$W.extend(this,$W._a._J.calendar.prototype);break;case "textarea":$W.extend(this,$W._a._J.textarea.prototype);break;case "expression":$W.extend(this,$W._a._J.expression.prototype);break;case "drilldown":$W.extend(this,$W._a._J.text.prototype);$W.extend(this,$W._a._J.drilldown.prototype);break;case "textImage":$W.extend(this,$W._a._J.textImage.prototype);break;case "checkcombobox":$W.extend(this,$W._a._J.checkcombobox.prototype);break;case "autoComplete":$W.extend(this,$W._a._J.autoComplete.prototype);break;case "spinner":$W.extend(this,$W._a._J.spinner.prototype);break;case "custom":$W.extend(this,$W._a._J.custom.prototype);break;case "user":$W.extend(this,$W._a._J.user.prototype);break;default:$W.extend(this,$W._a._J.text.prototype);break;}};$W._a._J.prototype.setInnerHTML=function(td,_e1,_e2,_e3){td.innerHTML="<nobr>"+this.getDisplayData(_e1)+"</nobr>";};$W._a._J.prototype.setEditMode=function(td,_e5){this.mainGrid.editedCell=null;this.mainGrid.editMode=false;};$W._a._J.prototype.initFormatter=function(_e6){var _e7=this.options.dataType;if(!_e7&&this.mainGrid.successBinding){_e7=this.mainGrid._dataList.getColumnOption(this.options.col_id,"dataType");}if(!_e7&&this.options.expression){var exp=this.options.expression;exp=exp.replace(/[sS][uU][mM][\s]*[(]/g,"NUMBER(");exp=exp.replace(/[aA][vV][gG][\s]*[(]/g,"NUMBER(");exp=exp.replace(/[mM][aA][xX][\s]*[(]/g,"NUMBER(");exp=exp.replace(/[mM][iI][nN][\s]*[(]/g,"NUMBER(");exp=exp.replace(/rowStatus[\s]*[(]/ig,"NUMBER(");exp=exp.replace(/[cC][aA][lL][cC][\s]*[(]/g,"STRING(");exp=exp.replace(/[dD][iI][sS][pP][lL][aA][yY][\s]*[(]/g,"STRING(");if(exp.indexOf("NUMBER(")>-1){_e7="number";}else{if(exp.indexOf("STRING(")>-1){_e7="text";}}}if(_e7=="date"&&this.options.inputType=="calendar"&&!this.options.ioFormat){if(this.options.calendarValueType=="yearMonthDate"){this.options.ioFormat="yyyyMMdd";}else{if(this.options.calendarValueType=="yearMonth"){this.options.ioFormat="yyyyMM";}else{if(this.options.calendarValueType=="yearMonthDateTime"){this.options.ioFormat="yyyyMMddHHmm";}else{if(this.options.calendarValueType=="yearMonthDateTimeSec"){this.options.ioFormat="yyyyMMddHHmmSS";}}}}}this.formatter=$W._C.createFormatter(_e7,this.options.displayFormat,this.options.displayFormatter,this.options.ioFormat,null,null,this.mainGrid.scope_id);this.emptyFormatter=$W._C.createFormatter(_e7,"",null,null,null,null,this.mainGrid.scope_id);};$W._a._J.prototype.getDisplayData=function(_e9){if(this.formatter){_e9=this.formatter.format(_e9);}if(this.options.inputType=="secret"){_e9=_e9.replace(/./gi,"\u25cf");}return _e9;};$W._a._J.prototype.initializeCellInfo=function(){};$W._a._J.prototype.handleEndEdit=function(e,_eb,_ec){["WebSquare.uiplugin.cellInfo.prototype.handleEndEdit"];try{e=e||{};if(this.options.embeddedInput){return true;}this.mainGrid.rollbackCommitFlag=false;if(this.mainGrid.editMode){var _ed=this.mainGrid.editedCell;if(_ed._getEditedValue){var _ee=this.mainGrid.getColumnIndex(this.mainGrid.editedCell.id);var _ef=this.editRowIndex;var _f0=_ed._getEditedValue();var ret=$W._c.fireEvent(this.mainGrid,"oneditend",_ef,_ee,_f0,e);if(ret+""=="false"){this.mainGrid.getInput(this).focus();$W._c.stopEvent(e);return false;}}if(!_ed.validate()){$W._c.stopEvent(e);return false;}var _f2=this.mainGrid.dataList.getCellData(this.editRowIndex,_ed.options.id);this.mainGrid.editedCell=null;this.mainGrid.editMode=false;if(_ec){var _f3=null;var _f4=null;if(this.editTd!=null){_f3=this._handleEndEdit(e,_eb,true);_f4=this.mainGrid.getCellData(this.editRowIndex,_ed.options.id);}$W._N.setTimer(function(_f5,_f6){if(this.editTd!=null){this._handleEndEdit_focus(_f6);}this._afterEndEdit(_f5,_f4);_f5=null;_f6=null;},{key:this.id+"_handleClickEventDocument",caller:this,args:[_ed,_f3]});_f3=null;_ed=null;}else{var _f4=null;if(this.editTd!=null){_f4=this.mainGrid.getCellData(this.editRowIndex,_ed.options.id);this._handleEndEdit(e,_eb);}var ret=this._afterEndEdit(_ed,_f4);_ed=null;return ret;}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._J.prototype._afterEndEdit=function(_f7,_f8){var _f9=this.mainGrid.dataList.getCellData(this.editRowIndex,_f7.options.id);var _fa=this.editRowIndex;var _fb=_f7.options.id;var _fc=_fa;var _fd=this.mainGrid.getColumnIndex(_fb);var _fe=this.editTd.getAttribute("colMerged");if(_fe=="0"&&!_f7.options.colMergeEdit){var _ff=function(_100,_101,_102,_103){var _104=_100;while(_100+1<this.mainGrid.getDataLength()){_100=_100+1;var _105=this.mainGrid.upperGroupingTest(_100,_101);var _106=this.mainGrid.dataList.getCellData(_100,_101);if(_105){if(_106==_f8){this.mainGrid.dataList.setCellData(_100,_101,_103);}else{var _107=this.mainGrid.tdIdList.length;var _108=this.mainGrid.data_td_list[(_100-this.mainGrid.rowIndex)*_107+_102];this.setInnerHTML(_108,_106,_100,this.id);break;}}else{var _107=this.mainGrid.tdIdList.length;var _108=this.mainGrid.data_td_list[(_100-this.mainGrid.rowIndex)*_107+_102];this.setInnerHTML(_108,_106,_100,this.id);break;}}var _100=_104;while(_100-1>0){var _105=this.mainGrid.upperGroupingTest(_100,_101);var _106=this.mainGrid.dataList.getCellData(_100,_101);_100=_100-1;if(_105){var _106=this.mainGrid.dataList.getCellData(_100,_101);if(_106==_f8){this.mainGrid.dataList.setCellData(_100,_101,_103);}else{var _107=this.mainGrid.tdIdList.length;var _108=this.mainGrid.data_td_list[(_100-this.mainGrid.rowIndex)*_107+_102];this.setInnerHTML(_108,_106,_100,this.id);break;}}else{_106=this.mainGrid.dataList.getCellData(_100,_101);var _107=this.mainGrid.tdIdList.length;var _108=this.mainGrid.data_td_list[(_100-this.mainGrid.rowIndex)*_107+_102];this.setInnerHTML(_108,_106,_100,this.id);break;}}var _101=this.mainGrid.getColumnIndex(_101);this.mainGrid.applyColumnStyleOptions(_101);};_ff.call(this,_fa,_fb,_fd,_f9);var _109=this.mainGrid.upperToLowerColumnRelation[_fb];if(_109){for(var i=0;i<_109.length;i++){var _10b=_109[i];var _10c=this.mainGrid.dataList.getCellData(_fa,_10b);var _10d=this.mainGrid.getColumnIndex(_10b);_ff.call(this,_fa,_10b,_10d,_10c);}}}if(_f7.options.colMergeEdit){this.mainGrid.setColMergeCellData(_fc-this.mainGrid.rowIndex,_fc,_fd);}var data=this.mainGrid.dataList.getCellData(_fc,_fd);var _10f=_fc+"_"+_fd;if(this.mainGrid.cellMergeInfo[_10f]!=undefined){var _110=this.mainGrid.cellMergeInfo[_10f].rowSpan;var _111=this.mainGrid.cellMergeInfo[_10f].colSpan;for(var i=0;i<_110;i++){for(var j=0;j<_111;j++){if(i===0&&j===0){continue;}else{this.mainGrid.dataList.setCellData((_fc+i),(_fd+j),data);}}}}var _113=3;if(Math.abs(this.changedCellHeight)>_113){this.mainGrid.notifyRowChanged(_fc);}var _114=$W._c.fireEvent(this.mainGrid,"onafteredit",_fc,_fd,data,this.mainGrid.lastEvent);this.mainGrid.lastEvent=null;if(_114==false){_114=false;}else{_114=true;}this.mainGrid.rollbackCommitFlag=true;return _114;};$W._a._J.prototype.handleScrollY=function(e){var _116=this.validate();if(_116){return this.handleEndEdit(e);}else{return this.handleCancelEdit(e);}};$W._a._J.prototype.validate=function(){return true;};$W._a._J.prototype._handleEndEdit=function(e,_118,_119){var args=this._handleEndEdit_common(e);if(!_119){this._handleEndEdit_focus(args,_118);}else{return args;}};$W._a._J.prototype._handleEndEdit_common=function(e,_11c){return null;};$W._a._J.prototype._handleEndEdit_focus=function(args){return null;};$W._a._J.prototype.handleCancelEdit=function(e){if(this.options.embeddedInput){return;}this.mainGrid.editedCell=null;this.mainGrid.editMode=false;this._handleCancelEdit(e);};$W._a._J.prototype._handleCancelEdit=function(e){};$W._a._J.prototype.removeCellData=function(_120,_121){};$W._a._J.prototype.doDefaultAction=function(e){};$W._a._J.prototype.setMergedCol=function(_123,_124,_125,_126){var _127=_123;var _128=new Array();_128[_123]=true;while(_123<this.mainGrid.getDataLength()){_123=_123+1;var _129=this.mainGrid.upperGroupingTest(_123,_124);if(_129){var _12a=this.mainGrid.dataList.getCellData(_123,_124);if(_12a==_125){this.mainGrid.dataList.setCellData(_123,_124,_126);_128[_123]=true;}else{break;}}else{break;}}var _123=_127;while(_123>0){var _129=this.mainGrid.upperGroupingTest(_123,_124);_123=_123-1;if(_129){var _12a=this.mainGrid.dataList.getCellData(_123,_124);if(_12a==_125){this.mainGrid.dataList.setCellData(_123,_124,_126);_128[_123]=true;}else{break;}}else{break;}}var _124=this.mainGrid.getColumnIndex(_124);this.mainGrid.applyColumnStyleOptions(_124);return _128;};$W._a._J.prototype.getEscape=function(){return (this.options.escape!="")?this.options.escape:this.mainGrid.options.escape;};$W._a._J.prototype.getColumnIndex=function(_12b){if(!_12b){_12b=this.colID;}return this.mainGrid.getColumnIndex(_12b);};$W._a._J.prototype.setMaxLength=function(len){try{this.options.maxlength=this.options.maxLength=len;var _12d=this.mainGrid.getInput(this);_12d.render.setAttribute("maxLength",len);_12d.setMaxLength(len);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._J.prototype.refreshCell=function(){};$W._a._J.text=function(){["WebSquare.uiplugin.cellInfo.text"];};$W._a._J.text.prototype.setInnerHTML=function(td,data,_130,_131){if(this.options.embeddedInput&&!this.mainGrid.getEditDisabled(_130,_131)&&!this.mainGrid._getEditReadOnly(_130,_131)){var _132=this.mainGrid.getInput(this,td);if(_132.render.parentNode==null){td.innerHTML="";td.appendChild(_132.render);}_132.blur();_132.render.setAttribute("rowindex",_130);if(this.mainGrid.options.autoResizeEmbeddedInput){var _133=0;var _134=0;var _135=false;if(td.parentNode.style.display=="none"){td.parentNode.style.display="";_135=true;}if(_132.render.parentNode==null){td.innerHTML="";td.appendChild(_132.render);}if(!this.mainGrid.embeddedStyleObj){this.mainGrid.embeddedStyleObj={top:parseInt($W._H.getStyle(td,"padding-top"),10),bottom:parseInt($W._H.getStyle(td,"padding-bottom"),10),left:parseInt($W._H.getStyle(td,"padding-left"),10),right:parseInt($W._H.getStyle(td,"padding-right"),10),inputTop:parseInt($W._H.getStyle(_132.render,"padding-top"),10),inputBottom:parseInt($W._H.getStyle(_132.render,"padding-bottom"),10),inputLeft:parseInt($W._H.getStyle(_132.render,"padding-left"),10),inputRight:parseInt($W._H.getStyle(_132.render,"padding-right"),10)};}var _136=parseInt($W._H.getStyle(_132.render,"border-top-width"),10);var _137=parseInt($W._H.getStyle(_132.render,"border-bottom-width"),10);var _138=parseInt($W._H.getStyle(_132.render,"border-left-width"),10);var _139=parseInt($W._H.getStyle(_132.render,"border-right-width"),10);_133=td.offsetHeight-parseInt($W._H.getStyle(td,"border-top-width"),10)-parseInt($W._H.getStyle(td,"border-bottom-width"),10);_133-=(this.mainGrid.embeddedStyleObj["top"]+this.mainGrid.embeddedStyleObj["bottom"]);_133-=(_136+_137);if(!this.mainGrid.embeddedWidthObj[_131]||this.mainGrid.embeddedWidthObj[_131]["isChanged"]){this.mainGrid.embeddedWidthObj[_131]={isChanged:false,width:td.clientWidth};}_134=this.mainGrid.embeddedWidthObj[_131]["width"];_134-=(this.mainGrid.embeddedStyleObj["left"]+this.mainGrid.embeddedStyleObj["right"]);_134-=(_138+_139);_134-=(this.mainGrid.embeddedStyleObj["inputLeft"]+this.mainGrid.embeddedStyleObj["inputRight"]);if(_135){td.parentNode.style.display="none";}else{if($W._G.isIE("6 7")){_133-=2;}}if($W._G.isOpera()){_133+=2;}_132.setSize(_134-2,_133-(this.mainGrid.embeddedStyleObj["inputTop"]+this.mainGrid.embeddedStyleObj["inputBottom"]));_132.setStyle("lineHeight",_133+"px");}else{if(_132.render.parentNode==null){td.innerHTML="";td.appendChild(_132.render);}}if(this.options.applyFormat!="all"&&!this.options.displayFormat){data=this.getDisplayData(data);}_132.setValue(data);if(this.options.textAlign){_132.setStyle("text-align",this.options.textAlign);}else{_132.setStyle("text-align","");}td.removeAttribute("tabIndex");td.removeAttribute("title");}else{if(this.options.title){td.setAttribute("title",this.options.title);}var _13a=null;if(this.options.escapeFormatter){try{if(typeof this.options.escapeFormatter=="function"){_13a=this.options.escapeFormatter;}else{_13a=$W._G.getGlobalFunction(this.options.escapeFormatter,this._scopeId);if(_13a!=null){this.options.escapeFormatter=_13a;}}}catch(e){_13a=null;}}var _13b=null;if(this.options.customFormatter){try{if(typeof this.options.customFormatter=="function"){_13b=this.options.customFormatter;}else{_13b=$W._G.getGlobalFunction(this.options.customFormatter,this._scopeId);if(_13b!=null){this.options.customFormatter=_13b;}}}catch(e){_13b=null;}}var _13c=data;if(typeof _13a=="function"){this.useEscapeFormatter=true;_13c=_13a.call(this.mainGrid,data,_130,_131);}else{this.useEscapeFormatter=false;}var _13d=(this.options.escape!=="")?this.options.escape:this.mainGrid.options.escape;if(_13d==="true"){_13c=$W._B._encode(data+"");}var _13e=_13c;var _13f=this.options.displayFormat||this.options.displayFormatter||this.options.ioFormat;if(this.formatter&&_13f){_13e=this.formatter.format(_13c);}if(this.options.inputType=="secret"){_13e=_13e.replace(/./gi,"\u25cf");}var _140;if(typeof _13b=="function"){this.useCustomFormatter=true;_140=_13b.call(this.mainGrid,data,_13e,_130,_131);}else{this.useCustomFormatter=false;_140=_13e;}if(this.mainGrid.options.plainText&&this.useCustomFormatter===false&&!this.options.displayFormatter&&td.firstChild&&td.firstChild.firstChild){td.firstChild.firstChild.data=_140;}else{var _141=" class='w2grid_input";if(this.options.inputType=="secret"&&$W._N.browserCheck.ieAllVersion){_141+=" w2grid_secret";}if(this.mainGrid._getEditReadOnly(_130,_131)){_141+=" w2grid_input_readonly";}if(this.mainGrid.getEditDisabled(_130,_131)){_141+=" w2grid_input_disabled";}_141+="'";td.innerHTML="<nobr"+_141+">"+_140+"</nobr>";if(!this.mainGrid.hasClass(td,"w2grid_input_table")){td.className="w2grid_input_table "+td.className;}else{this.mainGrid.addClass(td,"w2grid_input_table");}}}};$W._a._J.text.prototype.setEditMode=function(td,_143){["WebSquare.uiplugin.cellInfo.text.prototype.setEditMode"];try{if(this.options.embeddedInput){return;}this.editRowIndex=_143;this.editTd=td;if(this.internal){this.parentColumnInfo.editRowIndex=_143;this.parentColumnInfo.editTd=td;}this.setPosition();var _144=this.mainGrid.getInput(this);this.comp=_144;_144.formatter=this.options.applyFormat=="all"?this.formatter:this.emptyFormatter;_144.options.applyFormat=this.options.applyFormat;if(this.options.maxLength){_144.render.setAttribute("maxLength",this.options.maxLength);}else{_144.render.removeAttribute("maxLength");}_144.setValue(this.mainGrid.dataList.getCellData(_143,this.colID));if(document.activeElement!=_144.render){_144.focus();}this.mainGrid.render.scrollLeft=0;this.mainGrid.render.scrollTop=0;if(_144.options.editType=="select"){_144.select();}else{if(_144.options.editType=="focus"&&($W._G.isIEAllVersion()||$W._G.isFF()||$W._G.isSpartan())){$W._A.setCaretPos(_144.render,_144.render.value.length);}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._J.text.prototype.setPosition=function(){var _145={top:0,left:0,width:0,height:0};if($W._G.isFF()){_145={top:-1,left:-1,width:0,height:0};}else{if($W._G.isOpera()){_145={top:0,left:0,width:0,height:1};}else{if($W._G.isIEAllVersion("9 11")){_145={top:-1,left:-1,width:0,height:0};}}}var td=this.editTd;var _147=td.offsetTop+1+_145.top;var _148=td.offsetLeft+1+_145.left;var _149=td.clientWidth-6+_145.width;var _14a=td.clientHeight-2+_145.height;var _14b=this.mainGrid.getInput(this);if(this.options.imeMode!=""){_14b.render.style.imeMode=this.options.imeMode;}else{var _14c=this.mainGrid.getColumnOption(this.options.col_id,"dataType");_14b.render.style.imeMode=(_14c=="number")?"disabled":"";}_14b.show();if(this.mainGrid.options.groupbyZone){var _14d=this.mainGrid.groupbyZoneStatus.groupbyZoneRender.offsetHeight;if(this.mainGrid.options.groupbyFilterBox&&this.mainGrid.options.groupbyFilterBoxLocation==="top"){_14d=parseInt(this.mainGrid.options.groupbyZoneHeight,10)+document.getElementById(this.mainGrid.id+"_groupbyFilterBox_div").offsetHeight;}_147=_147+_14d;}if(this.mainGrid.hasClass("w2grid_adaptive_crosstab")){var _14e=document.getElementById(this.mainGrid.id+"_body_tbody").scrollLeft;_148=_148-_14e;_14b.render.style.lineHeight=_14a+"px";}_14b.render.style.top=_147+"px";_14b.render.style.left=_148+"px";_14b.render.style.width=_149+"px";_14b.render.style.height=_14a+"px";if($W._G.isIE()){_14b.render.style.lineHeight=_14a+"px";}_14b.render.style.textAlign=td.style.textAlign==""?"center":td.style.textAlign;};$W._a._J.text.prototype.removeCellData=function(_14f,_150){this.mainGrid.dataList.setCellData(_14f,_150,"");};$W._a._J.text.prototype._handleEndEdit_common=function(e){["WebSquare.uiplugin.cellInfo.text.prototype._handleEndEdit"];try{var _152=this.mainGrid.getInput(this);this.setEditData(_152);return _152;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._J.text.prototype._handleEndEdit_focus=function(_153,_154){if(this.mainGrid.isMobile||!_154){_153.hide();}};$W._a._J.text.prototype._getEditedValue=function(e){["WebSquare.uiplugin.cellInfo.text.prototype._getEditedValue"];var _156=this.mainGrid.getColumnOption(this.options.col_id,"dataType");if(_156=="bigDecimal"){var _157=$W._b(this.mainGrid.getInput(this).getValue());return _157.toString();}var _157=this.mainGrid.getInput(this).getValue();return _157;};$W._a._J.text.prototype._handleCancelEdit=function(e){["WebSquare.uiplugin.cellInfo.text.prototype._handleCancelEdit"];try{var _159=this.mainGrid.dataList.getCellData(this.editRowIndex,this.colID);this.setInnerHTML(this.editTd,_159,this.editRowIndex,this.getColumnIndex(this.colID));var _15a=this.mainGrid.getInput(this);_15a.hide();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._J.text.prototype.doDefaultAction=function(e){if(!e.ctrlKey){this.mainGrid.setEditHtml(e);}};$W._a._J.text.prototype.setEditData=function(_15c){try{var _15d=_15c.getValue();if(this.options.dataType=="number"){var _15e=_15d.wq_trim();if(_15e==="."||_15e==="-"||_15e==="+"){_15d="";}}_15d=_15c.validator.validateString(_15d);_15c.setValueNM(_15d,true);this.setInnerHTML(this.editTd,_15d,this.editRowIndex,this.getColumnIndex(this.colID));var _15f=this.mainGrid.getColumnOption(this.options.col_id,"dataType");if(this.mainGrid.options.numberCasting&&_15f=="number"){if(_15d!=""){_15d=Number(_15d);}}var _160={};_160[this.mainGrid.id]=true;this.mainGrid.dataList.setCellData(this.editRowIndex,this.colID,_15d,null,null,null,_160);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._J.link=function(){["WebSquare.uiplugin.cellInfo.link"];};$W._a._J.link.prototype.setInnerHTML=function(td,data,_163,_164){var _165=-1;var _166="tabIndex='"+_165+"'";if(this.mainGrid.options.focusMode=="none"){_165=0;}else{if(this.mainGrid.options.keyMoveEditMode==true){_166="";}}var _167=$W._G.getGlobalFunction(this.options.customFormatter,this.scope_id);var _168=this.getDisplayData(data);var _169;if(typeof _167=="function"){this.useCustomFormatter=true;_169=_167.call(this.mainGrid,data,_168,_163,_164);}else{this.useCustomFormatter=false;_169=_168;}var _16a=this.options.title?" title='"+this.options.title+"'":"";if(_169){td.innerHTML="<nobr><a href='' onclick='event.returnValue=false; return false;'"+_166+" "+_16a+">"+_169+"</a></nobr>";}else{td.innerHTML="<nobr></nobr>";}};$W._a._J.link.prototype.doDefaultAction=function(e){if(this.mainGrid.options.focusMode=="none"){var td=$W._c.getTarget(e);while(td&&td.tagName!="TD"){td=td.parentNode;}if(td){var _16d=this.mainGrid.getElemRowIndex(td);var _16e=this.mainGrid.getColumnIndex(td.getAttribute("col_id"));}else{return;}}else{var _16f=this.mainGrid.getLastFocusedCell();var _16d=_16f.focusedRowIndex;var _16e=_16f.focusedColIndex;}if(!this.mainGrid.getEditDisabled(_16d,_16e)&&!this.mainGrid._getEditReadOnly(_16d,_16e)){$W._c.fireEvent(this.mainGrid,"oncellclick",_16d,_16e);}};$W._a._J.checkbox=function(){["WebSquare.uiplugin.cellInfo.checkbox"];};$W._a._J.checkbox.prototype.initializeCellInfo=function(_170){["WebSquare.uiplugin.cellInfo.checkbox.prototype.initializeCellInfo"];switch(this.options.valueType){case "binary":this.setBooleanValue("1","0");break;case "boolean":this.setBooleanValue("true","false");break;case "other":if(this.options.trueValue=="$blank"){this.options.trueValue="";}if(this.options.falseValue=="$blank"){this.options.falseValue="";}this.setBooleanValue(this.options.trueValue,this.options.falseValue);break;}};$W._a._J.checkbox.prototype.setBooleanValue=function(_171,_172){this.options.trueValue=_171+"";this.options.falseValue=_172+"";};$W._a._J.checkbox.prototype.setInnerHTML=function(td,data,_175){var _176=data+""==this.options.trueValue;var _177=this.mainGrid.getEditReadOnly(td,_175)||this.mainGrid.getEditDisabled(_175,td.getAttribute("col_id"));if(this.options.embeddedInput){var _178=this.mainGrid.getInput(this,td);_178.setAttribute("rowindex",_175);_178.checked=_176;_178.disabled=_177;}else{var _179=this.options.title?" title='"+this.options.title+"'":"";var _17a=this.mainGrid.options.focusMode=="none"?"":" tabIndex='-1'";var _17b=_176?" checked":"";var _17c=_177?" disabled='true'":"";var _17d="";if(this.options.removeBorderStyle!="true"){_17d="style='border-width:0px;'";}var _17e=this.options.visibleFunc;var _17f="";if(this.options.checkboxLabel||this.options.checkboxLabelColumn||this.options.checkboxLabelFormatter){var _180=this.mainGridId+"_checkbox_"+this.id;var _181=_180+"_"+_175;var _182=this.options.checkboxLabel||"";if(this.options.checkboxLabelColumn){var _183=this.options.checkboxLabelColumn.split(",");var _184="";for(var i=0;i<_183.length;i++){if(i===_183.length-1){_184+=this.mainGrid.getCellDisplayData(_175,_183[i]);}else{_184+=this.mainGrid.getCellDisplayData(_175,_183[i])+",";}}_182=_184+_182;}if(this.options.checkboxLabelFormatter){try{var _186=$W._G.getGlobalFunction(this.options.checkboxLabelFormatter,this._scopeId);_182=_186.call(this.mainGrid,_175,this.mainGrid.getColumnIndex(this.colID),_182);}catch(e){$W.logger.printLog(this.mainGrid.id+"_"+this.id+" checkboxLabelFormatter error : "+e.message);}}_17f="<INPUT "+_17d+" type='checkbox' "+_179+_17a+_17b+_17c+" id='"+_181+"' name='"+_180+"'/>";var _187="<label class='w2checkbox_label ' for='"+_181+"'>"+_182+"</label>";if(this.options.checkboxLabelPosition==="left"){_17f=_187+_17f;}else{_17f=_17f+_187;}}else{_17f="<INPUT "+_17d+" type='checkbox' "+_179+_17a+_17b+_17c+" />";}if(_17e){var show=eval(_17e+"("+_175+")");if(show){td.innerHTML=_17f;}else{td.innerHTML="";}}else{td.innerHTML=_17f;}}};$W._a._J.checkbox.prototype.getDisplayData=function(data){return data;};$W._a._J.checkbox.prototype.handleClick=function(td,_18b){var _18c=this.mainGrid.getEditReadOnly(td,_18b)||this.mainGrid.getEditDisabled(_18b,td.getAttribute("col_id"));if(_18c){return true;}var _18d=td.getElementsByTagName("input")[0];if(_18d){var _18e=this.options.id;var _18f=_18d.checked;var _190=this.options.falseValue;if(_18f){_190=this.options.trueValue;}var _191=this.mainGrid.dataList.getCellData(_18b,_18e);if(_191==""&&!_18f){_190=_191;}this.mainGrid.dataList.setCellData(_18b,this.id,_190);if(td.getAttribute("colMerged")=="0"){this.setMergedCol(_18b,_18e,_191,_190);}if(_191!=_190){var _192=this.mainGrid.getColumnIndex(this.options.id);var info={"oldValue":_191,"newValue":_190,"rowIndex":_18b,"colIndex":_192};$W._c.fireEvent(this.mainGrid,"onviewchange",info);}this.checkHeader();}return true;};$W._a._J.checkbox.prototype.checkHeader=function(){["WebSquare.uiplugin.cellInfo.checkbox.prototype.checkHeader"];try{if(this.mainGrid.headerObj&&this.options.usePartialCheck){var _194=this.mainGrid.headerObj[this.mainGrid.bodyToHeaderRelation[this.id]];if(_194){var _195=!!(this.mainGrid.isDrillDown&&this.mainGrid._dataList.options.depthColumn);var _196=_195||(this.mainGrid&&this.mainGrid.groupbyStatus&&this.mainGrid.groupbyStatus.grouped)?this.mainGrid.getTotalRow():this.mainGrid.getRowCount();var _197=this.mainGrid.getCheckedIndex(this.id);var _198=_197.length;if(_196==0){_194.checked=false;_194.indeterminate=false;}else{if(_196==_198){_194.checked=true;_194.indeterminate=false;}else{if(_198>0){var _199=false;if(!this.options.checkAlways){for(var i=0;i<_197.length;i++){if((!this.mainGrid._getEditReadOnly(_197[i],this.id,_195)&&!this.mainGrid.getEditDisabled(_197[i],this.id,_195))){_199=true;break;}}}if($W._G.isIEAllVersion()){_194.checked=!_199;}else{_194.checked=_199;}_194.indeterminate=true;}else{if((_196-_198)==_196){_194.checked=false;_194.indeterminate=false;}}}}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._J.checkbox.prototype.doDefaultAction=function(e){if(this.options.embeddedInput){return;}if(this.mainGrid.options.focusMode=="none"){var td=$W._c.getTarget(e);td.focus();while(td&&td.tagName!="TD"){td=td.parentNode;}if(td){var _19d=this.mainGrid.getElemRowIndex(td);var _19e=this.colID;var _19f=true;}else{return;}}else{var _1a0=this.mainGrid.getLastFocusedCell();var _19d=_1a0.focusedRowIndex;var _19e=this.colID;var _19f=false;}if(!this.mainGrid.getEditDisabled(_19d,_19e)&&!this.mainGrid._getEditReadOnly(_19d,_19e)){var _1a1=this.mainGrid.dataList.getCellData(_19d,_19e);this.mainGrid.dataList.setCellData(_19d,_19e,_1a1==this.options.trueValue?this.options.falseValue:this.options.trueValue);var _1a2=this.mainGrid.dataList.getCellData(_19d,_19e);if(_1a2!=_1a1){$W._c.fireEvent(this.mainGrid,"onviewchange",{"oldValue":_1a1,"newValue":_1a2,"rowIndex":_19d,"colIndex":this.mainGrid.getColumnIndex(_19e)});}}this.checkHeader();};$W._a._J.button=function(){["WebSquare.uiplugin.cellInfo.button"];};$W._a._J.button.prototype.setInnerHTML=function(td,data,_1a5){var _1a6=this.mainGrid.getEditDisabled(_1a5,td.getAttribute("col_id"));var _1a7="";if(_1a6){_1a7=" disabled='true' ";}var _1a8=-1;var _1a9=" tabIndex='"+_1a8+"' ";if(this.mainGrid.options.focusMode=="none"){_1a8=0;}else{if(this.mainGrid.options.keyMoveEditMode==true){_1a9="";}}var _1aa=this.options.title?" title='"+this.options.title+"'":"";td.innerHTML="<button type='button' style='width:100%;height:100%' "+_1a7+_1a9+_1aa+">"+this.getDisplayData(data)+"</button>";if(this.internal==true){var node=td.childNodes[0];if(node.clientHeight==0){var _1ac=td.clientHeight-2;$W._H.setSize(node,"height",_1ac);}}var _1ad=this.mainGrid.getColumnIndex(td.getAttribute("col_id"));var _1ae=function(_1af,attr,func){return function(e){func.apply(_1af,[e||window.event].concat(attr));};};this._listener=_1ae(this,[_1a5,_1ad,td],function(e,_1b4,_1b5,_1b6){if(!this.mainGrid.getEditDisabled(_1a5,_1b5)&&!this.mainGrid._getEditReadOnly(_1a5,_1b5)){if(this.mainGrid.editedCell!=null){this.mainGrid.editedCell.handleEndEdit();}if(!this.options.blockSelect){this.mainGrid._setFocusedCell(e,_1b6,{editMode:this.options.focusMode=="none"});}}if(!this.mainGrid.getEditDisabled(_1a5,_1b5)){$W._c.fireEvent(this.mainGrid,"oncellclick",_1a5,_1b5);}});$W._c.addListener(td.getElementsByTagName("button")[0],"onclick",this._listener);};$W._a._J.button.prototype.doDefaultAction=function(e){if(this.mainGrid.options.focusMode=="none"){var td=$W._c.getTarget(e);while(td&&td.tagName!="TD"){td=td.parentNode;}if(td){var _1b9=this.mainGrid.getElemRowIndex(td);var _1ba=this.mainGrid.getColumnIndex(td.getAttribute("col_id"));}else{return;}}else{var _1bb=this.mainGrid.getLastFocusedCell();var _1b9=_1bb.focusedRowIndex;var _1ba=_1bb.focusedColIndex;}if(!this.mainGrid.getEditDisabled(_1b9,_1ba)&&!this.mainGrid._getEditReadOnly(_1b9,_1ba)){$W._c.fireEvent(this.mainGrid,"oncellclick",_1b9,_1ba);}};$W._a._J.image=function(){["WebSquare.uiplugin.cellInfo.image"];};$W._a._J.image.prototype.setInnerHTML=function(td,data,_1be,_1bf){var _1c0="";if(this.options.imageWidth!=""){_1c0+=";width:"+parseInt(this.options.imageWidth)+"px";}if(this.options.imageHeight!=""){_1c0+=";height:"+parseInt(this.options.imageHeight)+"px";}var _1c1="";if(this.options.alt!=""){_1c1="alt='"+this.options.alt+"' ";}var _1c2=this.mainGrid.getEditDisabled(_1be,td.getAttribute("col_id"));var _1c3="";if(_1c2){_1c3=" disabled='true' ";}if(data==null||data==""){if(this.options.imageSrc){if(this.options.imageSrc.startsWith("javascript:void")){data=this.options.imageSrc;}else{data=$W._N.getImageURL(this.options.imageSrc);}}else{data="";}}else{if(typeof data=="string"&&!data.startsWith("javascript:void")){data=$W._N.getImageURL(data);}}var _1c4="";if(this.options.imageClickFunction!=""&&this.options.imageClickFunction!=null){var _1c5=this.options.useImageClick||"false";var _1c6=this.mainGrid.getDisabled("all",_1be,_1bf);if((_1c5=="true")||(_1c5=="false"&&_1c6==false)){_1c4=" onclick='WebSquare.event.stopPropagation(event);"+this.mainGrid.id+".fireImageClick("+_1be+",\""+this.colID+"\")' ";}}var _1c7="";try{if(this.options.onerror){_1c7=" onerror=\"("+this.options.onerror+").call(this,event);\" ";}}catch(e){$W.exception.printStackTrace(e,null,this);}var _1c8=this.options.imageTabIndex?" tabIndex='"+this.options.imageTabIndex+"'":"";if(this.mainGrid.options.senseReader&&this.mainGrid.options.focusImage){td.innerHTML="<IMG src='"+data+"' class='w2grid_image"+(_1c2?" w2grid_image_disabled":"")+"' style='"+_1c0+"' "+_1c1+_1c3+_1c4+_1c7+_1c8+"tabIndex='0' />";}else{td.innerHTML="<IMG src='"+data+"' class='w2grid_image"+(_1c2?" w2grid_image_disabled":"")+"' style='"+_1c0+"' "+_1c1+_1c3+_1c4+_1c7+_1c8+" />";}};$W._a._J.image.prototype.getDisplayData=function(data){return data;};$W._a._J.radio=function(){["WebSquare.uiplugin.cellInfo.radio"];};$W._a._J.radio.prototype.initializeCellInfo=function(_1ca){["WebSquare.uiplugin.cellInfo.radio.prototype.initializeCellInfo"];switch(this.options.valueType){case "binary":this.setBooleanValue("1","0");break;case "boolean":this.setBooleanValue("true","false");break;case "other":this.setBooleanValue(this.options.trueValue,this.options.falseValue);break;}if(this.options.groupRef){this.options.groupValue=$W._J.getInstanceValue(this.options.groupRef);}};$W._a._J.radio.prototype.setBooleanValue=function(_1cb,_1cc){this.options.trueValue=_1cb+"";this.options.falseValue=_1cc+"";};$W._a._J.radio.prototype.setInnerHTML=function(td,data,_1cf){var name=this.mainGridId+"_radio_"+(this.options.groupName?this.options.groupName+"_"+_1cf:this.colID);var _1d1=data+""==this.options.trueValue;var _1d2=this.mainGrid.getEditReadOnly(td,_1cf)||this.mainGrid.getEditDisabled(_1cf,td.getAttribute("col_id"));if(this.options.embeddedInput){var _1d3=this.mainGrid.getInput(this,td);_1d3.setAttribute("rowindex",_1cf);_1d3.checked=false;_1d3.name=name;_1d3.checked=_1d1;_1d3.disabled=_1d2;}else{var _1d4=this.options.title?" title='"+this.options.title+"'":"";var _1d5=this.mainGrid.options.focusMode=="none"?"":" tabIndex='-1'";var _1d6=_1d1?" checked":"";var _1d7=_1d2?" disabled='true'":"";var _1d8="";if(this.options.removeBorderStyle!="true"){_1d8="style='border-width:0px;'";}var _1d9="";if(this.options.radioLabel||this.options.radioLabelColumn||this.options.radioLabelFormatter){var _1da=this.mainGridId+"_radio_"+this.id;var _1db=_1da+"_"+_1cf;var _1dc=this.options.radioLabel||"";if(this.options.radioLabelColumn){var _1dd=this.options.radioLabelColumn.split(",");var _1de="";for(var i=0;i<_1dd.length;i++){if(i===_1dd.length-1){_1de+=this.mainGrid.getCellDisplayData(_1cf,_1dd[i]);}else{_1de+=this.mainGrid.getCellDisplayData(_1cf,_1dd[i])+",";}}_1dc=_1de+_1dc;}if(this.options.radioLabelFormatter){try{var _1e0=$W._G.getGlobalFunction(this.options.radioLabelFormatter,this._scopeId);_1dc=_1e0.call(this.mainGrid,_1cf,this.mainGrid.getColumnIndex(this.colID),_1dc);}catch(e){$W.logger.printLog(this.mainGrid.id+"_"+this.id+" radioLabelFormatter error : "+e.message);}}_1d9="<INPUT "+_1d8+" type='radio' "+_1d4+_1d5+_1d6+_1d7+" id='"+_1db+"' name='"+_1da+"'/>";var _1e1="<label class='w2radio_label ' for='"+_1db+"'>"+_1dc+"</label>";if(this.options.radioLabelPosition==="left"){_1d9=_1e1+_1d9;}else{_1d9=_1d9+_1e1;}}else{_1d9="<INPUT "+_1d8+" type='radio' name='"+name+"'"+_1d4+_1d5+_1d6+_1d7+" />";}td.innerHTML=_1d9;}};$W._a._J.radio.prototype.getDisplayData=function(data){return data;};$W._a._J.radio.prototype.handleClick=function(td,_1e4){var _1e5=td.getElementsByTagName("input")[0];if(!_1e5){return true;}var _1e6=this.mainGrid.dataList.getCellData(_1e4,this.colID);var _1e7=_1e6;if(_1e6==this.options.trueValue){return true;}if(_1e5.checked){_1e7=this.options.trueValue;this.resetOthers(_1e4);if(this.options.groupName){if(this.mainGrid.radioGroupRepChk[this.options.groupName]){this.mainGrid.dataList.setCellData(_1e4,this.options.groupName,this.options.groupValue);}}}this.mainGrid.dataList.setCellData(_1e4,this.colID,_1e7);if(td.getAttribute("colMerged")=="0"){var _1e8=this.setMergedCol(_1e4,this.colID,_1e6,_1e7);}if(_1e6!=_1e7){var _1e9=this.mainGrid.getColumnIndex(this.options.id);var info={"oldValue":_1e6,"newValue":_1e7,"colIndex":_1e9,"rowIndex":_1e4};$W._c.fireEvent(this.mainGrid,"onviewchange",info);}return true;};$W._a._J.radio.prototype.resetOthers=function(_1eb){if(this.options.groupName){var _1ec=this.mainGrid.getColumnCount();for(var _1ed=0;_1ed<_1ec;_1ed++){var _1ee=this.mainGrid.getCellInfo(_1ed);if(_1ee.options.inputType=="custom"){_1ee=_1ee.cellManagerHashByRowIndex[this.mainGrid.dataList.getRealRowIndex(_1eb)];}if(_1ee!=this&&_1ee.options.inputType=="radio"&&_1ee.options.groupName==this.options.groupName){this.mainGrid.dataList.setCellData(_1eb,_1ed,_1ee.options.falseValue);}}}else{if(this.mainGrid.isDrillDown&&this.mainGrid._dataList.options.depthColumn){for(var i=0;i<this.mainGrid.getTotalRow();i++){if(this.mainGrid._dataList.getCellData(i,this.colID)+""==this.options.trueValue){this.mainGrid._dataList.setCellData(i,this.colID,this.options.falseValue);}}}else{for(var i=0;i<this.mainGrid.getDataLength();i++){if(this.mainGrid.dataList.getCellData(i,this.id)+""==this.options.trueValue){this.mainGrid.dataList.setCellData(i,this.id,this.options.falseValue);}}}}};$W._a._J.radio.prototype.doDefaultAction=function(e){var td=$W._c.getTarget(e);if(this.mainGrid.options.focusMode=="none"){while(td&&td.tagName!="TD"){td=td.parentNode;}if(td){var _1f2=this.mainGrid.getElemRowIndex(td);var _1f3=this.mainGrid.getColumnIndex(td.getAttribute("col_id"));}else{return;}}else{var _1f4=this.mainGrid.getLastFocusedCell();var _1f2=_1f4.focusedRowIndex;var _1f3=_1f4.focusedColIndex;}if(!this.mainGrid.getEditDisabled(_1f2,_1f3)&&!this.mainGrid._getEditReadOnly(_1f2,_1f3)){var _1f5=this.mainGrid.dataList.getCellData(_1f2,this.colID);var _1f6=td.getElementsByTagName("input")[0];_1f6.checked=(_1f5==this.options.trueValue?this.options.falseValue:this.options.trueValue);this.handleClick(td,_1f2);}};$W._a._J.select=function(){["WebSquare.uiplugin.cellInfo.select"];};$W._a._J.select.prototype.initializeCellInfo=function(_1f7){["WebSquare.uiplugin.cellInfo.select.prototype.initializeCellInfo"];if(this.options.selectSetter!=""){this.selectSetted=false;this.resetMatchInfo=true;}else{var _1f8=$W._B.serialize(_1f7);var _1f9=_1f8.indexOf("xmlns:w2")<0?" xmlns:w2=\"http://www.inswave.com/websquare\"":"";_1f8=_1f8.wq_replaceAll("<w2:column","<w2:select"+_1f9);_1f8=_1f8.wq_replaceAll("</w2:column","</w2:select");var elem=$W._B.parse(_1f8,true);this.xml=elem.documentElement;$W.extend(this,$W.itemsetControl.prototype);this.hasRef=false;this.selectedIndex=(typeof this.options.selectedIndex=="undefined")?-1:parseInt(this.options.selectedIndex,10);this.options.selectedData=(this.options.selectedData=="false"||this.options.selectedData===false)?false:true;if(this.internal){this.itemsetObj=this.initializeInfo.itemSet?this.initializeInfo.itemSet:{nodeset:"",label:"",value:""};}else{this.itemsetObj=$W.WebSquareparser.parseItemset(this.xml);}this.resetMatchInfo=true;var _1fb=this.itemsetObj.nodeset.wq_replaceAll(" ","");this.existGridViewItemsetNode=$W._B.getElementsByTagName(this.xml,"w2:gridViewItemset")[0];if(this.itemsetObj.nodeset!=""&&_1fb.indexOf("ref(")>=0){this.hasRef=true;var _1fc=this.itemsetObj.nodeset;this.refStr="\""+this.refReplace(_1fc)+"\"";var _1fd=_1fc.match(/ref\('([^']*)'\)/g);for(var i=0;i<_1fd.length;i++){var _1ff=_1fd[i].slice(5,-2);var _200=this.mainGrid.getCellInfo(_1ff);if(!_200.refArr){_200.refArr=[];}_200.refArr.push(this.colID);}this.refHash=[];this.refItemArr=[];if(this.options.embeddedInput){var _201=$W._B.getElementsByTagName(this.xml,"w2:itemset");_201[0].setAttribute("nodeset","");}}else{if(this.itemsetObj.nodeset!=""&&_1fb.indexOf("data:")>=0){var _202=this.itemsetObj.nodeset.replace("data:","").split(".");this.dataComp=_202[0];}else{this.matchInfo=this.setMatchInfo();}}}if(!this.refArr){this.refArr=[];}this.col_index=this.mainGrid.getColumnIndex(this.colID);};$W._a._J.select.prototype.createSelectbox=function(td,_204){["WebSquare.uiplugin.cellInfo.select.prototype.createSelectbox"];var _205=this;this.style="position:relative;left:0px;top:0px;background-color:#ffffff;";if(!this.comp){this.xml.setAttribute("class",this.mainGridId+"_select_"+this.colID);this.xml.setAttribute("chooseOption",this.options.chooseOption+"");this.xml.setAttribute("chooseOptionLabel",this.options.chooseOptionLabel);this.xml.setAttribute("chooseOptionValue",this.options.chooseOptionValue);this.xml.setAttribute("allOption",this.options.allOption+"");this.xml.setAttribute("tableRender",this.options.tableRender);this.xml.setAttribute("submenuSize","auto");this.xml.setAttribute("direction","auto");this.xml.setAttribute("style",this.style);this.setFirst=true;if(this.hasRef&&!this.useLinkedDataList){var _206=$W._B.getElementsByTagName(this.xml,"w2:itemset");_206[0].setAttribute("nodeset",eval(this.refStr));}this.setFirst=false;this.configOptions.chooseOptionLabel=this.options.chooseOptionLabel;this.configOptions.labelWidthAuto=false;this.configOptions.displayMode=this.options.displayMode;this.configOptions._scope_obj_uuid=this.options._scope_obj_uuid;var _207=this.internal?this.mainGridId+"_selectbox_"+_204+"_"+this.colID+"_"+this.id:this.mainGridId+"_selectbox_"+this.colID;this.select=new $W._a._r(_207,this.configOptions,this.xml);this.mainGrid.dom[this.select.id]=this.select;this.comp=this.select;if(this.internal){this.comp.setNodeSet(this.initializeInfo.itemSet.nodeset,this.initializeInfo.itemSet.label,this.initializeInfo.itemSet.value);}if(this.options.selectSetter!=""){for(var i=0;i<this.itemArr.length;i++){this.select.addItem(this.itemArr[i].value,this.itemArr[i].label);}}this.select.setSelectedIndex1=function(idx){var _20a=this.selectedIndex;var _20b=this.getValue();this.setSelectedIndex(idx);if(_20a!=this.selectedIndex){var _20c=_205.mainGrid.getColumnIndex(_205.mainGrid.editedCell.id);var _20d=_205.editRowIndex;var info={"oldValue":_20b,"newValue":this.getValue(),"oldSelectedIndex":_20a,"newSelectedIndex":this.selectedIndex,"rowIndex":_20d,"colIndex":_20c};$W._c.fireEvent(_205.mainGrid,"onviewchange",info);}this.closeSubLayer();_205.handleEndEdit();};this.select.__openSubLayer=this.select.openSubLayer;this.select.openSubLayer=function(){this.__openSubLayer();};this.select.__closeSubLayer=this.select.closeSubLayer;this.select.closeSubLayer=function(_20f){this.__closeSubLayer(_20f);_205.mainGrid.setFocusedCell();};this.select._handleClickEvent=this.select.handleClickEvent;this.select.handleClickEvent=function(e){this._handleClickEvent(e);$W._c.stopEvent(e);_205.handleEndEdit();};this.select._refreshItemset=this.select.refreshItemset;this.select.refreshItemset=function(mode){_205.resetMatchInfo=true;this._refreshItemset(mode);};}td.innerHTML=this.select.toHTML();this.select.activate();this.select.setSize(td.clientWidth-2,td.clientHeight-2);this.select.render.style.border="1px solid "+this.mainGrid.options.selectedCellColor;};$W._a._J.select.prototype.createItemTable=function(td,_213){["WebSquare.uiplugin.cellInfo.select.prototype.createItemTable"];var _214=this;if(this.existGridViewItemsetNode){this.select._openOtherLayer();}this.select.setSubLayer();var _215=this.select.itemTable;if(!this.existGridViewItemsetNode){_215.addClickEventListener(function(_216){_214.select.setSelectedIndex1(_216);var fc=_214.mainGrid.getLastFocusedCell();if(_214.editRowIndex==fc.focusedRowIndex&&_214.col_index==fc.focusedColIndex&&!_214.options.moveEditModeByChoice){if(!_214.mainGrid.isVirtualCursor()){_214.mainGrid.setFocusedCell();}}if(_214.options.moveEditModeByChoice){var _218=true;$W.editEndGridObj[_214.mainGrid.id]=true;var _219=_214.options.moveEditModeByChoice;switch(_219){case "down":_214.mainGrid.moveVertical(false,_219,_218);break;case "right":_214.mainGrid.moveHorizontal(false,_219,_218);break;case "none":break;}}});_215.addKeyDownEventListener(function(e){switch(e.keyCode){case 9:if(this.options.tableRender=="ul"){var _21b=this.getSelectedIndex();_21b=parseInt(_21b);if(this.endReached){this.endReached=false;_214.mainGrid.editedCell.handleCancelEdit(e);_214.mainGrid.setFocusedCell();}}else{this.fireClick(e);var fc=_214.mainGrid.getLastFocusedCell();if(_214.editRowIndex==fc.focusedRowIndex&&_214.col_index==fc.focusedColIndex){_214.mainGrid.moveHorizontal(e,e.shiftKey?"left":"right",_214.mainGrid.options.keyMoveEditMode);}}break;case 13:var fc=_214.mainGrid.getLastFocusedCell();if(_214.editRowIndex==fc.focusedRowIndex&&_214.col_index==fc.focusedColIndex&&!_214.options.moveEditModeByChoice){if(_214.mainGrid.options.fastEditMode){if(_214.mainGrid.options.enterKeyMove=="none"){}else{if(_214.mainGrid.options.enterKeyMove=="right"){_214.mainGrid.moveHorizontal(e,e.shiftKey?"left":"right",_214.mainGrid.options.keyMoveEditMode);}else{_214.mainGrid.moveVertical(e,e.shiftKey?"up":"down",_214.mainGrid.options.keyMoveEditMode);}}}else{if(!_214.mainGrid.isVirtualCursor()){_214.mainGrid.setFocusedCell();}}}break;case 27:_214.mainGrid.editedCell.handleCancelEdit(e);if(!_214.mainGrid.isVirtualCursor()){_214.mainGrid.setFocusedCell();}break;}});}if($W._G.isOpera()){_215.event.addListener(_215.render,"onkeypress",function(e){if(e.keyCode==9||e.keyCode==27){$W._c.preventDefault(e);}});}if($W.WebSquaredoc.itemsetElement.length>0&&$W.WebSquaredoc.itemsetElement[$W.WebSquaredoc.itemsetElement.length-1].id==this.mainGridId+"_selectbox_"+this.colID){$W.WebSquaredoc.itemsetElement.pop();}};$W._a._J.select.prototype.setInnerHTML=function(td,data,_220,_221){if(this.options.embeddedInput){var _222=this.mainGrid.getInput(this,td);_222.render.setAttribute("rowindex",_220);if(this.options.selectSetter!=""&&!this.dataComp){this.initSelectSetter();_222.itemArr=this.itemArr;_222.setSelectOptions();}if(this.hasRef&&!this.dataComp){var _223=this.mainGrid.getElemRowIndex(td);_222.itemArr=this.getRefItemArr(_223);_222.setSelectOptions();}if(this.dataComp){var _224=this.mainGrid.modelControl.getDataComp(this.dataComp);if(_224.initializeType==="linkedDataList"&&_224.conditionInfo!=undefined&&_224.conditionInfo.targetInfo!=undefined){var _225=_224.conditionInfo.targetInfo;var _226={};for(var item in _225){var _228=this.mainGrid.modelControl.getDataComp(item);if(!_228||_228.initializeType==null||_228.initializeType==="dataMap"){continue;}var _229=_228.getRowPosition();if(_229!=_220){_226[item]=_229;if(_228.initializeType==="linkedDataList"){_228._dataList.rowPosition=_228.filteredRowIndexArr[_220];}else{_228.rowPosition=_220;}}}_224.syncWithParent();for(var _22a in _226){var _22b=this.mainGrid.modelControl.getDataComp(_22a);if(_22b.initializeType==="linkedDataList"){_22b._dataList.rowPosition=_22b.filteredRowIndexArr[_226[_22a]];}else{_22b.rowPosition=_226[_22a];}}var _22c=_224.getAllJSON();var _22d=[];for(var i=0;i<_22c.length;i++){_22d.push({"label":_22c[i][this.itemsetObj.label],"value":_22c[i][this.itemsetObj.value]});}_222.setNodeSet("",this.itemsetObj.label,this.itemsetObj.value);_222.itemArr=_22d;_222.setSelectOptions();}}_222.setValue(data);if(!_222.setValueNM(data)&&!this.dataComp){var _22f={};_22f[this.mainGrid.id]=true;this.mainGrid.dataList.setCellData(_222.render.getAttribute("rowindex"),_222.render.parentNode.getAttribute("col_id"),_222.getValue(),null,null,null,_22f);}var _230=$W._G.getGlobalFunction(this.options.customFormatter,this.scope_id);if(typeof _230=="function"){this.useCustomFormatter=true;var _231=_230.call(this.mainGrid,data,label,_220,_221);_222.dom.label.innerHTML=_231;}var _232=false;if(this.mainGrid.getEditDisabled(_220,_221)){_222.setDisabled(true);_232=true;}else{_222.setDisabled(false);}if(this.mainGrid.getEditReadOnly(td,_220)){_222.setReadOnly(true);_232=true;}else{_222.setReadOnly(false);}if(_232){_222.dom.select.disabled=true;}else{_222.dom.select.disabled=false;}td.removeAttribute("tabIndex");}else{this.initSelectSetter();var _223=_220;if(data==null){data="";}var _230=$W._G.getGlobalFunction(this.options.customFormatter,this._scopeId);var _231;if(typeof _230=="function"){this.useCustomFormatter=true;var _233=this.getDisplayData(data,_223);_231=_230.call(this.mainGrid,data,_233,_220,_221);}else{this.useCustomFormatter=false;_231=this.getData(data,_223);}var _234=this.internal?this.mainGridId+"_selectbox_"+_220+"_"+this.colID+"_"+this.id:this.mainGridId+"_selectbox_"+this.colID;var _235=this.options.title?" title='"+this.options.title+"'":"";if($W._G.isSafari()&&navigator.userAgent.indexOf("Windows")!=-1){if(this.mainGrid.options.plainText&&td.firstChild&&td.firstChild.firstChild){td.firstChild.firstChild.data=_231;}else{td.innerHTML="";var noBR=document.createElement("nobr");noBR.style.cssText="overflow : hidden; text-overflow:ellipsis; display:block; width:100%;";if(this.options.tableRender=="ul"){noBR.innerHTML="<a href='#"+_234+"_itemTable' onclick='event.returnValue=false; return false;' class='w2selectbox_ul_table_main'"+_235+">"+_231+"</a>";}else{noBR.textContent=_231;}td.appendChild(noBR);}}else{if(this.mainGrid.options.plainText&&td.firstChild&&td.firstChild.firstChild){td.firstChild.firstChild.data=_231;}else{if(this.options.viewType=="icon"){td.innerHTML="";var noBR=document.createElement("nobr");noBR.style.cssText="overflow : hidden; text-overflow:ellipsis; display:block; width:auto;";if(this.options.tableRender=="ul"){noBR.innerHTML="<a href='#"+_234+"_itemTable' onclick='event.returnValue=false; return false;' class='w2selectbox_ul_table_main'"+_235+">"+_231+"</a>";}else{if(noBR.textContent!=null){noBR.textContent=_231;}else{noBR.innerText=_231;}}td.appendChild(noBR);}else{if(this.options.tableRender=="ul"){td.innerHTML="<nobr><a href='#"+_234+"_itemTable' onclick='event.returnValue=false; return false;' class='w2selectbox_ul_table_main'"+_235+">"+_231+"</a></nobr>";}else{td.innerHTML="<nobr>"+_231+"</nobr>";}}}}var _237=this.mainGrid.dataList.getRealRowIndex(_220);var _238=this.mainGrid.getCellOption(_237,_221,"viewType");var _239=this.mainGrid.getColumnOption(this.options.col_id,"dataType");if(_238=="icon"||(_238==""&&_239=="own")){this.mainGrid.addClass(td,this.mainGrid.options.bodyTdClass+"_select");td.setAttribute("editModeEvent","onclick");}else{if(this.options.editModeEvent=="onclick"){td.setAttribute("editModeEvent","onclick");}else{if(this.options.editModeEvent=="ondblclick"){td.setAttribute("editModeEvent","ondblclick");}else{if(this.options.editModeEvent=="onsecondclick"){td.setAttribute("editModeEvent","onsecondclick");}else{this.mainGrid.removeClass(td,this.mainGrid.options.bodyTdClass+"_select");td.setAttribute("editModeEvent","");}}}}if(this.options.tableRender=="ul"){var _23a=this;this.mainGrid.event.addListener(td,"onfocus",this.mainGrid.event.bindAsEventListener(this.mainGrid,function(e){var _23c=$W._c.getTarget(e);_23a.mainGrid.lastEvent=e;var _23d=_23a.mainGrid.getLastFocusedCell();if(_23d.focusedColIndex==0&&_23d.focusedRowIndex==0){return;}if($W._G.isIEAllVersion()&&_23d.focusedRowIndex&&_23d.focusedRowIndex!=_220){return;}if(_23d.focusedTd!=_23c&&!_23a.mainGrid.focusedByApi){_23a.mainGrid.setFocusedCell(_220,_23c.getAttribute("col_id"));}_23a.mainGrid.focusedByApi=false;if(_23c.childNodes[0]&&_23c.childNodes[0].childNodes[0]){var aTag=_23c.childNodes[0].childNodes[0];if(aTag.tagName=="A"){aTag.focus();}}}));}}};$W._a._J.select.prototype.setColumnNodeSet=function(_23f,_240,_241){["WebSquare.uiplugin.cellInfo.select.prototype.setColumnNodeSet"];try{if(this.internal){this.itemsetObj.nodeset=_23f;this.itemsetObj.label=_240;this.itemsetObj.value=_241;}else{var _242=$W._B.findNode(this.xml,"*['"+"choices"+"'=local-name()]['"+$W._N._XML_NAMESPACE.W2+"'=namespace-uri()]");if(_242==null){_242=$W._B.createNode(this.xml,"w2:choices");$W._B.appendChild(this.xml,_242);}while(_242&&_242.firstChild){_242.removeChild(_242.firstChild);}var _243="<w2:itemset xmlns:w2='http://www.inswave.com/websquare' nodeset='"+_23f+"'>"+"<w2:label ref='"+_240+"'></w2:label>"+"<w2:value ref='"+_241+"'></w2:value>"+"</w2:itemset>";var _244=$W._B.parse(_243,true).documentElement;$W._B.appendChild(_242,_244);this.initializeCellInfo(this.xml);}if(this.options.embeddedInput==true){var _245;var _246=this.mainGrid.tdIdList.length;var _247=this.mainGrid.getColumnIndex(this.options.id);var _248=this.mainGrid.getRowCount();for(var i=0;i<_248;i++){_245=this.mainGrid.getInput(this,this.mainGrid.data_td_list[i*_246+_247]);_245.setNodeSet(_23f,_240,_241);}}if(this.select){this.select.setNodeSet(_23f,_240,_241);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._J.select.prototype.setColumnChooseOption=function(_24a,_24b){["WebSquare.uiplugin.cellInfo.select.prototype.setColumnChooseOption"];this.options.chooseOption=true;this.options.chooseOptionValue=_24a;this.options.chooseOptionLabel=_24b;if(this.select){this.select.changeChooseOption(_24a,_24b);}};$W._a._J.select.prototype.showChooseOption=function(flag){["WebSquare.uiplugin.cellInfo.select.prototype.showChooseOption"];this.options.chooseOption=flag;this.matchInfo=this.setMatchInfo();if(this.select&&flag){this.select.showChooseOption(flag);}else{if(this.select&&!flag){this.select.showChooseOption(flag);if(this.select.itemArr.length>1&&this.select.selectedIndex!=0){this.select.selectedIndex-=1;}else{this.select.selectedIndex=0;}this.editTd.innerHTML="<nobr>"+this.getData(this.select.getValue(),this.select.selectedIndex)+"</nobr>";}}};$W._a._J.select.prototype.refReplace=function(_24d){["WebSquare.uiplugin.cellInfo.select.prototype.refReplace"];var _24e=_24d.replace(/ref\('([^']*)'\)/,"\"+this.getRefValue('$1')+\"");if(_24e!=_24d){return this.refReplace(_24e);}return _24e;};$W._a._J.select.prototype.refXmlReplace=function(_24f){["WebSquare.uiplugin.cellInfo.select.prototype.refXmlReplace"];var _250=_24f.replace(/ref\('([^']*)'\)/,"'+this.getRefValue('$1')+'");if(_250!=_24f){return this.refXmlReplace(_250);}return _250;};$W._a._J.select.prototype.setMatchInfo=function(_251){["WebSquare.uiplugin.cellInfo.select.prototype.setMatchInfo"];this.modelControl=new $W.modelControl(this.colID,this.options.model,this.options.ref,this.itemsetObj,this.options.bind,this.options._scope_obj_uuid);if(this.existGridViewItemsetNode){this.initializeGridViewItemArr(this.xml);}else{this.initializeItemArr(this.xml);}if(this.itemArr.length==0){this.resetMatchInfo=true;}else{this.resetMatchInfo=false;}if(this.options.displayMode!="0"){for(var i=0;i<this.itemArr.length;i++){this.itemArr[i].label=this.getItemText(i);}}var _253={};if(this.options.allOption==true){var _254=$W._m.getMessage("Grid_all")||"-\uc804\uccb4-";this.itemArr=[{label:_254,value:$W.allValue}].concat(this.itemArr);}if(this.options.chooseOption==true){var _255=this.options.chooseOptionLabel;if(_255=="$blank"){_255="";}this.itemArr=[{label:_255,value:this.options.chooseOptionValue}].concat(this.itemArr);}if(this.hasRef){this.refItemArr[this.itemsetObj.nodeset]=this.itemArr;}for(var i=0;i<this.itemArr.length;i++){var _256=this.itemArr[i];_253["SELECT_"+_256.value]=_256.label;}return _253;};$W._a._J.select.prototype.getItemText=function(idx){["WebSquare.uiplugin.selectbox.getItemText"];try{var text="";if(idx>-1&&idx<this.itemArr.length){text=this.itemArr[idx].label;switch(this.options.displayMode){case "0":case "1":case "2":case "3":break;case "value delim label":this.options.displayMode="1";break;case "label delim value":this.options.displayMode="2";break;case "value":this.options.displayMode="3";break;default:this.options.displayMode="0";}switch(this.options.displayMode){case "0":break;case "1":text=this.itemArr[idx].value+this.options.delimiter+text;break;case "2":text=text+this.options.delimiter+this.itemArr[idx].value;break;case "3":text=this.itemArr[idx].value;break;}}return text;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._J.select.prototype.getMatchInfo=function(_259){["WebSquare.uiplugin.cellInfo.select.prototype.getMatchInfo"];var _25a=[];if(this.options.selectSetter!=""){_25a=this.matchInfo;}else{if(this.hasRef){_25a=this.getRefMatchInfo(_259);}else{if(!this.hasRef){if(this.resetMatchInfo){this.matchInfo=this.setMatchInfo(_259);}_25a=this.matchInfo;}}}return _25a;};$W._a._J.select.prototype.getRefMatchInfo=function(_25b){["WebSquare.uiplugin.cellInfo.select.prototype.getRefMatchInfo"];this.targetRowIndex=_25b;var _25c=eval(this.refStr);if(this.refHash[_25c]!=null&&!this.resetMatchInfo){return this.refHash[_25c];}else{this.itemsetObj.nodeset=_25c;var _25d=$W._B.getElementsByTagName(this.xml,"w2:itemset");_25d[0].setAttribute("nodeset",_25c);var _25e=this.setMatchInfo();this.refHash[_25c]=_25e;return _25e;}return [];};$W._a._J.select.prototype.getRefItemArr=function(_25f){["WebSquare.uiplugin.cellInfo.select.prototype.getRefItemArr"];this.getRefMatchInfo(_25f);key=eval(this.refStr);return this.refItemArr[key];};$W._a._J.select.prototype.getRefValue=function(_260){["WebSquare.uiplugin.cellInfo.select.prototype.getRefValue"];var _261="\""+this.mainGrid.dataList.getCellData(this.targetRowIndex,_260)+"\"";return _261;};$W._a._J.select.prototype.getData=function(data,_263){["WebSquare.uiplugin.cellInfo.select.prototype.getData"];try{var ret="";var _265=null;if(this.dataComp){var _266=this.mainGrid.modelControl.getDataComp(this.dataComp);if(_266.initializeType==="linkedDataList"&&_266.conditionInfo!=undefined&&_266.conditionInfo.targetInfo!=undefined){var _267=_266.conditionInfo.targetInfo;var _268={};for(var item in _267){var _26a=this.mainGrid.modelControl.getDataComp(item);if(!_26a||_26a.initializeType==null||_26a.initializeType==="dataMap"){continue;}var _26b=_26a.getRowPosition();if(_26b!=_263){_268[item]=_26b;if(_26a.initializeType==="linkedDataList"){_26a._dataList.rowPosition=_26a.filteredRowIndexArr[_263];}else{_26a.rowPosition=_263;}}}_266.syncWithParent();for(var _26c in _268){var _26d=this.mainGrid.modelControl.getDataComp(_26c);if(_26d.initializeType==="linkedDataList"){_26d._dataList.rowPosition=_26d.filteredRowIndexArr[_268[_26c]];}else{_26d.rowPosition=_268[_26c];}}}var _26e=null;var _26f=null;if(_266.initializeType==="linkedDataList"){_26e=_266._dataList;_26f=_266.initialRowIndexArr;}else{if(_266.initializeType==="dataList"){_26e=_266;_26f=_26e.filteredRowIndexArr;}}if(!this.select&&_26e!=null){try{var ret="";var _270,valueColumn;if(this.internal){_270=this.itemsetObj.label;valueColumn=this.itemsetObj.value;}else{var _271=$W._B.getElementsByTagName(this.xml,"label",$W._N._XML_NAMESPACE.W2);var _272=$W._B.getElementsByTagName(this.xml,"value",$W._N._XML_NAMESPACE.W2);if(_271.length>0&&_272.length>0){_270=$W._B.getAttribute(_271[0],"ref");valueColumn=$W._B.getAttribute(_272[0],"ref");}}var _273=_270!=undefined?_26e.bodyIdColIndexMap[_270]:_26e.bodyIdColIndexMap[this.itemsetObj.label];var _274=valueColumn!=undefined?_26e.bodyIdColIndexMap[valueColumn]:_26e.bodyIdColIndexMap[this.itemsetObj.value];for(var i=0;i<_26f.length;i++){var _276=_26f[i]*_26e.cellIdList.length;if(data==_26e.dataArr[_276+_274]){ret=_26e.dataArr[_276+_273];if(this.options.displayMode==="value delim label"){ret=data+this.options.delimiter+ret;}else{if(this.options.displayMode==="label delim value"){ret=ret+this.options.delimiter+data;}else{if(this.options.displayMode==="value"){ret=data;}}}if(typeof ret=="undefined"||ret=="$blank"){ret="";}return ret;}}if(this.selectedIndex>=0&&this.selectedIndex<_26f.length&&!this.options.chooseOption){ret=_26e.dataArr[_26f[this.selectedIndex]*_26e.cellIdList.length+_273];if(this.options.displayMode==="value delim label"){ret=data+this.options.delimiter+ret;}else{if(this.options.displayMode==="label delim value"){ret=ret+this.options.delimiter+data;}else{if(this.options.displayMode==="value"){ret=data;}}}}else{if(this.options.allOption&&data==$W.allValue){var _277=$W._m.getMessage("Grid_all")||"-\uc804\uccb4-";ret=_277;}else{if(this.options.chooseOption&&data==this.options.chooseOptionValue){ret=this.options.chooseOptionLabel;}else{if(!this.options.selectedData){ret=data;}else{if(data==""){ret="";}else{var _276=0;if(this.mainGrid._linkedDataList){_276=this.mainGrid._linkedDataList.filteredRowIndexArr[_263];}else{_276=this.mainGrid._dataList.filteredRowIndexArr[_263];}var _278=this.mainGrid._dataList.cellIdList.length;var _279=this.mainGrid._dataList.bodyIdColIndexMap[this.colID];this.mainGrid._dataList.dataArr[_276*_278+_279]="";ret="";}}}}}if(typeof ret=="undefined"||ret=="$blank"){ret="";}return ret;}catch(e){$W.exception.printStackTrace(e,null,this);return data;}}var _27a=false;for(var i=0;i<this.select.itemArr.length;i++){if(this.select.itemArr[i].value==data){_27a=true;ret=this.select.itemArr[i].label;break;}}if(!_27a){if(data==""&&this.selectedIndex!=-1&&!this.options.chooseOption){ret=this.select.itemArr[this.selectedIndex].label;this.mainGrid.dataList.setCellData(_263,this.colID,ret);}else{if(this.options.allOption&&data==$W.allValue){var _277=$W._m.getMessage("Grid_all")||"-\uc804\uccb4-";ret=_277;}else{if(this.options.chooseOption&&data==this.options.chooseOptionValue){ret=this.options.chooseOptionLabel;}else{if(!this.options.selectedData){ret=data;}}}}}}else{var _27b=this.getMatchInfo(_263);if(data==""&&this.selectedIndex!=-1&&!this.options.chooseOption){this.mainGrid.dataList.setCellData(_263,data);ret=_27b["SELECT_"+this.itemArr[this.selectedIndex].label];}else{ret=_27b["SELECT_"+data];}}if(typeof ret=="undefined"||ret=="$blank"){return "";}return ret;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._J.select.prototype.getDisplayData=function(data,_27d){["WebSquare.uiplugin.cellInfo.select.prototype.getDisplayData"];var ret="";if(this.dataComp&&this.select){}var ret=this.getData(data,_27d);if(ret==null){ret="";}if(ret!=data&&ret==""){ret=data;}return ret;};$W._a._J.select.prototype.initSelectSetter=function(){["WebSquare.uiplugin.drawController.Select.prototype.initSelectSetter"];if(this.selectSetted==false&&this.options.selectSetter!=""&&!this.dataComp){this.selectSetted=true;var _27f=[];try{this.options.selectSetter=this.options.selectSetter.wq_trim();if(this.options.selectSetter.indexOf("(")<0){this.options.selectSetter+="()";}_27f=eval(this.options.selectSetter);}catch(e){$W.exception.printStackTrace(e);}this.itemArr=_27f;this.matchInfo=[];for(var i=0;i<_27f.length;i++){var _281=_27f[i];if(_281.value==null){_281.value="";}this.matchInfo["SELECT_"+_281.value]=_281.label;}}};$W._a._J.select.prototype.setEditMode=function(td,_283){["WebSquare.uiplugin.cellInfo.select.prototype.setEditMode"];if(this.options.embeddedInput){return;}if(this.style==""){this.createSelectbox(td,_283);}else{td.innerHTML="";td.appendChild(this.select.render);}if(this.mainGrid.directItemChoiceKeyObj.select){this.editTd=td;this.editRowIndex=_283;if(this.internal){this.parentColumnInfo.editRowIndex=_283;this.parentColumnInfo.editTd=td;}this.select.setValue(this.mainGrid.dataList.getCellData(_283,this.colID));var _284=this.select.findItemStartedWithKeyChar(this.mainGrid.directItemChoiceKeyObj.select);this.mainGrid.dataList.setCellData(_283,this.colID,this.select.getValue());this.mainGrid.directItemChoiceKeyObj.select=null;if(this.options.moveFocusByChoice){if(_284){this.moveFocus(this.editRowIndex,this.colID);}}if(_284){return;}else{this.mainGrid.editedCell=this.mainGrid.getCellInfo(td);td.innerHTML="";td.appendChild(this.select.render);}}if(!this.select.itemTable&&!this.mainGrid.directItemChoiceKeyObj.select){if(this.existGridViewItemsetNode){this.editTd=td;}this.createItemTable(td,_283);}if(this.hasRef&&!this.dataComp){var _285=this.mainGrid.getElemRowIndex(td);this.select.itemArr=this.getRefItemArr(_285);this.select.itemTable.show();this.select.setSelectOptions();}this.editRowIndex=_283;this.editTd=td;if(this.internal){this.parentColumnInfo.editRowIndex=_283;this.parentColumnInfo.editTd=td;}this.select.setValue(this.mainGrid.dataList.getCellData(_283,this.colID));if(this.select.getItemCount()==0){this.select.selectedIndex=-1;this.select.dom.label.innerHTML="";}if(this.existGridViewItemsetNode){var _286=td.clientWidth-2;this.select.setSize(td.clientWidth-2,td.clientHeight-2);this.select.itemTable.setStyle("width",td.clientWidth-4+"px");this.select.openSubLayer();}else{var _286=td.clientWidth-2;this.select.setSize(td.clientWidth-2,td.clientHeight-2);this.select.itemTable.setStyle("width",td.clientWidth-4+"px");this.select.openSubLayer();var _287=this.mainGrid.render.offsetWidth;var _288=this.select.itemTable.render.offsetWidth;var _289=this.select.itemTable.render.firstChild.offsetWidth;if(_288-2>_286){_286=_288-2;}if(this.select.itemTable.render.clientHeight>=this.select.itemTable.render.scrollHeight||this.select.getItemCount()<=this.select.options.visibleRowNum){this.select.itemTable.render.firstChild.style.width=_286+"px";if(_287>_288&&_289<_288){if(this.select.itemTable.render.firstChild.firstChild.offsetWidth<=_286){this.select.itemTable.setStyle("width",_286+"px");}}}else{this.select.itemTable.render.firstChild.style.width=(_286-17)+"px";this.select.setSize(td.clientWidth-2,td.clientHeight-2);if(_287>_288&&_289+17<=_288-2){if(this.select.itemTable.render.firstChild.firstChild.offsetWidth<=_286){this.select.itemTable.setStyle("width",_286+"px");}}}}td.style.textOverflow="ellipsis";};$W._a._J.select.prototype._handleEndEdit_common=function(e){["WebSquare.uiplugin.cellInfo.select.prototype._handleEndEdit"];try{this.select.closeSubLayer();var _28b=this.select.getValue();var _28c=this.mainGrid.dataList.getCellData(this.editRowIndex,this.colID);try{if(this.select.render.parentNode){this.editTd.removeChild(this.select.render);}}catch(e){return;}this.setInnerHTML(this.editTd,_28b,this.editRowIndex,this.getColumnIndex(this.colID));var _28d={};_28d[this.mainGrid.id]=true;this.mainGrid.dataList.setCellData(this.editRowIndex,this.colID,_28b,null,null,null,_28d);}catch(e){$W.exception.printStackTrace(e,null,this.mainGrid);}};$W._a._J.select.prototype._handleEndEdit_focus=function(){if(this.options.moveFocusByChoice){this.moveFocus(this.editRowIndex,this.colID);}};$W._a._J.select.prototype._getEditedValue=function(e){["WebSquare.uiplugin.cellInfo.select.prototype._getEditedValue"];var _28f=this.select.getValue();return _28f;};$W._a._J.select.prototype._handleCancelEdit=function(e){["WebSquare.uiplugin.cellInfo.select.prototype._handleCancelEdit"];this.select.closeSubLayer();var _291=this.mainGrid.dataList.getCellData(this.editRowIndex,this.colID);this.editTd.removeChild(this.select.render);this.setInnerHTML(this.editTd,_291,this.editRowIndex,this.getColumnIndex(this.colID));};$W._a._J.select.prototype.doDefaultAction=function(e){["WebSquare.uiplugin.cellInfo.select.prototype.doDefaultAction"];if(!e.ctrlKey){this.mainGrid.setEditHtml(e);}};$W._a._J.select.prototype.moveFocus=function(_293,_294){["WebSquare.uiplugin.cellInfo.select.prototype.moveFocus"];if(this.options.moveFocusByChoice){var _295=this.options.moveFocusByChoice;switch(_295){case "down":this.mainGrid.setFocusedCell(_293+1,_294,false);break;case "right":var _296=this.mainGrid.getColumnIndex(_294)+1;this.mainGrid.setFocusedCell(_293,_296,false);break;case "none":break;}}};$W._a._J.select.prototype.refreshCell=function(){["WebSquare.uiplugin.cellInfo.select.prototype.refreshCell"];try{if(!this.options.selectedData){return;}if(!this.dataComp){return;}var _297=$W._G.getComponentById(this.dataComp);if(!_297){return;}var _298=null;if(_297.initializeType==="linkedDataList"){_298=_297._dataList;}else{if(_297.initializeType==="dataList"){_298=_297;}}var _299=_298.filteredRowIndexArr;if(_298==null){return;}if(this.internal){labelColumn=this.itemsetObj.label;valueColumn=this.itemsetObj.value;}else{var _29a=$W._B.getElementsByTagName(this.xml,"label",$W._N._XML_NAMESPACE.W2);var _29b=$W._B.getElementsByTagName(this.xml,"value",$W._N._XML_NAMESPACE.W2);if(_29a.length>0&&_29b.length>0){labelColumn=$W._B.getAttribute(_29a[0],"ref");valueColumn=$W._B.getAttribute(_29b[0],"ref");}}var _29c=labelColumn!=undefined?_298.bodyIdColIndexMap[labelColumn]:_298.bodyIdColIndexMap[this.itemsetObj.label];var _29d=valueColumn!=undefined?_298.bodyIdColIndexMap[valueColumn]:_298.bodyIdColIndexMap[this.itemsetObj.value];var _29e;if(this.mainGrid.groupbyStatus.grouped){_29e=this.mainGrid.groupbyStatus.groupbyRowIndexArr;}else{if(this.mainGrid._linkedDataList){_29e=this.mainGrid._linkedDataList.filteredRowIndexArr;}else{_29e=this.mainGrid._dataList.filteredRowIndexArr;}}var _29f=this.mainGrid._dataList.cellIdList.length;var _2a0=this.mainGrid._dataList.bodyIdColIndexMap[this.id];for(var mIx=0;mIx<_29e.length;mIx++){var _2a2=_29e[mIx];if(typeof _2a2==="object"){continue;}var _2a3=this.mainGrid._dataList.dataArr[_2a2*_29f+_2a0];if(this.options.allOption&&_2a3==$W.allValue){continue;}if(this.options.chooseOption&&_2a3==this.options.chooseOptionValue){continue;}if(_2a3==""&&_2a3!==0){continue;}var _2a4=false;for(var dIx=0;dIx<_299.length;dIx++){if(_2a3==_298.dataArr[_299[dIx]*_298.cellIdList.length+_29d]){_2a4=true;break;}}if(_2a4){continue;}var _2a6="";if(this.selectedIndex>=0&&this.selectedIndex<_299.length&&!this.options.chooseOption){_2a6=_298.dataArr[_299[this.selectedIndex]*_298.cellIdList.length+_29c];}this.mainGrid._dataList.dataArr[_2a2*_29f+_2a0]=_2a6;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._J.checkcombobox=function(){["WebSquare.uiplugin.cellInfo.checkcombobox"];};$W._a._J.checkcombobox.prototype.initializeCellInfo=function(_2a7){["WebSquare.uiplugin.cellInfo.checkcombobox.prototype.initializeCellInfo"];this.compID=this.internal?this.mainGridId+"_checkcombobox_"+this.initializeInfo.rowIndex+"_"+this.colID+"_"+this.id:this.mainGridId+"_checkcombobox_"+this.colID;var _2a8=$W._B.serialize(_2a7);var _2a9=_2a8.indexOf("xmlns:w2")<0?" xmlns:w2=\"http://www.inswave.com/websquare\"":"";_2a8=_2a8.wq_replaceAll("<w2:column","<w2:checkcombobox"+_2a9);_2a8=_2a8.wq_replaceAll("</w2:column","</w2:checkcombobox");var elem=$W._B.parse(_2a8,true);this.xml=elem.documentElement;$W.extend(this,$W.itemsetControl.prototype);this.hasRef=false;if(this.internal){this.itemsetObj=this.initializeInfo.itemSet?this.initializeInfo.itemSet:{nodeset:"",label:"",value:""};}else{this.itemsetObj=$W.WebSquareparser.parseItemset(this.xml);}this.resetMatchInfo=true;var _2ab=this.itemsetObj.nodeset.wq_replaceAll(" ","");if(this.itemsetObj.nodeset!=""&&_2ab.indexOf("ref(")>=0){this.hasRef=true;var _2ac=this.itemsetObj.nodeset;this.refStr="\""+this.refReplace(_2ac)+"\"";var _2ad=_2ac.match(/ref\('([^']*)'\)/g);for(var i=0;i<_2ad.length;i++){var _2af=_2ad[i].slice(5,-2);var _2b0=this.mainGrid.getCellInfo(_2af);if(!_2b0.refArr){_2b0.refArr=[];}_2b0.refArr.push(this.colID);}this.refHash=[];this.refItemArr=[];}else{if(this.itemsetObj.nodeset!=""&&_2ab.indexOf("data:")>=0){var _2b1=this.itemsetObj.nodeset.replace("data:","").split(".");this.dataComp=_2b1[0];}else{this.matchInfo=this.setMatchInfo();}}if(!this.refArr){this.refArr=[];}this.separator=this.options.separator||" ";this.options.selectedData=(this.options.selectedData=="false"||this.options.selectedData===false)?false:true;};$W._a._J.checkcombobox.prototype.refReplace=function(_2b2){["WebSquare.uiplugin.cellInfo.checkcombobox.prototype.refReplace"];var _2b3=_2b2.replace(/ref\('([^']*)'\)/,"\"+this.getRefValue('$1')+\"");if(_2b3!=_2b2){return this.refReplace(_2b3);}return _2b3;};$W._a._J.checkcombobox.prototype.refXmlReplace=function(_2b4){["WebSquare.uiplugin.cellInfo.checkcombobox.prototype.refXmlReplace"];var _2b5=_2b4.replace(/ref\('([^']*)'\)/,"'+this.getRefValue('$1')+'");if(_2b5!=_2b4){return this.refXmlReplace(_2b5);}return _2b5;};$W._a._J.checkcombobox.prototype.setMatchInfo=function(_2b6){["WebSquare.uiplugin.cellInfo.checkcombobox.prototype.setMatchInfo"];this.modelControl=new $W.modelControl(this.colID,this.options.model,this.options.ref,this.itemsetObj,this.options.bind,this.options._scope_obj_uuid);this.initializeItemArr(this.xml);if(this.itemArr.length==0){this.resetMatchInfo=true;}else{this.resetMatchInfo=false;}if(this.options.displayMode!="0"){for(var i=0;i<this.itemArr.length;i++){this.itemArr[i].label=this.getItemText(i);}}var _2b8={};if(this.options.allOption==true){var _2b9=$W._m.getMessage("Grid_all")||"-\uc804\uccb4-";this.itemArr=[{label:_2b9,value:$W.allValue}].concat(this.itemArr);}if(this.hasRef){this.refItemArr[this.itemsetObj.nodeset]=this.itemArr;}for(var i=0;i<this.itemArr.length;i++){var _2ba=this.itemArr[i];_2b8["CHECKCOMBOBOX_"+_2ba.value]=_2ba.label;}return _2b8;};$W._a._J.checkcombobox.prototype.getItemText=function(idx){["WebSquare.uiplugin.cellInfo.checkcombobox.getItemText"];try{var text="";if(idx>-1&&idx<this.itemArr.length){text=this.itemArr[idx].label;switch(this.options.displayMode){case "0":case "1":case "2":break;case "value delim label":this.options.displayMode="1";break;case "label delim value":this.options.displayMode="2";break;default:this.options.displayMode="0";}switch(this.options.displayMode){case "0":break;case "1":text=this.itemArr[idx].value+this.options.delimiter+text;break;case "2":text=text+this.options.delimiter+this.itemArr[idx].value;break;}}return text;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._J.checkcombobox.prototype.getMatchInfo=function(_2bd){["WebSquare.uiplugin.cellInfo.checkcombobox.prototype.getMatchInfo"];var _2be=[];if(this.hasRef){_2be=this.getRefMatchInfo(_2bd);}else{if(!this.hasRef){if(this.resetMatchInfo){this.matchInfo=this.setMatchInfo(_2bd);}_2be=this.matchInfo;}}return _2be;};$W._a._J.checkcombobox.prototype.getRefMatchInfo=function(_2bf){["WebSquare.uiplugin.cellInfo.checkcombobox.prototype.getRefMatchInfo"];this.targetRowIndex=_2bf;var _2c0=eval(this.refStr);if(this.refHash[_2c0]!=null&&!this.resetMatchInfo){return this.refHash[_2c0];}else{this.itemsetObj.nodeset=_2c0;var _2c1=$W._B.getElementsByTagName(this.xml,"w2:itemset");_2c1[0].setAttribute("nodeset",_2c0);var _2c2=this.setMatchInfo();this.refHash[_2c0]=_2c2;return _2c2;}return [];};$W._a._J.checkcombobox.prototype.getRefItemArr=function(_2c3){["WebSquare.uiplugin.cellInfo.checkcombobox.prototype.getRefItemArr"];this.getRefMatchInfo(_2c3);key=eval(this.refStr);return this.refItemArr[key];};$W._a._J.checkcombobox.prototype.getRefValue=function(_2c4){["WebSquare.uiplugin.cellInfo.checkcombobox.prototype.getRefValue"];var _2c5="\""+this.mainGrid.dataList.getCellData(this.targetRowIndex,_2c4)+"\"";return _2c5;};$W._a._J.checkcombobox.prototype.setInnerHTML=function(td,data,_2c8,_2c9){if(data==null){data="";}td.innerHTML="<nobr>"+this.getData(data,_2c8)+"</nobr>";var _2ca=this.mainGrid.dataList.getRealRowIndex(_2c8);var _2cb=this.mainGrid.getCellOption(_2ca,_2c9,"viewType");var _2cc=this.mainGrid.getColumnOption(this.options.col_id,"dataType");if(_2cb=="icon"||(_2cb==""&&_2cc=="own")){this.mainGrid.addClass(td,this.mainGrid.options.bodyTdClass+"_checkcombobox");td.setAttribute("editModeEvent","onclick");}else{if(this.options.editModeEvent=="onclick"){td.setAttribute("editModeEvent","onclick");}else{this.mainGrid.removeClass(td,this.mainGrid.options.bodyTdClass+"_checkcombobox");td.setAttribute("editModeEvent","");}}};$W._a._J.checkcombobox.prototype.getDisplayData=function(data,_2ce){["WebSquare.uiplugin.cellInfo.checkcombobox.prototype.getDisplayData"];var ret=this.getData(data,_2ce);if(ret==null){ret="";}if(ret!=data&&ret==""){ret=data;}return ret;};$W._a._J.checkcombobox.prototype.getData=function(data,_2d1){["WebSquare.uiplugin.cellInfo.checkcombobox.prototype.getData"];try{var ret="";data=data.split(this.separator);var _2d3=[];if(this.dataComp){var _2d4=this.mainGrid.modelControl.getDataComp(this.dataComp);if(_2d4.initializeType==="linkedDataList"&&_2d4.conditionInfo!=undefined&&_2d4.conditionInfo.targetInfo!=undefined){var _2d5=_2d4.conditionInfo.targetInfo;var _2d6={};for(var item in _2d5){var _2d8=this.mainGrid.modelControl.getDataComp(item);if(_2d8.initializeType!=null&&_2d8.initializeType!="dataMap"){var _2d9=_2d8.getRowPosition();if(_2d9!=_2d1){_2d6[item]=_2d9;if(_2d8.initializeType==="linkedDataList"){_2d8._dataList.rowPosition=_2d8.filteredRowIndexArr[_2d1];}else{_2d8.rowPosition=_2d1;}}}}_2d4.syncWithParent();for(var _2da in _2d6){var _2db=this.mainGrid.modelControl.getDataComp(_2da);if(_2db.initializeType==="linkedDataList"){_2db._dataList.rowPosition=_2db.filteredRowIndexArr[_2d6[_2da]];}else{_2db.rowPosition=_2d6[_2da];}}}var _2dc=null;var _2dd=null;if(_2d4.initializeType==="linkedDataList"){_2dc=_2d4._dataList;_2dd=_2d4.initialRowIndexArr;}else{if(_2d4.initializeType==="dataList"){_2dc=_2d4;_2dd=_2dc.filteredRowIndexArr;}}if(!this.checkcombobox&&_2dc!=null){try{var ret="";var _2de,valueColumn;if(this.internal){_2de=this.itemsetObj.label;valueColumn=this.itemsetObj.value;}else{var _2df=$W._B.getElementsByTagName(this.xml,"label",$W._N._XML_NAMESPACE.W2);var _2e0=$W._B.getElementsByTagName(this.xml,"value",$W._N._XML_NAMESPACE.W2);if(_2df.length!=0&&_2e0.length!=0){_2de=$W._B.getAttribute(_2df[0],"ref");valueColumn=$W._B.getAttribute(_2e0[0],"ref");}}var _2e1=_2dc.bodyIdColIndexMap[_2de];var _2e2=_2dc.bodyIdColIndexMap[valueColumn];for(var i=0;i<_2dd.length;i++){var _2e4=_2dd[i]*_2dc.cellIdList.length;for(var j=0;j<data.length;j++){if(data[j]==_2dc.dataArr[_2e4+_2e2]){ret=_2dc.dataArr[_2e4+_2e1];if(this.options.displayMode==="value delim label"){ret=data+this.options.delimiter+ret;}else{if(this.options.displayMode==="label delim value"){ret=ret+this.options.delimiter+data;}}_2d3.push(ret);}}}if(_2d3.length>0){return _2d3.join(this.separator);}if(this.options.allOption&&data==$W.allValue){var _2e6=$W._m.getMessage("Grid_all")||"-\uc804\uccb4-";ret=_2e6;}else{if(this.options.chooseOption&&data==this.options.chooseOptionValue){ret=this.options.chooseOptionLabel;}else{if(!this.options.selectedData){ret=data;}else{if(data==""){ret="";}else{var _2e4=0;if(this.mainGrid._linkedDataList){_2e4=this.mainGrid._linkedDataList.filteredRowIndexArr[_2d1];}else{_2e4=this.mainGrid._dataList.filteredRowIndexArr[_2d1];}var _2e7=this.mainGrid._dataList.cellIdList.length;var _2e8=this.mainGrid._dataList.bodyIdColIndexMap[this.id];this.mainGrid._dataList.dataArr[_2e4*_2e7+_2e8]="";ret="";}}}}if(typeof ret=="undefined"||ret=="$blank"){ret="";}return ret;}catch(e){$W.exception.printStackTrace(e,null,this);return data;}}var _2e9=false;for(var i=0;i<this.checkcombobox.itemArr.length;i++){for(var j=0;j<data.length;j++){if(this.checkcombobox.itemArr[i].value==data[j]){_2d3.push(this.checkcombobox.itemArr[i].label);_2e9=true;}}}if(!_2e9){if(_2d3==""&&this.options.chooseOption==true){ret=this.options.useLocale==true?this.getLocaleValue(this.options.chooseOptionLabel):this.options.chooseOptionLabel||this.defaultChooseOptionLabel;ret=$W._B.decode(ret).replace("&nbsp;"," ");}else{if(!this.options.selectedData){ret=data;}}_2d3.push(ret);}ret=_2d3.join(this.separator);}else{var _2ea=this.getMatchInfo(_2d1);var _2e9=false;for(var i=0;i<data.length;i++){ret=_2ea["CHECKCOMBOBOX_"+data[i]];if(typeof ret=="undefined"){continue;}_2d3.push(ret);_2e9=true;}if(!_2e9){if(_2d3==""&&this.options.chooseOption==true){ret=this.options.useLocale==true?this.getLocaleValue(this.options.chooseOptionLabel):this.options.chooseOptionLabel||this.defaultChooseOptionLabel;ret=$W._B.decode(ret).replace("&nbsp;"," ");}else{if(!this.options.selectedData){ret=data;}}_2d3.push(ret);}ret=_2d3.join(this.separator);}if(typeof ret=="undefined"||ret=="$blank"){return "";}return ret;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._J.checkcombobox.prototype.setEditMode=function(td,_2ec){["WebSquare.uiplugin.cellInfo.checkcombobox.prototype.setEditMode"];try{if(this.style==""){this.style="position:relative;left:0px;top:0px;background-color:#ffffff;";this.xml.setAttribute("class",this.mainGridId+"_checkcombobox_"+this.colID);this.xml.setAttribute("chooseOption",this.options.chooseOption+"");this.xml.setAttribute("chooseOptionLabel",this.options.chooseOptionLabel);this.xml.setAttribute("allOption",this.options.allOption+"");this.xml.setAttribute("submenuSize","auto");this.xml.setAttribute("style",this.style);this.xml.setAttribute("disabled",this.mainGrid.getDisabled("cell",_2ec,this.colID));this.configOptions.separator=this.separator;this.configOptions._scope_obj_uuid=this.options._scope_obj_uuid;this.checkcombobox=new $W._a.bt(this.mainGridId+"_checkcombobox_"+this.id,this.configOptions,this.xml);this.comp=this.checkcombobox;if(this.internal){this.comp.setNodeSet(this.initializeInfo.itemSet.nodeset,this.initializeInfo.itemSet.label,this.initializeInfo.itemSet.value);}var _2ed=this;this.checkcombobox.__closeSubLayer=this.checkcombobox.closeSubLayer;this.checkcombobox.closeSubLayer=function(){this.__closeSubLayer();_2ed.handleEndEdit();};this.checkcombobox.toggle=function(){if(this.isOpen){var _2ee=this.getValue();var _2ef=this.getInfoArray();this.__closeSubLayer();var _2f0=this.getValue();var _2f1=_2ed.mainGrid.getColumnIndex(_2ed.options.id);if(_2ee!=_2f0){var info={"oldInfo":_2ef,"newInfo":this.getInfoArray(),"oldValue":_2ee,"newValue":_2f0,"rowIndex":_2ec,"colIndex":_2f1};$W._c.fireEvent(_2ed.mainGrid,"onviewchange",info);}_2ed.handleEndEdit();}else{this.openSubLayer();}};td.innerHTML=this.checkcombobox.toHTML();this.checkcombobox.activate();this.checkcombobox.setSize(td.clientWidth-2,td.clientHeight-2);this.checkcombobox.setSubLayer();var _2f3=this.checkcombobox.itemTable;_2f3.addKeyDownEventListener(function(e){switch(e.keyCode){case 9:this.fireClick(e);_2ed.mainGrid.moveHorizontal(e,e.shiftKey?"left":"right",_2ed.mainGrid.options.keyMoveEditMode);break;case 13:if(_2ed.mainGrid.options.fastEditMode){if(_2ed.mainGrid.options.enterKeyMove=="none"){}else{if(_2ed.mainGrid.options.enterKeyMove=="right"){_2ed.mainGrid.moveHorizontal(e,e.shiftKey?"left":"right",_2ed.mainGrid.options.keyMoveEditMode);}else{_2ed.mainGrid.moveVertical(e,e.shiftKey?"up":"down",_2ed.mainGrid.options.keyMoveEditMode);}}}else{_2ed.checkcombobox.closeSubLayer();}break;case 27:_2ed.mainGrid.editedCell.handleCancelEdit(e);break;}});}else{td.innerHTML="";td.appendChild(this.checkcombobox.render);}if(this.hasRef&&!this.dataComp){var _2f5=this.mainGrid.getElemRowIndex(td);this.checkcombobox.itemArr=this.getRefItemArr(_2f5);this.checkcombobox.setSelectOptions();}this.checkcombobox.setValue(this.mainGrid.dataList.getCellData(_2ec,this.colID));this.checkcombobox.openSubLayer();this.editRowIndex=_2ec;this.editTd=td;if(this.internal){this.parentColumnInfo.editRowIndex=_2ec;this.parentColumnInfo.editTd=td;}var _2f6=this.checkcombobox.itemTable.render.firstChild.clientWidth;if(_2f6<td.clientWidth-2){_2f6=td.clientWidth-2;}if(_2f6<this.checkcombobox.itemTable.render.offsetWidth-2){_2f6=this.checkcombobox.itemTable.render.offsetWidth-2;}this.checkcombobox.setSize(td.clientWidth-2,td.clientHeight-2);this.checkcombobox.setItemTable();td.style.textOverflow="ellipsis";}catch(e){$W.exception.printStackTrace(e,null,this.mainGrid);}};$W._a._J.checkcombobox.prototype._handleEndEdit_common=function(e){["WebSquare.uiplugin.cellInfo.checkcombobox.prototype._handleEndEdit"];try{this.checkcombobox.closeSubLayer();var _2f8=this.checkcombobox.getValue();var _2f9=this.mainGrid.dataList.getCellData(this.editRowIndex,this.colID);try{this.editTd.removeChild(this.checkcombobox.render);}catch(e){return;}this.setInnerHTML(this.editTd,_2f8,this.editRowIndex,this.getColumnIndex(this.colID));var _2fa={};_2fa[this.mainGrid.id]=true;this.mainGrid.dataList.setCellData(this.editRowIndex,this.colID,_2f8,null,null,null,_2fa);}catch(e){$W.exception.printStackTrace(e,null,this.mainGrid);}};$W._a._J.checkcombobox.prototype._handleEndEdit_focus=function(){this.mainGrid.setFocusedCell();};$W._a._J.checkcombobox.prototype.doDefaultAction=function(e){if(!e.ctrlKey){this.mainGrid.setEditHtml(e);}};$W._a._J.checkcombobox.prototype._handleCancelEdit=function(e){["WebSquare.uiplugin.cellInfo.checkcombobox.prototype._handleCancelEdit"];this.checkcombobox.__closeSubLayer();var _2fd=this.mainGrid.dataList.getCellData(this.editRowIndex,this.colID);this.setInnerHTML(this.editTd,_2fd,this.editRowIndex,this.getColumnIndex(this.colID));this.mainGrid.setFocusedCell();};$W._a._J.checkcombobox.prototype._getEditedValue=function(e){["WebSquare.uiplugin.cellInfo.checkcombobox.prototype._getEditedValue"];var _2ff=this.checkcombobox.getValue();return _2ff;};$W._a._J.checkcombobox.prototype.refreshItemArr=function(e){["WebSquare.uiplugin.cellInfo.checkcombobox.prototype.refreshItemArr"];var _301=$W.WebSquareparser.parseChoices(this.xml,"");if(_301.length>0){this.itemArr=_301;}else{this.itemArr=this.modelControl.getItemsetData();}if(this.options.allOption==true){var _302=$W._m.getMessage("Grid_all")||"-\uc804\uccb4-";this.itemArr=[{label:_302,value:$W.allValue}].concat(this.itemArr);}if(this.options.chooseOption==true){var _303=this.options.chooseOptionLabel;if(_303=="$blank"){_303="";}this.itemArr=[{label:_303,value:""}].concat(this.itemArr);}};$W._a._J.checkcombobox.prototype.setColumnNodeSet=function(_304,_305,_306){try{if(this.internal){this.itemsetObj.nodeset=_304;this.itemsetObj.label=_305;this.itemsetObj.value=_306;}else{var _307=$W._B.findNode(this.xml,"*['"+"choices"+"'=local-name()]['"+$W._N._XML_NAMESPACE.W2+"'=namespace-uri()]");if(_307==null){_307=$W._B.createNode(this.xml,"w2:choices");this.xml.appendChild(_307);}while(_307&&_307.firstChild){_307.removeChild(_307.firstChild);}var _308="<w2:itemset xmlns:w2='http://www.inswave.com/websquare' nodeset='"+_304+"'>"+"<w2:label ref='"+_305+"'></w2:label>"+"<w2:value ref='"+_306+"'></w2:value>"+"</w2:itemset>";var _309=$W._B.parse(_308,true).documentElement;_307.appendChild(_309);this.initializeCellInfo(this.xml);}if(this.checkcombobox){this.checkcombobox.setNodeSet(_304,_305,_306);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._J.autoComplete=function(){["WebSquare.uiplugin.cellInfo.autoComplete"];};$W._a._J.autoComplete.prototype.setInnerHTML=function(td,data,_30c,_30d){if(data==null){data="";}td.innerHTML="<nobr>"+this.getData(data,_30c)+"</nobr>";var _30e=this.mainGrid.dataList.getRealRowIndex(_30c);var _30f=this.mainGrid.getCellOption(_30e,_30d,"viewType");var _310=this.mainGrid.getColumnOption(this.options.col_id,"dataType");if(_30f=="icon"||(_30f==""&&_310=="own")){this.mainGrid.addClass(td,this.mainGrid.options.bodyTdClass+"_autoComplete");}};$W._a._J.autoComplete.prototype.initializeCellInfo=function(_311){["WebSquare.uiplugin.cellInfo.autoComplete.prototype.initializeCellInfo"];var _312=$W._B.serialize(_311);var _313=_312.indexOf("xmlns:w2")<0?" xmlns:w2=\"http://www.inswave.com/websquare\"":"";_312=_312.wq_replaceAll("<w2:column","<w2:autoComplete"+_313);_312=_312.wq_replaceAll("</w2:column","</w2:autoComplete");var elem=$W._B.parse(_312,true);this.xml=elem.documentElement;$W.extend(this,$W.itemsetControl.prototype);this.hasRef=false;this.resetMatchInfo=true;this.selectedIndex=(typeof this.options.selectedIndex=="undefined")?-1:parseInt(this.options.selectedIndex,10);this.options.selectedData=(this.options.selectedData=="false"||this.options.selectedData===false)?false:true;if(this.internal){this.itemsetObj=this.initializeInfo.itemSet?this.initializeInfo.itemSet:{nodeset:"",label:"",value:""};}else{this.itemsetObj=$W.WebSquareparser.parseItemset(this.xml);}var _315=this.itemsetObj.nodeset.wq_replaceAll(" ","");if(this.itemsetObj.nodeset!=""&&_315.indexOf("ref(")>=0){this.hasRef=true;this.refHash=[];this.refItemArr=[];this.refStr="\""+this.refReplace(this.itemsetObj.nodeset)+"\"";var _316=this.itemsetObj.nodeset.match(/ref\('([^']*)'\)/g);for(var i=0;i<_316.length;i++){var _318=_316[i].slice(5,-2);var _319=this.mainGrid.getCellInfo(_318);if(!_319.refArr){_319.refArr=[];}_319.refArr.push(this.colID);}}else{if(this.itemsetObj.nodeset!=""&&_315.indexOf("data:")>=0){var _31a=this.itemsetObj.nodeset.replace("data:","").split(".");this.dataComp=_31a[0];}else{this.matchInfo=this.setMatchInfo();}}if(!this.refArr){this.refArr=[];}if(this.options.noResult=="useData"){this.useDataInfo={};}this.options.selectedData=(this.options.selectedData=="false"||this.options.selectedData===false)?false:true;};$W._a._J.autoComplete.prototype.getRefValue=function(_31b){["WebSquare.uiplugin.cellInfo.autoComplete.prototype.getRefValue"];var _31c="\""+this.mainGrid.dataList.getCellData(this.targetRowIndex,_31b)+"\"";return _31c;};$W._a._J.autoComplete.prototype.refReplace=function(_31d){["WebSquare.uiplugin.cellInfo.autoComplete.prototype.refReplace"];var _31e=_31d.replace(/ref\('([^']*)'\)/,"\"+this.getRefValue('$1')+\"");if(_31e!=_31d){return this.refReplace(_31e);}return _31e;};$W._a._J.autoComplete.prototype.getData=function(data,_320){["WebSquare.uiplugin.cellInfo.autoComplete.prototype.getData"];try{var ret="";if(this.dataComp){var _322=this.mainGrid.modelControl.getDataComp(this.dataComp);if(_322.initializeType==="linkedDataList"&&_322.conditionInfo!=undefined&&_322.conditionInfo.targetInfo!=undefined){var _323=_322.conditionInfo.targetInfo;var _324={};for(var item in _323){var _326=this.mainGrid.modelControl.getDataComp(item);var _327=_326.getRowPosition();if(_327!=_320){_324[item]=_327;if(_326.initializeType==="linkedDataList"){_326._dataList.rowPosition=_326.filteredRowIndexArr[_320];}else{_326.rowPosition=_320;}}}_322.syncWithParent();for(var _328 in _324){var _329=this.mainGrid.modelControl.getDataComp(_328);if(_329.initializeType==="linkedDataList"){_329._dataList.rowPosition=_329.filteredRowIndexArr[_324[_328]];}else{_329.rowPosition=_324[_328];}}}var _32a=null;var _32b=null;if(_322.initializeType==="linkedDataList"){_32a=_322._dataList;_32b=_322.initialRowIndexArr;}else{if(_322.initializeType==="dataList"){_32a=_322;_32b=_32a.filteredRowIndexArr;}}if(!this.autoComplete&&_32a!=null){try{var ret="";var _32c,valueColumn;if(this.internal){_32c=this.itemsetObj.label;valueColumn=this.itemsetObj.value;}else{var _32d=$W._B.getElementsByTagName(this.xml,"label",$W._N._XML_NAMESPACE.W2);var _32e=$W._B.getElementsByTagName(this.xml,"value",$W._N._XML_NAMESPACE.W2);if(_32d.length>0&&_32e.length>0){_32c=$W._B.getAttribute(_32d[0],"ref");valueColumn=$W._B.getAttribute(_32e[0],"ref");}}var _32f=_32c!=undefined?_32a.bodyIdColIndexMap[_32c]:_32a.bodyIdColIndexMap[this.itemsetObj.label];var _330=valueColumn!=undefined?_32a.bodyIdColIndexMap[valueColumn]:_32a.bodyIdColIndexMap[this.itemsetObj.value];for(var i=0;i<_32b.length;i++){var _332=_32b[i]*_32a.cellIdList.length;if(data==_32a.dataArr[_332+_330]){ret=_32a.dataArr[_332+_32f];if(this.options.displayMode==="value delim label"){ret=data+this.options.delimiter+ret;}else{if(this.options.displayMode==="label delim value"){ret=ret+this.options.delimiter+data;}else{if(this.options.displayMode==="value"){ret=data;}}}if(typeof ret=="undefined"||ret=="$blank"){ret="";}return ret;}}if(this.selectedIndex>=0&&this.selectedIndex<_32b.length&&!this.options.chooseOption){ret=_32a.dataArr[_32b[this.selectedIndex]*_32a.cellIdList.length+_32f];if(this.options.displayMode==="value delim label"){ret=data+this.options.delimiter+ret;}else{if(this.options.displayMode==="label delim value"){ret=ret+this.options.delimiter+data;}else{if(this.options.displayMode==="value"){ret=data;}}}}else{if(this.options.allOption&&data==$W.allValue){var _333=$W._m.getMessage("Grid_all")||"-\uc804\uccb4-";ret=_333;}else{if(this.options.chooseOption&&data==this.options.chooseOptionValue){ret=this.options.chooseOptionLabel;}else{if(!this.options.selectedData){ret=data;}else{if(data==""){ret="";}else{var _332=0;if(this.mainGrid._linkedDataList){_332=this.mainGrid._linkedDataList.filteredRowIndexArr[_320];}else{_332=this.mainGrid._dataList.filteredRowIndexArr[_320];}var _334=this.mainGrid._dataList.cellIdList.length;var _335=this.mainGrid._dataList.bodyIdColIndexMap[this.colID];this.mainGrid._dataList.dataArr[_332*_334+_335]="";ret="";}}}}}if(typeof ret=="undefined"||ret=="$blank"){ret="";}return ret;}catch(e){$W.exception.printStackTrace(e,null,this);return data;}}var _336=false;for(var i=0;i<this.autoComplete.itemArr.length;i++){if(this.autoComplete.itemArr[i].value==data){_336=true;ret=this.autoComplete.itemArr[i].label;break;}}if(!_336){if(data==""&&this.selectedIndex!=-1&&!this.options.chooseOption){ret=this.autoComplete.itemArr[this.selectedIndex].label;this.mainGrid.dataList.setCellData(_320,this.colID,ret);}else{if(this.options.allOption&&data==$W.allValue){var _333=$W._m.getMessage("Grid_all")||"-\uc804\uccb4-";ret=_333;}else{if(this.options.chooseOption&&data==this.options.chooseOptionValue){ret=this.options.chooseOptionLabel;}else{if(!this.options.selectedData){ret=data;}}}}}}else{var _337=this.getMatchInfo(_320);if(this.options.noResult=="useData"){if(!this.useDataInfo["AUTOCOMPLETE_"+data]){this.useDataInfo["AUTOCOMPLETE_"+data]=data;}if(!_337["AUTOCOMPLETE_"+data]){this.matchInfo["AUTOCOMPLETE_"+data]=data;this.itemArr=[{label:data,value:""}].concat(this.itemArr);}}ret=_337["AUTOCOMPLETE_"+data];}if(typeof ret=="undefined"||ret=="$blank"){return "";}return ret;}catch(e){$W.exception.printStackTrace(e,null,this);}return data;};$W._a._J.autoComplete.prototype.getMatchInfo=function(_338){["WebSquare.uiplugin.cellInfo.autoComplete.prototype.getMatchInfo"];var _339=[];if(this.hasRef){_339=this.getRefMatchInfo(_338);}else{if(!this.hasRef){if(this.resetMatchInfo){this.matchInfo=this.setMatchInfo();}_339=this.matchInfo;}}return _339;};$W._a._J.autoComplete.prototype.getRefMatchInfo=function(_33a){["WebSquare.uiplugin.cellInfo.autoComplete.prototype.getRefMatchInfo"];this.targetRowIndex=_33a;var _33b=eval(this.refStr);if(this.refHash[_33b]!=null&&!this.resetMatchInfo){return this.refHash[_33b];}else{this.itemsetObj.nodeset=_33b;var _33c=$W._B.getElementsByTagName(this.xml,"w2:itemset");_33c[0].setAttribute("nodeset",_33b);var _33d=this.setMatchInfo(_33a);this.refHash[_33b]=_33d;return _33d;}return [];};$W._a._J.autoComplete.prototype.setMatchInfo=function(_33e){["WebSquare.uiplugin.cellInfo.autoComplete.prototype.setMatchInfo"];this.modelControl=new $W.modelControl(this.colID,this.options.model,this.options.ref,this.itemsetObj,this.options.bind,this.options._scope_obj_uuid);this.initializeItemArr(this.xml);if(!this.comp||this.itemArr.length==0){this.resetMatchInfo=true;if(this.itemsetObj.nodeset.match("data:")){var _33f=this.itemsetObj.nodeset.replace("data:","");this.itemArr=this.mainGrid.getTemporaryDataCollectionItemArr({"rowIndex":_33e,"dataCompID":_33f,"itemsetObj":this.itemsetObj});}}else{this.resetMatchInfo=false;}var _340={};if(this.options.allOption==true){var _341=$W._m.getMessage("Grid_all")||"-\uc804\uccb4-";this.itemArr=[{label:_341,value:$W.allValue}].concat(this.itemArr);}if(this.options.chooseOption==true){var _342=this.options.chooseOptionLabel;if(_342=="$blank"){_342="";}this.itemArr=[{label:_342,value:""}].concat(this.itemArr);}if(this.options.displayMode!="0"){for(var i=0;i<this.itemArr.length;i++){this.itemArr[i].label=this.getItemText(i);}}for(var i=0;i<this.itemArr.length;i++){var _344=this.itemArr[i];_340["AUTOCOMPLETE_"+_344.value]=_344.label;}if(this.hasRef){this.refItemArr[this.itemsetObj.nodeset]=this.itemArr;}return _340;};$W._a._J.autoComplete.prototype.getItemText=function(idx){["WebSquare.uiplugin.autoComplete.getItemText"];try{var text="";if(idx>-1&&idx<this.itemArr.length){text=this.itemArr[idx].label;switch(this.options.displayMode){case "0":case "1":case "2":case "3":break;case "value delim label":this.options.displayMode="1";break;case "label delim value":this.options.displayMode="2";break;case "value":this.options.displayMode="3";break;default:this.options.displayMode="0";}switch(this.options.displayMode){case "0":break;case "1":text=this.itemArr[idx].value+this.options.delimiter+text;break;case "2":text=text+this.options.delimiter+this.itemArr[idx].value;break;case "3":text=this.itemArr[idx].value;break;}}return text;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._J.autoComplete.prototype.getRefItemArr=function(_347){["WebSquare.uiplugin.cellInfo.autoComplete.prototype.getRefItemArr"];this.getRefMatchInfo(_347);var _348=this.useLinkedDataList?this.refStr:eval(this.refStr);return this.refItemArr[_348];};$W._a._J.autoComplete.prototype.getDisplayData=function(data,_34a){["WebSquare.uiplugin.cellInfo.autoComplete.prototype.getDisplayData"];var ret=this.getData(data,_34a);if(ret==null){ret="";}if(ret!=data&&ret==""){ret=data;}return ret;};$W._a._J.autoComplete.prototype.setEditMode=function(td,_34d){["WebSquare.uiplugin.cellInfo.autoComplete.prototype.setEditMode"];try{if(this.style==""){this.style="position:relative;left:0px;top:0px;background-color:#ffffff;";this.xml.setAttribute("class",this.mainGridId+"_autoComplete_"+this.colID);this.xml.setAttribute("style",this.style);this.configOptions={};this.options.interactionMode?this.configOptions.interactionMode=this.options.interactionMode:"";this.options.submission?this.configOptions.submission=this.options.submission:"";this.options.sortOption?this.configOptions.sortOption=this.options.sortOption:"";this.options.displayMode?this.configOptions.displayMode=this.options.displayMode:"";this.options.search?this.configOptions.search=this.options.search:"";this.options.submenuSize?this.configOptions.submenuSize=this.options.submenuSize:"";this.options.searchTarget?this.configOptions.searchTarget=this.options.searchTarget:"";this.options.useKeywordHighlight?this.configOptions.useKeywordHighlight=this.options.useKeywordHighlight:"";this.options.allOption?this.configOptions.allOption=this.options.allOption:"";this.options.chooseOptionLabel?this.configOptions.chooseOptionLabel=this.options.chooseOptionLabel:"";this.options.noResult?this.configOptions.noResult=this.options.noResult:"";if(this.hasRef){this.targetRowIndex=_34d;var _34e=$W._B.getElementsByTagName(this.xml,"w2:itemset");_34e[0].setAttribute("nodeset",eval(this.refStr));}this.configOptions._scope_obj_uuid=this.options._scope_obj_uuid;this.autoComplete=new $W._a.ao(this.mainGridId+"_autoComplete_"+_34d+"_"+this.colID+"_"+this.id,this.configOptions,this.xml);this.comp=this.autoComplete;if(this.internal){this.comp.setItemSet(this.initializeInfo.itemSet.nodeset,this.initializeInfo.itemSet.label,this.initializeInfo.itemSet.value);}var _34f=this;this.autoComplete._handleClickEvent=this.autoComplete.handleClickEvent;this.autoComplete.handleClickEvent=function(e){this._handleClickEvent(e);$W._c.stopEvent(e);};this.autoComplete._setSubLayer=this.autoComplete.setSubLayer;this.autoComplete.setSubLayer=function(e){this._setSubLayer(e);var _352=this.itemTable;_352.addKeyDownEventListener(function(e){switch(e.keyCode){case 9:this.fireClick(e);_34f.mainGrid.moveHorizontal(e,e.shiftKey?"left":"right",_34f.mainGrid.options.keyMoveEditMode);break;case 13:if(_34f.mainGrid.options.fastEditMode){if(_34f.mainGrid.options.enterKeyMove=="none"){}else{if(_34f.mainGrid.options.enterKeyMove=="right"){_34f.mainGrid.moveHorizontal(e,e.shiftKey?"left":"right",_34f.mainGrid.options.keyMoveEditMode);}else{_34f.mainGrid.moveVertical(e,e.shiftKey?"up":"down",_34f.mainGrid.options.keyMoveEditMode);}}}break;case 27:_34f.handleCancelEdit(e);break;}});_352.addClickEventListener(function(idx){_34f.autoComplete.dom.input.value=_34f.autoComplete.viewArr[idx].label;_34f.autoComplete.selectedText=_34f.autoComplete.viewArr[idx].orgLabel;_34f.autoComplete.selectedValue=_34f.autoComplete.viewArr[idx].value;var _355=_34f.autoComplete.selectedText+"|"+_34f.autoComplete.selectedValue;var idx=_34f.autoComplete.findinItemArr(_355,"all");_34f.autoComplete.setSelectedIndex1(idx);_34f.handleEndEdit();});};this.autoComplete.showEditMode=function(_356){try{if(_356){this.dom.label.style.display="none";this.dom.label.style.visibility="hidden";this.dom.input.style.display="block";this.dom.input.style.visibility="visible";}else{this.dom.input.style.display="none";this.dom.input.style.visibility="hidden";this.dom.label.style.display="block";this.dom.label.style.visibility="visible";}}catch(e){}};this.autoComplete._inputKeyDown=this.autoComplete.inputKeyDown;this.autoComplete.inputKeyDown=function(e,_358){if(e.keyCode==27){}else{_34f.autoComplete._inputKeyDown(e,_358);}};this.autoComplete.setSelectedIndex1=function(idx){var _35a=this.selectedIndex;var _35b=this.getValue();this.setSelectedIndex(idx);if(_35a!=this.selectedIndex){var _35c=_34f.mainGrid.getColumnIndex(_34f.mainGrid.editedCell.id);var _35d=_34f.editRowIndex;var info={"oldValue":_35b,"newValue":this.getValue(),"oldSelectedIndex":_35a,"newSelectedIndex":this.selectedIndex,"rowIndex":_35d,"colIndex":_35c};$W._c.fireEvent(_34f.mainGrid,"onviewchange",info);}this.closeSubLayer();};td.innerHTML=this.autoComplete.toHTML();this.autoComplete.activate();this.autoComplete.setSize(td.clientWidth-2+"px",td.clientHeight-2+"px");}else{td.innerHTML="";td.appendChild(this.autoComplete.render);}this.autoComplete.setSize(td.clientWidth-2+"px",td.clientHeight-2+"px");if(this.hasRef){var _35f=this.mainGrid.getElemRowIndex(td);this.autoComplete.itemArr=this.getRefItemArr(_35f);}if(this.autoComplete.itemArr.length>0){var _360=this.mainGrid.dataList.getCellData(_34d,this.id);this.autoComplete.setValue(_360);this.autoComplete.setInputFocus();}else{this.autoComplete.setInputFocus();this.autoComplete.dom.input.value="";}this.editRowIndex=_34d;this.editTd=td;}catch(e){$W.exception.printStackTrace(e,null,this.mainGrid);}};$W._a._J.autoComplete.prototype._handleEndEdit_common=function(e){["WebSquare.uiplugin.cellInfo.autoComplete.prototype._handleEndEdit"];try{this.autoComplete.closeSubLayer();var _362=this.autoComplete.getValue();var _363=this.mainGrid.dataList.getCellData(this.editRowIndex,this.colID);try{this.editTd.removeChild(this.autoComplete.render);}catch(e){return;}this.setInnerHTML(this.editTd,_362,this.editRowIndex,this.getColumnIndex(this.colID));var _364={};_364[this.mainGrid.id]=true;this.mainGrid.dataList.setCellData(this.editRowIndex,this.colID,_362,null,null,null,_364);}catch(e){$W.exception.printStackTrace(e,null,this.mainGrid);}};$W._a._J.autoComplete.prototype._handleEndEdit_focus=function(){this.mainGrid.setFocusedCell();};$W._a._J.autoComplete.prototype._handleCancelEdit=function(e){["WebSquare.uiplugin.cellInfo.autoComplete.prototype._handleCancelEdit"];this.autoComplete.closeSubLayer();var _366=this.mainGrid.dataList.getCellData(this.mainGrid.getRealRowIndex(this.editRowIndex),this.colID);this.editTd.removeChild(this.autoComplete.render);this.setInnerHTML(this.editTd,_366,this.editRowIndex,this.getColumnIndex(this.colID));this.mainGrid.setFocusedCell();};$W._a._J.autoComplete.prototype._getEditedValue=function(e){["WebSquare.uiplugin.cellInfo.autoComplete.prototype._getEditedValue"];var _368=this.autoComplete.getValue();return _368;};$W._a._J.autoComplete.prototype.doDefaultAction=function(e){if(!e.ctrlKey){this.mainGrid.setEditHtml(e);}};$W._a._J.autoComplete.prototype.setColumnNodeSet=function(_36a,_36b,_36c){["WebSquare.uiplugin.cellInfo.autoComplete.prototype.setColumnNodeSet"];if(this.internal){this.itemsetObj.nodeset=_36a;this.itemsetObj.label=_36b;this.itemsetObj.value=_36c;}else{var _36d=$W._B.findNode(this.xml,"*['"+"choices"+"'=local-name()]['"+$W._N._XML_NAMESPACE.W2+"'=namespace-uri()]");if(_36d==null){_36d=$W._B.createNode(this.xml,"w2:choices");$W._B.appendChild(this.xml,_36d);}while(_36d&&_36d.firstChild){_36d.removeChild(_36d.firstChild);}var _36e="<w2:itemset xmlns:w2='http://www.inswave.com/websquare' nodeset='"+_36a+"'>"+"<w2:label ref='"+_36b+"'></w2:label>"+"<w2:value ref='"+_36c+"'></w2:value>"+"</w2:itemset>";var _36f=$W._B.parse(_36e,true).documentElement;$W._B.appendChild(_36d,_36f);this.initializeCellInfo(this.xml);}if(this.autoComplete){this.autoComplete.setNodeSet(_36a,_36b,_36c);}};$W._a._J.calendar=function(){["WebSquare.uiplugin.cellInfo.calendar"];};$W._a._J.calendar.prototype.initializeCellInfo=function(_370){["WebSquare.uiplugin.cellInfo.spinner.prototype.initializeCellInfo"];try{if(this.options.useIOFormatLength){this.refreshDataArr();}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._J.calendar.prototype.setInnerHTML=function(td,data,_373,_374){if(this.options.embeddedInput){var _375=this.mainGrid.getInput(this,td);if(_375.render.parentNode==null){td.innerHTML="";td.appendChild(_375.render);}var _376=0;var _377=0;var _378=false;if(td.parentNode.style.display=="none"){td.parentNode.style.display="";_378=true;}if(!this.mainGrid.embeddedCalendarStyleObj){this.mainGrid.embeddedCalendarStyleObj={top:parseInt($W._H.getStyle(td,"padding-top"),10),bottom:parseInt($W._H.getStyle(td,"padding-bottom"),10),left:parseInt($W._H.getStyle(td,"padding-left"),10),right:parseInt($W._H.getStyle(td,"padding-right"),10)};}_376=td.offsetHeight-parseInt($W._H.getStyle(td,"border-top-width"),10)-parseInt($W._H.getStyle(td,"border-bottom-width"),10);_376-=(this.mainGrid.embeddedCalendarStyleObj["top"]+this.mainGrid.embeddedCalendarStyleObj["bottom"]);if(!this.mainGrid.embeddedWidthObj[_374]||this.mainGrid.embeddedWidthObj[_374]["isChanged"]){this.mainGrid.embeddedWidthObj[_374]={isChanged:false,width:td.clientWidth};}_377=this.mainGrid.embeddedWidthObj[_374]["width"];_377-=(this.mainGrid.embeddedCalendarStyleObj["left"]+this.mainGrid.embeddedCalendarStyleObj["right"]);if(_378){td.parentNode.style.display="none";}else{if($W._G.isIE("6 7")){_376-=2;}}_375.setSize(_377-2,_376);_375.render.setAttribute("rowindex",_373);if(this.options.applyFormat!="all"&&!this.options.displayFormat){data=this.getDisplayData(data);}_375.setValue(data);if(this.mainGrid.getEditReadOnly(td,_373)||this.mainGrid.getEditDisabled(_373,_374)){_375.setDisabled(true);}else{_375.setDisabled(false);}td.removeAttribute("tabIndex");}else{td.innerHTML="<nobr>"+this.getDisplayData(data)+"</nobr>";var _379=this.mainGrid._dataList.filteredRowIndexArr[_373];var _37a=this.mainGrid.getCellOption(_379,_374,"viewType");if(_37a=="icon"||(_37a==""&&this.options.dataType=="own")){this.mainGrid.addClass(td,this.mainGrid.options.bodyTdClass+"_calendar");td.setAttribute("editModeEvent","onclick");}}};$W._a._J.calendar.prototype.setEditMode=function(td,_37c){["WebSquare.uiplugin.cellInfo.calendar.prototype.setEditMode"];try{if(this.options.embeddedInput){return;}this.mainGrid.removeClass(td,this.mainGrid.options.bodyTdClass+"_calendar");this.editTd=td;this.editRowIndex=_37c;if(this.internal){this.parentColumnInfo.editRowIndex=_37c;this.parentColumnInfo.editTd=td;}this.setPosition();var _37d=this.mainGrid.getInput(this);this.comp=_37d;var _37e=td.firstChild;for(var node=_37e;node!=null;node=node.nextSibling){if(node.nodeName.toUpperCase()=="NOBR"){$W._H.setStyle(node,"visibility","hidden");break;}}if(_37d.options.renderDiv==true||_37d.options.renderDiv=="true"){var _380=document.getElementById(this.mainGridId+this.id);var _381=td.offsetWidth-6;var _382=td.offsetHeight;var _383=document.getElementById(this.mainGridId+this.id+"_div_input");var _384=_381-18-5;var _385=_382-3;var _386=document.getElementById(this.mainGridId+this.id+"_input");var bR=parseInt($W._H.getStyle(_386,"border-right-width"),10);var bL=parseInt($W._H.getStyle(_386,"border-left-width"),10);var pR=parseInt($W._H.getStyle(_386,"padding-right"),10);var pL=parseInt($W._H.getStyle(_386,"padding-left"),10);var _38b=_384-(bR+bL+pR+pL);var _38c=_385-2;var _38d=document.getElementById(this.mainGridId+this.id+"_img");var _38e=(_385/2)-(_38d.offsetHeight/2);if(this.options.useAnchor==true||this.options.useAnchor=="true"){var divA=document.getElementById(this.mainGridId+this.id+"_a");$W._H.setStyle(divA,"top",_38e+"px");}else{$W._H.setStyle(_38d,"top",_38e+"px");}$W._H.setStyle(_380,"width",Math.max(_381,0)+"px");$W._H.setStyle(_383,"width",Math.max(_384,0)+"px");$W._H.setStyle(_386,"width",Math.max(_38b,0)+"px");$W._H.setStyle(_380,"height",Math.max(_382-3,0)+"px");$W._H.setStyle(_383,"height",Math.max(_385,0)+"px");$W._H.setStyle(_386,"height",Math.max(_38c,0)+"px");}_37d.setValue(this.mainGrid.dataList.getCellData(_37c,this.colID));_37d.focus();this.mainGrid.render.scrollLeft=0;this.mainGrid.render.scrollTop=0;if(_37d.options.editType=="select"){_37d.select();}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._J.calendar.prototype.setPosition=function(){["WebSquare.uiplugin.cellInfo.calendar.prototype.setEditMode"];try{var _390={top:0,left:0,width:0,height:0};if($W._G.isIE(8)){_390={top:1,left:0,width:0,height:0};}else{if($W._G.isFF()){_390={top:0,left:-1,width:0,height:0};}else{if($W._G.isChrome()||$W._G.isSafari()){_390={top:1,left:0,width:0,height:0};}else{if($W._G.isOpera()){_390={top:1,left:0,width:0,height:1};}}}}var td=this.editTd;var _392=td.offsetTop+_390.top;var _393=td.offsetLeft+1+_390.left;var _394=td.clientWidth-5+_390.width;var _395=td.clientHeight-3+_390.height;var _396=_395-1;if(this.mainGrid.options.groupbyZone){var _397=this.mainGrid.groupbyZoneStatus.groupbyZoneRender.offsetHeight;if(this.mainGrid.options.groupbyFilterBox&&this.mainGrid.options.groupbyFilterBoxLocation==="top"){_397=parseInt(this.mainGrid.options.groupbyZoneHeight,10)+document.getElementById(this.mainGrid.id+"_groupbyFilterBox_div").offsetHeight;}_392=_392+_397;}if(this.mainGrid.hasClass("w2grid_adaptive_crosstab")){var _398=document.getElementById(this.mainGrid.id+"_body_tbody").scrollLeft;_393=_393-_398;}var _399=this.mainGrid.getInput(this);_399.show();_399.render.style.top=_392+"px";_399.render.style.left=_393+"px";_399.render.style.width=_394+"px";_399.render.style.height=_395+"px";_399.render.firstChild.style.height=_395+"px";_399.dom.input.style.height=_396+"px";_399.dom.input.style.textAlign=td.style.textAlign==""?"center":td.style.textAlign;if($W._G.isIE()){_399.dom.input.style.lineHeight=_395+"px";}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._J.calendar.prototype.removeCellData=function(_39a,_39b){this.mainGrid.dataList.setCellData(_39a,_39b,"");};$W._a._J.calendar.prototype._handleEndEdit_common=function(e){["WebSquare.uiplugi.cellInfo.calendar.prototype._handleEndEdit"];try{var _39d=this.mainGrid.getInput(this);_39d.hideCalendar();var _39e=_39d.getValue();if(!this.options.useIOFormatLength){_39e=_39d.sub_validator.validateString(_39e);}this.setInnerHTML(this.editTd,_39e,this.editRowIndex,this.getColumnIndex(this.colID));var _39f={};_39f[this.mainGrid.id]=true;this.mainGrid.dataList.setCellData(this.editRowIndex,this.colID,_39e,null,null,null,_39f);return _39d;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._J.calendar.prototype._handleEndEdit_focus=function(_3a0){_3a0.hide();};$W._a._J.calendar.prototype.validate=function(e){["WebSquare.uiplugi.cellInfo.calendar.prototype.validate"];var _3a2=this.mainGrid.getInput(this);if(_3a2.validate()){return true;}if(_3a2.getValue()==""){return true;}this.mainGrid.getInput(this).blur();var _3a3=$W._m.getMessage("IC_invalidCalendarSelect")||"\ub0a0\uc9dc \ud615\uc2dd\uc774 \uc798\ubabb \ub418\uc5c8\uc2b5\ub2c8\ub2e4.";alert(_3a3);this.mainGrid.getInput(this).focus();return false;};$W._a._J.calendar.prototype._getEditedValue=function(e){["WebSquare.uiplugin.cellInfo.calendar.prototype._getEditedValue"];var _3a5=this.mainGrid.getInput(this).getValue();return _3a5;};$W._a._J.calendar.prototype._handleCancelEdit=function(e){["WebSquare.uiplugi.cellInfo.calendar.prototype._handleCancelEdit"];try{var _3a7=this.mainGrid.dataList.getCellData(this.editRowIndex,this.colID);this.setInnerHTML(this.editTd,_3a7,this.editRowIndex,this.getColumnIndex(this.colID));var _3a8=this.mainGrid.getInput(this);_3a8.hide();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._J.calendar.prototype.doDefaultAction=function(e){if(!e.ctrlKey){this.mainGrid.setEditHtml(e);}};$W._a._J.calendar.prototype.refreshDataArr=function(){["WebSquare.uiplugi.cellInfo.calendar.prototype.refreshDataArr"];try{var _3aa;if(this.mainGrid.groupbyStatus.grouped){_3aa=this.mainGrid.groupbyStatus.groupbyRowIndexArr;}else{if(this.mainGrid._linkedDataList){_3aa=this.mainGrid._linkedDataList.filteredRowIndexArr;}else{_3aa=this.mainGrid._dataList.filteredRowIndexArr;}}var _3ab=this.mainGrid._dataList.cellIdList.length;var _3ac=this.mainGrid._dataList.bodyIdColIndexMap[this.id];var _3ad=this.mainGrid.getInput(this);var _3ae=this.mainGrid._dataList.dataArr;for(var mIx=0;mIx<_3aa.length;mIx++){var _3b0=_3aa[mIx];var _3b1=this.mainGrid._dataList.dataArr[_3b0*_3ab+_3ac];var _3b2=_3ad.sub_validator.validateString(_3b1);this.mainGrid._dataList.dataArr[_3b0*_3ab+_3ac]=_3b2;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._J.expression=function(){["WebSquare.uiplugin.cellInfo.expression"];};$W._a._J.expression.prototype.initializeCellInfo=function(){var str=this.options.expression;this.expIdArr=[];if(str!=""){var _3b4=str.match(/(sum|avg|max|min|display|rowstatus)[\s]*[(][\S\s]*?[)]/gi);if(_3b4!=null){str="";for(var i=0;i<_3b4.length;i++){str+=_3b4[i];if(i<_3b4.length-1){str+="+";}}}str=str.replace(/[sS][uU][mM][\s]*[(]/g,"this.getExpressionTarget(");str=str.replace(/[aA][vV][gG][\s]*[(]/g,"this.getExpressionTarget(");str=str.replace(/[mM][aA][xX][\s]*[(]/g,"this.getExpressionTarget(");str=str.replace(/[mM][iI][nN][\s]*[(]/g,"this.getExpressionTarget(");str=str.replace(/[cC][aA][lL][cC][\s]*[(]/g,"this.getCalcExpressionTarget(");str=str.replace(/[dD][iI][sS][pP][lL][aA][yY][\s]*[(]/g,"this.getExpressionTarget(");str=str.replace(/rowStatus[\s]*[(]/ig,"this.getExpressionTarget(");}try{eval(str);}catch(e){}};$W._a._J.expression.prototype.getExpressionTarget=function(){for(var i=0;i<arguments.length;i++){if(this.expIdArr[arguments[i]]==null){this.expIdArr[arguments[i]]=arguments[i];this.mainGrid.setExpressionAssociation(arguments[i],this.colID);}}return 1;};$W._a._J.expression.prototype.getCalcExpressionTarget=function(str){var _3b8=str.wq_replaceAll("(",",").wq_replaceAll(")",",").wq_replaceAll("+",",").wq_replaceAll("-",",").wq_replaceAll("*",",").wq_replaceAll("/",",").wq_replaceAll("%",",").wq_replaceAll(" ","");_3b8=_3b8.split(",");for(var i=0;i<_3b8.length;i++){if(_3b8[i]!==""&&this.expIdArr[_3b8[i]]==null){this.expIdArr[_3b8[i]]=_3b8[i];this.mainGrid.setExpressionAssociation(_3b8[i],this.colID);}}return 1;};$W._a._J.expression.prototype.setInnerHTML=function(td,data,_3bc,_3bd){try{var _3be=this.mainGrid.dataList.getRealRowIndex(_3bc);var _3bf=$W._G.getGlobalFunction(this.options.customFormatter,this._scopeId);var _3c0=this.getDisplayData(null,_3be);var _3c1;if(typeof _3bf=="function"){this.useCustomFormatter=true;_3c1=_3bf.call(this.mainGrid,data,_3c0,_3bc,_3bd);}else{this.useCustomFormatter=false;_3c1=_3c0;}var _3c2=td.innerHTML.replace(/\r(\n)?/,"\n");var _3c3="<nobr>"+_3c1+"</nobr>";if(_3c2!==_3c3){td.innerHTML=_3c3.replace("NaN",this.options.NaNFormat);this.mainGrid.drawFooter(this.colID);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._J.expression.prototype.getDisplayData=function(_3c4,_3c5,_3c6){_3c4=this.getExpressionValue(_3c5);if(this.formatter&&!_3c6){return this.formatter.format(_3c4);}return _3c4;};$W._a._J.expression.prototype.getExpressionValue=function(_3c7){if(!this.options.expressionFunc){var _3c8=this.options.expression;this.rowIndex=_3c7;if(_3c8!=""){_3c8=_3c8.replace(/[sS][uU][mM][\s]*[(]/g,"this.colsum(rowIndex,");_3c8=_3c8.replace(/[aA][vV][gG][\s]*[(]/g,"this.colavg(rowIndex,");_3c8=_3c8.replace(/[mM][aA][xX][\s]*[(]/g,"this.colmax(rowIndex,");_3c8=_3c8.replace(/[mM][iI][nN][\s]*[(]/g,"this.colmin(rowIndex,");_3c8=_3c8.replace(/[cC][aA][lL][cC][\s]*[(]/g,"this.colcalc(rowIndex,");_3c8=_3c8.replace(/[dD][iI][sS][pP][lL][aA][yY][\s]*[(]/g,"this.display(rowIndex,");_3c8=_3c8.replace(/[rR][oO][wW][iI][nN][dD][eE][xX][\s]*[(]/g,"this.getRowIndex(rowIndex");_3c8=_3c8.replace(/rowStatus[\s]*[(]/ig,"this.rowStatus(rowIndex");_3c8="return "+_3c8;}this.options.expressionFunc=Function("rowIndex",_3c8);this.options.expressionFunc.changeCount=0;}var _3c9=this.mainGrid.changeCount;var _3ca="";if(!this.options.expressionFunc[_3c7]||_3c9!=this.options.expressionFunc[_3c7].changeCount){if(!this.options.expressionFunc[_3c7]){this.options.expressionFunc[_3c7]={};}this.options.expressionFunc[_3c7].changeCount=_3c9;_3ca=this.options.expressionFunc.call(this,_3c7);this.options.expressionFunc[_3c7].oldValue=_3ca;}else{_3ca=this.options.expressionFunc[_3c7].oldValue;}return _3ca;};$W._a._J.expression.prototype.colsum=function(){var _3cb=arguments[0];var ret=0;for(var i=1;i<arguments.length;i++){var _3ce=this.mainGrid.getColumnIndex(arguments[i]);var _3cf=this.options.dataType;if(this.mainGrid.options.pluginName=="gridView"){_3cf=this.mainGrid._dataList.getCellInfo(this.options.col_id).options.dataType;}if(_3cf==="bigDecimal"){ret=$W._b(ret).plus($W._b(this.mainGrid.dataList._getData(_3cb,_3ce)))||0;}else{ret+=parseFloat(this.mainGrid.dataList._getData(_3cb,_3ce))||0;}}return ret;};$W._a._J.expression.prototype.colavg=function(){var _3d0=arguments[0];var ret=0;var _3d2=this.mainGrid.getColumnOption(this.options.col_id,"dataType");for(var i=1;i<arguments.length;i++){var _3d4=this.mainGrid.getColumnIndex(arguments[i]);if(_3d2==="bigDecimal"){ret=$W._b(ret).plus($W._b(this.mainGrid.dataList._getData(_3d0,_3d4)))||0;}else{ret+=parseFloat(this.mainGrid.dataList._getData(_3d0,_3d4))||0;}}if(_3d2==="bigDecimal"){ret=$W._b(ret).divide($W._b((arguments.length-1))).toString();}else{ret=ret/(arguments.length-1);}return ret;};$W._a._J.expression.prototype.colmax=function(){var _3d5=arguments[0];var ret=0;var _3d7=this.mainGrid.getColumnOption(this.options.col_id,"dataType");for(var i=1;i<arguments.length;i++){var _3d9=this.mainGrid.getColumnIndex(arguments[i]);if(_3d7==="bigDecimal"){ret=$W._b(ret).compare($W._b(this.mainGrid.dataList._getData(_3d5,_3d9)))||0;}else{var tmp=parseFloat(this.mainGrid.dataList._getData(_3d5,_3d9))||0;if(i==0||tmp>ret){ret=tmp;}}}return ret;};$W._a._J.expression.prototype.colmin=function(){var _3db=arguments[0];var ret=0;var _3dd=this.mainGrid.getColumnOption(this.options.col_id,"dataType");for(var i=1;i<arguments.length;i++){var _3df=this.mainGrid.getColumnIndex(arguments[i]);if(_3dd==="bigDecimal"){ret=$W._b(ret).toString()==="0"?$W._b(this.mainGrid.dataList._getData(_3db,_3df)):$W._b(ret);ret=$W._b(ret).compare($W._b(this.mainGrid.dataList._getData(_3db,_3df)),true)||0;}else{var tmp=parseFloat(this.mainGrid.dataList._getData(_3db,_3df))||0;if(i==1||tmp<ret){ret=tmp;}}}return ret;};$W._a._J.expression.prototype.colcalc=function(_3e1,str){var ret=0;function _push(_3e4,ele){_3e4[_3e4.length]=ele;}function _pop(_3e6){var _3e7=_3e6[_3e6.length-1];delete _3e6[_3e6.length-1];_3e6.length--;return (_3e7);}function isOperation(who){return ((!isOperator(who)&&(who!="(")&&(who!=")"))?true:false);}function isOperator(who){return ((who=="+"||who=="-"||who=="*"||who=="/"||who=="^"||who=="%")?true:false);}function topStack(_3ea){return (_3ea[_3ea.length-1]);}function isEmpty(_3eb){return ((_3eb.length==0)?true:false);}function isCalculation(who){if(who=="^"){return (5);}if((who=="*")||(who=="/")||(who=="%")){return (4);}if((who=="+")||(who=="-")){return (3);}if(who=="("){return (2);}if(who==")"){return (1);}}function InfixToPostfix(_3ed,_3ee,_3ef){var _3ee=new Array();var _3f0=new Array();var _3f1=0;_3ed=Tokens(_3ed);for(var i=0;i<_3ed.length;i++){if(isOperation(_3ed[i])){_3ee[_3f1]=_3ed[i];_3f1++;}if(isOperator(_3ed[i])){if(_3ed[i]!="^"){while((!isEmpty(_3f0))&&(isCalculation(_3ed[i])<=isCalculation(topStack(_3f0)))){_3ee[_3f1]=topStack(_3f0);_pop(_3f0);_3f1++;}}else{while((!isEmpty(_3f0))&&(isCalculation(_3ed[i])<isCalculation(topStack(_3f0)))){_3ee[_3f1]=topStack(_3f0);_pop(_3f0);_3f1++;}}_push(_3f0,_3ed[i]);}if(_3ed[i]=="("){_push(_3f0,_3ed[i]);}if(_3ed[i]==")"){while(topStack(_3f0)!="("){_3ee[_3f1]=_pop(_3f0);_3f1++;}_pop(_3f0);}}while(!isEmpty(_3f0)){if(topStack(_3f0)=="("){_pop(_3f0);}else{_3ee[_3ee.length]=_pop(_3f0);}}var _3f3="";for(var i=0;i<_3ee.length;i++){_3f3+=_3ee[i];}if(_3ef==0){return (_3f3);}else{return (_3ee);}}function PostfixToInfix(_3f4){var _3f5=new Array();_3f4=_3f4.split("");for(var i=0;i<_3f4.length;i++){if(isOperation(_3f4[i])){_push(_3f5,_3f4[i]);}else{var temp=topStack(_3f5);_pop(_3f5);var _3f8="("+topStack(_3f5)+_3f4[i]+temp+")";_pop(_3f5);_push(_3f5,_3f8);}}return (topStack(_3f5));}function Tokens(str){var _3fa=str.split("");var _3fb="";var _3fc=new Array();var _3fd=0;for(var i=0;i<_3fa.length;i++){if(isOperation(_3fa[i])&&_3fa[i].match(/\s/)==null){_3fb+=_3fa[i];}if(isOperator(_3fa[i])||_3fa[i]==")"||_3fa[i]=="("){if(_3fb!=""){_3fc[_3fd]=_3fb;_3fd++;}_3fb="";_3fc[_3fd]=_3fa[i];_3fd++;}if(i==_3fa.length-1){if(_3fb!=""){_3fc[_3fd]=_3fb;}}}return (_3fc);}function Calculation(num1,num2,sym){var _402;try{if(sym=="+"){_402=num1.plus(num2);}if(sym=="-"){_402=num1.minus(num2);}if(sym=="*"){_402=num1.times(num2);}if(sym=="/"){_402=num1.divide(num2);}if(sym=="^"){_402=num1.pow(num2);}if(sym=="%"){_402=num1.mod(num2);}return (_402);}catch(e){$W.exception.printStackTrace(e);}}function PostfixEval(_403){var _404=new Array();var temp;var _406;for(var i=0;i<_403.length;i++){if(isOperation(_403[i])){_push(_404,_403[i]);}else{temp=eval(topStack(_404));if(temp.constructor!=$W.bigDecimalObj){temp=$W._b(temp);}_pop(_404);_406=eval(topStack(_404));if(_406.constructor!=$W.bigDecimalObj){_406=$W._b(_406);}var _408=Calculation(_406,temp,_403[i]);_pop(_404);_push(_404,_408);}}return (topStack(_404));}var _409=InfixToPostfix(str);for(var i in _409){var _40b=this.mainGrid.getColumnIndex(_409[i]);_409[i]=_40b!=undefined?$W._b(this.mainGrid.dataList._getData(_3e1,_40b)):_409[i];}return PostfixEval(_409);};$W._a._J.expression.prototype.display=function(){var _40c=arguments[0];var _40d=this.mainGrid.getColumnIndex(arguments[1]);var ret=this.mainGrid.dataList._getData(_40c,_40d);return ret;};$W._a._J.expression.prototype.getRowIndex=function(){var _40f=arguments[0];return this.mainGrid.getDisplayRowIndex(_40f);};$W._a._J.expression.prototype.rowStatus=function(){var _410=arguments[0];var _411=this.mainGrid.dataList.getRowStatusValue(_410);switch(_411){case 0:return "R";break;case 1:return "U";break;case 2:return "C";break;case 3:return "D";break;case 4:return "V";break;}};$W._a._J.textarea=function(){["WebSquare.uiplugin.cellInfo.textarea"];};$W._a._J.textarea.prototype.setInnerHTML=function(td,data,_414,_415){var _416=(td.clientWidth-8)+"";var _417=this.getDisplayData(data);var _418=$W._G.getGlobalFunction(this.options.customFormatter,this._scopeId);var _419=_417;if(typeof _418=="function"){this.useCustomFormatter=true;_419=_418.call(this.mainGrid,data,_417,_414,_415);}else{this.useCustomFormatter=false;}td.innerHTML="<div class='w2grid_textarea' style='text-align:"+this.options.textAlign+"; width:"+_416+"px'>"+(this.getEscape()==="true"?this.getDisplayData($W._B._encode(_419+"")):this.getDisplayData(_419))+"</div>";};$W._a._J.textarea.prototype.setEditMode=function(td,_41b){this._setEditMode(td,_41b);};$W._a._J.textarea.prototype._setEditMode=function(td,_41d){try{this.editRowIndex=_41d;this.editTd=td;if(this.internal){this.parentColumnInfo.editRowIndex=_41d;this.parentColumnInfo.editTd=td;}this.setPosition();var _41e=this.mainGrid.getInput(this);_41e.setValue(this.mainGrid.dataList.getCellData(_41d,this.colID));if(!this.options.disabled){_41e.focus();}this.mainGrid.render.scrollLeft=0;this.mainGrid.render.scrollTop=0;if(!this.options.disabled&&(this.options.editType=="select"||this.mainGrid.options.editType=="select")){_41e.select();}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._J.textarea.prototype.setPosition=function(){try{var _41f={top:0,left:0,width:0,height:0};if($W._G.isIE(8)){_41f={top:-1,left:-1,width:0,height:0};}else{if($W._G.isFF()){_41f={top:-2,left:-1,width:0,height:0};}else{if($W._G.isOpera()){_41f={top:0,left:0,width:0,height:1};}}}var td=this.editTd;var _421=td.offsetTop+1+_41f.top;var _422=td.offsetLeft+1+_41f.left;var _423=td.clientWidth>150?td.clientWidth-5+_41f.width:150;var _424=td.clientHeight>60?td.clientHeight-2+_41f.height:60;if(this.mainGrid.options.groupbyZone){var _425=this.mainGrid.groupbyZoneStatus.groupbyZoneRender.offsetHeight;if(this.mainGrid.options.groupbyFilterBox&&this.mainGrid.options.groupbyFilterBoxLocation==="top"){_425=parseInt(this.mainGrid.options.groupbyZoneHeight,10)+document.getElementById(this.mainGrid.id+"_groupbyFilterBox_div").offsetHeight;}_421=_421+_425;}if(this.mainGrid.gridWidth<_422+_423){var _426=(td.clientWidth>150?0:5+_41f.width)-2;_422-=(_422+_423)-(td.offsetLeft+td.clientWidth)+_426;}var _427=this.mainGrid.scrollX_right;if(this.mainGrid.render.offsetHeight-_427.offsetHeight<_421+_424){var _428=(td.clientHeight>60?0:2-_41f.top);_421-=(_421+_424)-(td.offsetTop+td.clientHeight)+_428;if(_421<0){_421=1+_41f.top;}if(_424>this.mainGrid.render.offsetHeight){_424=this.mainGrid.render.offsetHeight-6+_41f.height;}}if(this.mainGrid.hasClass("w2grid_adaptive_crosstab")){var _429=document.getElementById(this.mainGrid.id+"_body_tbody").scrollLeft;_422=_422-_429;}var _42a=this.mainGrid.getInput(this);this.comp=_42a;_42a.show();_42a.render.style.top=_421+"px";_42a.render.style.left=_422+"px";_42a.render.style.width=_423+"px";_42a.render.style.height=_424+"px";_42a.render.style.imeMode=this.options.imeMode;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._J.textarea.prototype.removeCellData=function(_42b,_42c){this.mainGrid.dataList.setCellData(_42b,_42c,"");};$W._a._J.textarea.prototype.showReadonly=function(td,_42e){var _42f=this.mainGrid.getInput(this);var _430=parseInt(td.getAttribute("colIndex"),10);var _431=td.getAttribute("col_id");if(this.options.disabled||this.mainGrid.getEditDisabled(_42e,_431)){_42f.setDisabled(true);}if(this.options.readOnly||this.mainGrid._getEditReadOnly(_42e,_431)){_42f.setReadOnly(true);}this._setEditMode(td,_42e);this.mainGrid.editedCell=this;};$W._a._J.textarea.prototype._handleEndEdit_common=function(e){["WebSquare.uiplugin.cellInfo.textarea.prototype._handleEndEdit"];try{var _433=this.mainGrid.getInput(this);var _434=_433.getValue();var _435=this.mainGrid.getColumnOption(this.options.col_id,"dataType");if(_435=="number"){if(_434!=""){_434=Number(_434);}}var _436=this.editTd.offsetHeight;this.setInnerHTML(this.editTd,_434,this.editRowIndex,this.getColumnIndex(this.colID));var _437=this.editTd.offsetHeight;this.changedCellHeight=_437-_436;var _438={};_438[this.mainGrid.id]=true;this.mainGrid.dataList.setCellData(this.editRowIndex,this.colID,_434,null,null,null,_438);return _433;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._J.textarea.prototype._handleEndEdit_focus=function(_439){_439.hide();_439.setDisabled(false);_439.setReadOnly(false);};$W._a._J.textarea.prototype._getEditedValue=function(e){["WebSquare.uiplugin.cellInfo.textarea.prototype._getEditedValue"];var _43b=this.mainGrid.getInput(this).getValue();return _43b;};$W._a._J.textarea.prototype._handleCancelEdit=function(e){["WebSquare.uiplugin.cellInfo.textarea.prototype._handleCancelEdit"];try{var _43d=this.mainGrid.dataList.getCellData(this.editRowIndex,this.colID);this.setInnerHTML(this.editTd,_43d,this.editRowIndex,this.getColumnIndex(this.colID));var _43e=this.mainGrid.getInput(this);_43e.hide();_43e.setDisabled(false);_43e.setReadOnly(false);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._J.textarea.prototype.doDefaultAction=function(e){if(!e.ctrlKey){this.mainGrid.setEditHtml(e);}};$W._a._J.drilldown=function(){["WebSquare.uiplugin.cellInfo.drilldown"];};$W._a._J.drilldown.prototype.setInnerHTML=function(td,data,_442){var _443=_442;var _444=100;var _445=this.options.depthColumn;if(this.mode==="linkedDataList"){if(this.mainGrid._linkedDataList.filteredRowIndexArr!=undefined&&this.mainGrid._linkedDataList.filteredRowIndexArr.length>0){_443=this.mainGrid._linkedDataList.filteredRowIndexArr[_442];var _446=this.mainGrid._linkedDataList.filteredRowIndexArr.length-1;if(_443<this.mainGrid._linkedDataList.filteredRowIndexArr[_446]){_444=parseInt(this.mainGrid.dataList.getCellData(_442+1,_445),10);}else{_444=null;}}}else{if(this.mainGrid._dataList.filteredRowIndexArr!=undefined&&this.mainGrid._dataList.filteredRowIndexArr.length>0){_443=this.mainGrid.dataList.getRealRowIndex(_442);if(_443<this.mainGrid.dataList.getRealRowIndex(this.mainGrid.getDataLength()-1)){_444=parseInt(this.mainGrid.dataList.getCellData(_442+1,_445),10);}else{_444=null;}}}var _447=parseInt(this.mainGrid.dataList.getCellData(_442,_445),10);var _448="";var _449=_443;var type="";for(var i=1;i<_447;i++){if(this.options.depthType=="div"){_448+="<div class='w2grid_depthBlank'></div>";}else{if(this.options.depthType=="line"){if(i===1){if(this.mainGrid.drilldown.isLastChild(_449)){type="_line_L";}else{type="_line_T";}}else{if(this.mainGrid.drilldown.isLastChild(_449)){type="Blank";}else{type="_line_I";}}_448="<div class='w2grid_depth"+type+"'></div>"+_448;_449=this.mainGrid.drilldown.getParentRowIndex(_449);}else{if(this.options.depthType=="none"){_448+="";}else{_448+="&nbsp;&nbsp;";}}}}var _44c=0;var _44d="w2grid_plus";var _44e="w2grid_root";var _44f="w2grid_depthBlank_root";var _450="w2grid_depthBlank_leaf";if(_444!=null&&_447<_444){_44c=1;_44d="w2grid_minus";}else{if(!this.mainGrid.hasChild(_442)){_44c=2;_44d="w2grid_leaf";}}if(_447==1){_44d=_44d+" "+_44e;}var icon="";if($W._G.isMobile()){icon="<span class='"+_44d+"' style='display:inline-block;' openStatus='"+(_44c)+"' ontouchstart='this.clicked=true'></span>";}else{icon="<span class='"+_44d+"' style='display:inline-block;' openStatus='"+(_44c)+"' onclick='this.clicked=true'></span>";}var _452="<div class='w2grid_depthBlank";if(_447=="1"){_452=_452+" "+_44f;}if(_44c===2){_452=_452+" "+_450;}_452=_452+"'>";if(this.options.depthType=="div"){icon=_452+icon+"</div>";td.innerHTML="<nobr class='w2grid_drilldown_nobr'>"+_448+icon+this.getDisplayData(data)+"</nobr>";}else{if(this.options.depthType=="line"){icon=_452+icon+"</div>";td.innerHTML=_448+icon+"<nobr class='w2grid_drilldown_nobr'>"+this.getDisplayData(data)+"</nobr>";}else{if(this.options.depthType=="none"){td.innerHTML="<nobr>"+_448+icon+this.getDisplayData(data)+"</nobr>";}else{td.innerHTML="<nobr>"+_448+icon+this.getDisplayData(data)+"</nobr>";}}}};$W._a._J.drilldown.prototype.handleClick=function(td,_454){var imgs=td.getElementsByTagName("span");var img=imgs[0];if(img.clicked==true){img.clicked=false;if(img.getAttribute("openStatus")!="2"){this.mainGrid.toggle(_454);}return true;}return false;};$W._a._J.drilldown.prototype.setEditMode=function(td,_458){["WebSquare.uiplugin.cellInfo.drilldown.prototype.setEditMode"];try{this.editRowIndex=_458;this.editTd=td;this.setPosition();var _459=this.mainGrid.getInput(this);_459.formatter=this.options.applyFormat=="all"?this.formatter:this.emptyFormatter;_459.options.applyFormat=this.options.applyFormat;if(this.options.maxLength){_459.render.setAttribute("maxLength",this.options.maxLength);}else{_459.render.removeAttribute("maxLength");}_459.setValue(this.mainGrid.dataList.getCellData(_458,this.colID));if(document.activeElement!=_459.render){_459.focus();}this.mainGrid.render.scrollLeft=0;this.mainGrid.render.scrollTop=0;_459.options.editType="select";if(_459.options.editType=="select"){_459.select();}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._J.drilldown.prototype.setPosition=function(){var _45a={top:0,left:0,width:0,height:0};if($W._G.isFF()){_45a={top:-1,left:-1,width:0,height:0};}else{if($W._G.isOpera()){_45a={top:0,left:0,width:0,height:1};}else{if($W._G.isIE(9)){_45a={top:-1,left:-1,width:0,height:0};}}}var td=this.editTd;var _45c=td.offsetTop+1+_45a.top;var _45d=td.offsetLeft+1+_45a.left;var _45e=td.clientWidth-6+_45a.width;var _45f=td.clientHeight-2+_45a.height;var _460=this.mainGrid.getInput(this);if(this.options.imeMode!=""){_460.render.style.imeMode=this.options.imeMode;}else{var _461=this.mainGrid.getColumnOption(this.options.col_id,"dataType");_460.render.style.imeMode=_461=="number"?"disabled":"";}_460.show();if(this.mainGrid.options.groupbyZone){var _462=this.mainGrid.groupbyZoneStatus.groupbyZoneRender.offsetHeight;if(this.mainGrid.options.groupbyFilterBox&&this.mainGrid.options.groupbyFilterBoxLocation==="top"){_462=parseInt(this.mainGrid.options.groupbyZoneHeight,10)+document.getElementById(this.mainGrid.id+"_groupbyFilterBox_div").offsetHeight;}_45c=_45c+_462;}_460.render.style.top=_45c+"px";_460.render.style.left=_45d+"px";_460.render.style.width=_45e+"px";_460.render.style.height=_45f+"px";if($W._G.isIE()){_460.render.style.lineHeight=_45f+"px";}_460.render.style.textAlign=td.style.textAlign==""?"center":td.style.textAlign;};$W._a._J.drilldown.prototype.removeCellData=function(_463,_464){this.mainGrid.dataList.setCellData(_463,_464,"");};$W._a._J.drilldown.prototype._handleEndEdit_common=function(e){["WebSquare.uiplugin.cellInfo.drilldown.prototype._handleEndEdit"];try{var _466=this.mainGrid.getInput(this);this.setEditData(_466);return _466;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._J.drilldown.prototype._handleEndEdit_focus=function(_467,_468){if(this.mainGrid.isMobile||!_468){_467.hide();}};$W._a._J.drilldown.prototype._getEditedValue=function(e){["WebSquare.uiplugin.cellInfo.drilldown.prototype._getEditedValue"];var _46a=this.mainGrid.getInput(this).getValue();return _46a;};$W._a._J.drilldown.prototype._handleCancelEdit=function(e){["WebSquare.uiplugin.cellInfo.drilldown.prototype._handleCancelEdit"];try{var _46c=this.mainGrid.dataList.getCellData(this.editRowIndex,this.colID);this.setInnerHTML(this.editTd,_46c,this.editRowIndex,this.getColumnIndex(this.colID));var _46d=this.mainGrid.getInput(this);_46d.hide();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._J.drilldown.prototype.doDefaultAction=function(e){if(!e.ctrlKey){this.mainGrid.setEditHtml(e);}};$W._a._J.drilldown.prototype.setEditData=function(_46f){try{var _470=_46f.getValue();_470=_46f.validator.validateString(_470);_46f.setValueNM(_470,true);this.setInnerHTML(this.editTd,_470,this.editRowIndex,this.getColumnIndex(this.colID));var _471=this.mainGrid.getColumnOption(this.options.col_id,"dataType");if(this.mainGrid.options.numberCasting&&_471=="number"){if(_470!=""){_470=Number(_470);}}var _472={};_472[this.mainGrid.id]=true;this.mainGrid.dataList.setCellData(this.editRowIndex,this.colID,_470,null,null,null,_472);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._J.textImage=function(){["WebSquare.uiplugin.cellInfo.textImage"];};$W._a._J.textImage.prototype.setInnerHTML=function(td,data,_475,_476){var row=this.mainGrid.getElemRowIndex(td);var _478=this.mainGrid.dataList.getRealRowIndex(row);var col=this.mainGrid.getColumnIndex(this.colID);var _47a=this.mainGrid.getCellOption(_478,col,"viewType");var _47b=this.options.imageSrc?$W._N.getImageURL(this.options.imageSrc):"";var _47c=this.mainGrid.getColumnID(_476);if(this.mainGrid.getEditDisabled(_475,_47c)&&this.options.imageSrcDisabled){_47b=$W._N.getImageURL(this.options.imageSrcDisabled);}else{if(this.mainGrid._getEditReadOnly(_475,_47c)&&this.options.imageSrcReadOnly){_47b=$W._N.getImageURL(this.options.imageSrcReadOnly);}}var _47d=this.getDisplayData(data);var _47e=$W._G.getGlobalFunction(this.options.customFormatter,this._scopeId);var _47f;if(typeof _47e=="function"){this.useCustomFormatter=true;_47f=_47e.call(this.mainGrid,data,_47d,_475,_476);}else{this.useCustomFormatter=false;_47f=_47d;}if(_47a=="icon"||(_47a==""&&this.options.dataType=="own")){var _480="";try{if(this.options.onerror){_480=" onerror=\"("+this.options.onerror+").call(this,event);\" ";}}catch(e){$W.exception.printStackTrace(e,null,this);}td.innerHTML=["<table style='border-collapse:collapse; border-spacing:0px; width:100%; table-layout:fixed;'>","<td col_id='"+this.colID+"' rowIndex='"+_475+"' colIndex='"+_476+"' class='w2grid_textImage' style='overflow:hidden; text-overflow:ellipsis;'>","<nobr>"+_47f+"</nobr>","</td>","<td col_id='"+this.colID+"' rowIndex='"+_475+"'  colIndex='"+_476+"' class='w2grid_textImage_image' style='",this.options.imageWidth!=""?"width:"+parseInt(this.options.imageWidth)+"px;":"",this.options.imageHeight!=""?"height:"+parseInt(this.options.imageHeight)+"px;":"","'>","<img src='"+_47b+"' "+_480+"style='",this.options.imageWidth!=""?"width:"+parseInt(this.options.imageWidth)+"px;":"",this.options.imageHeight!=""?"height:"+parseInt(this.options.imageHeight)+"px;":"","' />","</td>","</table>"].join("");var _481=this;var img=td.getElementsByTagName("img")[0];var _483=this.options.useImageClick||"false";var _484=function(e){$W._c.stopPropagation(e);var _486=_481.mainGrid.getDisabled("all",_475,_476);if(_481.mainGrid.options.imageClickSetFocuse){_481.mainGrid.setFocusedCell(_475,_476);}if((_483=="true")||(_483=="false"&&_486==false)){var _487=_481.getDisplayData(data);var _488=$W._G.getGlobalFunction(_481.options.imageClickFunction,_481._scopeId);$W._c.fireEvent(_481.mainGrid,"ontextimageclick",_475,_476);if(typeof _488=="function"){if(_481.options.displayRowIndex){_488.call(_481.mainGrid,_475,_481.colID,_487);}else{_488.call(_481.mainGrid,_478,_481.colID,_487);}}}};$W._c.addListener(img,"onclick",_484);}else{td.innerHTML="<nobr>"+_47f+"</nobr>";}};$W._a._J.textImage.prototype.setEditMode=function(td,_48a){try{var _48b="";try{if(this.options.onerror){_48b=" onerror=\"("+this.options.onerror+").call(this,event);\" ";}}catch(e){$W.exception.printStackTrace(e,null,this);}var _48c=this.options.imageSrc?$W._N.getImageURL(this.options.imageSrc):"";td.innerHTML=["<table style='border-collapse:collapse; border-spacing:0px;'><td></td><td>","<img src='"+_48c+"' "+_48b+"style='",this.options.imageWidth!=""?"width:"+parseInt(this.options.imageWidth)+"px;":"",this.options.imageHeight!=""?"height:"+parseInt(this.options.imageHeight)+"px;":"","' />","</td></table>"].join("");var tds=td.getElementsByTagName("td");var img=tds[1].firstChild;var row=this.mainGrid.getElemRowIndex(td);var col=this.mainGrid.getColumnIndex(this.colID);var _491=this.mainGrid._dataList.filteredRowIndexArr[row];var _492=this;var _493=function(e){$W._c.stopPropagation(e);if(_492.mainGrid.editedCell){_492.mainGrid.editedCell.handleEndEdit();}var _495=_492.mainGrid.getInput(_492).getValue();var _496=$W._G.getGlobalFunction(_492.options.imageClickFunction,_492._scopeId);$W._c.fireEvent(_492.mainGrid,"ontextimageclick",_48a,col);if(typeof _496=="function"){if(_492.options.displayRowIndex){_496.call(_492.mainGrid,_48a,_492.colID,_495);}else{_496.call(_492.mainGrid,_491,_492.colID,_495);}}};$W._c.addListener(img,"onclick",_493);this.editRowIndex=_48a;this.editTd=td;if(this.internal){this.parentColumnInfo.editRowIndex=_48a;this.parentColumnInfo.editTd=td;}this.setPosition();var _497=this.mainGrid.getInput(this);this.comp=_497;_497.formatter=this.options.applyFormat=="all"?this.formatter:this.emptyFormatter;_497.options.applyFormat=this.options.applyFormat;if(this.options.maxLength){_497.render.setAttribute("maxLength",this.options.maxLength);}else{_497.render.removeAttribute("maxLength");}_497.setValue(this.mainGrid.dataList.getCellData(_48a,this.colID));_497.focus();this.mainGrid.render.scrollLeft=0;this.mainGrid.render.scrollTop=0;if(_497.options.editType=="select"){_497.select();}else{if(_497.options.editType=="focus"&&($W._G.isIE()||$W._G.isFF())){$W._A.setCaretPos(_497.render,_497.render.value.length);}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._J.textImage.prototype.setPosition=function(){try{var _498={top:0,left:0,width:0,height:0,tdWidth:0};if($W._G.isFF()){_498={top:-1,left:-1,width:0,height:0,tdWidth:0};}else{if($W._G.isOpera()){_498={top:0,left:0,width:0,height:1,tdWidth:0};}}var td=this.editTd;var tds=td.getElementsByTagName("td");var img=tds[1].firstChild;var _49c=td.clientWidth-img.offsetWidth-1+_498.tdWidth;var _49d=td.offsetTop+1+_498.top;var _49e=td.offsetLeft+1+_498.left;var _49f=td.clientWidth-img.offsetWidth-6+_498.width;var _4a0=td.clientHeight-2+_498.height;if(this.mainGrid.options.groupbyZone){var _4a1=this.mainGrid.groupbyZoneStatus.groupbyZoneRender.offsetHeight;if(this.mainGrid.options.groupbyFilterBox&&this.mainGrid.options.groupbyFilterBoxLocation==="top"){_4a1=parseInt(this.mainGrid.options.groupbyZoneHeight,10)+document.getElementById(this.mainGrid.id+"_groupbyFilterBox_div").offsetHeight;}_49d=_49d+_4a1;}tds[0].style.width=_49c+"px";var _4a2=this.mainGrid.getInput(this);if(this.options.imeMode!=""){_4a2.render.style.imeMode=this.options.imeMode;}else{var _4a3=this.mainGrid.getColumnOption(this.options.col_id,"dataType");_4a2.render.style.imeMode=(_4a3=="number")?"disabled":"";}if(this.mainGrid.hasClass("w2grid_adaptive_crosstab")){var _4a4=document.getElementById(this.mainGrid.id+"_body_tbody").scrollLeft;_49d=_49d-_4a4;_4a2.render.style.lineHeight=_4a0+"px";}_4a2.show();_4a2.render.style.top=_49d+"px";_4a2.render.style.left=_49e+"px";_4a2.render.style.width=_49f+"px";_4a2.render.style.height=_4a0+"px";_4a2.render.style.lineHeight=_4a0+"px";_4a2.render.style.textAlign=td.style.textAlign==""?"center":td.style.textAlign;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._J.textImage.prototype.removeCellData=function(_4a5,_4a6){this.mainGrid.dataList.setCellData(_4a5,_4a6,"");};$W._a._J.textImage.prototype._handleEndEdit_common=function(e){["WebSquare.uiplugin.cellInfo.textImage.prototype._handleEndEdit"];try{var _4a8=this.mainGrid.getInput(this);var _4a9=_4a8.getValue();_4a9=_4a8.validator.validateString(_4a9);this.setInnerHTML(this.editTd,_4a9,this.editRowIndex,this.getColumnIndex(this.colID));var _4aa={};_4aa[this.mainGrid.id]=true;this.mainGrid.dataList.setCellData(this.editRowIndex,this.colID,_4a9,null,null,null,_4aa);return _4a8;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._J.textImage.prototype._handleEndEdit_focus=function(_4ab){_4ab.setDisabled(false);_4ab.setReadOnly(false);_4ab.hide();};$W._a._J.textImage.prototype._getEditedValue=function(e){["WebSquare.uiplugin.cellInfo.textImage.prototype._getEditedValue"];var _4ad=this.mainGrid.getInput(this).getValue();return _4ad;};$W._a._J.textImage.prototype._handleCancelEdit=function(e){["WebSquare.uiplugin.cellInfo.textImage.prototype._handleCancelEdit"];try{var _4af=this.mainGrid.getInput(this);var _4b0=this.mainGrid.dataList.getCellData(this.editRowIndex,this.colID);this.setInnerHTML(this.editTd,_4b0,this.editRowIndex,this.getColumnIndex(this.colID));_4af.hide();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._J.textImage.prototype.doDefaultAction=function(e){if(!e.ctrlKey){this.mainGrid.setEditHtml(e);}};$W._a._J.textImage.prototype.showReadonly=function(td,_4b3){this.setEditMode(td,_4b3);var _4b4=this.mainGrid.getInput(this);_4b4.setDisabled(true);_4b4.setReadOnly(true);this.mainGrid.editedCell=this;};$W._a._J.prototype.setDataListCellRefresh=function(_4b5){try{if(_4b5){this.initFormatter(_4b5);var _4b6=this.options.dataType;if(!_4b6){_4b6=this.mainGrid._dataList.getColumnOption(this.options.col_id,"dataType");}if(_4b6=="date"&&!this.options.displayFormat){this.options.displayFormat=$W._N.getConfiguration("/WebSquare/"+pluginName+"/dataType/date/@displayFormat");}if(_4b6=="time"&&!this.options.displayFormat){this.options.displayFormat="HH:mm";}var _4b7=(this.options.groupName&&this.options.groupValue)?false:true;var _4b8=this.options.inputType;var _4b9=(_4b8=="button"||_4b8=="image")?false:true;if(_4b7&&_4b9){var _4ba=!!(this.mainGrid._dataList.getCellInfo(this.colID).element)?true:false;if(!_4ba){this.options.readOnly=true;}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._J.spinner=function(){["WebSquare.uiplugin.cellInfo.spinner"];};$W._a._J.spinner.prototype.initializeCellInfo=function(_4bb){["WebSquare.uiplugin.cellInfo.spinner.prototype.initializeCellInfo"];try{if(!this.xml){var _4bc=$W._B.serialize(_4bb);var _4bd=_4bc.indexOf("xmlns:w2")<0?" xmlns:w2=\"http://www.inswave.com/websquare\"":"";_4bc=_4bc.wq_replaceAll("<w2:column","<w2:spinner"+_4bd);_4bc=_4bc.wq_replaceAll("</w2:column","</w2:spinner");var elem=$W._B.parse(_4bc,true);this.xml=elem.documentElement;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._J.spinner.prototype.setInnerHTML=function(td,data,_4c1,_4c2){if(data==null){data="";}if(this.spinner&&this.spinner.render&&td.firstChild==this.spinner.render){td.removeChild(this.spinner.render);}td.innerHTML="<nobr>"+this.getDisplayData(data,_4c1)+"</nobr>";var _4c3=this.mainGrid.dataList.getRealRowIndex(_4c1);var _4c4=this.mainGrid.getCellOption(_4c3,_4c2,"viewType");var _4c5=this.mainGrid.getColumnOption(this.options.col_id,"dataType");if(_4c4=="icon"||(_4c4==""&&_4c5=="own")){this.mainGrid.addClass(td,this.mainGrid.options.bodyTdClass+"_spinner");td.setAttribute("editModeEvent","onclick");}};$W._a._J.spinner.prototype.setEditMode=function(td,_4c7){["WebSquare.uiplugin.cellInfo.spinner.prototype.setEditMode"];try{if(this.style==""){this.style="position:relative;left:0px;top:0px;background-color:#ffffff;";this.xml.setAttribute("class",this.mainGridId+"_spinner_"+this.id);this.xml.setAttribute("style",this.style);this.configOptions={};this.options.dataType?this.configOptions.dataType=this.options.dataType:"";this.options.buttonSize?this.configOptions.buttonSize=this.options.buttonSize:"";this.options.dateIncrementType?this.configOptions.dateIncrementType=this.options.dateIncrementType:"";this.options.displayFormat?this.configOptions.displayFormat=this.options.displayFormat:"";this.options.displayFormatter?this.configOptions.displayFormatter=this.options.displayFormatter:"";this.options.increment?this.configOptions.increment=this.options.increment:"";this.options.min?this.configOptions.min=this.options.min:"";this.options.max?this.configOptions.max=this.options.max:"";this.configOptions.xmlEvents=[{name:"ondblclick",action:"script",param:{handler:function(e){$W._c.stopPropagation(e);}}}];this.spinner=new $W._a._m(this.mainGridId+"_spinner_"+this.id,this.configOptions,this.xml);this.spinner.isGridCellComponent=true;var _4c9=this;this.spinner._handleClickEvent=this.spinner.handleClickEvent;this.spinner.handleClickEvent=function(e){var _4cb=_4c9.mainGrid.getElemRowIndex(this.render.parentElement);var _4cc=this.render.parentElement.getAttribute("tdindex");if(this.options.customFormatter){try{var _4cd=null;var _4ce={};_4cd=$W._G.getGlobalFunction(this.options.customFormatter,this._scopeId);if(_4cd!=null){_4ce=_4cd(_4cb,_4cc);for(key in _4ce){if(this.options.hasOwnProperty(key)){this.options[key]=_4ce[key];}}}}catch(e){_4cd=null;}this._handleClickEvent(e);}else{this._handleClickEvent(e);}$W._c.stopEvent(e);};this.spinner._inputKeyDown=this.spinner.inputKeyDown;this.spinner.inputKeyDown=function(e,_4d0){if(e.keyCode==27){}else{_4c9.spinner._inputKeyDown(e,_4d0);}};td.innerHTML=this.spinner.toHTML();this.spinner.activate();this.spinner.setSize(td.clientWidth-2,td.clientHeight-2);}else{td.innerHTML="";td.appendChild(this.spinner.render);this.spinner.show();}this.maxValue=Number(this.spinner.options.maxValue);this.minValue=Number(this.spinner.options.minValue);this.editColIndex=this.mainGrid.getColumnIndex(this.id);this.editRowIndex=_4c7;this.editTd=td;this.spinner.setValue(this.mainGrid.dataList.getCellData(_4c7,this.id));}catch(e){$W.exception.printStackTrace(e,null,this.mainGrid);}};$W._a._J.spinner.prototype._handleEndEdit_common=function(e){["WebSquare.uiplugin.cellInfo.spinner.prototype._handleEndEdit_common"];try{var _4d2=this.spinner.getValue();if(this.spinner.options.dataType=="number"){var _4d3=Number(_4d2);if(this.options.customFormatter){this.maxValue=Number(this.spinner.options.maxValue);this.minValue=Number(this.spinner.options.minValue);if(_4d2>this.maxValue){_4d2=this.maxValue+"";}else{if(this.minValue>_4d2){_4d2=this.minValue;}}}else{if(_4d2>this.maxValue){_4d2=this.maxValue+"";}else{if(this.minValue>_4d2){_4d2=this.minValue;}}}}else{if(this.spinner.options.dataType=="date"){}}this.mainGrid.dataList.setCellData(this.editRowIndex,this.id,_4d2);this.setInnerHTML(this.editTd,_4d2,this.editRowIndex,this.id);this.spinner.hide();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._J.spinner.prototype._handleCancelEdit=function(e){["WebSquare.uiplugin.cellInfo.spinner.prototype._handleCancelEdit"];try{}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._J.spinner.prototype._handleEndEdit_focus=function(){["WebSquare.uiplugin.cellInfo.spinner.prototype._handleEndEdit_focus"];try{return null;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._J.spinner.prototype.doDefaultAction=function(e){console.log("doDefaultAction");if(!e.ctrlKey){this.mainGrid.setEditHtml(e);}};$W._a._J.custom=function(){["WebSquare.uiplugin.cellInfo.custom"];};$W._a._J.custom.prototype.initializeCellInfo=function(_4d6,_4d7){["WebSquare.uiplugin.cellInfo.custom.prototype.initializeCellInfo"];try{if(_4d6&&_4d6.tagName=="w2:column"&&!_4d7){this.parseTypeGetter();this.cellManagerHashByID={};this.cellManagerHashByRowIndex={};this.cellManagerIDByRowIndex={};}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._J.custom.prototype.initializeCellManager=function(_4d8,info){["WebSquare.uiplugin.cellInfo.custom.prototype.initializeOptions"];try{var _4da=info.inputType?info.inputType:info.tagName;_4d8.id=info.id;_4d8.colID=this.id;_4d8._position={colIndex:this.mainGrid.getColumnIndex(this.colID),colID:this.id,realRowIndex:info.realRowIndex,displayRowIndex:info.displayRowIndex};_4d8.parentColumnInfo=this;_4d8.options.inputType=_4da;_4d8.initializeInputType=this.getTagName(_4da);_4d8.initializeInfo=info;for(var attr in info.options){_4d8.options[attr]=info.options[attr];}_4d8.initFormatter();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._J.custom.prototype.getMapping=function(_4dc,_4dd){["WebSquare.uiplugin.cellInfo.custom.prototype.getMapping"];try{switch(_4dc){case "text":$W.extend(_4dd,$W._a._J.text.prototype);return true;case "link":$W.extend(_4dd,$W._a._J.link.prototype);return true;case "checkbox":$W.extend(_4dd,$W._a._J.checkbox.prototype);return true;case "button":$W.extend(_4dd,$W._a._J.button.prototype);return true;case "image":$W.extend(_4dd,$W._a._J.image.prototype);return true;case "radio":$W.extend(_4dd,$W._a._J.radio.prototype);return true;case "select":$W.extend(_4dd,$W._a._J.select.prototype);return true;case "calendar":$W.extend(_4dd,$W._a._J.calendar.prototype);return true;case "textarea":$W.extend(_4dd,$W._a._J.textarea.prototype);return true;case "expression":$W.extend(_4dd,$W._a._J.expression.prototype);return true;case "textImage":$W.extend(_4dd,$W._a._J.textImage.prototype);return true;case "checkcombobox":$W.extend(_4dd,$W._a._J.checkcombobox.prototype);return true;case "autoComplete":$W.extend(_4dd,$W._a._J.autoComplete.prototype);return true;default:$W.extend(_4dd,$W._a._J.text.prototype);return true;}return false;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._J.custom.prototype.getTagName=function(_4de){["WebSquare.uiplugin.cellInfo.custom.prototype.getTagName"];try{switch(_4de){case "text":return "input";case "link":return "anchor";case "button":return "trigger";case "select":return "selectbox";default:return _4de;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._J.custom.prototype.parseTypeGetter=function(){["WebSquare.uiplugin.cellInfo.custom.prototype.parseTypeGetter"];try{if(this.options.typeGetter){this.typeGetter=$W._G.getGlobalFunction(this.options.typeGetter,this._scopeId);this.isValidTypeGetter=true;}else{this.isValidTypeGetter=false;$l("Custom type \uadf8\ub9ac\ub4dc \uc0dd\uc131 \uc911 \uc624\ub958\uac00 \ubc1c\uc0dd\ud558\uc600\uc2b5\ub2c8\ub2e4. typeGetter \uc18d\uc131\uc774 \uc815\uc758\ub418\uc5b4 \uc788\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4.  gridView ["+this.mainGrid.id+"] column:["+this.id+"]");}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._J.custom.prototype.updateCellManagerHash=function(_4df,_4e0,_4e1,_4e2){["WebSquare.uiplugin.cellInfo.custom.prototype.updateCellManagerHash"];try{this.cellManagerHashByID[_4df]=_4e1;this.cellManagerHashByRowIndex[_4e0]=_4e1;this.cellManagerIDByRowIndex[_4e0]=_4df;if(_4e2&&_4e1.itemsetObj&&_4e2.nodeset!==_4e1.itemsetObj.nodeset){_4e1.setColumnNodeSet(_4e2.nodeset,_4e2.label,_4e2.value);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._J.custom.prototype.createCellManager=function(_4e3,_4e4){["WebSquare.uiplugin.cellInfo.custom.prototype.createCellManager"];try{var _4e5=_4e4.id;var _4e6=_4e4.realRowIndex;var _4e7=new $W._a._J(_4e3,this.mainGrid,true);var _4e8=this.getMapping(_4e4.inputType,_4e7);if(_4e8){this.initializeCellManager(_4e7,_4e4);_4e7.initializeCellInfo(_4e3,_4e4.options);_4e7.isLocked=true;this.updateCellManagerHash(_4e5,_4e6,_4e7);return this.cellManagerHashByRowIndex[_4e6];}else{var _4e9=this.options.id;var _4ea=this.mainGrid.getColumnIndex(_4e9);$l("Custom type \uadf8\ub9ac\ub4dc \uc0dd\uc131 \uc911 \uc624\ub958\uac00 \ubc1c\uc0dd\ud558\uc600\uc2b5\ub2c8\ub2e4. gridView ["+this.mainGrid.id+"] column:["+this.id+"] inputType:["+_4e4.inputType+"] realRowIndex:["+_4e6+"] colIndex["+_4ea+"]");return false;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._J.custom.prototype.getCellManager=function(info){["WebSquare.uiplugin.cellInfo.custom.prototype.getCellManager"];try{var _4ec=info.managerID;var _4ed=info.element;var _4ee=info.rowIndex;var _4ef=info.realRowIndex;var _4f0=this.options.id;var _4f1=this.mainGrid.getColumnIndex(_4f0);var _4f2=this.mainGrid.getCellData(_4ee,_4f1);var _4f3={colID:_4f0,colIndex:_4f1,rowIndex:_4ee,displayRowIndex:info.rowIndex,realRowIndex:info.realRowIndex,value:_4f2};try{if(this.cellManagerHashByID[_4ec]){return this.cellManagerHashByID[_4ec];}var _4f4;var _4f5;if(this.isValidTypeGetter){_4f5=this.typeGetter(_4f3);}else{this.parseTypeGetter();if(this.isValidTypeGetter){_4f5=this.typeGetter(_4f3);}}if(_4f5){if(_4f5.isUDC){}else{_4f4=this.cellManagerHashByID[_4f5.id];if(!_4f4){_4f5.realRowIndex=_4ef;_4f5.displayRowIndex=_4ee;_4f4=this.createCellManager(_4ed,_4f5);}else{this.updateCellManagerHash(_4f5.id,_4ef,_4f4,_4f5.itemSet);if(_4f4.isLocked){}}}_4f4.customValue=_4f5.value;}else{_4f4=this.createCellManager(_4ed,{id:this.mainGrid.id+"_"+this.colID+"_"+_4ef+"_"+"_default",inputType:"text",realRowIndex:_4ef});}return _4f4;}catch(e){$l("Custom type \uadf8\ub9ac\ub4dc \uc0dd\uc131 \uc911 \uc624\ub958\uac00 \ubc1c\uc0dd\ud558\uc600\uc2b5\ub2c8\ub2e4. gridView ["+this.mainGrid.id+"] column:["+this.id+"] realRowIndex:["+_4ef+"] colIndex["+_4f1+"]");return false;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._J.custom.prototype.setInnerHTML=function(td,data,_4f8,_4f9){["WebSquare.uiplugin.cellInfo.custom.prototype.setInnerHTML"];try{var _4fa=this.mainGrid.getRealRowIndex(_4f8);var _4fb=this.getCellManager({element:td,rowIndex:_4f8,realRowIndex:_4fa});if(_4fb===false){td.innerHTML="<nobr>"+value+"</nobr>";}else{this.clearStyle(_4fb,td);_4fb.setInnerHTML(td,data,_4f8,_4f9);if(_4fb.customValue!=undefined){data=_4fb.customValue;this.mainGrid.dataList.setCellData(_4f8,this.colID,data);}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._J.custom.prototype.setEditMode=function(td,_4fd){["WebSquare.uiplugin.cellInfo.custom.prototype.setEditMode"];try{if(!this.internal){var _4fe=this.mainGrid.getRealRowIndex(_4fd);var _4ff=this.cellManagerHashByRowIndex[_4fe];if(_4ff){_4ff.setEditMode(td,_4fd);}else{}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._J.custom.prototype.setPosition=function(){["WebSquare.uiplugin.cellInfo.custom.prototype.setPosition"];try{if(!this.internal){var _500=this.mainGrid.getRealRowIndex(this.editRowIndex);var _501=this.cellManagerHashByRowIndex[_500];if(_501){_501.setPosition(td,rowIndex);}else{}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._J.custom.prototype._handleEndEdit_common=function(e){["WebSquare.uiplugin.cellInfo.custom.prototype._handleEndEdit_common"];try{if(!this.internal){var _503=this.mainGrid.getRealRowIndex(this.editRowIndex);var _504=this.cellManagerHashByRowIndex[_503];if(_504){return _504._handleEndEdit_common(e);}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._J.custom.prototype._handleEndEdit_focus=function(_505){["WebSquare.uiplugin.cellInfo.custom.prototype._handleEndEdit_focus"];try{if(!this.internal){var _506=this.mainGrid.getRealRowIndex(this.editRowIndex);var _507=this.cellManagerHashByRowIndex[_506];if(_507){_507._handleEndEdit_focus(_505);}else{}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._J.custom.prototype._handleCancelEdit=function(e){["WebSquare.uiplugin.cellInfo.custom.prototype._handleCancelEdit"];try{if(!this.internal){var _509=this.mainGrid.getRealRowIndex(this.editRowIndex);var _50a=this.cellManagerHashByRowIndex[_509];if(_50a){_50a._handleCancelEdit();}else{}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._J.custom.prototype.doDefaultAction=function(e){["WebSquare.uiplugin.cellInfo.custom.prototype.doDefaultAction"];try{if(!this.internal){var _50c=this.mainGrid.getRealRowIndex(this.editRowIndex);var _50d=this.cellManagerHashByRowIndex[_50c];if(_50d){_50d.doDefaultAction();}else{}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._J.custom.prototype.clearStyle=function(_50e,td){["WebSquare.uiplugin.cellInfo.custom.prototype.clearStyle"];try{if(_50e.initializeInputType!="calendar"&&this.mainGrid.hasClass(td,this.mainGrid.options.bodyTdClass+"_calendar")){$W._H.removeClass(td,this.mainGrid.options.bodyTdClass+"_calendar");td.setAttribute("editModeEvent","");}if(_50e.initializeInputType!="select"&&this.mainGrid.hasClass(td,this.mainGrid.options.bodyTdClass+"_select")){$W._H.removeClass(td,this.mainGrid.options.bodyTdClass+"_select");td.setAttribute("editModeEvent","");}if(_50e.initializeInputType!="autoComplete"&&this.mainGrid.hasClass(td,this.mainGrid.options.bodyTdClass+"_autoComplete")){$W._H.removeClass(td,this.mainGrid.options.bodyTdClass+"_autoComplete");td.setAttribute("editModeEvent","");}if(_50e.initializeInputType!="checkcombobox"&&this.mainGrid.hasClass(td,this.mainGrid.options.bodyTdClass+"_checkcombobox")){$W._H.removeClass(td,this.mainGrid.options.bodyTdClass+"_checkcombobox");td.setAttribute("editModeEvent","");}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._J.custom.prototype.validate=function(){["WebSquare.uiplugin.cellInfo.custom.prototype.validate"];try{if(!this.internal){var _510=this.mainGrid.getRealRowIndex(this.editRowIndex);var _511=this.cellManagerHashByRowIndex[_510];if(_511){switch(_511.options.inputType){case "calendar":return _511.validate();break;default:return true;break;}}else{return true;}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._J.custom.prototype._getEditedValue=function(){["WebSquare.uiplugin.cellInfo.custom.prototype.validate"];try{if(!this.internal){var _512=this.mainGrid.getRealRowIndex(this.editRowIndex);var _513=this.cellManagerHashByRowIndex[_512];if(_513&&_513._getEditedValue){return _513._getEditedValue();}}return "";}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._J.custom.prototype.refreshCellManagerHash=function(){["WebSquare.uiplugin.cellInfo.custom.prototype.refreshCellManagerHash"];try{var cnt=this.mainGrid.getRowCount();for(var i=0;i<cnt;i++){this.getCellManager({element:this.element,rowIndex:i,realRowIndex:this.mainGrid.getRealRowIndex(i)});}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._J.user=function(){["WebSquare.uiplugin.cellInfo.user"];};$W._a._J.user.prototype.setInnerHTML=function(td,data,_518,_519){var _51a=$W._G.getGlobalFunction(this.options.customFormatter,this.scope_id);var _51b=this.getDisplayData(data);var _51c;if(typeof _51a=="function"){this.useCustomFormatter=true;_51c=_51a.call(this.mainGrid,data,_51b,_518,_519);}else{this.useCustomFormatter=false;_51c=_51b;}td.innerHTML="<nobr>"+_51c+"</nobr>";};$W._a._J.user.prototype.doDefaultAction=function(e){if(this.mainGrid.options.focusMode=="none"){var td=$W._c.getTarget(e);while(td&&td.tagName!="TD"){td=td.parentNode;}if(td){var _51f=this.mainGrid.getElemRowIndex(td);var _520=this.mainGrid.getColumnIndex(td.getAttribute("col_id"));}else{return;}}else{var _521=this.mainGrid.getLastFocusedCell();var _51f=_521.focusedRowIndex;var _520=_521.focusedColIndex;}if(!this.mainGrid.getEditDisabled(_51f,_520)&&!this.mainGrid._getEditReadOnly(_51f,_520)){$W._c.fireEvent(this.mainGrid,"oncellclick",_51f,_520);}};;WebSquare.uiplugin.cellController=$W._a._g;;WebSquare.uiplugin.cellInfo=$W._a._J;$W._a._w=function(){["WebSquare.uiplugin.headerController"];};$W._a._w.prototype.initializeHead=function(){["WebSquare.uiplugin.headerController.prototype.initializeHead"];try{this.headerObj={};var _1=this.getDomList("head_tds","th",this.getElementById(this.id+"_head_table"));var _2=[];var _3={};for(var i=0;i<_1.length;i++){if(_3[_1[i].id]){var _5=$W._m.getMessage("E_comp_duplicated_Msg",_1[i].id)||"id["+_1[i].id+"] \uac00 \uc911\ubcf5\uc0ac\uc6a9\ub418\uc5c8\uc2b5\ub2c8\ub2e4. \uc18c\uc2a4\ucf54\ub4dc\ub97c \ud655\uc778\ud558\uc138\uc694.";$l(_5);}else{_3[_1[i].id]=_1[i].id;}_2.push(_1[i]);}for(var i=0;i<_2.length;i++){var td=_2[i];if(td.getAttribute("header_id")){continue;}var _7=td.getAttribute("inputType");var _8=td.getAttribute("dataType");var _9=td.getAttribute("value");var _a=null;if(_7=="checkbox"){td.innerHTML="";_a=this.setCheckboxHead(td,_9);_a.headInputType="checkbox";}else{if(_7=="select"){_a=this.setSelectboxHead(td,_9);_a.headInputType="select";}else{if(_7=="text"&&_8=="own"){_a=this.setInputHead(td,_9);_a.headInputType="input";}else{if(_7=="checkcombobox"){_a=this.setCheckcomboboxHead(td,_9);_a.headInputType="checkcombobox";}else{var _b="";var _c=td.getAttribute("localeRef");if(_c!=null){_b=this.getLocaleValue(_c);}else{_b=td.getAttribute("value");if(_b==null){_b="";}}td.innerHTML="<nobr>"+_b+"</nobr>";}}}}var _d=td.getAttribute("id");td.setAttribute("header_id",_d);td.className=td.className+(" "+this.id+"_header__column"+i);if(this.headCellInfoHash[_d]){var _e=this.headCellInfoHash[_d].getAttribute("class");if(_e){td.className=td.className+(" "+_e);}}td.setAttribute("id",this.id+"_"+_d);if(this.options.autoScope){td.setAttribute("scope","col");}if(!!_d&&!_d.match("RowNumber")&&!_d.match("RowStatus")){var _f="/WebSquare/grid/header/column[@inputType='"+_7+"']/useFilter/@value";var _10=$W._G.getBoolean($W._N.getConfiguration(_f));var _11=this.headCellInfoHash[_d].getAttribute("useFilter");if(typeof _11=="string"){_11=$W._G.getBoolean(_11);}else{_11=true;}if(_11&&(_10||td.getAttribute("useFilter")=="true")){var _12=td.innerHTML;td.innerHTML="<table style='width:100%;height:100%;'><tr><td style='width:100%;'>"+_12+"</td><td><input type='button' id='"+this.id+"_"+_d+"_filter' class='w2trigger w2grid_customFilter_open' onclick='"+this.id+".showCustomFilter(\""+_d+"\");'/></td></tr></table>";var _13=td.children[0];var _14=td.getAttribute("value");if(_14&&_14.length&&_13&&_13.tagName==="TABLE"){var _15=_13.getElementsByTagName("nobr")[0];if(_15){_15.innerHTML=_14;for(var j=0;j<_14.length;j++){if(_13.offsetWidth>td.offsetWidth){_15.innerHTML=_14.substr(0,_14.length-(j+1));}else{break;}}}}td.setAttribute("useFilter","true");}}if(td.getAttribute("sortable")==="true"){td.className+=" w2grid_head_sortable";}this.headerObj[_d]=_a;td.disabled=false;var _17=td.getAttribute("toolTip");if(_17){$W.getBody().setToolTip(td,_17);}}this.clearHeaderSort();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._w.prototype.associateHeaderBody=function(){["WebSquare.uiplugin.headerController.prototype.associateHeaderBody"];try{var _18=this.getDomList("head_tds","th",this.getElementById(this.id+"_head_table"));var _19=0;var _1a=-1;var _1b="";for(var i=0;i<_18.length;i++){var _1d=_18[i];if(_1d.className.indexOf(this.options.headerTdClass+"_rowNumber")>=0||_1d.className.indexOf(this.options.headerTdClass+"_rowStatus")>=0){}else{var _1e=_1d.getAttribute("colIndex");if(parseInt(_1e)<=_1a){_19++;}_1a=parseInt(_1e);var _1f=_19;if(_1f+1>this.tempTr.rows.length){_1f=this.tempTr.rows.length-1;}var _20=null;var _21=null;while(_1f>=0){var _22=this.tempTr.rows[_1f];var _23=$W._G.first(_22);while(_23){var _24=_23.getAttribute("colIndex");if(_1e==_24){_21=_23;break;}_23=$W._G.next(_23);}if(_21){break;}_1f--;}if(_21){var _25=_1d.getAttribute("header_id");var _26=_21.getAttribute("col_id");_1b=_26;this.headerToBodyRelation[_25]=_26;this.bodyToHeaderRelation[_26]=_25;}else{var _25=_1d.getAttribute("header_id");this.passiveColSpanRelation[_25]=_1b;}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._w.prototype.setCheckboxHead=function(td,_28){["WebSquare.uiplugin.headerController.prototype.setCheckboxHead"];try{var _29=td.getAttribute("col_id");var _2a=td.getAttribute("onChangeFunction")||td.getAttribute("onchangeFunction");var _2b="<INPUT type='checkbox' />";var _2c=td.getAttribute("checkboxlabel");if(_2c){var _2d=this.uuid+"_header__"+_29;var _2e=_2d+"_id";var _2f=td.getAttribute("checkboxlabelposition");if(_2f==="left"){_2b="<label class='w2checkbox_label ' for='"+_2e+"'>"+_2c+"</label>"+"<INPUT type='checkbox' name='"+_2d+"' id='"+_2e+"'/>";}else{_2b="<INPUT type='checkbox' name='"+_2d+"' id='"+_2e+"'/>"+"<label class='w2checkbox_label ' for='"+_2e+"'>"+_2c+"</label>";}}td.innerHTML=_2b;var _30=td.getElementsByTagName("input")[0];_30.setAttribute("colId",_28);if(td.getAttribute("disabled")=="true"||($W._G.isIE(8)&&this.headCellInfoHash[_29].getAttribute("disabled")=="true")){_30.setAttribute("disabled","disabled");}var _31=td.getAttribute("title");if(_31){_30.setAttribute("title",_31);}var _32=this;$W._c.addListener(_30,"onkeydown",function(e){$W._c.stopPropagation(e);});$W._c.addListener(_30,"ondblclick",function(e){$W._c.stopPropagation(e);});$W._c.addListener(_30,"onfocus",function(e){var _36=_32.headerToBodyRelation[_29];var _37=_32.getCellInfo(_36);if(_37.options.focusOutOnCheckHeaderClick){_32.removeFocusedCell();if(_32.options.senseReader==true&&_32.rowIndex>0){_32.addGridScroll(0-_32.rowIndex);}}});if(_2a!=null&&_2a!=""){$W._c.addListener(_30,"onclick",function(e){_32.noevent=true;var _39=$W._G.getGlobalFunction(_2a,_32.scope_id);if(typeof _39=="function"){try{_39.call(this,this.checked,_28);}catch(e){}}});}else{$W._c.addListener(_30,"onclick",function(e){_32.noevent=true;var _3b=_32.headerToBodyRelation[_29];var _3c=_32.getCellInfo(_3b);var _3d=_3c.options.trueValue;var _3e=_3c.options.falseValue;var _3f=!!(_32.isDrillDown&&_32._dataList.options.depthColumn);if(this.checked){var _40=_32.getUnCheckedIndex(_3b);for(var i=0;i<_40.length;i++){if(_3c.options.checkAlways||(!_32._getEditReadOnly(_40[i],_3b,_3f)&&!_32.getEditDisabled(_40[i],_3b,_3f))){_32.dataList.setCellData(_40[i],_3b,_3d,true,true);}}}else{var _42=_32.getCheckedIndex(_3b);for(var i=0;i<_42.length;i++){if(_3c.options.checkAlways||(!_32._getEditReadOnly(_42[i],_3b,_3f)&&!_32.getEditDisabled(_42[i],_3b,_3f))){_32.dataList.setCellData(_42[i],_3b,_3e,true,true);}}}_32._dataList.broadcast({"gridView":["notifyRowChanged"],"linkedDataList":["notifyRowChanged"],"fusionChart":["refresh"],"fwFunnelChart":["refresh"],"fwSparkChart":["refresh"],"fwPyramidChart":["refresh"],"fwGanttChart":["refresh"],"generalComp":"both"});if(_32.options.senseReader&&_32.rowIndex<=0){_32.senseReaderMode=true;_32._setGridBorderNoRefresh=true;}if(_32.options.senseReader&&_32.rowIndex<=0){_32.senseReaderMode=false;_32._setGridBorderNoRefresh=false;}_32.drawFooter();_32.drawHeader();});}return _30;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._w.prototype.checkHeader=function(_43){["WebSquare.uiplugin.headerController.prototype.checkHeader"];try{if(this.headerObj){var _44=this.headerObj[_43];var _45=this.headerToBodyRelation[_43];var _46=this.headerInfoHash[_43];if(_44&&_46&&_46.options&&_46.options.inputType=="checkbox"){var _47=!!(this.isDrillDown&&this._dataList.options.depthColumn);var _48=this.getCellInfo(_45);var _49=_47?this.getTotalRow():this.getRowCount();if(this.hasCustomInputType){if(_48.internal==false&&_48.options.inputType=="custom"){var cnt=_49;for(var i=0;i<cnt;i++){var _4c=_47?i:this.dataList.getRealRowIndex(i);_cellInfo=_48.cellManagerHashByRowIndex[_4c]?_48.cellManagerHashByRowIndex[_4c]:_48;if(_cellInfo.options.inputType!="checkbox"&&_cellInfo.options.inputType!="radio"){_49--;}}}}var _4d=this.getCheckedIndex(_45);var _4e=_4d.length;if(_49==0){_44.checked=false;_44.indeterminate=false;}else{if(_49==_4e){_44.checked=true;_44.indeterminate=false;}else{if(_4e>0){var _4f=false;if(!_48.options.checkAlways){for(var i=0;i<_4d.length;i++){if((!this._getEditReadOnly(_4d[i],_45,_47)&&!this.getEditDisabled(_4d[i],_45,_47))){_4f=true;break;}}}if($W._G.isIEAllVersion()){_44.checked=!_4f;}else{_44.checked=_4f;}_44.indeterminate=true;}else{if((_49-_4e)==_49){_44.checked=false;_44.indeterminate=false;}}}}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._w.prototype.setSelectboxHead=function(td,_51){["WebSquare.uiplugin.headerController.prototype.setSelectboxHead"];try{if(!this.tmpSelectbox){requires("uiplugin.selectbox");this.tmpSelectbox=new $W._a._r("___tmp_selectbox__"+this.id,{},null);}var _52=this;var _53=td.getAttribute("id");var _54=$W._B.getElementsByTagName(this.headCellInfoHash[_53],"choices",$W._N._XML_NAMESPACE.W2)[0];var _55=$W._B.serialize(_54);var _56=$W._B.parse("<w2:select xmlns:w2=\"http://www.inswave.com/websquare\">"+_55+"</w2:select>",true).documentElement;for(var idx in this.tmpSelectbox.options){var _58=td.getAttribute(idx);if(_58!=null&&_58!=""){if(idx=="style"){_58="width:100%; height:20px;top:0px;left:0px;position:relative;background-color:#ffffff";}_56.setAttribute(idx,_58);}}if($W._G.isIE(8)&&this.headCellInfoHash[_53].getAttribute("disabled")=="true"){_56.setAttribute("disabled","true");}td.style.position="static";td.innerHTML="";var _59=new $W._a._r(this.id+"_head_selectbox_"+td.getAttribute("id"),null,_56);_59.writeTo(td);window[_59.id]=_59;_59.activate();if(_59.itemArr.length>0){_59.setValueNM(_59.itemArr[0].value);}var _5a=td.getAttribute("onChangeFunction")||td.getAttribute("onchangeFunction");_59.changeFuncName=_5a;_59.colId=_51;_59.headerId=_53;_59.addEvent("onchange",function(e){var _5c=$W._G.getGlobalFunction(this.changeFuncName,this.scope_id);if(typeof _5c=="function"){try{_5c.call(this,this.getValue(),this.colId,this.headerId);}catch(e){}}});_59.addEvent("onclick",function(e){_52.noevent=true;});return _59;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._w.prototype.setInputHead=function(td,_5f){["WebSquare.uiplugin.headerController.prototype.setInputHead"];try{td.innerHTML="<input type='text' class='w2grid_head_input' style='width:95%; height:18px;' />";var _60=$W._G.first(td);var _61=this;var _62=function(){_61.noevent=true;_61.headerFocus=true;};var _63=td.getAttribute("onChangeFunction")||td.getAttribute("onchangeFunction");_60.setAttribute("changeFuncName",_63);_60.setAttribute("colId",_5f);var _64=function(e){_61.headerFocus=false;var _66=$W._G.getGlobalFunction(this.getAttribute("changeFuncName"),this.scope_id);if(typeof _66=="function"){try{_66.call(this,this.value,this.getAttribute("colId"));}catch(e){}}};var _67=function(e){if(e.keyCode==13){this.blur();}};var _69=function(e){_61.noevent=true;};var _6b=$W.idCache[this.uuid];$W._c.addListener(_60,"onfocus",_62);$W._c.addListener(_60,"onblur",_64);$W._c.addListener(_60,"onclick",_69);$W._c.addListener(_60,"onkeyup",_67);$W._c.addListener(_60,"onpaste",function(e){if(_6b.options.preventPaste){$W._c.preventDefault(e);}else{if(e.keyCode==13){this.blur();}}});return _60;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._w.prototype.setCheckcomboboxHead=function(td,_6e){["WebSquare.uiplugin.headerController.prototype.setCheckComboboxHead"];try{if(!this.tmpCheckcombobox){requires("uiplugin.checkcombobox");this.tmpCheckcombobox=new $W._a.bt("___tmp_checkcombobox__"+this.id,{},null);}var _6f=this;var _70=td.getAttribute("id");var _71=$W._B.getElementsByTagName(this.headCellInfoHash[_70],"choices",$W._N._XML_NAMESPACE.W2)[0];var _72=$W._B.serialize(_71);var _73=$W._B.parse("<w2:checkcombobox xmlns:w2=\"http://www.inswave.com/websquare\">"+_72+"</w2:checkcombobox>",true).documentElement;for(var idx in this.tmpSelectbox.options){var _75=td.getAttribute(idx);if(_75!=null&&_75!=""){if(idx=="style"){_75="width:100%; height:20px;top:0px;left:0px;position:relative;background-color:#ffffff";}_73.setAttribute(idx,_75);}}td.style.position="static";td.innerHTML="";var _76=new $W._a.bt(this.id+"_head_checkcombobox_"+td.getAttribute("id"),null,_73);_76.writeTo(td);window[_76.id]=_76;_76.activate();if(_76.itemArr.length>0){_76.setValueNM(_76.itemArr[0].value);}var _77=td.getAttribute("onChangeFunction")||td.getAttribute("onchangeFunction");_76.changeFuncName=_77;_76.colId=_6e;_76.headerId=_70;_76.addEvent("onchange",function(e){var _79=$W._G.getGlobalFunction(this.changeFuncName,this.scope_id);if(typeof _79=="function"){try{_79.call(this,this.getValue(),this.colId,this.headerId);}catch(e){}}});_76.addEvent("onclick",function(e){_6f.noevent=true;});return _76;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._w.prototype.getHeaderDIV=function(_7b){["WebSquare.uiplugin.headerController.prototype.getHeaderDIV"];return this.getHeaderLayer(_7b);};$W._a._w.prototype.getHeaderLayer=function(_7c){["WebSquare.uiplugin.headerController.prototype.getHeaderLayer"];var _7d=this.getDomList("head_tds","th",this.getElementById(this.id+"_head_table"));for(var i=0;i<_7d.length;i++){var _7f=_7d[i];var _80=_7f.getAttribute("header_id");if(_80!=null&&_7c.toLowerCase()==_80.toLowerCase()){return _7f;}}};$W._a._w.prototype.setHeaderValue=function(_81,_82,_83){["WebSquare.uiplugin.headerController.prototype.setHeaderValue"];var td=this.getHeaderLayer(_81);if(td){if(typeof _82=="function"){_82(td);}else{var _85=this.headerObj[_81];if(_83){_82=this.getFormattedHeaderValue(_81,_82);}if(_85){if(_85.headInputType=="select"||_85.headInputType=="checkcombobox"){_85.setValue(_82);}else{if(_85.headInputType=="checkbox"){if(_85.checked!=$W._G.getBoolean(_82)){_85.click();_85.checked=$W._G.getBoolean(_82);}}else{if(_85.headInputType=="input"){if(_85.value!=_82){_85.value=_82;var _86=$W._G.getGlobalFunction(_85.getAttribute("changeFuncName"),this.scope_id);if(typeof _86=="function"){try{_86.call(_85,_85.value,_85.getAttribute("colId"));}catch(e){}}}}else{if(_85.headerInputType=="user"){_85.setValue(_82);}}}}}else{var _87=td.getElementsByTagName("nobr")[0];if(_87){_87.innerHTML=_82;}else{td.innerHTML="<nobr>"+_82+"</nobr>";}}}}};$W._a._w.prototype.setHeaderNodeSet=function(_88,_89,_8a,_8b){["WebSquare.uiplugin.headerController.prototype.setHeaderNodeSet"];var td=this.getHeaderLayer(_88);if(td){var _8d=this.headerObj[_88];if(_8d){if(_8d.headInputType=="select"||_8d.headInputType=="checkcombobox"){_8d.setNodeSet(_89,_8a,_8b);}}}};$W._a._w.prototype.setHeaderUserObject=function(_8e,_8f){["WebSquare.uiplugin.headerController.prototype.setHeaderUserObject"];this.headerObj[_8e]=_8f;_8f.headerInputType="user";var td=this.getHeaderLayer(_8e);td.innerHTML="";td.appendChild(_8f.getContent());};$W._a._w.prototype.getHeaderValue=function(_91){["WebSquare.uiplugin.headerController.prototype.getHeaderValue"];var td=this.getHeaderLayer(_91);if(td){var _93=this.headerObj[_91];if(_93){var _94="";if(_93.headInputType=="select"||_93.headInputType=="checkcombobox"){_94=_93.getValue();}else{if(_93.headInputType=="checkbox"){_94=_93.checked;}else{if(_93.headInputType=="input"){_94=_93.value;}else{if(_93.headerInputType=="user"){_94=_93.getValue();}}}}return _94;}if($W._G.getBoolean(td.getAttribute("usefilter"))){return td.getAttribute("value");}var _95=$W._G.first(td);var _96=_95.getElementsByTagName("NOBR")[0];if(!_96){_96=_95;while(_96&&_96.tagName!="NOBR"){if(_96.tagName=="TD"){_95=$W._G.first(_96);break;}_96=$W._G.first(_96);}}else{_95=_96;}if(_95){return _95.innerHTML;}else{return "";}}};$W._a._w.prototype.getFormattedHeaderValue=function(_97,_98){["WebSquare.uiplugin.headerController.prototype.getFormattedHeaderValue"];var td=this.getHeaderLayer(_97);if(td){if(this.headerDataObj[td.getAttribute("header_id")]){_98=this.headerDataObj[td.getAttribute("header_id")].formatter.format(_98);}return _98;}};$W._a._w.prototype.getHeaderValueList=function(_9a){["WebSquare.uiplugin.headerController.prototype.getHeaderValueList"];var _9b=[];var _9c=this.getDomList("head_tds","th",this.getElementById(this.id+"_head_table"));for(var i=0;i<_9c.length;i++){if(this.hiddenList[i]!=null&&_9a!=true&&this.hiddenList[i]==true){continue;}var _9e=_9c[i];var _9f=_9e.getAttribute("header_id");if(_9f!=null){if(_9e){if(this.options.captionAuto||this.options.summaryOnlyAuto){if(_9e.getAttribute("inputtype")!="text"){continue;}var _a0=_9e.getElementsByTagName("NOBR")[0];if(_a0.innerText!=undefined&&_a0.innerText!=""&&_a0.innerText!="\n"){_9b.push(_a0.innerText);}else{if(_a0.textContent!=undefined&&_a0.textContent!=""){_9b.push(_a0.textContent);}else{if(_a0.innerHTML!=undefined&&_a0.innerHTML!=""){_9b.push(_a0.innerHTML);}else{_9b.push("");}}}}else{var _a1=this.headerObj[_9f];if(_a1){if(_a1.headInputType=="select"||_a1.headInputType=="checkcombobox"){retValue=_a1.getValue();}else{if(_a1.headInputType=="checkbox"){retValue=_a1.checked;}else{if(_a1.headInputType=="input"){retValue=_a1.value;}else{if(_a1.headerInputType=="user"){retValue=_a1.getValue();}}}}_9b.push(retValue);}var _a2=$W._G.first(_9e);var _a3=_a2;while(_a3&&_a3.tagName!="NOBR"){if(_a3.tagName=="TD"){_a2=$W._G.first(_a3);break;}_a3=$W._G.first(_a3);}if(_a2){_9b.push(_a2.innerHTML);}else{_9b.push("");}}}}}return _9b;};$W._a._w.prototype.getSortableArr=function(){["WebSquare.uiplugin.headerController.prototype.getSortableArr"];var _a4=[];var _a5=this.getDomList("head_tds","th",this.getElementById(this.id+"_head_table"));for(var i=0;i<_a5.length;i++){if(_a5[i].getAttribute("sortable")==="true"){_a4.push(true);}else{_a4.push(false);}}return _a4;};$W._a._w.prototype.getSortableStatus=function(){["WebSquare.uiplugin.headerController.prototype.getSortableStatus"];return this.headerSortStatusArr.slice(0);};$W._a._w.prototype.clearHeaderSort=function(){this.headerSortStatusArr=[];var _a7=this.getDomList("head_tds","th",this.getElementById(this.id+"_head_table"));for(var i=0;i<_a7.length;i++){var _a9=_a7[i].getAttribute("header_id");if(_a9==="_headerRowNumber"||_a9==="_headerRowStatus"){continue;}if(_a7[i].getAttribute("sortable")==="false"){continue;}this.setHeaderSortImage(_a9,0,0);}};$W._a._w.prototype.drawHeaderSortImages=function(){["WebSquare.uiplugin.headerController.prototype.drawHeaderSortImages"];var _aa=this.htmlInfo.head.rowArr;for(var i=0,nSortOrd=0;i<this.headerSortStatusArr.length;i++){var _ac="";if(_aa.length>1&&this.options.sortedImagePosition=="top"){var _ad=this.headerSortStatusArr[i].colID;var _ae=this.getColumnIndex(_ad);var _af=_aa[0];for(var j=0;j<_af.length;j++){if(_af[j]["@col"]==_ae){_ac=_af[j].id;break;}}}else{_ac=this.bodyToHeaderRelation[this.headerSortStatusArr[i].colID];}if(_ac){this.setHeaderSortImage(_ac,this.headerSortStatusArr[i].sortOrder,i+1);}}};$W._a._w.prototype.setHeaderSortImage=function(_b1,_b2,_b3){["WebSquare.uiplugin.headerController.prototype.setHeaderSortImage"];var td=this.getElementById(this.id+"_"+_b1);if(td==undefined){$W.logger.printLog("headerId : "+_b1+"\ub97c \ucc3e\uc744 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.["+this.id+"]");return;}if(!this.backupHeaderHTML[_b1]){this.backupHeaderHTML[_b1]=td.innerHTML;}if(this.expressionHeaderInfo[_b1]){td.innerHTML=this.backupHeaderHTML[_b1];return;}var _b2=parseInt(_b2,10);var _b3=parseInt(_b3,10);if(isNaN(_b3)||_b3<=0||this.headerSortStatusArr.length<2){_b3="";}else{_b3+="";}this._clearHeaderSortImage(td,"table");this._clearHeaderSortImage(td,"div");if(this.options.showSortableImage!==true){var _b5;if(_b2!==0){_b5=$W._G.first(td);var _b6=null;var _b7="";var _b8=null;var _b9=null;try{if(this._useCheckboxLabel(_b1)){_b8=document.createElement("div");_b6=$W._G.next(_b5);_b8.appendChild(_b6);}}catch(e){}if(_b5.nodeName.toLowerCase()=="nobr"){_b5=td.innerHTML;td.innerHTML="";}else{_b5=td.removeChild(_b5);}this.headerObjArr[_b1]=_b5;var _ba=(_b2==1)?"w2grid_head_sort_asc":"w2grid_head_sort_desc";td.innerHTML="<table sort='sort' style='width:100%;height:100%;'><tr><td></td><td style='width:10px;background-repeat:no-repeat;background-position:top center; font-size:9px; vertical-align:bottom;' class='"+_ba+"'>"+_b3+"</td></tr></table>";var tds=td.getElementsByTagName("td");if(typeof _b5=="string"){tds[0].innerHTML=_b5;}else{tds[0].appendChild(_b5);if(_b6&&_b8){tds[0].appendChild(_b8.removeChild(_b6));_b8=null;}}}}else{var _bc=this.headerObj[_b1];if(!_bc){_bc=td.getElementsByTagName("nobr")[0];}else{if(_bc.render){_bc=_bc.render;}}var _b6=null;var _bd=null;try{if(this._useCheckboxLabel(_b1)){if(this.headerInfoHash2[_b1].getAttribute("checkboxLabelPosition")==="left"){_bd="left";_b8=document.createElement("div");_b6=$W._G.prev(_bc);_b8.appendChild(_b6);}else{_b8=document.createElement("div");_b6=$W._G.next(_bc);_b8.appendChild(_b6);}}}catch(e){}var _be=$W._G.getBoolean(td.getAttribute("usefilter"));try{if(_be&&this.options.showSortableUseFilter){_b9=td.getElementsByTagName("input")[0];}}catch(e){}_bc.parentNode.removeChild(_bc);var _ba="";var _bf="";switch(_b2){case 0:_ba="w2grid_head_sort_none";_bf=$W._m.getMessage("Grid_sort_asc");break;case 1:_ba="w2grid_head_sort_asc";_bf=$W._m.getMessage("Grid_sort_desc");break;case -1:_ba="w2grid_head_sort_desc";_bf=$W._m.getMessage("Grid_sort_none");break;default:_ba="w2grid_head_sort_none";_bf=$W._m.getMessage("Grid_sort_asc");break;}if(!this.options.sortHeaderDiv){td.innerHTML="<div sort='sort' class = 'w2grid_head_sort_div_main "+_ba+"'>"+"<div class = 'w2grid_head_sort_div_sub'>"+_b3+"</div>"+"</div>";var tds=td.getElementsByTagName("div");tds[0].appendChild(_bc);if(_b6&&_b8){if(_bd==="left"){tds[0].insertBefore(_b8.removeChild(_b6),_bc);}else{tds[0].appendChild(_b8.removeChild(_b6));}_b8=null;}else{if(_be&&this.options.showSortableUseFilter){tds[0].parentElement.appendChild(_b9);this.addClass(_b9,"w2grid_customFilter_sortable_open");this.addClass(tds[0],"w2grid_head_sort_usefilter_div_main");}}}else{_ba+="_btn";td.innerHTML="<div sort='sort' class='w2grid_head_sort_div_main_outer'>"+"<button class='w2grid_head_sort_div_main_btn "+_ba+"' >"+_bf+"</button>"+"</div>";var tds=td.getElementsByTagName("div");var btn=td.getElementsByTagName("button")[0];tds[0].insertBefore(_bc,btn);if(_b6&&_b8){if(this._useCheckboxLabel(_b1)&&this.headerInfoHash2[_b1].getAttribute("checkboxLabelPosition")!=="left"){tds[0].insertBefore(_b8.removeChild(_b6),btn);}else{tds[0].insertBefore(_b8.removeChild(_b6),_bc);}_b8=null;}else{if(_be&&this.options.showSortableUseFilter){tds[0].parentElement.appendChild(_b9);this.addClass(_b9,"w2grid_customFilter_sortable_open");this.addClass(tds[0],"w2grid_head_sort_usefilter_div_main");}}}}};$W._a._w.prototype._clearHeaderSortImage=function(td,_c2){["WebSquare.uiplugin.headerController.prototype._clearHeaderSortImage"];var _c3=td.getElementsByTagName(_c2);if(_c3.length>0&&_c3[0].getAttribute("sort")=="sort"){var _c4=td.getAttribute("header_id");var _c5=this.headerObjArr[_c4];if(_c5){if(typeof _c5=="string"){td.innerHTML=_c5;}else{var _c6=null;var _c7=null;try{if(this._useCheckboxLabel(_c4)){_c7=document.createElement("div");_c6=$W._G.next(_c5);_c7.appendChild(_c6);}}catch(e){}_c5=td.appendChild(_c5);if(_c6&&_c7){td.appendChild(_c7.removeChild(_c6));_c7=null;}td.removeChild(_c5.previousSibling);}}}};$W._a._w.prototype.getColIdByHeaderId=function(_c8){return this.headerToBodyRelation[_c8];};$W._a._w.prototype.setHeaderHide=function(_c9){_c9=$W._G.getBoolean(_c9);if(this.options.hideHeader!=_c9){this.options.hideHeader=_c9;var _ca=this.getElementById(this.id+"_head_table");var _cb=this.getDomList("head_tds","th",this.getElementById(this.id+"_head_table"));if(_c9){this.backUpHeadClass=_cb[0].className;_ca.style.display="none";for(var i=0;i<_cb.length;i++){_cb[i].className="";}}else{_ca.style.display="";if(this.backUpHeadClass){for(var i=0;i<_cb.length;i++){_cb[i].className=this.backUpHeadClass;}}}}};$W._a._w.prototype.setHeaderDisabled=function(_cd,_ce){try{_ce=$W._G.getBoolean(_ce);var td=this.getHeaderLayer(_cd);if(td){var _d0=this.headerObj[_cd];if(_d0){if(_d0.setDisabled){_d0.setDisabled(_ce);}else{if(_d0.render){_d0.render.disabled=_ce;}else{_d0.disabled=_ce;}}td.disabled=_ce;}else{td.disabled=_ce;}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._w.prototype.getHeaderID=function(_d1){["WebSquare.uiplugin.headerController.prototype.getHeaderID"];try{if(typeof _d1=="string"){return _d1;}var _d2=this.head_table;if(!_d2){return null;}_d1+=this.defaultColCnt;var _d3=_d1;var _d4=0;for(var i=0;i<_d2.children.length;i++){var _d6=_d2.children[i].children;_d4+=_d6.length;if(_d4>_d1){var _d7=_d6[_d3];if(_d7){return _d7.id.replace(this.id+"_","");}else{return null;}}else{_d3-=_d6.length;continue;}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._w.prototype.getHeaderIDArr=function(_d8){["WebSquare.uiplugin.headerController.prototype.getHeaderID"];try{if(typeof _d8=="string"){return _d8;}var _d9=this.head_table;if(!_d9){return null;}_d8+=this.defaultColCnt;var _da=_d8;var _db=0;var _dc=[];for(var i=0;i<_d9.children.length;i++){var _de=_d9.children[i].children;_db+=_de.length;if(_db>_d8){var _df=_de[_da];if(_df){_dc.push(_df.id.replace(this.id+"_",""));}}else{_da-=_de.length;continue;}}return _dc;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._w.prototype.getHeaderIndex=function(id){["WebSquare.uiplugin.headerController.prototype.getHeaderIndex"];try{if(typeof id=="number"){return id;}var _e1=this.head_table;if(!_e1){_e1=this.getElementById(this.id+"_head_table");}var _e2=0;for(var i=0;i<_e1.children.length;i++){var _e4=_e1.children[i].children;for(var j=0;j<_e4.length;j++){if(_e4[j].id.replace(this.id+"_","")==id){var _e6=_e2+j;return _e6-this.defaultColCnt;}}_e2+=_e4.length;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._w.prototype.setHeaderStyle=function(_e7,_e8,_e9){try{var _ea=this.getElementById(this.id+"_head_table");var _eb=_ea.getElementsByTagName("th");if(_e7.wq_trim().toLowerCase()=="$rownum"){_e7="_headerRowNumber";}else{if(_e7.wq_trim().toLowerCase()=="$rowstatus"){_e7="_headerRowStatus";}else{if(typeof _e7=="number"){var _ec=_e7+this.defaultColCnt;headerTd=_eb[_ec];_e7=headerTd.getAttribute("header_id");}}}for(var j=0;j<_eb.length;j++){var _ee=_eb[j];if(_ee.getAttribute("header_id")==_e7){$W._H.setStyle(_ee,_e8,_e9);}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._w.prototype.drawHeader=function(_ef){["WebSquare.uiplugin.headerController.prototype.drawHeader"];try{if(!this.head_table){return;}if(this.headerDataObj==null){this.initHeaderDataObj();}var _f0=this.head_table;var _f1=_f0.getElementsByTagName("th");this.headerTempSum=[];if(_ef){var _ef=this.getColumnID(_ef);for(var i=0;i<_f1.length;i++){var _f3=_f1[i];var _f4=_f3.getAttribute("header_id");if(_f4){var _f5=this.headerDataObj[_f4];if(_f5){if(_f5.inputType=="expression"){var _f6=_f5.expression.match(/headercol(sum|avg|max|min)\s*\([^\)]*/g);if(_f6){for(var j=0;j<_f6.length;j++){if(_f6[j].split("(")[1].wq_replaceAll("'","").wq_replaceAll("\"","").wq_trim()==_ef){_f5.value=eval(_f5.expression);if(isNaN(_f5.value)){if(_f5.NaNFormat!="NaN"){_f5.value=_f5.NaNFormat;}}_f3.innerHTML="<nobr>"+_f5.formatter.format(_f5.value)+"</nobr>";}}}}else{if(_f5.displayFormat!==""&&_f5.dataType=="number"&&(_f5.inputType=="text"||_f5.inputType=="textarea"||_f5.inputType=="button"||_f5.inputType=="textImage")){_f3.innerHTML="<nobr>"+_f5.formatter.format(_f5.value)+"</nobr>";}}}}}}else{for(var i=0;i<_f1.length;i++){var _f3=_f1[i];var _f4=_f3.getAttribute("header_id");if(_f4){var _f5=this.headerDataObj[_f4];if(_f5){if(_f5.inputType=="expression"){try{_f5.value=eval(_f5.expression);if(isNaN(_f5.value)){if(_f5.NaNFormat!="NaN"){_f5.value=_f5.NaNFormat;}}}catch(e1){}_f3.innerHTML="<nobr>"+_f5.formatter.format(_f5.value)+"</nobr>";}else{if(_f5.displayFormat!==""&&_f5.dataType=="number"&&(_f5.inputType=="text"||_f5.inputType=="textarea"||_f5.inputType=="button"||_f5.inputType=="textImage")){_f3.innerHTML="<nobr>"+_f5.formatter.format(_f5.value)+"</nobr>";}}}}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._w.prototype.initHeaderDataObj=function(){["WebSquare.uiplugin.headerController.prototype.initHeaderDataObj"];try{var _f8=this.head_table;var _f9=_f8.getElementsByTagName("th");this.headerDataObj={};for(var j=0;j<_f9.length;j++){var _fb=_f9[j];var obj={};obj.id=_fb.getAttribute("header_id");var str=_fb.getAttribute("expression")||"";if(str!=""){str=str.replace(/[sS][uU][mM][\s]*[(]/g,"this.headercolsum( ");str=str.replace(/[aA][vV][gG][\s]*[(]/g,"this.headercolavg( ");str=str.replace(/[mM][aA][xX][\s]*[(]/g,"this.headercolmax( ");str=str.replace(/[mM][iI][nN][\s]*[(]/g,"this.headercolmin( ");}var _fe=_fb.getAttribute("localeRef");if(_fe!=null){obj.value=this.getLocaleValue(_fe);}else{obj.value=_fb.getAttribute("value")||"";}obj.inputType=_fb.getAttribute("inputType");obj.dataType=_fb.getAttribute("dataType")||"text";obj.expression=str;obj.displayFormat=_fb.getAttribute("displayFormat")||"";obj.displayFormatter=_fb.getAttribute("displayFormatter")||"";obj.formatter=$W._C.createFormatter(obj.dataType,obj.displayFormat,obj.displayFormatter,null,null,null,this.scope_id);obj.NaNFormat=_fb.getAttribute("NaNFormat")||$W._N.getConfiguration("/WebSquare/grid/column[@inputType='expression']/NaNFormat/@value")||"NaN";if(obj.NaNFormat=="$blank"){obj.NaNFormat="";}this.headerDataObj[obj.id]=obj;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._w.prototype.headercolsum=function(_ff){["WebSquare.uiplugin.headerController.prototype.headercolsum"];if(!this.headerTempSum){this.headerTempSum=[];}if(!this.headerTempSum[_ff]){this.headerTempSum[_ff]={};}if(this.headerTempSum[_ff].sum===undefined){var _100="";if(this.groupbyStatus.grouped){}else{var _101=this.getColumnAllDataArray(_ff);if(_101.length>0){for(var i=0;i<_101.length;i++){if(_101[i].replace(/^\s+|\s+$/g,"")==""){_101[i]="0";}}_100=eval(_101.join("+"));}}this.headerTempSum[_ff].sum=_100;}return $W._G.setPrecision(this.headerTempSum[_ff].sum);};$W._a._w.prototype.headercolavg=function(_103){["WebSquare.uiplugin.headerController.prototype.headercolavg"];var _104=this.getColumnAllDataArray(_103);if(!this.headerTempSum){this.headerTempSum=[];}if(!this.headerTempSum[_103]){this.headerTempSum[_103]={};}var _105="";if(this.groupbyStatus.grouped){return _105;}else{if(this.headerTempSum[_103].sum===undefined){if(_104.length>0){for(var i=0;i<_104.length;i++){if(_104[i].replace(/^\s+|\s+$/g,"")==""){_104[i]="0";}}_105=eval(_104.join("+"));}this.headerTempSum[_103].sum=_105;}if(this.headerTempSum[_103].sum==""){return "";}else{return this.headerTempSum[_103].sum/_104.length;}}};$W._a._w.prototype.headercolmax=function(_107){["WebSquare.uiplugin.headerController.prototype.headercolmax"];if(!this.headerTempSum){this.headerTempSum=[];}if(!this.headerTempSum[_107]){this.headerTempSum[_107]={};}if(this.headerTempSum[_107].max===undefined){var max=null;if(this.groupbyStatus.grouped){}else{var _109=this.getColumnAllDataArray(_107);for(var i=0;i<_109.length;i++){var data=parseFloat(_109[i]);if(!isNaN(data)){if(max==null||max<data){max=data;}}}max=(max==null)?"":max;max=$W._G.setPrecision(max);}this.headerTempSum[_107].max=max;}return this.headerTempSum[_107].max;};$W._a._w.prototype.headercolmin=function(_10c){["WebSquare.uiplugin.headerController.prototype.headercolmin"];if(!this.headerTempSum){this.headerTempSum=[];}if(!this.headerTempSum[_10c]){this.headerTempSum[_10c]={};}if(this.headerTempSum[_10c].min===undefined){var min=null;if(this.groupbyStatus.grouped){}else{var _10e=this.getColumnAllDataArray(_10c);for(var i=0;i<_10e.length;i++){var data=parseFloat(_10e[i]);if(!isNaN(data)){if(min==null||min>data){min=data;}}}min=(min==null)?"":min;min=$W._G.setPrecision(min);}this.headerTempSum[_10c].min=min;}return this.headerTempSum[_10c].min;};$W._a._w.prototype._getMatchedHeaderId=function(_111){["WebSquare.uiplugin.headerController.prototype._getMatchedHeaderId"];try{return this.bodyToHeaderRelation[_111];}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.headerInfo=function(_112,_113){["WebSquare.uiplugin.headerInfo"];try{this.options={id:"",value:"",inputType:"text",useFilter:false,textAlign:""};this.mainGrid=_113;this.mainGridId="G_"+this.mainGrid.id+"__";if(_112){this.setOptions(_112);}this.id=this.options.id;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._w.prototype._setHeaderInfo=function(_114,td){["WebSquare.uiplugin.headerController.prototype._setHeaderInfo"];this.headerInfoHash2[_114]=td;};$W._a.headerInfo.prototype.setOptions=function(_116){["WebSquare.uiplugin.headerController.prototype.setOptions"];this.options.useFilter=$W._G.getBoolean($W._N.getConfiguration("/WebSquare/grid/header/column/useFilter/@value"));this.options.hideCustomFilter=$W._G.getBoolean($W._N.getConfiguration("/WebSquare/grid/header/column/hideCustomFilter/@value"));var _117=[];for(var _118 in this.options){_117[_118.toLowerCase()]=_118;}var _119=_116.attributes;for(var i=0;i<_119.length;i++){var attr=_119[i];var name=attr.name;var _11d=attr.value;if(name=="class"){this.options["className"]=_11d;}else{if((_11d).wq_trim()!=""){if(_117[name]){name=_117[name];}if(typeof this.options[name]=="boolean"){_11d=$W._G.getBoolean(_11d);}else{if(typeof this.options[name]=="number"){_11d=$W._G.getNumber(_11d);}}this.options[name]=_11d;}}}};$W._a._w.prototype._useCheckboxLabel=function(_11e){["WebSquare.uiplugin.headerController.prototype._useCheckboxLabel"];try{var _11f=this.headerInfoHash2[_11e];return _11f.getAttribute("inputType")==="checkbox"&&(_11f.getAttribute("checkboxLabel")||_11f.getAttribute("checkboxlabel"));}catch(e){$W.exception.printStackTrace(e,null,this);}};;WebSquare.uiplugin.headerController=$W._a._w;$W._a.bb=function(){["WebSquare.uiplugin.focusController"];};$W._a.bb.prototype.getLastFocusedCell=function(){["WebSquare.uiplugin.focusController.prototype.getLastFocusedCell"];if(this.focusedCell.length>0){return this.focusedCell[this.focusedCell.length-1];}else{var _1={};_1.focusedRowIndex=-1;_1.focusedColIndex=null;return _1;}};$W._a.bb.prototype.getFocusedRowIndex=function(){["WebSquare.uiplugin.focusController.prototype.getFocusedRowIndex"];var _2=this.getLastFocusedCell();return _2.focusedRowIndex;};$W._a.bb.prototype.getFocusedRealRowIndex=function(){["WebSquare.uiplugin.focusController.prototype.getFocusedRealRowIndex"];var _3=this.getLastFocusedCell();return _3.focusedRealRowIndex;};$W._a.bb.prototype.getAllFocusedIndex=function(){["WebSquare.uiplugin.focusController.prototype.getAllFocusedIndex"];var _4=this.focusedCell;var _5=[];for(var i=0;i<_4.length;i++){var _7={};_7["col"]=_4[i]["focusedColIndex"];_7["row"]=_4[i]["focusedRowIndex"];_5.push(_7);}return _5;};$W._a.bb.prototype.getAllFocusedRowIndex=function(){["WebSquare.uiplugin.focusController.prototype.getAllFocusedIndex"];var _8=[];var _9={};for(var i=0;i<this.focusedCell.length;i++){var _b=this.focusedCell[i]["focusedRowIndex"];_9[_b]=true;}for(var _c in _9){_8.push(parseInt(_c,10));}return _8;};$W._a.bb.prototype.getFocusedColumnIndex=function(){["WebSquare.uiplugin.focusController.prototype.getFocusedColumnIndex"];var _d=this.getLastFocusedCell();return _d.focusedColIndex;};$W._a.bb.prototype.getFocusedColumnID=function(){["WebSquare.uiplugin.focusController.prototype.getFocusedColumnID"];return this.getColumnID(this.getFocusedColumnIndex());};$W._a.bb.prototype.getFocusedRowStatus=function(){["WebSquare.uiplugin.focusController.prototype.getFocusedRowStatus"];var _e=this.getFocusedRowIndex();if(_e==-1){return null;}return this.dataList.getRowStatus(_e);};$W._a.bb.prototype.setFocusedCell2=function(_f,_10,_11){["WebSquare.uiplugin.focusController.prototype.setFocusedCell2"];try{var _11=$W._G.getBoolean(_11);var _10=this.getColumnIndex(_10);var _12=this.lastEvent&&(typeof this.lastEvent.type!="undefined"&&typeof this.lastEvent.type!="unknown")&&(this.lastEvent.type=="focus"||this.lastEvent.type=="focusin");var _13=this.getLastFocusedCell();var _14=_11&&(_13.focusedColIndex==_10);if(this.getReadOnly("all",_f,_10)||this.getDisabled("all",_f,_10)){_14=false;}if(this.editedCell&&!this.editedCell.handleEndEdit(null,_14)){return false;}if(!_12){var _15=this.rowIndex+this.lastIndex;var _16=this.getDataLength();if(_f<this.rowIndex||_f>_15){if(_f<this.rowIndex){var _17=_f-this.rowIndex;}else{var _17=_f-_15;}if(_f>_15&&this.hasSubtotal){this.rollbackCommitFlag=false;for(var _18 in this.subtotalTableList){if(_15<_16-1){var _19=this.dataList.getCellData(_15,_18);var _1a=this.dataList.getCellData(_15+1,_18);if(_19!=_1a){_17++;}}}this.rollbackCommitFlag=true;}var _1b=this.rowIndex+_17;_1b=(_1b<0)?0:_1b;_1b=(_1b>=_16-this.lastIndex)?_16-this.lastIndex:_1b;this.scrollEvent=false;this.checkScrollEnd=true;this.drawData(_1b,0,"keymove",_14);this.lastIndex=this.getLastIndex(this.lastDisplayedRow);}}var _1c=_f-(this.rowIndex>0?this.rowIndex:0);var td=this.data_td_list[_10+_1c*this.oneRowDataLength];if(td){var _1e=this._setFocusedCell({ctrl:false},td,{editMode:_11,dont_hide:_14,dont_fixScroll:true});if(_1e=="rollback"){this.setFocusedCell(_13.focusedRowIndex,_13.focusedColIndex,true);}return true;}return false;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bb.prototype.setFocusedCell=function(_1f,_20,_21,_22){["WebSquare.uiplugin.focusController.prototype.setFocusedCell"];try{if(this.options.focusMode=="none"){return;}if(arguments.length==0||arguments.length==1){var _21=arguments.length==0?false:arguments[0];var _23=this.colIndexInfo.body.colInfo.colIndexMatch;if(this.focusedCell.length>0){var _1f=this.focusedCell[this.focusedCell.length-1].focusedRowIndex;var _20=this.focusedCell[this.focusedCell.length-1].focusedColIndex;}else{if(this.lastFocusedCell&&this.lastFocusedCell.focusedColIndex!=null&&this.lastFocusedCell.focusedRowIndex>=0){var _1f=this.lastFocusedCell.focusedRowIndex;var _20=this.lastFocusedCell.focusedColIndex;}else{var _24=this.getLastFocusedCell();var _1f=_24.focusedRowIndex;var _20=_24.focusedColIndex;if(_20==null||_1f==-1){this.focusedCell=[{focusedRowIndex:0,focusedColIndex:_23.length-this.defaultColCnt-1}];this.moveHorizontal(null,"home");if(_21){this.setFocusedCell(true);}return;}}}}var _25=this.getDataLength();_20=this.getColumnIndex(_20);if(_1f<0||_1f>=_25||_20<0||_20>=this.oneRowDataLength){return;}var _26=this.lastEvent&&(typeof this.lastEvent.type!="undefined"&&typeof this.lastEvent.type!="unknown")&&(this.lastEvent.type=="focus"||this.lastEvent.type=="focusin");_21=$W._G.getBoolean(_21);if(this.delayedDraw({rowIndex:_1f})){this.focusedCell=[{focusedRowIndex:_1f,focusedColIndex:_20}];(this._linkedDataList)?this._linkedDataList.setRowPosition(_1f):this._dataList.setRowPosition(_1f);this._dataList.setColumnPosition(this.getColumnID(_20));return;}var _27=this.getElementById(this.id+"_scrollY_div");if(_27&&_27.scrollTop==0&&this.rowIndex>0){_27.scrollTop=this.lastScrollYTop;}var _28=_1f-(this.rowIndex>0?this.rowIndex:0);if(!_26){if(_28<0){this.scrollEvent=false;_27.scrollTop=this.oneRowScrollHeight*_1f;this.drawData(_1f,0);_28=0;}else{if(this.options.showLastRow&&_28-this.lastIndex===1){}else{if(_28>this.lastIndex){var _29=(_1f+this.lastIndex+1>_25)?_25-this.lastIndex-1:_1f;this.scrollEvent=false;this.checkScrollEnd=true;_27.scrollTop=this.oneRowScrollHeight*_29;if(_29>this.rowIndex+this.lastIndex){this.adjustDraw_keepTop=true;}this.drawData(_29,0);_28=_1f-this.rowIndex;}}}}var td=this.data_td_list[_20+_28*this.oneRowDataLength];if(td){var _2b;if(_22&&_22.tabDirection){var _2b=_22.tabDirection;}this._setFocusedCell({ctrl:false},td,{editMode:_21,tabDirection:_2b});}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bb.prototype.removeFocusedCell=function(){["WebSquare.uiplugin.focusController.prototype.removeFocusedCell"];try{this.lastFocusedCell=this.getLastFocusedCell();this.applyFocusedCellOut();this.focusedCell=[];this._dataList.setRowPosition(null);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bb.prototype.applyFocusedCell=function(_2c,_2d){["WebSquare.uiplugin.focusController.prototype.applyFocusedCell"];if(!_2d){this.applyFocusedCellOut();this.focusedCell=[];}if(_2c!=null){this.applyFocusedCellIn(_2c);var _2e={};_2e.focusedTd=_2c;this.focusedCell.push(_2e);}};$W._a.bb.prototype._setFocusedCell=function(e,_30,_31){["WebSquare.uiplugin.focusController.prototype._setFocusedCell"];var _31=_31||{};var _32=e.ctrlKey;var _33=e.shiftKey;var _34=_30.className;if(this.options.focusDefaultColumn){if(_34.indexOf("_groupby")>=0||_34.indexOf("Subtotal")>=0){if(this.editedCell!=null){this.editedCell.handleEndEdit();}return false;}}else{if(_34.indexOf("_rowNum")>=0||_34.indexOf("_rowStatus")>=0||_34.indexOf("_groupby")>=0||_34.indexOf("Subtotal")>=0){if(this.editedCell!=null){this.editedCell.handleEndEdit();}return false;}}var _35=parseInt(_30.getAttribute("tdIndex"));var _36=parseInt(_35/this.realRowDataLength);var _37=parseInt(_30.getAttribute("colIndex"));var _38=_30.getAttribute("col_id");var _39=_36+this.rowIndex;var _3a=_39;if(this.isDrillDown&&this._dataList.options.depthColumn){_3a=this.getRealRowIndex(_39);}var _3b=_35%this.realRowDataLength-(this.realRowDataLength-this.oneRowDataLength);var _3c=this.getColumnID(_3b);var _3d=true;var _3e=this.getLastFocusedCell();if(this.focusedCell.length>0){if(_3e.focusedTd==_30){_3d=false;}}if(_3d&&this.editedCell){if(!this.editedCell.handleEndEdit(e,!!_31.dont_hide)){return false;}}var _3f=(this._linkedDataList)?this._linkedDataList.setRowPosition(_39):this._dataList.setRowPosition(_3a);var _40=this._dataList.setColumnPosition(_3c);if(_3f===false||_40===false){return false;}var _41=this.getFocusedRowIndex();var _42=this.getFocusedColumnIndex();if((!this.options.useCtrlKey||!_32)&&(!$W._G.getBoolean(this.options.useShiftKey)||!_33)){this.applyFocusedCellOut();this.focusedCell=[];}if(!_31.tabDirection){this.focusedCellLinkIndex=-1;this.focusedCellLinkLength=0;}if(this.focusedCell.length>0&&$W._G.getBoolean(this.options.useShiftKey)&&_33){var _43=this.focusedCell[0];var _44=_43["focusedRowIndex"];var _45=_43["focusedColIndex"];var _46=_44>_39;var _47=_45>_3b;this.applyFocusedCellOut();this.focusedCell=[];for(var i=_44;_46?(i>=_39):(i<=_39);_46?(i--):(i++)){for(var j=_45;_47?(j>=_3b):(j<=_3b);_47?(j--):(j++)){var td=this.data_td_list[j+(i-this.rowIndex)*this.oneRowDataLength];if(i<this.rowIndex){td=null;}var _4b=this.getCellInfo(j);var _4c=this._getRealColIndex("body",_4b.options.col_id)+this.defaultColCnt;if(_4b.options.blockSelect||this.hiddenList[_4c]){continue;}this.focusedCell.push({focusedTd:td,focusedRowIndex:i,focusedColIndex:j});if(td!=null){var _4d=true;if(_4b.options.embeddedInput){_4d=false;}else{if(j==_3b&&i==_39){_4d=false;}}this.applyFocusedCellIn(td,_4d);}if(_4b.options.inputType==""||(_4b.options.inputType=="text"&&!_4b.options.embeddedInput)||_4b.options.inputType=="textImage"||_4b.options.inputType=="calendar"){this.getInput(_4b).options.editType=_4b.options.editType?_4b.options.editType:this.options.editType;}}}if(!_31.dont_fixScroll){if(_37>=this.getFixedColumnLastIndex()){this.fixScrollLeftDirection();}this.fixScrollRightDirection();}if(this.options.lazyDrawHiddenColumn){this.hideInvisibleTds();}_3e=this.getLastFocusedCell();}else{var _4b=this.getCellInfo(_30);if(_4b.options.blockSelect){return;}this.focusedCell.push({focusedTd:_30,focusedRealRowIndex:_3a,focusedRowIndex:(this.rowIndex>0&&this.options.fixedRow>0&&this.options.fixedRow>_39-this.rowIndex)?_39-this.rowIndex:_39,focusedColIndex:_3b});if(!_31.dont_fixScroll){if(_37>=this.getFixedColumnLastIndex()){this.fixScrollLeftDirection();}this.fixScrollRightDirection();}if(this.options.lazyDrawHiddenColumn){this.hideInvisibleTds();}this.applyFocusedCellIn(_30,!!_31.editMode,_31.tabDirection);_3e=this.getLastFocusedCell();if(this.options.focusMode=="cell"){for(var i=this.focusedCell.length-2;i>=0;i--){if(this.focusedCell[i].focusedTd==_3e.focusedTd){this._applyFocusedCellOut(this.focusedCell[i]);this.focusedCell.pop();this.focusedCell.splice(i,1);break;}}}else{if(this.options.focusMode=="both"){var _4e=[];for(var i=this.focusedCell.length-2;i>=0;i--){if(this.focusedCell[i].focusedTd==_3e.focusedTd){this._applyFocusedCellOut(this.focusedCell[i]);this.focusedCell.pop();this.focusedCell.splice(i,1);this.changeFocusedCellPosition(this.rowIndex);break;}}}else{if(this.options.focusMode=="row"){var _4f=_3e.focusedTd?_3e.focusedTd.parentNode:null;for(var i=this.focusedCell.length-2;i>=0;i--){var _50=this.focusedCell[i];if(_50.focusedTd!=null){var _51=_50.focusedTd.parentNode;var _36=parseInt(_51.getAttribute("trIndex"));while(_36>0){_36--;_51=$W._G.prev(_51);}do{if(_51==_4f){this._applyFocusedCellOut(this.focusedCell[i]);this.focusedCell.pop();this.focusedCell.splice(i,1);this.changeFocusedCellPosition(this.rowIndex);break;}_51=$W._G.next(_51);if(!_51){break;}}while(_51.getAttribute("trIndex")!="0");}}}}}}var _52=this.getCellInfo(_3b);if(_52.options.inputType==""||(_52.options.inputType=="text"&&!_52.options.embeddedInput)||_52.options.inputType=="textImage"||(_52.options.inputType=="calendar"&&!_52.options.embeddedInput)){this.getInput(_52).options.editType=_52.options.editType?_52.options.editType:this.options.editType;}if(_41!=_39||_42!=_3b){$W._c.fireEvent(this,"oncellindexchange",_39,_3b,_41,_42);}if(_41!=_39){$W._c.fireEvent(this,"onrowindexchange",_39,_41);}if(_42!=_3b){$W._c.fireEvent(this,"oncolumnindexchange",_3b,_42);}if(_31.editMode){this.setEditMode(_30);}};$W._a.bb.prototype.applyFocusedCellOut=function(){["WebSquare.uiplugin.focusController.prototype.applyFocusedCellOut"];if(this.focusedCell.length>0){for(var i=0;i<this.focusedCell.length;i++){var _54=this.focusedCell[i];this._applyFocusedCellOut(_54);}}};$W._a.bb.prototype._applyFocusedCellOut=function(_55){["WebSquare.uiplugin.focusController.prototype._applyFocusedCellOut"];if(this.options.focusMode=="row"||this.options.focusMode=="both"){if(_55.focusedTd!=null){this.removeFocusRowStyle(_55.focusedTd);}}if(this.options.focusMode=="cell"||this.options.focusMode=="both"){if(_55.focusedTd!=null){if(this.options.focusFlow!="linear"){_55.focusedTd.setAttribute("tabIndex",-1);}this.removeClass(_55.focusedTd,"focusedTd");if(!this.options.focusDefaultColumn||_55.focusedColIndex>=0){if(this.options.fixedRow>0&&_55.focusedRowIndex-this.rowIndex>=0&&this.options.fixedRow>_55.focusedRowIndex-this.rowIndex){this.applyCellStyleOptions(_55.focusedRowIndex-this.rowIndex,_55.focusedColIndex,true);}else{this.applyCellStyleOptions(_55.focusedRowIndex,_55.focusedColIndex,true);}}if(this.options.rowMouseOver){this.addRowOverStyle(this.overElem);}}}};$W._a.bb.prototype.removeFocusRowStyle=function(_56){["WebSquare.uiplugin.focusController.prototype.removeFocusRowStyle"];if(_56==null){return;}var _57=_56.parentNode;var _58=parseInt(_57.getAttribute("trIndex"));while(_58>0){_58--;_57=$W._G.prev(_57);}var _59=$W._G.first(_57);var _5a=parseInt(_59.getAttribute("tdIndex"));var _58=parseInt(_5a/this.realRowDataLength);for(var i=0;i<this.realRowDataLength;i++){var _5c=this.all_data_td_list[_5a+i];this.removeClass(_5c,"focusedTr");if(i<this.defaultColCnt){var _5d=_5c.className;if(_5d.indexOf(this.options.bodyTdClass+"_rowNumber")>=0){if(this.options.rowNumBackgroundColor==""){_5c.style.backgroundColor="";_5c.removeAttribute("style_bak");}}else{if(_5d.indexOf(this.options.bodyTdClass+"_rowStatus")>=0){_5c.style.backgroundColor="";_5c.removeAttribute("style_bak");}}}else{var _5e=parseInt(_5c.getAttribute("tdIndex"));var _5f=_58+this.rowIndex;var _60=_5e%this.realRowDataLength-(this.realRowDataLength-this.oneRowDataLength);this.applyCellStyleOptions(_5f,_60,true);}}};$W._a.bb.prototype.applyFocusedCellIn=function(_61,_62,_63){["WebSquare.uiplugin.focusController.prototype.applyFocusedCellIn"];if(this.options.focusMode=="none"){return;}var _64=this.getCellInfo(_61.getAttribute("col_id"));var _65=_64.options.inputType||"text";this.focusedByApi=true;if(_64.options.embeddedInput){if(_62){var _66=this.getElemRowIndex(_61);if((_65=="text"||_65=="link")&&(this.getEditDisabled(_66,_64.id)||this.getEditReadOnly(_61,_66))){_61.focus();}else{var _67=this.getInput(_64,_61);_67.focus();}}else{if(this.options.senseReader&&_63){var _67=this.getInput(_64,_61);_67.focus();}}}else{var _68=this.focusedCell[this.focusedCell.length-1];var _69=_68.focusedRealRowIndex-this.rowIndex;var _6a=false;if(this.rowIndex>0&&this.options.fixedRow>0&&_69>=0&&this.options.fixedRow>_69){_6a=true;}if(!(this.options.senseReader==true&&this.options.visibleRowNum!="all")){_61.setAttribute("tabIndex",0);}var _6b=_65=="text"||_65=="secret"||_65=="textarea"||_65=="textImage"||_65=="calendar"||_65=="select";if((_62&&_6b)||_6a){}else{if(_65=="button"&&this.options.senseReader){var btn=_61.getElementsByTagName("button");btn=btn[0];btn.focus();}else{if(_65=="link"&&this.options.senseReader){var _6d=_61.getElementsByTagName("a");_6d=_6d[0];_6d.focus();}else{if(_65=="user"&&this.options.senseReader){var _6d=_61.getElementsByTagName("a");var _6e;if(this.focusedCellLinkIndex!=-1){if(_63=="right"){for(var i=0;i<_6d.length;i++){if(document.activeElement==_6d[i]){this.focusedCellLinkIndex=i;}}_6e=this.focusedCellLinkIndex+1;}else{_6e=this.focusedCellLinkIndex-1;}}else{if(_63=="right"){_6e=0;}else{if(_63==undefined){_6e=0;if(document.activeElement){for(var i=0;i<_6d.length;i++){if(document.activeElement==_6d[i]){_6e=i;}}}}else{_6e=_6d.length-1;}}this.focusedCellLinkLength=_6d.length;}_6d=_6d[_6e];this.focusedCellLinkIndex=_6e;if(_6d){if(_63){_6d.focus();}}else{if(this.getEditDisabled(_66,_64.id)||this.getEditReadOnly(_61,_66)){_61.blur();}else{_61.focus();}}}else{if(_65=="select"&&this.options.senseReader==true&&_64.options.tableRender=="ul"&&!this.isVirtualCursor()){var _6d=_61.getElementsByTagName("a");_6d=_6d[0];_6d.focus();}else{if($W._G.isIE(8)){if(_61.parentElement.style.display!="none"){_61.focus();}}else{_61.focus();}}}}}}}var _70=this.lastEvent&&(typeof this.lastEvent.type!="undefined"&&typeof this.lastEvent.type!="unknown")&&(this.lastEvent.type=="focus"||this.lastEvent.type=="focusin");if(!_70&&!_62){var _71=this.getElementById(this.id+"_dataLayer");_71.scrollLeft=0;_71.scrollTop=0;}if(this.options.focusMode=="row"||this.options.focusMode=="both"){this.setFocusRowStyle(_61);}if(this.options.focusMode=="cell"||this.options.focusMode=="both"){this.addClass(_61,"focusedTd");var _72=parseInt(_61.getAttribute("tdIndex"));var _73=parseInt(_72/this.realRowDataLength);var _74=_73+this.rowIndex;if(this.rowIndex>0&&this.options.fixedRow>0&&this.options.fixedRow>_73){_74=_73;}var _75=_72%this.realRowDataLength-(this.realRowDataLength-this.oneRowDataLength);if(this.options.focusDefaultColumn&&_75<0){return;}this.applyCellStyleOptions(_74,_75);}};$W._a.bb.prototype.setFocusRowStyle=function(_76){["WebSquare.uiplugin.focusController.prototype.setFocusRowStyle"];if(_76==null){return;}var _77=_76.parentNode;var _78=parseInt(_77.getAttribute("trIndex"));while(_78>0){_78--;_77=$W._G.prev(_77);}var _79=$W._G.first(_77);var _7a=parseInt(_79.getAttribute("tdIndex"));var _78=parseInt(_7a/this.realRowDataLength);for(var i=0;i<this.realRowDataLength;i++){var _7c=this.all_data_td_list[_7a+i];this.addClass(_7c,"focusedTr");if(i<this.defaultColCnt){var _7d=_7c.className;if(_7d.indexOf(this.options.bodyTdClass+"_rowNumber")>=0){if(this.options.rowNumBackgroundColor==""){_7c.style.backgroundColor=this.options.selectedRowColor.wq_trim();_7c.removeAttribute("style_bak");}}else{if(_7d.indexOf(this.options.bodyTdClass+"_rowStatus")>=0){_7c.style.backgroundColor=this.options.selectedRowColor.wq_trim();_7c.removeAttribute("style_bak");}}}else{var _7e=parseInt(_7c.getAttribute("tdIndex"));var _7f=_78+this.rowIndex;var _80=_7e%this.realRowDataLength-(this.realRowDataLength-this.oneRowDataLength);this.applyCellStyleOptions(_7f,_80);}}};$W._a.bb.prototype.outFocusedCell=function(){this.removeFocusedCell();};$W._a.bb.prototype.getFocusedCellData=function(){["WebSquare.uiplugin.focusController.prototype.getFocusedCellData"];var _81=this.getFocusedRowIndex();var _82=this.getFocusedColumnIndex();var _83=this.getColumnID(_82);if(_81>-1){return this.dataList.getCellData(_81,_83);}else{return null;}};$W._a.bb.prototype.getFocusedRowData=function(){["WebSquare.uiplugin.focusController.prototype.getFocusedRowData"];var _84=this.getFocusedRowIndex();if(_84>-1){return this.dataList.getRowData(_84);}else{return null;}};$W._a.bb.prototype.getFocusedRowXML=function(){["WebSquare.uiplugin.focusController.prototype.getFocusedRowXML"];var _85=this.getFocusedRowIndex();if(_85>-1){return this.dataList.getRowXML(_85);}else{return null;}};$W._a.bb.prototype.removeRowFocus=function(_86){["WebSquare.uiplugin.focusController.prototype.removeDeletedRowFocus"];var _87=[];for(var i=0;i<this.focusedCell.length;i++){if(_86!=this.focusedCell[i].focusedRowIndex){_87.push(this.focusedCell[i]);}else{this._applyFocusedCellOut(this.focusedCell[i]);}}this.focusedCell=_87;};$W._a.bb.prototype.setFocusedHeaderObj=function(_89){["WebSquare.uiplugin.focusController.prototype.setFocusedHeaderObj"];var td=this.getHeaderLayer(_89);if(td){var _8b=this.headerObj[_89];if(_8b){switch(_8b.headInputType){case "checkcombobox":case "select":case "checkbox":case "input":_8b.focus();break;default:break;}}}};;WebSquare.uiplugin.focusController=$W._a.bb;$W._a.aO=function(_1){["WebSquare.uiplugin.subtotalDataController"];};$W._a.aO.prototype._subtotalHidden=function(_2){["WebSquare.uiplugin.subtotalDataController.prototype._subtotalHidden"];try{for(var i=0;i<_2.length;i++){if(this.isIE6or7){var _4=_2[i].getElementsByTagName("td");for(var j=0;j<_4.length;j++){_4[j].style.borderWidth="0px";}}_2[i].style.display="none";}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aO.prototype.subtotalHidden=function(_6){["WebSquare.uiplugin.subtotalDataController.prototype.subtotalHidden"];try{if(!this.hasSubtotal){return;}if(_6){if(typeof _6.index=="number"){var _7=this.drawedSubtotal.splice(_6.index,1);for(var i=0;i<_7.length;i++){this._subtotalHidden(_7[i]);}}if(typeof _6.rowIndex=="number"){for(var i=this.drawedSubtotal.length-1;i>=0;i--){if(this.drawedSubtotal[i].rowIndex==_6.rowIndex){var _7=this.drawedSubtotal.splice(i,1);for(var j=0;j<_7.length;j++){this._subtotalHidden(_7[j]);}}}}if(typeof _6.startRowIndex=="number"){for(var i=this.drawedSubtotal.length-1;i>=0;i--){if(this.drawedSubtotal[i].rowIndex>=_6.startRowIndex){var _7=this.drawedSubtotal.splice(i,1);for(var j=0;j<_7.length;j++){this._subtotalHidden(_7[j]);}}}}if(typeof _6.endRowIndex=="number"){for(var i=this.drawedSubtotal.length-1;i>=0;i--){if(this.drawedSubtotal[i].rowIndex<=_6.endRowIndex){var _7=this.drawedSubtotal.splice(i,1);for(var j=0;j<_7.length;j++){this._subtotalHidden(_7[j]);}}}}}else{this.drawedSubtotal=[];for(var _a in this.subtotalTableList){var _b=this.subtotalRowHash[_a];if(_b){this._subtotalHidden(_b);}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aO.prototype.refreshSubtotalRow=function(_c){["WebSquare.uiplugin.subtotalDataController.prototype.refreshSubtotalRow"];var st=_c-this.rowIndex;for(var i=st;i<=this.lastIndex;i++){this.drawSubtotalRow(i+1,i+this.rowIndex);}var _f=this.options.adaptive;var _10=parseInt(this.options.adaptiveThreshold)||480;if(_f=="crosstab"){if(!($W._G.isIE()&&parseInt($W._N.browserVersion(),10)<10)){if(parseInt(top.document.documentElement.clientWidth||top.document.body.clientWidth)<=_10){for(var i=this.defaultColCnt;i<this.hiddenList.length;i++){if(this.hiddenList[i]==true){this.setAdaptiveColumnVisible(i,true);}}this.removeAdaptiveGridSubtotalHeight();this.setAdaptiveGridSubtotalHeight();for(var i=this.defaultColCnt;i<this.hiddenList.length;i++){if(this.hiddenList[i]==true){this.setAdaptiveColumnVisible(i,false);}}if(!this.event.hasEvent(this.id+"_body_tbody","onscroll")){this.event.addListener(this.getElementById(this.id+"_body_tbody"),"onscroll",this.event.bindAsEventListener(this,this.tbodyMoveXScroll));}}}}};$W._a.aO.prototype.drawSubtotalRow=function(_11,_12){["WebSquare.uiplugin.subtotalDataController.prototype.drawSubtotalRow"];if(!this.hasSubtotal||_12<0||_12>=this.getDataLength()){return;}for(var _13 in this.subtotalTableList){var _14=this.dataList.getCellData(_12,_13);var _15=_14+"_12";if(_12<this.getDataLength()-1){var _15=this.dataList.getCellData(_12+1,_13);}if(_14!=_15){var _16=this.subtotalRowHash[_13];var _17=this.subtotalTableList[_13];var _18=_17.rows.length;var _19=[];_19.rowIndex=_12;_19.targetID=_13;for(var i=0;i<_18;i++){var _1b=_16[_11*_18+i];if(_1b){if(this.isIE6or7){var tds=_1b.getElementsByTagName("td");for(var j=0;j<tds.length;j++){tds[j].style.borderWidth="";}}_1b.style.display="";_19.push(_1b);this.lastSubtotalRow=_1b;}}this.drawedSubtotal.push(_19);this.setSubtotalData(_17,_13,_14,_12,_19);}}};$W._a.aO.prototype.hasUpperSubtotalRow=function(_1e){["WebSquare.uiplugin.subtotalDataController.prototype.drawSubtotalRow"];if(!this.hasSubtotal||_1e<0||_1e>=this.getDataLength()){return false;}for(var _1f in this.subtotalTableList){var _20=this.dataList.getCellData(_1e,_1f);var _21=_20;if(_1e<this.getDataLength()){var _21=this.dataList.getCellData(_1e-1,_1f);}if(_20!=_21){return true;}}return false;};$W._a.aO.prototype.getHasSubtotalCount=function(_22){["WebSquare.uiplugin.subtotalDataController.prototype.getHasSubtotalCount"];if(!this.hasSubtotal||_22<0||_22>=this.getDataLength()){return 0;}var _23=0;for(var _24 in this.subtotalTableList){var _25=this.dataList.getCellData(_22,_24);var _26=_25;if(_22+1<this.getDataLength()){_26=this.dataList.getCellData(_22+1,_24);}else{if(_22+1==this.getDataLength()){_23++;}}if(_25!=_26){_23++;}}return _23;};$W._a.aO.prototype.setSubtotalData=function(_27,_28,_29,_2a,_2b){["WebSquare.uiplugin.subtotalDataController.prototype.setSubtotalData"];var _2c=this.subtotalDataArr[_28+"_"+_29];if(_2c==null){_2c=this.getSubtotalData(_27,_28,_29,_2a);}var _2d=this.subtotalObj[_28];for(var i=0;i<_2b.length;i++){var _2f=_2b[i].getElementsByTagName("td");for(var j=0;j<_2f.length;j++){var _31=_2f[j];var _32=_31.getAttribute("id");if(_2c[_32]!=null){_31.innerHTML="<nobr>"+_2c[_32]+"</nobr>";}else{if(_31.getAttribute("colMerge")=="true"){_31.style.borderTopWidth="0px";_31.style.borderBottomWidth="0px";}else{var _33=_31.getAttribute("value");var _34=_31.getAttribute("inputType");var _35=_31.getAttribute("localeRef");if(_34!=="expression"&&_35!=null){_33=this.getLocaleValue(_35);}_33=_33!=null?_33:"";_31.innerHTML="<nobr>"+_33+"</nobr>";}}}}};$W._a.aO.prototype.getSubtotalData=function(_36,_37,_38,_39){["WebSquare.uiplugin.subtotalDataController.prototype.getSubtotalData"];var obfuscator_targetID=_37;var _3a=this.subtotalObj[_37];if(_3a==null){_3a={};for(var i=0;i<_36.rows.length;i++){var _3c=_36.rows[i].getElementsByTagName("td");for(var j=0;j<_3c.length;j++){var _3e=_3c[j];if(_3e.getAttribute("inputType")=="expression"){var obj={};obj.id=_3e.getAttribute("id");var str=_3e.getAttribute("expression")||"";if(str!=""){str=str.replace(/[sS][uU][mM][\s]*[(]/g,"this.subtotalcolsum( obfuscator_st, obfuscator_en ,");str=str.replace(/[aA][vV][gG][\s]*[(]/g,"this.subtotalcolavg( obfuscator_st, obfuscator_en ,");str=str.replace(/[mM][aA][xX][\s]*[(]/g,"this.subtotalcolmax( obfuscator_st, obfuscator_en ,");str=str.replace(/[mM][iI][nN][\s]*[(]/g,"this.subtotalcolmin( obfuscator_st, obfuscator_en ,");str=str.replace(/[cC][oO][uU][nN][tT][\s]*[(]/g,"this.subtotalcolcnt( obfuscator_st, obfuscator_en ,");str=str.replace(/[tT][aA][rR][gG][eE][tT][cC][oO][lL][vV][aA][lL][uU][eE][\s]*[(]/g,"this.dataList.getCellData( obfuscator_en, obfuscator_targetID");}var _41="text";var _42=parseInt(_3e.getAttribute("colindex"))-this.defaultColCnt;if(_42>=0){_41=this._dataList.getCellInfo(_42).options.dataType;}obj.dataType=_3e.getAttribute("dataType")||_41;obj.expression=str;obj.displayFormat=_3e.getAttribute("displayFormat")||"";obj.displayFormatter=_3e.getAttribute("displayFormatter")||"";obj.formatter=$W._C.createFormatter(obj.dataType,obj.displayFormat,obj.displayFormatter,null,null,null,this.scope_id);_3a[obj.id]=obj;}}}this.subtotalObj[_37]=_3a;}var _43=_39;while(_43>0&&_38==this.dataList.getCellData(_43-1,_37)){_43--;}var obfuscator_st=_43;var obfuscator_en=_39;var _44={};for(var id in _3a){var obj=_3a[id];var _46=eval(obj.expression);_44[id]=obj.formatter.format(_46);}return _44;};$W._a.aO.prototype.subtotalcolsum=function(st,en,_49){["WebSquare.uiplugin.subtotalDataController.prototype.checkRowSpan"];var _4a=this.getColumnSubtotalRangeDataArray(st,en,_49);var _4b="";var _4c;if(_4a.length>0){_4c=this.getColumnOption(_49,"dataType");_4b=0;for(var i=0;i<_4a.length;i++){if(_4c==="bigDecimal"){_4b=$W._b(_4b+"").plus(_4a[i]);}else{if(_4c==="time"){var _4e=$W._A.fillZero(_4b,4);_4b=$W._s.dateTimeAdd(_4e,_4a[i],"time");}else{_4b+=(_4a[i]-0);}}}}return _4b;};$W._a.aO.prototype.subtotalcolavg=function(st,en,_51){["WebSquare.uiplugin.subtotalDataController.prototype.checkRowSpan"];var _52=this.getColumnSubtotalRangeDataArray(st,en,_51);var _53="";var _54=this.getColumnOption(_51,"dataType");if(_54==="bigDecimal"){_53="0";for(var i in _52){_53=$W._b(_53).plus(_52[i]);}_53=_53.divide($W._b(_52.length));}else{if(_52.length>0){_53=eval(_52.join("+"))/_52.length;}}return _53;};$W._a.aO.prototype.subtotalcolmax=function(st,en,_58){["WebSquare.uiplugin.subtotalDataController.prototype.checkRowSpan"];var _59=this.getColumnSubtotalRangeDataArray(st,en,_58);var _5a=this.getColumnOption(_58,"dataType");var max=null;if(_5a==="bigDecimal"){for(var i in _59){max=(max==null)?_59[i]:max.compare(_59[i]);}}else{for(var i=0;i<_59.length;i++){var _5d=parseFloat(_59[i]);if(!isNaN(_5d)){if(max==null||max<_5d){max=_5d;}}}}max=(max==null)?"":max;return max;};$W._a.aO.prototype.subtotalcolmin=function(st,en,_60){["WebSquare.uiplugin.subtotalDataController.prototype.checkRowSpan"];var _61=this.getColumnSubtotalRangeDataArray(st,en,_60);var _62=this.getColumnOption(_60,"dataType");var min=null;if(_62==="bigDecimal"){for(var i in _61){min=(min==null)?_61[i]:min.compare(_61[i],true);}}else{for(var i=0;i<_61.length;i++){var _65=parseFloat(_61[i]);if(!isNaN(_65)){if(min==null||min>_65){min=_65;}}}}min=(min==null)?"":min;return min;};$W._a.aO.prototype.subtotalcolcnt=function(st,en,_68){["WebSquare.uiplugin.subtotalDataController.prototype.subtotalcolcnt"];var cnt=0;cnt=en-st+1;return cnt;};$W._a.aO.prototype.getColumnSubtotalRangeDataArray=function(st,en,_6c){["WebSquare.uiplugin.subtotalDataController.prototype.getColumnSubtotalRangeDataArray"];var _6d=[];var _6e=this.getColumnID(_6c);var _6f;var _70=this.getColumnOption(_6e,"dataType");for(var i=st;i<=en;i++){if(this.options.excludeDeletedRows){var _72=this.getDeletedIndex();var _73=false;for(var j=0;j<_72.length;j++){if(i==_72[j]){_73=true;break;}}if(_73){continue;}}if(_70==="bigDecimal"){_6f=$W._b(this.dataList.getCellData(i,_6c));}else{_6f=this.dataList.getCellData(i,_6c);_6f+="";}if(typeof _6f=="undefined"||_6f==""){_6f="0";}else{_6d.push(_6f);}}return _6d;};;WebSquare.uiplugin.subtotalDataController=$W._a.aO;$W._a.bq=function(_1){["WebSquare.uiplugin.footerController"];};$W._a.bq.prototype.initializeFooter=function(){["WebSquare.uiplugin.footerController.prototype.initializeFooter"];try{if(!this.hasFooter){return;}var _2=this.getDomList("foot_tds","td",this.getElementById(this.id+"_foot_table"));for(var i=0;i<_2.length;i++){var td=_2[i];var _5=td.getAttribute("id");if(_5&&!td.getAttribute("footer_id")){td.setAttribute("footer_id",_5);td.setAttribute("id",this.id+"_"+_5);td.setAttribute("class",td.getAttribute("class")+" "+this.id+"_footer__column"+i);var _6=td.getAttribute("inputType");if(_6!="expression"){var _7="";var _8=td.getAttribute("localeRef");if(_8!=null){_7=this.getLocaleValue(_8);}else{_7=td.getAttribute("value");if(_7==null){_7="";}}td.innerHTML="<nobr>"+_7+"</nobr>";}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bq.prototype.drawFooter=function(_9){["WebSquare.uiplugin.footerController.prototype.drawFooter"];if(!this.hasFooter||!this.drawFooterStatus){return;}if(this.footerDataObj==null){this.initFooterDataObj();}var _a=this.getElementById(this.id+"_foot_table");var _b=_a.getElementsByTagName("td");this.footerTempSum=[];if(_9){var _9=this.getColumnID(_9);for(var i=0;i<_b.length;i++){var _d=_b[i];var _e=_d.getAttribute("footer_id");var _f=parseInt(_d.getAttribute("colindex"))-this.defaultColCnt;if(_e){var _10=this.footerDataObj[_e];if(_10.inputType=="expression"){var _11=_10.expression.match(/footercol(sum|avg|max|min)\s*\([^\)]*/g);if(_11){for(var j=0;j<_11.length;j++){if(_11[j].indexOf(_9)>=0){_10.value=eval(_10.expression);if(isNaN(_10.value)){if(_10.NaNFormat!="NaN"){_10.value=_10.NaNFormat;}}_d.innerHTML="<nobr>"+_10.formatter.format(_10.value)+"</nobr>";}}}else{if(_9==this.getCellInfo(_f).id){try{_10.value=eval(_10.expression);if(isNaN(_10.value)){if(_10.NaNFormat!="NaN"){_10.value=_10.NaNFormat;}}}catch(e1){}_d.innerHTML="<nobr>"+_10.formatter.format(_10.value)+"</nobr>";}}}}}}else{for(var i=0;i<_b.length;i++){var _d=_b[i];var _e=_d.getAttribute("footer_id");if(_e){var _10=this.footerDataObj[_e];if(_10.inputType=="expression"){try{_10.value=eval(_10.expression);if(isNaN(_10.value)){if(_10.NaNFormat!="NaN"){_10.value=_10.NaNFormat;}}}catch(e1){}}_d.innerHTML="<nobr>"+_10.formatter.format(_10.value)+"</nobr>";}}}};$W._a.bq.prototype.initFooterDataObj=function(){["WebSquare.uiplugin.footerController.prototype.initFooterDataObj"];var _13=this.getElementById(this.id+"_foot_table");var _14=_13.getElementsByTagName("td");this.footerDataObj={};for(var j=0;j<_14.length;j++){var _16=_14[j];var _17=_16.getAttribute("footer_id");if(!_17){_17="f_"+Math.random().toString();_16.setAttribute("footer_id",_17);}var obj={};obj.id=_17;var str=_16.getAttribute("expression")||"";if(str!=""){str=str.replace(/[sS][uU][mM][\s]*[(]/g,"this.footercolsum( ");str=str.replace(/[aA][vV][gG][\s]*[(]/g,"this.footercolavg( ");str=str.replace(/[mM][aA][xX][\s]*[(]/g,"this.footercolmax( ");str=str.replace(/[mM][iI][nN][\s]*[(]/g,"this.footercolmin( ");str=str.replace(/[cC][oO][uU][nN][tT][\s]*[(]/g,"this.footercolcnt( ");}var _1a=_16.getAttribute("localeRef");if(_1a!=null){obj.value=this.getLocaleValue(_1a);}else{obj.value=_16.getAttribute("value")||"";}obj.inputType=_16.getAttribute("inputType");obj.dataType=_16.getAttribute("dataType");if(!obj.dataType){try{if(obj.inputType==="expression"){var _1b=eval(str.substring((str.indexOf("(")+1),str.indexOf(")")));obj.dataType=this._dataList.getCellInfo(_1b).options.dataType||"text";}else{var _1c="text";var _1d=parseInt(_16.getAttribute("colindex"))-this.defaultColCnt;if(_1d>=0){_1c=this._dataList.getCellInfo(_1d).options.dataType;}obj.dataType=_1c;}}catch(e){obj.dataType="text";}}obj.expression=str;obj.displayFormat=_16.getAttribute("displayFormat")||"";obj.displayFormatter=_16.getAttribute("displayFormatter")||"";obj.formatter=$W._C.createFormatter(obj.dataType,obj.displayFormat,obj.displayFormatter,null,null,null,this.scope_id);obj.NaNFormat=_16.getAttribute("NaNFormat")||$W._N.getConfiguration("/WebSquare/grid/column[@inputType='expression']/NaNFormat/@value")||"NaN";if(obj.NaNFormat=="$blank"){obj.NaNFormat="";}this.footerDataObj[obj.id]=obj;}};$W._a.bq.prototype.footercolsum=function(_1e){["WebSquare.uiplugin.footerController.prototype.footercolsum"];if(!this.footerTempSum){this.footerTempSum=[];}if(!this.footerTempSum[_1e]){this.footerTempSum[_1e]={};}if(this.footerTempSum[_1e].sum===undefined){var _1f="";var _20=5000;if(this.groupbyStatus.grouped){_1f=this.groupExpression(this._dataList.filteredRowIndexArr,0,this._dataList.filteredRowIndexArr.length-1,"SUM('"+_1e+"')");}else{var _21=this.getColumnAllDataArray(_1e);var _22=this.getColumnOption(_1e,"dataType");if(_21.length>0&&_22=="bigDecimal"){var _23=$W._b("0");for(var i=0;i<_21.length;i++){if(_21[i].replace(/^\s+|\s+$/g,"")==""){_21[i]="0";}}for(var j in _21){_21[j]=$W._b(_21[j]);_23=_23.plus(_21[j]);}_1f=_23.toString();}else{if(_21.length>0){if(_21.length>_20){var _26=Math.ceil((_21.length/_20));var _27=0;var _28;_1f=0;for(var i=0;i<_26;i++){if(this.options.excludeDeletedRows){var _29=this.dataList.getDeletedIndex();for(var j=0;j<_29.length;j++){_21[_29[j]]="0";}}var _2a=_21.slice(_27,_20*(i+1));for(var s=0;s<_2a.length;s++){if(_2a[s].replace(/^\s+|\s+$/g,"")==""){_2a[s]="0";}}_28=eval(_2a.join("+"));_27=parseInt(_27,10)+parseInt(_2a.length,10);_1f=parseInt(_1f,10)+parseInt(_28,10);}}else{for(var i=0;i<_21.length;i++){if(_21[i].replace(/^\s+|\s+$/g,"")==""){_21[i]="0";}}if(this.options.excludeDeletedRows){var _29=this.dataList.getDeletedIndex();for(var i=0;i<_29.length;i++){_21[_29[i]]="0";}}_1f=eval(_21.join("+"));}}}}this.footerTempSum[_1e].sum=_1f;}return $W._G.setPrecision(this.footerTempSum[_1e].sum);};$W._a.bq.prototype.footercolavg=function(_2c){["WebSquare.uiplugin.footerController.prototype.footercolavg"];var _2d=this.getColumnAllDataArray(_2c);if(!this.footerTempSum){this.footerTempSum=[];}if(!this.footerTempSum[_2c]){this.footerTempSum[_2c]={};}var _2e="";var _2f=5000;if(this.groupbyStatus.grouped){_2e=this.groupExpression(this._dataList.filteredRowIndexArr,0,this._dataList.filteredRowIndexArr.length-1,"AVG('"+_2c+"')");return _2e;}else{if(this.footerTempSum[_2c].sum===undefined){var _30=this.getColumnOption(_2c,"dataType");if(_2d.length>0&&_30=="bigDecimal"){var _31=$W._b("0");for(var i=0;i<_2d.length;i++){if(_2d[i].replace(/^\s+|\s+$/g,"")==""){_2d[i]="0";}}for(var j in _2d){_2d[j]=$W._b(_2d[j]);_31=_31.plus(_2d[j]);}return _31.divide($W._b(_2d.length)).toString();}else{if(_2d.length>0){if(_2d.length>_2f){var _34=Math.ceil((_2d.length/_2f));var _35=0;var _36;_2e=0;for(var i=0;i<_34;i++){var _37=_2d.slice(_35,_2f*(i+1));for(var s=0;s<_37.length;s++){if(_37[s].replace(/^\s+|\s+$/g,"")==""){_37[s]="0";}}_36=eval(_37.join("+"));_35=parseInt(_35,10)+parseInt(_37.length,10);_2e=parseInt(_2e,10)+parseInt(_36,10);}}else{for(var i=0;i<_2d.length;i++){if(_2d[i].replace(/^\s+|\s+$/g,"")==""){_2d[i]="0";}}_2e=eval(_2d.join("+"));}}}this.footerTempSum[_2c].sum=_2e;}if(this.footerTempSum[_2c].sum===""){return "";}else{if(this.cellInfoHash[_2c].options.dataType=="bigDecimal"){_2e=$W._b(this.footerTempSum[_2c].sum).divide($W._b(_2d.length)).toString();}else{_2e=this.footerTempSum[_2c].sum/_2d.length;}return _2e;}}};$W._a.bq.prototype.footercolmax=function(_39){["WebSquare.uiplugin.footerController.prototype.footercolmax"];if(!this.footerTempSum){this.footerTempSum=[];}if(!this.footerTempSum[_39]){this.footerTempSum[_39]={};}if(this.footerTempSum[_39].max===undefined){var max=null;if(this.groupbyStatus.grouped){max=this.groupExpression(this._dataList.filteredRowIndexArr,0,this._dataList.filteredRowIndexArr.length-1,"MAX('"+_39+"')");}else{var _3b=this.getColumnAllDataArray(_39);var _3c=this.getColumnOption(_39,"dataType");if(_3b.length>0&&_3c=="bigDecimal"){var _3d;for(var i=0;i<_3b.length;i++){if(_3b[i].replace(/^\s+|\s+$/g,"")==""){_3b[i]="0";}}for(var j in _3b){_3b[j]=$W._b(_3b[j]);_3d=(_3d==null)?_3b[j]:_3d.compare(_3b[j],false);}max=_3d.toString();}else{for(var i=0;i<_3b.length;i++){var _40=parseFloat(_3b[i]);if(!isNaN(_40)){if(max==null||max<_40){max=_40;}}}max=(max==null)?"":max;max=$W._G.setPrecision(max);}this.footerTempSum[_39].max=max;}}return this.footerTempSum[_39].max;};$W._a.bq.prototype.footercolmin=function(_41){["WebSquare.uiplugin.footerController.prototype.footercolmin"];if(!this.footerTempSum){this.footerTempSum=[];}if(!this.footerTempSum[_41]){this.footerTempSum[_41]={};}if(this.footerTempSum[_41].min===undefined){var min=null;if(this.groupbyStatus.grouped){min=this.groupExpression(this._dataList.filteredRowIndexArr,0,this._dataList.filteredRowIndexArr.length-1,"MIN('"+_41+"')");}else{var _43=this.getColumnAllDataArray(_41);var _44=this.getColumnOption(_41,"dataType");if(_43.length>0&&_44=="bigDecimal"){var _45;for(var i=0;i<_43.length;i++){if(_43[i].replace(/^\s+|\s+$/g,"")==""){_43[i]="0";}}for(var j in _43){_43[j]=$W._b(_43[j]);_45=(_45==null)?_43[j]:_45.compare(_43[j],true);}min=_45.toString();}else{for(var i=0;i<_43.length;i++){var _48=parseFloat(_43[i]);if(!isNaN(_48)){if(min==null||min>_48){min=_48;}}}min=(min==null)?"":min;min=$W._G.setPrecision(min);}this.footerTempSum[_41].min=min;}}return this.footerTempSum[_41].min;};$W._a.bq.prototype.footercolcnt=function(_49){["WebSquare.uiplugin.footerController.prototype.footercolcnt"];return this.getDataLength();};$W._a.bq.prototype.getColumnAllDataArray=function(_4a){["WebSquare.uiplugin.footerController.prototype.getColumnAllDataArray"];var _4b=[];var _4c=this.getColumnID(_4a);if(_4c!==null){for(var i=0;i<this.getDataLength();i++){var _4e=this.dataList.getCellData(i,_4c);_4e+="";if((typeof _4e=="undefined"||_4e=="")){_4e="0";}else{_4b.push(_4e);}}return _4b;}else{$W.logger.printLog("[Warning] Invalid colIndex("+_4a+"). ["+this.id+"] getColumnAllDataArray.");}};$W._a.bq.prototype.getFooterData=function(_4f,_50){["WebSquare.uiplugin.footerController.prototype.getFooterData"];var _51=this.getElementById(this.id+"_foot_table");var _52=_51.getElementsByTagName("td");if(typeof _4f=="number"){var _53=_4f+this.defaultColCnt;footerTd=_52[_53];var _4f=footerTd.getAttribute("footer_id");var _54=this.footerDataObj[_4f];var _55=_54.value;if(_54.inputType=="expression"){_55=eval(_54.expression);}if(_50!="displayData"){return _55;}else{return _54.formatter.format(_55);}}else{for(var j=0;j<_52.length;j++){var _57=_52[j];if(_57.getAttribute("footer_id")==_4f){var _54=this.footerDataObj[_4f];var _55=_54.value;if(_54.inputType=="expression"){_55=eval(_54.expression);}if(_50!="displayData"){return _55;}else{return _54.formatter.format(_55);}}}}};$W._a.bq.prototype.setFooterValue=function(_58,_59){this.setFooterData(_58,_59);};$W._a.bq.prototype.setFooterData=function(_5a,_5b){["WebSquare.uiplugin.footerController.prototype.setFooterData"];var _5c=this.getElementById(this.id+"_foot_table");var _5d=_5c.getElementsByTagName("tbody")[0];var _5e=_5d.getElementsByTagName("td");if(typeof _5a=="number"){var _5f=_5a+this.defaultColCnt;footerTd=_5e[_5f];_5a=footerTd.getAttribute("footer_id");}for(var j=0;j<_5e.length;j++){var _61=_5e[j];if(_61.getAttribute("footer_id")==_5a){var _62=this.footerDataObj[_5a];if(_62.inputType=="text"){_62.value=_5b;_61.innerHTML="<nobr>"+_62.formatter.format(_62.value)+"</nobr>";}}}};$W._a.bq.prototype.setFooterDisplayFormat=function(_63,_64){try{var _65=this.getElementById(this.id+"_foot_table");var _66=_65.getElementsByTagName("td");if(typeof _63=="number"){var _67=_63+this.defaultColCnt;footerTd=_66[_67];_63=footerTd.getAttribute("footer_id");}for(var j=0;j<_66.length;j++){var _69=_66[j];if(_69.getAttribute("footer_id")==_63){var _6a=this.footerDataObj[_63];_6a.displayFormat=_64;_6a.formatter=$W._C.createFormatter(_6a.dataType,_6a.displayFormat,_6a.displayFormatter,null,null,null,this.scope_id);if(_6a.dataType=="number"){_69.innerHTML="<nobr>"+_6a.formatter.format(_6a.value)+"</nobr>";}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bq.prototype.getFooterStyle=function(_6b,_6c){try{var _6d=this.getElementById(this.id+"_foot_table");var _6e=_6d.getElementsByTagName("td");if(typeof _6b=="number"){var _6f=_6b+this.defaultColCnt;footerTd=_6e[_6f];_6b=footerTd.getAttribute("footer_id");}for(var j=0;j<_6e.length;j++){var _71=_6e[j];if(_71.getAttribute("footer_id")==_6b){return $W._H.getStyle(_71,_6c);}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bq.prototype.setFooterStyle=function(_72,_73,_74){try{var _75=this.getElementById(this.id+"_foot_table");var _76=_75.getElementsByTagName("td");if(_72.wq_trim().toLowerCase()=="$rownum"){_72="_headerRowNumber";}else{if(_72.wq_trim().toLowerCase()=="$rowstatus"){_72="_headerRowStatus";}else{if(typeof _72=="number"){var _77=_72+this.defaultColCnt;footerTd=_76[_77];_72=footerTd.getAttribute("footer_id");}}}for(var j=0;j<_76.length;j++){var _79=_76[j];if(_79.getAttribute("footer_id")==_72){$W._H.setStyle(_79,_73,_74);}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bq.prototype.getExcelAllFooterXML=function(_7a){["WebSquare.uiplugin.footerController.getExcelAllFooterXML"];try{if(!_7a){_7a=",";}if(!this.hasFooter){return "<array><![CDATA[[]]]></array>";}var _7b=[];_7b.push("<array><![CDATA[");_7b.push("[\"");var _7c=this.getElementById(this.id+"_foot_table");var _7d=_7c.getElementsByTagName("tbody")[0];var _7e=_7d.getElementsByTagName("td");for(var j=0;j<_7e.length;j++){var _80=_7e[j];var _81=_80.getAttribute("footer_id");if(_81!="_headerRowNumber"&&_81!="_headerRowStatus"){var _82="";if(_80.getAttribute("inputType")!="expression"){childNode=$W._G.first(_80);while(childNode!=null&&childNode.tagName!="BR"){_80=childNode;childNode=$W._G.first(childNode);}_82=_80.innerHTML;}else{if(!this.footerDataObj){this.initFooterDataObj();}var _83=this.footerDataObj[_81];_82=eval(_83.expression);}_7b.push(_82);_7b.push("\""+_7a+"\"");}}_7b[_7b.length-1]="\"]";_7b.push("]]></array>");return (_7b.join(""));}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bq.prototype.getExcelAllFooterXMLDisplay=function(_84){["WebSquare.uiplugin.footerController.getExcelAllFooterXMLDisplay"];try{if(!_84){_84=",";}if(!this.hasFooter){return "<array><![CDATA[[]]]></array>";}var _85=[];_85.push("<array><![CDATA[");_85.push("[\"");var _86=this.getElementById(this.id+"_foot_table");var _87=_86.getElementsByTagName("tbody")[0];var _88=_87.getElementsByTagName("td");if(this.groupbyStatus.grouped){if(!this.footerDataObj){this.initFooterDataObj();}var _89=0;if(this.options.rowNumVisible){var _8a=this.footerDataObj[_88[_89].getAttribute("footer_id")];var _8b=_8a.value||"";_85.push(_8b);_85.push("\""+_84+"\"");_89++;}if(this.options.rowStatusVisible){var _8a=this.footerDataObj[_88[_89].getAttribute("footer_id")];var _8b=_8a.value||"";_85.push(_8b);_85.push("\""+_84+"\"");}}for(var j=0;j<_88.length;j++){var _8d=_88[j];var _8e=_8d.getAttribute("footer_id");if(_8e!="_headerRowNumber"&&_8e!="_headerRowStatus"){var _8b="";if(_8d.getAttribute("inputType")!="expression"){childNode=$W._G.first(_8d);while(childNode!=null&&childNode.tagName!="BR"){_8d=childNode;childNode=$W._G.first(childNode);}_8b=_8d.innerHTML;}else{if(!this.footerDataObj){this.initFooterDataObj();}var _8a=this.footerDataObj[_8e];_8b=eval(_8a.expression);_8b=_8a.formatter.format(_8b);}_85.push(_8b);_85.push("\""+_84+"\"");}}_85[_85.length-1]="\"]";_85.push("]]></array>");return (_85.join(""));}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bq.prototype.getExcelAllFooterXMLRaw=function(_8f){["WebSquare.uiplugin.footerController.getExcelAllFooterXMLRaw"];try{if(!_8f){_8f=",";}if(!this.hasFooter){return "<array><![CDATA[[]]]></array>";}var _90=this.getElementById(this.id+"_foot_table");var _91=_90.getElementsByTagName("tbody")[0];var _92=_91.getElementsByTagName("td");var _93=[];for(var i=0;i<_92.length;i++){var _95=_92[i];var _96=_95.getAttribute("footer_id");if(_96!="_headerRowNumber"&&_96!="_headerRowStatus"){childNode=$W._G.first(_95);while(childNode!=null&&childNode.tagName!="BR"){_95=childNode;childNode=$W._G.first(childNode);}_93[_93.length]=_95.innerHTML;}}_93[0]="<array><![CDATA[[\""+_93[0];_93[_93.length-1]+="\"]]]></array>";return _93.join("\""+_8f+"\"");}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bq.prototype.getExpressionValue=function(str){["WebSquare.uiplugin.footerController.prototype.getExpressionValue"];if(!this.hasFooter){this.footerTempSum=[];}str=str.replace(/[sS][uU][mM][\s]*[(]/g,"this.footercolsum( ");str=str.replace(/[aA][vV][gG][\s]*[(]/g,"this.footercolavg( ");str=str.replace(/[mM][aA][xX][\s]*[(]/g,"this.footercolmax( ");str=str.replace(/[mM][iI][nN][\s]*[(]/g,"this.footercolmin( ");str=str.replace(/[cC][oO][uU][nN][tT][\s]*[(]/g,"this.footercolcnt( ");var _98=eval(str);return _98;};;WebSquare.uiplugin.footerController=$W._a.bq;$W._a.ak=function(_1){["WebSquare.uiplugin.gridViewApiController"];};$W._a.ak.prototype.setStartRowNumber=function(_2){["WebSquare.uiplugin.gridViewApiController.prototype.setStartRowNumber"];this.startRowNumber=_2;for(var i=0;i<=this.lastIndex;i++){this._drawRowNumData(i,i+this.rowIndex);}};$W._a.ak.prototype.setNoResultMessage=function(_4){["WebSquare.uiplugin.gridViewApiController.prototype.setStartRowNumber"];this.options.noResultMessage=_4;this.displayNoResultMessage();};$W._a.ak.prototype.checkAll=function(_5,_6){["WebSquare.uiplugin.gridViewApiController.prototype.checkAll"];var _7=false;var _8=this.getCellInfo(_5);var _9=_8.id;if(_8.options.inputType!="checkbox"){if(_8.options.inputType=="custom"){_7=true;}else{var _a=$W._m.getMessage("Grid_warning1")||"\uc120\ud0dd\ud558\uc2e0 \uceec\ub7fc\uc740 checkbox\uac00 \uc544\ub2d9\ub2c8\ub2e4.";$l(_a);return;}}var _b=_8.options.trueValue;var _c=_8.options.falseValue;this.drawFooterStatus=false;var _d=!!(this.isDrillDown&&this._dataList.options.depthColumn);var _e=_d?this.getTotalRow():this.getDataLength();if(this._linkedDataList){for(var _f=0;_f<_e;_f++){var _10=this._linkedDataList.initialRowIndexArr[_f];var i=_d?_10:this._dataList.getFilteredRowIndex(_10);if(_7){var _12=_8.cellManagerHashByRowIndex[_10]?_8.cellManagerHashByRowIndex[_10]:_8;if(_12.options.inputType!="checkbox"){continue;}else{_b=_12.options.trueValue;_c=_12.options.falseValue;}}data=this._dataList.getCellData(i,_9);if(_6==1||_6==true||_6==_b){if(data!=_b){this._dataList.setCellData(i,_9,_b);}}else{if(_6==0||_6==false||_6==_c){if(data!=_c){this._dataList.setCellData(i,_9,_c);}}else{var _13=(data==_b)?_c:_b;this._dataList.setCellData(i,_9,_13);}}}}else{for(var i=0;i<_e;i++){if(_7){var _10=this.dataList.getRealRowIndex(i);var _12=_8.cellManagerHashByRowIndex[_10]?_8.cellManagerHashByRowIndex[_10]:_8;if(_12.options.inputType!="checkbox"){continue;}else{_b=_12.options.trueValue;_c=_12.options.falseValue;}}data=this._dataList.getCellData(i,_9);if(_6==1||_6==true||_6==_b){if(data!=_b){this._dataList.setCellData(i,_9,_b);}}else{if(_6==0||_6==false||_6==_c){if(data!=_c){this._dataList.setCellData(i,_9,_c);}}else{var _13=(data==_b)?_c:_b;this._dataList.setCellData(i,_9,_13);}}}}this.drawFooterStatus=true;this.drawFooter();this.drawHeader();};$W._a.ak.prototype.getColumnType=function(_14){["WebSquare.uiplugin.gridViewApiController.prototype.getColumnType"];var _15=this.getCellInfo(_14);return _15.options.inputType;};$W._a.ak.prototype.getColumnNodeSet=function(_16){["WebSquare.uiplugin.gridViewApiController.prototype.getColumnNodeSet"];var _17=this.getCellInfo(_16);return _17.itemsetObj;};$W._a.ak.prototype.getDefaultStyle=function(){["WebSquare.uiplugin.gridViewApiController.getDefaultStyle"];return this.options.style;};$W._a.ak.prototype.setCellChecked=function(_18,_19,_1a){["WebSquare.uiplugin.gridViewApiController.prototype.setCellChecked"];if(typeof _1a!="boolean"){var _1b=$W._m.getMessage("Grid_warning2")||"\uc785\ub825\ub370\uc774\ud130\uac00 \uc633\ubc14\ub974\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4. true/false boolean \ud0c0\uc785\uc73c\ub85c \uc785\ub825\ud558\uc138\uc694";alert(_1b);return;}var _1c=this.getCellInfo(_19);var _1d=_1c.id;var _1e=false;if(_1c.internal==false&&_1c.options.inputType=="custom"){var _1f=this.dataList.getRealRowIndex(_18);_1c=_1c.cellManagerHashByRowIndex[_1f]?_1c.cellManagerHashByRowIndex[_1f]:_1c;_1e=true;}if(_1c.options.inputType!="checkbox"&&_1c.options.inputType!="radio"){var _20=$W._m.getMessage("Grid_warning3")||"checkbox\ub098 radio\uac00 \uc544\ub2d9\ub2c8\ub2e4.";alert(_20);return;}if(_1c.options.inputType=="radio"&&_1a!=false){var _21=!!(this.isDrillDown&&this._dataList.options.depthColumn);var len=_21?this.getTotalRow():this.getDataLength();if(this._linkedDataList){if(_1e){}else{for(var row=0;row<len;row++){var _1f=this._linkedDataList.initialRowIndexArr[row];var i=_21?_1f:this._dataList.getFilteredRowIndex(_1f);this._dataList.setCellData(i,_1d,_1c.options.falseValue);}}}else{if(_1e){}else{for(var i=0;i<len;i++){this._dataList.setCellData(i,_1d,_1c.options.falseValue);}}}this.drawColumnData(_19);}if(_1a==true){_1a=_1c.options.trueValue;}else{_1a=_1c.options.falseValue;}this._dataList.setCellData(_18,_1d,_1a);};$W._a.ak.prototype.getGridHTML=function(){["WebSquare.uiplugin.gridViewApiController.prototype.getGridHTML"];alert("\ud604\uc7ac \uad6c\ud604\uc911");};$W._a.ak.prototype.redrawColumn=function(_25,_26){["WebSquare.gridApiController.grid.prototype.redrawColumn"];try{var _27=typeof _26=="undefined"?true:_26;this.drawColumnData(_25,_27);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ak.prototype.getDrawCount=function(){["WebSquare.uiplugin.gridViewApiController.prototype.getRowCount"];return this.getVisibleRowNum();};$W._a.ak.prototype.getVisibleRowNum=function(){return this.rowIndex>=0?this.lastIndex+1:0;};$W._a.ak.prototype.getTopRowIndex=function(){return this.rowIndex;};$W._a.ak.prototype.setTopRowIndex=function(_28){var _29=this.getElementById(this.id+"_scrollY_div");(_28<=0)&&(_28=0);if(this.lastTopRowIndex!==null){(_28>this.lastTopRowIndex)&&(_28=parseInt(this.lastTopRowIndex+0.5,10));}else{if(_29.offsetHeight<_29.scrollHeight){if(this.rowIndex<_28){_28=(_28+this.lastIndex+1>this.getDataLength())?this.getDataLength()-this.lastIndex-1:_28;if(_28>this.rowIndex+this.lastIndex){this.adjustDraw_keepTop=true;}}}else{_28=0;}}if(this.rowIndex!=_28){if(this.delayedDraw({rowIndex:_28})){return;}this.scrollEvent=false;this.checkScrollEnd=true;_29.scrollTop=this.oneRowScrollHeight*_28;this.drawData(_28);}};$W._a.ak.prototype.getBottomRowIndex=function(){return this.rowIndex>=0?this.rowIndex+this.lastIndex:-1;};$W._a.ak.prototype.setBottomRowIndex=function(_2a){this.drawBottomData(_2a);};$W._a.ak.prototype.getCellPosition=function(row,_2c,_2d){var _2c=this.getColumnIndex(_2c);var _2d=(_2d||"").toLowerCase();var td=this.data_td_list[_2c+row*this.oneRowDataLength];if(!td){var _2f=row-this.rowIndex;td=this.data_td_list[_2c+_2f*this.oneRowDataLength];}if(td){if(_2d=="top"){return td.offsetTop;}else{if(_2d=="left"){return td.offsetLeft;}}}return null;};$W._a.ak.prototype.getCellSize=function(row,_31,_32){var _31=this.getColumnIndex(_31);var _32=(_32||"").toLowerCase();var td=this.data_td_list[_31+row*this.oneRowDataLength];if(!td){var _34=row-this.rowIndex;td=this.data_td_list[_31+_34*this.oneRowDataLength];}if(_32=="width"){return td.clientWidth;}else{if(_32=="height"){return td.clientHeight;}}return null;};$W._a.ak.prototype.getHeaderPosition=function(_35,_36){var _36=(_36||"").toLowerCase();var td=this.getHeaderLayer(_35);if(_36=="top"){var top=td.offsetTop;if(this.options.groupbyZone){top+=this.groupbyZoneStatus.groupbyZoneRender.offsetHeight;}return top;}else{if(_36=="left"){return td.offsetLeft;}}return null;};$W._a.ak.prototype.getHeaderSize=function(_39,_3a){var _3a=(_3a||"").toLowerCase();var td=this.getHeaderLayer(_39);if(_3a=="width"){return td.clientWidth;}else{if(_3a=="height"){return td.clientHeight;}}return null;};$W._a.ak.prototype.setSummary=function(str){var _3d=this.getElementById(this.id+"_body_table");_3d.setAttribute("summary",str);};$W._a.ak.prototype.setFooterSummary=function(str){if(this.hasFooter){var _3f=this.getElementById(this.id+"_foot_table");_3f.setAttribute("summary",str);}};$W._a.ak.prototype.setCaption=function(_40){var _41=this.getElementById(this.id+"_body_table");var _42=_41.getElementsByTagName("caption")[0];if(_42){_42.innerHTML=_40;}else{_42=document.createElement("caption");_42.innerHTML=_40;var _43=this.render.getElementsByTagName("colgroup")[0];_43.parentNode.insertBefore(_42,_43);}var _44=_42.className;_42.className=(_44&&_44!="")?_44+" setcaption":"setcaption";};$W._a.ak.prototype.setCaptionAuto=function(_45){var _46=this.getElementById(this.id+"_body_table");var _47=_46.getElementsByTagName("caption")[0];var _48=this.getHeaderValueList();var _49="";var _4a="";for(var i=0;i<_48.length;i++){if(_49.length>0){_4a=",";}_49=_49+_4a+_48[i];}var _4c="";if(_45){this.options.captionTitle=_45;}if(this.options.captionTitle){this.setCaption(this.options.captionTitle+$W._m.getMessage("Grid_caption2")+_49+$W._m.getMessage("Grid_caption"));}else{this.setCaption(_49+$W._m.getMessage("Grid_caption"));}};$W._a.ak.prototype.setFooterCaption=function(_4d){if(this.hasFooter){var _4e=this.getElementById(this.id+"_foot_table");var _4f=_4e.getElementsByTagName("caption")[0];if(_4f){_4f.innerHTML=_4d;}else{_4f=document.createElement("caption");_4f.innerHTML=_4d;var _50=_4e.getElementsByTagName("colgroup")[0];_50.parentNode.insertBefore(_4f,_50);}}};$W._a.ak.prototype.groupby=function(_51,_52,_53){["WebSquare.uiplugin.gridViewApiController.prototype.groupby"];try{this.hideCustomFilterList();var _54=((typeof _51.sortIndex=="string")?_51.sortIndex.split(" "):_51.sortIndex);var _55=((typeof _51.sortOrder=="string")?_51.sortOrder.split(" "):_51.sortOrder);var _56=_54.length;if(this.options.groupbyMaxCount!=-1){if(this.options.groupbyMaxCount<_56){$W.logger.printLog("groupby max column count has been exceeded.["+this.id+"]");return;}}var _57=[];for(var i=0;i<_54.length;i++){var _59=_54[i];_57.push(this._getDataColIndex(_59));}var _51=_51||{};this.removeFocusedCell();this.clearHeaderSort();var _5a=this.getAllData();var _5b=this._dataList.getColCnt();var _5c=_5a.length/_5b;var _5d={};for(var i=0;i<_5c;i++){var _5e=i;var _5f=_5d;var _60;for(var j=0;j<_57.length;j++){var _62=_57[j];var _63=_5a[_5e*_5b+_62];if(_5f["values"]==undefined){_5f["values"]={};}if(_5f["values"][_63]==undefined){_5f["values"][_63]={"view":true};}_5f=_5f["values"][_63];}if(_5f["rows"]==undefined){_5f["rows"]=[];}_5f["rows"].push(_5e);}if(!_53){this.groupbyStatus.FilterListAction=true;if(this.groupbyStatus.filter===undefined){this.groupbyStatus.filter={};}for(var col=0;col<_5b;col++){var _65=this.getColumnID(col);this.removeGroupFilter(_65);if(this.groupbyStatus.filter[col]&&this.groupbyStatus.filter[col]["userFilter"]){continue;}this.removeGroupFilter(col);}if(_51.filter){for(var _65 in _51.filter){var col=this.getColumnIndex(_65);if(col===undefined){col=_65;}var _66=_51.filter[_65];_66=_66.sort(function(a,b){return a-b;});var _69=[];var _6a=[{"operator":"in","values":[]}];for(var i=0;i<_66.length;i++){var p=_66[i];_69.push(_65+" = "+p);_6a[0].values.push(p);}var _6c=_69.join(" AND ");_6c="("+_6c+")";if(_51.filter[_65]["negative_execute"]){_66=_51.filter[_65]["minusFilter"];_66=_66.sort(function(a,b){return a-b;});}if(_66.constructor==/a/.constructor){regexp=_66;}else{if(typeof _66=="object"){if(_66.length==0){_66="/^[a-z0-9_-]{3,16}$/";}else{_66="^"+_66.join("$|^")+"$";}regexp=_66;}}if(regexp){this.setGroupFilter({col:col,regexp:regexp,negative:_51.filter[_65]["negative_execute"],type:"regex"});this.groupbyStatus.filter[col].label=_6c;this.groupbyStatus.filter[col].labelObject=_6a;}}}}this.executeGroupFilter(_5d,_54);var _6f=this.getGroupRawDataArr(_5d,_55,_5c);this.groupbyInfo={};this.statusArr=[];this.groupbyStatus.groupedRowIndexArr=[];this.groupbyStatus.groupbyRowIndexArr=this._dataList.filteredRowIndexArr.slice();this.groupbyStatus.groupbyDepthDelimiter="||";for(var i=0;i<_56;i++){var _70=parseInt(_54[i],10);_54[i]=isNaN(_70)?this.getColumnIndex(_54[i]):_70;}this.groupbyStatus.grouped=true;$W.extend(this.groupbyStatus.filter,(_51.filter||{}));this.groupbyStatus.sortIndexArr=_54;this.groupbyStatus.sortOrderArr=_55;this.groupbyStatus.headerValueObj={};this.groupbyStatus.footerValueObj={};if(!_51.keepDisplayOptions){this.groupbyDisplayOptions={};this.groupbyDisplayOptions.rowNumHeader=_51.rowNumHeader||{};this.groupbyDisplayOptions.rowStatusHeader=_51.rowStatusHeader||{};this.groupbyDisplayOptions.groupbyHeader=_51.groupbyHeader||[];this.groupbyDisplayOptions.rowNumFooter=_51.rowNumFooter||{};this.groupbyDisplayOptions.rowStatusFooter=_51.rowStatusFooter||{};this.groupbyDisplayOptions.groupbyFooter=_51.groupbyFooter||[];this.groupbyDisplayOptions.closeGroup=_51.closeGroup||false;this.groupbyDisplayOptions.hideHeader=_51.hideHeader||false;this.groupbyDisplayOptions.hideFooter=_51.hideFooter||false;}this.groupbyStatus.origial_options=_51;var _71=[];var _72=[];var _73=_54.length;var _74=0;var _75={};for(var i=0;i<_6f.length;i++){var _76=_6f[i];var _77=_76[_73];if(_76.l){var _78=_76.join(this.groupbyStatus.groupbyDepthDelimiter);var obj={depth:_76.length-1,groupId:_78,index:i,status:"open",type:_76.l==="h"?"header":"footer"};if((obj.type==="header"&&!this.groupbyDisplayOptions.hideHeader)||(obj.type==="footer"&&!this.groupbyDisplayOptions.hideFooter)){_71.push(obj);_72.push(obj.type);}if(!_75[_78]){_75[_78]={};}_75[_78][obj.type]=obj;}else{_71.push(_77);_72.push(_74);_74++;}}this.groupbyInfo=_75;if(this._dataList){this._dataList.filteredRowIndexArr=_71;}this.filteredRowIndexArr=_71;this.groupbyStatus.groupedRowIndexArr=_71;this.rowNumArr=_72;this.lastTopRowIndex=null;this.rowIndex=0;this.setScrollYHeight();this.notifyDataChanged();this.drawFooter();this.drawHeader();if(this.options.groupbyZoneMessage){this.hideGroupbyZoneMessage();}if(this.options.groupbyZone){this.syncWithGroupbyZone();}var _7a=_54.length;if(!this.groupbyStatus.groupbyDepthInfoObj||_7a>this.groupbyStatus.beforeSortIndexLength){this.groupbyStatus.groupbyDepthInfoObj=this.groupbyStatus.groupbyDepthInfoObj||{};var _7b=this.getColumnID(_54[_7a-1]);}this.groupbyStatus.beforeSortIndexLength=_7a;if($W._G.isIE("8")){this.drawData(0,null,"async");}if(this.groupbyStatus.grouped){var _7c=this.getDomList("head_tds","th",this.getElementById(this.id+"_head_table"));for(var i=0;i<_7c.length;i++){var td=_7c[i];var _7e=td.getAttribute("id");if(!!_7e&&!_7e.match("RowNumber")&&!_7e.match("RowStatus")){if(td.getAttribute("useFilter")=="true"){document.getElementById(_7e+"_filter").style.display="none";}}}}if(!_52){this.groupbyStatus.FilterListAction=true;this.appendGroupbyFilter();}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ak.prototype._groupbyFromUI=function(_7f){["WebSquare.uiplugin.gridViewApiController.prototype.groupby"];try{if(this.groupbyStatus.origial_options){_7f.rowNumFooter=this.groupbyStatus.origial_options.rowNumFooter;_7f.rowStatusFooter=this.groupbyStatus.origial_options.rowStatusFooter;_7f.groupbyFooter=this.groupbyStatus.origial_options.groupbyFooter;}this.groupby(_7f,true);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ak.prototype.clearGroupby=function(){["WebSquare.uiplugin.gridViewApiController.prototype.clearGroupby"];try{this.clearGrouping=true;var _80=this.groupbyStatus.origial_options;this.groupbyStatus={};this.groupbyStatus.origial_options=_80;this.groupbyZoneStatus.beforeOpenedColIndex=null;this.groupbyZoneStatus.beforeOpenedColTagName=null;this.groupbyZoneStatus.clickedHeaderInfo=null;this.groupbyDisplayOptions=null;this.dataList.clearFilter();this.clearHeaderSort();this.clearGroupbyZone();if($W._G.isIE("8")){this.drawData(0,null,"async");}if(this.options.groupbyZoneMessage){this.showGroupbyZoneMessage();}if(this.groupbyFilterList&&this.groupbyFilterScrollView){this.hideGroupbyFilterList();}this.clearGrouping=false;var _81=this.getDomList("head_tds","th",this.getElementById(this.id+"_head_table"));for(var i=0;i<_81.length;i++){var td=_81[i];var _84=td.getAttribute("id");if(!!_84&&!_84.match("RowNumber")&&!_84.match("RowStatus")){if(td.getAttribute("useFilter")=="true"){document.getElementById(_84+"_filter").style.display="";}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ak.prototype.toggleGroup=function(_85){if(!this.groupbyInfo[_85]){return;}var _86=this.groupbyInfo[_85].header;if(typeof _86!="number"&&this.dataList.getRealRowIndex(_86.index)==_86){if(_86.status=="open"){this._foldRow(_86);}else{this._unfoldRow(_86);}this.lastTopRowIndex=null;this.setScrollYHeight();if(_86.status=="open"){this.notifyRowInserted(_86.index);}else{this.notifyRowChanged(_86.index);}this.removeFocusedCell();this.drawFooter();}};$W._a.ak.prototype._foldRow=function(_87){if(_87.status=="open"){_87.status="closed";if(this.groupbyDisplayOptions.hideFooter){var _88;for(var i=_87.index+1;i<this.rowNumArr.length;i++){if(this.rowNumArr[i]=="header"){break;}else{_88=i;}}_87.closedChildArr=this.groupbyStatus.groupedRowIndexArr.splice(_87.index+1,_88-_87.index);}else{var _8a=this.groupbyInfo[_87.groupId].footer;_87.closedChildArr=this.groupbyStatus.groupedRowIndexArr.splice(_87.index+1,_8a.index-_87.index-1);}var _8b=[];var _8c=_87.closedChildArr.slice(0).sort();for(var i=0;i<this.groupbyStatus.groupbyRowIndexArr.length;i++){var _8d=false;var low=0;var _8f=_8c.length-1;var mid=0;var _91=this.groupbyStatus.groupbyRowIndexArr[i];while(low<=_8f){mid=Math.floor((low+_8f)/2);if(_91==_8c[mid]){_8d=true;break;}else{if(_91<_8c[mid]){_8f=mid-1;continue;}else{low=mid+1;continue;}}}if(!_8d){_8b.push(this.groupbyStatus.groupbyRowIndexArr[i]);}}this.groupbyStatus.groupbyRowIndexArr=_8b;var len=this.groupbyStatus.groupedRowIndexArr.length;var _93=0;this.rowNumArr=[];for(var i=0;i<len;i++){if(typeof this.groupbyStatus.groupedRowIndexArr[i]=="number"){this.rowNumArr.push(_93++);}else{this.groupbyInfo[this.groupbyStatus.groupedRowIndexArr[i].groupId][this.groupbyStatus.groupedRowIndexArr[i].type].index=this.rowNumArr.length;this.rowNumArr.push(this.groupbyStatus.groupedRowIndexArr[i].type);}}}};$W._a.ak.prototype._unfoldRow=function(_94){if(_94.status=="closed"){_94.status="open";_94.closedChildArr.unshift(_94.index+1,0);[].splice.apply(this.groupbyStatus.groupedRowIndexArr,_94.closedChildArr);_94.closedChildArr=[];var _95=0;this.rowNumArr=[];this.groupbyStatus.groupbyRowIndexArr=[];for(var i=0;i<this.groupbyStatus.groupedRowIndexArr.length;i++){if(typeof this.groupbyStatus.groupedRowIndexArr[i]=="number"){this.rowNumArr.push(_95++);this.groupbyStatus.groupbyRowIndexArr.push(this.groupbyStatus.groupedRowIndexArr[i]);}else{this.groupbyInfo[this.groupbyStatus.groupedRowIndexArr[i].groupId][this.groupbyStatus.groupedRowIndexArr[i].type].index=this.rowNumArr.length;this.rowNumArr.push(this.groupbyStatus.groupedRowIndexArr[i].type);}}}};$W._a.ak.prototype.foldAll=function(){for(var _97 in this.groupbyInfo){var _98=this.groupbyInfo[_97].header;if(_98.status=="open"&&_98.depth==0){this._foldRow(_98);}}this.lastTopRowIndex=null;this.notifyDataChanged({keepTop:true});if(this.getDataLength()==0){this.removeFocusedCell();}this.setScrollYHeight();this.drawFooter();this.drawHeader();};$W._a.ak.prototype.unfoldAll=function(){for(var i=0;i<this.groupbyStatus.groupedRowIndexArr.length;i++){var _9a=this.groupbyStatus.groupedRowIndexArr[i];if(typeof _9a!="number"&&_9a.type=="header"&&_9a.status=="closed"){this._unfoldRow(_9a);}}this.lastTopRowIndex=null;this.notifyDataChanged({keepTop:true});if(this.getDataLength()==0){this.removeFocusedCell();}this.setScrollYHeight();this.drawFooter();this.drawHeader();};$W._a.ak.prototype.drawGroupData=function(td,_9c,_9d){var _9e=td;var _9f=_9d*this.realRowDataLength;var _a0=this.realRowDataLength;var _a1;var _a2;var _a3;var _a4;if(_9c.type=="header"){_a2=this.groupbyDisplayOptions.rowNumHeader;_a3=this.groupbyDisplayOptions.rowStatusHeader;_a4=this.groupbyDisplayOptions.groupbyHeader;}else{if(_9c.type=="footer"){_a2=this.groupbyDisplayOptions.rowNumFooter;_a3=this.groupbyDisplayOptions.rowStatusFooter;_a4=this.groupbyDisplayOptions.groupbyFooter;}else{td.innerHTML="";return;}}if(this.options.rowNumVisible){this._drawGroupData(_9e,_9c,_a2);if(!_a2.hidden){_a0-=(_a2.colSpan||1);}_9f++;_9e=this.all_data_td_list[_9f];}if(this.options.rowStatusVisible){this._drawGroupData(_9e,_9c,_a3);if(!_a3.hidden){_a0-=(_a3.colSpan||1);}_9f++;_9e=this.all_data_td_list[_9f];}var _a5={};for(var i=0;i<_a0;i++){if(_a5["domIndex_"+_9f]){continue;}_9f++;var _a7;if(_a4 instanceof Array){_a7=_a4[i]||{};}else{if(_a4 instanceof Object&&typeof _a4=="object"){_a7=_a4["depth_"+_9c.depth][i]||{};}}if(Number(_a7.targetIndex)>-1){var _a8=_9d*this.realRowDataLength+_a7.targetIndex;_a5["domIndex_"+_a8]=true;this._drawGroupData(this.all_data_td_list[_a8],_9c,_a7);}else{this._drawGroupData(_9e,_9c,_a7);}_9e=this.all_data_td_list[_9f];}};$W._a.ak.prototype._drawGroupData=function(_a9,_aa,_ab){["WebSquare.uiplugin.gridViewApiController.prototype._drawGroupData"];try{var _ac=_ab["className"]||"";var _ad="gridBodyDefault w2grid_groupby w2grid_groupby_depth_"+_aa.depth+" "+_ac;_a9.className=_ad;_a9.innerHTML="";var _ae="&nbsp;&nbsp;";var _af=_ab.colSpan||1;var _b0=_ab.value||"";var _b1=_ab.inputType||"";var _b2=_ab.depthVisible||false;var _b3=_ab.align||"";var _b4=_ab.expression||"";var _af=_ab.colSpan||1;var _b5=_ab.hidden?"none":"";var _b6=_ab.displayFormatType||"text";var _b7=_ab.displayFormat||"";var _b8=_ab.displayFormatter||null;var _b9;_a9.setAttribute("colSpan",_af);_a9.style.align="";_a9.style.textAlign="";_a9.style.display=_b5;_a9.style.borderTopWidth="1px";_a9.style.borderBottomWidth="1px";if(_b1){if(_b7||_b8){_b9=new $W._C.createFormatter(_b6,_b7,_b8,null,null,null,this.scope_id);}switch(_b1){case "toggleButton":var _ba=_aa.status=="open"?"w2grid_minus":"w2grid_plus";var _bb="<span class='"+_ba+"' style='display:inline-block;"+(_b3?"float:"+_b3+";":"")+" margin-left:"+(_aa.depth*20)+"px;'></span>";_a9.innerHTML+=_bb;break;case "expression":if(_b4){var _bc=this.groupbyInfo[_aa.groupId].header;_bc.colID=_a9.getAttribute("col_id");var _bd=0;if(_bc.status=="open"){var _be;var _bf=true;var _c0=0;var _c1=0;for(var i=_bc.index;i<this.groupbyStatus.groupedRowIndexArr.length;i++){var _c3=this.groupbyStatus.groupedRowIndexArr[i];if(this.groupbyDisplayOptions.hideFooter&&_bf){_bf=false;for(var j=i+1;j<this.groupbyStatus.groupedRowIndexArr.length;j++){var _c5=this.groupbyStatus.groupedRowIndexArr[j];if(_c5.type=="header"){break;}else{_c0=j;}}}if(this.groupbyDisplayOptions.hideFooter){if(i>=_c0){_be=i;break;}}else{if(_c3.type=="footer"&&_c3.depth==_bc.depth){_be=_c3.index;break;}}}_bd=this.groupExpression(this.groupbyStatus.groupedRowIndexArr,_bc.index,_be,_b4,_bc);}else{_bd=this.groupExpression(_bc.closedChildArr,0,_bc.closedChildArr.length-1,_b4,_bc);}if(_b9){_bd=_b9.format(_bd);}var _c6="<span style='display:inline-block;"+(_b3?"float:"+_b3+";":"")+"''>"+_bd+"</span>";_a9.innerHTML+=_c6;}default:break;}}if(_b2){var _c7="";if(_b1!="toggleButton"){_c7="margin-left: "+(_aa.depth*20)+"px";}_a9.innerHTML+="<span style='display:inline-block;"+(_b3?"float:"+_b3+";":"")+" "+(_c7?_c7:"")+"'>"+_aa.groupId.wq_replaceAll(this.groupbyStatus.groupbyDepthDelimiter," - ")+"</span>";}if(_b0){if(_b9){_b0=_b9.format(_b0);}_a9.innerHTML+="<span style='display:inline-block;"+(_b3?"float:"+_b3+";":"")+"'>"+_b0+"</span>";}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ak.prototype.groupExpression=function(obfuscator_arr,obfuscator_startIndex,obfuscator_endIndex,obfuscator_expression,obfuscator_header){["WebSquare.uiplugin.gridViewApiController.prototype.groupExpression"];try{var str=obfuscator_expression;str=str.replace(/[sS][uU][mM][\s]*[(]/g,"this.groupbySum(obfuscator_arr, obfuscator_startIndex, obfuscator_endIndex,");str=str.replace(/[aA][vV][gG][\s]*[(]/g,"this.groupbyAvg(obfuscator_arr, obfuscator_startIndex, obfuscator_endIndex,");str=str.replace(/[mM][aA][xX][\s]*[(]/g,"this.groupbyMax(obfuscator_arr, obfuscator_startIndex, obfuscator_endIndex,");str=str.replace(/[mM][iI][nN][\s]*[(]/g,"this.groupbyMin(obfuscator_arr, obfuscator_startIndex, obfuscator_endIndex,");str=str.replace(/[cC][oO][uU][nN][tT][\s]*[(]/g,"this.groupbyCount(obfuscator_arr, obfuscator_startIndex, obfuscator_endIndex");str=str.replace(/[dD][eE][pP][tT][hH][\s]*[(]/g,"this.groupbyDepth(obfuscator_header");str=str.replace(/[tT][oO][gG][gG][lL][eE][\s]*[(]/g,"this.groupbyToggle(obfuscator_header");str=str.replace(/[dD][eE][pP][tT][hH][sS][tT][rR][\s]*[(]/g,"this.groupbyDepthStr(obfuscator_header");str=eval(str);return str;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ak.prototype.groupbySum=function(arr,_ca,_cb,_cc){["WebSquare.uiplugin.gridViewApiController.prototype.groupbySum"];var _cd=this.getColumnIndex(_cc);var sum=0;for(var i=_ca;i<=_cb;i++){if(typeof arr[i]=="number"){sum+=parseInt(this.dataList.getCellData(arr[i],this.getColumnID(_cd),3),10)||0;}else{if(arr[i].type=="header"&&arr[i].status=="closed"){sum+=this.groupbySum(arr[i].closedChildArr,0,arr[i].closedChildArr.length-1,_cc);}}}return sum;};$W._a.ak.prototype.groupbyAvg=function(arr,_d1,_d2,_d3){["WebSquare.uiplugin.gridViewApiController.prototype.groupbyAvg"];var _d4=this._groupbyAvg(arr,_d1,_d2,_d3);return _d4.sum/_d4.number;};$W._a.ak.prototype._groupbyAvg=function(arr,_d6,_d7,_d8){["WebSquare.uiplugin.gridViewApiController.prototype._groupbyAvg"];var _d9=this.getColumnIndex(_d8);var _da={};_da.sum=0;_da.number=0;for(var i=_d6;i<=_d7;i++){if(typeof arr[i]=="number"){_da.sum+=parseInt(this.dataList.getCellData(arr[i],this.getColumnID(_d9),3),10)||0;_da.number++;}else{if(arr[i].type=="header"&&arr[i].status=="closed"){var _dc=this._groupbyAvg(arr[i].closedChildArr,0,arr[i].closedChildArr.length-1,_d8);_da.sum+=_dc.sum;_da.number+=_dc.number;}}}return _da;};$W._a.ak.prototype.groupbyMax=function(arr,_de,_df,_e0){["WebSquare.uiplugin.gridViewApiController.prototype.groupbyMax"];var _e1=this.getColumnIndex(_e0);var tmp=0;var max=0;var _e4=false;for(var i=_de;i<=_df;i++){if(typeof arr[i]=="number"){tmp=parseInt(this.dataList.getCellData(arr[i],this.getColumnID(_e1),3),10)||0;}else{if(arr[i].type=="header"&&arr[i].status=="closed"){tmp=this.groupbyMax(arr[i].closedChildArr,0,arr[i].closedChildArr.length-1,_e0);}}if(!_e4){max=_e4=tmp;}if(_e4&&max<tmp){max=tmp;}}return max;};$W._a.ak.prototype.groupbyMin=function(arr,_e7,_e8,_e9){["WebSquare.uiplugin.gridViewApiController.prototype.groupbyMin"];var _ea=this.getColumnIndex(_e9);var tmp=0;var min;var _ed=false;for(var i=_e7;i<=_e8;i++){if(typeof arr[i]=="number"){tmp=parseInt(this.dataList.getCellData(arr[i],this.getColumnID(_ea),3),10)||0;}else{if(arr[i].type=="header"&&arr[i].status=="closed"){tmp=this.groupbyMin(arr[i].closedChildArr,0,arr[i].closedChildArr.length-1,_e9);}}if(!_ed){min=_ed=tmp;}if(_ed&&min>tmp){min=tmp;}}return min;};$W._a.ak.prototype.groupbyToggle=function(_ef){["WebSquare.uiplugin.gridViewApiController.prototype.groupbyToggle"];var _f0=_ef.status=="open"?"w2grid_minus":"w2grid_plus";var _f1="<span class='"+_f0+"' style='display:inline-block; margin-left:"+(_ef.depth*20)+"px;'></span>";return _f1;};$W._a.ak.prototype.groupbyDepth=function(_f2){["WebSquare.uiplugin.gridViewApiController.prototype.groupbyDepth"];return _f2.depth;};$W._a.ak.prototype.groupbyDepthStr=function(_f3){["WebSquare.uiplugin.gridViewApiController.prototype.groupbyDepthStr"];var _f4=_f3.groupId.wq_replaceAll(this.groupbyStatus.groupbyDepthDelimiter," - ");var _f5=false;var _f6=_f4.split(" - ");for(var i=0;i<this.groupbyStatus.sortIndexArr.length;i++){var _f8=this.getCellInfo(this.groupbyStatus.sortIndexArr[i]);if(_f8.options.groupbyDepthStrLabel=="true"){try{_f5=true;var _f9=_f6[i];if(_f8.dataComp){var _fa=$W._G.getComponentById(_f8.dataComp);if(_fa){var _fb;var _fc;if(_f8.element){var _fd=_f8.element.tagName.split(":")[0];var _fe=(_fd=="xf")?$W._N._XML_NAMESPACE.XFORMS:$W._N._XML_NAMESPACE.W2;var _ff=$W._B.findNode(_f8.element,"*['"+"choices"+"'=local-name()]['"+_fe+"'=namespace-uri()]");if(_ff){var _100=$W._B.findNode(_ff,"*['"+"itemset"+"'=local-name()]['"+$W._N._XML_NAMESPACE.W2+"'=namespace-uri()]");if(_100){var _101=$W._B.findNode(_100,"*['"+"label"+"'=local-name()]['"+$W._N._XML_NAMESPACE.W2+"'=namespace-uri()]");var _102=$W._B.findNode(_100,"*['"+"value"+"'=local-name()]['"+$W._N._XML_NAMESPACE.W2+"'=namespace-uri()]");_fb=_101.getAttribute("ref");_fc=_102.getAttribute("ref");}}}var _103=_fa.getAllJSON();for(var j=0;j<_103.length;j++){var temp=_103[j];if(_f9==temp[_fc]){_f6[i]=temp[_fb];break;}}}}else{for(var j=0;j<_f8.itemArr.length;j++){if(_f9==_f8.itemArr[j].value){_f6[i]=_f8.itemArr[j].label;break;}}}}catch(e){break;}}}if(_f5){_f4=_f6.join(" - ");}return _f4;};$W._a.ak.prototype.groupbyCount=function(arr,_107,_108){["WebSquare.uiplugin.gridViewApiController.prototype.groupbyCount"];var _109=0;for(var i=_107;i<=_108&&i<arr.length;i++){if(typeof arr[i]=="number"){_109++;}else{if(arr[i].type=="header"&&arr[i].status=="closed"&&!this.groupbyDisplayOptions.hideFooter){_109+=this.groupbyCount(arr[i].closedChildArr,0,arr[i].closedChildArr.length-1);}}}return _109;};$W._a.ak.prototype.setCellOption=function(row,col,key,_10e){["WebSquare.uiplugin.gridViewApiController.prototype.setCellOption"];var data=this.getExtraDataObj("cell",row,col);switch(key){case "viewType":data.key=_10e;if(this.rowIndex>=0){this.drawCellData(row-this.rowIndex,row,col);}break;default:var _110=$W._m.getMessage("Grid_warning4",this.id,key)||"["+this.id+"] "+key+"\uc5d0 \ub300\ud55c \ubcc0\uacbd\uc740 \ucc98\ub9ac\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.";$l(_110);break;}};$W._a.ak.prototype.getCellOption=function(row,col,key){["WebSquare.uiplugin.gridViewApiController.prototype.getCellOption"];var data=this.getExtraDataObj("cell",row,col);if(data.key==null){return this.getCellInfo(col).options[key];}else{return data.key;}};$W._a.ak.prototype.ungroupColumn=function(_115){["WebSquare.uiplugin.gridViewApiController.prototype.ungroupColumn"];try{if(this.groupbyStatus.grouped){var _116;if(typeof _115=="string"){_116=this.getColumnIndex(_115);}else{if(typeof _115=="number"){_116=_115;}}var _117=true;for(var i=0;i<this.groupbyStatus.sortIndexArr.length;i++){if(this.groupbyStatus.sortIndexArr[i]==_116){this.groupbyStatus.sortIndexArr.splice(i,1);this.groupbyStatus.sortOrderArr.splice(i,1);delete this.groupbyStatus.groupbyDepthInfoObj[this.getColumnID(_116)];delete this.groupbyStatus.filter[this.getColumnID(_116)];delete this.customFilterStatusObj[this.getHeaderID(_116)];this._dataList.removeColumnFilter(this.getColumnID(_116));_117=false;break;}}if(_117){return;}if(this.groupbyStatus.sortIndexArr.length==0){this.clearGroupby();}else{var _119=this.groupbyDisplayOptions;if(this.groupbyStatus.filter){_119.filter={};for(var _11a in this.groupbyStatus.filter){if(this.getColumnIndex(_11a)!=undefined){_119.filter[_11a]=this.groupbyStatus.filter[_11a];}}}else{_119.filter=null;}_119.sortIndex=this.groupbyStatus.sortIndexArr;_119.sortOrder=this.groupbyStatus.sortOrderArr;this._groupbyFromUI(_119);}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ak.prototype.changeGroupDepth=function(_11b,_11c){["WebSquare.uiplugin.gridViewApiController.prototype.changeGroupDepth"];try{if(this.groupbyStatus.grouped){var _11d;if(typeof _11b=="string"){_11d=this.getColumnIndex(_11b);}else{if(typeof _11b=="number"){_11d=_11b;}}var _11e;if(typeof _11c=="string"){_11e=this.getColumnIndex(_11c);}else{if(typeof _11c=="number"){_11e=_11c;}}var _11f;var _120;for(var i=0;i<this.groupbyStatus.sortIndexArr.length;i++){if(this.groupbyStatus.sortIndexArr[i]==_11d){_120=i;}if(this.groupbyStatus.sortIndexArr[i]==_11e){_11f=i;}}if(typeof _120!="number"||typeof _11f!="number"||_120==_11f){return;}this.groupbyStatus.sortIndexArr.splice(_120,1);this.groupbyStatus.sortIndexArr.splice(_11f,0,_11d);var _122=this.groupbyStatus.sortOrderArr.splice(_120,1);this.groupbyStatus.sortOrderArr.splice(_11f,0,_122);var _123=this.groupbyDisplayOptions;_123.filter=this.groupbyStatus.filter;_123.sortIndex=this.groupbyStatus.sortIndexArr;_123.sortOrder=this.groupbyStatus.sortOrderArr;this._groupbyFromUI(_123);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ak.prototype.removeGroupbyFilterList=function(){["WebSquare.uiplugin.gridViewApiController.prototype.removeGroupbyFilterList"];try{if(this.groupbyFilterList&&this.groupbyFilterScrollView){this.groupbyFilterList.remove();this.groupbyFilterScrollView.remove();}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ak.prototype.createGroupbyDepthInfo=function(_124){["WebSquare.uiplugin.gridViewApiController.prototype.createGroupbyDepthInfo"];try{var _125=[];var _126=this._dataList.getColCnt();var _127=this._dataList.dataArr;var _128=_127.length/_126;var _129=[];var _12a={};for(var i=0;i<_128;i++){var v=_127[i*_126+_124];if(v==undefined){break;}var sv=v.toString();if(!_12a.hasOwnProperty(sv)){_12a[sv]=true;_129.push(v);}}_129=_129.sort(function(a,b){return a-b;});for(var i=0;i<_129.length;i++){var _130=_129[i];_125.push({value:_130,label:_130});}return _125;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ak.prototype.createGroupbyDepthInfoLabel=function(_131){["WebSquare.uiplugin.gridViewApiController.prototype.createGroupbyDepthInfoLabel"];try{var _132=[];var _133=this._dataList.getColCnt();var _134=this._dataList.dataArr;var _135=_134.length/_133;var _136=[];var _137={};for(var i=0;i<_135;i++){var v=_134[i*_133+_131];if(v==undefined){break;}var sv=v.toString();if(!_137.hasOwnProperty(sv)){_137[sv]=true;_136.push(v);}}_136=_136.sort(function(a,b){return a-b;});var _13d=this.changeItemValue("label",this.getColumnID(_131),_136.slice(0));for(var i=0;i<_136.length;i++){var _13e=_136[i];var _13f=_13d[i];_132.push({value:_13e,label:_13f});}return _132;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ak.prototype.isEditing=function(){["WebSquare.uiplugin.gridViewApiController.prototype.isEditing"];try{return !!this.editedCell;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ak.prototype.readExcelFile=function(_140,_141,_142,_143,_144,_145,_146,type){["WebSquare.uiplugin.gridViewApiController.prototype.readExcelFile"];this.readFile(_140,_141,_142,_143,_144,"excel",null,_145,_146,type);};$W._a.ak.prototype.readFile=function(_148,_149,_14a,_14b,_14c,_14d,_14e,_14f,_150,type){["WebSquare.uiplugin.gridViewApiController.prototype.readExcelFile"];if(typeof _14b=="undefined"||typeof _14b!="string"){_14b=this.options.excelUploadPopupURL;}else{_14b=$W._N.getURL(_14b);}if(typeof _14c=="undefined"||typeof _14c!="string"){_14c="top=280,height=80,left=160,width=400,location=no,menubar=no,resizable=yes,scrollbars=auto,status=no,titlebar=yes,toolbar=no";}_148=parseInt(_148,10);_149=parseInt(_149,10);_14a=parseInt(_14a,10);if(_148==1){_14b+="?header=true";}else{_14b+="?header=false";}if(_149==1){_14b+="&append=true";}else{_14b+="&append=false";}if(_14f==1){_14b+="&fillHidden=true";}else{_14b+="&fillHidden=false";}if(_14a==1){_14b+="&hidden=true";}else{_14b+="&hidden=false";}type=type||0;if(type==1){_14b+="&type=true";}else{_14b+="&type=false";}if(_14e){_14b+="&"+_14e;}if(_14d=="excel"){_14b+="&action="+this.options.excelUploadURL;}else{_14b+="&action="+this.options.excelUploadURL;}_14b+="&gridID="+this.id;var _152=[];for(var i=this.defaultColCnt;i<this.hiddenList.length;i++){if(this.hiddenList[i]==true){_152.push(i-this.defaultColCnt);}}_14b+="&columnNum="+this.getTotalCol();_14b+="&expressionColumns="+this.getExpressionColumnArr().join(",");_14b+="&hiddenColumns="+_152.join(",");_14b+="&headerRows="+this.getElementById(this.id+"_head_table").rows.length;if(_150){_14b+="&gridStartRow="+_150;}else{_14b+="&gridStartRow=1";}if($W.domain){_14b+="&domain="+$W._A.URLEncoder($W.domain);}var _154=window.open(_14b,"fileupWindow",_14c);};$W._a.ak.prototype.getExpressionColumnArr=function(){var _155=[];for(var i=0;i<this.getTotalCol();i++){if(this.getCellInfo(i).options.inputType=="expression"){_155.push("true");}else{_155.push("false");}}return _155;};$W._a.ak.prototype.saveExcelFile=function(_157,_158,_159,type,_15b,_15c,_15d){["WebSquare.uiplugin.gridViewApiController.prototype.saveExcelFile"];var _15e={};_15e.fileName=_157;_15e.hidden=_158;_15e.checkButton=_159;_15e.type=type;_15e.hiddenExpand=_15b;_15e.saveList=_15c;_15e.useEuroLocale=_15d;this.saveExcel(_15e);};$W._a.ak.prototype.saveExcel=function(_15f){["WebSquare.uiplugin.gridViewApiController.prototype.saveExcel"];var _160=_15f.processMsg;if(_160&&_160.length>0){$W.layer.showProcessMessage(_160);}else{$W.layer.showProcessMessage("download...");}var _161=_15f.fileName||"default";var _162=_15f.hidden||0;var _163=_15f.checkButton||0;var type=_15f.type+""||"0";var _165=_15f.hiddenExpand||0;var _166=_15f.saveList||[];var _167=_15f.useEuroLocale||"false";var _168=_15f.password||"";var hash=new $W._q.Hashtable();var _16a=$W._B.getElementsByTagName(this.element,"w2:header");var _16b=_16a[0];var _16c=$W._B.getElementsByTagName(_16b,"w2:column");for(var i=0;i<_16c.length;i++){var col=_16c[i];var _16f=col.getAttribute("id");col.setAttribute("value",this.getHeaderValue(_16f));}hash.put("style",$W._B.serialize(this.element));if(type=="0"||type==""){hash.put("data",this.getExcelAllXML());hash.put("footer_data",this.getExcelAllFooterXML());}else{if(type=="2"){var _170=this.getExcelAllXMLRaw();hash.put("data",_170);hash.put("footer_data",this.getExcelAllFooterXMLRaw());}else{var _170=this.getExcelAllXMLDisplay(type);hash.put("data",_170);hash.put("footer_data",this.getExcelAllFooterXMLDisplay());}}var _171=[];for(var i=0;i<this.getTotalCol();i++){var _172=this.getCellInfo(i).options.inputType;if(_172=="checkbox"||_172=="radio"||_172=="button"){_171.push("\""+i+"\"");}}hash.put("hiddenArr",this.getHiddenColumnArr());hash.put("fileName",_161);hash.put("hidden",_162);hash.put("checkButton",_163);hash.put("type",type);hash.put("rowNumVisible",this.options.rowNumVisible+"");hash.put("rowNumHeaderValue",this.options.rowNumHeaderValue);hash.put("hiddenExpand",_165);hash.put("checkButtonArr","<array><![CDATA[["+_171.join(",")+"]]]></array>");if(typeof _166!="undefined"&&_166){hash.put("saveList","<array><![CDATA[[\""+_166.join("\",\"")+"\"]]]></array>");}hash.put("useEuroLocale",_167);hash.put("password",_168);$W._N.excelDownload(this.options.excelDownloadURL,hash.toString(),"post");};$W._a.ak.prototype.saveExcelFile2=function(_173,_174,_175,type,_177,_178){["WebSquare.uiplugin.gridViewApiController.prototype.saveExcelFile2"];var _179={};_179.fileName=_173;_179.type=type;if(_174+""=="0"){var _17a=[];for(var i=this.defaultColCnt;i<this.hiddenList.length;i++){if(this.hiddenList[i]){_17a.push(i-this.defaultColCnt);}}_179.removeColumns=_17a.join(",");}var _17c=[];if(_175+""=="0"){for(var i=0;i<this.getTotalCol();i++){var _17d=this.getCellInfo(i).options.inputType;if(_17d=="checkbox"||_17d=="radio"||_17d=="button"){_17c.push(this.getCellInfo(i).options.colIndex-this.defaultColCnt);}}}for(var i=this.defaultColCnt;i<this.hiddenList.length;i++){if(_174+""=="1"&&_177+""=="0"&&this.hiddenList[i]==true){_17c.push(i-this.defaultColCnt);}}_179.foldColumns=_17c.join(",");this.advancedExcelDownload(_179);};$W._a.ak.prototype.getHiddenColumnArr=function(){var _17e=[];for(var i=this.defaultColCnt;i<this.hiddenList.length;i++){_17e.push(this.hiddenList[i]);}return "<array><![CDATA[[\""+_17e.join("\",\"")+"\"]]]></array>";};$W._a.ak.prototype.fireFileReadEnd=function(_180){var _181=this;setTimeout(function(){$W._c.fireEvent(_181,"onfilereadend",_180);},10);};$W._a.ak.prototype.readCSV=function(_182){["WebSquare.uiplugin.gridViewApiController.prototype.readCSV"];var _182=_182||{};var type=_182.type||"1";var _184=_182.delim||",";var _185=_182.escapeChar||"";var _186=_182.header||"1";var _187=_182.footer||"1";var _188=_182.startRowIndex||"0";var _189=_182.startColumnIndex||"0";var _18a=_182.append||"0";var _18b=_182.hidden||"0";var _18c=_182.fillHidden||"0";var _18d=_182.skipSpace||"0";var _18e=_182.removeColumns||"";var _18f=_182.optionParam||"";var _190=_182.popupUrl||this.options.csvUploadPopupURL;var _191=_182.processMsg||"";var _192="";if(this.options.dataList){var _193=this.modelControl.getDataComp(this.options.dataList);if(_193!=null){_192=_193.id;}}var _194=_182.expression||"1";var _195=_182.maxFileSize||-1;if(typeof sFeatures=="undefined"||typeof sFeatures!="string"){sFeatures="top=280,height=137,left=160,width=446,location=no,menubar=no,resizable=yes,scrollbars=auto,status=no,titlebar=yes,toolbar=no";}_186=parseInt(_186,10);_18a=parseInt(_18a,10);_18b=parseInt(_18b,10);type=type||0;if(type==1){_190+="?type=true&uploadType="+type;}else{_190+="?type=false&uploadType="+type;}_190+="&delim="+_184;_190+="&escapeChar="+_185;if(_186==1){_190+="&header=true";}else{_190+="&header=false";}if(_187==1){_190+="&footer=true";}else{_190+="&footer=false";}if(_18a==1){_190+="&append=true";}else{_190+="&append=false";}if(_18b==1){_190+="&hidden=true";}else{_190+="&hidden=false";}if(_18c==1){_190+="&fillHidden=true";}else{_190+="&fillHidden=false";}if(_18d==1){_190+="&skipSpace=true";}else{_190+="&skipSpace=false";}_190+="&removeColumns="+_18e;_190+="&optionParam="+_18f;_190+="&gridID="+this.id;var _196=[];for(var i=this.defaultColCnt;i<this.hiddenList.length;i++){if(this.hiddenList[i]==true){_196.push(i-this.defaultColCnt);}}_190+="&columnNum="+this.getTotalCol();_190+="&expressionColumns="+this.getExpressionColumnArr().join(",");_190+="&hiddenColumns="+_196.join(",");_190+="&headerRows="+this.getElementById(this.id+"_head_table").rows.length;if(_188){_190+="&gridStartRow="+_188;}else{_190+="&gridStartRow=1";}if(_189){_190+="&gridStartCol="+_189;}else{_190+="&gridStartCol=1";}if($W.domain){_190+="&domain="+$W._A.URLEncoder($W.domain);}_190+="&action="+this.options.csvUploadURL;_190+="&processMsg="+$W._A.BASE64URLEncoder(_191);_190+="&dataList="+_192;_190+="&columnIds="+this.cellIdList.join(",");if(_194==1){_190+="&expression=false";}else{_190+="&expression=true";}_190+="&maxFileSize="+_195;var _198=window.open(_190,"csvupWindow",sFeatures);};$W._a.ak.prototype.saveCSV=function(_199){["WebSquare.uiplugin.gridViewApiController.prototype.saveCSV"];$W.layer.showProcessMessage("download...");var _199=_199||{};var _19a=_199.fileName||"csvfile.csv";var type=_199.type||"1";var _19c=_199.delim||";";var _19d=_199.displayDelim||"true";var _19e=_199.removeColumns||"";var _19f=_199.header||"1";var _1a0=_199.hidden||"0";var _1a1=_199.checkButton||"1";var _1a2=_199.removeQuotation||"1";var _1a3=_199.saveList||"";var _1a4=this.options.rowNumHeaderValue||"";var _1a5="";if(_199.rowNumVisible=="1"||_199.rowNumVisible=="true"||_199.rowNumVisible==true){_1a5=this.options.rowNumVisible||"false";}var _1a6=_199.textTable||"false";var _1a7=_199.textTableAlign||"right";var _1a8=_199.useFooter||"false";var _1a9=((_199.columnMove+"")=="true")?true:false;var _1aa=_199.columnOrder||"";var _1ab=_199.optionParam||"";var hash=new $W._q.Hashtable();hash.put("style",$W._B.serialize(this.element));if(type=="0"){hash.put("data",this.getExcelAllXML());if(_1a8=="true"){hash.put("footer_data",this.getExcelAllFooterXML());}else{hash.put("footer_data","<array><![CDATA[[]]]></array>");}}else{hash.put("data",this.getExcelAllXMLDisplay(type));if(_1a8=="true"){hash.put("footer_data",this.getExcelAllFooterXMLDisplay());}else{hash.put("footer_data","<array><![CDATA[[]]]></array>");}}var _1ad=[];for(var i=0;i<this.getTotalCol();i++){var _1af=this.getCellInfo(i).options.inputType;if(_1af=="checkbox"||_1af=="radio"||_1af=="button"){_1ad.push("\""+i+"\"");}}var _1b0;if(_1a9){if(_1aa==""){_1b0=this.getColumnOrder()||"";}else{_1b0=_1aa.split(",");}}var _1b1=[];if(_19e!=""){_19e=_19e+"";var _1b2=_19e.split(",");if(_1a9){for(var i=0;i<_1b2.length;i++){for(var j=0;j<_1b0.length;j++){if(_1b2[i]==_1b0[j]){_1b1.push(j);}}}}else{_1b1=_1b2;}_1b1.sort(function(a,b){return ((a*1)-(b*1));});_19e=_1b1.join(",");}var _1b6=_19e;_1b6="\""+_1b6.wq_replaceAll(",","\",\"")+"\"";hash.put("hiddenArr",this.getHiddenColumnArr());hash.put("fileName",_19a);hash.put("hidden",_1a0);hash.put("checkButton",_1a1);hash.put("type",type);hash.put("rowNumVisible",_1a5);hash.put("rowNumHeaderValue",_1a4);hash.put("removeQuotation",_1a2);hash.put("delim",_19c);hash.put("displayDelim",_19d);hash.put("header",_19f);hash.put("textTable",_1a6);hash.put("textTableAlign",_1a7);hash.put("useFooter",_1a8);hash.put("columnMove",_1a9);hash.put("columnOrder",_1b0);hash.put("optionParam",_1ab);hash.put("checkButtonArr","<array><![CDATA[["+_1ad.join(",")+"]]]></array>");if(_1a3!=""){hash.put("saveList","<array><![CDATA[[\""+_1a3.join("\",\"")+"\"]]]></array>");}hash.put("removeColumns","<array><![CDATA[["+_1b6+"]]]></array>");$W._N.excelDownload(this.options.csvDownloadURL,hash.toString(),"post");};$W._a.ak.prototype.saveCSVFile=function(_1b7,_1b8,_1b9,_1ba,_1bb,_1bc,type,_1be,_1bf){["WebSquare.uiplugin.gridViewApiController.prototype.saveCSVFile"];$W.layer.showProcessMessage("download...");type+="";var hash=new $W._q.Hashtable();hash.put("style",$W._B.serialize(this.element));if(type=="0"||type==""){hash.put("data",this.getExcelAllXML());hash.put("footer_data",this.getExcelAllFooterXML());}else{hash.put("data",this.getExcelAllXMLDisplay(type));hash.put("footer_data",this.getExcelAllFooterXMLDisplay());}var _1c1=[];for(var i=0;i<this.getTotalCol();i++){var _1c3=this.getCellInfo(i).options.inputType;if(_1c3=="checkbox"||_1c3=="radio"||_1c3=="button"){_1c1.push("\""+i+"\"");}}var _1c4=_1bf||"";_1c4="\""+_1c4.wq_replaceAll(",","\",\"")+"\"";hash.put("hiddenArr",this.getHiddenColumnArr());hash.put("fileName",_1b7);hash.put("hidden",_1ba);hash.put("checkButton","1");hash.put("type",type);hash.put("rowNumVisible",this.options.rowNumVisible);hash.put("rowNumHeaderValue",this.options.rowNumHeaderValue);hash.put("removeQuotation",_1bc);hash.put("delim",_1b8);hash.put("header",_1b9);hash.put("checkButtonArr","<array><![CDATA[["+_1c1.join(",")+"]]]></array>");if(typeof _1be!="undefined"&&_1be){hash.put("saveList","<array><![CDATA[[\""+_1be.join("\",\"")+"\"]]]></array>");}hash.put("removeColumns","<array><![CDATA[["+_1c4+"]]]></array>");$W._N.excelDownload(this.options.csvDownloadURL,hash.toString(),"post");};$W._a.ak.prototype.getExcelUploadInfo=function(_1c5){["WebSquare.uiplugin.gridViewApiController.prototype.getExcelUploadInfo"];var _1c6={};var _1c5=_1c5||{};var _1c7=_1c5.fileName||"";var type=_1c5.type||"0";var _1c9="excel";var _1ca=_1c5.removeColumns||"";var _1cb=_1c5.foldColumns||"";var _1cc=_1c5.startRowIndex||"0";var _1cd=_1c5.startColumnIndex||"0";var _1ce=_1c5.endColumnIndex||"-1";var _1cf=_1c5.sheetNo||"0";var _1d0=_1c5.headerExist||"0";if(_1c5.footerExist===0){_1c5.footerExist="0";}var _1d1=_1c5.footerExist||"1";var _1d2=_1c5.append||"0";var _1d3=_1c5.hidden||"0";var _1d4=_1c5.fillHidden||"0";var _1d5=_1c5.popupUrl||this.options.advancedExcelUploadPopupURL;var _1d6=_1c5.optionParam||"";var _1d7=_1c5.skipSpace||"0";var _1d8=_1c5.insertColumns||[];var _1d9=_1c5.processMsg||"";var _1da="";if(this.options.dataList){var _1db=this.modelControl.getDataComp(this.options.dataList);if(_1db!=null){_1da=_1db.id;}}var _1dc=_1c5.status||"R";var _1dd=_1c5.delim||",";var _1de="";var sep="";var _1e0="";var pwd=_1c5.pwd||"";var _1e2=_1c5.loadingMode||"POI";var _1e3=_1c5.cellDataConvertor||"";for(var i=0;i<_1d8.length;i++){var _1e5=_1d8[i];var _1e6=_1e5.columnIndex+""||"";var _1e7=_1e5.columnValue+""||"";if(_1e6!=""){_1de=_1de+sep+_1e6+","+_1e7;sep="|";}}if(typeof _1c5.features=="undefined"||typeof _1c5.features!="string"){_1e0="top=280,height=137,left=160,width=446,location=no,menubar=no,resizable=yes,scrollbars=auto,status=no,titlebar=yes,toolbar=no";}else{_1e0=_1c5.features;}_1c6.sFeatures=_1e0;_1d0=parseInt(_1d0,10);_1d2=parseInt(_1d2,10);_1d3=parseInt(_1d3,10);_1d1=parseInt(_1d1,10);if(_1d0==1){_1c6.header="true";}else{_1c6.header="false";}if(_1d1==1){_1c6.footer="true";}else{_1c6.footer="false";}if(_1d2==1){_1c6.append="true";}else{_1c6.append="false";}_1c6.removeColumns=_1ca;if(_1d4==1){_1c6.fillHidden="true";}else{_1c6.fillHidden="false";}if(_1d3==1){_1c6.hidden="true";}else{_1c6.hidden="false";}if(type==1){_1c6.type="true";}else{_1c6.type="false";}_1c6.uploadType=type;if(_1d7==1){_1c6.skipSpace="true";}else{_1c6.skipSpace="false";}_1c6.insertColumns=_1de;_1c6.optionParam=_1d6;if(_1c9=="excel"){_1c6.action=this.options.advancedExcelUploadURL;}else{_1c6.action=this.options.advancedExcelUploadURL;}_1c6.gridID=this.id;var _1e8=[];for(var i=this.defaultColCnt;i<this.hiddenList.length;i++){if(this.hiddenList[i]==true){_1e8.push(i-this.defaultColCnt);}}_1c6.columnNum=this.getTotalCol();_1c6.expressionColumns=this.getExpressionColumnArr().join(",");_1c6.hiddenColumns=_1e8.join(",");_1c6.headerRows=this.getElementById(this.id+"_head_table").rows.length;if(_1cc){_1c6.gridStartRow=_1cc;}else{_1c6.gridStartRow="1";}if(_1cd){_1c6.gridStartCol=_1cd;}else{_1c6.gridStartCol="1";}_1c6.gridEndCol=_1ce;if(_1cf){_1c6.gridSheetNo=_1cf;}else{_1c6.gridSheetNo="0";}if($W.domain){_1c6.domain=$W._A.URLEncoder($W.domain);}_1c6.processMsg=$W._A.BASE64URLEncoder(_1d9);_1c6.delim=_1dd;_1c6.dataList=_1da;_1c6.columnIds=this.cellIdList.join(",");_1c6.status=_1dc;_1c6.pwd=pwd;_1c6.loadingMode=_1e2;_1c6.cellDataConvertor=_1e3;return _1c6;};$W._a.ak.prototype.advancedExcelUpload=function(_1e9){["WebSquare.uiplugin.gridViewApiController.prototype.advancedExcelUpload"];var _1ea=this.getExcelUploadInfo(_1e9);var _1eb=_1e9.popupUrl||this.options.advancedExcelUploadPopupURL;var _1ec="";_1eb+="?gridID="+_1ea.gridID;if($W.domain){_1eb+="&domain="+_1ea.domain;}if(_1ea.pwd!=""){_1ec=$W._A.BASE64Encoder(_1ea.pwd);}_1ea.pwd=_1ec;this._excelUploadInfo=JSON.stringify(_1ea);var _1ed=window.open(_1eb,"fileupWindow",_1ea.sFeatures);};$W._a.ak.prototype.advancedExcelDownload=function(_1ee,_1ef){["WebSquare.uiplugin.gridViewApiController.prototype.advancedExcelDownload"];try{if(this._dataList.options.depthColumn&&_1ee.spanAll=="true"){this.orgStatusArr=this.drilldown.statusArr;this.orgFilteredRowIndexArr=this._dataList.filteredRowIndexArr;this.orgShowDepth=this.showDepth;this.showDepth="9999";this.initDrilldown();}var _1f0=100;var _1f1=parseInt(_1ee.rowsByN);_1ee.rowsByN=_1f1>_1f0?_1f1:_1f0;_1ee.dataLength=this.getDataLength();_1ee.multiexcel=false;_1ee.dataProvider=_1ee.dataProvider||"";_1ee.splitProvider=_1ee.splitProvider||"";switch(_1ee.type+""){case "":case "0":_1ee.type=0;break;case "2":_1ee.type=2;break;default:_1ee.type=1;}if(_1ee.showProcess===false){$W.getBody().showModal("w2modal_gridDownload");}else{if(_1ee.showConfirm===true){_1ee.massStorage=true;window["downloadGridId"]=this.id;$W.getBody().showModal();this.showSendExcelLayer();}else{var _1f2=_1ee.processMsg;if(_1f2&&_1f2.length>0){$W.layer.showProcessMessage(_1f2);}else{$W.layer.showProcessMessage("download...");}}}if(_1ee.type===0||_1ee.type===1||_1ee.type==2){_1ee.cellInfo=[];_1ee.isPlainDataCol=[];_1ee.isSelectCol=[];_1ee.isBasicCol=[];_1ee.isExpCol=[];_1ee.isCustomCol=[];var _1f3=this.oneRowDataLength;for(var i=0;i<_1f3;i++){var _1f5=this.getCellInfo(i);var _1f6=_1f5.options.inputType;_1ee.cellInfo[i]=_1f5;_1ee.isPlainDataCol[i]=_1f6==="checkbox"||_1f6==="image"||_1f6==="radio";_1ee.isSelectCol[i]=_1f6==="select"||_1f6==="checkcombobox"||_1f6==="autoComplete";_1ee.isExpCol[i]=_1f6==="expression";_1ee.isCustomCol[i]=_1f5.useCustomFormatter;_1ee.isBasicCol[i]=!_1ee.isPlainDataCol[i]&&!_1ee.isSelectCol[i]&&!_1ee.isExpCol[i]&&!_1ee.isCustomCol[i];}}var _1f7=this;var _1f8=0;var _1f9=[];if(_1ee.multiexcel=false){this.makeExcelData(_1f8,_1f9,_1ee,_1ef);}else{var hash=this.makeExcelData(_1f8,_1f9,_1ee,_1ef);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ak.prototype.showSendExcelLayer=function(){if(typeof window["gridExceldownloadIframe"]!="undefined"){window["gridExceldownloadIframe"].style.visibility="hidden";window["gridExceldownloadIframe"].style.display="block";var nTop=$W.document.documentElement.scrollTop+$W.document.documentElement.clientHeight/2-parseInt(window["gridExceldownloadIframe"].offsetHeight)/2;var _1fc=$W.document.documentElement.scrollLeft+$W.document.documentElement.clientWidth/2-parseInt(window["gridExceldownloadIframe"].offsetWidth)/2;window["gridExceldownloadIframe"].style.left=_1fc+"px";window["gridExceldownloadIframe"].style.top=nTop+"px";window["gridExceldownloadIframe"].style.visibility="visible";window["gridExceldownloadIframe"].contentWindow.initialize();}else{window["gridExceldownloadIframe"]=$W.document.createElement("iframe");window["gridExceldownloadIframe"].style.visibility="hidden";window["gridExceldownloadIframe"].setAttribute("id","gridDownLoadLayer");window["gridExceldownloadIframe"].setAttribute("src",this.options.advancedExcelDownloadPopupURL);window["gridExceldownloadIframe"].setAttribute("frameBorder","0");window["gridExceldownloadIframe"].className="w2grid_downloadIframe";window["gridExceldownloadIframe"].style.width="300px";window["gridExceldownloadIframe"].style.overflow="hidden";$W.document.body.appendChild(window["gridExceldownloadIframe"]);var nTop=$W.document.documentElement.scrollTop+$W.document.documentElement.clientHeight/2-parseInt(window["gridExceldownloadIframe"].offsetHeight)/2;var _1fc=$W.document.documentElement.scrollLeft+$W.document.documentElement.clientWidth/2-parseInt(window["gridExceldownloadIframe"].offsetWidth)/2;window["gridExceldownloadIframe"].style.left=_1fc+"px";window["gridExceldownloadIframe"].style.top=nTop+"px";window["gridExceldownloadIframe"].style.position="absolute";window["gridExceldownloadIframe"].style.visibility="visible";}};$W._a.ak.prototype.checkUpload=function(){var _1fd=this;setTimeout(function(){if(_1fd.downloadInit==true){window["gridExceldownloadIframe"].contentWindow.checkUpload("end");}else{_1fd.checkUpload();}},10);};$W._a.ak.prototype.sendExcelData=function(_1fe,_1ff,_200){if(typeof _1fe.useFooter=="boolean"){_1fe.useFooter=_1fe.useFooter+"";}var _201=$W._B.encode(_1fe.fileName)||"excel";var _202=_1fe.sheetName||"sheet";var type=_1fe.type||"0";var _204=_1fe.removeColumns||"";var _205=_1fe.removeHeaderRows||"";var _206=_1fe.foldColumns||"";var _207=_1fe.startRowIndex||"0";var _208=_1fe.startColumnIndex||"0";var _209=_1fe.headerColor||"";var _20a=_1fe.headerFontName||"";var _20b=_1fe.headerFontSize||"";var _20c=_1fe.headerFontColor||"";var _20d=_1fe.bodyColor||"";var _20e=_1fe.bodyFontName||"";var _20f=_1fe.bodyFontSize||"";var _210=_1fe.bodyFontColor||"";var _211=_1fe.footerColor||"";var _212=_1fe.footerFontName||"";var _213=_1fe.footerFontSize||"";var _214=_1fe.footerFontColor||"";var _215=_1fe.subTotalColor||"";var _216=_1fe.subTotalFontName||"";var _217=_1fe.subTotalFontSize||"";var _218=_1fe.subTotalFontColor||"";var _219=_1fe.rowNumHeaderColor||"";var _21a=_1fe.rowNumHeaderFontName||"";var _21b=_1fe.rowNumHeaderFontSize||"";var _21c=_1fe.rowNumHeaderFontColor||"";var _21d=_1fe.rowNumBodyColor||"";var _21e=_1fe.rowNumBodyFontName||"";var _21f=_1fe.rowNumBodyFontSize||"";var _220=_1fe.rowNumBodyFontColor||"";var _221=_1fe.rowNumFooterColor||"";var _222=_1fe.rowNumFooterFontName||"";var _223=_1fe.rowNumFooterFontSize||"";var _224=_1fe.rowNumFooterFontColor||"";var _225=_1fe.rowNumSubTotalColor||"";var _226=_1fe.rowNumSubTotalFontName||"";var _227=_1fe.rowNumSubTotalFontSize||"";var _228=_1fe.rowNumSubTotalFontColor||"";var _229=_1fe.dataProvider||"";var _22a=_1fe.splitProvider||"";var _22b=_1fe.providerRequestXml||"";var _22c=_1fe.userDataXml||"";var _22d=_1fe.optionParam||"";var _22e=_1fe.bodyWordwrap||"";var _22f=_1fe.useEuroLocale||"false";var _230=_1fe.useHeader||"true";var _231=_1fe.useSubTotal||"false";var _232=_1fe.useFooter||"true";_1fe.printSet=_1fe.printSet||{};var _233=_1fe.printSet.fitToPage||"false";var _234=_1fe.printSet.landScape||"false";var _235=_1fe.printSet.fitWidth||"1";var _236=_1fe.printSet.fitHeight||"1";var _237=_1fe.printSet.scale||"100";var _238=_1fe.printSet.pageSize||"A4";var _239=_1fe.separator||",";var _23a=_1fe.subTotalScale||-1;var _23b=_1fe.subTotalRoundingMode||"";var _23c=((_1fe.useStyle+"")=="true")?true:false;var _23d=_1fe.freezePane||"";var _23e=_1fe.autoSizeColumn||"false";var _23f=_1fe.displayGridlines||"";var _240=_1fe.colMerge||"false";var _241=_1fe.useDataFormat||"false";var _242=_1fe.applyDataFormat||"false";var _243=((_1fe.useSubTotalData+"")=="true")?true:false;var _244=((_1fe.useFooterData+"")=="true")?true:false;var _245=((_1fe.columnMove+"")=="true")?true:false;var _246=_1fe.columnOrder||"";var _247=_1fe.oddRowBackgroundColor||"";var _248=_1fe.evenRowBackgroundColor||"";var _249=_1fe.indent||"0";var _24a=$W._B.encode(this.options.rowNumHeaderValue)||"";var _24b=((_1fe.rowNumVisible+"")=="true")?true:false;var _24c=this.options.startRowNumber||"1";var _24d=_1fe.bodyNumberDefaultValue||"";var _24e=_1fe.numberToText||"false";var _24f=_1fe.rowHeight||"-1";var _250=_1fe.headerRowHeight||"-1";var pwd=_1fe.pwd||"";var _252;if(_245){if(_246==""){_252=this.getColumnOrder()||"";}else{_252=_246.split(",");}}var _253=[];if(_204!=""){_204=_204+"";var _254=_204.split(",");if(_245){for(var i=0;i<_254.length;i++){for(var j=0;j<_252.length;j++){if(_254[i]==_252[j]){_253.push(j);}}}}else{_253=_254;}_253.sort(function(a,b){return ((a*1)-(b*1));});_204=_253.join(",");}var _259=this.element;var _25a=$W._B.getElementsByTagName(this.element,"w2:header");var _25b=_25a[0];var _25c=$W._B.getElementsByTagName(_25b,"w2:column");for(var i=0;i<_25c.length;i++){var col=_25c[i];var _25e=col.getAttribute("id");col.setAttribute("value",this.getHeaderValue(_25e));}if(this.options.pluginName=="gridView"){var _25f=$W._B.getElementsByTagName(this.element,"w2:gBody");var _260=_25f[0];var _25c=$W._B.getElementsByTagName(_260,"w2:column");for(var i=0;i<_25c.length;i++){var col=_25c[i];var _25e=col.getAttribute("col_id");col.setAttribute("dataType",this._dataList.getColumnOption(_25e,"dataType"));}}var _261=[];_261.push("<vector result='1'>");_261.push("<data vectorkey='0'><hashtable>");_261.push("<data hashkey='style'>"+$W._B.serialize(this.element)+"</data>");_261.push("<data hashkey='data'>"+_200+"</data>");if(this.startedDisplayNone||this.resizeObj.width==0||this.resizeObj.height==0){this.drawFooter();}_261.push("<data hashkey='groupby' value='"+this.groupbyStatus.grouped+"'/>");if(_1fe.groupby&&this.groupbyStatus.grouped){_261.push("<data hashkey='groupbyStyle'>"+this.getExcelGroupbyStyle()+"</data>");_261.push("<data hashkey='groupbyHeaderValue'>"+this.getExcelGroupbyHeaderValue()+"</data>");_261.push("<data hashkey='groupbyFooterValue'>"+this.getExcelGroupbyFooterValue()+"</data>");_261.push("<data hashkey='groupbyStatusValue'>"+this.getExcelGroupbyStatusValue()+"</data>");_261.push("<data hashkey='groupbyStyleData'>"+this.getExcelGroupbyStyleData()+"</data>");_261.push("<data hashkey='rowNumVisible' value='"+this.options.rowNumVisible+"'/>");_261.push("<data hashkey='rowStatusVisible' value='"+this.options.rowStatusVisible+"'/>");}else{_261.push("<data hashkey='rowNumVisible' value='"+_24b+"'/>");}if(type==0){_261.push("<data hashkey='footer_data'>"+this.getExcelAllFooterXML(_239)+"</data>");}else{if(type==1){_261.push("<data hashkey='footer_data'>"+this.getExcelAllFooterXMLDisplay(_239)+"</data>");}else{_261.push("<data hashkey='footer_data'>"+this.getExcelAllFooterXMLRaw(_239)+"</data>");}}_261.push("<data hashkey='fileName' value='"+_201+"'/>");_261.push("<data hashkey='sheetName' value='"+_202+"'/>");_261.push("<data hashkey='stRowIndex' value='"+_207+"'/>");_261.push("<data hashkey='stColIndex' value='"+_208+"'/>");_261.push("<data hashkey='removeColumns' value='"+_204+"'/>");_261.push("<data hashkey='removeHeaderRows' value='"+_205+"'/>");_261.push("<data hashkey='foldColumns' value='"+_206+"'/>");_261.push("<data hashkey='headerColor' value='"+_209+"'/>");_261.push("<data hashkey='headerFontName' value='"+_20a+"'/>");_261.push("<data hashkey='headerFontSize' value='"+_20b+"'/>");_261.push("<data hashkey='headerFontColor' value='"+_20c+"'/>");_261.push("<data hashkey='bodyColor' value='"+_20d+"'/>");_261.push("<data hashkey='bodyFontName' value='"+_20e+"'/>");_261.push("<data hashkey='bodyFontSize' value='"+_20f+"'/>");_261.push("<data hashkey='bodyFontColor' value='"+_210+"'/>");_261.push("<data hashkey='footerColor' value='"+_211+"'/>");_261.push("<data hashkey='footerFontName' value='"+_212+"'/>");_261.push("<data hashkey='footerFontSize' value='"+_213+"'/>");_261.push("<data hashkey='footerFontColor' value='"+_214+"'/>");_261.push("<data hashkey='subTotalColor' value='"+_215+"'/>");_261.push("<data hashkey='subTotalFontName' value='"+_216+"'/>");_261.push("<data hashkey='subTotalFontSize' value='"+_217+"'/>");_261.push("<data hashkey='subTotalFontColor' value='"+_218+"'/>");if(_24b){_261.push("<data hashkey='rowNumHeaderColor' value='"+_219+"'/>");_261.push("<data hashkey='rowNumHeaderFontName' value='"+_21a+"'/>");_261.push("<data hashkey='rowNumHeaderFontSize' value='"+_21b+"'/>");_261.push("<data hashkey='rowNumHeaderFontColor' value='"+_21c+"'/>");_261.push("<data hashkey='rowNumBodyColor' value='"+_21d+"'/>");_261.push("<data hashkey='rowNumBodyFontName' value='"+_21e+"'/>");_261.push("<data hashkey='rowNumBodyFontSize' value='"+_21f+"'/>");_261.push("<data hashkey='rowNumBodyFontColor' value='"+_220+"'/>");_261.push("<data hashkey='rowNumFooterColor' value='"+_221+"'/>");_261.push("<data hashkey='rowNumFooterFontName' value='"+_222+"'/>");_261.push("<data hashkey='rowNumFooterFontSize' value='"+_223+"'/>");_261.push("<data hashkey='rowNumFooterFontColor' value='"+_224+"'/>");_261.push("<data hashkey='rowNumSubTotalColor' value='"+_225+"'/>");_261.push("<data hashkey='rowNumSubTotalFontName' value='"+_226+"'/>");_261.push("<data hashkey='rowNumSubTotalFontSize' value='"+_227+"'/>");_261.push("<data hashkey='rowNumSubTotalFontColor' value='"+_228+"'/>");}_261.push("<data hashkey='dataProvider' value='"+_229+"'/>");_261.push("<data hashkey='splitProvider' value='"+_22a+"'/>");_261.push("<data hashkey='providerRequestXml' value=''>"+_22b+"</data>");_261.push("<data hashkey='userDataXml' value=''>"+_22c+"</data>");_261.push("<data hashkey='optionParam' value='"+_22d+"'/>");_261.push("<data hashkey='bodyWordwrap' value='"+_22e+"'/>");_261.push("<data hashkey='useEuroLocale' value='"+_22f+"'/>");_261.push("<data hashkey='useHeader' value='"+_230+"'/>");_261.push("<data hashkey='useSubTotal' value='"+_231+"'/>");_261.push("<data hashkey='useFooter' value='"+_232+"'/>");_261.push("<data hashkey='fitToPage' value='"+_233+"'/>");_261.push("<data hashkey='landScape' value='"+_234+"'/>");_261.push("<data hashkey='fitWidth' value='"+_235+"'/>");_261.push("<data hashkey='fitHeight' value='"+_236+"'/>");_261.push("<data hashkey='scale' value='"+_237+"'/>");_261.push("<data hashkey='pageSize' value='"+_238+"'/>");_261.push("<data hashkey='separator' value='"+_239+"'/>");_261.push("<data hashkey='subTotalScale' value='"+_23a+"'/>");_261.push("<data hashkey='subTotalRoundingMode' value='"+_23b+"'/>");_261.push("<data hashkey='useStyle' value='"+_23c+"'/>");_261.push("<data hashkey='freezePane' value='"+_23d+"'/>");_261.push("<data hashkey='autoSizeColumn' value='"+_23e+"'/>");_261.push("<data hashkey='displayGridlines' value='"+_23f+"'/>");_261.push("<data hashkey='colMerge' value='"+_240+"'/>");_261.push("<data hashkey='useDataFormat' value='"+_241+"'/>");_261.push("<data hashkey='applyDataFormat' value='"+_242+"'/>");_261.push("<data hashkey='useSubTotalData' value='"+_243+"'/>");_261.push("<data hashkey='useFooterData' value='"+_244+"'/>");_261.push("<data hashkey='columnMove' value='"+_245+"'/>");_261.push("<data hashkey='columnOrder' value='"+_252+"'/>");_261.push("<data hashkey='oddRowBgColor' value='"+_247+"'/>");_261.push("<data hashkey='evenRowBgColor' value='"+_248+"'/>");_261.push("<data hashkey='indent' value='"+_249+"'/>");_261.push("<data hashkey='rowNumHeaderValue' value='"+_24a+"'/>");_261.push("<data hashkey='startRowNumber' value='"+_24c+"'/>");_261.push("<data hashkey='bodyNumberDefaultValue' value='"+_24d+"'/>");_261.push("<data hashkey='numberToText' value='"+_24e+"'/>");_261.push("<data hashkey='rowHeight' value='"+_24f+"'/>");_261.push("<data hashkey='headerRowHeight' value='"+_250+"'/>");_261.push("<data hashkey='pwd' value='"+pwd+"'/>");if(_23c){_261.push("<data hashkey='styleData'><array><![CDATA[["+this._getExcelStyle(_1fe)+"]]]></array></data>");}if(_243){_261.push("<data hashkey='subtotalData'><array><![CDATA[["+this._getExcelSubtotalData(_239)+"]]]></array></data>");}var _262=new $W._q.Vector();if(_1ff==null||typeof _1ff=="undefined"){_1ff=[];}_261.push("<data hashkey='information'><vector result='"+_1ff.length+"'>");for(var i=0;i<_1ff.length;i++){var obj=_1ff[i];_261.push("<data vectorkey='"+i+"'><hashtable>");for(var prop in obj){if(prop=="text"){_261.push("<data hashkey='"+prop+"' value='"+$W._B.encode(obj[prop])+"'/>");}else{_261.push("<data hashkey='"+prop+"' value='"+obj[prop]+"'/>");}}_261.push("</hashtable></data>");}_261.push("</vector></data>");if(_1fe.multiexcel==false){_261.push("</hashtable></data>");_261.push("</vector>");$W._N.excelDownload(this.options.advancedExcelDownloadURL,_261.join(""),"post");if(this._dataList.options.depthColumn&&_1fe.spanAll=="true"){this.drilldown.statusArr=this.orgStatusArr;this._dataList.filteredRowIndexArr=this.orgFilteredRowIndexArr;this.showDepth=this.orgShowDepth;this.orgStatusArr=null;this.orgFilteredRowIndexArr=null;this.orgShowDepth=null;this.drawData(this.rowIndex,0);}this.xmlData=null;if(_1fe.showProcess===false){$W.getBody().hideModal();}else{if(_1fe.showConfirm===true){this.hideDownloadLayer();}}}else{_261.push("</hashtable></data>");_261.push("</vector>");return _261;}};$W._a.ak.prototype.cancleDownload=function(){clearTimeout(this.excelTime);this.hideDownloadLayer();};$W._a.ak.prototype.hideDownloadLayer=function(){window["gridExceldownloadIframe"].style.display="none";this.excelOptions=null;this.excelInfoArr=null;this.excelFinalStr=null;window["downloadGridId"]=null;$W.getBody().hideModal();};$W._a.ak.prototype.saveBigExcelFile=function(_265,_266,_267){["WebSquare.uiplugin.gridViewApiController.prototype.saveBigExcelFile"];if(_267){_265.rowsByN=_267;}_265.massStorage=true;this.advancedExcelDownload(_265,_266);};$W._a.ak.prototype._getExcelStyle=function(_268){var _269={};var _26a={};var _26b={};var _26c={};var _26d={};for(var i in this.columnStyleValueObj){var _26f={};for(var j in this.columnStyleValueObj[i]){if(j!="style"){_26f[j]=this.columnStyleValueObj[i][j];}}var _271=this.getCellInfo(parseInt(i,10));if(_271&&_271.options.textAlign){var _272="";_272=this.getColumnStyleValue(parseInt(i,10),"text-align");if(_272==""){_272=_271.options.textAlign;if(_272==""){_272="center";}}_26f["text-align"]=_272;}_269[i]=_26f;}for(var i=0;i<this.rowStyleArr.length;i++){if(this.rowStyleArr[i]){var _26f={};for(var j in this.rowStyleValueObj[this.rowStyleArr[i]]){if(j!="style"){_26f[j]=this.rowStyleValueObj[this.rowStyleArr[i]][j];}}_26a[i]=_26f;}}for(var i=0;i<this.cellStyleArr.length;i++){if(this.cellStyleArr[i]){var _26f={};var _273=parseInt(i/this.oneRowDataLength,10);var _274=this.getDisplayRowIndex(_273);var _275=i%this.oneRowDataLength;for(var j in this.cellStyleValueObj[this.cellStyleArr[i]]){if(j!="style"){_26f[j]=this.cellStyleValueObj[this.cellStyleArr[i]][j];}}_26b[_274+","+_275]=_26f;}}var _276="";var _277=this.getDomList("head_tds","th",this.getElementById(this.id+"_head_table"));for(var i=this.defaultColCnt;i<_277.length;i++){var _278="";var _279=_277[i].id.replace(this.id+"_","");var _27a=this.headerCellStyleValueObj[_279];if(_27a&&_27a["background-color"]){_276=_27a["background-color"];}else{if(_268.headerColor){_276=_268.headerColor;}else{_276=$W._H.getStyle(_277[i],"background-color");}}_278+=("color:"+$W._H.getStyle(_277[i],"color")+";");_278+=("background-color:"+_276+";");_278+=("font-weight:"+$W._H.getStyle(_277[i],"font-weight")+";");_278+=("font-family:"+$W._H.getStyle(_277[i],"font-family")+";");_278+=("text-align:"+$W._H.getStyle(_277[i],"text-align")+";");_26c[_277[i].getAttribute("header_id")]=_278;}if(this.hasFooter){var _27b=this.getDomList("foot_tds","th",this.getElementById(this.id+"_foot_table"));for(var i=this.defaultColCnt;i<_27b.length;i++){var _278="";_278+=("color:"+$W._H.getStyle(_27b[i],"color")+";");_278+=("background-color:"+$W._H.getStyle(_27b[i],"background-color")+";");_278+=("font-weight:"+$W._H.getStyle(_27b[i],"font-weight")+";");_278+=("font-family:"+$W._H.getStyle(_27b[i],"font-family")+";");_278+=("text-align:"+$W._H.getStyle(_27b[i],"text-align")+";");_26d[_27b[i].getAttribute("footer_id")]=_278;}}var _27c=JSON.stringify({row:_26a,col:_269,cell:_26b,header:_26c,footer:_26d});return _27c;};$W._a.ak.prototype._getExcelSubtotalData=function(_27d){if(!_27d){_27d=",";}var _27e=[];_27e.push("\"");var len=this.getDataLength();for(var i=0;i<len;i++){var _281=i;var _282=this.dataList.getRealRowIndex(_281);var _283=this.dataList.getRealRowIndex(_281+1);if(typeof _282=="number"){for(var _284 in this.subtotalTableList){var _285=this.dataList.getCellData(_282,_284);var _286=_285+"_12";if(_281<len-1){var _286=this.dataList.getCellData(_283,_284);}if(_285!=_286){var _287=this.subtotalTableList[_284];var _288=this.subtotalDataArr[_284+"_"+_285];if(_288==null){_288=this.getSubtotalData(_287,_284,_285,_281);}var _289="";var _28a=_287.getElementsByTagName("td");for(var j=0;j<_28a.length;j++){var _28c=_28a[j];var _28d=_28c.getAttribute("id");if(_28d!="_headerRowNumber"&&_28d!="_headerRowStatus"){if(_288[_28d]!=null){_289=_288[_28d];}else{if(_28c.getAttribute("colMerge")=="true"){_289="";}else{var _289=_28c.getAttribute("value");_289=_289!=null?_289:"";}}_27e.push(_289);_27e.push("\""+_27d+"\"");}}}}}}_27e[_27e.length-1]="\"";return _27e.join("");};$W._a.ak.prototype.getExcelGroupbyStyle=function(){["WebSquare.uiplugin.gridViewApiController.prototype.getExcelGroupbyStyle"];try{if(this.groupbyStatus.grouped){var _28e={"rowNumHeader":{type:"H",index:2},"rowNumFooter":{type:"F",index:2},"rowStatusHeader":{type:"H",index:3},"rowStatusFooter":{type:"F",index:3},"groupbyHeader":{type:"H",index:-1},"groupbyFooter":{type:"F",index:-1}};var _28f=4;var _290=4;var _291=false;var _292=false;var _293=[];var _294=[];var _295=[];var _296={};_293.push("<w2:groupby>");_294.push("<w2:groupbyHeader>");_295.push("<w2:groupbyFooter>");_294.push("<w2:row>");_295.push("<w2:row>");var _297=this.defaultColCnt+this.getColCnt();var _298=0;var _299=0;if(this.options.rowNumVisible){if(this.groupbyDisplayOptions.rowNumHeader){if(!this.groupbyDisplayOptions.rowNumHeader.hidden){_299+=parseInt(this.groupbyDisplayOptions.rowNumHeader.colSpan,10)||1;if(_299<=_297){_296.rowNumHeader=this.groupbyDisplayOptions.rowNumHeader;}}}if(this.groupbyDisplayOptions.rowNumFooter){if(!this.groupbyDisplayOptions.rowNumFooter.hidden){_298+=parseInt(this.groupbyDisplayOptions.rowNumFooter.colSpan,10)||1;if(_298<=_297){_296.rowNumFooter=this.groupbyDisplayOptions.rowNumFooter;}}}}if(this.options.rowStatusVisible){if(this.groupbyDisplayOptions.rowStatusHeader){if(!this.groupbyDisplayOptions.rowStatusHeader.hidden){_299+=parseInt(this.groupbyDisplayOptions.rowStatusHeader.colSpan,10)||1;if(_299<=_297){_296.rowStatusHeader=this.groupbyDisplayOptions.rowStatusHeader;}}}if(this.groupbyDisplayOptions.rowStatusFooter){if(!this.groupbyDisplayOptions.rowStatusFooter.hidden){_298+=parseInt(this.groupbyDisplayOptions.rowStatusFooter.colSpan,10)||1;if(_298<=_297){_296.rowStatusFooter=this.groupbyDisplayOptions.rowStatusFooter;}}}}_296.groupbyHeader=[];_296.groupbyFooter=[];var _29a=this.groupbyDisplayOptions.groupbyHeader;for(var i=0;i<_29a.length;i++){if(!_29a[i].hidden){_299+=parseInt(_29a[i].colSpan,10)||1;if(_299<=_297){_296.groupbyHeader[i]=_29a[i];}else{break;}}}var _29c=this.groupbyDisplayOptions.groupbyFooter;for(var i=0;i<_29c.length;i++){if(!_29c[i].hidden){_298+=parseInt(_29c[i].colSpan,10)||1;if(_298<=_297){_296.groupbyFooter[i]=_29c[i];}else{break;}}}if(_28f<_297){var _29d=_297-_299;for(var i=0;i<_29d;i++){_296.groupbyHeader.push({temp:true});}}if(_290<_297){var _29d=_297-_298;for(var i=0;i<_29d;i++){_296.groupbyFooter.push({temp:true});}}this.groupbyStatus.excelDisplayOptions=_296;for(var key in _296){var info;var _2a0=[];switch(key){case "rowNumHeader":case "rowNumFooter":case "rowStatusHeader":case "rowStatusFooter":_2a0.push("<w2:column");var _2a1=_296[key];var _2a2=false;for(var _2a3 in _2a1){if(_2a3!="align"&&_2a3!="hidden"&&_2a3!="colSpan"){continue;}if(_2a3=="hidden"){_2a2=true;break;}_2a0.push(" "+_2a3+"=\""+_2a1[_2a3]+"\"");if(key=="rowNumHeader"||key=="rowNumFooter"){if(_2a3.toLowerCase()=="colspan"){if(_2a1[_2a3]>=this.defaultColCnt+this.getColCnt()){if(key=="rowNumHeader"){_291=true;}else{_292=true;}}}}}if(_2a2){break;}if(key=="rowStatusHeader"&&_291){break;}else{if(key=="rowStatusFooter"&&_292){break;}}if(key.match("rowNum")){_2a0.push(" type=\"rowNum\"");}else{if(key.match("rowStatus")){_2a0.push(" type=\"rowStatus\"");}}_2a0.push("/>");info=_28e[key];break;case "groupbyHeader":case "groupbyFooter":var _2a2=false;var _2a4=[];var _2a5=_296[key];if(_2a5.length>0){for(var i=0;i<_2a5.length;i++){var _2a6=[];_2a6.push("<w2:column");for(var _2a3 in _2a5[i]){if(_2a3!="align"&&_2a3!="hidden"&&_2a3!="colSpan"){continue;}if(_2a3=="hidden"){_2a6.pop();break;}_2a6.push(" "+_2a3+"=\""+_2a5[i][_2a3]+"\"");}_2a6.push("/>");_2a0.push(_2a6.join(""));}}info=_28e[key];break;}if(info){if(info.type=="H"){if(info.index==-1){_294[_28f]=_2a0.join("");_28f++;}else{_294[info.index]=_2a0.join("");}}else{if(info.type=="F"){if(info.index==-1){_295[_290]=_2a0.join("");_290++;}else{_295[info.index]=_2a0.join("");}}}}info=null;}_294.push("</w2:row>");_295.push("</w2:row>");_294.push("</w2:groupbyHeader>");_295.push("</w2:groupbyFooter>");_293.push(_294.join(""));_293.push(_295.join(""));_293.push("</w2:groupby>");return _293.join("");}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ak.prototype.getExcelGroupbyHeaderValue=function(){this.groupbyStatus.headerValueObj={};this.getAllGroupbyHeaderValueObj();var _2a7=[];_2a7.push("<array><![CDATA[");_2a7.push("[");for(var i=0;i<this._dataList.filteredRowIndexArr.length;i++){var _2a9=this._dataList.filteredRowIndexArr[i];if(_2a9.type=="header"){var _2aa=this.groupbyStatus.headerValueObj[_2a9.groupId];for(var j=0;j<_2aa.length;j++){if(_2aa[j]!=undefined){_2a7.push("\""+_2aa[j]+"\"");if(j<_2aa.length-1){_2a7.push(",");}}}if(_2aa.length>0){_2a7.push(",");}}}_2a7.pop();_2a7.push("]");_2a7.push("]]></array>");return _2a7.join("");};$W._a.ak.prototype.getExcelGroupbyFooterValue=function(){this.groupbyStatus.footerValueObj={};this.getAllGroupbyFooterValueObj();var _2ac=[];_2ac.push("<array><![CDATA[");_2ac.push("[");for(var i=0;i<this._dataList.filteredRowIndexArr.length;i++){var _2ae=this._dataList.filteredRowIndexArr[i];if(_2ae.type=="footer"){var _2af=this.groupbyStatus.footerValueObj[_2ae.groupId];for(var j=0;j<_2af.length;j++){if(_2af[j]!=undefined){_2ac.push("\""+_2af[j]+"\"");if(j<_2af.length-1){_2ac.push(",");}}}if(_2af.length>0){_2ac.push(",");}}}_2ac.pop();_2ac.push("]");_2ac.push("]]></array>");return _2ac.join("");};$W._a.ak.prototype.getExcelGroupbyStatusValue=function(){var _2b1=[];_2b1.push("<array><![CDATA[");_2b1.push("[");for(var i=0;i<this._dataList.filteredRowIndexArr.length;i++){var row=this._dataList.filteredRowIndexArr[i];if(typeof row=="number"){_2b1.push("\"0B\"");}else{switch(row.type){case "header":var _2b4="\""+row.depth+"H\"";break;case "footer":var _2b4="\""+row.depth+"F\"";break;default:break;}_2b1.push(_2b4);}if(i<this._dataList.filteredRowIndexArr.length-1){_2b1.push(",");}}_2b1.push("]");_2b1.push("]]></array>");return _2b1.join("");};$W._a.ak.prototype.getExcelGroupbyStyleData=function(){var _2b5=this.getElementById(this.id+"_body_tbody").childNodes;var _2b6=[];_2b6.push("<array><![CDATA[");_2b6.push("[");for(var i=0;i<this._dataList.filteredRowIndexArr.length;i++){var row=this._dataList.filteredRowIndexArr[i];if(typeof row!="number"){var _2b9=_2b5[row.index];if(!_2b6[row.depth+2]){var _2ba="\"";if(i!=0){_2ba=",\"";}var _2bb;for(var key in this.groupbyStatus.excelDisplayOptions){var _2bd=false;switch(key){case "rowNumHeader":_2bd=true;_2bb=0;break;case "rowStatusHeader":_2bd=true;_2bb=this.defaultColCnt-1;break;case "groupbyHeader":_2bd=true;_2bb=this.defaultColCnt;break;}if(_2bd){break;}}var _2be=_2b9.getElementsByTagName("TD")[_2bb];_2ba+="background-color:"+$W._H.getStyle(_2be,"background-color")+";";_2ba+="font-size:"+$W._H.getStyle(_2be,"font-size")+";";_2ba+="color:"+$W._H.getStyle(_2be,"color")+";";_2ba+="font-weight:"+$W._H.getStyle(_2be,"font-weight")+";";_2ba+="font-family:"+$W._H.getStyle(_2be,"font-family")+";";_2ba+="\"";_2b6[row.depth+2]=_2ba;}}}_2b6.push("]");_2b6.push("]]></array>");return _2b6.join("");};$W._a.ak.prototype.getAllGroupbyHeaderValueObj=function(){for(var i=0;i<this._dataList.filteredRowIndexArr.length;i++){if(typeof this._dataList.filteredRowIndexArr[i]!="number"){var _2c0=this._dataList.filteredRowIndexArr[i];var _2c1=0;if(this.options.rowNumVisible){this.setGroupbyData(_2c0,_2c1,this.groupbyStatus.excelDisplayOptions.rowNumHeader);_2c1++;}if(this.options.rowStatusVisible){this.setGroupbyData(_2c0,_2c1,this.groupbyStatus.excelDisplayOptions.rowStatusHeader);_2c1++;}for(var j=0;j<this.getColCnt();j++){this.setGroupbyData(_2c0,_2c1,this.groupbyStatus.excelDisplayOptions.groupbyHeader[j]);_2c1++;}}}};$W._a.ak.prototype.getAllGroupbyFooterValueObj=function(){for(var i=0;i<this._dataList.filteredRowIndexArr.length;i++){if(typeof this._dataList.filteredRowIndexArr[i]!="number"){var _2c4=this._dataList.filteredRowIndexArr[i];var _2c5=0;if(this.options.rowNumVisible){this.setGroupbyData(_2c4,_2c5,this.groupbyStatus.excelDisplayOptions.rowNumFooter);_2c5++;}if(this.options.rowStatusVisible){this.setGroupbyData(_2c4,_2c5,this.groupbyStatus.excelDisplayOptions.rowStatusFooter);_2c5++;}for(var j=0;j<this.getColCnt();j++){this.setGroupbyData(_2c4,_2c5,this.groupbyStatus.excelDisplayOptions.groupbyFooter[j]);_2c5++;}}}};$W._a.ak.prototype.setGroupbyData=function(_2c7,_2c8,_2c9){_2c9=_2c9||{};var _2ca=_2c9.value||"";var _2cb=_2c9.inputType||"";var _2cc=_2c9.depthVisible||false;var _2cd=_2c9.align||"";var _2ce=_2c9.expression||"";var _2cf=_2c9.colSpan||1;var _2d0=_2c9.hidden?"none":"";var _2d1=_2c9.displayFormatType||"text";var _2d2=_2c9.displayFormat||"";var _2d3=_2c9.displayFormatter||null;var _2d4;var _2d5;if(_2cb){if(_2d2||_2d3){_2d4=new $W._C.createFormatter(_2d1,_2d2,_2d3);}switch(_2cb){case "toggleButton":_2d5=_2c7.status=="open"?"-":"+";break;case "expression":if(_2ce){var _2d6=this.groupbyInfo[_2c7.groupId].header;_2d6.colIndex=_2c8;var _2d7=0;if(_2d6.status=="open"){var _2d8;for(var i=_2d6.index;i<this._dataList.filteredRowIndexArr.length;i++){var _2da=this._dataList.filteredRowIndexArr[i];if(_2da.type=="footer"&&_2da.depth==_2d6.depth){_2d8=_2da.index;break;}}_2d7=this.groupExpression(this._dataList.filteredRowIndexArr,_2d6.index,_2d8,_2ce,_2d6);}else{_2d7=this.groupExpression(_2d6.closedChildArr,0,_2d6.closedChildArr.length-1,_2ce,_2d6);}if(_2d4){_2d7=_2d4.format(_2d7);}_2d5=_2d7;if(typeof _2d5=="string"&&(_2d5.match("w2grid_minus")||_2d5.match("w2grid_plus"))){var _2db=_2d5.lastIndexOf("</span>");if(_2db>-1){_2db+=7;_2d5=_2d5.slice(_2db);if(_2c7.status=="open"){_2d5="-||"+_2d5;}else{if(_2c7.status=="closed"){_2d5="+||"+_2d5;}}}}}default:break;}}if(_2cc){_2d5=_2c7.groupId;}if(_2ca){if(_2d4){_2ca=_2d4.format(_2ca);}_2d5=_2ca;}if(!_2d5){_2d5="";var i=0;for(var key in _2c9){i++;}if(i==0){_2d0="none";}}if(_2d0!="none"){if(_2c7.type=="header"){if(!this.groupbyStatus.headerValueObj[_2c7.groupId]){this.groupbyStatus.headerValueObj[_2c7.groupId]=[];}this.groupbyStatus.headerValueObj[_2c7.groupId][_2c8]=_2d5;}else{if(_2c7.type=="footer"){if(!this.groupbyStatus.footerValueObj[_2c7.groupId]){this.groupbyStatus.footerValueObj[_2c7.groupId]=[];}this.groupbyStatus.footerValueObj[_2c7.groupId][_2c8]=_2d5;}}}};$W._a.ak.prototype.getTotalRow=function(){var _2dd=this.dataList.getTotalRow();return _2dd;};$W._a.ak.prototype.getTotalCol=function(){var _2de=this.oneRowDataLength;return _2de;};$W._a.ak.prototype.editEndBeforeGetData=function(){if(this.editedCell&&this.rollbackCommitFlag&&this.options.rollbackCommit==true){this.rollbackCommitFlag=false;this.editedCell.handleEndEdit();this.rollbackCommitFlag=true;}};$W._a.ak.prototype.getExtraDataObj=function(_2df,_2e0,_2e1){var data=this.extraData;if(_2df=="grid"){return data.grid;}else{if(_2df=="row"){if(!data.row[_2e0]){data.row[_2e0]={};}return data.row[_2e0];}else{if(_2df=="col"){if(!data.col[_2e0]){data.col[_2e0]={};}return data.col[_2e0];}else{if(_2df=="cell"){if(!data.cell[_2e0]){data.cell[_2e0]=[];}if(!data.cell[_2e0][_2e1]){data.cell[_2e0][_2e1]={};}return data.cell[_2e0][_2e1];}}}}return null;};$W._a.ak.prototype.finalize=function(){try{var _2e3=self;var cnt=0;while(_2e3!=_2e3.parent&&cnt++<10){if(_2e3.parent["__WebSquare_gridArr__"]){for(var i=0;i<_2e3.parent["__WebSquare_gridArr__"].length;i++){if(_2e3.parent["__WebSquare_gridArr__"][i]===this){_2e3.parent["__WebSquare_gridArr__"][i]=null;}}}_2e3=_2e3.parent;}_2e3=null;if(this.tempDiv!=null&&this.tempDiv.parentNode!=null){this.tempDiv.innerHTML="";}if(this.tempTr!=null&&this.tempTr.parentNode!=null){this.tempTr.innerHTML="";}$W._G.clearInterval(this.id+"_checkResize");$W._N.clearTimer(this.id+"initializeEvent");for(var item in this.dom){var comp=this.dom[item];var _2e8=null;if(comp!=null){_2e8=$W.idCache[comp.uuid];}if(_2e8&&typeof _2e8.remove=="function"){_2e8.remove();}delete this.dom[item];}if(this._dataList&&this._dataList.childCompHash){delete this._dataList.childCompHash[this.id];}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ak.prototype.setFixedColumn=function(_2e9){["WebSquare.uiplugin.gridViewApiController.prototype.setFixedColumn"];try{_2e9=parseInt(_2e9,10);_2e9=isNaN(_2e9)?0:_2e9;this.options.fixedColumn=_2e9;this.arrangeOverflowXScroll();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ak.prototype.setFixedRightColumn=function(_2ea){["WebSquare.uiplugin.gridViewApiController.prototype.setFixedRightColumn"];try{_2ea=parseInt(_2ea,10);_2ea=isNaN(_2ea)?0:_2ea;this.options.fixedRightColumn=_2ea;this.arrangeOverflowXScroll();this._handleScrollX();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ak.prototype.setFixedRow=function(_2eb){["WebSquare.uiplugin.gridViewApiController.prototype.setFixedRow"];try{_2eb=parseInt(_2eb,10);_2eb=isNaN(_2eb)?0:_2eb;this.options.fixedRow=_2eb;if(this.styledFixedRow){this.styledFixedRow.style.borderBottom="";this.styledFixedRow=null;}this.applyRowStyleOptions(_2eb-1);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ak.prototype.getOverflowX=function(){return this.options.overflowX;};$W._a.ak.prototype.getOverflowY=function(){return this.options.overflowY;};$W._a.ak.prototype.getColumnVisible=function(_2ec){["WebSquare.uiplugin.gridViewApiController.prototype.getColumnVisible"];var _2ec=this.getColumnIndex(_2ec);var _2ed=$W._N.getConfiguration("/WebSquare/grid/getColumnVisible/@useRealColIndex");if($W._G.getBoolean(_2ed)){for(var i=0;i<this.columnOrder.length;i++){if(this.columnOrder[i]==_2ec){_2ec=i;break;}}}return !this.hiddenList[this.defaultColCnt+_2ec];};$W._a.ak.prototype.getColumnWidth=function(_2ef,_2f0){var _2f1=_2f0?this.defaultColCnt:0;_2ef=this.getColumnIndex(_2ef)+_2f1;if(this.colWidthList[_2ef]){return this.colWidthList[_2ef];}};$W._a.ak.prototype.setColumnWidth=function(_2f2,size,_2f4){_2f2=this.getColumnIndex(_2f2);if(this.colWidthList[_2f2]){if(this.options.autoFit&&!this.hiddenList[_2f2+this.defaultColCnt]){this.autoFitColWidthList=null;this._setAutoFit({exceptCol:this.defaultColCnt+_2f2,exceptWidth:size});}else{if(this.options.rowNumStatusResize&&this.defaultColCnt>0&&_2f4>=0){this._setColumnWidth(_2f4,size);}else{this._setColumnWidth(this.defaultColCnt+_2f2,size);}}}};$W._a.ak.prototype.setColumnNodeSet=function(_2f5,_2f6,_2f7,_2f8){["WebSquare.uiplugin.gridViewApiController.prototype.setColumnNodeSet"];try{var _2f9=this.getCellInfo(_2f5);if(_2f9.options.inputType=="select"){_2f9.setColumnNodeSet(_2f6,_2f7,_2f8);if(_2f9.hasRef){_2f9.refHash=[];}if(_2f9.itemsetObj){_2f9.mainGrid.refresh();}}else{if(_2f9.options.inputType=="autoComplete"){_2f9.setColumnNodeSet(_2f6,_2f7,_2f8);if(_2f9.hasRef){_2f9.refHash=[];}if(_2f9.itemsetObj){_2f9.mainGrid.refresh();}}else{if(_2f9.options.inputType=="checkcombobox"){_2f9.setColumnNodeSet(_2f6,_2f7,_2f8);if(_2f9.hasRef){_2f9.refHash=[];}if(_2f9.itemsetObj){_2f9.mainGrid.refresh();}}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ak.prototype.setColumnChooseOption=function(_2fa,_2fb,_2fc){["WebSquare.uiplugin.gridViewApiController.prototype.setColumnChooseOption"];try{var _2fd=this.getCellInfo(_2fa);if(_2fd.options.inputType=="select"){_2fd.setColumnChooseOption(_2fb,_2fc);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ak.prototype.showChooseOption=function(_2fe,flag){["WebSquare.uiplugin.gridViewApiController.prototype.showChooseOption"];try{var _300=this.getCellInfo(_2fe);if(_300.options.inputType=="select"){_300.showChooseOption(flag);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ak.prototype.setRowNumColumnWidth=function(size){if(this.options.rowNumVisible&&!isNaN(Number(size))){this._setColumnWidth(0,size);}};$W._a.ak.prototype.setRowStatusColumnWidth=function(size){var _303=0;if(this.options.rowNumVisible){_303=1;}if(this.options.rowStatusVisible){if(this.options.autoFit&&!this.hiddenList[_303]){this.autoFitColWidthList=null;this._setAutoFit({exceptCol:_303,exceptWidth:size});}else{this._setColumnWidth(_303,size);}}};$W._a.ak.prototype.setGridHeight=function(_304){["WebSquare.uiplugin.gridViewApiController.prototype.setGridHeight"];var _305=parseInt(_304);if(_305+""==_304){_304+="px";}this.setStyle("height",_304);this.handleResize();};$W._a.ak.prototype.setGridWidth=function(_306){["WebSquare.uiplugin.gridViewApiController.prototype.setGridWidth"];var _307=parseInt(_306);if(_307+""==_306){_306+="px";}this.setStyle("width",_306);this.handlerResize_drawInitializer();};$W._a.ak.prototype.setGridSize=function(_308,_309){["WebSquare.uiplugin.gridViewApiController.prototype.setGridSize"];var _30a=parseInt(_308);var _30b=parseInt(_309);if(_30a>=0&&_30b>=0){this.setGridWidth(_308);this.setGridHeight(_309);}else{$W.logger.printLog("[Warning] Number of Entered in the width and height must be a valid integer greater than 0.["+this.id+"]");return;}};$W._a.ak.prototype.setGridReadOnly=function(_30c){["WebSquare.uiplugin.gridViewApiController.prototype.setGridReadOnly"];try{_30c=$W._G.getBoolean(_30c);this.options.readOnly=_30c;this.notifyDataChanged();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ak.prototype.getGridReadOnly=function(){["WebSquare.uiplugin.gridViewApiController.prototype.getGridReadOnly"];try{return this.options.readOnly;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ak.prototype.initGrid=function(){["WebSquare.uiplugin.gridViewApiController.prototype.initGrid"];try{this.loadCheck=[];this.initFlag=true;this.skipScrollEndEvent=true;this.removeAllFinish=true;this.lastIndex=-1;this.lastTopRowIndex=null;this.bScrollTop=-1;if(this.hasFooter){this.initFooterDataObj();}this.initHeaderDataObj();ret=this.dataList.removeAll();if(this.isDrillDown==true){this.initDrilldown();}this.removeAllFinish=false;this.dataList.clearFilter();this.initColumns();return ret;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ak.prototype.setInitValue=function(){["WebSquare.uiplugin.grid.setInitValue.initGrid"];try{this.initGrid();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ak.prototype.setDisplayFormat=function(_30d,_30e){try{var _30f=this.getCellInfo(_30d);_30f.options.displayFormat=_30e;_30f.initFormatter();this.drawColumnData(_30d);return;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ak.prototype.setDisplayFormatter=function(_310,_311){["WebSquare.uiplugin.gridViewApiController.prototype.setDisplayFormatter"];try{var _312=this.getCellInfo(_310);_312.options.displayFormatter=_311;_312.initFormatter();this.drawColumnData(_310);return;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ak.prototype.setFormat=function(_313,_314){["WebSquare.uiplugin.gridViewApiController.prototype.setFormat"];try{var _315=this.getCellInfo(_313);if(_314.ioFormat){var _316=_315.options.inputType||"text";var _317=_315.mainGridId+_315.id;var _318=this.dom[_317];if(_318){_318.setFormat({ioFormat:_314.ioFormat,displayFormat:_314.ioFormat});}var _319=$W._C.createFormatter("date",_314.ioFormat,"",_315.options.ioFormat,null,null,this.scope_id);for(var i=0;i<this.getDataLength();i++){var _31b=this.getColumnID(_313);var _31c=this.dataList.getCellData(i,_31b);var _31d=_319.format(_31c);this.dataList.setCellData(i,_31b,_31d);}}_315.options.ioFormat=_314.ioFormat||_315.options.ioFormat;_315.options.displayFormat=_314.displayFormat||_315.options.displayFormat;_315.options.displayFormatter=_314.displayFormatter||_315.options.displayFormatter;_315.initFormatter();this.drawColumnData(_313);return;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ak.prototype.setDataType=function(_31e,_31f){["WebSquare.uiplugin.gridViewApiController.prototype.setDataType"];try{if(!_31f||!(_31f=="text"||_31f=="number")){return;}var _320=this.getCellInfo(_31e);if(_320.options.dataType==_31f){return;}var _321=_320.options.dataType;_320.options.dataType=_31f;var _322=this.getColumnID(_31e);this.setColumnOption(_322,"dataType",_31f);component=_320.mainGrid.getElementById(_320.mainGridId+_322);_320.options.displayFormat="";if(component){if(_321=="number"){component.validator.removeCommand(new $W._p.allowCharCommand("+\\-.0-9"));}if(_31f=="number"){component.validator.addCommand(new $W._p.allowCharCommand("+\\-.0-9"));}}_320.initFormatter();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ak.prototype.setMaxLength=function(_323,_324){["WebSquare.uiplugin.gridViewApiController.prototype.setMaxLength"];try{var _325=this.getCellInfo(_323);var _326=_325.options.inputType;if(!(_326=="text"||_326=="textarea"||_326=="input"||_326=="textImage"||_326=="secret")){return;}_325.setMaxLength(_324);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ak.prototype.getMaxLength=function(_327){["WebSquare.uiplugin.gridViewApiController.prototype.getMaxLength"];try{var _328=this.getCellInfo(_327);var _329=_328.options.inputType;if(!(_329=="text"||_329=="textarea"||_329=="input"||_329=="textImage"||_329=="secret")){return;}return _328.options.maxLength;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ak.prototype.spanAll=function(_32a){["WebSquare.uiplugin.gridViewApiController.prototype.spanAll"];try{if(typeof _32a=="number"){this.showDepth=_32a+"";}else{_32a=$W._G.getBoolean(_32a);if(_32a==true){this.showDepth="9999";}else{this.showDepth="1";}}this.initDrilldown();this.rowIndex=-1;this.lastIndex=-1;this.lastTopRowIndex=null;this.drawData(0,0);this.setScrollYHeight({noDraw:true});}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ak.prototype.getCellDisplayData=function(_32b,_32c){["WebSquare.uiplugin.gridViewApiController.prototype.getCellDisplayData"];try{var _32d=this.getRealRowIndex(_32b);return this._getDisplayData(_32d,_32c);}catch(e){$W.exception.printStackTrace(e);}};$W._a.ak.prototype._getDisplayData=function(_32e,_32f){["WebSquare.uiplugin.gridViewApiController.prototype._getDisplayData"];try{this.editEndBeforeGetData();var _32f=this.getColumnID(_32f);var _330=this.getColumnIndex(_32f);var _331=this.cellInfoHash[_32f];var _332=this.dataList._getData(_32e,_32f);if(_331.useEscapeFormatter){var _333=$W._G.getGlobalFunction(_331.options.escapeFormatter,this.scope_id);_332=_333.call(this,_332,_32e,_330);}if(_331.useCustomFormatter&&this.options.keepBeforeDisplayData!=true){var _334=_331.getEscape()==="true"?_331.getDisplayData($W._B._encode(_332+""),_32e):_331.getDisplayData(_332,_32e);var _335=$W._G.getGlobalFunction(_331.options.customFormatter);_332=_335.call(this,_332,_334,this.getDisplayRowIndex(_32e),_330);}else{_332=_331.getDisplayData(_332,_32e);}if(_332==null){_332="";}return _332;}catch(e){$W.exception.printStackTrace(e);}};$W._a.ak.prototype.initDrilldown=function(_336){["WebSquare.uiplugin.gridViewApiController.prototype.initDrilldown"];try{var _336={showDepth:this.showDepth,depthColumn:this.depthColumn,dataColumn:""};if(typeof _336.depthColumn=="string"){if(this.bodyIdColIndexMap[_336.depthColumn]==undefined){_336.dataColumn="dataList";_336.depthColumn=this._dataList.bodyIdColIndexMap[_336.depthColumn];}else{_336.dataColumn="gridview";_336.depthColumn=this.bodyIdColIndexMap[_336.depthColumn];}}this.drilldown.initialize(this,_336);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ak.prototype.getRealRowIndex=function(_337){["WebSquare.uiplugin.gridViewApiController.prototype.getRealRowIndex"];return this.dataList.getRealRowIndex(_337);};$W._a.ak.prototype.toggle=function(_338){["WebSquare.uiplugin.gridViewApiController.prototype.toggle"];_338=parseInt(_338);this.drilldown.toggle(_338);this.setScrollYHeight();this.notifyRowChanged(_338);if(this.options.autoFit){this.autoFitFunc();}};$W._a.ak.prototype.getParentRowIndex=function(_339){["WebSquare.uiplugin.gridViewApiController.prototype.getParentRowIndex"];_339=parseInt(_339);return this.drilldown.getParentRowIndex(_339);};$W._a.ak.prototype.getChildrenRowIndexArray=function(_33a){["WebSquare.uiplugin.gridViewApiController.prototype.getChildrenRowIndexArray"];_33a=parseInt(_33a);return this.drilldown.getChildrenRowArr(_33a);};$W._a.ak.prototype.getOpenStatus=function(_33b){["WebSquare.uiplugin.gridViewApiController.prototype.getOpenStatus"];_33b=parseInt(_33b);return this.drilldown.isOpen(_33b);};$W._a.ak.prototype.getDataLength=function(){["WebSquare.uiplugin.gridViewApiController.prototype.getDataLength"];var _33c;if(this.successBinding){if(this.groupbyStatus.grouped){for(var key in this.customFilterStatusObj){if(this.customFilterStatusObj[key]){return this._dataList.getDataLength();}}_33c=this.groupbyStatus.groupedRowIndexArr.length;}else{_33c=this._dataList.getDataLength();}}else{_33c=0;}return _33c;};$W._a.ak.prototype.focusedRowMoveUp=function(){["WebSquare.uiplugin.gridViewApiController.prototype.focusedRowMoveUp"];var _33e=this.getFocusedRowIndex();this.dataList.rowMoveUp(_33e);};$W._a.ak.prototype.focusedRowMoveDown=function(){["WebSquare.uiplugin.gridViewApiController.prototype.focusedRowMoveUp"];var _33f=this.getFocusedRowIndex();this.dataList.rowMoveDown(_33f);};$W._a.ak.prototype.initStyleArr=function(_340){if(_340<=0){this.rowStyleArr=[];this.rowReadOnlyArr=[];this.rowDisabledArr=[];}var _341=this.getTotalRow();var len=_341*this.oneRowDataLength;if(_340<=0){this.rowStyleArr=new Array(_341);this.rowReadOnlyArr=new Array(_341);this.rowDisabledArr=new Array(_341);this.cellStyleArr=new Array(len);this.cellReadOnlyArr=new Array(len);this.cellDisabledArr=new Array(len);}else{[].push.apply(this.rowStyleArr,new Array(_341-this.rowStyleArr.length));[].push.apply(this.rowReadOnlyArr,new Array(_341-this.rowReadOnlyArr.length));[].push.apply(this.rowDisabledArr,new Array(_341-this.rowDisabledArr.length));[].push.apply(this.cellStyleArr,new Array(len-this.cellStyleArr.length));[].push.apply(this.cellReadOnlyArr,new Array(len-this.cellReadOnlyArr.length));[].push.apply(this.cellDisabledArr,new Array(len-this.cellDisabledArr.length));}};$W._a.ak.prototype.modifyCheckedStatus=function(col,_344){["WebSquare.uiplugin.gridViewApiController.prototype.modifyCheckedStatus"];try{var _345=this.getCheckedIndex(col);var _344=_344.toUpperCase();if(_344=="R"||_344=="U"||_344=="V"||_344=="D"||_344=="C"){for(var i=0;i<_345.length;i++){var _347=this.dataList.modifyRowStatus(_345[i],_344);this._drawRowStatus(i-this.rowIndex,i);this.displayNoResultMessage();}this.notifyStatusChanged({"rowIndex":_345});}else{$W.logger.printLog("[Warning] Is not exist status Value!["+this.id+"]");}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ak.prototype.modifyUncheckStatus=function(col,_349){["WebSquare.uiplugin.gridViewApiController.prototype.modifyUncheckStatus"];try{var _349=_349.toUpperCase();if(_349=="R"||_349=="U"||_349=="V"||_349=="D"||_349=="C"){var _34a=this.getUnCheckedIndex(col);for(var i=0;i<_34a.length;i++){var _34c=this.dataList.modifyRowStatus(_34a[i],_349);this._drawRowStatus(i-this.rowIndex,i);this.displayNoResultMessage();}this.notifyStatusChanged({"rowIndex":_34a});}else{$W.logger.printLog("[Warning] Is not exist status Value!["+this.id+"]");}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ak.prototype.getVisibleColData=function(_34d){["WebSquare.uiplugin.gridViewApiController.prototype.getColData"];var _34e=[];_34d=this.getColumnIndex(_34d);var _34f=this.getColumnID(_34d);for(var row=0;row<this.getDataLength();row++){_34e.push(this.dataList.getCellData(row,_34f));}return _34e;};$W._a.ak.prototype.getCheckedIndex=function(_351){["WebSquare.uiplugin.gridViewApiController.prototype.getCheckedIndex"];try{var _352=[];var _353=this.cellInfoHash[this.getColumnID(_351)];if(_353.options.inputType=="checkbox"||_353.options.inputType=="radio"||_353.options.inputType=="custom"){if(this.isDrillDown&&this._dataList.options.depthColumn){colDataArr=this.dataList.getColData(_351);}else{colDataArr=this.getVisibleColData(_351);}var _354=_353;for(var i=0;i<colDataArr.length;i++){if(_353.internal==false&&_353.options.inputType=="custom"){var _356=this.dataList.getRealRowIndex(i);_354=_353.cellManagerHashByRowIndex[_356]?_353.cellManagerHashByRowIndex[_356]:_353;if(_354.options.inputType!="checkbox"&&_354.options.inputType!="radio"){continue;}}else{if(this.groupbyStatus.grouped){if(typeof this.dataList.getRealRowIndex(i)=="object"){continue;}}}if(colDataArr[i]==_354.options.trueValue){if(this.groupbyStatus.grouped){_352.push(i);}else{_352.push(i);}}}}return _352;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ak.prototype.getUnCheckedIndex=function(_357){return this.getUncheckedIndex(_357);};$W._a.ak.prototype.getUncheckedIndex=function(_358){["WebSquare.uiplugin.gridViewApiController.prototype.getUncheckedIndex"];try{var _359=[];var _35a=this.cellInfoHash[this.getColumnID(_358)];if(_35a.options.inputType=="checkbox"||_35a.options.inputType=="radio"||_35a.options.inputType=="custom"){var _35b=[];if(this.isDrillDown&&this._dataList.options.depthColumn){_35b=this.dataList.getColData(_358);}else{_35b=this.getVisibleColData(_358);}var _35c=_35a;for(var i=0;i<_35b.length;i++){if(_35a.internal==false&&_35a.options.inputType=="custom"){var _35e=this.dataList.getRealRowIndex(i);_35c=_35a.cellManagerHashByRowIndex[_35e]?_35a.cellManagerHashByRowIndex[_35e]:_35a;if(_35c.options.inputType!="checkbox"&&_35c.options.inputType!="radio"){continue;}}else{if(this.groupbyStatus.grouped){if(typeof this.dataList.getRealRowIndex(i)=="object"){continue;}}}if(_35b[i]!=_35c.options.trueValue){if(this.groupbyStatus.grouped){_359.push(i);}else{_359.push(i);}}}}return _359;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ak.prototype.getAllDisplayData=function(){["WebSquare.uiplugin.gridViewApiController.prototype.getAllData"];this._endEdit();if(this.getTotalRow()!=this.getDataLength()){var _35f=[];for(var i=0;i<this.getTotalRow();i++){_35f=_35f.concat(this.dataList._getRowData(i,"displayData"));}return _35f;}else{var _35f=[];for(var i=0;i<this.getDataLength();i++){_35f=_35f.concat(this.dataList.getRowData(i,"displayData"));}return _35f;}};$W._a.ak.prototype.getAllDisplayJSON=function(){["WebSquare.uiplugin.gridViewApiController.prototype.getAllData"];this._endEdit();var _361=this.getTotalRow();var _362=[];for(var i=0;i<_361;i++){var _364=this.getColumnCount();var _365={};for(var col=0;col<_364;col++){_365[this.tdIdList[col]]=this._grid.getCellDisplayData(i,col);}_362.push(_365);}return _362;};$W._a.ak.prototype.getAllVisibleJSON=function(){["WebSquare.uiplugin.gridViewApiController.prototype.getAllData"];this._endEdit();var _367=this.getDataLength();var _368=[];for(var i=0;i<_367;i++){var _36a=this.getColumnCount();var _36b={};for(var col=0;col<_36a;col++){_36b[this.tdIdList[col]]=this._grid.getCellDisplayData(i,col);}_368.push(_36b);}return _368;};$W._a.ak.prototype.getAllDisplayXML=function(){["WebSquare.uiplugin.gridViewApiController.prototype.getAllDisplayXML"];this._endEdit();if(this.getTotalRow()!=this.getDataLength()){return this.getAllArrXML("displayData",this.id);}else{return this.getAllVisibleXML("displayData");}};$W._a.ak.prototype.getAllVisibleData=function(_36d){["WebSquare.uiplugin.gridViewApiController.prototype.getAllData"];this._endEdit();var _36e=this.dataList.getRangeData(0,this.getDataLength(),_36d);return _36e;};$W._a.ak.prototype.changeToRealRowIndexArr=function(_36f){["WebSquare.uiplugin.gridViewApiController.prototype.getDeletedXML"];var _370=[];for(var i=0;i<_36f.length;i++){_370.push(_36f[i]);}return _370;};$W._a.ak.prototype.getCheckedData=function(_372){["WebSquare.uiplugin.gridViewApiController.prototype.getCheckedData"];try{this._endEdit();var _373=[];var _374=this.getCheckedIndex(_372);for(var i=0;i<_374.length;i++){_373.push(this.dataList.getRowData(_374[i]));}return _373;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ak.prototype.getCheckedJSON=function(_376){["WebSquare.uiplugin.gridViewApiController.prototype.getCheckedJSON"];try{this._endEdit();var _377=[];var _378=this.getCheckedIndex(_376);for(var i=0;i<_378.length;i++){_377.push(this._dataList.getRowJSON(_378[i]));}return _377;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ak.prototype.getCheckedXML=function(_37a){["WebSquare.uiplugin.gridViewApiController.prototype.getCheckedXML"];try{this._endEdit();var _37b=this.getCheckedIndex(_37a);var _37c=this.getArrXML(_37b);return _37c;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ak.prototype.getUncheckedData=function(_37d){["WebSquare.uiplugin.gridViewApiController.prototype.getUncheckedData"];try{this._endEdit();var _37e=[];var _37f=this.getUncheckedIndex(_37d);for(var i=0;i<_37f.length;i++){_37e.push(this.dataList.getRowData(_37f[i]));}return _37e;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ak.prototype.getUncheckedJSON=function(_381){["WebSquare.uiplugin.gridViewApiController.prototype.getUncheckedJSON"];try{this._endEdit();var _382=[];var _383=this.getUncheckedIndex(_381);for(var i=0;i<_383.length;i++){_382.push(this._dataList.getRowJSON(_383[i]));}return _382;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ak.prototype.getUncheckedXML=function(_385){["WebSquare.uiplugin.gridViewApiController.prototype.getUncheckedXML"];try{this._endEdit();var _386=this.getUncheckedIndex(_385);var _387=this.getArrXML(_386);return _387;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ak.prototype.getCellChecked=function(_388,_389){["WebSquare.uiplugin.gridViewApiController.prototype.getCellChecked"];try{var _38a=[];var _38b=this.cellInfoHash[this.getColumnID(_389)];var _38c=_38b.id;if(_38b.internal==false&&_38b.options.inputType=="custom"){var _38d=this.dataList.getRealRowIndex(_388);_38b=_38b.cellManagerHashByRowIndex[_38d]?_38b.cellManagerHashByRowIndex[_38d]:_38b;}if(_38b.options.inputType!="checkbox"&&_38b.options.inputType!="radio"){return false;}var _38e=this.dataList.getCellData(_388,_38c);_38e=(_38e==_38b.options.trueValue)?true:false;return _38e;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ak.prototype.hasChild=function(_38f){return this.drilldown.hasChild(_38f);};$W._a.ak.prototype.comparator=function(a,b){["WebSquare.uiplugin.gridViewApiController.prototype.comparator"];var _392=(parseInt(b)==parseInt(a))?0:(parseInt(b)>parseInt(a))?1:-1;return _392;};$W._a.ak.prototype.getExcelAllXML=function(_393){["WebSquare.uiplugin.gridViewApiController.prototype.getExcelAllXML"];try{var _394=new Array();_394.push("<array><![CDATA[");_394.push("[\"");for(var i=0;i<this.getDataLength();i++){for(var j=0;j<this.getTotalCol();j++){_394.push(this.dataList.getCellData(i,this.getColumnID(j)));_394.push("\",\"");}}_394[_394.length-1]="\"]";_394.push("]]></array>");return (_394.join(""));}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ak.prototype.getExcelAllXMLDisplay=function(type){["WebSquare.uiplugin.gridViewApiController.prototype.getExcelAllXMLDisplay"];try{if(type==undefined){type=1;}var _398=new Array();_398.push("<array><![CDATA[");_398.push("[\"");var _399=this.getDataLength();var _39a=this.getColumnCount();for(var i=0;i<_399;i++){for(var j=0;j<_39a;j++){var _39d;var _39e=this.getCellInfo(j);if(_39e.options.inputType=="custom"){var _39f=this.dataList.getRealRowIndex(i);var _3a0=_39e.cellManagerHashByRowIndex[_39f];if(!_3a0){this.drawData(i);_39e=_39e.cellManagerHashByRowIndex[_39f]||_39e;}}if(_39e.useCustomFormatter){_39d=this._getDisplayData(this.dataList.getRealRowIndex(i),j);}else{if(type==1){_39d=_39e.getDisplayData(this.dataList.getCellData(i,this.getColumnID(j)),i);}else{_39d=this.dataList.getCellData(i,this.getColumnID(j));}}if(_39d.indexOf("javascript:")>-1){_39d=_39d.wq_replaceAll("javascript:","");}_398.push(_39d);_398.push("\",\"");}}_398[_398.length-1]="\"]";_398.push("]]></array>");return (_398.join(""));}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ak.prototype.getExcelAllXMLRaw=function(_3a1){["WebSquare.uiplugin.gridViewApiController.prototype.getExcelAllXML"];try{var len=this.dataArr.length;var _3a3=this.dataArr[0];var _3a4=this.dataArr[len-1];this.dataArr[0]="<array><![CDATA[[\""+_3a3;this.dataArr[len-1]=_3a4+"\"]]]></array>";var _3a5=this.dataArr.join("\",\"");this.dataArr[0]=_3a3;this.dataArr[len-1]=_3a4;return _3a5;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ak.prototype.makeExcelData=function(_3a6,_3a7,_3a8,_3a9){["WebSquare.uiplugin.gridViewApiController.prototype.makeExcelData"];try{var len=_3a7.length;var to=_3a6+_3a8.rowsByN;to=(to<_3a8.dataLength)?to:_3a8.dataLength;var _3ac=this.oneRowDataLength;var _3ad=_3a8.cellInfo;var _3ae=_3a8.isPlainDataCol;var _3af=_3a8.isSelectCol;var _3b0=_3a8.isBasicCol;var _3b1=_3a8.isExpCol;var _3b2=_3a8.isCustomCol;var _3b3=_3a8.separator||",";if(_3a8.dataProvider==""&&_3a8.splitProvider==""){if(_3a8.type===0){for(var i=_3a6;i<to;i++){var _3b5=this.dataList.getRealRowIndex(i);if(typeof _3b5!="number"){continue;}for(var j=0;j<_3ac;j++){if(_3b1[j]){_3a7[len++]=_3ad[j].getExpressionValue(_3b5);}else{var _3b7=this.dataList._getData(_3b5,j);_3a7[len++]=(_3b7!==null&&_3b7!==undefined)?_3b7:"";}}}}else{if(_3a8.type===1||_3a8.type==2){for(var i=_3a6;i<to;i++){var _3b5=this.dataList.getRealRowIndex(i);if(typeof _3b5!="number"){continue;}for(var j=0;j<_3ac;j++){var _3b7;if(_3b1[j]){_3b7=_3ad[j].getExpressionValue(_3b5);}if(_3b2[j]){_3b7=this._getDisplayData(_3b5,j);}else{_3b7=this.dataList._getData(_3b5,j);_3b7=(_3b7!==null&&_3b7!==undefined)?_3b7:"";}if(_3b0[j]||_3b1[j]){_3b7=_3ad[j].formatter?_3ad[j].formatter.format(_3b7):_3b7;}else{if(_3af[j]){var ret=null;if(_3a8.type==1){ret=_3ad[j].getData(_3b7,_3b5);}else{if(_3a8.type==2){ret=this.dataList._getData(_3b5,j);}}if(ret==null){ret="";}_3b7=ret.wq_replaceAll("\t"," ");_3b7=ret;}}if(_3b7.indexOf("javascript:")>-1){_3b7=_3b7.wq_replaceAll("javascript:","");}_3a7[len++]=_3b7;}}}else{to=_3a8.dataLength;_3a7=this.dataList.getAllData();len=_3a7.length;}}}var _3b9=this;if(to<_3a8.dataLength&&(_3a8.dataProvider==""&&_3a8.splitProvider=="")){if(_3a8.massStorage!==false){this.excelTime=setTimeout(function(){try{if(_3a8.showConfirm===true){window["gridExceldownloadIframe"].contentWindow.checkUpload(_3a7.length/_3b9.dataArr.length);}}catch(e){}_3b9.makeExcelData(to,_3a7,_3a8,_3a9);},10);}else{this.makeExcelData(to,_3a7,_3a8,_3a9);}}else{var _3ba;if(_3a8.dataProvider==""&&_3a8.splitProvider==""){if(_3a7.length>=2){if(_3a8.groupby&&this.groupbyStatus.grouped){if(this.defaultColCnt>0){var _3b5=1;var _3bb=this.getColCnt();var _3bc=[];for(var i=0;i<_3a7.length;i++){if(i%_3bb==0||i==0){_3b5=parseInt(i/_3bb,10);if(this.options.rowNumVisible){_3bc.push(_3b5+1);}if(this.options.rowStatusVisible){var _3bd=this.getDisplayRowIndex(_3b5);var _3be=this.getRowStatus(_3b5);_3bc.push(_3be);}}_3bc.push(_3a7[i]);}_3a7=_3bc;len=_3a7.length;}}if(len>0){var _3bf=_3a7[0];var _3c0=_3a7[len-1];_3a7[0]="<array><![CDATA[[\""+_3bf;_3a7[len-1]=_3c0+"\"]]]></array>";_3ba=_3a7.join("\""+_3b3+"\"");_3a7[0]=_3bf;_3a7[len-1]=_3c0;}else{_3ba="<array><![CDATA[["+_3a7+"]]]></array>";}}else{var data=(_3a7.length===1)?("\""+_3a7[0]+"\""):"";_3ba="<array><![CDATA[["+data+"]]]></array>";}}else{_3ba="<array><![CDATA[[ ]]]></array>";}if(_3a8.showConfirm===true){this.excelOptions=_3a8;this.excelInfoArr=_3a9;this.excelFinalStr=_3ba;this.checkUpload();}else{if(_3a8.multiexcel==false){this.sendExcelData(_3a8,_3a9,_3ba);}else{var hash=this.sendExcelData(_3a8,_3a9,_3ba);return hash;}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ak.prototype.getRowStyleClassName=function(_3c3){["WebSquare.uiplugin.gridViewApiController.prototype.getRowStyleClassName"];try{var _3c4=!!(this.isDrillDown&&this._dataList.options.depthColumn);var _3c5=(_3c4)?_3c3:this.dataList.getRealRowIndex(_3c3);if(_3c5==null){return null;}else{if(typeof _3c5!="number"){_3c5=_3c5.type+"_"+_3c5.groupId;}}return this.rowStyleArr[_3c5];}catch(e){$l("getRowStyleClassName :"+e.message);$W.exception.printStackTrace(e,null,this);}};$W._a.ak.prototype.setRowStyleClassName=function(_3c6,_3c7){["WebSquare.uiplugin.gridViewApiController.prototype.setRowStyleClassName"];try{var _3c8=!!(this.isDrillDown&&this._dataList.options.depthColumn);var _3c9=(_3c8)?_3c6:this.dataList.getRealRowIndex(_3c6);if(_3c9==null){return;}else{if(typeof _3c9!="number"){_3c9=_3c9.type+"_"+_3c9.groupId;}}this.rowStyleArr[_3c9]=_3c7;}catch(e){$l("setRowStyleClassName :"+e.message);$W.exception.printStackTrace(e,null,this);}};$W._a.ak.prototype.getCellStyleClassName=function(_3ca,_3cb){["WebSquare.uiplugin.gridViewApiController.prototype.getCellStyleClassName"];try{if(typeof _3cb!="number"){_3cb=this.bodyIdColIndexMap[_3cb];}var _3cc=!!(this.isDrillDown&&this._dataList.options.depthColumn);var _3cd=(_3cc)?_3ca:this.dataList.getRealRowIndex(_3ca);if(_3cd==null){return null;}else{if(typeof _3cd=="number"){return this.cellStyleArr[_3cd*this.oneRowDataLength+_3cb];}else{return this.cellStyleArr[_3cd.type+"_"+_3cd.groupId+"_"+_3cb];}}}catch(e){$l("getCellStyleClassName :"+e.message);$W.exception.printStackTrace(e,null,this);}};$W._a.ak.prototype.setCellStyleClassName=function(_3ce,_3cf,_3d0){["WebSquare.uiplugin.gridViewApiController.prototype.setCellStyleClassName"];try{_3cf=this.getColumnIndex(_3cf);var _3d1=!!(this.isDrillDown&&this._dataList.options.depthColumn);var _3d2=(_3d1)?_3ce:this.dataList.getRealRowIndex(_3ce);if(_3d2==null){return;}else{if(typeof _3d2=="number"){this.cellStyleArr[_3d2*this.oneRowDataLength+_3cf]=_3d0;}else{this.cellStyleArr[_3d2.type+"_"+_3d2.groupId+"_"+_3cf]=_3d0;}}}catch(e){$l("setCellStyleClassName :"+e.message);$W.exception.printStackTrace(e,null,this);}};$W._a.ak.prototype.refreshColumnItemset=function(_3d3){["WebSquare.uiplugin.gridViewApiController.prototype.refreshColumnItemset"];try{var _3d4=this.getCellInfo(_3d3);_3d4.resetMatchInfo=true;if(_3d4.options.embeddedInput){_3d3=this.getColumnIndex(_3d4.options.col_id);for(var i=0;i<this.drawedRowLength;i++){var td=this.data_td_list[_3d3+i*this.oneRowDataLength];if(td){var _3d7=this.dom[td.getAttribute("id")+"_select"];if(_3d7){_3d7.refreshItemset();}}}}else{if(_3d4.options.inputType=="select"){if(_3d4.hasRef){_3d4.refHash=[];}if(_3d4.select){_3d4.select.refreshItemset();}if(_3d4.itemsetObj){_3d4.mainGrid.refresh();}}else{if(_3d4.options.inputType=="checkcombobox"){_3d4.refreshItemArr();if(_3d4.checkcombobox){}}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ak.prototype.refreshRadioGroup=function(_3d8){["WebSquare.uiplugin.gridViewApiController.prototype.refreshRadioGroup"];try{var _3d9={};var _3da=[];for(var i=0;i<this.oneRowDataLength;i++){var _3dc=this.getCellInfo(i);if(_3dc.options.inputType=="radio"&&_3dc.options.groupName==_3d8){if(_3dc.options.groupRef){_3dc.options.groupValue=$W._J.getInstanceValue(_3dc.options.groupRef);}_3d9[_3dc.options.groupValue]=_3dc;_3da.push(_3dc);}}if(_3da.length==0){return;}var len=this.getDataLength();for(var i=0;i<len;i++){var _3de=this.dataList.getCellData(i,_3d8);var _3df=_3d9[_3de];if(_3df){this.dataList.setCellData(i,_3df.id,_3df.options.trueValue);}else{for(var j=0;j<_3da.length;j++){var _3dc=_3da[j];this.dataList.setCellData(i,_3dc.id,_3dc.options.defaultValue);}var _3e1=this.getCellInfo(_3d8);if(_3e1){this.dataList.setCellData(i,_3d8,_3e1.options.defaultValue);}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ak.prototype.resetRadioGroup=function(_3e2,_3e3){return this._resetRadioGroup.call(this,_3e2,_3e3,true);};$W._a.ak.prototype._resetRadioGroup=function(_3e4,_3e5,_3e6){["WebSquare.uiplugin.gridViewApiController.prototype.refreshRadioGroup"];try{var _3e7=[];for(var i=0;i<this.oneRowDataLength;i++){var _3e9=this.getCellInfo(i);if(_3e9.options.inputType=="radio"&&_3e9.options.groupName==_3e5){_3e7.push(_3e9);}}if(_3e7.length==0){return;}if(typeof _3e4=="number"){var _3ea=_3e4;var end=_3e4+1;}else{var _3ea=0;var end=this.getDataLength();}for(var i=_3ea;i<end;i++){for(var j=0;j<_3e7.length;j++){var _3e9=_3e7[j];this.dataList.setCellData(i,_3e9.id,_3e9.options.defaultValue);}if(_3e6){var _3ed=this.getCellInfo(_3e5);if(_3ed){this.dataList.setCellData(i,_3e5,_3ed.options.defaultValue);}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ak.prototype.xmlData2ArrData=function(_3ee){["WebSquare.uiplugin.gridViewApiController.prototype.xmlData2ArrData"];try{if(_3ee==null){return;}if(_3ee.nodeType==9){var _3ef=_3ee.selectNodes("/"+this.options.baseNode+"/"+this.options.repeatNode);}else{var _3f0=this.options.baseNode;if(_3f0.startsWith(_3ee.tagName)){var _3f0=_3f0.replace(_3ee.tagName,".");var _3ef=_3ee.selectNodes(_3f0+"/"+this.options.repeatNode);}else{_3ee=$W._B.parse($W._B.serialize(_3ee));var _3ef=_3ee.selectNodes("/"+this.options.baseNode+"/"+this.options.repeatNode);}}var _3f1=[];var _3f2=this.options.valueNode;var _3f3=_3f2==null||_3f2=="";var _3f4=$W._G.getTextNodeValue;var _3f5=_3ef.length;var _3f6=this.tdIdList.length;var _3f7=[];var _3f8=[];var _3f9=[];for(var i=0;i<_3f6;i++){_3f7[i]=this.getCellInfo(this.tdIdList[i]);var _3fb=_3f7[i].options;if(_3fb.importFormatter!=null&&_3fb.importFormatter!=""){_3f8[i]=true;}if(_3fb.importExp!=null&&_3fb.importExp!=""){_3f9[i]=true;}}for(var i=0;i<_3f5;i++){var obfuscator_i=i;var obfuscator_rowXml=_3ef[i];var len=_3f1.length;for(var j=0;j<_3f6;j++){var node=_3ef[i].selectSingleNode(this.tdIdList[j]);if(node!=null){if(_3f3){_3f1[len+j]=_3f4(node);}else{_3f1[len+j]=node.getAttribute(_3f2);}}else{_3f1[len+j]=_3f7[j].options.defaultValue;}}for(var j=0;j<_3f6;j++){if(_3f8[j]){try{var _3ff=$W._G.getGlobalFunction(_3f7[j].options.importFormatter,this.scope_id);_3f1[len+j]=_3ff.call(this,obfuscator_rowXml,obfuscator_i);}catch(e){_3f1[len+j]=_3f7[j].options.defaultValue;$W.exception.printStackTrace(e,null,this);}}}for(var j=0;j<_3f6;j++){if(_3f9[j]){try{var _400=eval(_3f7[j].options.importExp);_3f1[len+j]=_400;}catch(e){_3f1[len+j]=_3f7[j].options.defaultValue;$W.exception.printStackTrace(e,null,this);}}}for(var j=0;j<_3f6;j++){if(_3f7[j].options.inputType=="radio"&&_3f7[j].options.groupName){if(this.cellInfoHash[_3f7[j].options.groupName]){var _401=_3f7[j].options.trueValue;var _402=_3f7[j].options.falseValue;switch(_3f7[j].options.valueType){case "binary":_401="1";_402="0";break;case "boolean":_401="true";_402="false";break;case "other":break;}var _403=this.columnValue(obfuscator_rowXml,_3f7[j].options.groupName);if(_403==_3f7[j].options.groupValue){_3f1[len+j]=_401;}else{_3f1[len+j]=_402;}}}if(this.options.xmlEncode){if(_3f1[len+j]!=null){_3f1[len+j]=$W._B.decode(_3f1[len+j]);}}}}return _3f1;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ak.prototype.jsonData2ArrData=function(_404){["WebSquare.uiplugin.gridViewApiController.prototype.jsonData2ArrData"];try{if(_404==null){return;}var _405=[];var _406=this.options.valueNode;var _407=_404.length;var _408=this.cellIdList.length;var _409=[];for(var i=0;i<_408;i++){_409[i]=this.getCellInfo(this.cellIdList[i]);}for(var i=0;i<_407;i++){var obfuscator_i=i;var obfuscator_rowXml=_404[i];var len=_405.length;for(var j=0;j<_408;j++){if(_409[j].options.importFormatter){try{var _40d=$W._G.getGlobalFunction(_409[j].options.importFormatter,this.scope_id);_405[len+j]=_40d.call(this,obfuscator_rowXml,obfuscator_i);}catch(e){_405[len+j]=_409[j].options.defaultValue;$W.exception.printStackTrace(e,null,this);}}else{if(_409[j].options.importExp){try{var _40e=eval(_409[j].options.importExp);_405[len+j]=_40e;}catch(e){_405[len+j]=_409[j].options.defaultValue;$W.exception.printStackTrace(e,null,this);}}else{var node=_404[i][this.cellIdList[j]];if(node!=null){_405[len+j]=node;}else{_405[len+j]=_409[j].options.defaultValue;}}}}}return _405;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ak.prototype.xpathValue=function(_410,_411){["WebSquare.uiplugin.gridViewApiController.prototype.xpathValue"];try{var v=$W._B.findNode(_410,_411);if(v==null){return "";}if(v.nodeType==1){for(var _413=v.firstChild;_413!=null;_413=_413.nextSibling){if(_413.nodeType==3){return _413.nodeValue;}}}else{return v.nodeValue;}}catch(e){$l("xpath exeption");$W.exception.printStackTrace(e,null,this);}return "";};$W._a.ak.prototype.getAllArrXML=function(_414){["WebSquare.uiplugin.gridViewApiController.prototype.getArrXML"];try{var _415=false;this.tagNmArr=this._dataList.options.baseNode.replace(/\[[^\]]+\]/g,"").split("/");for(var i=0;i<this.tagNmArr.length;i++){if(this.tagNmArr[i]!=null&&this.tagNmArr[i].wq_trim()!=""){if(!_415){var _417=$W._B.parse("<"+this.tagNmArr[i]+"/>");var _418=[];_418.push(_417.documentElement);_415=true;}else{_418.push(_417.createElement(this.tagNmArr[i]));_418[i-1].appendChild(_418[i]);}}}var _419=this._dataList.options.repeatNode.replace(/\[[^\]]+\]/g,"").split("/");var _41a=null;for(var i=0;i<this.getTotalRow();i++){var obfuscator_rowIndex=i;_41a=[];var obfuscator_objLastNode=null;for(var j=0;j<_419.length;j++){if(_419[j]!=""){var _41c=_417.createElement(_419[j]);_41a.push(_41c);if(j==0){_418[_418.length-1].appendChild(_41c);}else{_41a[j-1].appendChild(_41a[j]);}}}obfuscator_objLastNode=_41a[_419.length-1];obfuscator_objLastNode.setAttribute("status",this.dataList._getRowStatusValue(obfuscator_rowIndex));obfuscator_objLastNode.setAttribute("statusValue",this.dataList._getRowStatus(obfuscator_rowIndex));obfuscator_objLastNode.setAttribute("id",obfuscator_rowIndex);var _41d=this.getColumnCount();var _41e=new Array(_41d);for(var col=0;col<_41d;col++){var obfuscator_cellValue="";if(_414!="displayData"){obfuscator_cellValue=this._dataList._getData(obfuscator_rowIndex,col);}else{obfuscator_cellValue=this._getDisplayData(obfuscator_rowIndex,col);}if(this.options.xmlEncode){obfuscator_cellValue=$W._B.encode(obfuscator_cellValue);}var obfuscator_columnID=this.getColumnID(col);var _420=this.getCellInfo(col);if(_420.options.exportFormatter!=""){try{eval(_420.options.exportFormatter+"(obfuscator_objLastNode, obfuscator_cellValue , obfuscator_rowIndex , obfuscator_columnID )");}catch(e){$W.exception.printStackTrace(e,null,this);$l("xmlDtaGetter - tdObj.exportFormatter error");}}else{_41e[col]=_417.createElement(this.getColumnID(col));if(this._dataList.options.valueAttribute==""){var _421=_417.createTextNode(obfuscator_cellValue);_41e[col].appendChild(_421);}else{_41e[col].setAttribute(this._dataList.options.valueAttribute,obfuscator_cellValue);}obfuscator_objLastNode.appendChild(_41e[col]);}}}return _417;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ak.prototype.getArrXML=function(_422,_423){["WebSquare.uiplugin.gridViewApiController.prototype.getArrXML"];try{if(_422 instanceof Array){var _424=false;this.tagNmArr=this._dataList.options.baseNode.replace(/\[[^\]]+\]/g,"").split("/");for(var i=0;i<this.tagNmArr.length;i++){if(this.tagNmArr[i]!=null&&this.tagNmArr[i].wq_trim()!=""){if(!_424){var _426=$W._B.parse("<"+this.tagNmArr[i]+"/>");var _427=[];_427.push(_426.documentElement);_424=true;}else{_427.push(_426.createElement(this.tagNmArr[i]));_427[i-1].appendChild(_427[i]);}}}var _428=this._dataList.options.repeatNode.replace(/\[[^\]]+\]/g,"").split("/");var _429=null;for(var i=0;i<_422.length;i++){var obfuscator_rowIndex=_422[i];_429=[];var obfuscator_objLastNode=null;for(var j=0;j<_428.length;j++){if(_428[j]!=""){var _42b=_426.createElement(_428[j]);_429.push(_42b);if(j==0){_427[_427.length-1].appendChild(_42b);}else{_429[j-1].appendChild(_429[j]);}}}obfuscator_objLastNode=_429[_428.length-1];obfuscator_objLastNode.setAttribute("status",this.dataList.getRowStatusValue(obfuscator_rowIndex));obfuscator_objLastNode.setAttribute("statusValue",this.dataList.getRowStatus(obfuscator_rowIndex));obfuscator_objLastNode.setAttribute("id",obfuscator_rowIndex);var _42c=this.getColumnCount();var _42d=new Array(_42c);for(var col=0;col<_42c;col++){var obfuscator_cellValue="";if(_423!="displayData"){obfuscator_cellValue=this.dataList.getCellData(obfuscator_rowIndex,col);if(obfuscator_cellValue==null){obfuscator_cellValue="";}}else{obfuscator_cellValue=this.getCellDisplayData(obfuscator_rowIndex,col);if(obfuscator_cellValue==null){obfuscator_cellValue="";}}if(this.options.xmlEncode){obfuscator_cellValue=$W._B.encode(obfuscator_cellValue);}var obfuscator_columnID=this.getColumnID(col);var _42f=this.getCellInfo(col);if(_42f.options.exportFormatter!=""){try{eval(_42f.options.exportFormatter+"(obfuscator_objLastNode, obfuscator_cellValue , obfuscator_rowIndex , obfuscator_columnID )");}catch(e){$W.exception.printStackTrace(e,null,this);$l("xmlDtaGetter - tdObj.exportFormatter error");}}else{_42d[col]=_426.createElement(this.getColumnID(col));if(this._dataList.options.valueAttribute==""){var _430=_426.createTextNode(obfuscator_cellValue);_42d[col].appendChild(_430);}else{_42d[col].setAttribute(this._dataList.options.valueAttribute,obfuscator_cellValue);}obfuscator_objLastNode.appendChild(_42d[col]);}}}return _426;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ak.prototype.getAllVisibleXML=function(_431){["WebSquare.uiplugin.gridViewApiController.prototype.getAllVisibleXML"];try{this._endEdit();var _432=this.getDataLength();var _433=[];for(var i=0;i<_432;i++){_433.push(i);}var _435=this.getArrXML(_433,_431);return _435;}catch(e){$W.exception.printStackTrace(e);}};$W._a.ak.prototype.getDisplayRowIndex=function(_436){["WebSquare.uiplugin.gridViewApiController.prototype.getDisplayRowIndex"];try{var _437=this._linkedDataList||this._dataList;return _437.getFilteredRowIndex(_436);}catch(e){$W.exception.printStackTrace(e);}};$W._a.ak.prototype.getOption=function(_438){["WebSquare.uiplugin.gridViewApiController.prototype.getOption"];try{return this.options[_438];}catch(e){$W.exception.printStackTrace(e);}};$W._a.ak.prototype.getDataList=function(){["WebSquare.uiplugin.gridViewApiController.prototype.getOption"];try{var _439=this._linkedDataList||this._dataList;if(_439){return _439.id;}else{return null;}}catch(e){$W.exception.printStackTrace(e);}};$W._a.ak.prototype.makeCustomFilter=function(){["WebSquare.uiplugin.gridViewApiController.prototype.makeCustomFilter"];try{if(this.customFilter!=null){this.customFilter.remove();}this.customFilter=new $W._a._e(this.id+"_customFilter",{style:"position:absolute; border-width:1px;",className:"w2grid_customFilter",useModal:true,headerLeftClass:"w2grid_customFilter_HL",headerRightClass:"w2grid_customFilter_HR",headerCenterClass:"w2grid_customFilter_HC",bodyLeftClass:"w2grid_customFilter_BL",bodyRightClass:"w2grid_customFilter_BR",bodyCenterClass:"w2grid_customFilter_BC",bodyLeftBottomClass:"w2grid_customFilter_FL",bodyRightBottomClass:"w2grid_customFilter_FR",bodyBottomClass:"w2grid_customFilter_FC",closeButtonClass:"w2grid_customFilter_btnClose",title:$W._m.getMessage("Grid_filter_title")||"\uc0ac\uc6a9\uc790 \uc9c0\uc815 \ud544\ud130",titleClass:"w2grid_customFilter_title"});var _43a=new $W._a.aV(this.id+"_text1_"+this.headerID,{style:"position:absolute; margin:10px;",className:"w2grid_customFilter_text",label:$W._m.getMessage("Grid_filter_search_label")||"\ucc3e\uc744 \uc870\uac74"});this.customFilter.addControl(_43a);this.selectboxItemSet=["=","<>",">",">=","<","<=",$W._m.getMessage("Grid_filter_condition1")||"\uc2dc\uc791\ubb38\uc790",$W._m.getMessage("Grid_filter_condition2")||"\uc81c\uc678\ud560 \uc2dc\uc791 \ubb38\uc790",$W._m.getMessage("Grid_filter_condition3")||"\ub05d \ubb38\uc790",$W._m.getMessage("Grid_filter_condition4")||"\uc81c\uc678\ud560 \ub05d \ubb38\uc790",$W._m.getMessage("Grid_filter_condition5")||"\ud3ec\ud568",$W._m.getMessage("Grid_filter_condition6")||"\ud3ec\ud568\ud558\uc9c0 \uc54a\uc74c"];this.customFilterItemCnt=0;this.groupList=[];var _43b=new $W._a._p(this.id+"_item_"+this.customFilterItemCnt,{style:"position:absolute; width:100%; height:22px; margin-bottom:5px; background-color:transparent;"});this.customFilter.addControl(_43b);this.groupList.push(_43b);var _43c=new $W._a._r(_43b.id+"_selectbox_"+this.headerID,{style:"position:absolute;",className:"w2grid_customFilter_selectbox",textAlign:"left",chooseOption:true});_43b.addControl(_43c);var _43d=new $W._a.ao(_43b.id+"_autocomplete_"+this.headerID,{style:"position:absolute;",className:"w2grid_customFilter_autocomplete",noResult:"useData",chooseOption:true,caseSensitive:false});_43b.addControl(_43d);if(this.options.useFilterList){var _43e=this.changeItemValue("label",this.targetColID,this.colDataList);for(var j=0;j<this.colDataList.length;j++){_43d.addItem(_43e[j],this.colDataList[j]);}}else{if(this.colDataList){for(var j=0;j<this.colDataList.length;j++){_43d.addItem(this.colDataList[j],this.colDataList[j]);}}}var _440=this.headCellInfoHash[this.headerID].getAttribute("customFilterItemCnt")||2;for(var i=0;i<_440-1;i++){this.addCustomFilterItem();}var _442=new $W._a.aV(this.id+"_text2_"+this.headerID,{style:"position:absolute; margin-left:10px; margin-top:5px;",className:"w2grid_customFilter_text",label:$W._m.getMessage("Grid_filter_info_Label1")||"? \uae30\ud638\ub97c \uc0ac\uc6a9\ud558\uc5ec \ud55c\ubb38\uc790\ub97c \ub098\ud0c0\ub0bc \uc218 \uc788\uc2b5\ub2c8\ub2e4."});this.customFilter.addControl(_442);var _443=new $W._a.aV(this.id+"_text3_"+this.headerID,{style:"position:absolute; margin:5px; margin-bottom:10px; margin-left:10px;",className:"w2grid_customFilter_text",label:$W._m.getMessage("Grid_filter_info_Label2")||"* \uae30\ud638\ub97c \uc0ac\uc6a9\ud558\uc5ec \uc5ec\ub7ec \ubb38\uc790\ub97c \ub098\ud0c0\ub0bc \uc218 \uc788\uc2b5\ub2c8\ub2e4."});this.customFilter.addControl(_443);var _444=new $W._a._p(this.id+"_buttonGroup_"+this.headerID,{style:"position:absolute;",className:"w2grid_customFilter_buttonGroup"});this.customFilter.addControl(_444);var _445=this;var _446=new $W._a.aV(this.id+"_btnConform_"+this.headerID,{style:"position:absolute; border-width:1px;",className:"w2grid_customFilter_button",label:"\ud655\uc778",xmlEvents:[{name:"onclick",action:"script",param:{handler:function(e){_445.setCustomFilterExpression();if(_445.groupbyStatus&&_445.groupbyStatus.grouped&&_445.options.groupbyFilterBox){_445.groupbyStatus.UserFilterAction=true;_445.appendGroupbyFilter();}}}}]});_444.addControl(_446);_446.addEvent("onmousedown",function(){_446.toggleClass("w2grid_customFilter_button_selected");this.customFilterBtnSelected=true;});_446.addEvent("onmouseup",function(){_446.toggleClass("w2grid_customFilter_button_selected");this.customFilterBtnSelected=false;});_446.addEvent("onmouseout",function(){_446.toggleClass("w2grid_customFilter_button_selected");});var _448=new $W._a.aV(this.id+"_btnCancel",{style:"position:absolute; border-width:1px;",className:"w2grid_customFilter_button",label:"\ucde8\uc18c",xmlEvents:[{name:"onclick",action:"script",param:{handler:function(e){if(_445.options.groupbyZone){if(_445.firstOpenCustomFilter[_445.headerID]){_445.firstOpenCustomFilter[_445.headerID]=false;}}_445.customFilter.hide();}}}]});_444.addControl(_448);_448.addEvent("onmousedown",function(){_448.toggleClass("w2grid_customFilter_button_selected");});_448.addEvent("onmouseup",function(){_448.toggleClass("w2grid_customFilter_button_selected");});_448.addEvent("onmouseout",function(){_448.toggleClass("w2grid_customFilter_button_selected");});this.customFilter.writeTo($W.getBody());this.customFilter.activate();this.setChildrenPosition();this.setDefaultValue();_448.render.style.left=_444.render.offsetWidth-_448.render.offsetWidth-10+"px";_446.render.style.left=parseInt(_448.render.style.left,10)-_446.render.offsetWidth-5+"px";this.customFilter.hide();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ak.prototype.setDefaultValue=function(){for(var i=0;i<this.groupList.length;i++){var _44b=this.groupList[i];var _44c=_44b.getChildren();for(var j=0;j<_44c.length;j++){var comp=_44c[j];if(comp.id.indexOf("_selectbox")!=-1){for(var k=0;k<this.selectboxItemSet.length;k++){comp.addItemArr(this.selectboxItemSet[k],this.selectboxItemSet[k]);}var _450=this.itemValueObj[this.targetColID]["select"+i];comp.setSelectedIndex(_450?_450:0);}else{if(comp.id.indexOf("_autocomplete")!=-1){var _451=this.itemValueObj[this.targetColID]["auto"+i];comp.setValue(_451?_451:"");}else{if(comp.id.indexOf("_radio")!=-1){comp.addItem("OR","OR","0");comp.addItem("AND","AND","0");var _452=this.itemValueObj[this.targetColID]["radio"+i];comp.setSelectedIndex(_452?_452:0);}}}}}};$W._a.ak.prototype.getUniqueValueOfArray=function(arr){arr.sort();for(var i=1;i<arr.length;i++){if(arr[i]===arr[i-1]||((arr[i]+"")===(arr[i+1]+""))){arr.splice(i--,1);}}return arr;};$W._a.ak.prototype.setAutoCompleteItem=function(_455){var _456=this.dataList.getColData(_455);for(key in this.itemValueObj[this.targetColID]){if(key.indexOf("auto")!=-1){if(this.itemValueObj[this.targetColID][key]!=""){_456.push(this.itemValueObj[this.targetColID][key]);}}}this.colDataList=this.getUniqueValueOfArray(_456);this.colDataList.sort(function(a,b){return a-b;});};$W._a.ak.prototype.showFilterOptions=function(_459){if(this.options.useFilterList){if(this.customFilterList&&this.customFilterScrollView){this.toggleCustomFilterList(_459);}else{this.createCustomFilterList(_459);}}else{this.showCustomFilter(_459);}};$W._a.ak.prototype.showCustomFilter=function(_45a){this.noevent=true;if(this.options.useFilterList&&!this.groupbyStatus.grouped){this.showFilterOptions(_45a);return;}this._showCustomFilter(_45a);};$W._a.ak.prototype.showCustomFilter2=function(_45b){this.noevent=true;this._showCustomFilter(_45b);};$W._a.ak.prototype._showCustomFilter=function(_45c){this.headerID=_45c;this.targetColID=this.getColIdByHeaderId(_45c);if(this.customFilter==null){this.itemValueObj={};this.customFilterStatusObj={};}if(!this.itemValueObj[this.targetColID]){this.itemValueObj[this.targetColID]={};}this.setAutoCompleteItem(this.targetColID);this.makeCustomFilter();var _45d;var _45e;if(this.render.parentNode.tagName=="BODY"){_45d=this.render.offsetTop;_45e=this.render.offsetLeft;}else{_45d=$W._H.getAbsoluteTop(this.render);_45e=$W._H.getAbsoluteLeft(this.render);if(!$W._G.isIEAllVersion("5 6 7")){var _45f=parseInt($W._G.getStyleProperty(document.body.firstChild,"margin-top"))||0;_45d-=_45f;}}var _460=this.getHeaderPosition(_45c,"top");var _461=this.getHeaderPosition(_45c,"left");var _462=this.getHeaderSize(_45c,"width");var _463=this.getHeaderSize(_45c,"height");var _464=0,screenHeight=0;if(typeof (window.innerWidth)=="number"){_464=window.innerWidth;screenHeight=window.innerHeight;}else{if(document.documentElement&&(document.documentElement.clientWidth||document.documentElement.clientHeight)){_464=document.documentElement.clientWidth;screenHeight=document.documentElement.clientHeight;}else{if(document.body&&(document.body.clientWidth||document.body.clientHeight)){_464=document.body.clientWidth;screenHeight=document.body.clientHeight;}}}var _465=parseInt($W._G.getStyleProperty(this.customFilter.render,"width"),10);var _466=parseInt($W._G.getStyleProperty(this.customFilter.render,"height"),10);var _467=0;var _468=0;var top,left;if($W._G.isIE("6 7 8")){top=document.documentElement.scrollTop;left=document.documentElement.scrollLeft;}else{top=window.pageYOffset;left=window.pageXOffset;}if(_45e+_461+_462+_465<=_464+left){_467=_45e+_461+_462;}else{_467=_45e+_461-_465;}if(_45d+_460+_463+_466<=screenHeight+top){_468=_45d+_460+_463;}else{_468=_45d+this.render.offsetHeight-_466;}if(_467<left){_467=(_464-_465)/2+left;_468=_45d+this.render.offsetHeight;if(_468+_466>screenHeight+top){_468=_45d-_466;}}if(_468<top){_468=(screenHeight-_466)/2+top;}this.customFilter.render.style.left=_467+"px";this.customFilter.render.style.top=_468+"px";this.customFilter.show();};$W._a.ak.prototype.addCustomFilterItem=function(){this.customFilterItemCnt++;var _46a=new $W._a._p(this.id+"_item_"+this.customFilterItemCnt,{style:"position:absolute;",className:"w2grid_customFilter_item"});this.customFilter.addControl(_46a);this.groupList.push(_46a);var _46b=new $W._a._q(_46a.id+"_radio",{style:"position:absolute; left:50px; height:20px;",className:"w2grid_customFilter_radio",selectedIndex:0,cols:2,rows:1});_46a.addControl(_46b);var _46c=new $W._a._r(_46a.id+"_selectbox",{style:"position:absolute; top:25px;",className:"w2grid_customFilter_selectbox",textAlign:"left",chooseOption:true});_46a.addControl(_46c);var _46d=new $W._a.ao(_46a.id+"_autocomplete",{style:"position:absolute; top:25px;",className:"w2grid_customFilter_autocomplete",noResult:"useData",chooseOption:true,caseSensitive:false});_46a.addControl(_46d);if(this.options.useFilterList){var _46e=this.changeItemValue("label",this.targetColID,this.colDataList);for(var j=0;j<this.colDataList.length;j++){_46d.addItem(_46e[j],this.colDataList[j]);}}else{for(var j=0;j<this.colDataList.length;j++){_46d.addItem(this.colDataList[j],this.colDataList[j]);}}};$W._a.ak.prototype.setChildrenPosition=function(){var _470=this.customFilter.getChildren();for(var i=1;i<=_470.length;i++){var _472=$W._H.getStyle(_470[i-1].render,"top");_472=_472==="auto"?"0":_472;if(i===_470.length){break;}var _473=$W._H.getStyle(_470[i-1].render,"margin-bottom");_473=_473==="auto"?"0":_473;_470[i].render.style.top=_470[i-1].render.offsetHeight+5+parseInt(_472?_472:"0",10)+parseInt(_473?_473:"0",10)+"px";}var _474=this.customFilter.dom["closeButton"].parentNode.offsetHeight;var _475=_470[i-1].render.offsetHeight+10+parseInt(_472?_472:"0",10);this.customFilter.setSize(this.customFilter.render.offsetWidth,_474+_475+6);};$W._a.ak.prototype.replacechar=function(_476){if(_476=="^"||_476=="$"||_476=="."||_476=="["||_476=="]"||_476=="{"||_476=="}"||_476=="+"||_476=="("||_476==")"||_476=="|"){return "\\"+_476;}else{if(_476=="\\"){return "\\"+_476;}}};$W._a.ak.prototype.setCustomFilterExpression=function(){this.dataList.removeColumnFilter(this.targetColID);var _477=true;var _478=[];for(var i=0;i<this.groupList.length;i++){var _47a={};var _47b=this.groupList[i];var _47c=_47b.getChildren();for(var j=0;j<_47c.length;j++){var comp=_47c[j];if(comp.id.indexOf("_selectbox")!=-1){_47a["select"]=comp.getSelectedIndex();this.itemValueObj[this.targetColID]["select"+i]=comp.getSelectedIndex();_477=_477&&comp.getSelectedIndex()==0;}else{if(comp.id.indexOf("_autocomplete")!=-1){var _47f=this;var sReg=/[\^\$\.\[\]\{\}\+\(\)\|\\]/g;_47a["auto"]=comp.getValue()!=comp.options.chooseOptionLabel?(comp.getValue()+"").replace(sReg,function(m){return _47f.replacechar(m);}).replace("?",".").replace("*",".*"):"";this.itemValueObj[this.targetColID]["auto"+i]=comp.getValue();_477=_477&&comp.getValue()==comp.options.chooseOptionLabel;}else{if(comp.id.indexOf("_radio")!=-1){_47a["radio"]=comp.getSelectedIndex();this.itemValueObj[this.targetColID]["radio"+i]=comp.getSelectedIndex();}}}}if(_47a["select"]){_478.push(_47a);}}this.customFilterStatusObj[this.headerID]=true;this.dataList.setColumnFilter({type:"func",colIndex:this.targetColID,key:this.customFilterOperator,condition:"and",param:_478});if(this.groupbyStatus&&this.groupbyStatus.grouped){var col=this.getColumnIndex(this.targetColID);this.setGroupUserFilter({type:"func",col:col,colIndex:this.targetColID,param:_478});}else{this.dataList.setColumnFilter({type:"func",colIndex:this.targetColID,key:this.customFilterOperator,condition:"and",param:_478});}var _483=this.getElementById(this.id+"_"+this.headerID+"_filter");if(_477||_478.length==0){$W._H.removeClass(_483,"w2grid_customFilter_filter");}else{$W._H.addClass(_483,"w2grid_customFilter_filter");}this.customFilter.hide();if(this.groupbyStatus&&this.groupbyStatus.grouped&&this.groupbyStatus.filter){delete this.groupbyStatus.filter[this.targetColID];}var _484=this.groupbyStatus.origial_options||{};if(_484.filter){delete _484.filter[this.targetColID];}if(this.groupbyStatus&&this.groupbyStatus.grouped){this.groupby(_484,true);}};$W._a.ak.prototype.customFilterOperator=function(_485,_486){var _487=true;var _488=[];for(var i=0;i<_486.length;i++){var temp=true;var _48b;switch(_486[i]["select"]){case 1:_48b=new RegExp(_486[i]["auto"],"g");_48b.lastIndex=0;temp=_485==_48b.exec(_485)?true:false;break;case 2:_48b=new RegExp(_486[i]["auto"],"g");_48b.lastIndex=0;temp=_485!=_48b.exec(_485)?true:false;break;case 3:temp=_485>_486[i]["auto"].replace(".*","~~").replace(".","~")?true:false;break;case 4:temp=_485>=_486[i]["auto"].replace(".*","~~").replace(".","~")?true:false;break;case 5:temp=_485<_486[i]["auto"].replace(".*","~~").replace(".","~")?true:false;break;case 6:temp=_485<=_486[i]["auto"].replace(".*","~~").replace(".","~")?true:false;break;case 7:_48b=new RegExp("^("+_486[i]["auto"]+")","g");temp=_48b.test(_485)?true:false;break;case 8:_48b=new RegExp("^[^("+_486[i]["auto"]+")]","g");temp=_48b.test(_485)?true:false;break;case 9:_48b=new RegExp("("+_486[i]["auto"]+")$","g");temp=_48b.test(_485)?true:false;break;case 10:_48b=new RegExp("[^("+_486[i]["auto"]+")]$","g");temp=_48b.test(_485)?true:false;break;case 11:_48b=new RegExp(_486[i]["auto"],"g");temp=_48b.test(_485)?true:false;break;case 12:_48b=new RegExp("^(?!.*"+_486[i]["auto"]+").*","g");temp=_48b.test(_485)?true:false;break;default:temp=_485==_486[i]["auto"]?true:false;break;}if(_486.length===1){_487=temp;break;}if(i===0){_487=temp;continue;}if(_486[i]["radio"]==0){_487=_487&&temp;}else{_487=_487||temp;}}return _487;};$W._a.ak.prototype.syncWithSortStatus=function(){["WebSquare.uiplugin.gridViewApiController.prototype.syncWithSortStatus"];try{this.headerSortStatusArr=[];var _48c=this._linkedDataList||this._dataList;for(var i=0;i<_48c.sortStatusArr.length;i++){var _48e=_48c.sortStatusArr[i];if(typeof this.getColumnIndex(_48e.colID)=="number"){this.headerSortStatusArr.push(_48e);this.headerSortStatusArr[_48e.colID]=_48e;}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ak.prototype.getFixedColumnLastIndex=function(){["WebSquare.uiplugin.gridViewApiController.prototype.getFixedColumnLastIndex"];try{var _48f=this.options.fixedColumn+this.defaultColCnt;if(_48f<1){return 0;}if(!this.options.fixedColumnWithHidden){var cnt=0;for(var i=0;i<this.hiddenList.length;i++){if(!this.hiddenList[i]){cnt++;}if(cnt==_48f){return (i+1);}}}return _48f;}catch(e){$W.exception.printStackTrace(e,null,this);return (this.options.fixedColumn+this.defaultColCnt);}};$W._a.ak.prototype.getFixedRightColumnLastIndex=function(){["WebSquare.uiplugin.gridViewApiController.prototype.getFixedRightColumnLastIndex"];return this.colWidthList.length-this.options.fixedRightColumn;};$W._a.ak.prototype.columnValue=function(_492,_493){["WebSquare.uiplugin.gridViewApiController.prototype.columnValue"];try{var _494="";_493=this.getColumnID(_493);if(_492.nodeType!=undefined&&typeof _492.selectSingleNode!="undefined"){if(this.options.valueNode==null||this.options.valueNode==""){_494=$W._G.getTextNodeValue(_492.selectSingleNode(_493));}else{_494=_492.selectSingleNode(_493).getAttribute(this.options.valueNode);}}else{_494=_492[_493];}return _494;}catch(e){$W.exception.printStackTrace(e,null,this);}return "";};$W._a.ak.prototype.rowIndexValue=function(_495){["WebSquare.uiplugin.xmlDataController.prototype.xpathValue"];return _495;};$W._a.ak.prototype.getColumnOption=function(_496,_497){["WebSquare.uiplugin.gridViewApiController.prototype.getColumnOption"];try{var _498="";if(this.successBinding){var _499=this.cellInfoHash[_496];if(_497=="dataType"){if(_499){var _49a=_499.options.dataType;if(_49a){_498=_49a;}else{_498=this._dataList.getColumnOption(_496,_497);}}else{_498=this._dataList.getColumnOption(_496,_497);if(!_498){_498="text";}}}else{_498=_499.options[_497]||"";}return _498;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ak.prototype.setColumnOption=function(_49b,_49c,_49d){["WebSquare.uiplugin.gridViewApiController.prototype.getColumnOption"];try{var _49e="";if(this.successBinding){var _49f=this.cellInfoHash[_49b];this._dataList.setColumnOption(_49b,_49c,_49d);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ak.prototype.refresh=function(){try{if(!this.startedDisplayNone&&this.rowIndex>=0){this.drawData(this.rowIndex,0);this.displayNoResultMessage();}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ak.prototype.checkAdaptiveGridType=function(){["WebSquare.uiplugin.gridViewApiController.prototype.checkAdaptiveGridType"];try{if(this.options.groupbyZone){var _4a0=$W._m.getMessage("Grid_warning5",this.id)||"["+this.id+"] adaptive\ub97c \uc9c0\uc6d0\ud558\uc9c0 \uc54a\ub294 Grid \uc785\ub2c8\ub2e4.";$l(_4a0);return false;}var _4a1=this.htmlInfo.head.rowAttrArr.length;var _4a2=this.htmlInfo.body.rowAttrArr.length;var _4a3=this.hasFooter?this.htmlInfo.foot.rowAttrArr.length:0;var _4a4=0;if(this.hasSubtotal){var _4a5=this.htmlInfo.subtotalArr;for(var i=0;i<_4a5.length;i++){_4a4+=_4a5[i].rowAttrArr.length;}}if(_4a1==1&&_4a2==1){this.adaptiveGridType=1;}if(_4a1==1&&_4a2==2){this.adaptiveGridType=2;}else{if(_4a1==2&&_4a2==1){this.adaptiveGridType=3;}else{if(_4a1==2&&_4a2==2){this.adaptiveGridType=4;}else{if(_4a1==3&&_4a2==1){this.adaptiveGridType=5;}}}}if(_4a1>3||_4a2>2||_4a4>3){var _4a0=$W._m.getMessage("Grid_warning5",this.id)||"["+this.id+"] adaptive\ub97c \uc9c0\uc6d0\ud558\uc9c0 \uc54a\ub294 Grid \uc785\ub2c8\ub2e4.";$l(_4a0);return false;}if((_4a1+(_4a2>_4a4?_4a2:_4a4))>4){var _4a0=$W._m.getMessage("Grid_warning5",this.id)||"["+this.id+"] adaptive\ub97c \uc9c0\uc6d0\ud558\uc9c0 \uc54a\ub294 Grid \uc785\ub2c8\ub2e4.";$l(_4a0);return false;}if($W._G.isIE(6)||$W._G.isIE(7)||$W._G.isIE(8)||$W._G.isIE(9)){return false;}return true;}catch(e){$W.exception.printStackTrace(e);}};$W._a.ak.prototype.setAdaptiveGridBodyHeight=function(){["WebSquare.uiplugin.gridViewApiController.prototype.setAdaptiveGridBodyHeight"];try{var _4a7=this.getHeaderID(0);var _4a8=parseInt(this.getHeaderCellStyleValue(_4a7,"padding-top"));var _4a9=parseInt(this.getHeaderCellStyleValue(_4a7,"padding-bottom"));var _4aa=_4a8+_4a9;var _4ab=function(_4ac){var _4ad=this.getColumnIndex(_4ac);var _4ae=parseInt(this.getColumnStyleValue(_4ad,"height"),10);var _4af=parseInt(this.getAdaptiveColumnStyleValue(_4ad,"height"),10);if(!isNaN(_4af)){this.orgBodyHeightObj[_4ac]=this.getColumnStyleValue(_4ad,"height");this.setColumnStyle(_4ac,"height",_4af+"px");}};var _4b0=this.htmlInfo.head.rowArr;for(var i=0;i<_4b0.length;i++){var _4b2=_4b0[i];for(var j=0;j<_4b2.length;j++){var _4b4=_4b2[j];var _4b5=parseInt(_4b4.colSpan,10);var _4b6=_4b4.id;var _4b7=this.headerToBodyRelation[_4b6];var _4b8=this.getColumnIndex(_4b7);if(!isNaN(_4b5)&&_4b5>1){for(var k=0;k<_4b5;k++){_4ab.call(this,this.getColumnID(_4b8+k));}}else{_4ab.call(this,_4b7);}}}}catch(e){$W.exception.printStackTrace(e);}};$W._a.ak.prototype.removeAdaptiveGridBodyHeight=function(){["WebSquare.uiplugin.gridViewApiController.prototype.removeAdaptiveGridBodyHeight"];try{for(keys in this.orgBodyHeightObj){this.setColumnStyle(keys,"height",this.orgBodyHeightObj[keys]);}}catch(e){$W.exception.printStackTrace(e);}};$W._a.ak.prototype.setAdaptiveGridHeaderHeight=function(){["WebSquare.uiplugin.gridViewApiController.prototype.setAdaptiveGridHeaderHeight"];try{var _4ba=this.getHeaderID(0);var _4bb=parseInt(this.getHeaderCellStyleValue(_4ba,"padding-top"),10);var _4bc=parseInt(this.getHeaderCellStyleValue(_4ba,"padding-bottom"),10);if(_4bb===0&&this.oldOptions["headerPaddingTop"]!=undefined){_4bb=parseInt(this.oldOptions["headerPaddingTop"],10);}if(_4bc===0&&this.oldOptions["headerPaddingBottom"]!=undefined){_4bc=parseInt(this.oldOptions["headerPaddingBottom"],10);}var _4bd=_4bb+_4bc;var _4be=this.htmlInfo.head.rowArr;for(var i=0;i<_4be.length;i++){var _4c0=_4be[i];for(var j=0;j<_4c0.length;j++){var _4c2=_4c0[j];var _4c3=parseInt(_4c2.colSpan,10);var _4c4=_4c2.id;var _4c5=this.headerToBodyRelation[_4c4];var _4c6=this.getColumnIndex(_4c5);var _4c7=parseInt(this.getCellInfo(_4c6).options.colSpan,10);var _4c8=0;var _4c9=0;if(this.headerInfoHash[_4c4]){var _4ca=this.headerInfoHash[_4c4].options.style.split(";");for(var k=0;k<_4ca.length;k++){var _4cc=_4ca[k].split(":");if(_4cc[0]=="height"){_4c9=parseInt(_4cc[1],10);break;}}}else{_4c9=parseInt(this.getHeaderCellStyleValue(_4c4,"height"),10);}if(_4c6!=undefined){if(_4c3>0){var _4cd=_4c3;for(var k=_4c6;k<(_4c6+_4c3);k++){if(this.hiddenList[k]){_4cd--;continue;}_4c8+=parseInt(this.getColumnStyleValue(k,"height"),10);_4c8+=_4bd;}_4c8-=(_4bd-(_4cd-1));if(_4c9!=_4c8){if(this.orgHeaderHeightObj[_4c4]==null){this.orgHeaderHeightObj[_4c4]=_4c9+"px";}if(_4cd>0){this.setHeaderStyle(_4c4,"height",_4c8+"px");}}}else{_4c8=parseInt(this.getColumnStyleValue(_4c6,"height"),10);if(_4c7>1){_4c8-=(_4bd+1)*(_4c7-1);var _4ce=Math.round(_4c8/_4c7);for(var k=j;k<j+_4c7;k++){_4c2=_4c0[k];_4c4=_4c2.id;if(this.headerInfoHash[_4c4]){var _4ca=this.headerInfoHash[_4c4].options.style.split(";");for(var k=0;k<_4ca.length;k++){var _4cc=_4ca[k].split(":");if(_4cc[0]=="height"){_4c9=parseInt(_4cc[1],10);break;}}}else{_4c9=parseInt(this.getHeaderCellStyleValue(_4c4,"height"),10);}if(k==j+_4c7-1){this.orgHeaderHeightObj[_4c4]=_4c9+"px";this.setHeaderStyle(_4c4,"height",_4c8+"px");}else{this.orgHeaderHeightObj[_4c4]=_4c9+"px";this.setHeaderStyle(_4c4,"height",_4ce+"px");_4c8-=_4ce;}}}else{if(_4c9!=_4c8){if(this.orgHeaderHeightObj[_4c4]==null){this.orgHeaderHeightObj[_4c4]=_4c9+"px";}if(!this.hiddenList[_4c6]){this.setHeaderStyle(_4c4,"height",_4c8+"px");}}}}}}}if(this.hasFooter){var _4cf=this.htmlInfo.foot.rowArr;for(var i=0;i<_4cf.length;i++){var _4d0=_4cf[i];for(var j=0;j<_4d0.length;j++){var _4d1=_4d0[j];var _4d2=parseInt(_4d1.colSpan);var _4d3=_4d1.id;var _4c6=j;var _4c8=0;var _4d4=parseInt(this.getFooterStyle(_4d3,"height"));if(_4d2>0){for(var k=_4c6;k<(_4c6+_4d2);k++){_4c8+=parseInt(this.getColumnStyleValue(k,"height"));_4c8+=_4bd;}_4c8-=(_4bd-(_4d2-1));}else{_4c8=parseInt(this.getColumnStyleValue(_4c6,"height"));}if(_4d4!=_4c8){this.orgFooterHeightObj[_4d3]=_4d4+"px";this.setFooterStyle(_4d3,"height",_4c8+"px");}}}}}catch(e){$W.exception.printStackTrace(e);}};$W._a.ak.prototype.removeAdaptiveGridHeaderHeight=function(){["WebSquare.uiplugin.gridViewApiController.prototype.removeAdaptiveGridHeaderHeight"];try{for(keys in this.orgHeaderHeightObj){this.setHeaderStyle(keys,"height",this.orgHeaderHeightObj[keys]);}for(keys in this.orgFooterHeightObj){this.setFooterStyle(keys,"height",this.orgFooterHeightObj[keys]);}}catch(e){$W.exception.printStackTrace(e);}};$W._a.ak.prototype.setAdaptiveGridSubtotalHeight=function(){["WebSquare.uiplugin.gridViewApiController.prototype.setAdaptiveGridSubtotalHeight"];try{var _4d5=this.getHeaderID(0);var _4d6=parseInt(this.getHeaderCellStyleValue(_4d5,"padding-top"));var _4d7=parseInt(this.getHeaderCellStyleValue(_4d5,"padding-bottom"));var _4d8=_4d6+_4d7;if(Object.keys(this.orgSubtotalHeightObj).length==0){for(var i=0;i<this.drawedSubtotal.length;i++){for(var j=0;j<this.drawedSubtotal[i].length;j++){var _4db=this.drawedSubtotal[i][j].childNodes;for(var k=this.defaultColCnt;k<_4db.length;k++){var _4dd=parseInt(_4db[k].getAttribute("colSpan"));var _4de=_4db[k].getAttribute("id");var _4df=0;var _4e0=_4db[k].style.height;if(_4dd!=null&&_4dd>0){for(var l=k;l<k+_4dd;l++){_4df+=parseInt(this.getColumnStyleValue((l-this.defaultColCnt),"height"));_4df+=_4d8;}_4df-=(_4d8-(_4dd-1));}else{_4df=_4e0;}if(_4e0!=_4df){this.orgSubtotalHeightObj[_4de]=_4e0;_4db[k].style.height=_4df+"px";}}}}}}catch(e){$W.exception.printStackTrace(e);}};$W._a.ak.prototype.removeAdaptiveGridSubtotalHeight=function(){["WebSquare.uiplugin.gridViewApiController.prototype.removeAdaptiveGridSubtotalHeight"];try{for(keys in this.orgSubtotalHeightObj){for(var i=0;i<this.drawedSubtotal.length;i++){for(var j=0;j<this.drawedSubtotal[i].length;j++){var _4e4=this.drawedSubtotal[i][j].childNodes;for(var k=this.defaultColCnt;k<_4e4.length;k++){var _4e6=parseInt(_4e4[k].getAttribute("colSpan"));var _4e7=_4e4[k].getAttribute("id");if(_4e7==keys){_4e4[k].style.height=this.orgSubtotalHeightObj[keys];}}}}}this.orgSubtotalHeightObj={};}catch(e){$W.exception.printStackTrace(e);}};$W._a.ak.prototype.setDrillDownDragDrop=function(_4e8){["WebSquare.uiplugin.gridApiController.prototype.setDrillDownDragDrop"];try{this.drillDownDragDrop=$W._G.getBoolean(_4e8);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ak.prototype.getFakeExpressionArr=function(){["WebSquare.uiplugin.gridApiController.prototype.getFakeExpressionArr"];try{var temp=[];var _4ea=[];for(var i=0;i<this.dataList.getRowCount();i++){temp=this._dataList.getRowData(i);temp.push("");_4ea=_4ea.concat(temp);}return _4ea;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ak.prototype.appendGroupbyFilter=function(){if(!this.groupbyStatus.UserFilterAction&&!this.groupbyStatus.FilterListAction){return;}this.groupbyStatus.FilterListOpen=false;this.groupbyStatus.UserFilterAction=false;this.groupbyStatus.FilterListAction=false;var _4ec={origial_options:this.groupbyStatus.origial_options,filter:this.groupbyStatus.filter};var _4ed={label:"",value:JSON.parse(JSON.stringify(_4ec))};var _4ee=true;var _4ef=[];if(this.groupbyStatus&&this.groupbyStatus.filter){var cols=this._dataList.getColCnt();for(var i=0;i<cols;i++){if(this.groupbyStatus.filter[i]){_4ef.push(this.groupbyStatus.filter[i].label);_4ee=false;}}}if(!_4ee){var _4f2=this.filterObjectArr;if(!_4f2){_4f2=[];}_4ed.label="("+_4ef.join(" and ")+")";var _4f3=_4ed.label;if(this.options.groupbyFilterBoxFormatter){try{var obfuscator_groupbyFilterBoxFormatter=$W._G.getGlobalFunction(this.options.groupbyFilterBoxFormatter);if(typeof obfuscator_groupbyFilterBoxFormatter=="function"){var data=[];for(var key in this.groupbyStatus.filter){var col=parseInt(key);if(isNaN(col)){continue;}var _4f7=this.groupbyStatus.filter[key];var _4f8=this.getHeaderID(col);var _4f9=this.getHeaderValue(_4f8);var _4fa=JSON.parse(JSON.stringify(_4f7.labelObject));if(this.options.useFilterList){for(var i=0;i<_4fa.length;i++){var o=_4fa[i];if(o.values){o.values=this.changeItemValue("label",this.getColumnID(col),o.values);}}}if(_4f7.labelObject){data.push({header:_4f9,filter:_4fa});}}_4f3=obfuscator_groupbyFilterBoxFormatter.call(this,data);}}catch(e){$W.exception.printStackTrace(e,null,this);}}_4ed.label=_4f3;this.filterObjectArr=_4f2.concat(_4ed);this.filterObjectArrIndex=this.filterObjectArr.length-1;if(!this.initializeFilterBoxSelect){var _4fc=this.getElementById(this.id+"_groupbyFilterBox_select_tbody");var _4fd=this;_4fc.onclick=function(e){_4fd.toggleGroupbyFilterSelectItemTable();};this.initializeFilterBoxSelect=true;}this.getElementById(this.id+"_groupbyFilterBox_select_label").innerHTML=_4ed.label;this.getElementById(this.id+"_groupbyFilterBox_apply").checked=true;}};$W._a.ak.prototype.applyGroupbyFilter=function(){if(!this.filterObjectArr||this.filterObjectArrIndex<0||this.filterObjectArr.length<=this.filterObjectArrIndex){return;}var _4ff=this.filterObjectArr[this.filterObjectArrIndex];var cols=this._dataList.getColCnt();if(_4ff.value.origial_options.filter){for(var i=0;i<cols;i++){delete _4ff.value.origial_options.filter[i];}}var _502=JSON.parse(JSON.stringify(_4ff.value.origial_options));var _503=_4ff.value.filter;if(_4ff.value.origial_options.filter){this.groupbyStatus.filter=JSON.parse(JSON.stringify(_4ff.value.origial_options.filter));}else{this.groupbyStatus.filter={};}for(var i=0;i<cols;i++){if(_503[i]){if(_503[i].options.type==="func"){this.setGroupUserFilter(_503[i].options);}else{if(_503[i].options.type==="regex"){this.setGroupFilter(_503[i].options);}}}}this.getElementById(this.id+"_groupbyFilterBox_select_label").innerHTML=_4ff.label;this.groupby(_502,true,true);};$W._a.ak.prototype.objectEqual=function(a,b){if(typeof a!=typeof b){return false;}if(typeof a==="object"&&a.length!=undefined){if(a.length!=b.length){return false;}for(var i=0;i<a.length;i++){switch(typeof a[i]){case "number":case "string":case "boolean":case "undefined":if(b.indexOf(a[i])<0){return false;}break;case "object":var _r=false;for(var j=0;j<b.length;j++){var _509=b[j];if(typeof b==="object"){_r=this.objectEqual(a[i],b[j]);if(_r){break;}}}if(!_r){return false;}break;case "function":default:break;}}}else{if($W._G.isIE(6)||$W._G.isIE(7)||$W._G.isIE(8)){var _50a=0;var _50b=0;for(var key in a){_50a++;}for(var key in b){_50b++;}if(_50a!=_50b){return false;}}else{if(Object.keys(a).length!=Object.keys(b).length){return false;}}for(var key in a){if(Object.keys(b).indexOf(key)<0){return false;}switch(typeof a[key]){case "number":case "string":case "boolean":case "undefined":if(a[key]!=b[key]){return false;}break;case "object":if(!this.objectEqual(a[key],b[key])){return false;}break;case "function":default:break;}}}return true;};$W._a.ak.prototype.removeGroupFilter=function(col){delete this.groupbyStatus.filter[col];};$W._a.ak.prototype.setGroupFilter=function(_50e){var col=_50e.col;var _510=new RegExp(_50e.regexp,"gi");var _511=_50e.negative;this.groupbyStatus.filter[col]={};if(_511){this.groupbyStatus.filter[col].func=function(_512){if(_512.toString){return _512.toString().match(_510)==null;}else{return false;}};}else{this.groupbyStatus.filter[col].func=function(_513){if(_513.toString){return _513.toString().match(_510)!=null;}else{return false;}};}this.groupbyStatus.filter[col].options=_50e;};$W._a.ak.prototype.setGroupUserFilter=function(_514){var col=_514.col;var _516="";if(_514.colIndex!="@rowStatus"){var _517=this._dataList.getCellInfo(_514.colIndex);var _518=_517.options.dataType;_516=_518;}var _519=_514.param;var _51a="var r = true; var pattern; ";if(_516==="number"){_51a+="if(cellData != '')cellData = parseInt(cellData); ";}if(!this.selectboxItemSet){this.selectboxItemSet=["=","<>",">",">=","<","<=",$W._m.getMessage("Grid_filter_condition1")||"\uc2dc\uc791\ubb38\uc790",$W._m.getMessage("Grid_filter_condition2")||"\uc81c\uc678\ud560 \uc2dc\uc791 \ubb38\uc790",$W._m.getMessage("Grid_filter_condition3")||"\ub05d \ubb38\uc790",$W._m.getMessage("Grid_filter_condition4")||"\uc81c\uc678\ud560 \ub05d \ubb38\uc790",$W._m.getMessage("Grid_filter_condition5")||"\ud3ec\ud568",$W._m.getMessage("Grid_filter_condition6")||"\ud3ec\ud568\ud558\uc9c0 \uc54a\uc74c"];}var _51b=[];var _51c=[];for(var i=0;i<_519.length;i++){var _51e="";var auto=_519[i]["auto"];var _520=this.selectboxItemSet[_519[i]["select"]-1];_51c.push({"operator":_520,"values":auto});if(i>0){_51c[_51c.length-1]["gate"]=(_519[i]["radio"]===1?"or":"and");}var _521=_514.colIndex+" ";_521=_521+_520+" ";switch(_519[i]["select"]){case 1:_51e+="pattern = new RegExp(\""+auto+"\", \"g\"); ";_51e+="pattern.lastIndex = 0; ";if(_519[i]["radio"]==1){_51e+="r = r | (cellData.toString() == \""+auto+"\"); ";}else{_51e+="r = r & (cellData.toString() == \""+auto+"\"); ";}_521=_521+auto;break;case 2:_51e+="pattern = new RegExp(\""+auto+"\", \"g\"); ";_51e+="pattern.lastIndex = 0; ";if(_519[i]["radio"]==1){_51e+="r = r | (cellData!=pattern.exec(cellData)?true:false); ";}else{_51e+="r = r & (cellData!=pattern.exec(cellData)?true:false); ";}_521=_521+auto;break;case 3:if(_516!="number"){auto="\""+auto.replace(".*","~~").replace(".","~")+"\"";}if(_519[i]["radio"]==1){_51e+="r = r | (cellData>\""+auto+"\"?true:false); ";}else{_51e+="r = r & (cellData>\""+auto+"\"?true:false); ";}_521=_521+auto;break;case 4:if(_516!="number"){auto="\""+auto.replace(".*","~~").replace(".","~")+"\"";}if(_519[i]["radio"]==1){_51e+="r = r | (cellData>=\""+auto+"\"?true:false); ";}else{_51e+="r = r & (cellData>=\""+auto+"\"?true:false); ";}_521=_521+auto;break;case 5:if(_516!="number"){auto="\""+auto.replace(".*","~~").replace(".","~")+"\"";}if(_519[i]["radio"]==1){_51e+="r = r | (cellData<\""+auto+"\"?true:false); ";}else{_51e+="r = r & (cellData<\""+auto+"\"?true:false); ";}_521=_521+auto;break;case 6:if(_516!="number"){auto="\""+auto.replace(".*","~~").replace(".","~")+"\"";}if(_519[i]["radio"]==1){_51e+="r = r | (cellData<=\""+auto+"\"?true:false); ";}else{_51e+="r = r & (cellData<=\""+auto+"\"?true:false); ";}_521=_521+auto;break;case 7:_51e+="pattern = new RegExp(\"^(\"+\""+auto+"\"+\")\", \"g\"); ";if(_519[i]["radio"]==1){_51e+="r = r | (pattern.test(cellData)?true:false); ";}else{_51e+="r = r & (pattern.test(cellData)?true:false); ";}_521=_521+auto;break;case 8:_51e+="pattern = new RegExp(\"^[^(\"+\""+auto+"\"+\")]\", \"g\"); ";if(_519[i]["radio"]==1){_51e+="r = r | (pattern.test(cellData)?true:false); ";}else{_51e+="r = r & (pattern.test(cellData)?true:false); ";}_521=_521+auto;break;case 9:_51e+="pattern = new RegExp(\"(\"+\""+auto+"\"+\")$\", \"g\"); ";if(_519[i]["radio"]==1){_51e+="r = r | (pattern.test(cellData)?true:false); ";}else{_51e+="r = r & (pattern.test(cellData)?true:false); ";}_521=_521+auto;break;case 10:_51e+="pattern = new RegExp(\"[^(\"+\""+auto+"\"+\")]$\", \"g\"); ";if(_519[i]["radio"]==1){_51e+="r = r | (pattern.test(cellData)?true:false); ";}else{_51e+="r = r & (pattern.test(cellData)?true:false); ";}_521=_521+auto;break;case 11:_51e+="pattern = new RegExp(\""+auto+"\", \"g\"); ";if(_519[i]["radio"]==1){_51e+="r = r | (pattern.test(cellData)?true:false); ";}else{_51e+="r = r & (pattern.test(cellData)?true:false); ";}_521=_521+auto;break;case 12:_51e+="pattern = new RegExp(\"^(?!.*\"+\""+auto+"\"+\").*\", \"g\"); ";if(_519[i]["radio"]==1){_51e+="r = r | (pattern.test(cellData)?true:false); ";}else{_51e+="r = r & (pattern.test(cellData)?true:false); ";}_521=_521+auto;break;default:if(_519[i]["radio"]==1){_51e+="r = r | (cellData==\""+auto+"\"?true:false); ";}else{_51e+="r = r & (cellData==\""+auto+"\"?true:false); ";}_521=_521+auto;break;}_51a+=_51e;_51b.push(_521);}var _522="";if(_519[_519.length-1]["radio"]===1){_522=_51b.join(" or ");}else{_522=_51b.join(" and ");}_522="("+_522+")";_51a+="return r;";var func=Function("cellData",_51a);if(this.groupbyStatus.filter[col]){this.groupbyStatus.filter[col].func=undefined;}this.groupbyStatus.filter[col]={func:func,userFilter:true,label:_522,options:_514,labelObject:_51c};};$W._a.ak.prototype.executeGroupFilter=function(_524,_525){var _526=[];for(var i=0;i<_525.length;i++){var col=_525[i];if(this.groupbyStatus.filter[col]){_526[i]=this.groupbyStatus.filter[col];}}this._executeGroupFilter(_524,_526,0);};$W._a.ak.prototype._executeGroupFilter=function(obj,_52a,_52b){var _52c=obj.values;var _52d=_52a[_52b];for(var _52e in _52c){var _52f=_52c[_52e];if(_52d===undefined||_52d.func(_52e)){_52f["view"]=true;var _530=_52b+1;this._executeGroupFilter(_52f,_52a,_530);}else{_52f["view"]=false;}}};$W._a.ak.prototype.getGroupRawDataArr=function(_531,_532,rows){var arr=[];var _535=[];this._getGroupRawData(_531,arr,_532,0,rows,_535);var _536=false;for(var i=0;i<_532.length;i++){if(!_532[i]){_536=true;break;}}if(_536){_535=_535.sort(function(a,b){return a["i"]-b["i"];});}var T=[];var last;return _535;};$W._a.ak.prototype._getGroupRawData=function(obj,arr,_53e,_53f,rows,_541){var sort=_53e[arr.length]?true:false;var _543=1;for(var i=0;i<arr.length;i++){_543*=(1/rows);}var _545=obj.values;var _546=0;if(!sort){_546=rows;}var _547=[];for(var _548 in _545){_547.push(_548);}_547=_547.sort(function(a,b){var c=a-b;if(isNaN(c)){return 0;}else{return c;}});for(var i=0;i<_547.length;i++){var _548=_547[i];var _54c=_545[_548];if(_54c["view"]){var _54d=arr.concat(_548);var h=_54d.concat([]);h["l"]="h";if(sort){_546+=2;}else{_546-=2;}var _54f=_53f+(_546*_543);h["i"]=_54f;_541.push(h);if(_54c["rows"]){var _550=_543*(1/rows);for(var j=0;j<_54c["rows"].length;j++){var row=_54c["rows"][j];var _553=_54d.concat(row);_553["i"]=_54f+((j+1)*_550);_541.push(_553);}}else{this._getGroupRawData(_54c,_54d,_53e,_54f,rows,_541);}if(_541[_541.length-1]===h){_541.splice(_541.length-1,1);}else{var f=_54d.concat([]);f["l"]="f";f["i"]=_54f+_543;_541.push(f);}}}};$W._a.ak.prototype.getFixedRow=function(){var _555=parseInt(this.options.fixedRow,10);_555=isNaN(_555)?0:_555;return _555;};$W._a.ak.prototype.mergeCell=function(_556){["WebSquare.gridApiController.gridView.prototype.mergeCell"];try{if(_556==undefined||_556.rowIndex==undefined||_556.colIndex==undefined){$W.logger.printLog("gridView mergeCell error : invalid argument ["+this.id+"]");return;}if(_556.rowSpan==undefined){_556.rowSpan=1;}if(_556.colSpan==undefined){_556.colSpan=1;}this.cellMergeInfo[_556.rowIndex+"_"+_556.colIndex]={"rowSpan":_556.rowSpan,"colSpan":_556.colSpan};var _557=parseInt(_556.rowIndex,10);var _558=parseInt(_556.colIndex,10);var _559=parseInt(_556.rowSpan,10);var _55a=parseInt(_556.colSpan,10);var _55b=this.dataList.getCellData(_557,_558);for(var i=0;i<_559;i++){for(var j=0;j<_55a;j++){if(i===0&&j===0){continue;}this.dataList.setCellData(_557+i,_558+j,_55b);if(this.cellMergeInfo[(_557+i)+"_"+(_558+j)]){delete this.cellMergeInfo[(_557+i)+"_"+(_558+j)];}}}this.dynamicMergeHTML();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ak.prototype.mergeFocusedCell=function(){["WebSquare.gridApiController.gridView.prototype.mergeFocusedCell"];try{if(this.focusedCell.length>1){var ldx=this.focusedCell.length-1;this.mergeCell({"rowIndex":this.focusedCell[0].focusedRowIndex,"colIndex":this.focusedCell[0].focusedColIndex,"rowSpan":this.focusedCell[ldx].focusedRowIndex-this.focusedCell[0].focusedRowIndex+1,"colSpan":this.focusedCell[ldx].focusedColIndex-this.focusedCell[0].focusedColIndex+1});}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ak.prototype.mergeSplitFocusedCell=function(){["WebSquare.gridApiController.gridView.prototype.mergeSplitFocusedCell"];try{for(var i=0;i<this.focusedCell.length;i++){this.mergeCell({"rowIndex":this.focusedCell[i].focusedRowIndex,"colIndex":this.focusedCell[i].focusedColIndex,"rowSpan":1,"colSpan":1});}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ak.prototype.isVirtualCursor=function(){["WebSquare.gridApiController.gridView.prototype.isVirtualCursor"];try{if(this.options.senseReader==true&&this.options.visibleRowNum!="all"){var _560=this.getLastFocusedCell().focusedRowIndex;if(_560>this.lastIndex&&this.getElementById(this.id+"_scrollY_div").scrollTop==0){return true;}}return false;}catch(e){$W.exception.printStackTrace(e,null,this);}};;WebSquare.uiplugin.gridViewApiController=$W._a.ak;$W._a.aE=function(){["WebSquare.uiplugin.styleController"];};$W._a.aE.prototype.getColumnReadOnly=function(_1){["WebSquare.uiplugin.styleController.prototype.getColumnReadOnly"];var _2=this.getCellInfo(_1);if(_2.options.readOnly!=""){return $W._G.getBoolean(_2.options.readOnly);}return "";};$W._a.aE.prototype.setColumnReadOnly=function(_3,_4){["WebSquare.uiplugin.styleController.prototype.setColumnReadOnly"];try{var _5=this.getCellInfo(_3);if(_4!=""){_4=$W._G.getBoolean(_4);}_5.options.readOnly=_4;var _6=this.rollbackCommitFlag;if(this.editedCell!=null){var _7=parseInt(this.editedCell.editTd.getAttribute("tdindex"));var _8=(_7%this.realRowDataLength)-(this.realRowDataLength-this.oneRowDataLength);if(_8==_3){this.rollbackCommitFlag=true;}else{this.rollbackCommitFlag=false;}}else{this.rollbackCommitFlag=false;}this.drawColumnData(_3);this.applyStyleOptions(this.lastIndex);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aE.prototype.getRowReadOnly=function(_9,_a){["WebSquare.uiplugin.grid.prototype.getRowReadOnly"];try{var _b=_a===true?_9:this.dataList.getRealRowIndex(_9);var _c=this.rowReadOnlyArr[_b];if(_c!=true&&_c!=false){return "";}return _c;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aE.prototype.setRowReadOnly=function(_d,_e,_f){["WebSquare.uiplugin.grid.prototype.setRowReadOnly"];try{var _10=_f===true?_d:this.dataList.getRealRowIndex(_d);if(_e!=""){_e=$W._G.getBoolean(_e);}this.rowReadOnlyArr[_10]=_e;var _11=this.rollbackCommitFlag;if(this.editedCell!=null&&this.editedCell.editRowIndex==_10){this.rollbackCommitFlag=true;}else{this.rollbackCommitFlag=false;}this.drawRowData(_d-this.rowIndex,_d);this.applyRowStyleOptions(_d);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aE.prototype.getCellReadOnly=function(_12,_13,_14){["WebSquare.uiplugin.grid.prototype.getCellReadOnly"];try{var _13=this.getColumnIndex(_13);var _15=_14===true?_12:this.dataList.getRealRowIndex(_12);var _16=this.cellReadOnlyArr[_15*this.oneRowDataLength+_13];if(_16!=true&&_16!=false){return "";}return _16;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aE.prototype.setCellReadOnly=function(_17,_18,_19){["WebSquare.uiplugin.grid.prototype.setCellReadOnly"];try{if(_19!=""){_19=$W._G.getBoolean(_19);}var _18=this.getColumnIndex(_18);var _1a=this.dataList.getRealRowIndex(_17);this.cellReadOnlyArr[_1a*this.oneRowDataLength+_18]=_19;var _1b=this.rollbackCommitFlag;if(this.editedCell!=null&&this.editedCell.editRowIndex==_1a){var _1c=parseInt(this.editedCell.editTd.getAttribute("tdindex"));var _1d=(_1c%this.realRowDataLength)-(this.realRowDataLength-this.oneRowDataLength);if(_1d==_18){this.rollbackCommitFlag=true;}else{this.rollbackCommitFlag=false;}}else{this.rollbackCommitFlag=false;}this.notifyCellChanged(_17,_18);this.rollbackCommitFlag=_1b;this.applyCellStyleOptions(_17,_18);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aE.prototype.getColumnDisabled=function(_1e){["WebSquare.uiplugin.styleController.prototype.getColumnDisabled"];var _1f=this.getCellInfo(_1e);return $W._G.getBoolean(_1f.options.disabled);};$W._a.aE.prototype.setColumnDisabled=function(_20,_21){["WebSquare.uiplugin.styleController.prototype.getColumnDisabled"];var _22=this.getCellInfo(_20);_22.options.disabled=$W._G.getBoolean(_21);this.drawColumnData(_20);this.applyColumnStyleOptions(_20);};$W._a.aE.prototype.getRowDisabled=function(_23){["WebSquare.uiplugin.grid.prototype.getGridDisabled"];try{var _24=!!(this.isDrillDown&&this._dataList.options.depthColumn);var _25=(_24)?_23:this.dataList.getRealRowIndex(_23);var _26=$W._G.getBoolean(this.rowDisabledArr[_25]);return _26;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aE.prototype.setRowDisabled=function(_27,_28){["WebSquare.uiplugin.grid.prototype.getGridDisabled"];try{_28=$W._G.getBoolean(_28);var _29=!!(this.isDrillDown&&this._dataList.options.depthColumn);var _2a=(_29)?_27:this.dataList.getRealRowIndex(_27);this.rowDisabledArr[_2a]=_28;this.drawRowData(_27-this.rowIndex,_27);this.applyRowStyleOptions(_27);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aE.prototype.getCellDisabled=function(_2b,_2c){["WebSquare.uiplugin.grid.prototype.getGridDisabled"];try{var _2c=this.getColumnIndex(_2c);var _2d=!!(this.isDrillDown&&this._dataList.options.depthColumn);var _2e=(_2d)?_2b:this.dataList.getRealRowIndex(_2b);var _2f=this.cellDisabledArr[_2e*this.oneRowDataLength+_2c];if(_2f!=true&&_2f!=false){return "";}return _2f;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aE.prototype.setCellDisabled=function(_30,_31,_32){["WebSquare.uiplugin.grid.prototype.getGridDisabled"];try{var _31=this.getColumnIndex(_31);var _33=!!(this.isDrillDown&&this._dataList.options.depthColumn);var _34=(_33)?_30:this.dataList.getRealRowIndex(_30);this.cellDisabledArr[_34*this.oneRowDataLength+_31]=$W._G.getBoolean(_32);this.notifyCellChanged(_30,_31);this.applyCellStyleOptions(_30,_31);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aE.prototype.setTDStyle=function(_35,_36,_37,_38,_39){["WebSquare.uiplugin.styleController.prototype.setTDStyle"];if(this.options.readOnlyBackgroundColor!=""&&this._getEditReadOnly(_36,_37)){_39="background-color:"+this.options.readOnlyBackgroundColor+";"+_39;}if(this.getEditDisabled(_36,_37)){_35.disabled=true;if(this.options.disabledBackgroundColor!=""){_39+=";background-color:"+this.options.disabledBackgroundColor;}if(this.options.disabledFontColor!=""){_39+=";color:"+this.options.disabledFontColor;}}else{_35.disabled=false;}_35.style.cssText=styleStr+";"+columnStyleStr+";"+_38+";"+_39;};$W._a.aE.prototype.setRowBackgroundColor=function(_3a,_3b){["WebSquare.uiplugin.styleController.prototype.setRowBackgroundColor"];this.setRowStyle(_3a,"background-color",_3b);};$W._a.aE.prototype.setRowColor=function(_3c,_3d){["WebSquare.uiplugin.styleController.prototype.setRowColor"];this.setRowStyle(_3c,"color",_3d);};$W._a.aE.prototype.setRowStyle=function(_3e,_3f,_40){["WebSquare.uiplugin.styleController.prototype.setRowStyle"];var _41=this.getRowStyleClassName(_3e);if(_41==null){this.rowStyleIndex++;_41=this.id+"_rowstyle_"+this.rowStyleIndex+"_";this.setRowStyleClassName(_3e,_41);}var _42=this.rowStyleValueObj[_41];if(_42==null){_42=[];}_42[_3f]=_40;var _43=[];for(var _3f in _42){var _44=_42[_3f];if(_3f!="style"&&_44!=""){_43.push(_3f+":"+_44);}}_42["style"]=_43.join(";");this.rowStyleValueObj[_41]=_42;this.applyRowStyleOptions(_3e);};$W._a.aE.prototype.getRowBackgroundColor=function(_45){["WebSquare.uiplugin.styleController.prototype.getRowBackgroundColor"];return this.getRowStyleValue(_45,"background-color");};$W._a.aE.prototype.getRowColor=function(_46){["WebSquare.uiplugin.styleController.prototype.getRowColor"];return this.getRowStyleValue(_46,"color");};$W._a.aE.prototype.getRowStyleValue=function(_47,_48){["WebSquare.uiplugin.styleController.prototype.getRowStyleValue"];var _49=this.getRowStyleClassName(_47);if(_49==null){return "";}return this.rowStyleValueObj[_49][_48]||"";};$W._a.aE.prototype._getRowStyleStr=function(_4a){["WebSquare.uiplugin.styleController.prototype.getRowStyleValue"];var _4b=this.rowStyleValueObj[_4a]["style"];return _4b;};$W._a.aE.prototype.setColumnBackgroundColor=function(_4c,_4d){["WebSquare.uiplugin.styleController.prototype.setColumnBackgroundColor"];this.setColumnStyle(_4c,"background-color",_4d);};$W._a.aE.prototype.setColumnColor=function(_4e,_4f){["WebSquare.uiplugin.styleController.prototype.setColumnColor"];this.setColumnStyle(_4e,"color",_4f);};$W._a.aE.prototype.setColumnStyle=function(_50,_51,_52){["WebSquare.uiplugin.styleController.prototype.setColumnStyle"];var _50=this.getColumnIndex(_50);if(!this.getColumnID(_50)&&!this._dataList.getColumnID(_50)){$W.logger.printLog("[Warning] Invalid colIndex("+_50+").["+this.id+"] setColumnStyle");return;}var _53=this.columnStyleValueObj[_50];if(_53==null){_53=[];}_53[_51]=_52;var _54=[];for(var _51 in _53){var _55=_53[_51];if(_51!="style"&&_55!=""){_54.push(_51+":"+_55);}}_53["style"]=_54.join(";");this.columnStyleValueObj[_50]=_53;this.applyColumnStyleOptions(_50);};$W._a.aE.prototype.setAdaptiveColumnStyle=function(_56,_57,_58){["WebSquare.uiplugin.styleController.prototype.setColumnStyle"];var _56=this.getColumnIndex(_56);if(!this.getColumnID(_56)&&!this._dataList.getColumnID(_56)){$W.logger.printLog("[Warning] Invalid colIndex("+_56+"). ["+this.id+"] setAdaptiveColumnStyle.");return;}var _59=this.adaptiveColumnStyleValueObj[_56];if(_59==null){_59=[];}_59[_57]=_58;var _5a=[];for(var _57 in _59){var _5b=_59[_57];if(_57!="style"&&_5b!=""){_5a.push(_57+":"+_5b);}}_59["style"]=_5a.join(";");this.adaptiveColumnStyleValueObj[_56]=_59;};$W._a.aE.prototype.getColumnBackgroundColor=function(_5c){["WebSquare.uiplugin.styleController.prototype.getColumnBackgroundColor"];return this.getColumnStyleValue(_5c,"background-color");};$W._a.aE.prototype.getColumnColor=function(_5d){["WebSquare.uiplugin.styleController.prototype.getColumnColor"];return this.getColumnStyleValue(_5d,"color");};$W._a.aE.prototype.getColumnStyleValue=function(_5e,_5f){["WebSquare.uiplugin.styleController.prototype.getColumnStyleValue"];var _60=this.columnStyleValueObj[_5e];if(_60==null){return "";}return _60[_5f]||"";};$W._a.aE.prototype._getColumnStyleStr=function(_61){["WebSquare.uiplugin.styleController.prototype._getColumnStyleStr"];var _62=this.columnStyleValueObj[_61]["style"];return _62;};$W._a.aE.prototype.getAdaptiveColumnStyleValue=function(_63,_64){["WebSquare.uiplugin.styleController.prototype.getAdaptiveColumnStyleValue"];var _65=this.adaptiveColumnStyleValueObj[_63];if(_65==null){return "";}return _65[_64]||"";};$W._a.aE.prototype.setCellBackgroundColor=function(_66,_67,_68){["WebSquare.uiplugin.styleController.prototype.setCellBackgroundColor"];this.setCellStyle(_66,_67,"background-color",_68);};$W._a.aE.prototype.setCellColor=function(_69,_6a,_6b){["WebSquare.uiplugin.styleController.prototype.setCellColor"];this.setCellStyle(_69,_6a,"color",_6b);};$W._a.aE.prototype.setCellStyle=function(_6c,_6d,_6e,_6f,_70){["WebSquare.uiplugin.styleController.prototype.setCellStyle"];var _71=this.getCellStyleClassName(_6c,_6d);if(_71==null){this.cellStyleIndex++;_71=this.id+"_cellstyle_"+this.cellStyleIndex+"_";this.setCellStyleClassName(_6c,_6d,_71);}var _6d=this.getColumnIndex(_6d);var _72=this.cellStyleValueObj[_71];if(_72==null){_72={};}_72[_6e]=_6f;var _73=[];for(var _6e in _72){var _74=_72[_6e];if(_6e!="style"&&_74!=""){_73.push(_6e+":"+_74);}}_72["style"]=_73.join(";");this.cellStyleValueObj[_71]=_72;if(_70!==true){this.applyCellStyleOptions(_6c,_6d);}};$W._a.aE.prototype.setDisabledCellStyle=function(_75,_76,_77,_78){["WebSquare.uiplugin.styleController.prototype.setDisabledCellStyle"];var _76=this.getColumnIndex(_76);if(!this.getEditDisabled(_75,_76)){return;}if(!this.disabledCellStyleObj){this.disabledCellStyleObj={};}if(!this.disabledCellStyleObj[_75+"_"+_76]){this.disabledCellStyleObj[_75+"_"+_76]={};}var _79=this.disabledCellStyleObj[_75+"_"+_76];if(_79==null){_79={};}_79[_77]=_78;var _7a=[];for(var _77 in _79){var _7b=_79[_77];if(_77!="style"&&_7b!=""){_7a.push(_77+":"+_7b);}}_79["style"]=_7a.join(";");this.disabledCellStyleObj[_75+"_"+_76]=_79;this.applyCellStyleOptions(_75,_76);};$W._a.aE.prototype.getCellBackgroundColor=function(_7c,_7d){["WebSquare.uiplugin.styleController.prototype.getCellBackgroundColor"];return this.getCellStyleValue(_7c,_7d,"background-color");};$W._a.aE.prototype.getCellColor=function(_7e,_7f){["WebSquare.uiplugin.styleController.prototype.getCellColor"];return this.getCellStyleValue(_7e,_7f,"color");};$W._a.aE.prototype.getCellStyleValue=function(_80,_81,_82,_83){["WebSquare.uiplugin.styleController.prototype.getCellStyleValue"];try{var _84=this.getCellStyleClassName(_80,_81);if(_84==null){if(_83!==true){$W.logger.printLog("[Warning] Is not exist cell!["+this.id+"]");}return "";}return this.cellStyleValueObj[_84][_82]||"";}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aE.prototype._getCellStyleStr=function(_85){["WebSquare.uiplugin.styleController.prototype._getCellStyleStr"];var _86=this.cellStyleValueObj[_85]["style"];return _86;};$W._a.aE.prototype.setHeaderCellStyle=function(_87,_88,_89){["WebSquare.uiplugin.styleController.prototype.setHeaderCellStyle"];try{var th=this.getHeaderLayer(_87);$W._H.setStyle(th,_88,_89);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aE.prototype.setHeaderBackgroundColor=function(_8b,_8c){["WebSquare.uiplugin.styleController.prototype.setHeaderBackgroundColor"];try{var th=this.getHeaderLayer(_8b);$W._H.setStyle(th,"background-color",_8c);this.headerCellStyleValueObj[_8b]={"background-color":_8c};}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aE.prototype.setHeaderColor=function(_8e,_8f){["WebSquare.uiplugin.styleController.prototype.setHeaderColor"];try{var th=this.getHeaderLayer(_8e);$W._H.setStyle(th,"color",_8f);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aE.prototype.getHeaderCellStyleValue=function(_91,_92){["WebSquare.uiplugin.styleController.prototype.getHeaderCellStyleValue"];try{var th=this.getHeaderLayer(_91);return $W._H.getStyle(th,_92);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aE.prototype.getHeaderBackgroundColor=function(_94){["WebSquare.uiplugin.styleController.prototype.getHeaderBackgroundColor"];return this.getHeaderCellStyleValue(_94,"background-color");};$W._a.aE.prototype.getHeaderColor=function(_95){["WebSquare.uiplugin.styleController.prototype.getHeaderColor"];return this.getHeaderCellStyleValue(_95,"color");};;WebSquare.uiplugin.styleController=$W._a.aE;$W._a.aZ=function(_1){this.mainGrid=_1;this.filterArr=[];this.allRowIndexArr=[];this.firstFiltering=true;this.firstOpenCustomFilter={};this.customFilterStatusObj={};};$W._a.aZ.prototype.useFilter=function(){if(this.filterArr.length!=0){return true;}return false;};$W._a.aZ.prototype.clear=function(){this.filterArr=[];this.firstFiltering=true;};$W._a.aZ.prototype._setAllRowIndexArr=function(_2){if(this.allRowIndexArr.length!=_2){this.allRowIndexArr=[];for(var i=0;i<_2;i++){this.allRowIndexArr.push(i);}}};$W._a.aZ.prototype.executeAllFilter=function(_4,_5,_6){this._setAllRowIndexArr(_5);this.firstFiltering=true;for(var i=0;i<this.filterArr.length;i++){this.executeFilter(this.filterArr[i],_4,_5,_6);}if(this.filterArr.length==0){for(var i=0;i<this.mainGrid.filteredRowIndexArr.length;i++){this.mainGrid.filteredRowIndexArr[i]=i;}}};$W._a.aZ.prototype.executeFilter=function(_8,_9,_a,_b){["WebSquare.uiplugin.dataFilter.prototype.executeFilter"];try{if(_8.options.condition=="and"){if(this.firstFiltering){this.mainGrid.filteredRowIndexArr=_8.execute(_9,_a,_b,this.allRowIndexArr);}else{this.mainGrid.filteredRowIndexArr=_8.execute(_9,_a,_b,this.mainGrid.filteredRowIndexArr);}}else{if(_8.options.condition=="or"){var _c=_8.execute(_9,_a,_b,this.allRowIndexArr);if(this.firstFiltering){this.mainGrid.filteredRowIndexArr=this.mergeArray(this.allRowIndexArr,_c);}else{this.mainGrid.filteredRowIndexArr=this.mergeArray(this.mainGrid.filteredRowIndexArr,_c);}}else{if(_8.options.condition==">"||_8.options.condition==">="||_8.options.condition=="<"||_8.options.condition=="<="){if(_8.options.columnDataType!="number"){this.mainGrid.filteredRowIndexArr=this.allRowIndexArr;this.firstFiltering=false;return;}if(this.firstFiltering){this.mainGrid.filteredRowIndexArr=_8.executeCondition(_9,_a,_b,this.allRowIndexArr);}else{this.mainGrid.filteredRowIndexArr=_8.executeCondition(_9,_a,_b,this.mainGrid.filteredRowIndexArr);}}}}this.firstFiltering=false;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aZ.prototype.addFilter=function(_d,_e,_f,_10,_11){["WebSquare.uiplugin.dataFilter.prototype.addFilter"];try{this._setAllRowIndexArr(_f);var _12=null;if(_11.type=="row"){_12=new $W.rowFilter(_d,_11);}else{if(_11.type=="user"){_12=new $W.userFilter(_d,_11);}else{if(_11.type=="cell"){_12=new $W.cellFilter(_d,_11);}else{if(_11.type=="sort"){_12=new $W.sortFilter(_d,_11);this.deleteFilterById("sort^@",false);var _13=_11.sortIndex;if(typeof _13=="string"){var _13=_11.sortIndex.split(" ");}var _14=this.mainGrid.getColCnt();for(var i=0;i<_13.length;i++){var _16=this.mainGrid.getCellInfo(_13[i]);if(_16.options.inputType=="expression"){var _17=this.mainGrid.getColumnIndex(_16.options.id);for(var j=0;j<_f;j++){_e[_17+_14*j]=_16.getDisplayData(null,j);}}}}else{if(_11.type=="func"){_12=new $W.funcFilter(_d,_11);}else{if(_11.type=="regExp"){_12=new $W.regExpFilter(_d,_11);}}}}}}this.executeFilter(_12,_e,_f,_10);this.filterArr.push(_12);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aZ.prototype.deleteFilter=function(_19,_1a,_1b,_1c,_1d,_1e){if(typeof _1e=="undefined"){_1e=true;}var _1f=[];for(var i=0;i<this.filterArr.length;i++){if(this.filterArr[i].id.indexOf(_19)==-1){_1f.push(this.filterArr[i]);}}this.filterArr=_1f;if(_1e==true){this.firstFiltering=true;for(var i=0;i<this.filterArr.length;i++){this.executeFilter(this.filterArr[i],_1a,_1b,_1c);}if(this.filterArr.length==0){var _1b=this.mainGrid.dataList.getTotalRow();this.mainGrid.filteredRowIndexArr=[];for(var i=0;i<_1b;i++){this.mainGrid.filteredRowIndexArr.push(i);}}}};$W._a.aZ.prototype.mergeArray=function(_21,_22){var _23=[];var _24=[];for(var i=0;i<_21.length;i++){_23[_21[i]]=1;}for(var i=0;i<_22.length;i++){_23[_22[i]]=1;}for(var i=0;i<_23.length;i++){if(_23[i]==1){_24.push(i);}}return _24;};$W._a.aZ.prototype.deleteFilterById=function(_26,_27){if(typeof _27=="undefined"){_27=true;}var _28=[];for(var i=0;i<this.filterArr.length;i++){if(this.filterArr[i].id.indexOf(_26)==-1){_28.push(this.filterArr[i]);}}this.filterArr=_28;if(_27==true){}else{if(this.filterArr.length==0){this.firstFiltering=true;}}};$W._a.aZ.prototype.getOriginalRowIndex=function(_2a){var _2b=this.filteredRowIndexArr[_2a];return _2b;};$W._a.aZ.prototype.getDisplayRowIndex=function(_2c){if(this.mainGrid.filteredRowIndexArr.length!=0){for(var i=0;i<this.mainGrid.filteredRowIndexArr.length;i++){if(_2c==this.mainGrid.filteredRowIndexArr[i]){return i;}}}return _2c;};$W._a.aZ.prototype.makeCustomFilter=function(){["WebSquare.uiplugin.dataFilter.prototype.makeCustomFilter"];try{if(this.customFilter!=null){this.customFilter.remove();}this.customFilter=new $W._a._e(this.mainGrid.id+"_customFilter",{style:"position:absolute; border-width:1px;",className:"w2grid_customFilter",useModal:true,headerLeftClass:"w2grid_customFilter_HL",headerRightClass:"w2grid_customFilter_HR",headerCenterClass:"w2grid_customFilter_HC",bodyLeftClass:"w2grid_customFilter_BL",bodyRightClass:"w2grid_customFilter_BR",bodyCenterClass:"w2grid_customFilter_BC",bodyLeftBottomClass:"w2grid_customFilter_FL",bodyRightBottomClass:"w2grid_customFilter_FR",bodyBottomClass:"w2grid_customFilter_FC",closeButtonClass:"w2grid_customFilter_btnClose",title:$W._m.getMessage("Grid_filter_title")||"\uc0ac\uc6a9\uc790 \uc9c0\uc815 \ud544\ud130",titleClass:"w2grid_customFilter_title"});var _2e=new $W._a.aV(this.mainGrid.id+"_text1",{style:"position:absolute; margin:10px;",className:"w2grid_customFilter_text",label:$W._m.getMessage("Grid_filter_search_label")||"\ucc3e\uc744 \uc870\uac74"});this.customFilter.addControl(_2e);this.selectboxItemSet=["=","<>",">",">=","<","<=",$W._m.getMessage("Grid_filter_condition1")||"\uc2dc\uc791\ubb38\uc790",$W._m.getMessage("Grid_filter_condition2")||"\uc81c\uc678\ud560 \uc2dc\uc791 \ubb38\uc790",$W._m.getMessage("Grid_filter_condition3")||"\ub05d \ubb38\uc790",$W._m.getMessage("Grid_filter_condition4")||"\uc81c\uc678\ud560 \ub05d \ubb38\uc790",$W._m.getMessage("Grid_filter_condition5")||"\ud3ec\ud568",$W._m.getMessage("Grid_filter_condition6")||"\ud3ec\ud568\ud558\uc9c0 \uc54a\uc74c"];this.customFilterItemCnt=0;this.groupList=[];var _2f=new $W._a._p(this.mainGrid.id+"_item_"+this.customFilterItemCnt,{style:"position:absolute; width:100%; height:22px; margin-bottom:5px; background-color:transparent;"});this.customFilter.addControl(_2f);this.groupList.push(_2f);var _30=new $W._a._r(_2f.id+"_selectbox",{style:"position:absolute;",className:"w2grid_customFilter_selectbox",textAlign:"left",chooseOption:true});_2f.addControl(_30);var _31=new $W._a.ao(_2f.id+"_autocomplete",{style:"position:absolute;",className:"w2grid_customFilter_autocomplete",noResult:"useData",chooseOption:true,caseSensitive:false});_2f.addControl(_31);for(var j=0;j<this.colDataList.length;j++){_31.addItem(this.colDataList[j],this.colDataList[j]);}var _33=this.mainGrid.headCellInfoHash[this.headerID].getAttribute("customFilterItemCnt")||2;for(var i=0;i<_33-1;i++){this.addCustomFilterItem();}var _35=new $W._a.aV(this.mainGrid.id+"_text2",{style:"position:absolute; margin-left:10px; margin-top:5px;",className:"w2grid_customFilter_text",label:$W._m.getMessage("Grid_filter_info_Label1")||"? \uae30\ud638\ub97c \uc0ac\uc6a9\ud558\uc5ec \ud55c\ubb38\uc790\ub97c \ub098\ud0c0\ub0bc \uc218 \uc788\uc2b5\ub2c8\ub2e4."});this.customFilter.addControl(_35);var _36=new $W._a.aV(this.mainGrid.id+"_text3",{style:"position:absolute; margin:5px; margin-bottom:10px; margin-left:10px;",className:"w2grid_customFilter_text",label:$W._m.getMessage("Grid_filter_info_Label2")||"* \uae30\ud638\ub97c \uc0ac\uc6a9\ud558\uc5ec \uc5ec\ub7ec \ubb38\uc790\ub97c \ub098\ud0c0\ub0bc \uc218 \uc788\uc2b5\ub2c8\ub2e4."});this.customFilter.addControl(_36);var _37=new $W._a._p(this.mainGrid.id+"_buttonGroup",{style:"position:absolute;",className:"w2grid_customFilter_buttonGroup"});this.customFilter.addControl(_37);var _38=this;var _39=new $W._a.aV(this.mainGrid.id+"_btnConform",{style:"position:absolute; border-width:1px;",className:"w2grid_customFilter_button",label:$W._m.getMessage("Grid_filter_confirm")||"\ud655\uc778",xmlEvents:[{name:"onclick",action:"script",param:{handler:function(e){_38.setCustomFilterExpression();}}}]});_37.addControl(_39);_39.addEvent("onmousedown",function(){_39.toggleClass("w2grid_customFilter_button_selected");this.customFilterBtnSelected=true;});_39.addEvent("onmouseup",function(){_39.toggleClass("w2grid_customFilter_button_selected");this.customFilterBtnSelected=false;});_39.addEvent("onmouseout",function(){_39.toggleClass("w2grid_customFilter_button_selected");});var _3b=new $W._a.aV(this.mainGrid.id+"_btnCancel",{style:"position:absolute; border-width:1px;",className:"w2grid_customFilter_button",label:$W._m.getMessage("Grid_filter_cancel")||"\ucde8\uc18c",xmlEvents:[{name:"onclick",action:"script",param:{handler:function(e){if(_38.mainGrid.options.groupbyZone){if(_38.firstOpenCustomFilter[_38.headerID]){_38.firstOpenCustomFilter[_38.headerID]=false;}}_38.customFilter.hide();}}}]});_37.addControl(_3b);_3b.addEvent("onmousedown",function(){_3b.toggleClass("w2grid_customFilter_button_selected");});_3b.addEvent("onmouseup",function(){_3b.toggleClass("w2grid_customFilter_button_selected");});_3b.addEvent("onmouseout",function(){_3b.toggleClass("w2grid_customFilter_button_selected");});this.customFilter.writeTo($W.getBody());this.customFilter.activate();this.setChildrenPosition();this.setDefaultValue();_3b.render.style.left=_37.render.offsetWidth-_3b.render.offsetWidth-10+"px";_39.render.style.left=parseInt(_3b.render.style.left,10)-_39.render.offsetWidth-5+"px";this.customFilter.hide();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aZ.prototype.setDefaultValue=function(){for(var i=0;i<this.groupList.length;i++){var _3e=this.groupList[i];var _3f=_3e.getChildren();for(var j=0;j<_3f.length;j++){var _41=_3f[j];if(_41.id.indexOf("_selectbox")!=-1){for(var k=0;k<this.selectboxItemSet.length;k++){_41.addItemArr(this.selectboxItemSet[k],this.selectboxItemSet[k]);}var _43=this.itemValueObj[this.targetColID]["select"+i];_41.setSelectedIndex(_43?_43:0);}else{if(_41.id.indexOf("_autocomplete")!=-1){var _44=this.itemValueObj[this.targetColID]["auto"+i];_41.setValue(_44?_44:"");}else{if(_41.id.indexOf("_radio")!=-1){_41.addItem("OR","OR","0");_41.addItem("AND","AND","0");var _45=this.itemValueObj[this.targetColID]["radio"+i];_41.setSelectedIndex(_45?_45:0);}}}}}};$W._a.aZ.prototype.getUniqueValueOfArray=function(arr){arr.sort();for(var i=1;i<arr.length;i++){if(arr[i]===arr[i-1]){arr.splice(i--,1);}}return arr;};$W._a.aZ.prototype.setAutoCompleteItem=function(_48){var _49=this.mainGrid.getColData(_48);for(key in this.itemValueObj[this.targetColID]){if(key.indexOf("auto")!=-1){if(this.itemValueObj[this.targetColID][key]!=""){_49.push(this.itemValueObj[this.targetColID][key]);}}}this.colDataList=this.getUniqueValueOfArray(_49);this.colDataList.sort();};$W._a.aZ.prototype.showFilterOptions=function(_4a){if(this.mainGrid.options.useFilterList){if(this.mainGrid.customFilterList&&this.mainGrid.customFilterScrollView){this.mainGrid.toggleCustomFilterList(_4a);}else{this.mainGrid.createCustomFilterList(_4a);}}else{this.showCustomFilter(_4a);}};$W._a.aZ.prototype.showCustomFilter=function(_4b){this.mainGrid.noevent=true;if(this.mainGrid.options.useFilterList&&!this.mainGrid.groupbyStatus.grouped){this.showFilterOptions(_4b);return;}this._showCustomFilter(_4b);};$W._a.aZ.prototype._showCustomFilter=function(_4c){this.headerID=_4c;this.targetColID=this.mainGrid.getColIdByHeaderId(_4c);if(this.customFilter==null){this.itemValueObj={};this.customFilterStatusObj={};}if(!this.itemValueObj[this.targetColID]){this.itemValueObj[this.targetColID]={};}this.setAutoCompleteItem(this.targetColID);this.makeCustomFilter();var _4d=this.mainGrid.render.offsetTop;var _4e=this.mainGrid.render.offsetLeft;var _4f=this.mainGrid.getHeaderPosition(_4c,"top");var _50=this.mainGrid.getHeaderPosition(_4c,"left");var _51=this.mainGrid.getHeaderSize(_4c,"width");var _52=this.mainGrid.getHeaderSize(_4c,"height");var _53=0,screenHeight=0;if(typeof (window.innerWidth)=="number"){_53=window.innerWidth;screenHeight=window.innerHeight;}else{if(document.documentElement&&(document.documentElement.clientWidth||document.documentElement.clientHeight)){_53=document.documentElement.clientWidth;screenHeight=document.documentElement.clientHeight;}else{if(document.body&&(document.body.clientWidth||document.body.clientHeight)){_53=document.body.clientWidth;screenHeight=document.body.clientHeight;}}}var _54=parseInt($W._G.getStyleProperty(this.customFilter.render,"width"),10);var _55=parseInt($W._G.getStyleProperty(this.customFilter.render,"height"),10);var _56=0;var _57=0;var top,left;if($W._G.isIE("6 7 8")){top=document.documentElement.scrollTop;left=document.documentElement.scrollLeft;}else{top=window.pageYOffset;left=window.pageXOffset;}if(_4e+_50+_51+_54<=_53+left){_56=_4e+_50+_51;}else{_56=_4e+_50-_54;}if(_4d+_4f+_52+_55<=screenHeight+top){_57=_4d+_4f+_52;}else{_57=_4d+this.mainGrid.render.offsetHeight-_55;}if(_56<left){_56=(_53-_54)/2+left;_57=_4d+this.mainGrid.render.offsetHeight;if(_57+_55>screenHeight+top){_57=_4d-_55;}}if(_57<top){_57=(screenHeight-_55)/2+top;}this.customFilter.render.style.left=_56+"px";this.customFilter.render.style.top=_57+"px";this.customFilter.show();};$W._a.aZ.prototype.addCustomFilterItem=function(){this.customFilterItemCnt++;var _59=new $W._a._p(this.mainGrid.id+"_item_"+this.customFilterItemCnt,{style:"position:absolute;",className:"w2grid_customFilter_item"});this.customFilter.addControl(_59);this.groupList.push(_59);var _5a=new $W._a._q(_59.id+"_radio",{style:"position:absolute; left:50px; height:20px;",className:"w2grid_customFilter_radio",selectedIndex:0,cols:2,rows:1});_59.addControl(_5a);var _5b=new $W._a._r(_59.id+"_selectbox",{style:"position:absolute; top:25px;",className:"w2grid_customFilter_selectbox",textAlign:"left",chooseOption:true});_59.addControl(_5b);var _5c=new $W._a.ao(_59.id+"_autocomplete",{style:"position:absolute; top:25px;",className:"w2grid_customFilter_autocomplete",noResult:"useData",chooseOption:true,caseSensitive:false});_59.addControl(_5c);for(var j=0;j<this.colDataList.length;j++){_5c.addItem(this.colDataList[j],this.colDataList[j]);}};$W._a.aZ.prototype.setChildrenPosition=function(){var _5e=this.customFilter.getChildren();for(var i=1;i<=_5e.length;i++){var _60=$W._H.getStyle(_5e[i-1].render,"top");_60=_60==="auto"?"0":_60;if(i===_5e.length){break;}var _61=$W._H.getStyle(_5e[i-1].render,"margin-bottom");_61=_61==="auto"?"0":_61;_5e[i].render.style.top=_5e[i-1].render.offsetHeight+5+parseInt(_60?_60:"0",10)+parseInt(_61?_61:"0",10)+"px";}var _62=this.customFilter.dom["closeButton"].parentNode.offsetHeight;var _63=_5e[i-1].render.offsetHeight+10+parseInt(_60?_60:"0",10);this.customFilter.setSize(this.customFilter.render.offsetWidth,_62+_63+6);};$W._a.aZ.prototype.replacechar=function(_64){if(_64=="^"||_64=="$"||_64=="."||_64=="["||_64=="]"||_64=="{"||_64=="}"||_64=="+"||_64=="("||_64==")"||_64=="|"){return "\\"+_64;}else{if(_64=="\\"){return "\\"+_64;}}};$W._a.aZ.prototype.setCustomFilterExpression=function(){this.mainGrid.removeColumnFilter(this.targetColID);var _65=true;var _66=[];for(var i=0;i<this.groupList.length;i++){var _68={};var _69=this.groupList[i];var _6a=_69.getChildren();for(var j=0;j<_6a.length;j++){var _6c=_6a[j];if(_6c.id.indexOf("_selectbox")!=-1){_68["select"]=_6c.getSelectedIndex();this.itemValueObj[this.targetColID]["select"+i]=_6c.getSelectedIndex();_65=_65&&_6c.getSelectedIndex()==0;}else{if(_6c.id.indexOf("_autocomplete")!=-1){var _6d=this;var _6e=/[\^\$\.\[\]\{\}\+\(\)\|\\]/g;_68["auto"]=_6c.getValue()!=_6c.options.chooseOptionLabel?(_6c.getValue()+"").replace(_6e,function(m){return _6d.replacechar(m);}).replace("?",".").replace("*",".*"):"";this.itemValueObj[this.targetColID]["auto"+i]=_6c.getValue();_65=_65&&_6c.getValue()==_6c.options.chooseOptionLabel;}else{if(_6c.id.indexOf("_radio")!=-1){_68["radio"]=_6c.getSelectedIndex();this.itemValueObj[this.targetColID]["radio"+i]=_6c.getSelectedIndex();}}}}if(_68["select"]){_66.push(_68);}}this.customFilterStatusObj[this.headerID]=true;this.mainGrid.setColumnFilter({type:"func",colIndex:this.targetColID,key:this.customFilterOperator,condition:"and",param:_66});var _70=this.mainGrid.getElementById(this.mainGrid.id+"_"+this.headerID+"_filter");if(_65||_66.length==0){$W._H.removeClass(_70,"w2grid_customFilter_filter");}else{$W._H.addClass(_70,"w2grid_customFilter_filter");}this.customFilter.hide();};$W._a.aZ.prototype.customFilterOperator=function(_71,_72){var _73=true;var _74=[];for(var i=0;i<_72.length;i++){var _76=true;var _77;switch(_72[i]["select"]){case 1:_77=new RegExp(_72[i]["auto"],"g");_77.lastIndex=0;_76=_71==_77.exec(_71)?true:false;break;case 2:_77=new RegExp(_72[i]["auto"],"g");_77.lastIndex=0;_76=_71!=_77.exec(_71)?true:false;break;case 3:_76=_71>_72[i]["auto"].replace(".*","~~").replace(".","~").replace("\\~",".")?true:false;break;case 4:_76=_71>=_72[i]["auto"].replace(".*","~~").replace(".","~").replace("\\~",".")?true:false;break;case 5:_76=_71<_72[i]["auto"].replace(".*","~~").replace(".","~").replace("\\~",".")?true:false;break;case 6:_76=_71<=_72[i]["auto"].replace(".*","~~").replace(".","~").replace("\\~",".")?true:false;break;case 7:_77=new RegExp("^("+_72[i]["auto"]+")","g");_76=_77.test(_71)?true:false;break;case 8:_77=new RegExp("^[^("+_72[i]["auto"]+")]","g");_76=_77.test(_71)?true:false;break;case 9:_77=new RegExp("("+_72[i]["auto"]+")$","g");_76=_77.test(_71)?true:false;break;case 10:_77=new RegExp("[^("+_72[i]["auto"]+")]$","g");_76=_77.test(_71)?true:false;break;case 11:_77=new RegExp(_72[i]["auto"],"g");_76=_77.test(_71)?true:false;break;case 12:_77=new RegExp("^(?!.*"+_72[i]["auto"]+").*","g");_76=_77.test(_71)?true:false;break;default:_76=_71==_72[i]["auto"]?true:false;break;}if(_72.length===1){_73=_76;break;}if(i===0){_73=_76;continue;}if(_72[i]["radio"]==0){_73=_73&&_76;}else{_73=_73||_76;}}return _73;};;WebSquare.uiplugin.dataFilter=$W._a.aZ;$W._a._R=function(_1){this.statusArr=[];this.mainGrid=null;this.options=null;this.mode=null;};$W._a._R.prototype.initialize=function(_2,_3){this.mainGrid=_2;if(_2._linkedDataList){this.mode="linkedDataList";}else{this.mode="dataList";}if(this.mode==="linkedDataList"){this.statusArr=[];this.options=$W.extend({showDepth:-1,depthColumn:-1},_3||{});if(_2._linkedDataList.initialRowIndexArr.length!==_2._linkedDataList.filteredRowIndexArr.length){$W.logger.printLog("\uacbd\uace0 : drilldown\uc5d0\uc11c\ub294 filter\uae30\ub2a5\uc744 \uc0ac\uc6a9\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4. \uac1c\ubcc4 filter\ub97c \uc790\ub3d9\uc73c\ub85c \uc804\ubd80 \ud574\uc81c\ud569\ub2c8\ub2e4.["+this.id+"]");_2._linkedDataList.clearFilter();}_2._linkedDataList.filteredRowIndexArr=[];var _4=this.options.depthColumn;var _5=_2._linkedDataList.initialRowIndexArr.length;for(var i=0;i<_5;i++){var _7=_2._linkedDataList.initialRowIndexArr[i];this.statusArr[_7]=false;var _8=0;if(this.options.dataColumn=="dataList"){_8=parseInt(this.mainGrid.dataList._getData(_7,this.mainGrid._dataList.getColumnID(_4)));}else{_8=parseInt(this.mainGrid.dataList._getData(_7,this.mainGrid.getColumnID(_4)));}if(_8<=parseInt(this.options.showDepth,10)){this.mainGrid._linkedDataList.filteredRowIndexArr.push(_7);this.statusArr[_7]=true;}}}else{_2._dataList.filteredRowIndexArr=[];this.statusArr=[];this.options=$W.extend({showDepth:-1,depthColumn:-1},_3||{});var _4=this.options.depthColumn;var _5=this.mainGrid.getTotalRow();for(var _7=0;_7<_5;_7++){this.statusArr[_7]=false;var _8=0;if(this.options.dataColumn=="dataList"){_8=parseInt(this.mainGrid.dataList._getData(_7,this.mainGrid._dataList.getColumnID(_4)));}else{_8=parseInt(this.mainGrid.dataList._getData(_7,this.mainGrid.getColumnID(_4)));}if(_8<=parseInt(this.options.showDepth,10)){this.mainGrid._dataList.filteredRowIndexArr.push(_7);this.statusArr[_7]=true;}}}};$W._a._R.prototype.getDepth=function(_9){var _a=0;if(this.options.dataColumn=="dataList"){_a=parseInt(this.mainGrid.dataList._getData(_9,this.mainGrid._dataList.getColumnID(this.options.depthColumn)));}else{_a=parseInt(this.mainGrid.dataList._getData(_9,this.mainGrid.getColumnID(this.options.depthColumn)));}return _a;};$W._a._R.prototype.isOpen=function(_b){var _c=this.getDepth(this.mainGrid.getRealRowIndex(_b));var _d=0;if(this.mode==="linkedDataList"){_d=this.mainGrid._linkedDataList.filteredRowIndexArr[_b+1];}else{_d=this.mainGrid._dataList.filteredRowIndexArr[_b+1];}var _e=this.getDepth(_d);if(!isNaN(_c)&&!isNaN(_e)){if(_c<_e){return true;}else{return false;}}else{return false;}};$W._a._R.prototype.hasChild=function(_f){if(this.mode==="linkedDataList"){var _10=this.mainGrid._linkedDataList.filteredRowIndexArr[_f];var _11=this.mainGrid._linkedDataList.getLinkedRowIndex(_f);var _12=this.mainGrid._linkedDataList.initialRowIndexArr[_11+1];var _13=this.mainGrid.getTotalCol();var _14=this.mainGrid.getColumnID(this.options.depthColumn);if(this.options.dataColumn=="dataList"){_14=this.mainGrid._dataList.getColumnID(this.options.depthColumn);}var _15=parseInt(this.mainGrid.dataList._getData(_10,_14));var _16=parseInt(this.mainGrid.dataList._getData(_12,_14));_16=(isNaN(_16))?0:_16;return (_15<_16);}else{var _10=this.mainGrid.getRealRowIndex(_f);var _12=_10+1;var _13=this.mainGrid.getTotalCol();var _14=this.mainGrid.getColumnID(this.options.depthColumn);if(this.options.dataColumn=="dataList"){_14=this.mainGrid._dataList.getColumnID(this.options.depthColumn);}var _15=parseInt(this.mainGrid.dataList._getData(_10,_14));var _16=parseInt(this.mainGrid.dataList._getData(_12,_14));_16=(isNaN(_16))?0:_16;return (_15<_16);}};$W._a._R.prototype.getOriginalRowIndex=function(_17){return this.openRowIndexArr[_17];};$W._a._R.prototype.getDisplayRowIndex=function(_18){if(this.mode==="linkedDataList"){if(this.mainGrid._linkedDataList.filteredRowIndexArr){for(var i=0;i<this.mainGrid._linkedDataList.filteredRowIndexArr.length;i++){if(parseInt(_18,10)===this.mainGrid._linkedDataList.filteredRowIndexArr[i]){return i;}}}}else{if(this.mainGrid._dataList.filteredRowIndexArr){for(var i=0;i<this.mainGrid._dataList.filteredRowIndexArr.length;i++){if(parseInt(_18,10)===this.mainGrid.getRealRowIndex(i)){return i;}}}}return _18;};$W._a._R.prototype.getChildRowArr=function(_1a,_1b){var _1c=_1a;var _1d=this.getDepth(_1a);var _1e=this.mainGrid.getTotalCol();var _1f=this.mainGrid.getTotalRow();var _20=[];var col=this.options.depthColumn;var _22=this.mainGrid.getColumnID(col);if(this.options.dataColumn=="dataList"){_22=this.mainGrid._dataList.getColumnID(col);}if(this.mode==="linkedDataList"){for(var i=_1c+1;i<_1f;i++){var row=this.mainGrid._linkedDataList.initialRowIndexArr[i];if(this.mainGrid.dataList._getData(row,_22)==(_1d+1)){_20.push(row);}if(_1b&&this.mainGrid.dataList._getData(row,_22)>(_1d+1)){_20.push(row);}if(this.mainGrid.dataList._getData(row,_22)<=_1d){break;}}}else{for(var row=_1c+1;row<_1f;row++){if(this.mainGrid.dataList._getData(row,_22)==(_1d+1)){_20.push(row);}if(_1b&&this.mainGrid.dataList._getData(row,_22)>(_1d+1)){_20.push(row);}if(this.mainGrid.dataList._getData(row,_22)<=_1d){break;}}}return _20;};$W._a._R.prototype.getChildrenRowArr=function(_25){var _26=[];if(this.mainGrid){var _27=this.mainGrid.getTotalCol();var _28=this.mainGrid.getTotalRow();var col=this.options.depthColumn;var _2a=this.mainGrid.getColumnID(col);if(this.options.dataColumn=="dataList"){_2a=this.mainGrid._dataList.getColumnID(col);}if(this.mode==="linkedDataList"){var row=this.mainGrid._linkedDataList.initialRowIndexArr[_25+1];var _2c=parseInt(this.mainGrid.dataList._getData(this.mainGrid._linkedDataList.initialRowIndexArr[_25],_2a),10);if(row<_28&&this.mainGrid.dataList._getData(row,_2a)>(_2c)){_26.push(row);var _2d=parseInt(this.mainGrid.dataList._getData(row,_2a),10);var _2e=true;}if(_2e){for(var i=_25+2;i<_28;i++){var row=this.mainGrid._linkedDataList.initialRowIndexArr[i];if(this.mainGrid.dataList._getData(row,_2a)<(_2c+1)){break;}if(this.mainGrid.dataList._getData(row,_2a)<(_2d+1)){_26.push(row);_2d=parseInt(this.mainGrid.dataList._getData(row,_2a),10);}}}}else{var row=_25+1;var _2c=parseInt(this.mainGrid.dataList._getData(_25,_2a),10);if(row<_28&&this.mainGrid.dataList._getData(row,_2a)>(_2c)){_26.push(row);var _2d=parseInt(this.mainGrid.dataList._getData(row,_2a),10);var _2e=true;}if(_2e){for(var row=_25+2;row<_28;row++){if(this.mainGrid.dataList._getData(row,_2a)<(_2c+1)){break;}if(this.mainGrid.dataList._getData(row,_2a)<(_2d+1)){_26.push(row);_2d=parseInt(this.mainGrid.dataList._getData(row,_2a),10);}}}}}return _26;};$W._a._R.prototype.getParentRowIndex=function(_30){var _31=-1;if(this.mainGrid){var _32=this.mainGrid.getTotalCol();var col=this.options.depthColumn;var _34=this.mainGrid.getColumnID(col);if(this.options.dataColumn=="dataList"){_34=this.mainGrid._dataList.getColumnID(col);}var _35=parseInt(this.mainGrid.dataList._getData(_30,_34));if(this.mode==="linkedDataList"){var _36=this.mainGrid._linkedDataList.getLinkedRealRowIndex(_30);for(var i=_36-1;i>=0;i--){var row=this.mainGrid._linkedDataList.initialRowIndexArr[i];if(this.mainGrid.dataList._getData(row,_34)<_35){return row;}}}else{for(var row=_30-1;row>=0;row--){if(this.mainGrid.dataList._getData(row,_34)<_35){return row;}}}}return _31;};$W._a._R.prototype.makeOpenRowIndexArr=function(){if(this.mode==="linkedDataList"){this.mainGrid._linkedDataList.filteredRowIndexArr=[];for(var row=0;row<this.statusArr.length;row++){if(this.statusArr[row]==true){this.mainGrid._linkedDataList.filteredRowIndexArr.push(row);}}}else{this.mainGrid._dataList.filteredRowIndexArr=[];for(var row=0;row<this.statusArr.length;row++){if(this.statusArr[row]==true){this.mainGrid._dataList.filteredRowIndexArr.push(row);}}}};$W._a._R.prototype.toggle=function(_3a){var _3b=this.isOpen(_3a);var _3c=[];if(this.mode==="linkedDataList"){_3a=this.mainGrid._linkedDataList.getLinkedRealRowIndex(_3a);}else{_3a=this.mainGrid.getRealRowIndex(_3a);}if(_3b){_3c=this.getChildRowArr(_3a,true);}else{_3c=this.getChildrenRowArr(_3a);}for(var row=0;row<_3c.length;row++){this.statusArr[_3c[row]]=(!_3b);}this.makeOpenRowIndexArr();};$W._a._R.prototype.isLastChild=function(_3e){var _3f=this.mainGrid.getTotalCol();var col=this.options.depthColumn;var _41=this.mainGrid.getColumnID(col);if(this.options.dataColumn=="dataList"){_41=this.mainGrid._dataList.getColumnID(col);}var _42=this.mainGrid.dataList._getData(_3e,_41);if(this.mode==="linkedDataList"){var _43=this.mainGrid._linkedDataList.getLinkedRealRowIndex(childRowIndex);for(var i=_43-1;i>=0;i--){var row=this.mainGrid._linkedDataList.initialRowIndexArr[i];if(this.mainGrid.dataList._getData(row,_41)<_42){return row;}}}else{for(var row=_3e+1;row<this.mainGrid.getTotalRow();row++){if(this.mainGrid.dataList._getData(row,_41)==_42){return false;}else{if(this.mainGrid.dataList._getData(row,_41)<_42){return true;}}}}return true;};$W._a._R.prototype.getRecursiveRowIndex=function(_46){["WebSquare.uiplugin.drilldown.prototype.getRecursiveRowIndex"];try{var _47=[];var _48=this.getChildrenRowArr(_46);for(var i=0;i<_48.length;i++){var _4a=_48[i];_47.push(_4a);_47=_47.concat(this.getRecursiveRowIndex(_4a));}return _47;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._R.prototype.getRecursiveRowCount=function(_4b){["WebSquare.uiplugin.drilldown.prototype.getRecursiveRowCount"];try{var cnt=0;var _4d=this.getChildrenRowArr(_4b);for(var i=0;i<_4d.length;i++){cnt+=this.getRecursiveRowCount(_4d[i]);cnt++;}return cnt;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._R.prototype.appendChild=function(_4f,_50){["WebSquare.uiplugin.drilldown.prototype.appendChild"];try{if(_50){var _51=_4f+this.getRecursiveRowCount(_4f);this.mainGrid.toggle(this.getDisplayRowIndex(_4f));rowIndex=this.mainGrid.dataList.setRowData(_51+1,_50);return rowIndex;}else{$l("data is null. check data."+"["+this.id+"]");}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._R.prototype.moveNode=function(_52,_53){["WebSquare.uiplugin.drilldown.prototype.moveNode"];try{var _54;if(_52<_53){if(!this.bodyDrop){var _55=this.getRecursiveRowCount(_52)+1;_54=_53-_55;}}else{if(_52>_53){_54=_53;}else{if(_52==_53){_54=_53;}}}var _56=this.detachNode(_52);var _57=this.appendNode(_54,_56);if(typeof _54!="number"){_54=this.mainGrid.getRealRowIndex(this.mainGrid.getRowCount()-1);}this.bodyDrop=false;return {detachedData:_56,insertedData:_57,insertedRowIndex:_54};}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._R.prototype.appendNode=function(_58,_59){["WebSquare.uiplugin.drilldown.prototype.appendNode"];try{var _5a;var _5b;var _5c;var _5d=this.mainGrid.getColumnCount();var _5e=_59.length/this.mainGrid.getColumnCount();this.options.depthColumn=parseInt(this.options.depthColumn,10);if(this.bodyDrop){this.bodyDrop=false;var _5f=this;var _60=function(_61){var _62=_5f.getParentRowIndex(_61);if(_62>-1){_62=_60(_62);}else{_62=_61;}return _62;};var _63=this.mainGrid.getRealRowIndex(this.mainGrid.getRowCount()-1);var _64=this.getDisplayRowIndex(_60(_63));_5a=parseInt(this.mainGrid.getCellData(_64,this.options.depthColumn),10);_5b=parseInt(_59[_5d*(_5e-1)+parseInt(this.options.depthColumn)],10);_58=_63+this.getRecursiveRowCount(_63)+1;_5c=_5a-_5b;}else{var _64=this.getDisplayRowIndex(_58-1);_5a=parseInt(this.mainGrid.getCellData(_64,this.options.depthColumn),10);_5b=parseInt(_59[_5d*(_5e-1)+parseInt(this.options.depthColumn)],10);_5c=_5a-_5b+1;}var _65=[];for(var row=0;row<_5e;row++){for(var col=0;col<_5d;col++){var _68=_59[_5d*row+col];if(col==this.options.depthColumn){_68-=0;_68+=_5c;}_65.push(_68);}}this.mainGrid.dataList._insertData(_58,_65,-1);var _69=this.getDisplayRowIndex(_58);if(this.isOpen(_69)){this.mainGrid.toggle(_69);}return _65;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._R.prototype.detachNode=function(_6a){["WebSquare.uiplugin.drilldown.prototype.detachNode"];try{var ret=[];var _6c=[];var _6d=this.mainGrid.dataList.removeRow(_6a,{skipNotify:true});for(var i=0;i<_6d.length;i++){ret=ret.concat(_6d[i]);}return ret;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._R.prototype.insertNextSibling=function(_6f,_70){["WebSquare.uiplugin.drilldown.prototype.insertNextSibling"];try{this.options.depthColumn=parseInt(this.options.depthColumn,10);var _71=this.mainGrid.dataList.getColumnCount();var _72=_70.length/this.mainGrid.dataList.getColumnCount();var _73=this.mainGrid.getDisplayRowIndex(_6f);var _74=parseInt(this.mainGrid.getCellData(_73,this.options.depthColumn),10);var _75=parseInt(_70[_71*(_72-1)+parseInt(this.options.depthColumn)],10);var _76=_74-_75;var _77=[];_6f+=this.getRecursiveRowCount(_6f)+1;for(var row=0;row<_72;row++){for(var col=0;col<_71;col++){var _7a=_70[_71*row+col];if(col==this.options.depthColumn){_7a-=0;_7a+=_76;}_77.push(_7a);}}this.mainGrid.dataList._insertData(_6f,_77,-1);if(this.mainGrid.options.closeDrillDownSibling){for(var row=0;row<_72;row++){var _7b=this.getDisplayRowIndex(_6f+row);if(this.isOpen(_7b)){this.mainGrid.toggle(_7b);}}}return _77;}catch(e){$W.exception.printStackTrace(e,null,this);}};;WebSquare.uiplugin.drilldown=$W._a._R;$W._a.aY=function(){["WebSquare.uiplugin.notifyController"];};$W._a.aY.prototype.notifySettedGridData=function(_1,_2,_3){["WebSquare.uiplugin.notifyController.prototype.notifySettedGridData"];try{if(this.options.scrollFix&&this.settedData){var _4=this.getTopRowIndex();for(var i=0;i<=this.lastIndex;i++){var _6=_4+i;this.drawRowData(_6-this.rowIndex,_6);}return;}this.dataList.clearFilter(true);this.notifyClearFilter(true);this.settedData=false;_2=_2||false;var _3=_3;if(!_2){this.rowStyleArr=[];this.cellStyleArr=[];this.rowReadOnlyArr=[];this.cellReadOnlyArr=[];this.rowDisabledArr=[];this.cellDisabledArr=[];this.lastIndex=-1;this.lastTopRowIndex=null;this.bScrollTop=-1;this.extraData={grid:{},row:[],col:[],cell:[]};_3=0;}this.beforeDataLength=-1;if(this.isDrillDown==true){this.setCellInfo();this.initDrilldown();}this.initStyleArr(_3);if(this.loadFlag==false&&_2){this.loadFlag=false;}else{this.loadFlag=true;}this.lastTopRowIndex=null;this.notifyDataChanged(_2?{append:true,keepTop:true}:{});this.loadFlag=true;if(this.getTotalRow()==0){this.removeFocusedCell();}if(this.options.focusOnSetData){this.setFocusedCell(0,0);}this.setScrollYHeight();this.settedData=true;if(this.options.fixedRightColumn>0){this._handleScrollX();}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aY.prototype.notifyBeforeSettedCellData=function(){["WebSquare.uiplugin.notifyController.prototype.notifyBeforeSettedCellData"];try{if(this.editedCell!=null){return;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aY.prototype.notifySettedCellData=function(_7,_8,_9,_a){["WebSquare.uiplugin.notifyController.prototype.notifySettedCellData"];try{var _b;var _c=this.getColumnIndex(_8);this.notifyCellChanged(_7,_c,_a);if(this.isDrillDown){if(!_c&&this._dataList.options.depthColumn){_c=this._dataList.getColumnIndex(_8);}if(this.drilldown.options.depthColumn==_c){this.notifyDataChanged({keepTop:true});if(this.getDataLength()==0){this.removeFocusedCell();}this.setScrollYHeight();}}var _d=this.getCellInfo(_8);var _e=_7;var _f=this.getTotalRow();if(_d&&_d.options.colMerge&&_d.options.colMergeEdit){var _10=this.data_td_list[(_e-this.rowIndex)*this.oneRowDataLength+_c];if(_10){var _11=_10.getAttribute("colMerged");if(_11=="1"&&_9!=this.getCellData(_e-1,_c)){_10.setAttribute("colMerged","0");this.drawCellData(_e-this.rowIndex,_e,_c);if(_e<_f-1){var _12=this.data_td_list[(_e-this.rowIndex+1)*this.oneRowDataLength+_c];if(_12){if(_9==this.getCellData(_e+1,_c)){_12.setAttribute("colMerged","1");}else{_12.setAttribute("colMerged","0");}this.drawCellData(_e-this.rowIndex+1,_e+1,_c);}}}if(_11=="0"){if(_e>=1&&_9==this.getCellData(_e-1,_c)){_10.setAttribute("colMerged","1");this.drawCellData(_e-this.rowIndex,_e,_c);}if(_e<_f-1){var _12=this.data_td_list[(_e-this.rowIndex+1)*this.oneRowDataLength+_c];if(_12){if(_9==this.getCellData(_e+1,_c)){_12.setAttribute("colMerged","1");}else{_12.setAttribute("colMerged","0");}this.drawCellData(_e-this.rowIndex+1,_e+1,_c);}}}}}this.moveDirection=null;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aY.prototype.notifyBeforeInsertedRow=function(_13){["WebSquare.uiplugin.notifyController.prototype.notifyBeforeInsertedRow"];try{if(!this.isDrillDown&&_13>this.getDataLength()){_13=this.getDataLength();}var _14=false;var _15=[];if(this.isDrillDown){var _16=this.drilldown.getParentRowIndex(_13);while(_16>-1){if(!this.drilldown.isOpen(this.drilldown.getDisplayRowIndex(_16))){_14=true;_15.push(_16);}_16=this.drilldown.getParentRowIndex(_16);}if(_14){for(var i=_15.length-1;i>=0;i--){if(!this.drilldown.isOpen(_15[i])){var _18=this.drilldown.getDisplayRowIndex(_15[i]);this.toggle(_18);}}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aY.prototype.notifyAfterInsertedRow=function(_19,_1a){["WebSquare.uiplugin.notifyController.prototype.notifyAfterInsertedRow"];try{this.settedData=false;var _1b=this.dataList.getRealRowIndex(_19);var _1c=this.getTotalCol();var _1d=[_1b*_1c,0];var _1e=[_1b*_1c,0];for(var i=0;i<_1c;i++){var _20=this.getCellInfo(i).options.defaultValue;_1d.push(_20);_1e.push(null);}[].splice.apply(this.cellStyleArr,_1e);[].splice.apply(this.cellReadOnlyArr,_1e);[].splice.apply(this.cellDisabledArr,_1e);this.extraData.row.splice(_19,0,null);this.extraData.cell.splice(_19,0,null);if(this.isDrillDown){this.drilldown.statusArr.splice(_1b,0,true);}if(!_1a){this.notifyRowInserted(_19);this.notifyStatusChanged({"rowIndex":[_19]});}this.settedData=true;return _19;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aY.prototype.notifyBeforeRemovedRow=function(_21){["WebSquare.uiplugin.notifyController.prototype.notifyBeforeRemovedRow"];try{if(this.isDrillDown&&this._dataList.options.depthColumn){var _22=false;var _23=[];var _24=this.drilldown.getParentRowIndex(_21);while(_24>-1){if(!this.drilldown.isOpen(this.drilldown.getDisplayRowIndex(_24))){_22=true;_23.push(_24);}_24=this.drilldown.getParentRowIndex(_24);}if(_22){for(var i=_23.length-1;i>=0;i--){if(!this.drilldown.isOpen(_23[i])){var _26=this.drilldown.getDisplayRowIndex(_23[i]);this.toggle(_26);}}}_21=this.drilldown.getDisplayRowIndex(_21);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aY.prototype.notifyAfterRemovedRow=function(_27,_28,_29){["WebSquare.uiplugin.notifyController.prototype.notifyAfterRemovedRow"];try{this.removed=true;if(this.isDrillDown){this.drilldown.statusArr.splice(_29,1);}this.cellStyleArr.splice(this.oneRowDataLength*_27,this.oneRowDataLength);this.cellReadOnlyArr.splice(this.oneRowDataLength*_27,this.oneRowDataLength);this.cellDisabledArr.splice(this.oneRowDataLength*_27,this.oneRowDataLength);if(!_28){if(this.getFocusedRowIndex()==this.getDataLength()){var _2a=this.getFocusedRowIndex();var _2b=this.getFocusedColumnIndex();this.removeRowFocus(this.getDataLength());this.setFocusedCell(_2a-1,_2b);}this.notifyRowChanged(_27);if(this.getDataLength()==0){this.removeFocusedCell();}this.setScrollYHeight();this.notifyStatusChanged({"rowindex":[_27]});}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aY.prototype.notifyRemovedAll=function(){["WebSquare.uiplugin.notifyController.prototype.notifyRemovedAll"];try{this.removed=true;this.loadFlag=true;this.rowStyleArr=[];this.rowReadOnlyArr=[];this.rowDisabledArr=[];this.cellStyleArr=[];this.cellReadOnlyArr=[];this.cellDisabledArr=[];this.extraData={grid:{},row:[],col:[],cell:[]};this.removeFocusedCell();for(var i=0;i<this.drawedRowLength;i++){this._setRowDisplay(i,"none");}this.lastDisplayedRow=-1;this.subtotalHidden();this.rowIndex=-1;this.lastIndex=-1;this.lastTopRowIndex=null;this.bScrollTop=-1;this.maxRowLength=0;this.displayNoResultMessage();this.drawFooter();this.drawHeader();this._setCheckboxHead();if(this.getDataLength()==0){this.removeFocusedCell();}this.setScrollYHeight();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aY.prototype.notifyRemovedRange=function(_2d){["WebSquare.uiplugin.notifyController.prototype.notifyRemovedRange"];try{this.removed=true;this.notifyRowChanged(_2d);}catch(e){$W.exception.printStackTrace(e);}};$W._a.aY.prototype.notifyCreatedRowStatus=function(_2e){["WebSquare.uiplugin.notifyController.prototype.notifyCreatedRowStatus"];try{this.rowStyleArr=this.rowStyleArr.slice(0,_2e).concat([null]).concat(this.rowStyleArr.slice(_2e));this.rowReadOnlyArr=this.rowReadOnlyArr.slice(0,_2e).concat([null]).concat(this.rowReadOnlyArr.slice(_2e));this.rowDisabledArr=this.rowDisabledArr.slice(0,_2e).concat([null]).concat(this.rowDisabledArr.slice(_2e));}catch(e){$W.exception.printStackTrace(e);}};$W._a.aY.prototype.notifyRemovedRowStatus=function(_2f){["WebSquare.uiplugin.notifyController.prototype.notifyRemovedRowStatus"];try{this.rowStyleArr.splice(_2f,1);this.rowReadOnlyArr.splice(_2f,1);this.rowDisabledArr.splice(_2f,1);}catch(e){$W.exception.printStackTrace(e);}};$W._a.aY.prototype.notifyDeleteRow=function(_30){["WebSquare.uiplugin.notifyController.prototype.notifyDeleteRow"];try{this._drawRowStatus(_30-this.rowIndex,_30);this.displayNoResultMessage();if(this.hasFooter){if(this.options.excludeDeletedRows){this.drawFooter();}}if(this.hasSubtotal){if(this.options.excludeDeletedRows){this.subtotalHidden({"startRowIndex":0});this.refreshSubtotalRow(this.rowIndex);}}for(var i=0;i<this.getColCnt();i++){var _32=this.getColumnID(i);var _33=this.expressionAssArr[_32];if(_33!=null){for(var j=0;j<_33.length;j++){var _35=this.getColumnIndex(_33[j]);this.drawCellData(_30-this.rowIndex,_30,_35);}}}}catch(e){$W.exception.printStackTrace(e);}};$W._a.aY.prototype.notifyUndeleteRow=function(_36){["WebSquare.uiplugin.notifyController.prototype.notifyUndeleteRow"];try{this._drawRowStatus(_36-this.rowIndex,_36);this.displayNoResultMessage();if(this.hasFooter){if(this.options.excludeDeletedRows){this.drawFooter();}}if(this.hasSubtotal){if(this.options.excludeDeletedRows){this.subtotalHidden({"startRowIndex":0});this.refreshSubtotalRow(this.rowIndex);}}for(var i=0;i<this.getColCnt();i++){var _38=this.getColumnID(i);var _39=this.expressionAssArr[_38];if(_39!=null){for(var j=0;j<_39.length;j++){var _3b=this.getColumnIndex(_39[j]);this.drawCellData(_36-this.rowIndex,_36,_3b);}}}}catch(e){$W.exception.printStackTrace(e);}};$W._a.aY.prototype.notifyReformed=function(){["WebSquare.uiplugin.notifyController.prototype.notifyReformed"];try{if(this.options.rowStatusVisible){for(var i=0;i<=this.lastIndex;i++){this._drawRowStatus(i,this.rowIndex+i);}}}catch(e){$W.exception.printStackTrace(e);}};$W._a.aY.prototype.notifyModifyAllStatus=function(_3d){["WebSquare.uiplugin.notifyController.prototype.notifyModifyAllStatus"];try{for(var i=0;i<this.getDataLength();i++){this._drawRowStatus(i-this.rowIndex,i);}this.displayNoResultMessage();this.notifyStatusChanged({"rowIndex":"all"});}catch(e){$W.exception.printStackTrace(e);}};$W._a.aY.prototype.notifyModifyRangeStatus=function(_3f,to,_41){["WebSquare.uiplugin.notifyController.prototype.notifyModifyRangeStatus"];try{if(0<=_3f&&to<=this.getDataLength()){for(var i=_3f;i<=to;i++){this._drawRowStatus(i-this.rowIndex,i);this.displayNoResultMessage();}}this.notifyStatusChanged({"startIndex":_3f,"endIndex":to});}catch(e){$W.exception.printStackTrace(e);}};$W._a.aY.prototype.notifyModifyRowStatus=function(_43,_44){["WebSquare.uiplugin.notifyController.prototype.notifyModifyRowStatus"];try{if(_43>-1&&_43<this.getDataLength()){this._drawRowStatus(_43-this.rowIndex,_43);this.displayNoResultMessage();this.notifyStatusChanged({"rowIndex":[_43]});}}catch(e){$W.exception.printStackTrace(e);}};$W._a.aY.prototype.notifyModifyMatchedStatus=function(_45,_46,_47){["WebSquare.uiplugin.notifyController.prototype.notifyModifyMatchedStatus"];try{var _48=[];var _49=this.getDataLength();for(var row=0;row<_49;row++){var _4b=this.getColumnID(_45);var _4c=this.dataList.getRealRowIndex(row);if(this.dataList.getCellData(_4c,_4b)+""==_46+""){var _4d=this.dataList._setRowStatus(_4c,_47);if(_47!=_4d){_48.push(row);}this._drawRowStatus(row-this.rowIndex,row);this.displayNoResultMessage();}}this.notifyStatusChanged({"rowIndex":_48});}catch(e){$W.exception.printStackTrace(e);}};$W._a.aY.prototype.notifySetColumnDefaultValue=function(_4e,_4f){["WebSquare.notifyController.grid.prototype.notifySetColumnDefaultValue"];try{this.drawColumnData(_4e);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aY.prototype.notifySettedData=function(_50){["WebSquare.notifyController.grid.prototype.notifySetColumnDefaultValue"];try{if(this.groupbyStatus.grouped){this.clearGroupby();}this.loadCheck=[];if(!_50&&!this.options.focusOnSetData){this.removeFocusedCell();}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aY.prototype.notifySetRowXML=function(_51,_52){["WebSquare.notifyController.grid.prototype.notifySetRowXML"];if(_52){this.notifyRowChanged(_51);}else{this.notifyRowInserted(_51);}};$W._a.aY.prototype.notifyRowMoveUp=function(_53){["WebSquare.notifyController.grid.prototype.notifyRowMoveUp"];try{var _54=this.dataList.getRealRowIndex(_53);temp=this.extraData.row[_53-1];this.extraData.row[_53-1]=this.extraData.row[_53];this.extraData.row[_53]=temp;temp=this.extraData.cell[_53-1];this.extraData.cell[_53-1]=this.extraData.cell[_53];this.extraData.cell[_53]=temp;var _55=this.getFocusedRowIndex();if(_55==_53){this.setFocusedCell(_53-1,this.getFocusedColumnIndex());}this.notifyRowChanged(_53-1);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aY.prototype.notifyRowMoveDown=function(_56){["WebSquare.notifyController.grid.prototype.notifyRowMoveDown"];try{temp=this.extraData.row[_56+1];this.extraData.row[_56+1]=this.extraData.row[_56];this.extraData.row[_56]=temp;temp=this.extraData.cell[_56+1];this.extraData.cell[_56+1]=this.extraData.cell[_56];this.extraData.cell[_56]=temp;var _57=this.getFocusedRowIndex();if(_57==_56){this.setFocusedCell(_56+1,this.getFocusedColumnIndex());}this.notifyRowChanged(_56);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aY.prototype.notifyRowModified=function(_58){["WebSquare.notifyController.grid.prototype.notifyRowMoveDown"];try{this.drawRowData(_58-this.rowIndex,_58);if(this.hasSubtotal){this.refreshSubtotalRow(_58);}this.drawFooter();this.drawHeader();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aY.prototype.notifyStatusChanged=function(_59){["WebSquare.uiplugin.notifyController.prototype.notifyStatusChanged"];try{var _5a;var to;var _5c=false;if(typeof _59.rowIndex=="object"){_5a=0;to=_59.rowIndex.length;_5c=true;}else{if(_59.rowIndex=="all"){_5a=0;to=this.getDataLength();}else{if(typeof _59.startIndex=="number"&&typeof _59.endIndex=="number"){_5a=_59.startIndex;to=_59.endIndex;}}}for(var i=_5a;i<to;i++){var row;if(_5c){row=_59.rowIndex[i];}else{row=i;}if(this.rowStatusColIDArr!=null){for(var k=0;k<this.rowStatusColIDArr.length;k++){var _60=this.getColumnIndex(this.rowStatusColIDArr[k]);this.drawCellData(row-this.rowIndex,row,_60);}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aY.prototype.notifySaveFocusedCell=function(){["WebSquare.uiplugin.notifyController.prototype.notifySaveFocusedCell"];try{this.focusedCellInfo.beforeFocusedCell=!!(this.focusedCell.length!=0);if(this.focusedCellInfo.beforeFocusedCell){this.focusedCellInfo.beforeFocusedCellRealRowIndex=this.dataList.getRealRowIndex(this.focusedCell[0].focusedRowIndex);this.focusedCellInfo.beforeFocusedCellRealColumnIndex=this.focusedCell[0].focusedColIndex;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aY.prototype.notifySetFocusedCell=function(){["WebSquare.uiplugin.notifyController.prototype.notifySetFocusedCell"];try{var _61=this.options.filterFocusMode;var _62=this.getFocusedRowIndex();var _63=this.focusedCellInfo.beforeFocusedCellRealRowIndex;if(_61==""){if(this.focusedCellInfo.beforeFocusedCell){for(var i=0;i<this.getDataLength();i++){if(this.dataList.getRealRowIndex(i)==_63){this.setFocusedCell(i,this.focusedCellInfo.beforeFocusedCellRealColumnIndex);break;}}}}else{if(_61=="outfocus"){this.outFocusedCell();}}this.focusedCellInfo={};}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aY.prototype.notifySettedFilter=function(_65){["WebSquare.uiplugin.notifyController.prototype.notifySettedFilter"];try{this.notifySetFocusedCell();if(_65&&_65.isSort){this.syncWithSortStatus();}if(this.groupbyStatus.grouped){for(var id in this.customFilterStatusObj){if(this.customFilterStatusObj[id]){this.rowNumArr=[];for(var i=0;i<this.getDataLength();i++){this.rowNumArr.push(i);}break;}}}if(this.isDrillDown==true&&this._linkedDataList){this.setCellInfo();this.initDrilldown();}this.notifyDataChanged({keepTop:true});if(this.getDataLength()==0){this.removeFocusedCell();}this.setScrollYHeight();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aY.prototype.notifyBeforeClearSort=function(){["WebSquare.uiplugin.notifyController.prototype.notifyBeforeClearSort"];try{this.notifySaveFocusedCell();this.clearHeaderSort();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aY.prototype.notifyClearSortFilter=function(){["WebSquare.uiplugin.notifyController.prototype.notifyClearSortFilter"];try{var _68=this.getFocusedRowIndex();var _69=this.getFocusedColumnIndex();this.syncWithSortStatus();this.rowNumArr=null;this.removeFocusedCell();this.notifyDataChanged({keepTop:true});if(this.getDataLength()==0){this.removeFocusedCell();}this.setScrollYHeight();if(this.options.filterFocusMode=="infocus"){this.setFocusedCell(_68,_69);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aY.prototype.notifyBeforeSettedColumnFilter=function(){["WebSquare.uiplugin.notifyController.prototype.notifyBeforeSettedColumnFilter"];try{this.lastTopRowIndex=null;this.scrollEvent=false;this.scrollEvent=false;this.rowIndex=0;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aY.prototype.notifyAfterSettedColumnFilter=function(){["WebSquare.uiplugin.notifyController.prototype.notifyAfterSettedColumnFilter"];try{var _6a=this.getElementById(this.id+"_scrollY_div");var _6b=_6a.scrollTop;this.bScrollTop=-1;this.scrollEvent=true;_6a.scrollTop=_6b;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aY.prototype.notifyBeforeRemovedColumnFilter=function(){["WebSquare.uiplugin.notifyController.prototype.notifyBeforeRemovedColumnFilter"];try{this.lastTopRowIndex=null;this.scrollEvent=false;this.scrollEvent=false;this.rowIndex=0;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aY.prototype.notifyAfterRemovedColumnFilter=function(){["WebSquare.uiplugin.notifyController.prototype.notifyAfterRemovedColumnFilter"];try{var _6c=this.getElementById(this.id+"_scrollY_div");var _6d=_6c.scrollTop;this.bScrollTop=-1;this.scrollEvent=true;_6c.scrollTop=_6d;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aY.prototype.notifyRemovedFilter=function(){["WebSquare.uiplugin.notifyController.prototype.notifyRemovedFilter"];try{this.notifyDataChanged({keepTop:true});if(this.getDataLength()==0){this.removeFocusedCell();}this.setScrollYHeight();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aY.prototype.notifyRemovedFilter=function(){["WebSquare.uiplugin.notifyController.prototype.notifyRemovedFilter"];try{this.clearHeaderSort();this.rowNumArr=null;this.filteredRowIndexArr=[];var len=this.getTotalRow();for(var i=0;i<len;i++){this.filteredRowIndexArr.push(i);}this.notifyDataChanged({keepTop:true});if(this.getDataLength()==0){this.removeFocusedCell();}this.lastTopRowIndex=null;this.setScrollYHeight();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aY.prototype.notifyClearFilter=function(_70){["WebSquare.uiplugin.notifyController.prototype.notifyClearFilter"];try{this.clearHeaderSort();this.rowNumArr=null;if(!_70){this.notifyDataChanged({keepTop:true});}if(this.getDataLength()==0){this.removeFocusedCell();}this.lastTopRowIndex=null;this.setScrollYHeight();for(var _71 in this.headerInfoHash){var _72=this.getElementById(this.id+"_"+_71+"_filter");if(_72){$W._H.removeClass(_72,"w2grid_customFilter_filter");}}this.itemValueObj={};this.customFilterStatusObj={};if(this.customFilterList){this.customFilterList.filterHistory={"column":[],"filteredRowIndexArr":[]};this.customFilterList.customFilterListFilterInfo={};}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aY.prototype.notifyMultisort=function(){["WebSquare.uiplugin.notifyController.prototype.notifyMultisort"];try{this.syncWithSortStatus();this.drawHeaderSortImages();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aY.prototype.notifyBeforeInitDataList=function(){["WebSquare.uiplugin.notifyController.prototype.notifyInitDataList"];try{this.removeAllFinish=true;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aY.prototype.notifyAfterInitDataList=function(){["WebSquare.uiplugin.notifyController.prototype.notifyInitDataList"];try{this.loadCheck=[];this.initFlag=true;this.skipScrollEndEvent=true;if(this.hasFooter){this.initFooterDataObj();}this.initHeaderDataObj();if(this.isDrillDown==true){this.initDrilldown();}this.removeAllFinish=false;this.initColumns();}catch(e){$W.exception.printStackTrace(e,null,this);}};;WebSquare.uiplugin.notifyController=$W._a.aY;$W._a.ap=function(_1){["WebSquare.uiplugin.mappingController"];this._grid=_1;};$W._a.ap.prototype.getRealRowIndex=function(_2){["WebSquare.uiplugin.mappingController.prototype.getRealRowIndex"];try{var _3;if(this._grid.groupbyStatus&&this._grid.groupbyStatus.grouped){for(var _4 in this._grid.customFilterStatusObj){if(this._grid.customFilterStatusObj[_4]){return this._grid._dataList.getRealRowIndex(_2);}}_3=this._grid.groupbyStatus.groupedRowIndexArr[_2];}else{_3=this._grid._dataList.getRealRowIndex(_2);}return _3;}catch(e){$W.exception.printStackTrace(e);}};$W._a.ap.prototype.getTotalRow=function(){["WebSquare.uiplugin.mappingController.prototype.getTotalRow"];try{var _5=this._grid._dataList.getTotalRow();return _5;}catch(e){$W.exception.printStackTrace(e);}};$W._a.ap.prototype.getTotalCol=function(){["WebSquare.uiplugin.mappingController.prototype.getTotalCol"];try{var _6=this._grid.oneRowDataLength;return _6;}catch(e){$W.exception.printStackTrace(e);}};$W._a.ap.prototype.getRowCount=function(){["WebSquare.uiplugin.mappingController.prototype.getRowCount"];try{return this._grid._dataList.getDataLength();}catch(e){$W.exception.printStackTrace(e);}};$W._a.ap.prototype._getData=function(_7,_8){["WebSquare.uiplugin.mappingController.prototype._getData"];try{var _8=this._grid.getColumnID(_8);this._grid.editEndBeforeGetData();var _9=this._grid.cellInfoHash[_8];if(_9&&_9.options.inputType=="expression"){return _9.getExpressionValue(_7);}var _a=this._grid._dataList._getData(_7,_8);if(_a==null){_a="";}return _a;}catch(e){$W.exception.printStackTrace(e);}};$W._a.ap.prototype.getCellData=function(_b,_c,_d){["WebSquare.uiplugin.mappingController.prototype.getCellData"];try{var _c=this._grid.getColumnID(_c);_d=(_d==null||typeof _d=="undefined")?"0":_d+"";if(_d=="2"){return this._grid.getCellDisplayData(_b,colIndex);}else{var _e=this._grid.getRealRowIndex(_b);if(_d!="3"&&_e!=null){_b=_e;}return this._getData(_b,_c);}}catch(e){$W.exception.printStackTrace(e);}};$W._a.ap.prototype.getOriginalCellData=function(_f,_10){["WebSquare.uiplugin.mappingController.prototype.getOriginalCellData"];try{var _10=this._grid.getColumnID(_10);return this._grid._dataList.getOriginalCellData(_f,_10);}catch(e){$W.exception.printStackTrace(e);}};$W._a.ap.prototype.getColCnt=function(){["WebSquare.uiplugin.mappingController.prototype.getColCnt"];try{var _11=0;var row=this._grid.htmlInfo?this._grid.htmlInfo.head.rowArr[0]:this._grid.struct.head.rowArr[0];for(var i=0;i<row.length;i++){var _14=row[i];_11+=parseInt(_14.colSpan,10)||1;}return _11;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ap.prototype.getColData=function(_15,_16){["WebSquare.uiplugin.mappingController.prototype.getColData"];try{var _15=this._grid.getColumnID(_15);return this._grid._dataList.getColData(_15,_16);}catch(e){$W.exception.printStackTrace(e);}};$W._a.ap.prototype.getRowData=function(_17,_18){["WebSquare.uiplugin.mappingController.prototype.getRowData"];try{var _19=[];for(var col=0;col<this._grid.getColumnCount();col++){if(_18!="displayData"){_19.push(this.getCellData(_17,col));}else{_19.push(this._grid.getCellDisplayData(_17,col));}}return _19;}catch(e){$W.exception.printStackTrace(e);}};$W._a.ap.prototype._getRowData=function(_1b,_1c){["WebSquare.uiplugin.mappingController.prototype._getRowData"];try{var _1d=[];for(var col=0;col<this._grid.getColumnCount();col++){if(_1c!="displayData"){_1d.push(this._getData(_1b,col));}else{_1d.push(this._grid._getDisplayData(_1b,col));}}return _1d;}catch(e){$W.exception.printStackTrace(e);}};$W._a.ap.prototype.getDataRow=function(_1f){["WebSquare.uiplugin.mappingController.prototype.getDataRow"];try{return this._grid._dataList.getDataRow(_1f);}catch(e){$W.exception.printStackTrace(e);}};$W._a.ap.prototype.getMatchedData=function(_20,_21,_22,_23,_24){["WebSquare.uiplugin.mappingController.prototype.getMatchedData"];try{var _20=this._grid.getColumnID(_20);return this._grid._dataList.getMatchedData(_20,_21,_22,_23,_24);}catch(e){$W.exception.printStackTrace(e);}};$W._a.ap.prototype.getUnmatchedData=function(_25,_26,_27,_28,_29){["WebSquare.uiplugin.mappingController.prototype.getUnmatchedData"];try{return this._grid._dataList.getUnmatchedData(_25,_26,_27,_28,_29);}catch(e){$W.exception.printStackTrace(e);}};$W._a.ap.prototype.getMatchedColumnData=function(_2a,_2b,_2c,_2d,_2e,_2f){["WebSquare.uiplugin.mappingController.prototype.getMatchedColumnData"];try{return this._grid._dataList.getMatchedColumnData(_2a,_2b,_2c,_2d,_2e,_2f);}catch(e){$W.exception.printStackTrace(e);}};$W._a.ap.prototype.getUnmatchedColumnData=function(_30,_31,_32,_33,_34,_35){["WebSquare.uiplugin.mappingController.prototype.getUnmatchedColumnData"];try{return this._grid._dataList.getUnmatchedColumnData(_30,_31,_32,_33,_34,_35);}catch(e){$W.exception.printStackTrace(e);}};$W._a.ap.prototype.getMatchedIndex=function(_36,_37,_38,_39,_3a){["WebSquare.uiplugin.mappingController.prototype.getMatchedIndex"];try{return this._grid._dataList.getMatchedIndex(_36,_37,_38,_39,_3a);}catch(e){$W.exception.printStackTrace(e);}};$W._a.ap.prototype.getUnmatchedIndex=function(_3b,_3c,_3d,_3e,_3f){["WebSquare.uiplugin.mappingController.prototype.getUnmatchedIndex"];try{return this._grid._dataList.getUnmatchedIndex(_3b,_3c,_3d,_3e,_3f);}catch(e){$W.exception.printStackTrace(e);}};$W._a.ap.prototype.getRangeData=function(_40,to,_42){["WebSquare.uiplugin.mappingController.prototype.getRangeData"];try{var _43=[];if(_40>to){var tmp=to;to=_40;_40=tmp;}if(_40<0){_40=0;}if(to>this._grid.getDataLength()){to=this._grid.getDataLength();}for(var i=_40;i<to;i++){_43=_43.concat(this.getRowData(i,_42));}return _43;}catch(e){$W.exception.printStackTrace(e);}};$W._a.ap.prototype.getAllData=function(){["WebSquare.uiplugin.mappingController.prototype.getAllData"];try{return this._grid._dataList.getAllData();}catch(e){$W.exception.printStackTrace(e);}};$W._a.ap.prototype.getColumnDistinctDataArray=function(_46){["WebSquare.uiplugin.mappingController.prototype.getColumnDistinctDataArray"];try{var _46=this._grid.getColumnID(_46);return this._grid._dataList.getColumnDistinctDataArray(_46);}catch(e){$W.exception.printStackTrace(e);}};$W._a.ap.prototype.getRangeXML=function(_47,to){["WebSquare.uiplugin.mappingController.prototype.getRangeXML"];try{return this._grid._dataList.getRangeXML(_47,to);}catch(e){$W.exception.printStackTrace(e);}};$W._a.ap.prototype.getMatchedXML=function(_49,_4a,_4b,_4c,_4d){["WebSquare.uiplugin.mappingController.prototype.getMatchedXML"];try{var _49=this._grid.getColumnID(_49);return this._grid._dataList.getMatchedXML(_49,_4a,_4b,_4c,_4d);}catch(e){$W.exception.printStackTrace(e);}};$W._a.ap.prototype.getUnmatchedXML=function(_4e,_4f,_50,_51,_52){["WebSquare.uiplugin.mappingController.prototype.getUnmatchedXML"];try{var _4e=this._grid.getColumnID(_4e);return this._grid._dataList.getUnmatchedXML(_4e,_4f,_50,_51,_52);}catch(e){$W.exception.printStackTrace(e);}};$W._a.ap.prototype.getRowXML=function(_53){["WebSquare.uiplugin.mappingController.prototype.getRowXML"];try{return this._grid._dataList.getRowXML(_53);}catch(e){$W.exception.printStackTrace(e);}};$W._a.ap.prototype.getAllXML=function(){["WebSquare.uiplugin.mappingController.prototype.getAllXML"];try{return this._grid._dataList.getAllXML();}catch(e){$W.exception.printStackTrace(e);}};$W._a.ap.prototype.getRowJSON=function(_54){["WebSquare.uiplugin.mappingController.prototype.getRowJSON"];try{return this._grid._dataList.getRowJSON(_54);}catch(e){$W.exception.printStackTrace(e);}};$W._a.ap.prototype.getAllJSON=function(){["WebSquare.uiplugin.mappingController.prototype.getAllJSON"];try{return this._grid._dataList.getAllJSON();}catch(e){$W.exception.printStackTrace(e);}};$W._a.ap.prototype.getRangeJSON=function(_55,to){["WebSquare.uiplugin.mappingController.prototype.getAllJSON"];try{return this._grid._dataList.getRangeJSON(_55,to);}catch(e){$W.exception.printStackTrace(e);}};$W._a.ap.prototype.getMatchedJSON=function(_57,_58,_59,_5a,_5b){["WebSquare.uiplugin.mappingController.prototype.getMatchedJSON"];try{var _57=this._grid.getColumnID(_57);return this._grid._dataList.getMatchedJSON(_57,_58,_59,_5a,_5b);}catch(e){$W.exception.printStackTrace(e);}};$W._a.ap.prototype.getUnmatchedJSON=function(_5c,_5d,_5e,_5f,_60){["WebSquare.uiplugin.mappingController.prototype.getUnmatchedJSON"];try{var _5c=this._grid.getColumnID(_5c);return this._grid._dataList.getUnmatchedJSON(_5c,_5d,_5e,_5f,_60);}catch(e){$W.exception.printStackTrace(e);}};$W._a.ap.prototype.getRowArray=function(_61){["WebSquare.uiplugin.mappingController.prototype.getRowArray"];try{return this._grid._dataList.getRowArray(_61);}catch(e){$W.exception.printStackTrace(e);}};$W._a.ap.prototype.getAllArray=function(){["WebSquare.uiplugin.mappingController.prototype.getAllArray"];try{return this._grid._dataList.getAllArray();}catch(e){$W.exception.printStackTrace(e);}};$W._a.ap.prototype.getRangeArray=function(_62,to){["WebSquare.uiplugin.mappingController.prototype.getRangeArray"];try{return this._grid._dataList.getRangeArray(_62,to);}catch(e){$W.exception.printStackTrace(e);}};$W._a.ap.prototype.getMatchedArray=function(_64,_65,_66,_67,_68){["WebSquare.uiplugin.mappingController.prototype.getMatchedArray"];try{var _64=this._grid.getColumnID(_64);return this._grid._dataList.getMatchedArray(_64,_65,_66,_67,_68);}catch(e){$W.exception.printStackTrace(e);}};$W._a.ap.prototype.getUnmatchedArray=function(_69,_6a,_6b,_6c,_6d){["WebSquare.uiplugin.mappingController.prototype.getUnmatchedArray"];try{var _69=this._grid.getColumnID(_69);return this._grid._dataList.getUnmatchedArray(_69,_6a,_6b,_6c,_6d);}catch(e){$W.exception.printStackTrace(e);}};$W._a.ap.prototype.setCellData=function(_6e,_6f,_70,_71,_72,_73,_74){["WebSquare.uiplugin.mappingController.prototype.setCellData"];try{var _6f=this._grid.getColumnID(_6f);if(this._grid._linkedDataList){var _75=this._grid._linkedDataList.filteredRowIndexArr[_6e];_6e=this._grid._dataList.getFilteredRowIndex(_75);if(typeof _6e!=="number"){_6e=_75;}}else{if(this._grid.options&&this._grid.options.pluginName==="grid"&&this._grid.isDrillDown&&this._grid.options.drilldownRealRowIndex){_6e=this._grid.getDisplayRowIndex(_6e);}}this._setCellData(_6e,_6f,_70,null,_71,_72,_73,_74);}catch(e){$W.exception.printStackTrace(e);}};$W._a.ap.prototype._setCellData=function(_76,_77,_78,_79,_7a,_7b,_7c,_7d){["WebSquare.uiplugin.mappingController.prototype._setCellData"];try{if(_78===null||_78===undefined){_78="";}if(this._grid.editedCell!=null&&!this._grid.getCellOption(_76,_77,"embeddedInput")){this._grid.editedCell.handleCancelEdit();}var _7e=this._grid._dataList.getTotalRow();if(this._grid.groupbyStatus&&this._grid.groupbyStatus.grouped){_7e=this._grid._dataList.filteredRowIndexArr.length;}var _7f=this._grid._dataList.getTotalCol();var _80=this._grid._dataList.getRealRowIndex(_76);var _81=_76;var _82="";var _77=this._grid.getColumnID(_77);var _83=this._grid.getColumnIndex(_77);var _84=this._grid._dataList.getColumnIndex(_77);if(this._grid.isDrillDown&&this._grid._dataList.options.depthColumn){_82=this.getCellData(_80,_77,"3");}else{if(_76>=0&&_76<_7e&&_84>=0&&_84<_7f){_82=this.getCellData(_76,_77);}}if(_76>=0&&_76<_7e&&_84>=0&&_84<_7f){var _85=this._grid.cellInfoHash[this._grid.tdIdList[_83]];var _86=_85.options.inputType||"text";if((_86=="text"||_86=="textImage"||_86=="drilldown")&&_85.options.applyFormat=="all"&&!_85.options.embeddedInput){var _87=this._grid.getInput(_85);_82=_85.formatter.format(_82);_82=_87.validator.validateString(_82);}var _88=this._grid.getColumnOption(_85.options.col_id,"dataType");if(_88=="bigDecimal"&&typeof _78=="string"){_78=$W._b(_78).toString();}else{if(_88=="bigDecimal"){$l("If dataType is bigDecimal, data must be entered to String."+"["+this.id+"]");_78=$W._b(_78).toString();}}var _89=_78.toString().replace(/\r(\n)?/,"\n");var _8a=_82.toString().replace(/\r(\n)?/,"\n");if(_89!==_8a){var _8b=_76;if(this._grid.isDrillDown&&this._grid._dataList.options.depthColumn){_8b=_80;}this._grid._dataList._setCellData(_8b,_77,_78,_7a,_7b,_7c,_7d);if(this._grid._dataList.getColumnID(_77)==undefined){this._grid.notifyCellChanged(_81,_83);}$W._c.fireEvent(this._grid,"onchange",_76,_83,_78,_82);if(_85.options.inputType=="radio"&&_85.options.groupName&&_85.options.trueValue==_78){_85.resetOthers(_76);if(this._grid.radioGroupRepChk[_85.options.groupName]){this.setCellData(_76,_85.options.groupName,_85.options.groupValue);}}if(this._grid.radioGroupRepChk[_85.options.id]){var _8c=this._grid.getColumnCount();for(var _8d=0;_8d<_8c;_8d++){var _8e=this._grid.cellInfoHash[this._grid.tdIdList[_8d]];if(_8e.options.inputType=="radio"&&_8e.options.groupName==_85.options.id&&_8e.options.groupValue==_78){var _8f=_76-this._grid.rowIndex;this.setCellData(_76,_8d,_8e.options.trueValue,_7a,_7b,_7c,_7d);break;}}if(_8d==_8c){this._grid._resetRadioGroup(_76,_85.id,false);}}if(this._grid.isDrillDown){if(this._grid.drilldown.options.depthColumn==_83){this._grid.notifyDataChanged({keepTop:true});if(this._grid.getDataLength()==0){this._grid.removeFocusedCell();}this._grid.setScrollYHeight();}else{if(_85.options.inputType=="checkbox"&&_85.options.setRecursive){var _90=this._grid.drilldown.getChildRowArr(_76,true);for(var i=0;i<_90.length;i++){if(this._getData(_90[i],_83)!=_78){this._setCellData(_90[i],_83,_78,_7a,_7c,_7d);}}}}}}else{if(this._grid.editedCell!=null&&!_79){this._grid.notifyCellChanged(_81,_83);}}}}catch(e){$W.exception.printStackTrace(e);}};$W._a.ap.prototype.setOriginalCellData=function(_92,_93,_94){["WebSquare.uiplugin.mappingController.prototype.setOriginalCellData"];try{var _93=this._grid.getColumnID(_93);this._grid._dataList.setOriginalCellData(_92,_93,_94);}catch(e){$W.exception.printStackTrace(e);}};$W._a.ap.prototype._setOriginalCellData=function(_95,_96,_97){["WebSquare.uiplugin.mappingController.prototype._setOriginalCellData"];try{var _96=this._grid.getColumnID(_96);this._grid._dataList._setOriginalCellData(_95,_96,_97);}catch(e){$W.exception.printStackTrace(e);}};$W._a.ap.prototype.setColumnDefaultValue=function(_98,_99){["WebSquare.dataController.grid.prototype.setColumnDefaultValue"];try{var _98=this._grid.getColumnID(_98);this._grid._dataList.setColumnDefaultValue(_98,_99);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ap.prototype.setRowData=function(_9a,_9b,_9c){["WebSquare.uiplugin.mappingController.prototype.setRowData"];try{this._grid._dataList.setRowData(_9a,_9b,_9c);}catch(e){$W.exception.printStackTrace(e);}};$W._a.ap.prototype.setDataFile=function(arr,_9e){["WebSquare.uiplugin.mappingController.prototype.setDataFile"];try{arr=this._grid._dataList.toArray(arr);var _9f=0;var _a0=[];for(var i=0;i<this._grid.oneRowDataLength;i++){var _a2=this._grid.getCellInfo(i);if(_a2.options.inputType=="expression"){_a0.push(i);}}_9f=arr.length/this._grid.oneRowDataLength;for(var i=0;i<_a0.length;i++){for(var j=0;j<_9f;j++){var _a4=j*this._grid.oneRowDataLength+parseInt(_a0[i],10);arr[_a4]="";}}for(var i=0;i<this._grid.oneRowDataLength;i++){var _a2=this._grid.getCellInfo(i);var _a5=_a2.id;var _a6=_a2.options.dataType;if(_a2.options.inputType=="select"){var _a7=[];for(var j=0;j<_a2.itemArr.length;j++){var _a8=_a2.itemArr[j];_a7[_a8.label]=_a8.value;}for(var j=0;j<_9f;j++){var _a4=j*this._grid.oneRowDataLength+i;arr[_a4]=_a7[arr[_a4]];}}else{if(_a2.options.inputType=="checkcombobox"){var _a7=[];for(var j=0;j<_a2.itemArr.length;j++){var _a8=_a2.itemArr[j];_a7[_a8.label]=_a8.value;}for(var j=0;j<_9f;j++){var _a4=j*this._grid.oneRowDataLength+i;var _a9=[];var _aa=arr[_a4].split(_a2.separator);for(var k=0;k<_aa.length;k++){_a9.push(_a7[_aa[k]]);}arr[_a4]=_a9.join(_a2.separator);}}}if(_a2.options.displayFormat!=""){for(var j=0;j<_9f;j++){var _a4=j*this._grid.oneRowDataLength+i;var _ac=arr[_a4];var _ad=_a2.options.displayFormat;if(_a6=="number"||_a6=="bigDecimal"){retVal=$W._A.unformatCurrency(_ad,_ac);}else{if(_a6=="date"){retVal=$W._A.unformatDate(_ad,_ac);}else{if(_a6=="time"){retVal=$W._A.unformatTime(_ad,_ac);}else{retVal=$W._A.unformatText(_ad,_ac);}}}arr[_a4]=retVal;}}}this._grid._dataList.setData(arr,_9e);}catch(e){$W.exception.printStackTrace(e);}};$W._a.ap.prototype.setData=function(arr,_af,_b0){["WebSquare.uiplugin.mappingController.prototype.setData"];try{this._grid._dataList.setData(arr,_af,_b0);}catch(e){$W.exception.printStackTrace(e);}};$W._a.ap.prototype.insertData=function(_b1,_b2){["WebSquare.uiplugin.mappingController.prototype.insertData"];try{this._grid._dataList.insertData(_b1,_b2);}catch(e){$W.exception.printStackTrace(e);}};$W._a.ap.prototype._insertData=function(_b3,_b4,_b5){["WebSquare.uiplugin.mappingController.prototype._insertData"];try{this._grid._dataList._insertData(_b3,_b4,_b5);}catch(e){$W.exception.printStackTrace(e);}};$W._a.ap.prototype.getDataLength=function(){["WebSquare.uiplugin.mappingController.prototype.getDataLength"];try{var _b6;if(this._grid.successBinding){if(this._grid.groupbyStatus&&this._grid.groupbyStatus.grouped){for(var key in this._grid.customFilterStatusObj){if(this._grid.customFilterStatusObj[key]){return this._grid._dataList.getDataLength();}}_b6=this._grid.groupbyStatus.groupedRowIndexArr.length;}else{_b6=this._grid._dataList.getDataLength();}}else{_b6=0;}return _b6;}catch(e){$W.exception.printStackTrace(e);}};$W._a.ap.prototype.setRowXML=function(_b8,_b9,_ba){["WebSquare.uiplugin.mappingController.prototype.setRowXML"];try{this._grid._dataList.setRowXML(_b8,_b9,_ba);}catch(e){$W.exception.printStackTrace(e);}};$W._a.ap.prototype.setXML=function(_bb,_bc){["WebSquare.uiplugin.mappingController.prototype.setXML"];try{if(_bb==null){$W.logger.printLog("[WebSquare.uiplugin.mappingController.setXML] XML is null["+this.id+"]");return;}var _bd=this._grid.xmlData2ArrData(_bb);if(typeof _bd=="undefined"){$W.logger.printLog("[WebSquare.uiplugin.mappingController.setXML] DataArray which converted from XML is undefined.["+this.id+"]");return;}this.setData(_bd,_bc);}catch(e){$W.exception.printStackTrace(e);}};$W._a.ap.prototype.insertXML=function(_be,_bf){["WebSquare.uiplugin.mappingController.prototype.setGridData"];try{this._grid._dataList.insertXML(_be,_bf);}catch(e){$W.exception.printStackTrace(e);}};$W._a.ap.prototype.setJSON=function(_c0,_c1){["WebSquare.uiplugin.mappingController.prototype.setJSON"];try{if(_c0==null){$W.logger.printLog("[WebSquare.uiplugin.mappingController.setJSON] JSON is null["+this.id+"]");return;}var _c2=this._grid.jsonData2ArrData(_c0);if(typeof _c2=="undefined"){$W.logger.printLog("[WebSquare.uiplugin.mappingController.setJSON] DataArray which converted from JSON is undefined.["+this.id+"]");return;}this.setData(_c2,_c1);}catch(e){$W.exception.printStackTrace(e);}};$W._a.ap.prototype.setRowJSON=function(_c3,_c4,_c5){["WebSquare.uiplugin.mappingController.prototype.setRowJSON"];try{this._grid._dataList.setRowJSON(_c3,_c4,_c5);}catch(e){$W.exception.printStackTrace(e);}};$W._a.ap.prototype.insertJSON=function(_c6,_c7){["WebSquare.uiplugin.mappingController.prototype.setGridData"];try{this._grid._dataList.insertJSON(_c6,_c7);}catch(e){$W.exception.printStackTrace(e);}};$W._a.ap.prototype.rowMoveUp=function(_c8){["WebSquare.dataController.grid.prototype.rowMoveUp"];try{this._grid._dataList.rowMoveUp(_c8);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ap.prototype.rowMoveDown=function(_c9){["WebSquare.dataController.grid.prototype.rowMoveDown"];try{this._grid._dataList.rowMoveDown(_c9);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ap.prototype.insertRow=function(_ca){["WebSquare.uiplugin.mappingController.prototype.insertRow"];try{return this._grid._dataList.insertRow(_ca);}catch(e){$W.exception.printStackTrace(e);}};$W._a.ap.prototype.removeRow=function(_cb,_cc){["WebSquare.uiplugin.mappingController.prototype.removeRow"];try{return this._grid._dataList.removeRow(_cb,_cc);}catch(e){$W.exception.printStackTrace(e);}};$W._a.ap.prototype.removeRows=function(_cd){["WebSquare.uiplugin.mappingController.prototype.removeRows"];try{return this._grid._dataList.removeRows(_cd);}catch(e){$W.exception.printStackTrace(e);}};$W._a.ap.prototype.removeAll=function(){["WebSquare.uiplugin.mappingController.prototype.removeAll"];try{return this._grid._dataList.removeAll();}catch(e){$W.exception.printStackTrace(e);}};$W._a.ap.prototype.removeRange=function(_ce,_cf){["WebSquare.uiplugin.mappingController.prototype.removeRange"];try{return this._grid._dataList.removeRange(_ce,_cf);}catch(e){$W.exception.printStackTrace(e);}};$W._a.ap.prototype.reform=function(){["WebSquare.uiplugin.mappingController.prototype.reform"];try{this._grid._dataList.reform();}catch(e){$W.exception.printStackTrace(e);}};$W._a.ap.prototype.undoRow=function(_d0){["WebSquare.uiplugin.mappingController.prototype.undoRow"];try{this._grid._dataList.undoRow(_d0);}catch(e){$W.exception.printStackTrace(e);}};$W._a.ap.prototype._undoRow=function(_d1){["WebSquare.uiplugin.mappingController.prototype._undoRow"];try{this._grid._dataList._undoRow(_d1);}catch(e){$W.exception.printStackTrace(e);}};$W._a.ap.prototype.undoAll=function(){["WebSquare.uiplugin.mappingController.prototype.undoAll"];try{this._grid._dataList.undoAll();}catch(e){$W.exception.printStackTrace(e);}};$W._a.ap.prototype.getRowStatusValue=function(_d2){["WebSquare.uiplugin.mappingController.prototype.getRowStatusValue"];try{return this._grid._dataList.getRowStatusValue(_d2);}catch(e){$W.exception.printStackTrace(e);}};$W._a.ap.prototype._getRowStatusValue=function(_d3){["WebSquare.uiplugin.mappingController.prototype._getRowStatusValue"];try{return this._grid._dataList._getRowStatusValue(_d3);}catch(e){$W.exception.printStackTrace(e);}};$W._a.ap.prototype.getRowStatus=function(_d4){["WebSquare.uiplugin.mappingController.prototype.getRowStatus"];try{return this._grid._dataList.getRowStatus(_d4);}catch(e){$W.exception.printStackTrace(e);}};$W._a.ap.prototype._getRowStatus=function(_d5){["WebSquare.uiplugin.mappingController.prototype._getRowStatus"];try{return this._grid._dataList._getRowStatus(_d5);}catch(e){$W.exception.printStackTrace(e);}};$W._a.ap.prototype.getRowIndexByStatus=function(_d6){["WebSquare.uiplugin.mappingController.prototype.getRowIndexByStatus"];try{return this._grid._dataList.getRowIndexByStatus(_d6);}catch(e){$W.exception.printStackTrace(e);}};$W._a.ap.prototype.getInsertedIndex=function(){["WebSquare.uiplugin.mappingController.prototype.getInsertedIndex"];try{return this.getRowIndexByStatus("C");}catch(e){$W.exception.printStackTrace(e);}};$W._a.ap.prototype.getUpdatedIndex=function(){["WebSquare.uiplugin.mappingController.prototype.getUpdatedIndex"];try{return this.getRowIndexByStatus("U");}catch(e){$W.exception.printStackTrace(e);}};$W._a.ap.prototype.getDeletedIndex=function(){["WebSquare.uiplugin.mappingController.prototype.getDeletedIndex"];try{return this.getRowIndexByStatus("DV");}catch(e){$W.exception.printStackTrace(e);}};$W._j.statusController.prototype.getVoidIndex=function(){["WebSquare.DataCollection.statusController.prototype.getVoidIndex"];try{return this.getRowIndexByStatus("V");}catch(e){$W.exception.printStackTrace(e);}};$W._j.linkedDataListApiController.prototype.getOnlyDeletedIndex=function(){["WebSquare.DataCollection.linkedDataListApiController.prototype.getOnlyDeletedIndex"];try{return this.getRowIndexByStatus("D");}catch(e){$W.exception.printStackTrace(e);}};$W._a.ap.prototype.getModifiedIndex=function(){["WebSquare.uiplugin.mappingController.prototype.getModifiedIndex"];try{return this.getRowIndexByStatus("CUD");}catch(e){$W.exception.printStackTrace(e);}};$W._a.ap.prototype.getInsertedData=function(){["WebSquare.uiplugin.mappingController.prototype.getDeletedData"];try{return this._grid._dataList.getInsertedData();}catch(e){$W.exception.printStackTrace(e);}};$W._a.ap.prototype.getInsertedXML=function(){["WebSquare.uiplugin.mappingController.prototype.getDeletedXML"];try{return this._grid._dataList.getInsertedXML();}catch(e){$W.exception.printStackTrace(e);}};$W._a.ap.prototype.getInsertedJSON=function(){["WebSquare.uiplugin.mappingController.prototype.getInsertedJSON"];try{return this._grid._dataList.getInsertedJSON();}catch(e){$W.exception.printStackTrace(e);}};$W._a.ap.prototype.getInsertedArray=function(){["WebSquare.uiplugin.mappingController.prototype.getInsertedArray"];try{return this._grid._dataList.getInsertedArray();}catch(e){$W.exception.printStackTrace(e);}};$W._a.ap.prototype.getDeletedData=function(){["WebSquare.uiplugin.mappingController.prototype.getDeletedData"];try{return this._grid._dataList.getDeletedData();}catch(e){$W.exception.printStackTrace(e);}};$W._a.ap.prototype.getDeletedXML=function(){["WebSquare.uiplugin.mappingController.prototype.getDeletedXML"];try{return this._grid._dataList.getDeletedXML();}catch(e){$W.exception.printStackTrace(e);}};$W._a.ap.prototype.getDeletedJSON=function(){["WebSquare.uiplugin.mappingController.prototype.getDeletedJSON"];try{return this._grid._dataList.getDeletedJSON();}catch(e){$W.exception.printStackTrace(e);}};$W._a.ap.prototype.getDeletedArray=function(){["WebSquare.uiplugin.mappingController.prototype.getDeletedArray"];try{return this._grid._dataList.getDeletedArray();}catch(e){$W.exception.printStackTrace(e);}};$W._a.ap.prototype.getVoidData=function(){["WebSquare.uiplugin.mappingController.prototype.getVoidData"];try{return this._grid._dataList.getVoidData();}catch(e){$W.exception.printStackTrace(e);}};$W._a.ap.prototype.getVoidXML=function(){["WebSquare.uiplugin.mappingController.prototype.getVoidXML"];try{return this._grid._dataList.getVoidXML();}catch(e){$W.exception.printStackTrace(e);}};$W._a.ap.prototype.getVoidJSON=function(){["WebSquare.uiplugin.mappingController.prototype.getVoidJSON"];try{return this._grid._dataList.getVoidJSON();}catch(e){$W.exception.printStackTrace(e);}};$W._a.ap.prototype.getVoidArray=function(){["WebSquare.uiplugin.mappingController.prototype.getVoidArray"];try{return this._grid._dataList.getVoidArray();}catch(e){$W.exception.printStackTrace(e);}};$W._a.ap.prototype.getOnlyDeletedData=function(){["WebSquare.uiplugin.mappingController.prototype.getOnlyDeletedData"];try{return this._grid._dataList.getOnlyDeletedData();}catch(e){$W.exception.printStackTrace(e);}};$W._a.ap.prototype.getOnlyDeletedXML=function(){["WebSquare.uiplugin.mappingController.prototype.getOnlyDeletedXML"];try{return this._grid._dataList.getOnlyDeletedXML();}catch(e){$W.exception.printStackTrace(e);}};$W._a.ap.prototype.getOnlyDeletedJSON=function(){["WebSquare.uiplugin.mappingController.prototype.getOnlyDeletedJSON"];try{return this._grid._dataList.getOnlyDeletedJSON();}catch(e){$W.exception.printStackTrace(e);}};$W._a.ap.prototype.getOnlyDeletedArray=function(){["WebSquare.uiplugin.mappingController.prototype.getOnlyDeletedArray"];try{return this._grid._dataList.getOnlyDeletedArray();}catch(e){$W.exception.printStackTrace(e);}};$W._a.ap.prototype.getUpdatedData=function(){["WebSquare.uiplugin.mappingController.prototype.getUpdatedData"];try{return this._grid._dataList.getUpdatedData();}catch(e){$W.exception.printStackTrace(e);}};$W._a.ap.prototype.getUpdatedXML=function(){["WebSquare.uiplugin.mappingController.prototype.getUpdatedXML"];try{return this._grid._dataList.getUpdatedXML();}catch(e){$W.exception.printStackTrace(e);}};$W._a.ap.prototype.getUpdatedJSON=function(){["WebSquare.uiplugin.mappingController.prototype.getUpdatedJSON"];try{return this._grid._dataList.getUpdatedJSON();}catch(e){$W.exception.printStackTrace(e);}};$W._a.ap.prototype.getUpdatedArray=function(){["WebSquare.uiplugin.mappingController.prototype.getUpdatedArray"];try{return this._grid._dataList.getUpdatedArray();}catch(e){$W.exception.printStackTrace(e);}};$W._a.ap.prototype.getModifiedData=function(){["WebSquare.uiplugin.mappingController.prototype.getModifiedData"];try{return this._grid._dataList.getModifiedData();}catch(e){$W.exception.printStackTrace(e);}};$W._a.ap.prototype.getModifiedXML=function(){["WebSquare.uiplugin.mappingController.prototype.getModifiedXML"];try{return this._grid._dataList.getModifiedXML();}catch(e){$W.exception.printStackTrace(e);}};$W._a.ap.prototype.getModifiedJSON=function(){["WebSquare.uiplugin.mappingController.prototype.getModifiedJSON"];try{return this._grid._dataList.getModifiedJSON();}catch(e){$W.exception.printStackTrace(e);}};$W._a.ap.prototype.getModifiedArray=function(){["WebSquare.uiplugin.mappingController.prototype.getModifiedArray"];try{return this._grid._dataList.getModifiedArray();}catch(e){$W.exception.printStackTrace(e);}};$W._a.ap.prototype._setRowStatus=function(_d7,_d8){["WebSquare.uiplugin.mappingController.prototype._setRowStatus"];try{return this._grid._dataList._setRowStatus(_d7,_d8);}catch(e){$W.exception.printStackTrace(e);}};$W._a.ap.prototype.initRowStatus=function(_d9){["WebSquare.uiplugin.mappingController.prototype.initRowStatus"];try{this._grid._dataList.initRowStatus(_d9);}catch(e){$W.exception.printStackTrace(e);}};$W._a.ap.prototype._createRowStatus=function(_da){["WebSquare.uiplugin.mappingController.prototype._createRowStatus"];try{this._grid._dataList._createRowStatus(_da);}catch(e){$W.exception.printStackTrace(e);}};$W._a.ap.prototype._updateRowStatus=function(_db){["WebSquare.uiplugin.mappingController.prototype._updateRowStatus"];try{this._grid._dataList._updateRowStatus(_db);}catch(e){$W.exception.printStackTrace(e);}};$W._a.ap.prototype.removeRowStatus=function(_dc){["WebSquare.uiplugin.mappingController.prototype.removeRowStatus"];try{return this._grid._dataList.removeRowStatus(_dc);}catch(e){$W.exception.printStackTrace(e);}};$W._a.ap.prototype.deleteRow=function(_dd){["WebSquare.uiplugin.mappingController.prototype.deleteRow"];try{this._grid._dataList.deleteRow(_dd);}catch(e){$W.exception.printStackTrace(e);}};$W._a.ap.prototype._deleteRowStatus=function(_de){["WebSquare.uiplugin.mappingController.prototype._deleteRowStatus"];try{this._grid._dataList._deleteRowStatus(_de);}catch(e){$W.exception.printStackTrace(e);}};$W._a.ap.prototype.undeleteRow=function(_df){["WebSquare.uiplugin.mappingController.prototype.undeleteRow"];try{this._grid._dataList.undeleteRow(_df);}catch(e){$W.exception.printStackTrace(e);}};$W._a.ap.prototype._undeleteRowStatus=function(_e0){["WebSquare.uiplugin.mappingController.prototype._undeleteRowStatus"];try{this._grid._dataList._updateRowStatus(_e0);}catch(e){$W.exception.printStackTrace(e);}};$W._a.ap.prototype.modifyAllStatus=function(_e1){["WebSquare.uiplugin.mappingController.prototype.modifyAllStatus"];try{this._grid._dataList.modifyAllStatus(_e1);}catch(e){$W.exception.printStackTrace(e);}};$W._a.ap.prototype.modifyRangeStatus=function(_e2,to,_e4){["WebSquare.uiplugin.mappingController.prototype.modifyRangeStatus"];try{var _e5=[];var _e6=this.getDataLength()+1;if(0<=_e2&&to<_e6){for(var i=_e2;i<to;i++){var _e8=this.getRealRowIndex(i);var _e9=this._setRowStatus(_e8,_e4);if(_e4!=_e9){_e5.push({"rowIndex":i,"newRowStatus":_e4,"oldRowStatus":_e9});}}}$W._c.fireEvent(this,"onrowstatuschange",_e5);this.broadcast({"gridView":["notifyModifyRangeStatus",[_e2,to,_e4]]});}catch(e){$W.exception.printStackTrace(e);}};$W._a.ap.prototype.modifyMatchedStatus=function(_ea,_eb,_ec){["WebSquare.uiplugin.mappingController.prototype.modifyMatchedStatus"];try{this._grid._dataList.modifyMatchedStatus(_ea,_eb,_ec);}catch(e){$W.exception.printStackTrace(e);}};$W._a.ap.prototype.modifyRowStatus=function(_ed,_ee){["WebSquare.uiplugin.mappingController.prototype.modifyRowStatus"];try{this._grid._dataList.modifyRowStatus(_ed,_ee);}catch(e){$W.exception.printStackTrace(e);}};$W._a.ap.prototype.setColumnFilter=function(_ef,_f0,_f1,_f2){["WebSquare.uiplugin.mappingController.prototype.setColumnFilter"];try{if(this._grid._linkedDataList){this._grid._linkedDataList.setColumnFilter(_ef,_f0,_f1,_f2);}else{this._grid._dataList.setColumnFilter(_ef,_f0,_f1,_f2);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ap.prototype.removeColumnFilter=function(_f3){["WebSquare.uiplugin.mappingController.prototype.removeColumnFilter"];try{var _f3=this._grid.getColumnID(_f3);if(this._grid._linkedDataList){this._grid._linkedDataList.removeColumnFilter(_f3);}else{this._grid._dataList.removeColumnFilter(_f3);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ap.prototype.clearSortFilter=function(){["WebSquare.uiplugin.mappingController.prototype.clearSortFilter"];try{if(this._grid._linkedDataList){this._grid._linkedDataList.clearSortFilter();}else{this._grid._dataList.clearSortFilter();}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ap.prototype.removeColumnFilterAll=function(){["WebSquare.uiplugin.mappingController.prototype.removeColumnFilter"];try{if(this._grid._linkedDataList){this._grid._linkedDataList.removeColumnFilterAll();}else{this._grid._dataList.removeColumnFilterAll();}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ap.prototype.setFilter=function(_f4){["WebSquare.uiplugin.mappingController.prototype.setFilter"];try{if(this._grid._linkedDataList){this._grid._linkedDataList.setFilter(_f4);}else{if(_f4){var _f5=this._grid.getColumnID(_f4.sortIndex);var _f6=this._grid.cellInfoHash[_f5];if(_f6&&_f6.options.inputType=="expression"){_f4.isExpression=true;_f4.cellInfo=_f6;if(this._grid.initializeType=="gridView"){if(isNaN(this._grid._dataList.getColumnIndex(_f4.sortIndex))){_f4.fakeExpressionArr=this._grid.getFakeExpressionArr();}}}if(_f5){var _f7=_f5.split(" ");var _f8=[];for(var i=0;i<_f7.length;i++){var _f6=this._grid.cellInfoHash[_f7[i]];if(_f6.dataComp&&_f6.options.sortLabel&&_f6.options.inputType=="select"){var _fa=this._grid.modelControl.getDataComp(_f6.dataComp);var _fb=$W._B.getElementsByTagName(_f6.xml,"w2:label")[0].getAttribute("ref");var _fc=$W._B.getElementsByTagName(_f6.xml,"w2:value")[0].getAttribute("ref");_f4.sortItemsetIdObj={"label":_fb,"value":_fc};_f8[i]=_fa.getAllJSON();_f4.sortLabel=true;}else{_f8[i]=[];_f4.sortLabel=false;}}if(_f8.length>0){_f4.sortItemArr=_f8;}}}this._grid._dataList.setFilter(_f4);if(_f4.focuseMode=="outfocus"){this._grid.setScrollTop(0);}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ap.prototype.removeFilter=function(_fd,_fe){["WebSquare.uiplugin.mappingController.prototype.removeFilter"];try{if(this._grid._linkedDataList){this._grid._linkedDataList.removeFilter(_fd,_fe);}else{this._grid._dataList.removeFilter(_fd,_fe);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ap.prototype.clearFilter=function(_ff){["WebSquare.uiplugin.mappingController.prototype.clearFilter"];try{if(this._grid._linkedDataList){this._grid._linkedDataList.clearFilter(_ff);}else{this._grid._dataList.clearFilter(_ff);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ap.prototype.sort=function(_100,_101){["WebSquare.uiplugin.mappingController.prototype.sort"];try{if(this._grid._linkedDataList){this._grid._linkedDataList.sort(_100,_101);}else{this._grid._dataList.sort(_100,_101);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ap.prototype.clearSort=function(){["WebSquare.uiplugin.mappingController.prototype.clearSort"];try{if(this._grid._linkedDataList){this._grid._linkedDataList.clearSort();}else{this._grid._dataList.clearSort();if(this._grid.options.filterFocusMode=="outfocus"){this._grid.setScrollTop(0);}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ap.prototype.multisort=function(_102){["WebSquare.uiplugin.mappingController.prototype.multisort"];try{if(this._grid._linkedDataList){this._grid._linkedDataList.multisort(_102);}else{this._grid._dataList.multisort(_102);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ap.prototype.mappingCommonAPI=function(){["WebSquare.uiplugin.mappingController.prototype.mappingCommonAPI"];try{this._grid._getData=this._getData;this._grid._getRowData=this._getRowData;this._grid._setCellData=this._setCellData;this._grid._setOriginalCellData=this._setOriginalCellData;this._grid._insertData=this._insertData;this._grid._undoRow=this._undoRow;this._grid._getRowStatusValue=this._getRowStatusValue;this._grid._getRowStatus=this._getRowStatus;this._grid._setRowStatus=this._setRowStatus;this._grid._createRowStatus=this._createRowStatus;this._grid._updateRowStatus=this._updateRowStatus;this._grid._deleteRowStatus=this._deleteRowStatus;this._grid._undeleteRowStatus=this._undeleteRowStatus;this._grid.getRowJSON=this.getRowJSON;this._grid.getRowCount=this.getRowCount;this._grid.getCellData=this.getCellData;this._grid.getOriginalCellData=this.getOriginalCellData;this._grid.getColData=this.getColData;this._grid.getRowData=this.getRowData;this._grid.getDataRow=this.getDataRow;this._grid.getMatchedData=this.getMatchedData;this._grid.getUnmatchedData=this.getUnmatchedData;this._grid.getMatchedColumnData=this.getMatchedColumnData;this._grid.getUnmatchedColumnData=this.getUnmatchedColumnData;this._grid.getMatchedIndex=this.getMatchedIndex;this._grid.getUnmatchedIndex=this.getUnmatchedIndex;this._grid.getRangeData=this.getRangeData;this._grid.getAllData=this.getAllData;this._grid.getColumnDistinctDataArray=this.getColumnDistinctDataArray;this._grid.getRangeXML=this.getRangeXML;this._grid.getMatchedXML=this.getMatchedXML;this._grid.getUnmatchedXML=this.getUnmatchedXM;this._grid.getRowXML=this.getRowXML;this._grid.getAllXML=this.getAllXML;this._grid.getRowJSON=this.getRowJSON;this._grid.getAllJSON=this.getAllJSON;this._grid.getRangeJSON=this.getRangeJSON;this._grid.getMatchedJSON=this.getMatchedJSON;this._grid.getUnmatchedJSON=this.getUnmatchedJSON;this._grid.getRowStatusValue=this.getRowStatusValue;this._grid.getRowStatus=this.getRowStatus;this._grid.getRowIndexByStatus=this.getRowIndexByStatus;this._grid.getInsertedIndex=this.getInsertedIndex;this._grid.getUpdatedIndex=this.getUpdatedIndex;this._grid.getDeletedIndex=this.getDeletedIndex;this._grid.getModifiedIndex=this.getModifiedIndex;this._grid.getInsertedData=this.getInsertedData;this._grid.getInsertedXML=this.getInsertedXML;this._grid.getInsertedJSON=this.getInsertedJSON;this._grid.getDeletedData=this.getDeletedData;this._grid.getDeletedXML=this.getDeletedXML;this._grid.getDeletedJSON=this.getDeletedJSON;this._grid.getVoidData=this.getVoidData;this._grid.getVoidXML=this.getVoidXML;this._grid.getVoidJSON=this.getVoidJSON;this._grid.getOnlyDeletedData=this.getOnlyDeletedData;this._grid.getOnlyDeletedXML=this.getOnlyDeletedXML;this._grid.getOnlyDeletedXML=this.getOnlyDeletedXML;this._grid.getOnlyDeletedJSON=this.getOnlyDeletedJSON;this._grid.getUpdatedData=this.getUpdatedData;this._grid.getUpdatedXML=this.getUpdatedXML;this._grid.getUpdatedJSON=this.getUpdatedJSON;this._grid.getModifiedData=this.getModifiedData;this._grid.getModifiedXML=this.getModifiedXML;this._grid.getModifiedJSON=this.getModifiedJSON;}catch(e){$W.exception.printStackTrace(e,null,this);}};;WebSquare.uiplugin.mappingController=$W._a.ap;$W._a._n=function(_1){["WebSquare.uiplugin.linkedMappingController"];this._linkedDataList._grid=_1;};$W._a._n.prototype.getLinkedRowIndex=function(_2){["WebSquare.uiplugin.linkedMappingController.prototype.getRealRowIndex"];var _3=this._linkedDataList.getLinkedRowIndex(_2);return _3;};$W._a._n.prototype.getRealRowIndex=function(_4){["WebSquare.uiplugin.linkedMappingController.prototype.getRealRowIndex"];var _5=this._linkedDataList.filteredRowIndexArr[_4];return _5;};$W._a._n.prototype.getFilteredRowIndex=function(_6){["WebSquare.uiplugin.linkedMappingController.prototype.getFilteredRowIndex"];return this._linkedDataList.getFilteredRowIndex(realrowIndex);};$W._a._n.prototype.getTotalRow=function(){["WebSquare.uiplugin.linkedMappingController.prototype.getTotalRow"];try{var _7=this._linkedDataList.initialRowIndexArr.length;return _7;}catch(e){$W.exception.printStackTrace(e);}};$W._a._n.prototype.getTotalCol=function(){["WebSquare.uiplugin.linkedMappingController.prototype.getTotalCol"];try{return this._linkedDataList._dataList.getTotalCol();}catch(e){$W.exception.printStackTrace(e);}};$W._a._n.prototype.getRowCount=function(){["WebSquare.uiplugin.linkedMappingController.prototype.getRowCount"];try{return this._linkedDataList.getDataLength();}catch(e){$W.exception.printStackTrace(e);}};$W._a._n.prototype.getCellData=function(_8,_9){["WebSquare.uiplugin.linkedMappingController.prototype.getCellData"];try{var _a=this._linkedDataList.getRealRowIndex(_8);return this._linkedDataList._dataList.getCellData(_a,_9);}catch(e){$W.exception.printStackTrace(e);}};$W._a._n.prototype.getOriginalCellData=function(_b,_c){["WebSquare.uiplugin.linkedMappingController.prototype.getOriginalCellData"];try{var _d=this._linkedDataList.getRealRowIndex(_b);return this._linkedDataList._dataList.getOriginalCellData(_d,_c);}catch(e){$W.exception.printStackTrace(e);}};$W._a._n.prototype.getDataLength=function(){["WebSquare.uiplugin.linkedMappingController.prototype.getDataLength"];return this._linkedDataList.filteredRowIndexArr.length;};$W._a._n.prototype.getColCnt=function(){["WebSquare.uiplugin.linkedMappingController.prototype.getColCnt"];try{var _e=0;var _f=this._grid.htmlInfo?this._grid.htmlInfo.head.rowArr[0]:this._grid.struct.head.rowArr[0];for(var i=0;i<_f.length;i++){var _11=_f[i];_e+=parseInt(_11.colSpan,10)||1;}return _e;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._n.prototype.getRowPosition=function(){["WebSquare.uiplugin.linkedMappingController.prototype.getRowPosition"];try{return this._linkedDataList._dataList.getRowPosition();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._n.prototype.getColData=function(_12){["WebSquare.uiplugin.linkedMappingController.prototype.getColData"];try{var _13=[];for(var row=0;row<this._linkedDataList.initialRowIndexArr.length;row++){_13.push(this._linkedDataList.getCellData(row,_12));}return _13;}catch(e){$W.exception.printStackTrace(e);}};$W._a._n.prototype.getRowData=function(_15){["WebSquare.uiplugin.linkedMappingController.prototype.getRowData"];try{var _16=this._linkedDataList.getRealRowIndex(_15);return this._linkedDataList._dataList.getRowData(_16);}catch(e){$W.exception.printStackTrace(e);}};$W._a._n.prototype.getDataRow=function(_17){["WebSquare.uiplugin.linkedMappingController.prototype.getDataRow"];try{var _18=this._linkedDataList.getRealRowIndex(_17);return this._linkedDataList._dataList.getDataRow(_18);}catch(e){$W.exception.printStackTrace(e);}};$W._a._n.prototype.getMatchedData=function(_19,_1a,_1b,_1c,_1d){["WebSquare.uiplugin.linkedMappingController.prototype.getMatchedData"];try{this._linkedDataList.broadcast({"gridView":["_endEdit"]});var _1e=[];var _1f=this._linkedDataList.getMatchedIndex(_19,_1a,_1b,_1c,_1d);for(var i=0;i<_1f.length;i++){_1e.push(this._linkedDataList.getRowData(_1f[i]));}return _1e;}catch(e){$W.exception.printStackTrace(e);}};$W._a._n.prototype.getUnmatchedData=function(_21,_22,_23,_24,_25){["WebSquare.uiplugin.linkedMappingController.prototype.getUnmatchedData"];try{this._linkedDataList.broadcast({"gridView":["_endEdit"]});var _26=[];var _27=this._linkedDataList.getUnmatchedIndex(_21,_22,_23,_24,_25);for(var i=0;i<_27.length;i++){_26.push(this._linkedDataList.getRowData(_27[i]));}return _26;}catch(e){$W.exception.printStackTrace(e);}};$W._a._n.prototype.getMatchedColumnData=function(_29,_2a,_2b,_2c,_2d,_2e){["WebSquare.uiplugin.linkedMappingController.prototype.getMatchedColumnData"];try{this._linkedDataList.broadcast({"gridView":["_endEdit"]});var _2f=[];var _30=this._linkedDataList.getMatchedIndex(_29,_2a,_2c,_2d,_2e);for(var i=0;i<_30.length;i++){_2f.push(this._linkedDataList.getCellData(_30[i],_2b));}return _2f;}catch(e){$W.exception.printStackTrace(e);}};$W._a._n.prototype.getUnmatchedColumnData=function(_32,_33,_34,_35,_36,_37){["WebSquare.uiplugin.linkedMappingController.prototype.getUnmatchedColumnData"];try{this._linkedDataList.broadcast({"gridView":["_endEdit"]});var _38=[];var _39=this._linkedDataList.getUnmatchedIndex(_32,_33,_35,_36,_37);for(var i=0;i<_39.length;i++){_38.push(this._linkedDataList.getCellData(_39[i],_34));}return _38;}catch(e){$W.exception.printStackTrace(e);}};$W._a._n.prototype.getFilteredColData=function(_3b){["WebSquare.uiplugin.linkedMappingController.prototype.getFilteredColData"];var _3c=[];for(var row=0;row<this._linkedDataList.getDataLength();row++){_3c.push(this._linkedDataList.getCellData(this._linkedDataList.filteredRowIndex[row],_3b));}return _3c;};$W._a._n.prototype.getMatchedIndex=function(_3e,_3f,_40,_41,_42){["WebSquare.uiplugin.linkedMappingController.prototype.getMatchedIndex"];try{_40=(typeof _40=="undefined"||_40==null)?true:_40;_40=$W._G.getBoolean(_40);if(_40!=false){_40=true;}colIndex=this._linkedDataList._dataList.getColumnIndex(_3e);var _43=this._linkedDataList.getFilteredColData(colIndex);var _44=[];if(typeof _41!="number"){_41=0;}if(typeof _42!="number"){_42=_43.length;}if(_42>_43.length){_42=_43.length;}for(var i=_41;i<_42;i++){var _46=_43[i];var _47=this._linkedDataList.getRealRowIndex(i);if(_40==true){if(_46===_3f){_44.push(_47);}}else{if(_46.indexOf(_3f)>-1){_44.push(_47);}}}return _44;}catch(e){$W.exception.printStackTrace(e);}};$W._a._n.prototype.getUnmatchedIndex=function(_48,_49,_4a,_4b,_4c){["WebSquare.uiplugin.linkedMappingController.prototype.getUnmatchedIndex"];try{if(_4a!=false){_4a=true;}colIndex=this._linkedDataList._dataList.getColumnIndex(_48);var _4d=this._linkedDataList.getFilteredColData(colIndex);var _4e=[];if(typeof _4b!="number"){_4b=0;}if(typeof _4c!="number"){_4c=_4d.length;}if(_4c>_4d.length){_4c=_4d.length;}for(var i=_4b;i<_4c;i++){var _50=_4d[i];var _51=this._linkedDataList.getRealRowIndex(i);if(_4a==true){if(_50!==_49){_4e.push(_51);}}else{if(_50.indexOf(_49)<=-1){_4e.push(_51);}}}return _4e;}catch(e){$W.exception.printStackTrace(e);}};$W._a._n.prototype.getRangeData=function(_52,to){["WebSquare.uiplugin.linkedMappingController.prototype.getRangeData"];try{var _54=[];if(_52>to){var tmp=to;to=_52;_52=tmp;}if(_52<0){_52=0;}if(to>this._linkedDataList.getDataLength()){to=this._linkedDataList.getDataLength();}for(var i=_52;i<to;i++){var _57=this._linkedDataList.getRealRowIndex(i);_54=_54.concat(this._linkedDataList.getRowData(_57));}return _54;}catch(e){$W.exception.printStackTrace(e);}};$W._a._n.prototype.getAllData=function(){["WebSquare.uiplugin.linkedMappingController.prototype.getAllData"];try{return this._linkedDataList._dataList.getAllFilteredData();}catch(e){$W.exception.printStackTrace(e);}};$W._a._n.prototype.getAllFilteredData=function(){["WebSquare.uiplugin.linkedMappingController.prototype.getAllFilteredData"];this._linkedDataList.broadcast({"gridView":["_endEdit"]});var _58=[];for(var i=0;i<this._linkedDataList.getDataLength();i++){_58=_58.concat(this._linkedDataList.getRowData(i));}return _58;};$W._a._n.prototype.getColumnDistinctDataArray=function(_5a){["WebSquare.uiplugin.linkedMappingController.prototype.getColumnDistinctDataArray"];try{this._linkedDataList.broadcast({"gridView":["_endEdit"]});var _5b=[];var _5c=[];if(typeof _5a=="string"){_5a=this._linkedDataList._dataList.bodyIdColIndexMap[_5a];}var _5d=this._linkedDataList._dataList.getCellInfo(_5a);var _5e=this._linkedDataList.getColData(_5a);for(var i=0;i<_5e.length;i++){var _60=_5e[i];_5c[_60]=1;}for(var _61 in _5c){_5b.push(_61);}if(_5d.options.dataType=="text"){_5b=_5b.sort();}else{_5b=_5b.sort(this._linkedDataList.comparator);}return _5b;}catch(e){$W.exception.printStackTrace(e);}};$W._a._n.prototype.getRangeXML=function(_62,to){["WebSquare.uiplugin.linkedMappingController.prototype.getRangeXML"];try{return this._linkedDataList.getRangeXML(_62,to);}catch(e){$W.exception.printStackTrace(e);}};$W._a._n.prototype.getMatchedXML=function(_64,_65,_66,_67,_68){["WebSquare.uiplugin.linkedMappingController.prototype.getMatchedXML"];try{return this._linkedDataList.getMatchedXML(_64,_65,_66,_67,_68);}catch(e){$W.exception.printStackTrace(e);}};$W._a._n.prototype.getUnmatchedXML=function(_69,_6a,_6b,_6c,_6d){["WebSquare.uiplugin.linkedMappingController.prototype.getUnmatchedXML"];try{return this._linkedDataList.getUnmatchedXML(_69,_6a,_6b,_6c,_6d);}catch(e){$W.exception.printStackTrace(e);}};$W._a._n.prototype.getRowXML=function(_6e){["WebSquare.uiplugin.linkedMappingController.prototype.getRowXML"];try{return this._linkedDataList.getRowXML(_6e);}catch(e){$W.exception.printStackTrace(e);}};$W._a._n.prototype.getAllXML=function(_6f){["WebSquare.uiplugin.linkedMappingController.prototype.getAllXML"];try{return this._linkedDataList.getAllXML(_6f);}catch(e){$W.exception.printStackTrace(e);}};$W._a._n.prototype.getAllFilteredXML=function(_70){["WebSquare.uiplugin.linkedMappingController.prototype.getAllFilteredXML"];return this._linkedDataList.getAllFilteredXML(_70);};$W._a._n.prototype.getRowJSON=function(_71,_72){["WebSquare.uiplugin.linkedMappingController.prototype.getRowJSON"];try{return this._linkedDataList.getRowJSON(_71,_72);}catch(e){$W.exception.printStackTrace(e);}};$W._a._n.prototype.getAllJSON=function(_73){["WebSquare.uiplugin.linkedMappingController.prototype.getAllJSON"];try{return this._linkedDataList.getAllJSON(_73);}catch(e){$W.exception.printStackTrace(e);}};$W._a._n.prototype.getRangeJSON=function(_74,to,_76){["WebSquare.uiplugin.linkedMappingController.prototype.getAllJSON"];try{return this._linkedDataList.getRangeJSON(_74,to,_76);}catch(e){$W.exception.printStackTrace(e);}};$W._a._n.prototype.getMatchedJSON=function(_77,_78,_79,_7a,_7b){["WebSquare.uiplugin.linkedMappingController.prototype.getMatchedJSON"];try{return this._linkedDataList.getMatchedJSON(_77,_78,_79,_7a,_7b);}catch(e){$W.exception.printStackTrace(e);}};$W._a._n.prototype.getUnmatchedJSON=function(_7c,_7d,_7e,_7f,_80){["WebSquare.uiplugin.linkedMappingController.prototype.getUnmatchedJSON"];try{return this._linkedDataList.getUnmatchedJSON(_7c,_7d,_7e,_7f,_80);}catch(e){$W.exception.printStackTrace(e);}};$W._a._n.prototype.getFusionChartData=function(_81,_82,_83){["WebSquare.uiplugin.linkedMappingController.prototype.getFusionChartData"];return this._linkedDataList.getFusionChartData(_81,_82,_83);};$W._a._n.prototype.getRowStatusValue=function(_84){["WebSquare.uiplugin.linkedMappingController.prototype.getRowStatusValue"];try{return this._linkedDataList.getRowStatusValue(_84);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._n.prototype.getRowStatus=function(_85){["WebSquare.uiplugin.linkedMappingController.prototype.getRowStatus"];try{return this._linkedDataList.getRowStatus(_85);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._n.prototype.getRowIndexByStatus=function(_86){["WebSquare.uiplugin.linkedMappingController.prototype.getRowIndexByStatus"];try{var _87=[];for(var i=0;i<this._linkedDataList.getDataLength();i++){var _89=this._linkedDataList.getRealRowIndex(i);if(_86.indexOf(this._linkedDataList._dataList.getRowStatus(_89))>-1){_87.push(_89);}}return _87;}catch(e){$W.exception.printStackTrace(e);}};$W._a._n.prototype.getInsertedIndex=function(){["WebSquare.uiplugin.linkedMappingController.prototype.getInsertedIndex"];try{return this._linkedDataList.getRowIndexByStatus("C");}catch(e){$W.exception.printStackTrace(e);}};$W._a._n.prototype.getUpdatedIndex=function(){["WebSquare.uiplugin.linkedMappingController.prototype.getUpdatedIndex"];try{return this._linkedDataList.getRowIndexByStatus("U");}catch(e){$W.exception.printStackTrace(e);}};$W._a._n.prototype.getDeletedIndex=function(){["WebSquare.uiplugin.linkedMappingController.prototype.getDeletedIndex"];try{return this._linkedDataList.getRowIndexByStatus("DV");}catch(e){$W.exception.printStackTrace(e);}};$W._j.linkedDataListApiController.prototype.getOnlyDeletedIndex=function(){["WebSquare.DataCollection.linkedDataListApiController.prototype.getDeletionsIndex"];try{return this.getRowIndexByStatus("D");}catch(e){$W.exception.printStackTrace(e);}};$W._a._n.prototype.getVoidIndex=function(){["WebSquare.uiplugin.linkedMappingController.prototype.getVoidIndex"];try{return this._linkedDataList.getRowIndexByStatus("V");}catch(e){$W.exception.printStackTrace(e);}};$W._a._n.prototype.getModifiedIndex=function(){["WebSquare.uiplugin.linkedMappingController.prototype.getModifiedIndex"];try{return this._linkedDataList.getRowIndexByStatus("CUD");}catch(e){$W.exception.printStackTrace(e);}};$W._a._n.prototype.getInsertedData=function(){["WebSquare.uiplugin.linkedMappingController.prototype.getInsertedData"];try{this._linkedDataList.broadcast({"gridView":["_endEdit"]});var _8a=[];var _8b=this._linkedDataList.getInsertedIndex();for(var i=0;i<_8b.length;i++){_8a.push(this._linkedDataList.getRowData(_8b[i]));}return _8a;}catch(e){$W.exception.printStackTrace(e);}};$W._a._n.prototype.getInsertedXML=function(){["WebSquare.uiplugin.linkedMappingController.prototype.getInsertedXML"];try{this._linkedDataList.broadcast({"gridView":["_endEdit"]});var _8d=this._linkedDataList.getInsertedIndex();var _8e=this._linkedDataList._dataList.getArrXML(_8d);return _8e;}catch(e){$W.exception.printStackTrace(e);}};$W._a._n.prototype.getInsertedJSON=function(){["WebSquare.uiplugin.linkedMappingController.prototype.getInsertedJSON"];try{this._linkedDataList.broadcast({"gridView":["_endEdit"]});var _8f=[];var _90=this._linkedDataList.getInsertedIndex();for(var i=0;i<_90.length;i++){_8f.push(this._linkedDataList.getRowJSON(_90[i]));}return _8f;}catch(e){$W.exception.printStackTrace(e);}};$W._a._n.prototype.getDeletedData=function(){["WebSquare.uiplugin.linkedMappingController.prototype.getDeletedData"];try{this._linkedDataList.broadcast({"gridView":["_endEdit"]});var _92=[];var _93=this._linkedDataList.getDeletedIndex();for(var i=0;i<_93.length;i++){_92.push(this._linkedDataList.getRowData(_93[i]));}return _92;}catch(e){$W.exception.printStackTrace(e);}};$W._a._n.prototype.getDeletedXML=function(){["WebSquare.uiplugin.linkedMappingController.prototype.getDeletedXML"];try{this._linkedDataList.broadcast({"gridView":["_endEdit"]});var _95=this._linkedDataList.getDeletedIndex();var _96=this._linkedDataList._dataList.getArrXML(_95);return _96;}catch(e){$W.exception.printStackTrace(e);}};$W._a._n.prototype.getDeletedJSON=function(){["WebSquare.uiplugin.linkedMappingController.prototype.getDeletedJSON"];try{this._linkedDataList.broadcast({"gridView":["_endEdit"]});var _97=[];var _98=this._linkedDataList.getDeletedIndex();for(var i=0;i<_98.length;i++){_97.push(this._linkedDataList.getRowJSON(_98[i]));}return _97;}catch(e){$W.exception.printStackTrace(e);}};$W._a._n.prototype.getVoidData=function(){["WebSquare.uiplugin.linkedMappingController.prototype.getVoidData"];try{this._linkedDataList.broadcast({"gridView":["_endEdit"]});var _9a=[];var _9b=this._linkedDataList.getVoidIndex();for(var i=0;i<_9b.length;i++){_9a.push(this._linkedDataList.getRowData(_9b[i]));}return _9a;}catch(e){$W.exception.printStackTrace(e);}};$W._a._n.prototype.getVoidXML=function(){["WebSquare.uiplugin.linkedMappingController.prototype.getVoidXML"];try{this._linkedDataList.broadcast({"gridView":["_endEdit"]});var _9d=this._linkedDataList.getVoidIndex();var _9e=this._linkedDataList._dataList.getArrXML(_9d);return _9e;}catch(e){$W.exception.printStackTrace(e);}};$W._a._n.prototype.getVoidJSON=function(){["WebSquare.uiplugin.linkedMappingController.prototype.getVoidJSON"];try{this._linkedDataList.broadcast({"gridView":["_endEdit"]});var _9f=[];var _a0=this._linkedDataList.getVoidIndex();for(var i=0;i<_a0.length;i++){_9f.push(this._linkedDataList.getRowJSON(_a0[i]));}return _9f;}catch(e){$W.exception.printStackTrace(e);}};$W._a._n.prototype.getOnlyDeletedData=function(){["WebSquare.uiplugin.linkedMappingController.prototype.getOnlyDeletedData"];try{this._linkedDataList.broadcast({"gridView":["_endEdit"]});var _a2=[];var _a3=this._linkedDataList.getOnlyDeletedIndex();for(var i=0;i<_a3.length;i++){_a2.push(this._linkedDataList.getRowData(_a3[i]));}return _a2;}catch(e){$W.exception.printStackTrace(e);}};$W._a._n.prototype.getOnlyDeletedXML=function(){["WebSquare.uiplugin.linkedMappingController.prototype.getOnlyDeletedXML"];try{this._linkedDataList.broadcast({"gridView":["_endEdit"]});var _a5=this._linkedDataList.getOnlyDeletedIndex();var _a6=this._linkedDataList._dataList.getArrXML(_a5);return _a6;}catch(e){$W.exception.printStackTrace(e);}};$W._a._n.prototype.getOnlyDeletedJSON=function(){["WebSquare.uiplugin.linkedMappingController.prototype.getOnlyDeletedJSON"];try{this._linkedDataList.broadcast({"gridView":["_endEdit"]});var _a7=[];var _a8=this._linkedDataList.getOnlyDeletedIndex();for(var i=0;i<deletionsRowIndexArr.length;i++){_a7.push(this._linkedDataList.getRowJSON(_a8[i]));}return _a7;}catch(e){$W.exception.printStackTrace(e);}};$W._a._n.prototype.getUpdatedData=function(){["WebSquare.uiplugin.linkedMappingController.prototype.getUpdatedData"];try{this._linkedDataList.broadcast({"gridView":["_endEdit"]});var _aa=[];var _ab=this._linkedDataList.getUpdatedIndex();for(var i=0;i<_ab.length;i++){_aa.push(this._linkedDataList.getRowData(_ab[i]));}return _aa;}catch(e){$W.exception.printStackTrace(e);}};$W._a._n.prototype.getUpdatedXML=function(){["WebSquare.uiplugin.linkedMappingController.prototype.getUpdatedXML"];try{this._linkedDataList.broadcast({"gridView":["_endEdit"]});var _ad=this._linkedDataList.getUpdatedIndex();var _ae=this._linkedDataList._dataList.getArrXML(_ad);return _ae;}catch(e){$W.exception.printStackTrace(e);}};$W._a._n.prototype.getUpdatedJSON=function(){["WebSquare.uiplugin.linkedMappingController.prototype.getUpdatedJSON"];try{this._linkedDataList.broadcast({"gridView":["_endEdit"]});var _af=[];var _b0=this._linkedDataList.getUpdatedIndex();for(var i=0;i<_b0.length;i++){_af.push(this._linkedDataList.getRowJSON(_b0[i]));}return _af;}catch(e){$W.exception.printStackTrace(e);}};$W._a._n.prototype.getModifiedData=function(){["WebSquare.uiplugin.linkedMappingController.prototype.getModifiedData"];try{this._linkedDataList.broadcast({"gridView":["_endEdit"]});var _b2=[];var _b3=this._linkedDataList.getModifiedIndex();for(var i=0;i<_b3.length;i++){_b2.push(this._linkedDataList.getRowData(_b3[i]));}return _b2;}catch(e){$W.exception.printStackTrace(e);}};$W._a._n.prototype.getModifiedXML=function(){["WebSquare.uiplugin.linkedMappingController.prototype.getModifiedXML"];try{this._linkedDataList.broadcast({"gridView":["_endEdit"]});var _b5=this._linkedDataList.getModifiedIndex();var _b6=this._linkedDataList._dataList.getArrXML(_b5);return _b6;}catch(e){$W.exception.printStackTrace(e);}};$W._a._n.prototype.getModifiedJSON=function(){["WebSquare.uiplugin.linkedMappingController.prototype.getModifiedJSON"];try{this._linkedDataList.broadcast({"gridView":["_endEdit"]});var _b7=[];var _b8=this._linkedDataList.getModifiedIndex();for(var i=0;i<_b8.length;i++){_b7.push(this._linkedDataList.getRowJSON(_b8[i]));}return _b7;}catch(e){$W.exception.printStackTrace(e);}};$W._a._n.prototype.setColumnFilter=function(_ba,_bb,_bc,_bd){["WebSquare.uiplugin.linkedMappingController.prototype.setColumnFilter"];return this._linkedDataList.setColumnFilter(_ba,_bb,_bc,_bd);};$W._a._n.prototype.removeColumnFilter=function(_be){["WebSquare.uiplugin.linkedMappingController.prototype.removeColumnFilter"];return this._linkedDataList.removeColumnFilter(_be);};$W._a._n.prototype.clearSortFilter=function(){["WebSquare.uiplugin.linkedMappingController.prototype.clearSortFilter"];return this._linkedDataList.clearSortFilter();};$W._a._n.prototype.removeColumnFilterAll=function(){["WebSquare.uiplugin.linkedMappingController.prototype.removeColumnFilterAll"];return this._linkedDataList.removeColumnFilterAll();};$W._a._n.prototype.setFilter=function(_bf){["WebSquare.uiplugin.linkedMappingController.prototype.setFilter"];return this._linkedDataList.setFilter(_bf);};$W._a._n.prototype.removeFilter=function(_c0,_c1){return this._linkedDataList.removeFilter(_c0,_c1);};$W._a._n.prototype.clearFilter=function(){["WebSquare.uiplugin.linkedMappingController.prototype.clearFilter"];return this._linkedDataList.clearFilter();};$W._a._n.prototype.sort=function(_c2,_c3){["WebSquare.uiplugin.linkedMappingController.prototype.sort"];return this._linkedDataList.sort(_c2,_c3);};$W._a._n.prototype.clearSort=function(){["WebSquare.uiplugin.linkedMappingController.prototype.clearSort"];return this._linkedDataList.clearSort();};$W._a._n.prototype.multisort=function(_c4){["WebSquare.uiplugin.linkedMappingController.prototype.multisort"];return this._linkedDataList.multisort(_c4);};;WebSquare.uiplugin.linkedMappingController=$W._a._n;requires("uiplugin/gridView/layoutController.js");requires("uiplugin/gridView/drawInitializer.js");requires("uiplugin/gridView/eventController.js");requires("uiplugin/gridView/keyEventController.js");requires("uiplugin/gridView/mainDrawController.js");requires("uiplugin/gridView/drawController.js");requires("uiplugin/gridView/cellController.js");requires("uiplugin/gridView/headerController.js");requires("uiplugin/gridView/focusController.js");requires("uiplugin/gridView/subtotalDataController.js");requires("uiplugin/gridView/footerController.js");requires("uiplugin/gridView/gridViewApiController.js");requires("uiplugin/gridView/styleController.js");requires("uiplugin/control/modelControl.js");requires("uiplugin/control/itemsetControl.js");requires("uiplugin.inputCalendar");requires("uiplugin.selectbox");requires("uiplugin.input");requires("uiplugin.textarea");requires("uiplugin.checkcombobox");requires("uiplugin.autoComplete");requires("uiplugin.scrollView");requires("uiplugin.list");requires("uiplugin.floatingLayer");requires("uiplugin.textbox");requires("uiplugin.group");requires("uiplugin.radio");requires("uiplugin.spinner");requires("engine/formatter.js");requires("uiplugin/gridView/drilldown.js");requires("uiplugin/gridView/notifyController.js");requires("uiplugin/gridView/mappingController.js");requires("uiplugin/gridView/linkedMappingController.js");$W._a.av=function(id,_2,_3){["WebSquare.uiplugin.gridView"];$W._t.call(this,id,_2,_3);};$W.extend($W._a.av.prototype,$W._t.prototype);$W._a.av.prototype.defaultOptions={useConfig:true,pluginType:"uiplugin.gridView",pluginName:"gridView",userEvents:["oncellclick","oncelldblclick","onrightbuttonclick","ontextimageclick","oncellindexchange","onrowindexchange","oncolumnindexchange","onfilereadend","onscrollend","onbeforeedit","oneditend","oneditkeydown","onafteredit","onscrolly","onscrollx","onsort","onheaderclick","onheaderrightbuttonclick","onheaderdblclick","onfooterclick","onbodymouseover","ongroupby","onclick","onkeydown","onkeyup","onviewchange","onbeforepaste","onafterpaste","onbeforecolumnmove","onaftercolumnmove","oncontextopen","oncontextclick","oneditkeyup"],rowNumVisible:false,rowNumHeaderValue:"",rowNumBackgroundColor:"",rowNumStatusResize:false,rowStatusVisible:false,rowStatusHeaderValue:"",overflowX:"auto",overflowY:"auto",fixedColumn:0,fixedColumnWithHidden:true,fixedRightColumn:0,fixedRow:0,resize:true,focusMode:"cell",selectedCellColor:"#FCA73C",selectedRowColor:"#FCA73C",oddEvenColorDisplay:false,oddRowBackgroundColor:"#EFF7FF",evenRowBackgroundColor:"#FFFFFF",rowMouseOver:false,rowMouseOverColor:"#ffff80",selectedCellOverColor:"",selectedRowOverColor:"",editModeEvent:"ondblclick",keyMoveEditMode:false,enterKeyMove:"down",sortable:false,sortOrderReverse:false,showSortableImage:false,preventMultisort:false,useCtrlOnMultisort:true,useCtrlKey:true,sortedImagePosition:"",sortEvent:"ondblclick",tooltipDisplay:false,tooltipDisplayTime:0,tooltipClass:"",tooltipStyle:"",tooltipHide:"click",tooltipShowAlways:false,tooltipFormatter:"",tooltipPositionX:"20",tooltipPositionY:"3+cellHeight",captionTitle:"",captionAuto:false,noResultMessageVisible:false,noResultMessage:"",noResultMessageClass:"",noResultMessageStyle:"",hiddenClass:"",readOnly:"",readOnlyPriority:"",readOnlyBackgroundColor:"",readOnlyBackgroundImg:"",readOnlyBackgroundImgCSS:"",readOnlyTabIgnore:false,ignoreNonEditableCell:false,ignoreNonEditableCellTabEnter:false,disabledPriority:"",disabledBackgroundColor:"",disabledFontColor:"",summary:"",footerCaption:"",footerCaptionAuto:false,footerSummary:"",drawLimitTime:70,drawLimitRow:4,loadCount:0,autoFit:"",autoFitMinWidth:"",autoFitFixYScroll:false,fastScroll:"",lazyDrawHiddenColumn:false,defaultCellHeight:-1,hideHeader:false,dataDragDrop:false,dragDisplayColumn:"",dragStartFunction:"",dragEndFunction:"",headFiller:false,focusMove:"true",focusFlow:"default",scrollMsg:"",visibleRowNum:"",fixHeight:false,fastEditMode:false,iScrollMoveEffectTime:500,iScrollSlideTime:800,iScrollSlidePeriod:100,rollbackCommit:true,numberCasting:false,backgroundColorMode:"lazy",senseReader:false,senseReaderLinkFocus:false,showLastRow:false,autoScope:false,autoResizeEmbeddedInput:false,excelUploadPopupURL:"",advancedExcelUploadPopupURL:"",advancedExcelDownloadPopupURL:"",excelUploadURL:"",excelDownloadURL:"",csvDownloadURL:"",csvUploadPopupURL:"",csvUploadURL:"",advancedExcelUploadURL:"",advancedExcelDownloadURL:"",drilldownRealRowIndex:true,escape:"",fixPrint:false,xmlEncode:false,wheelRows:3,wheelStop:false,scrollByColumn:false,scrollByColumnAdaptive:false,rowNumWidth:"",rowStatusWidth:"",keepDefaultColumnWidth:false,columnMove:false,columnMoveWithFooter:false,columnOrder:"",copyAmount:"",checkReadOnlyOnPaste:false,checkDisabledOnPaste:false,checkBlankRowOnPaste:false,setDefaultValueOnPaste:false,preventCopy:false,preventPaste:false,groupbyZone:false,groupbyListVisibleRowNum:10,groupbyZoneMessage:"",groupbyZoneHeight:"50",groupbyMaxCount:-1,plainText:false,excludeDeletedRows:false,initFixedHeightByRowNum:-1,moveKeyEditMode:false,keepBeforeDisplayData:false,touchScrollDelta:5,dataList:"",useFilterList:false,customFilterListVisibleRowNum:10,useFilterEmptyMsg:"",duplicateColumnId:false,filterFocusMode:"",focusOnSetData:false,focusDefaultColumn:false,scrollFix:false,scrollRowHeight:false,ignoreCellClick:false,ignoreToggleOnDisabled:false,adaptive:"",autoFitFilterList:false,summaryAuto:false,summaryOnlyAuto:false,arrowMove:false,filterBoxvisibleRowNum:4,groupbyFilterBox:false,groupbyFilterBoxLocation:"bottom",fixAdaptive:false,groupbyFilterBoxFormatter:"",showSortableUseFilter:false};$W._a.av.prototype.initialize=function(_4){["WebSquare.uiplugin.gridView.initialize"];this.initializeType="gridView";this.firstEmbeddedInputResize=true;if(_4){var _5=false;var _6=false;var _7=_4.childNodes;for(var i=0;i<_7.length;i++){if(_7[i].tagName=="w2:header"){_6=true;continue;}if(_7[i].tagName=="w2:gBody"){_5=true;continue;}}if(!(_5&&_6)){this.uncompleted=true;$l(" gridView error : cannot find <w2:header> or <w2:gBody>."+"["+this.id+"]");return;}}this.options.dataList=this.options.dataList.wq_replaceAll("data:","");this._dataList=(this.options.dataList)?this.modelControl.getDataComp(this.options.dataList):null;if(this._dataList){this._grid=this;this._dataList.addChild(this);this.successBinding=true;switch(this._dataList.initializeType){case "linkedDataList":this._linkedDataList=this._dataList;this._dataList=this._linkedDataList._dataList;if(this._dataList){this.dataList=new $W._a.ap(this);$W.extend(this,$W._a._n.prototype);$W.extend(this.dataList,$W._a._n.prototype);this.dataList._linkedDataList=this._linkedDataList;}else{this.successBinding=false;this._dataList={};}break;case "dataList":this.dataList=new $W._a.ap(this);this.dataList.mappingCommonAPI();break;}}else{$l(" gridView error : invalid dataList("+this.options.dataList+")."+"["+this.id+"]");this.successBinding=false;this._dataList={};}this.skipPreActivate=true;var _9=this.options.dataList;if(this.scope_obj!=null){_9=this.scope_obj.id+"_"+this.options.dataList;}$W._j.api.addRelation(this.id,_9,false);this.skipPreActivate=false;this.focusedCellInfo={};this.extraData={grid:{},row:[],col:[],cell:[]};this.drilldown=new $W._a._R();if(this.options.focusMove=="false"||this.options.focusMove=="horizontal"){this.options.enterKeyMove="none";}if(this.options.groupbyZone&&this.options.groupbyFilterBox){this.groupbyFilterBoxItemTable=null;}this.date=new Date();this.isDrillDown=false;this.depthColumn="";this.showDepth="";this.removed=false;this.colWidthList=[];this.gridWidth=0;this.resizeStarted=false;this.headerHeight=0;this.footerHeight=0;this.hgap=[];this.autofitColumn=false;this.autofitColumnIndexArr=[];this.autofitColumnWidthArr=[];this.scrollWidthSize=18;this.scrollLayerWidthSize=18;this.hiddenList=[];this.headerFocus=false;this.headerObjArr=[];this.tmpSelectbox=null;this.noevent=false;this.rowIndex=-1;this.lastIndex=-1;this.oelIndex=-1;this.initializeDrawController();this.drawedRowLength=0;this.maxRowLength=0;this.drawSizeChanged=false;this.drawSizeAdded=false;this.isExistTextarea=false;this.bodyHeight=0;this.scrollEvent=true;this.isColMerge=false;this.isColMergeAnd=false;this.upperToLowerColumnRelation={};this.hasSubtotal=false;this.startRowNumber=0;this.dataRowList=[];this.subtotalRowHash={};this.subtotalDataArr={};this.subtotalObj={};this.drawSetTimeoutKey=[];this.overElem=null;this.outElem=null;this.hasFooter=false;this.footerDataObj=null;this.drawFooterStatus=true;this.bScrollTop=-1;this.bScrollY=0;this.drawedTime=0;this.defaultColCnt=0;if(this.options.rowNumVisible){this.defaultColCnt++;}if(this.options.rowStatusVisible){this.defaultColCnt++;}this.loadCheck=[];this.beforeDataLength=-1;this.beforeMaxRowLength=-1;this.editEnd=false;this.lastOverSrc=null;this.headerInfoHash={};this.headerInfoHash2={};this.cellInfoHash={};this.cellInfoHash2={};this.expressionAssArr=[];this.rowStyleValueObj=[];this.columnStyleValueObj=[];this.cellStyleValueObj=[];this.adaptiveColumnStyleValueObj=[];this.headerCellStyleValueObj={};this.rowStyleIndex=0;this.cellStyleIndex=0;this.rowStyleArr=[];this.columnStyleArr=[];this.cellStyleArr=[];this.rowReadOnlyArr=[];this.cellReadOnlyArr=[];this.rowDisabledArr=[];this.cellDisabledArr=[];this.focusedCell=[];this.focusedRow=[];this.headerToBodyRelation={};this.bodyToHeaderRelation={};this.passiveColSpanRelation={};this.colMoveBolockedHeaderObj={};this.backupHeaderHTML={};this.expressionHeaderInfo={};this.columnOrder=[];this.isIE6=$W._G.isIE("6");if(document.compatMode=="BackCompat"){this.isIE6=true;}this.isIE7=$W._G.isIE("7");this.isIE6or7=(this.isIE6||this.isIE7);this.isMobile=$W._G.isMobile();this.isWebKit=/webkit/.test(navigator.userAgent.toLowerCase());this.tmpCnt=0;this.initFlag=false;this.options.rowNumBackgroundColor=this.options.rowNumBackgroundColor.wq_trim();this.options.selectedCellColor=this.options.selectedCellColor.wq_trim();this.options.selectedRowColor=this.options.selectedRowColor.wq_trim();this.options.oddRowBackgroundColor=this.options.oddRowBackgroundColor.wq_trim();this.options.evenRowBackgroundColor=this.options.evenRowBackgroundColor.wq_trim();this.options.rowMouseOverColor=this.options.rowMouseOverColor.wq_trim();this.options.readOnlyBackgroundColor=this.options.readOnlyBackgroundColor.wq_trim();this.options.disabledBackgroundColor=this.options.disabledBackgroundColor.wq_trim();this.options.disabledFontColor=this.options.disabledFontColor.wq_trim();if($W._G.getBoolean(this.options.focusOnSetData)){this.options.focusOnSetData=true;}if(this.options.senseReader){this.options.focusFlow="linear";this.options.showLastRow=true;if(this.element&&this.element.getAttribute("autoScope")!="false"){this.options.autoScope=true;}this.senseReaderMode=true;}this.embeddedWidthObj={};if(this.options.sortable&&this.options.sortHeaderDiv){this.options.showSortableImage=true;this.options.sortEvent="onclick";}this.radioGroupRepChk={};this.options.excelUploadPopupURL=this.options.excelUploadPopupURL||$W.baseURI+"uiplugin/grid/upload/fileUpload.html";this.options.advancedExcelUploadPopupURL=this.options.advancedExcelUploadPopupURL||$W.baseURI+"uiplugin/grid/upload/advancedfileUpload.html";this.options.advancedExcelDownloadPopupURL=this.options.advancedExcelDownloadPopupURL||$W.baseURI+"uiplugin/grid/download/advancedfileDownload.html";this.options.excelUploadURL=this.options.excelUploadURL||$W.baseServletURI+"excelToGrid.wq";this.options.excelDownloadURL=this.options.excelDownloadURL||$W.baseServletURI+"xmlToExcel.wq";this.options.csvDownloadURL=this.options.csvDownloadURL||$W.baseServletURI+"xmlToCSV.wq";this.options.csvUploadURL=this.options.csvUploadURL||$W.baseServletURI+"csvToXML.wq";this.options.csvUploadPopupURL=this.options.csvUploadPopupURL||$W.baseServletURI+"uiplugin/grid/upload/csvfileUpload.html";this.options.advancedExcelUploadURL=this.options.advancedExcelUploadURL||$W.baseServletURI+"excelToGrid2.wq";this.options.advancedExcelDownloadURL=this.options.advancedExcelDownloadURL||$W.baseServletURI+"xmlToExcel2.wq";this.groupbyStatus={};this.groupbyZoneStatus={};this.groupbyDisplayOptions={};this.directItemChoiceKeyObj={};this.rowStatusColIDArr=[];this.cellIdList=[];this.firstOpenCustomFilter={};this.customFilterStatusObj={};this.beforeEditedCellInfo=null;this.hiddenAdaptiveList=[];this.adaptiveEmbeddedInputIdList=[];this.hideThresholdObj={};this.orgBodyHeightObj={};this.orgHeaderHeightObj={};this.orgFooterHeightObj={};this.orgSubtotalHeightObj={};this.oldOptions={};this.adaptiveGridType=0;this.tooltipPositionParse=false;this.oneRowScrollHeight=20;this.options.noResultMessage=this.options.noResultMessage||$W._m.getMessage("Grid_noResultMessage")||"\uc870\ud68c \uacb0\uacfc\uac00 \uc5c6\uc2b5\ub2c8\ub2e4.";this.options.scrollMsg=this.options.scrollMsg||$W._m.getMessage("Grid_scrollMsg")||"\ud654\uba74 \uac31\uc2e0 \uc911 \uc785\ub2c8\ub2e4...";this.cellMergeInfo={};this.tdMergeInfo={};};$W._a.av.prototype.setPreAction=function(){["WebSquare.uiplugin.gridView.setPreAction"];try{var _a=this.render.offsetWidth;var _b=this.render.offsetHeight;if(this.startedDisplayNone){this.initFlag=true;this.initializeHead();this.initializeFooter();this.drawFooter();this.drawHeader();return;}this.resizeObj={width:_a,height:_b,scrollLeft:0,scrollTop:0,clientWidth:this.render.clientWidth};var _c=this.getElementById(this.id+"_head_table");var _d=_c.getElementsByTagName("tr");var _e=_d[_d.length-1];var _f=this.getElementById(this.id+"_body_table");this.gridLastTrBottomFix=_f.offsetHeight-_e.offsetTop-_e.offsetHeight;this.setTableLayout();this._handleScrollX();this.setCellInfo();this.setDataListCellInfo();if(this.isDrillDown==true){this.initDrilldown();}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.av.prototype.setAction=function(){["WebSquare.uiplugin.gridView.setAction"];try{this.initializeEvent();if(this.options.columnOrder){this.setColumnOrder(this.options.columnOrder);}if(this.options.groupbyZone){this.groupbyZoneStatus.groupbyZoneRender=this.dom[this.id+"_groupbyZone_div"];var _10=this.options.groupbyZoneHeight.match("%")!=null;var _11=parseInt((_10)?this.options.groupbyZoneHeight:this.options.groupbyZoneHeight);var _12=_11+"px";this.groupbyZoneStatus.groupbyZoneRender.style.height=_12;if(_10){this.groupbyZoneStatus.groupbyZoneRender.style.height=this.groupbyZoneStatus.groupbyZoneRender.offsetHeight+"px";}var _13=$W._H.getStyle(this.groupbyZoneStatus.groupbyZoneRender,"border-left-width").replace("px","");this.groupbyZoneStatus.groupbyZoneBorder=_13*2;this.groupbyZoneStatus.groupbyZoneRender.style.width=(this.resizeObj.clientWidth-this.groupbyZoneStatus.groupbyZoneBorder)+"px";this.dom[this.id+"_main_div"].style.top=this.groupbyZoneStatus.groupbyZoneRender.offsetHeight+"px";if(this.isIE6){try{this.dom[this.id+"_main_div"].style.height=this.dom[this.id+"_main_div"].offsetHeight-this.groupbyZoneStatus.groupbyZoneRender.offsetHeight;}catch(e){}}if(this.options.groupbyFilterBox){var _14=this.getElementById(this.id+"_groupbyFilterBox_div");if(this.options.groupbyFilterBoxLocation==="bottom"){this.dom[this.id+"_main_div"].style.bottom=(this.scrollLayerWidthSize+_14.offsetHeight)+"px";}else{if(this.options.groupbyFilterBoxLocation==="top"){this.dom[this.id+"_main_div"].style.top=(_11+_14.offsetHeight)+"px";this.dom[this.id+"_main_div"].style.bottom=this.scrollLayerWidthSize+"px";this.groupbyZoneStatus.groupbyZoneRender.style.top=_14.offsetHeight+"px";}}}this.dom[this.id+"_scrollY_div"].style.top="0px";if(this.options.groupbyZoneMessage){var _15=document.createElement("div");_15.innerHTML+=this.options.groupbyZoneMessage;_15.className+=" w2grid_groupbyZone_message ";this.groupbyZoneStatus.groupbyZoneRender.appendChild(_15);_15.style.marginTop=-_15.offsetHeight/2+"px";_15.style.marginLeft=-_15.offsetWidth/2+"px";this.groupbyZoneStatus.groupbyZoneMessageRender=_15;}}if(this.options.groupbyZone&&this.options.groupbyFilterBox){var _16=this.getElementById(this.id+"_groupbyFilterBox_select_tbody");_16.onmouseover=function(){_16.className="w2selectbox_over";};_16.onmouseleave=function(){_16.className="";};var _17=this.getElementById(this.id+"_groupbyFilterBox_main");var _18=this.getElementById(this.id+"_groupbyFilterBox_buttons");_17.style.paddingLeft=(_18.offsetWidth)+"px";var _19=this.getElementById(this.id+"_groupbyFilterBox_apply");var _1a=this.getElementById(this.id+"_groupbyFilterBox_delete");var _1b=this;_19.onclick=function(){if(_19.checked){_1b.applyGroupbyFilter();}else{_1b.clearGroupby();}};_1a.onclick=function(){if(_1b.filterObjectArr&&_1b.filterObjectArr.length>0){_1b.filterObjectArr=[];_1b.getElementById(_1b.id+"_groupbyFilterBox_select_label").innerHTML="";_1b.clearGroupby();_19.checked=false;}};}if(this.options.hideHeader){var _1c=this.getDomList("head_tds","th",this.getElementById(this.id+"_head_table"));this.backUpHeadClass=_1c[0].className;}for(var i=0;i<this.oneRowDataLength;i++){var _1e=this.getColumnID(i);var _1f=this.getCellInfo(i);if(this.options.hiddenClass!=""||_1f.options.hiddenClass!=""){var _20=this.options.hiddenClass;if(_1f.options.hiddenClass!=""){_20=_1f.options.hiddenClass;}var _21=this._getRealColIndex("body",_1e)+this.defaultColCnt;var th=(this.bodyToHeaderRelation[_1e]!=undefined)?this.getHeaderLayer(this.bodyToHeaderRelation[_1e]):null;if(this.hiddenList[_21]){if(th!=undefined&&!this.hasClass(th,_20)){this.addClass(th,_20);}}else{if(th!=undefined&&this.hasClass(th,_20)){this.removeClass(th,_20);}}}}if(!this.startedDisplayNone&&this.getRowCount&&this.getRowCount()>0){this.notifyDataChanged();}if(!this.startedDisplayNone&&this.options.focusOnSetData){this.setFocusedCell(0,0);}if(!this.startedDisplayNone&&this.checkAdaptiveGridType()){if(this.options.adaptive!=""||(Object.keys&&Object.keys(this.hideThresholdObj).length!=0)){this.oldOptions["headerColBorder"]="";this.oldOptions["bodyColBorder"]="";this.setAdaptive();if(!($W._G.isMobile()&&this.options.fixAdaptive)){this.event.addListener(window,"onresize",this.event.bindAsEventListener(this,this.setAdaptive));}}}if(this.options.summaryAuto==true){var _23=this.getHeaderValueList();var _24="";var _25="";for(var i=0;i<_23.length;i++){if(_24.length>0){_25=",";}_24=_24+_25+_23[i];}this.setSummary(_24);}this.changeCount=0;if($W._G.getBoolean(this.options.captionAuto)){var _23=this.getHeaderValueList();var _24="";var _25="";for(var i=0;i<_23.length;i++){if(_24.length>0){_25=",";}_24=_24+_25+_23[i];}if(this.options.captionTitle){this.setCaption(this.options.captionTitle+$W._m.getMessage("Grid_caption2")+_24+$W._m.getMessage("Grid_caption"));}else{this.setCaption(_24+$W._m.getMessage("Grid_caption"));}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.av.prototype.setDataList=function(){["WebSquare.uiplugin.gridView.prototype.setDataList"];try{if(!this.successBinding){this._dataList=this.modelControl.getDataComp(this.options.dataList);if(this._dataList){this._grid=this;this._dataList.addChild(this);this.successBinding=true;switch(this._dataList.initializeType){case "linkedDataList":this._linkedDataList=this._dataList;this._dataList=this._linkedDataList._dataList;if(this._dataList){this.dataList=new $W._a.ap(this);$W.extend(this,$W._a._n.prototype);}else{this.successBinding=false;this._dataList={};}break;case "dataList":this.dataList=new $W._a.ap(this);this.dataList.mappingCommonAPI();break;}for(var j=0;j<this.oneRowDataLength;j++){this.getCellInfo(j).setDataListCellRefresh(this.getCellInfo(j).element);}if(this.render){this.notifyDataChanged();}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.av.prototype.setAdaptive=function(){["WebSquare.uiplugin.gridView.prototype.setAdaptive"];try{var _27=this.options.adaptive;var _28=parseInt(this.options.adaptiveThreshold)||480;for(keys in this.hideThresholdObj){var _29=parseInt(this.hideThresholdObj[keys]);if(_29>=parseInt(top.document.documentElement.clientWidth||top.document.body.clientWidth)){this.setColumnVisible(keys,false);}else{this.setColumnVisible(keys,true);}}if(_27=="crosstab"){if(!($W._G.isIE()&&parseInt($W._N.browserVersion(),10)<10)){if(parseInt(top.document.documentElement.clientWidth||top.document.body.clientWidth)<=_28){this.addAdaptive();}else{this.removeAdaptive();}}}}catch(e){$W.exception.printStackTrace(e);}};$W._a.av.prototype.addAdaptive=function(){["WebSquare.uiplugin.gridView.prototype.addAdaptive"];try{var _2a=this.options.adaptive;var _2b;if(_2a=="crosstab"){_2b=this.hasFooter?"w2grid_adaptive_crosstab w2grid_adaptive_crosstab_footer":"w2grid_adaptive_crosstab";}for(keys in this.hideThresholdObj){var _2c=parseInt(this.hideThresholdObj[keys]);if(_2c>=parseInt(top.document.documentElement.clientWidth||top.document.body.clientWidth)){this.setColumnVisible(keys,false);}else{this.setColumnVisible(keys,true);}}if(!this.hasClass(_2b)){this.oldOptions["visibleRowNum"]=this.options.visibleRowNum;this.options.visibleRowNum="all";this.adjustDraw(this.lastIndex);this.addClass(_2b);this.setAdaptiveGridBodyHeight();this.setAdaptiveGridHeaderHeight();if(this.hasSubtotal){this.setAdaptiveGridSubtotalHeight();}for(var i=this.defaultColCnt;i<this.hiddenList.length;i++){if(this.hiddenList[i]==true){this.setAdaptiveColumnVisible(i,false);}}if(!this.event.hasEvent(this.id+"_body_tbody","onscroll")){this.event.addListener(this.getElementById(this.id+"_body_tbody"),"onscroll",this.event.bindAsEventListener(this,this.tbodyMoveXScroll));}}if(this.options.adaptiveSlideHeader){var _2e=this.getElementById(this.id+"_head_table");var _2f=this.getElementById(this.id+"_body_tbody");if(!this.slideHeadObj){this.slideHeadObj={};this.slideHeadObj.render=_2e;this.slideHeadObj.headTableWidth=_2e.offsetWidth;this.slideHeadObj.hidden=false;}if(this.slideHeadObj.render.style.position!="absolute"){if(_2f.scrollWidth>_2f.clientWidth+this.slideHeadObj.headTableWidth){this.slideHeadObj.render.style.position="absolute";if(!this.options.adaptiveSlideHeaderOnScroll){$(this.slideHeadObj.render.firstChild).animate({width:"hide"});this.slideHeadObj.hidden=true;}}}else{if(_2f.scrollWidth==_2f.clientWidth){$w.clearTimeout(this.id+"_adaptiveSlideHeader");this.slideHeadObj.render.style.position="";this.slideHeadObj.render.firstChild.style.display="";this.slideHeadObj.hidden=false;}}}}catch(e){$W.exception.printStackTrace(e);}};$W._a.av.prototype.removeAdaptive=function(){["WebSquare.uiplugin.gridView.prototype.removeAdaptive"];try{var _30=this.options.adaptive;var _31;if(_30=="crosstab"){_31=this.hasFooter?"w2grid_adaptive_crosstab w2grid_adaptive_crosstab_footer":"w2grid_adaptive_crosstab";}if(this.options.adaptiveSlideHeader){if(this.slideHeadObj){this.slideHeadObj.render.style.position="";this.slideHeadObj.render.firstChild.style.display="";this.slideHeadObj.hidden=false;}}if(this.hasClass(_31)){this.options.visibleRowNum=this.oldOptions["visibleRowNum"];for(var i=this.defaultColCnt;i<this.hiddenList.length;i++){if(this.hiddenList[i]==true){this.setAdaptiveColumnVisible(i,true);}}this.removeClass(_31);this.removeAdaptiveGridBodyHeight();this.removeAdaptiveGridHeaderHeight();if(this.hasSubtotal){this.removeAdaptiveGridSubtotalHeight();}if(this.options.visibleRowNum!=""){this.focusedCell=[];this.initializeDrawController();this.dataRowList=[];this.drawedRowLength=0;this.lastDisplayedRow=-1;var _33=this.getElementById(this.id+"_body_tbody");while(_33.firstChild){_33.removeChild(_33.firstChild);}if(this.options.senseReader){for(var i=0;i<this.adaptiveEmbeddedInputIdList.length;i++){delete this.dom[this.adaptiveEmbeddedInputIdList[i]];}this.adaptiveEmbeddedInputIdList=[];}this.drawDataTable(0);}this.event.removeEvent(this.id+"_body_tbody","onscroll");}}catch(e){$W.exception.printStackTrace(e);}};$W._a.av.prototype.doAdaptive=function(){["WebSquare.uiplugin.gridView.prototype.doAdaptive"];try{if(this.options.adaptive!=""){return;}this.options.adaptive="crosstab";this.options.adaptiveThreshold="9999999";this.setAdaptive();this.adaptiveDoneBy="doAdaptive";}catch(e){$W.exception.printStackTrace(e);}};$W._a.av.prototype.undoAdaptive=function(){["WebSquare.uiplugin.gridView.prototype.undoAdaptive"];try{if(this.adaptiveDoneBy!="doAdaptive"){return;}this.options.adaptive="crosstab";this.options.adaptiveThreshold="1";this.setAdaptive();this.options.adaptive="";this.options.adaptiveThreshold="";this.adaptiveDoneBy="";}catch(e){$W.exception.printStackTrace(e);}};$W.extend($W._a.av.prototype,$W._a.aY.prototype);$W.extend($W._a.av.prototype,$W._a.aX.prototype);$W.extend($W._a.av.prototype,$W._a.aa.prototype);$W.extend($W._a.av.prototype,$W._a.az.prototype);$W.extend($W._a.av.prototype,$W._a._h.prototype);$W.extend($W._a.av.prototype,$W._a._G.prototype);$W.extend($W._a.av.prototype,$W._a.aS.prototype);$W.extend($W._a.av.prototype,$W._a._g.prototype);$W.extend($W._a.av.prototype,$W._a._w.prototype);$W.extend($W._a.av.prototype,$W._a.bb.prototype);$W.extend($W._a.av.prototype,$W._a.aO.prototype);$W.extend($W._a.av.prototype,$W._a.bq.prototype);$W.extend($W._a.av.prototype,$W._a.ak.prototype);$W.extend($W._a.av.prototype,$W._a.aE.prototype);;WebSquare.uiplugin.gridView=$W._a.av;requires("uiplugin/gridView/gridView.js");$W._a._F=function(id,_2,_3){["WebSquare.uiplugin.grid"];$W._t.call(this,id,_2,_3);};$W.extend($W._a._F.prototype,$W._t.prototype);$W.extend($W._a._F.prototype,$W._a.av.prototype);$W.extend($W._a._F.prototype,$W._a.ap.prototype);$W._a._F.prototype.defaultOptions={useConfig:true,pluginType:"uiplugin.grid",pluginName:"grid",userEvents:["oncellclick","oncelldblclick","onrightbuttonclick","ontextimageclick","oncellindexchange","onrowindexchange","oncolumnindexchange","onfilereadend","onscrollend","onbeforeedit","oneditend","oneditkeydown","onafteredit","onscrolly","onscrollx","onsort","onheaderclick","onheaderrightbuttonclick","onheaderdblclick","onfooterclick","onbodymouseover","ongroupby","onclick","onkeydown","onkeyup"],rowNumVisible:false,rowNumHeaderValue:"",rowNumBackgroundColor:"",rowNumStatusResize:false,rowStatusVisible:false,rowStatusHeaderValue:"",overflowX:"auto",overflowY:"auto",fixedColumn:0,fixedColumnWithHidden:true,fixedRightColumn:0,fixedRow:0,resize:true,baseNode:"vector",repeatNode:"data/INFO",valueNode:"",focusMode:"cell",selectedCellColor:"#FCA73C",selectedRowColor:"#FCA73C",oddEvenColorDisplay:false,oddRowBackgroundColor:"#EFF7FF",evenRowBackgroundColor:"#FFFFFF",rowMouseOver:false,rowMouseOverColor:"#ffff80",selectedCellOverColor:"",selectedRowOverColor:"",editModeEvent:"ondblclick",keyMoveEditMode:false,enterKeyMove:"down",sortable:false,sortOrderReverse:false,showSortableImage:false,preventMultisort:false,useCtrlOnMultisort:true,useCtrlKey:true,sortedImagePosition:"",sortEvent:"ondblclick",tooltipDisplay:false,tooltipDisplayTime:0,tooltipClass:"",tooltipStyle:"",tooltipHide:"click",tooltipShowAlways:false,tooltipFormatter:"",tooltipPositionX:"20",tooltipPositionY:"3+cellHeight",captionTitle:"",captionAuto:false,noResultMessageVisible:false,noResultMessage:"",noResultMessageClass:"",noResultMessageStyle:"",hiddenClass:"",readOnly:"",readOnlyPriority:"",readOnlyBackgroundColor:"",readOnlyBackgroundImg:"",readOnlyBackgroundImgCSS:"",notReadOnlyBackgroundImgCSS:"",readOnlyTabIgnore:false,ignoreNonEditableCell:false,ignoreNonEditableCellTabEnter:false,disabledPriority:"",disabledBackgroundColor:"",disabledFontColor:"",summary:"",footerCaption:"",footerSummary:"",drawLimitTime:70,drawLimitRow:4,loadCount:0,autoFit:"",autoFitMinWidth:"",autoFitFixYScroll:false,fastScroll:"",lazyDrawHiddenColumn:false,defaultCellHeight:-1,hideHeader:false,dataDragDrop:false,dragDisplayColumn:"",dragStartFunction:"",dragEndFunction:"",headFiller:false,focusMove:"true",focusFlow:"default",scrollMsg:"",visibleRowNum:"",fixHeight:false,fastEditMode:false,iScrollMoveEffectTime:500,iScrollSlideTime:800,iScrollSlidePeriod:100,rollbackCommit:true,numberCasting:false,backgroundColorMode:"lazy",senseReader:false,showLastRow:false,autoScope:false,autoResizeEmbeddedInput:false,excelUploadPopupURL:"",advancedExcelUploadPopupURL:"",advancedExcelDownloadPopupURL:"",excelUploadURL:"",excelDownloadURL:"",csvDownloadURL:"",csvUploadPopupURL:"",csvUploadURL:"",advancedExcelUploadURL:"",advancedExcelDownloadURL:"",drilldownRealRowIndex:true,escape:"",fixPrint:false,xmlEncode:false,wheelRows:3,wheelStop:false,scrollByColumn:false,scrollByColumnAdaptive:false,rowNumWidth:"",rowStatusWidth:"",keepDefaultColumnWidth:false,columnMove:false,columnMoveWithFooter:false,columnOrder:"",copyAmount:"",checkReadOnlyOnPaste:false,checkDisabledOnPaste:false,checkBlankRowOnPaste:false,preventCopy:false,preventPaste:false,groupbyZone:false,groupbyListVisibleRowNum:10,groupbyZoneMessage:"",groupbyZoneHeight:"50",groupbyMaxCount:-1,plainText:false,excludeDeletedRows:false,initFixedHeightByRowNum:-1,moveKeyEditMode:false,keepBeforeDisplayData:false,touchScrollDelta:5,useFilterList:false,customFilterListVisibleRowNum:10,useFilterEmptyMsg:"",duplicateColumnId:false,filterFocusMode:"",focusOnSetData:false,focusDefaultColumn:false,scrollFix:false,scrollRowHeight:false,ignoreCellClick:false,ignoreToggleOnDisabled:false,adaptive:"",autoFitFilterList:false,summaryAuto:false,arrowMove:false,filterBoxvisibleRowNum:4,groupbyFilterBox:false,groupbyFilterBoxLocation:"bottom",fixAdaptive:false,groupbyFilterBoxFormatter:""};$W._a._F.prototype.initialize=function(_4){["WebSquare.uiplugin.grid.initialize"];this.firstEmbeddedInputResize=true;this.bodyElement=$W._B.getElementsByTagName(this.element,"gBody",$W._N._XML_NAMESPACE.W2)[0];if(this.bodyElement){this.initializeType="grid";this._grid=this;this.dataList=new $W._a.ap(this);this._dataList=new $W._j.dataList(this.id+"??dataList",this.options,this.bodyElement,"grid");this._dataList.addChild(this);this.successBinding=true;}this.focusedCellInfo={};this.extraData={grid:{},row:[],col:[],cell:[]};this.drilldown=new $W._a._R();if(this.options.focusMove=="false"||this.options.focusMove=="horizontal"){this.options.enterKeyMove="none";}this.date=new Date();this.isDrillDown=false;this.depthColumn="";this.showDepth="";this.removed=false;this.colWidthList=[];this.gridWidth=0;this.resizeStarted=false;this.headerHeight=0;this.footerHeight=0;this.hgap=[];this.autofitColumn=false;this.autofitColumnIndexArr=[];this.autofitColumnWidthArr=[];this.scrollWidthSize=17;this.scrollLayerWidthSize=18;this.hiddenList=[];this.headerFocus=false;this.headerObjArr=[];this.tmpSelectbox=null;this.noevent=false;this.rowIndex=-1;this.lastIndex=-1;this.oelIndex=-1;this.initializeDrawController();this.drawedRowLength=0;this.maxRowLength=0;this.drawSizeChanged=false;this.drawSizeAdded=false;this.isExistTextarea=false;this.bodyHeight=0;this.scrollEvent=true;this.isColMerge=false;this.isColMergeAnd=false;this.upperToLowerColumnRelation={};this.hasSubtotal=false;this.startRowNumber=0;this.dataRowList=[];this.subtotalRowHash={};this.subtotalDataArr=[];this.subtotalObj=[];this.drawSetTimeoutKey=[];this.overElem=null;this.outElem=null;this.hasFooter=false;this.footerDataObj=null;this.drawFooterStatus=true;this.bScrollTop=-1;this.bScrollY=0;this.drawedTime=0;this.defaultColCnt=0;if(this.options.rowNumVisible){this.defaultColCnt++;}if(this.options.rowStatusVisible){this.defaultColCnt++;}this.loadCheck=[];this.beforeDataLength=-1;this.beforeMaxRowLength=-1;this.editEnd=false;this.lastOverSrc=null;this.headerInfoHash={};this.headerInfoHash2={};this.cellInfoHash={};this.cellInfoHash2={};this.expressionAssArr=[];this.rowStyleValueObj=[];this.columnStyleValueObj=[];this.cellStyleValueObj=[];this.adaptiveColumnStyleValueObj=[];this.headerCellStyleValueObj={};this.rowStyleIndex=0;this.cellStyleIndex=0;this.rowStyleArr=[];this.columnStyleArr=[];this.cellStyleArr=[];this.rowReadOnlyArr=[];this.cellReadOnlyArr=[];this.rowDisabledArr=[];this.cellDisabledArr=[];this.focusedCell=[];this.focusedRow=[];this.headerToBodyRelation={};this.bodyToHeaderRelation={};this.passiveColSpanRelation={};this.colMoveBolockedHeaderObj={};this.backupHeaderHTML={};this.expressionHeaderInfo={};this.columnOrder=[];this.isIE6=$W._G.isIE("6");if(document.compatMode=="BackCompat"){this.isIE6=true;}this.isIE7=$W._G.isIE("7");this.isIE6or7=(this.isIE6||this.isIE7);this.isMobile=$W._G.isMobile();this.isWebKit=/webkit/.test(navigator.userAgent.toLowerCase());this.tmpCnt=0;this.initFlag=false;this.options.rowNumBackgroundColor=this.options.rowNumBackgroundColor.wq_trim();this.options.selectedCellColor=this.options.selectedCellColor.wq_trim();this.options.selectedRowColor=this.options.selectedRowColor.wq_trim();this.options.oddRowBackgroundColor=this.options.oddRowBackgroundColor.wq_trim();this.options.evenRowBackgroundColor=this.options.evenRowBackgroundColor.wq_trim();this.options.rowMouseOverColor=this.options.rowMouseOverColor.wq_trim();this.options.readOnlyBackgroundColor=this.options.readOnlyBackgroundColor.wq_trim();this.options.disabledBackgroundColor=this.options.disabledBackgroundColor.wq_trim();this.options.disabledFontColor=this.options.disabledFontColor.wq_trim();if(this.options.senseReader){this.options.focusFlow="linear";this.options.showLastRow=true;if(this.element&&this.element.getAttribute("autoScope")!="false"){this.options.autoScope=true;}this.senseReaderMode=true;}this.embeddedWidthObj={};if(this.options.sortable&&this.options.sortHeaderDiv){this.options.showSortableImage=true;this.options.sortEvent="onclick";}this.radioGroupRepChk={};this.options.excelUploadPopupURL=this.options.excelUploadPopupURL||$W.baseURI+"uiplugin/grid/upload/fileUpload.html";this.options.advancedExcelUploadPopupURL=this.options.advancedExcelUploadPopupURL||$W.baseURI+"uiplugin/grid/upload/advancedfileUpload.html";this.options.advancedExcelDownloadPopupURL=this.options.advancedExcelDownloadPopupURL||$W.baseURI+"uiplugin/grid/download/advancedfileDownload.html";this.options.excelUploadURL=this.options.excelUploadURL||$W.baseServletURI+"excelToGrid.wq";this.options.excelDownloadURL=this.options.excelDownloadURL||$W.baseServletURI+"xmlToExcel.wq";this.options.csvDownloadURL=this.options.csvDownloadURL||$W.baseServletURI+"xmlToCSV.wq";this.options.csvUploadURL=this.options.csvUploadURL||$W.baseServletURI+"csvToXML.wq";this.options.csvUploadPopupURL=this.options.csvUploadPopupURL||$W.baseServletURI+"uiplugin/grid/upload/csvfileUpload.html";this.options.advancedExcelUploadURL=this.options.advancedExcelUploadURL||$W.baseServletURI+"excelToGrid2.wq";this.options.advancedExcelDownloadURL=this.options.advancedExcelDownloadURL||$W.baseServletURI+"xmlToExcel2.wq";this.groupbyStatus={};this.groupbyZoneStatus={};this.groupbyDisplayOptions={};this.directItemChoiceKeyObj={};this.rowStatusColIDArr=[];this.cellIdList=[];this.firstOpenCustomFilter={};this.customFilterStatusObj={};this.hiddenAdaptiveList=[];this.adaptiveEmbeddedInputIdList=[];this.hideThresholdObj={};this.orgBodyHeightObj={};this.orgHeaderHeightObj={};this.orgFooterHeightObj={};this.orgSubtotalHeightObj={};this.oldOptions={};this.adaptiveGridType=0;this.tooltipPositionParse=false;this.oneRowScrollHeight=20;this.beforeEditedCellInfo=null;this.options.noResultMessage=this.options.noResultMessage||$W._m.getMessage("Grid_noResultMessage")||"\uc870\ud68c \uacb0\uacfc\uac00 \uc5c6\uc2b5\ub2c8\ub2e4.";this.options.scrollMsg=this.options.scrollMsg||$W._m.getMessage("Grid_scrollMsg")||"\ud654\uba74 \uac31\uc2e0 \uc911 \uc785\ub2c8\ub2e4...";this.cellMergeInfo={};this.tdMergeInfo={};};$W._a._F.prototype.setPreAction=function(){["WebSquare.uiplugin.grid.setPreAction"];try{var _5=this.render.offsetWidth;var _6=this.render.offsetHeight;if(this.startedDisplayNone){this.initFlag=true;this.initializeHead();this.initializeFooter();this.drawFooter();this.drawHeader();return;}this.resizeObj={width:_5,height:_6,scrollLeft:0,scrollTop:0,clientWidth:this.render.clientWidth};var _7=this.getElementById(this.id+"_head_table");var _8=_7.getElementsByTagName("tr");var _9=_8[_8.length-1];var _a=this.getElementById(this.id+"_body_table");this.gridLastTrBottomFix=_a.offsetHeight-_9.offsetTop-_9.offsetHeight;this.setTableLayout();this._handleScrollX();this.setCellInfo();this.setDataListCellInfo();if(this.isDrillDown==true){this.initDrilldown();}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._F.prototype.setAction=function(){["WebSquare.uiplugin.grid.setAction"];try{this.initializeEvent();if(this.options.columnOrder){this.setColumnOrder(this.options.columnOrder);}if(this.options.groupbyZone){this.groupbyZoneStatus.groupbyZoneRender=this.dom[this.id+"_groupbyZone_div"];var _b=this.options.groupbyZoneHeight.match("%")!=null;var _c=(_b)?this.options.groupbyZoneHeight:this.options.groupbyZoneHeight+"px";this.groupbyZoneStatus.groupbyZoneRender.style.height=_c;if(_b){this.groupbyZoneStatus.groupbyZoneRender.style.height=this.groupbyZoneStatus.groupbyZoneRender.offsetHeight+"px";}var _d=$W._H.getStyle(this.groupbyZoneStatus.groupbyZoneRender,"border-left-width").replace("px","");this.groupbyZoneStatus.groupbyZoneBorder=_d*2;this.groupbyZoneStatus.groupbyZoneRender.style.width=(this.resizeObj.clientWidth-this.groupbyZoneStatus.groupbyZoneBorder)+"px";this.dom[this.id+"_main_div"].style.top=this.groupbyZoneStatus.groupbyZoneRender.offsetHeight+"px";this.dom[this.id+"_scrollY_div"].style.top="0px";if(this.options.groupbyZoneMessage){var _e=document.createElement("div");_e.innerHTML+=this.options.groupbyZoneMessage;_e.className+=" w2grid_groupbyZone_message ";this.groupbyZoneStatus.groupbyZoneRender.appendChild(_e);_e.style.marginTop=-_e.offsetHeight/2+"px";_e.style.marginLeft=-_e.offsetWidth/2+"px";this.groupbyZoneStatus.groupbyZoneMessageRender=_e;}}if(this.options.hideHeader){var _f=this.getDomList("head_tds","th",this.getElementById(this.id+"_head_table"));this.backUpHeadClass=_f[0].className;}if(!this.startedDisplayNone&&this.options.focusOnSetData){this.setFocusedCell(0,0);}if(!this.startedDisplayNone&&this.checkAdaptiveGridType()){if(this.options.adaptive!=""||Object.keys(this.hideThresholdObj).length!=0){this.oldOptions["headerColBorder"]="";this.oldOptions["bodyColBorder"]="";this.setAdaptive();if(!($W._G.isMobile()&&this.options.fixAdaptive)){this.event.addListener(window,"onresize",this.event.bindAsEventListener(this,this.setAdaptive));}}}this.changeCount=0;}catch(e){$W.exception.printStackTrace(e,null,this);}};;WebSquare.uiplugin.grid=$W._a._F;$W._a._M=function(id,_2,_3){["WebSquare.uiplugin.generator"];$W._t.call(this,id,_2,_3);};$W.extend($W._a._M.prototype,$W._t.prototype);$W._a._M.prototype.defaultOptions={pluginType:"uiplugin.generator",pluginName:"generator"};$W._a._M.prototype.initialize=function(_4){["WebSquare.uiplugin.generator.initialize"];this.idCounter=0;this.dynamicCreateHash=$W._G.isIE()?{"tbody":true,"thead":true,"tfoot":true,"tr":true}:{};this.passHash={"script":true,"label":true,"value":true,"choices":true,"item":true,"itemset":true,"attributes":true};if(_4.nodeType==1&&!this.id){this.id=_4.getAttribute("id");}this.tagName=this.element.getAttribute("tagname")||"div";};$W._a._M.prototype.toHTML=function(){["WebSquare.uiplugin.generator.toHTML"];try{var _5=[];var _6=this.element.attributes;_5.push("<"+this.tagName);if(_6){for(var i=0;i<_6.length;i++){if(_6[i].name=="id"){var _8=(this.id)?" id='"+this.id+"'":" id='"+($W.nodeValueDeprecated?_6[i].value:_6[i].nodeValue)+"'";_5.push(_8);}else{if(_6[i].name!="tagname"){var _8="";if($W.nodeValueDeprecated){_8=(_6[i].value=="")?"":" "+_6[i].name+"='"+_6[i].value+"'";}else{_8=(_6[i].nodeValue=="")?"":" "+_6[i].name+"='"+_6[i].nodeValue+"'";}_5.push(_8);}}}}_5.push(">");_5.push("</"+this.tagName+">");return _5.join("");}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._M.prototype.setAction=function(){["WebSquare.uiplugin.generator.setAction"];try{this.itemCnt=0;this.generatedIndexSet=[];this.generatedElementSet=[];}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._M.prototype.setChildElement=function(_9,_a,_b){["WebSquare.uiplugin.generator.setChildElement"];try{if(_9.nodeType==1){var _c=_9.nodeName.split(":");var _d=_c[_c.length-1];if(!this.passHash[_d]){var _e="";if(this.scope_obj&&this.org_id!=undefined){_e=this.org_id+"_"+_a+"_";}else{_e=this.id+"_"+_a+"_";}var id=_9.getAttribute("id")||"";var ref=_9.getAttribute("ref");var _11=_9.getAttribute("label");_9.setAttribute("g_index",_a);if(_9.tagName=="w2:tag"&&id==""){id="w2generator_"+this.idCounter++;}if(id){_9.setAttribute("original_id",id);if(_9.tagName!="w2:listColumn"){_9.setAttribute("id",_e+id);}}if(_11){_9.setAttribute("org_label",_11);_9.setAttribute("label",$W._B.encode(_11));}if(_b&&ref){_9.setAttribute("original_ref",ref);_9.setAttribute("ref",_b+"/"+ref);}if(_9.tagName=="w2:generator"){var _12=_9.getAttribute("nodeset");if(_b&&_12){_9.setAttribute("original_nodeset",_12);_9.setAttribute("nodeset",_b+"/"+_12);}}else{for(var i=0;i<_9.childNodes.length;i++){this.setChildElement(_9.childNodes[i],_a,_b);}}}}}catch(e){$W.exception.printStackTrace(e);}};$W._a._M.prototype.restoreChildElement=function(_14){["WebSquare.uiplugin.generator.restoreChildElement"];try{if(_14.nodeType==1){var _15=_14.nodeName.split(":");var _16=_15[_15.length-1];if(!this.passHash[_16]){var _17=_14.getAttribute("original_id");var _18=_14.getAttribute("original_ref");var _19=_14.getAttribute("org_label");_14.removeAttribute("g_index");if(_17){_14.setAttribute("id",_17);_14.removeAttribute("original_id");}if(_18){_14.setAttribute("ref",_18);_14.removeAttribute("original_ref");}if(_19){_14.setAttribute("label",_19);_14.removeAttribute("original_label");}if(_14.tagName=="w2:generator"){var _1a=_14.getAttribute("original_nodeset");if(_1a){_14.setAttribute("nodeset",_1a);_14.removeAttribute("original_nodeset");}}else{for(var i=0;i<_14.childNodes.length;i++){this.restoreChildElement(_14.childNodes[i]);}}}}}catch(e){$W.exception.printStackTrace(e);}};$W._a._M.prototype.getLength=function(){return this.generatedIndexSet.length;};$W._a._M.prototype.getChild=function(_1c,id){var _1e=this.generatedIndexSet[_1c];var _1f=this.id+"_"+_1e+"_"+id;return $W._G.getComponentById(_1f)||document.getElementById(_1f);};$W._a._M.prototype.insertChild=function(_20){return this.insert(_20);};$W._a._M.prototype.insert=function(_21){["WebSquare.uiplugin.generator.insert"];try{if(typeof _21=="number"&&this.generatedElementSet[_21]!=null){var _22=0;for(var i=0;i<_21;i++){_22+=this.generatedElementSet[i].length;}this.targetNode=this.render.childNodes[_22];}var _24=[];for(var i=0;i<this.element.childNodes.length;i++){var _25=this.element.childNodes[i];this.setChildElement(_25,this.itemCnt);var _26=$W.controlFactory.create(null,null,_25,this.scope_obj,this.parentFrame);if(_26){this.addControl(_26);if(this.dynamicCreateHash[this.tagName]){this.dynamicAppend(this.render,_26,_21);}else{if(_25.nodeType==3){_26.render=document.createTextNode(_25.nodeValue);(this.targetNode)?this.render.insertBefore(_26.render,this.targetNode):this.render.appendChild(_26.render);}else{$W._t.prototype.writeTo.call(_26,this,_21);_26.activate();_26.onComplete();}}}this.restoreChildElement(_25);if(_26){_24.push(_26);}}(typeof _21=="number")?this.generatedIndexSet.splice(_21,0,this.itemCnt):this.generatedIndexSet.push(this.itemCnt);(typeof _21=="number")?this.generatedElementSet.splice(_21,0,_24):this.generatedElementSet.push(_24);this.targetNode=null;var _27=this.itemCnt;this.itemCnt++;return _27;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._M.prototype.dynamicAppend=function(_28,_29,_2a){["WebSquare.uiplugin.generator.dynamicAppend"];try{var _2b=_29.toHTML();var _2c=_2b.match(/(<)([^ >\/]*)/);var _2d=(_2c&&_2c[2])?_2c[2]:null;if(_2d){var _2e=document.createElement(_2d);var _2f=$W._B.parse(_2b);var _30=$W.WebSquareparser.parseAttribute(_2f.documentElement);try{for(var _31 in _30){if(_31=="style"){_2e.style.cssText=_30[_31];}else{if(_31=="className"){_2e.className=_30[_31];}else{_2e.setAttribute(_31,_30[_31]);}}}}catch(e){$W.exception.printStackTrace(e,null,this);}if(typeof _2a=="number"&&this.targetNode){_28.insertBefore(_2e,this.targetNode);_29.activate();_29.onComplete();}else{_28.appendChild(_2e);_29.activate();_29.onComplete();}if(_29.childControlList.length==0){for(var i=0;i<_2f.documentElement.childNodes.length;i++){var _33=_2f.documentElement.childNodes[i];var _34=$W.controlFactory.create(null,null,_33);if(_34){_29.addControl(_34);}}}for(var i=0;i<_29.childControlList.length;i++){var _34=_29.childControlList[i];if(_34.element.nodeType==3){_2e.appendChild(document.createTextNode(_34.element.data));}else{if(this.dynamicCreateHash[_2d]){this.dynamicAppend(_2e,_34);}else{$W._t.prototype.writeTo.call(_34,_2e);_34.activate();_34.onComplete();}}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._M.prototype.removeChild=function(_35){if(_35==null){_35=this.generatedElementSet.length-1;}return this.remove(_35);};$W._a._M.prototype.remove=function(_36){if(_36==null){$W._t.prototype.remove.call(this);return;}else{if(typeof _36!="number"||!this.generatedElementSet[_36]){return;}}for(var i=0;i<this.generatedElementSet[_36].length;i++){var _38=this.generatedElementSet[_36][i];if(_38.remove){_38.remove();}}var _39=this.generatedIndexSet.splice(_36,1);this.generatedElementSet.splice(_36,1);return _39;};$W._a._M.prototype.removeAll=function(){for(var i=this.childControlList.length-1;i>=0;i--){if(this.childControlList[i].remove){this.childControlList[i].remove();}}$W.removeChildren(this.render);this.generatedIndexSet=[];this.generatedElementSet=[];this.itemCnt=0;};$W._a._M.prototype.getIndexArray=function(){return this.generatedIndexSet.slice(0);};$W._a._M.prototype.setStyle=function(_3b,_3c){["WebSquare.uiplugin.generator.prototype.setStyle"];try{if(!this.render){return;}$W._H.setStyle(this.render,_3b,_3c);if(_3b=="width"||_3b=="height"){var _3d=this.getChildren();var _3e=this.getChildrenCount();for(i=0;i<_3e;i++){_3d[i].render.style[_3b]=_3c;}}}catch(e){$W.exception.printStackTrace(e);}};;WebSquare.uiplugin.generator=$W._a._M;requires("uiplugin/control/cssCustomizer.js");$W._a.aP=function(id,_2,_3){["WebSquare.uiplugin.scrollView"];$W._t.call(this,id,_2,_3);};$W.extend($W._a.aP.prototype,$W._t.prototype);$W.extend($W._a.aP.prototype,$W.cssCustomizer.prototype);$W._a.aP.prototype.defaultOptions={useConfig:true,pluginType:"uiplugin.scrollView",pluginName:"scrollView",userEvents:["onscroll","onscrollbottom"],parseChild:true,verticalScroll:true,horizontalScroll:false,bounce:true,paging:false,showVerticalScroll:true,showHorizontalScroll:true,slideDuration:1200,resilienceDuration:500,pagingDuration:300,slidePeriod:15,scrollTop:0,scrollLeft:0,scrollType:"mobile",resizeAutoScroll:false,css3d:false,fadeOutScrollBar:true,eventSmoothing:true,overScrollGlow:false,dragScrollSize:50,slideThreshold:5};$W._a.aP.prototype.initialize=function(_4){this.isMobile=$W._G.isMobile();this.isAndroid=/android/.test(navigator.userAgent.toLowerCase());this.transformArr=["-webkit-transform",":","translate3d(",,"px, ",,"px, 0px) scale(1)"];this.support3D="WebKitCSSMatrix" in window&&"m11" in new WebKitCSSMatrix();this.fingerTop=0;this.fingerLeft=0;this.scrollLock=false;this.measureDrawTime=false;$W.dragdrop2.scrollable[this.uuid]={"scroll":false};};$W._a.aP.prototype.toHTML=function(){["WebSquare.uiplugin.scrollView.toHTML"];try{var _5=[];var _6=this.getChildren();var _7=this.options.className;var _8="";var _9=(this.options.style=="")?"":"style='"+this.options.style+"'";if(!this.isMobile&&this.options.scrollType=="auto"){_7+=" nativeScroll";}else{if(this.options.scrollType=="accessibility"){_7+=" nativeScroll";}else{_8=" style='width: 100%;height: 100%;overflow: hidden'";}}_5.push("<div id='"+this.id+"' "+_9+" class='w2scrollView "+_7+"'>");_5.push("<div id='"+this.id+"_container' class='w2scrollView_container'"+_8+">");for(var i=0;i<_6.length;i++){_5.push(_6[i].toHTML());}_5.push("</div>");_5.push("<div id='"+this.id+"_iScrollX' class='w2scrollView_iScrollX' style='visibility:hidden;left:0px;'></div>");_5.push("<div id='"+this.id+"_iScrollY' class='w2scrollView_iScrollY' style='visibility:hidden;top:0px;'></div>");_5.push("<div id='"+this.id+"_overScrollTop' class='w2scrollView_overScrollTop' style='display:none;top:0px;'></div>");_5.push("<div id='"+this.id+"_overScrollBottom' class='w2scrollView_overScrollBottom' style='display:none;bottom:0px;'></div>");_5.push("</div>");return _5.join("");}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aP.prototype.setAction=function(){this.dom.container=this.getElementById(this.id+"_container");this.dom.iScrollX=this.getElementById(this.id+"_iScrollX");this.dom.iScrollY=this.getElementById(this.id+"_iScrollY");this.dom.overScrollTop=this.getElementById(this.id+"_overScrollTop");this.dom.overScrollBottom=this.getElementById(this.id+"_overScrollBottom");this.iScroll={prevTouches:[]};if(this.isMobile){this.event.addListener(this.render,"ontouchstart",this.event.bindAsEventListener(this,this.handleTouchStart));this.event.addListener(this.render,"ontouchmove",this.event.bindAsEventListener(this,this.handleTouchMove));this.event.addListener(this.render,"ontouchend",this.event.bindAsEventListener(this,this.handleTouchEnd));}else{if(this.options.scrollType!="auto"&&this.options.scrollType!="accessibility"){this.event.addListener(this.render,"onmousedown",this.event.bindAsEventListener(this,this.handleTouchStart));this.event.addListener(document.documentElement,"onmousemove",this.event.bindAsEventListener(this,this.handleTouchMove));this.event.addListener(document.documentElement,"onmouseup",this.event.bindAsEventListener(this,this.handleTouchEnd));this.event.addListener(document.documentElement,"onmouseout",this.event.bindAsEventListener(this,this.handleMouseOut));this.event.addListener(this.render,"onselectstart",this.event.bindAsEventListener(this,function(e){$W._c.preventDefault(e);}));}}this.iScrollXHeight=parseInt(1.5*this.dom.iScrollX.offsetHeight,10);this.iScrollYWidth=parseInt(1.5*this.dom.iScrollY.offsetWidth,10);this.checkResize();this._scrollTo(this.options.scrollLeft,this.options.scrollTop);this.measureDrawTime=true;};$W._a.aP.prototype.setIScroll=function(){["WebSquare.uiplugin.scrollView.prototype.setIScroll"];try{if(this.options.verticalScroll&&this.options.showVerticalScroll){var _c=this.render.clientHeight;var _d=this.dom.container.scrollHeight;if(_d>_c){if(this.options.horizontalScroll){_c-=this.iScrollXHeight;}var _e=this.getMaxScrollTop();var _f=parseInt(_c*_c/_d,10);_f=_f<30?30:_f;var _10=parseInt(this.getScrollTop()*(_c-_f)/_e,10);if(_10<0){_f+=_10;_10=0;}else{if(_10+_f>=_c){_f=_c-_10;}}if(this.options.css3d&&this.support3D){this.transformArr[3]=0;this.transformArr[5]=_10;this.dom.iScrollY.style[this.transformArr[0]]=this.transformArr.slice(2).join("");}else{this.dom.iScrollY.style.top=_10+"px";}this.dom.iScrollY.style.height=_f+"px";this.dom.iScrollY.style.visibility="visible";}else{this.dom.iScrollY.style.visibility="hidden";}}if(this.options.horizontalScroll&&this.options.showHorizontalScroll){var _11=this.render.clientWidth;var _12=this.dom.container.scrollWidth;if(_12>_11){if(this.options.verticalScroll){_11-=this.iScrollYWidth;}var _13=this.getMaxScrollLeft();var _14=parseInt(_11*_11/_12,10);_14=_14<30?30:_14;var _15=parseInt(this.getScrollLeft()*(_11-_14)/_13,10);if(_15<0){_14+=_15;_15=0;}else{if(_15+_14>=_11){_14=_11-_15;}}if(this.options.css3d&&this.support3D){this.transformArr[3]=_15;this.transformArr[5]=0;this.dom.iScrollX.style[this.transformArr[0]]=this.transformArr.slice(2).join("");}else{this.dom.iScrollX.style.left=_15+"px";}this.dom.iScrollX.style.width=_14+"px";this.dom.iScrollX.style.visibility="visible";}else{this.dom.iScrollX.style.visibility="hidden";}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aP.prototype.checkResize=function(){["WebSquare.uiplugin.scrollView.prototype.checkResize"];try{var _16=this.render.clientHeight;var _17=this.render.clientWidth;var _18=this.dom.container.scrollHeight;var _19=this.dom.container.scrollWidth;if(!this.sizeBackup||this.sizeBackup.renderWidth!=_17||this.sizeBackup.renderHeight!=_16||this.sizeBackup.scrollWidth!=_19||this.sizeBackup.scrollHeight!=_18){this.sizeBackup={renderWidth:_17,renderHeight:_16,scrollWidth:_19,scrollHeight:_18};var _1a=parseInt(this.dom.container.style.top||0,10);if(this.isSliding&&_1a){this.stopSlide();this._scrollTo(null,this.dom.container.scrollTop-_1a);}var _1b=this.getScrollLeft();var _1c=this.getScrollTop();var _1d=this.getMaxScrollLeft();var _1e=this.getMaxScrollTop();if(this.options.resizeAutoScroll&&this.sizeBackup){var el=document.activeElement;var _20=el;while(_20=_20.parentNode){if(_20==this.render){break;}}if(_20){var _21=$W._H.getAbsoluteTop(el);var _22=$W._H.getAbsoluteTop(this.render);var _23=_1c;if(_21<_22){_23-=_22-_21;}else{if(_21+el.offsetHeight>_22+_16){_23+=(_21+el.offsetHeight)-(_22+_16);}}if(_23!==_1c&&_23>=0&&_23<=_1e){this._scrollTo(null,_23);}}}if(_1b>_1d||_1c>_1e){this.stopSlide();this._scrollTo(_1b<_1d?_1b:_1d,_1c<_1e?_1c:_1e);}this.setIScroll();}$W._N.setTimer(this.checkResize,{key:this.id+"_checkResize",caller:this,delay:100});}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aP.prototype.iScrollAddMoveClass=function(){if(this.options.fadeOutScrollBar){$W._N.clearTimer(this.id+"_iScrollRemoveClass");$W._H.setStyle(this.dom.iScrollX,"opacity","1");$W._H.setStyle(this.dom.iScrollY,"opacity","1");}this.__addClass(this.dom.iScrollX,"w2scrollView_iScrollX_move");this.__addClass(this.dom.iScrollY,"w2scrollView_iScrollY_move");};$W._a.aP.prototype.iScrollRemoveMoveClass=function(){if(this.options.fadeOutScrollBar){$W._H.animate([this.dom.iScrollX,this.dom.iScrollY],{opacity:0},{key:this.id+"_iScrollRemoveClass",duration:500,easing:"ease-out",caller:this,complete:function(){this.__removeClass(this.dom.iScrollX,"w2scrollView_iScrollX_move");this.__removeClass(this.dom.iScrollY,"w2scrollView_iScrollY_move");}});}else{this.__removeClass(this.dom.iScrollX,"w2scrollView_iScrollX_move");this.__removeClass(this.dom.iScrollY,"w2scrollView_iScrollY_move");}};$W._a.aP.prototype.scrollTo=function(_24,_25,_26){this.stopSlide();var _26=_26||{};_26.duration=(_26.duration==undefined)?500:_26.duration;_26.timingFunction=_26.timingFunction||"ease";if(this.options.horizontalScroll&&typeof _24=="number"){_26.initX=this.getScrollLeft();_26.finishX=_24;}if(this.options.verticalScroll&&typeof _25=="number"){_26.initY=this.getScrollTop();_26.finishY=_25;}this.iScroll.prevTouches=[];this.isSliding=true;this.setIScroll();this.iScrollAddMoveClass();var _27=_26.delay||0;if(_27<=0){this.slide(_26);}else{$W._N.setTimer(this.slide,{key:this.id+"_iScroll_slide",caller:this,delay:_27,args:[_26]});}};$W._a.aP.prototype._scrollTo=function(_28,_29){if(this.measureDrawTime){$W._N.measureTime(function(_2a){this.options.slidePeriod=parseInt(_2a.aver,10);},{key:this.id+"_measureDrawTime",caller:this});}var _28=parseInt(_28,10);var _29=parseInt(_29,10);var _2b=this.getScrollLeft();var _2c=this.getScrollTop();var _2d=this.getMaxScrollLeft();var _2e=this.getMaxScrollTop();_28=!isNaN(_28)?_28:_2b;_29=!isNaN(_29)?_29:_2c;if(_28!=_2b||_29!=_2c){$W.getBody().getLayerListener().hideAll();if(this.options.css3d&&this.support3D){this.transformArr[3]=-_28;this.transformArr[5]=-_29;this.dom.container.style.cssText=this.transformArr.join("");}else{var _2f=_28;var _30=0;var _31=_29;var _32=0;if(_28<0){_2f=0;_30=-_28;}else{if(_2d<_28){_2f=_2d;_30=-(_28-_2d);}}if(_29<0){_31=0;_32=-_29;}else{if(_2e<_29){_31=_2e;_32=-(_29-_2e);}}this.dom.container.scrollLeft=_2f;this.dom.container.scrollTop=_31;this.dom.container.style.left=_30+"px";this.dom.container.style.top=_32+"px";}this.options.scrollLeft=_28;this.options.scrollTop=_29;this.setIScroll();$W._c.fireEvent(this,"onscroll",_28,_29);if(!this.scrollBottom&&_29>=_2e){this.scrollBottom=true;$W._c.fireEvent(this,"onscrollbottom");}}};$W._a.aP.prototype.scrollBy=function(_33,_34,_35){this.stopSlide(true);var _33=_33||0;var _34=_34||0;var _36=this.getScrollLeft();var _37=this.getScrollTop();this.scrollTo(_36+_33,_37+_34,_35);};$W._a.aP.prototype.resetScrollBottom=function(){this.scrollBottom=false;};$W._a.aP.prototype.slide=function(_38){["WebSquare.uiplugin.scrollView.slide"];try{$W._N.clearTimer(this.id+"_iScroll_slide");var _39=this.render.clientWidth;var _3a=this.render.clientHeight;var _3b=this.dom.container.scrollWidth;var _3c=this.dom.container.scrollHeight;var _3d=this.getScrollTop();var _3e=this.getScrollLeft();var _3f=this.getMaxScrollTop();var _40=this.getMaxScrollLeft();(_38.endTime==undefined)&&(_38.endTime=new Date().getTime()+_38.duration);(_38.slidePeriod==undefined)&&(_38.slidePeriod=this.options.slidePeriod);var _41=_38.initX==null?_3e:_38.initX;var _42=_38.initY==null?_3d:_38.initY;var _43=_38.finishX==null?_3e:_38.finishX;var _44=_38.finishY==null?_3d:_38.finishY;var _45=_38.duration;var t=new Date().getTime()-(_38.endTime-_45);if(this.forceToStopSlide){t=_45;}(_41<0&&2*_41<_43&&_43<0)&&(_43=0);(_42<0&&2*_42<_44&&_44<0)&&(_44=0);(_41>_40&&_40<_43&&_43<2*_41-_40)&&(_43=_40);(_42>_3f&&_3f<_44&&_44<2*_42-_3f)&&(_44=_3f);var _47=$W._H.cubicBezierAtTime(t/_45,_38.timingFunction,_45/1000);var x=_41+(_43-_41)*_47;var y=_42+(_44-_42)*_47;if(this.options.bounce){if(!_38.xResilience&&((x<0&&_43<0)||(_40<x&&_40<_43))){_38.xResilience=true;(x<-_39/2)&&(x=-_39/2);(x>_40+_39/2)&&(x=_40+_39/2);if(_43<-_39){_41=x;_43=-_39;}else{if(_43>_40+_39){_41=x;_43=_40+_39;}}if(_43<0){_38.turningPointX=_43/2;}else{if(_43>_40){_38.turningPointX=_40+(_43-_40)/2;}}}if(!_38.yResilience&&((y<0&&_44<0)||(_3f<y&&_3f<_44))){_38.yResilience=true;(y<-_3a/2)&&(y=-_3a/2);(y>_3f+_3a/2)&&(y=_3f+_3a/2);if(_44<-_3a){_42=y;_44=-_3a;}else{if(_44>_3f+_3a){_42=y;_44=_3f+_39;}}if(_44<0){_38.turningPointY=_44/2;}else{_38.turningPointY=_3f+(_44-_3f)/2;}}if(_38.xResilience){if((x<_38.turningPointX&&_43<0)||(x>_38.turningPointX&&_43>0)){x=-x+2*_38.turningPointX;}}if(_38.yResilience){if((y<_38.turningPointY&&_44<0)||(y>_38.turningPointY&&_44>0)){y=-y+2*_38.turningPointY;}}}else{(x<0)&&(x=0);(x>_40)&&(x=_40);(y<0)&&(y=0);(y>_3f)&&(y=_3f);var _4a=(_43==x)||(_43<=0&&x<=0)||(_43>=_40&&x>=_40);var _4b=(_44==y)||(_44<=0&&y<=0)||(_44>=_3f&&y>=_3f);var _4c=this.options.horizontalScroll;var _4d=this.options.verticalScroll;if(_4c&&_4d&&_4a&&_4b){t=_45;}else{if(_4c&&!_4d&&_4a){t=_45;}else{if(!_4c&&_4d&&_4b){t=_45;}}}}_38.initX=_41;_38.initY=_42;_38.finishX=_43;_38.finishY=_44;if(t>=_45){x=_38.finishX;y=_38.finishY;(x<0)&&(x=0);(x>_40)&&(x=_40);(y<0)&&(y=0);(y>_3f)&&(y=_3f);this._scrollTo(x,y);this.stopSlide();var _4e=true;if(this.dom.overScrollTop.style.display!="none"&&this.dom.overScrollTop.offsetTop>=-this.dom.overScrollTop.offsetHeight){_4e=false;}else{if(this.dom.overScrollBottom.style.display!="none"&&this.dom.overScrollBottom.offsetTop<this.render.clientHeight){_4e=false;}}this.hideOverScrollGlow(_4e);}else{this._scrollTo(x,y);$W._N.setTimer(this.slide,{key:this.id+"_iScroll_slide",caller:this,delay:_38.slidePeriod,args:[_38]});}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aP.prototype.stopSlide=function(_4f){["WebSquare.uiplugin.scrollView.stopSlide"];try{if(this.isSliding){this.isSliding=false;this.forceToStopSlide=_4f;$W._N.clearTimer(this.id+"_iScroll_slide",_4f);this.forceToStopSlide=null;this.iScrollRemoveMoveClass();}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aP.prototype.getSlideFactor=function(_50,_51){var c=this.isMobile?0.3:1;return parseInt(c*_50/100*_51,10);};$W._a.aP.prototype.hideOverScrollGlow=function(_53){if(!this.options.bounce&&this.options.overScrollGlow){var _54=this;var _55=this.getScrollTop();if(_53){if(_55==0){$W._H.show(this.dom.overScrollTop);$W._H.setStyle(this.dom.overScrollTop,"top",-this.dom.overScrollTop.offsetHeight+"px");$W._H.animate(this.dom.overScrollTop,{top:0},{key:this.id+"_hideOverScrollGlowWithGlow",easing:"ease-in",duration:300,complete:function(){_54.hideOverScrollGlow();}});}else{if(_55==this.getMaxScrollTop()){$W._H.show(this.dom.overScrollBottom);$W._H.setStyle(this.dom.overScrollBottom,"bottom",-this.dom.overScrollBottom.offsetHeight+"px");$W._H.animate(this.dom.overScrollBottom,{bottom:0},{key:this.id+"_hideOverScrollGlowWithGlow",easing:"ease-in",duration:300,complete:function(){_54.hideOverScrollGlow();}});}}}else{if(this.dom.overScrollTop.style.display!="none"&&this.dom.overScrollTop.offsetTop>=-this.dom.overScrollTop.offsetHeight){$W._H.animate(this.dom.overScrollTop,{top:-this.dom.overScrollTop.offsetHeight},{key:this.id+"_hideOverScrollGlow",easing:"ease-out",duration:300,complete:function(){$W._H.hide(_54.dom.overScrollTop);}});}else{if(this.dom.overScrollBottom.style.display!="none"&&this.dom.overScrollBottom.offsetTop<this.render.clientHeight){$W._H.animate(this.dom.overScrollBottom,{bottom:-this.dom.overScrollBottom.offsetHeight},{key:this.id+"_hideOverScrollGlow",easing:"ease-out",duration:300,complete:function(){$W._H.hide(_54.dom.overScrollBottom);}});}}}}};$W._a.aP.prototype.setScrollLock=function(_56){this.scrollLock=!!_56;};$W._a.aP.prototype.getContentSize=function(_57){["WebSquare.uiplugin.scrollView.getContentSize"];try{var _58=this.dom.container.scrollWidth;var _59=this.dom.container.scrollHeight;if(_57){_57=_57.toLowerCase();if(_57=="height"){return _59;}else{if(_57=="width"){return _58;}}}else{return {width:_58,height:_59};}$l("getContentSize : wrong sizeName["+_57+"]"+"["+this.id+"]");}catch(e){$W.exception.printStackTrace(e);}};$W._a.aP.prototype.getMaxScrollTop=function(){var _5a=this.dom.container.scrollHeight-this.render.clientHeight;return _5a>=0?_5a:0;};$W._a.aP.prototype.getMaxScrollLeft=function(){var _5b=this.dom.container.scrollWidth-this.render.clientWidth;return _5b>=0?_5b:0;};$W._a.aP.prototype.getScrollTop=function(){["WebSquare.uiplugin.scrollView.getScrollTop"];try{if(this.options.css3d&&this.support3D){return this.options.scrollTop;}else{var _5c=this.dom.container.scrollTop;if(_5c==0||_5c==this.getMaxScrollTop()){_5c-=parseInt(this.dom.container.style.top||0,10);}this.options.scrollTop=_5c;return _5c;}}catch(e){$W.exception.printStackTrace(e);}};$W._a.aP.prototype.getScrollLeft=function(){["WebSquare.uiplugin.scrollView.getScrollLeft"];try{if(this.options.css3d&&this.support3D){return this.options.scrollLeft;}else{var _5d=this.dom.container.scrollLeft;if(_5d==0||_5d==this.getMaxScrollLeft()){_5d-=parseInt(this.dom.container.style.left||0,10);}this.options.scrollLeft=_5d;return _5d;}}catch(e){$W.exception.printStackTrace(e);}};$W._a.aP.prototype.handleTouchStart=function(e){["WebSquare.uiplugin.scrollView.prototype.handleTouchStart"];try{this.isTouched=true;$W._c.stopPropagation(e);this.stopSlide();if(!e.touches||e.touches.length==1){this.setIScroll();this.iScrollAddMoveClass();this.iScroll.prevTouches=[{x:e.touches?e.touches[0].pageX:e.clientX,y:e.touches?e.touches[0].pageY:e.clientY}];this.iScroll.direction="";if(this.options.horizontalScroll&&!this.options.verticalScroll){this.iScroll.direction="horizontal";}else{if(!this.options.horizontalScroll&&this.options.verticalScroll){this.iScroll.direction="vertical";}}this.fingerLeft=this.getScrollLeft();this.fingerTop=this.getScrollTop();}}catch(e){$W.exception.printStackTrace(e);}};$W._a.aP.prototype.handleTouchMove=function(e){try{if(!e.touches||e.touches.length==1){if(this.options.eventSmoothing){$W._N.setTimer(this._handleTouchMove,{key:this.id+"_handleTouchMove",caller:this,args:[{clientX:e.touches?e.touches[0].pageX:e.clientX,clientY:e.touches?e.touches[0].pageY:e.clientY}],delay:1,max:1});}else{this._handleTouchMove(e);}$W._c.stopEvent(e);}}catch(e){$W.exception.printStackTrace(e);}};$W._a.aP.prototype._handleTouchMove=function(e){["WebSquare.uiplugin.scrollView.prototype._handleTouchMove"];try{if(this.scrollLock||this.iScroll.prevTouches.length<=0){return;}this.iScroll.prevTouches.push({x:e.touches?e.touches[0].pageX:e.clientX,y:e.touches?e.touches[0].pageY:e.clientY});var len=this.iScroll.prevTouches.length;this.iScroll.prevTouches=[this.iScroll.prevTouches[len-2],this.iScroll.prevTouches[len-1]];var _62=this.iScroll.prevTouches;var _63=this.options.horizontalScroll?_62[0].x-_62[1].x:0;var _64=this.options.verticalScroll?_62[0].y-_62[1].y:0;var _65=this.render.clientWidth;var _66=this.render.clientHeight;var _67=this.dom.container.scrollWidth;var _68=this.dom.container.scrollHeight;var _69=this.getScrollTop();var _6a=this.getScrollLeft();var _6b=this.getMaxScrollTop();var _6c=this.getMaxScrollLeft();if(this.options.horizontalScroll&&this.options.verticalScroll&&!this.iScroll.direction){var _6d=Math.abs(_64/_63);if((_63==0||_64==0)&&Math.abs(_63+_64)<=2){this.iScroll.direction="";}else{if(_63==0||_6d>2.747){this.iScroll.direction="vertical";}else{if(_6d<0.364){this.iScroll.direction="horizontal";}else{this.iScroll.direction="both";}}}}if(this.iScroll.direction=="vertical"){_63=0;if(_6a<0){this._scrollTo(0,null);_6a=this.fingerLeft=0;}else{if(_6a>_6c){this._scrollTo(_6c,null);_6a=this.fingerLeft=_6c;}}}else{if(this.iScroll.direction=="horizontal"){_64=0;if(_69<0){this._scrollTo(null,0);_69=this.fingerTop=0;}else{if(_69>_6b){this._scrollTo(null,_6b);_69=this.fingerTop=_6b;}}}}if(!this.options.bounce&&!this.options.overScrollGlow){(0<=_6a&&_6a<=_6c)&&(this.fingerLeft=_6a);(0<=_69&&_69<=_6b)&&(this.fingerTop=_69);}_6a=this.fingerLeft+=_63;_69=this.fingerTop+=_64;if(this.options.bounce){if(_6a<0){_6a=_6a/2;(_6a<-_65/2)&&(_6a=-_65/2);}else{if(_6a>_6c){_6a=_6c+(_6a-_6c)/2;(_6a>_6c+_65/2)&&(_6a=_6c+_65/2);}}if(_69<0){_69=_69/2;(_69<-_66/2)&&(_69=-_66/2);}else{if(_69>_6b){_69=_6b+(_69-_6b)/2;(_69>_6b+_66/2)&&(_69=_6b+_66/2);}}}else{(_6a<0)&&(_6a=0);(_6a>_6c)&&(_6a=_6c);(_69<0)&&(_69=0);(_69>_6b)&&(_69=_6b);if(this.options.overScrollGlow){if(this.fingerTop<0){$W._H.show(this.dom.overScrollTop);var _6e=this.dom.overScrollTop.offsetHeight;var top=-2*_6e/_66*this.fingerTop-_6e;(top>0)&&(top=0);$W._H.setStyle(this.dom.overScrollTop,"top",top+"px");}else{$W._H.hide(this.dom.overScrollTop);}if(this.fingerTop>_6b){$W._H.show(this.dom.overScrollBottom);var _6e=this.dom.overScrollBottom.offsetHeight;var _70=-2*_6e/_66*(_6b-this.fingerTop)-_6e;(_70>0)&&(_70=0);$W._H.setStyle(this.dom.overScrollBottom,"bottom",_70+"px");}else{$W._H.hide(this.dom.overScrollBottom);}}}this._scrollTo(_6a,_69);}catch(e){$W.exception.printStackTrace(e);}};$W._a.aP.prototype.handleTouchEnd=function(e){["WebSquare.uiplugin.scrollView.prototype.handleTouchEnd"];try{this.isTouched=false;var len=this.iScroll.prevTouches.length;$W._c.stopPropagation(e);if(len==0){return;}var _73=this.render.clientWidth;var _74=this.render.clientHeight;var _75=this.dom.container.scrollWidth;var _76=this.dom.container.scrollHeight;var _77=this.getMaxScrollLeft();var _78=this.getMaxScrollTop();var _79=this.getScrollLeft();var _7a=this.getScrollTop();var _7b=null;var _7c=null;var _7d=null;var _7e=null;if(len>=2){this.iScroll.prevTouches=[this.iScroll.prevTouches[len-2],this.iScroll.prevTouches[len-1]];var _7f=this.iScroll.prevTouches;var _80=_7f[0].x-_7f[1].x;var _81=_7f[0].y-_7f[1].y;(this.iScroll.direction=="vertical")&&(_80=0);(this.iScroll.direction=="horizontal")&&(_81=0);if(_80*_80+_81*_81>this.options.slideThreshold*this.options.slideThreshold){this.iScroll.prevTouches=[];this.isSliding=true;if(this.options.paging){if(this.options.horizontalScroll){var _82=parseInt(_79/_73,10)+(_80>0?1:0);_7b=_82*_73;(_7b<0)&&(_7b=0);(_7b>_77)&&(_7b=_77);}if(this.options.verticalScroll){var _82=parseInt(_7a/_74,10)+(_81>0?1:0);_7c=_82*_74;(_7c<0)&&(_7c=0);(_7c>_78)&&(_7c=_78);}_7d=this.options.pagingDuration;_7e="ease";}else{_7b=_79+this.getSlideFactor(_80,_75);_7c=_7a+this.getSlideFactor(_81,_76);_7d=this.options.slideDuration;_7e="deceleration";}this.slide({initX:_79,initY:_7a,finishX:this.options.horizontalScroll?_7b:null,finishY:this.options.verticalScroll?_7c:null,duration:_7d,timingFunction:_7e});if(!this.options.bounce&&this.options.overScrollGlow){if((_7a==0&&_7c>0)||(_7a==_78&&_7c<_78)){this.hideOverScrollGlow();}}return;}}if(this.options.paging){if(this.options.horizontalScroll&&!this.options.verticalScroll){var _82=parseInt((_79+_73/2)/_73,10);_7b=_82*_73;}else{if(!this.options.horizontalScroll&&this.options.verticalScroll){var _82=parseInt((_7a+_74/2)/_74,10);_7c=_82*_74;}}_7d=this.options.pagingDuration;}else{_7d=this.options.resilienceDuration;}if(_79<0){_7b=0;}else{if(_77<_79){_7b=_77;}}if(_7a<0){_7c=0;}else{if(_78<_7a){_7c=_78;}}if(_7b!=null||_7c!=null){this.iScroll.prevTouches=[];this.isSliding=true;this.slide({initX:_79,initY:_7a,finishX:_7b,finishY:_7c,xResilience:_7b!=null,yResilience:_7c!=null,duration:_7d,timingFunction:"deceleration"});}else{this.iScrollRemoveMoveClass();this.iScroll.prevTouches=[];}this.hideOverScrollGlow();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aP.prototype.handleMouseOut=function(e){if($W._c.getRelatedTarget(e)==null){this.handleTouchEnd(e);}};$W._a.aP.prototype.finalize=function(){$W._N.clearTimer(this.id+"_checkResize");$W.dragdrop2["scrollable"][this.uuid]=null;delete $W.dragdrop2["scrollable"][this.uuid];};;WebSquare.uiplugin.scrollView=$W._a.aP;;WebSquare.uiplugin.article=$W._a._E;;WebSquare.uiplugin.aside=$W._a._V;;WebSquare.uiplugin.audio=$W._a._i;;WebSquare.uiplugin.canvas=$W._a.bp;;WebSquare.uiplugin.footer=$W._a.ad;;WebSquare.uiplugin.header=$W._a.aJ;;WebSquare.uiplugin.nav=$W._a._z;;WebSquare.uiplugin.section=$W._a.al;;WebSquare.uiplugin.video=$W._a._t;requires("uiplugin.group");$W._a._Q=function(id,_2,_3){["WebSquare.uiplugin.pageInherit"];$W._t.call(this,id,_2,_3);};$W.extend($W._a._Q.prototype,$W._t.prototype);$W._a._Q.prototype.defaultOptions={pluginType:"uiplugin.pageInherit",pluginName:"pageInherit",useConfig:true,src:"",tagname:"div",scope:false,initScript:"",scopeVariable:"",scopeFunction:"$w"};$W._a._Q.prototype.initialize=function(_4){["WebSquare.uiplugin.pageInherit.initialize "];this.frameDoc=null;this.pageInheritScript=[];this.lazyImportsArr=[];this.childAllControlList=[];this.userComponentList=[];this.userPluginList=[];this.scope={};this.scopeLazyList=[];this.scopeVariable={};};$W._a._Q.html5={"footer":"div","header":"div","nav":"div","section":"div"};$W._a._Q.prototype.toHTML=function(){["WebSquare.uiplugin.pageInherit.toHTML"];try{var _5=[];var _6=this.options.tagname;var _7=(this.options.style=="")?"":"style='"+this.options.style+"'";if($W._N.browserCheck.ie){var _8=$W._N.browserVersion();if(_8=="6"||_8=="7"||_8=="8"){if($W._a._Q.html5[_6]){_6=$W._a._Q.html5[_6];}}}_5.push("<"+_6+" id='"+this.id+"' "+_7+" class='w2pageInherit "+this.options.className+"'>");var _9=this.getChildren();for(var i=0;i<_9.length;i++){_5.push(_9[i].toHTML());}_5.push("</"+_6+">");return _5.join("");}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._Q.prototype.setAction=function(){["WebSquare.uiplugin.pageInherit.setAction"];try{if(this.frameDoc&&this.frameDoc.scriptSection.wq_trim()!=""){var _b=this.frameDoc.scriptSection;if(this.options.scope){_b="WebSquare.scope_obj="+this.id+";\nwith(WebSquare.util.getComponentById('"+this.id+"').scope){\n var udc_obj = "+this.id+";"+_b+"\n};\nWebSquare.scope_obj=null;\n";}_b=$W.scriptIdentifier+$W._N.getURL(this.getSrc())+"\";"+_b;if($W.scriptSectionExcuteFlag&&$W.scriptSectionExcuteFlag==="executed"){var _c=this.parentControl.parentControl;if(_c.options.pluginName=="pageInherit"){_c.pageInheritScript.push(_b);this.frameDoc.scriptSection="";_c.lazyImportsArr=_c.lazyImportsArr.concat(this.lazyImportsArr);this.lazyImportsArr=[];}else{$W.BootLoader.globalEval(_b);}}else{if(!$W.pageInheritScript){$W.pageInheritScript=[];}$W.pageInheritScript.push(_b);this.frameDoc.scriptSection="";}}for(var i=0;i<this.childControlList.length;i++){var _e=this.childControlList[i];if(_e.activeStatus=="stop"){_e.setUserAction();}$W._c.fireEvent(_e,"oncreated",_e.options);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._Q.prototype.makeFrame=function(){["WebSquare.uiplugin.pageInherit.makeFrame"];try{var _f=this.getSrc();if(_f){var _10=$W._B.load($W._N.getURL(_f),null);if(_10){this.frameDoc=new $W.WebSquareDocument(_10);this.frameDoc.renderStartTime=new Date();this.frameDoc.parsingPageInheritBefore(true,this);this.appendModels(this.frameDoc.models);this.frameDoc.renderBody2(this);this.appendSubmission(this.frameDoc.models);this.frameDoc.parsingPageInheritAfter(true,this);}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._Q.prototype.getSrc=function(){["WebSquare.uiplugin.pageInherit.getSrc"];try{var _11=this.options.src;var _12=$W._N.getConfiguration("/WebSquare/pageURLPrefix/@ignoreW2xPath");if($W.pageURLPrefix!==""&&$W.pageURLPrefixType=="function"){var _13=$W.pageURLPrefix;if($W.pageURLPrefix.indexOf("()")==-1){_13=$W.pageURLPrefix+"()";}if(_12.toLowerCase()=="true"){_13=_13.wq_replaceAll("()","(obfuscator_url)");_11=eval("(function(){var obfuscator_url = \""+_11+"\";return "+_13+"})();");}else{_11=eval(_13)+_11;}}else{if($W.pageURLPrefix!==""&&$W.pageURLPrefixType!="function"){_11=$W.pageURLPrefix+_11;}}return _11;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._Q.prototype.appendModels=function(_14){["WebSquare.uiplugin.pageInherit.appendModels"];try{var _15=$W._J.getModelByID();if(_15){for(var i=0;i<_14.length;i++){var _17=_15.instances[0].document;var _18=_14[i].instances[0].document.childNodes;for(var j=0;j<_18.length;j++){_17.appendChild(_18[j].cloneNode(true));}_15.binds=_15.binds.concat(_14[i].binds);}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._Q.prototype.appendSubmission=function(_1a){["WebSquare.uiplugin.pageInherit.appendSubmission"];try{var _1b=$W._J.getModelByID();if(_1b){for(var i=0;i<_1a.length;i++){if($W.pageInheritSubmissionList.length<=i){$W.pageInheritSubmissionList.push(new Array());}while(_1a[i].submissions.length>0){$W.pageInheritSubmissionList[i].push(_1a[i].submissions.pop());}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._Q.prototype.remove=function(){["WebSquare.uiplugin.pageInherit.remove"];try{this.finalize();if(this.render!=null){$W.removeNode(this.render);}if(this.parentControl){this.parentControl.removeControl(this);}for(var i in $W.getBody().childControlList){if($W.getBody().childControlList[i]==this){$W.getBody().childControlList.splice(i,1);}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._Q.prototype.finalize=function(){["WebSquare.uiplugin.pageInherit.finalize"];try{$W.logger.printLog("pageInherit unloading start.["+this.id+"]");for(var i=0;i<this.childControlList.length;i++){$W._c.fireEvent(this.childControlList[i],"onpageunload");}for(var i=this.childAllControlList.length-1;i>=0;i--){var _1f=$W.idCache[this.childAllControlList[i]];if(!_1f){continue;}$W.isPrintLog=false;if(typeof _1f.finalize=="function"){_1f.finalize();}$W.isPrintLog=true;if(typeof _1f.unbind=="function"){_1f.unbind();}if(_1f.event){_1f.event.clearCache();}if(_1f.modelControl){_1f.modelControl.unbindRef();_1f.modelControl.unbindItemset();}$W.getBody().getLayerListener().remove(_1f.id);_1f.childControlList=[];var _20={"secret":"input","selectbox":"select1","radio":"select1","multiselect":"select","checkbox":"select","checkcombobox":"select","switch":"Switch"};var _21=_20[this.options.pluginName]||this.options.pluginName;var arr=$W.WebSquareDocument.componentsCache[_21]||$W.WebSquareDocument.componentsCache[this._wTagName]||[];for(var idx=0,len=arr.length;idx<len;idx++){if(arr[idx]==this.uuid){arr[idx]=null;arr.splice(idx,1);}}if($W._N.memoryLeakComponent[_21]){$W._N.memoryLeakComponentCount+=$W._N.memoryLeakComponent[_21];}window[$W.noConflict]["comp"][_1f.id]=null;delete window[$W.noConflict]["comp"][_1f.id];window[$W.noConflict]["data"][_1f.id]=null;delete window[$W.noConflict]["data"][_1f.id];if(window[_1f.id]){window[_1f.id]=null;}if(_1f.render!=null){$W.removeNode(_1f.render);}for(var _24 in _1f){delete _1f[_24];}_1f=null;$W.idCache[this.childAllControlList[i]]=null;delete $W.idCache[this.childAllControlList[i]];}this.childAllControlList=[];this.childControlList=[];for(var _25 in this.scopeVariable){if(window[this.id+"_"+_25]!=undefined){for(var _24 in window[this.id+"_"+_25]){delete window[this.id+"_"+_25][_24];}window[this.id+"_"+_25]=null;if(!$W._G.isIE()||parseInt($W._N.browserVersion(),10)>8){delete window[this.id+"_"+_25];}else{window[this.id+"_"+_25]=null;}}}this.scope={};this.scopeVariable={};for(var i=0;i<this.userComponentList.length;i++){$W._G.loadedUserComponent[this.userComponentList[i]]=null;delete $W._G.loadedUserComponent[this.userComponentList[i]];}this.userComponentList=[];for(var i=0;i<this.userPluginList.length;i++){$W._G.loadedUserComponentPluginName[this.userPluginList[i]]=null;delete $W._G.loadedUserComponentPluginName[this.userPluginList[i]];}this.userPluginList=[];if(this.render!=null){$W.removeChildren(this.render);}this.removeCommon();$W.logger.printLog("pageInherit unloading finished.["+this.id+"]");}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._Q.prototype.removeFrame=function(){["WebSquare.uiplugin.pageInherit.removeFrame"];try{this.finalize();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._Q.prototype.removeCommon=function(){["WebSquare.uiplugin.pageInherit.removeCommon"];try{this.pageInheritScript=[];if(this.frameDoc!=null){var _26=$W.document.getElementsByTagName("head")[0];for(var i=0;i<this.frameDoc.cssList.length;i++){var uri=this.frameDoc.cssList[i].getAttribute("href");for(var idx in $W._y.skinTag){if(uri==$W._y.skinTag[idx]){$W._y.skinTag.splice(idx,1);break;}}_26.removeChild(this.frameDoc.cssList[i]);this.frameDoc.cssList[i]=null;}_26=null;var _2a=this.frameDoc.models[0].submissions;var _2b=$W.WebSquaredoc.models[0].submissions;for(var i=0;i<_2a.length;i++){for(var j=0;j<_2b.length;j++){if(_2a[i].id===_2b[j].id&&_2a[i].ref===_2b[j].ref){_2b[j].dead=true;_2b[j].parentElement=null;_2b.splice(j,1);break;}}}var _2d=this.frameDoc.models[0].workflows;var _2b=$W.WebSquaredoc.models[0].workflows;for(var i=0;i<_2d.length;i++){for(var j=0;j<_2b.length;j++){if(_2d[i].id===_2b[j].id&&_2d[i].ref===_2b[j].ref){_2b[j].promiseStatus="REJECT";_2b[j].parentElement=null;_2b.splice(j,1);break;}}}for(var _2e in this.frameDoc){this.frameDoc[_2e]=null;delete this.frameDoc[_2e];}}this.frameDoc=null;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._Q.prototype.getObj=function(id){["WebSquare.uiplugin.pageInherit.getObj"];try{return this.scope[id];}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._Q.prototype.getObjList=function(){["WebSquare.uiplugin.pageInherit.getObj"];try{var _30=[];for(var _31 in this.scope){_30.push(_31);}return _30;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._Q.prototype.makeScopeVariable=function(){["WebSquare.uiplugin.pageInherit.makeScope"];try{if(this.options.scopeVariable){var _32=this.options.scopeVariable.split(",");for(var i=0;i<_32.length;i++){var _34=_32[i].wq_trim();this.scopeVariable[_34]={};this.scope[_34]=this.scopeVariable[_34];window[this.id+"_"+_34]=this.scopeVariable[_34];for(var j=0;j<this.scopeLazyList.length;j++){$W.idCache[this.scopeLazyList[j]].scope[_34]=this.scopeVariable[_34];}if(this.options.scopeFunction){this.scopeVariable[_34][this.options.scopeFunction]=new $W._a._Q.scope(this.uuid);var _36=this.scopeVariable[_34][this.options.scopeFunction];for(var _37 in $W._u){if(_37==="data"){continue;}if(_36[_37]==undefined){_36[_37]=$W._u[_37];}}_36.data=new $W._a._Q.scope.data(this.id);for(var _38 in $W._u.data){if(_36.data[_38]==undefined&&typeof $W._u.data==="function"){_36.data[_38]=$W._u.data[_38];}}if(this.options.scopeFunction!==$W.noConflict&&window[_34]!=undefined&&window[_34][this.options.scopeFunction]==undefined){$W.extend(window[_34][this.options.scopeFunction],$W._u);}}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._Q.prototype.setMode=function(_39){["WebSquare.uiplugin.pageInherit.getObj"];try{this.options.mode=_39;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._Q.scope=function(_3a){this._parent_uuid=_3a;this._identifier="pageInherit_scope";};$W._a._Q.scope.prototype.getRuntimeId=function(id,_3c){["WebSquare.uiplugin.pageInherit.scope.getRuntimeIdj"];try{var _3d=this._parent_uuid;var ret="";var _3f=$W.idCache[this._parent_uuid].options.scopeVariable.split(",");var _40={};for(var i=0;i<_3f.length;i++){_40[_3f[i].wq_trim()]=true;}if(typeof _3c==="string"){var _42=_3c.split("parent").length-1;for(var i=0;i<_42&&_3d!=undefined&&$W.idCache[_3d]!=undefined;i++){_3d=$W.idCache[_3d].parentFrame;}}if(_40[id]===true){if(_3d!=undefined){ret=$W.idCache[_3d].id+"_"+id;}else{ret=id;}}else{if(_3d!=undefined&&$W.idCache[_3d].scope[id]!=undefined){ret=$W.idCache[_3d].scope[id].id||"";}else{if($W.idToUUID[id]&&$W.idCache[$W.idToUUID[id]]){ret=id;}}}return ret;}catch(e){$W.exception.printStackTrace(e,null,this);return "";}};$W._a._Q.scope.prototype.getSubmission=function(id){["WebSquare.uiplugin.pageInherit.scope.getSubmission"];try{return $W.idCache[this._parent_uuid].scope[id]||null;}catch(e){$W.exception.printStackTrace(e);}};$W._a._Q.scope.prototype.executeSubmission=function(_44,_45,obj,_47,_48){["WebSquare.uiplugin.pageInherit.scope.executeSubmission"];try{var _49=this.getSubmission(_44);return $W._J.executeSubmission(_49,_45,obj,_47,_48);}catch(e){$W.exception.printStackTrace(e);}};$W._a._Q.scope.data=function(id){this._parent_id=id;this._identifier="pageInherit_scope_data";};$W._a._Q.scope.data.prototype.get=function(_4b,_4c,_4d){["WebSquare.uiplugin.pageInherit.scope.data.get"];try{if(!_4d){_4d={};}if(!_4d.scope_obj){_4d.scope_obj=this._parent_id;}return $W._j.api.get(_4b,_4c,_4d);}catch(e){$W.exception.printStackTrace(e);}};$W._a._Q.scope.data.prototype.set=function(_4e,_4f,_50,_51){["WebSquare.uiplugin.pageInherit.scope.data.set"];try{if(!_51){_51={};}if(!_51.scope_obj){_51.scope_obj=this._parent_id;}return $W._j.api.set(_4e,_4f,_50,_51);}catch(e){$W.exception.printStackTrace(e);}};;WebSquare.uiplugin.pageInherit=$W._a._Q;requires("uiplugin/control/xfControl.js");$W._a._N=function(id,_2,_3){["WebSquare.uiplugin.layout"];$W._t.call(this,id,_2,_3);};$W.extend($W._a._N.prototype,$W._t.prototype);$W._a._N.prototype.defaultOptions={pluginType:"uiplugin.layout",pluginName:"layout",tagname:"div"};$W._a._N.prototype.initialize=function(_4){var _5,i=0,j=0,k=0,layoutInfoNodes,layerInfoNodes,cellInfo,gridColumn,gridRow,arr,layoutInfoAttr,layerItem,contentInfo,listSize1=0,listSize2=0,gridRowIdx=1;this.preInfoIdx=-1;this.layerInfos=[];this.resetClassObj={};this.layerInfoObj={};this.autoCheckCount=0;this.autoRow={};this.limitWidth=50000;this.useBorderBox=false;this.supportBorderBox=true;this.curBrowserVer="";this.marginProperties=["margin-top","margin-right","margin-bottom","margin-left"];if(this.options.useBorderBox&&this.options.useBorderBox==="true"){this.useBorderBox=true;}if($W._N.browserCheck.ie){this.curBrowserVer=$W._N.browserVersion();if(this.curBrowserVer=="6"||this.curBrowserVer=="7"){this.supportBorderBox=false;}}layoutInfoNodes=$W._B.findNodes(_4,"w2:layoutInfos")[0];layoutInfoNodes=$W._B.findNodes(layoutInfoNodes,"w2:layoutInfo");listSize1=layoutInfoNodes.length;for(i=0;i<listSize1;i++){layerInfoNodes=$W._B.findNodes(layoutInfoNodes[i],"w2:layerInfo");arr=[];listSize2=layerInfoNodes.length;for(j=0;j<listSize2;j++){cellInfo=$W.WebSquareparser.parseAttribute(layerInfoNodes[j]);cellInfo["grid-column"]=parseInt(cellInfo["grid-column"],10)||1;cellInfo["grid-row"]=parseInt(cellInfo["grid-row"],10)||1;arr.push(cellInfo);}layoutInfoAttr=$W.WebSquareparser.parseAttribute(layoutInfoNodes[i]);this.layerInfos.push({condition:layoutInfoAttr,layerInfo:arr,layoutCols:this.getTrackList(layoutInfoAttr["grid-columns"],arr,"grid-column"),layoutRows:this.getTrackList(layoutInfoAttr["grid-rows"],arr,"grid-row"),minWidth:(layoutInfoAttr["min-width"]?parseInt(layoutInfoAttr["min-width"],10):NaN)||0,maxWidth:(layoutInfoAttr["max-width"]?parseInt(layoutInfoAttr["max-width"],10):NaN)||this.limitWidth});}this.layerArr=$W._B.findNodes(_4,"w2:layoutContents")[0];this.layerArr=$W._B.findNodes(this.layerArr,"xf:group");listSize1=this.layerArr.length;for(i=0;i<listSize1;i++){_5=$W.controlFactory.create((this.layerArr[i].getAttribute("id")?this.layerArr[i].getAttribute("id"):(this.id+"_"+i)),{pluginName:"group",className:"w2layout_layer "+(this.useBorderBox?"w2layout_layer_borderbox ":"")+(this.layerArr[i].getAttribute("class")||""),style:this.layerArr[i].getAttribute("style")||"",tagname:this.layerArr[i].getAttribute("tagname")||"div"},this.layerArr[i]);this.addControl(_5);for(j=0;j<this.layerInfos.length;j++){if(!this.layerInfoObj[j]){this.layerInfoObj[j]={};}listSize2=this.layerInfos[j].layerInfo.length;for(k=0;k<listSize2;k++){layerItem=this.layerInfos[j].layerInfo[k];gridRowIdx=layerItem["grid-row"]||1;contentInfo=this.layerInfoObj[j][gridRowIdx];if(!contentInfo){contentInfo={};this.layerInfoObj[j][gridRowIdx]=contentInfo;}if(layerItem["layerId"]===_5.options.layerId){contentInfo[_5.options.layerId]=_5;_5.options.layerInfo={"row-span":parseInt(layerItem["row-span"],10)||1};break;}}}}};$W._a._N.html5={"footer":"div","header":"div","nav":"div","section":"div"};$W._a._N.prototype.toHTML=function(){["WebSquare.uiplugin.layout.toHTML"];var _6=[],styleStr=(this.options.style=="")?"":"style='"+this.options.style+"'",tagname=this.options.tagname;if(!this.supportBorderBox||this.curBrowserVer==="8"){if($W._a._N.html5[tagname]){tagname=$W._a._N.html5[tagname];}}_6.push("<"+tagname+" id='"+this.id+"' "+styleStr+" class='w2layout "+this.options.className+"'>");var _7=this.getChildren();for(var i=0;i<_7.length;i++){_6.push(_7[i].toHTML());}_6.push("</"+tagname+">");return _6.join("");};$W._a._N.prototype.setAction=function(){var _9=$W._H.getStyleProperty(this.render,"height"),source=this;this.isHeightAuto=false;if(_9==="auto"||_9==="0px"){this.isHeightAuto=true;}this.findParent(source,source);};$W._a._N.prototype.setLayout=function(_a,_b){var _c=0,top=0,eleSize=[0,0],gridColumn,gridRow,columnSpan,rowSpan,layerID,layerClass,i,j,k,dimensionInfo={},tracks,listSize,idx=-1,fractions=[0],availableSpace=[0],range=0,located={},layoutCols,layoutRows,preContentSize=0,contentGroup,contentList,baseContentLayer={},vHeight,vHeight2,rePositionRow=0,source;if(!_a){_a=this.getLayoutInfo(this.render.clientWidth,this.render.clientHeight);}_b=_b||1;this.layoutWidth=_a.layoutWidth;this.layoutHeight=_a.layoutHeight;contentGroup=this.layerInfoObj[_a.idx];layoutCols=_a.layoutCols;layoutRows=_a.layoutRows;tracks=[];availableSpace[0]=this.layoutWidth;listSize=layoutCols.length;for(i=0;i<listSize;i++){if(layoutCols[i].type==="px"){tracks[i]=layoutCols[i].value;availableSpace[0]-=tracks[i];}else{if(layoutCols[i].type==="%"){tracks[i]=this.getDecimalRound((this.layoutWidth*layoutCols[i].value/100),-1);availableSpace[0]-=tracks[i];}else{if(layoutCols[i].type==="fr"){tracks[i]={};tracks[i].frX=layoutCols[i].value;fractions[0]+=tracks[i].frX;}else{if(layoutCols[i].type==="auto"){tracks[i]={};tracks[i].frX=1;fractions[0]+=tracks[i].frX;}}}}}listSize=tracks.length;for(i=0;i<listSize;i++){if(tracks[i].frX){tracks[i]=this.getDecimalRound((availableSpace[0]*(tracks[i].frX/fractions[0])),-1);}}dimensionInfo.x=tracks;tracks=[];fractions[0]=0;if(this.isHeightAuto){source=this;this.layoutHeight=this.getParentHeight(source);}availableSpace[0]=this.layoutHeight;listSize=layoutRows.length;for(i=0;i<listSize;i++){if(layoutRows[i].type==="px"){tracks[i]=layoutRows[i].value;availableSpace[0]-=tracks[i];}else{if(layoutRows[i].type==="%"){if(this.isHeightAuto){preContentSize=0;this.setAuto(i,preContentSize,contentGroup,baseContentLayer,tracks,availableSpace,fractions);}else{tracks[i]=this.getDecimalRound((this.layoutHeight*layoutRows[i].value/100),-1);availableSpace[0]-=tracks[i];}}else{if(layoutRows[i].type==="fr"){tracks[i]={};tracks[i].frY=layoutRows[i].value;fractions[0]+=tracks[i].frY;}else{if(layoutRows[i].type==="auto"){preContentSize=0;this.setAuto(i,preContentSize,contentGroup,baseContentLayer,tracks,availableSpace,fractions);}}}}}if(this.isHeightAuto&&availableSpace[0]<0){availableSpace[0]=-availableSpace[0];}listSize=tracks.length;for(i=0;i<listSize;i++){if(tracks[i].frY){tracks[i]=this.getDecimalRound((availableSpace[0]*(tracks[i].frY/fractions[0])),-1);}}dimensionInfo.y=tracks;if(this.isHeightAuto){vHeight=0;for(j=0;j<tracks.length;j++){vHeight+=tracks[j];}this.layoutHeight=parseInt(vHeight,10);this.render.style.height=this.layoutHeight+"px";}for(i=0;i<_a.layerInfo.length;i++){layerID=_a.layerInfo[i]["layerId"];gridColumn=_a.layerInfo[i]["grid-column"];gridRow=_a.layerInfo[i]["grid-row"];columnSpan=_a.layerInfo[i]["column-span"]?Math.min(parseInt(_a.layerInfo[i]["column-span"],10),(layoutCols.length-gridColumn+1)):1;rowSpan=_a.layerInfo[i]["row-span"]?Math.min(parseInt(_a.layerInfo[i]["row-span"],10),(layoutRows.length-gridRow+1)):1;layerClass=_a.layerInfo[i]["className"]||"";if(_b>gridRow){located[layerID]=layerID;}else{_c=eleSize[0]=0;range=gridColumn+columnSpan-1;for(j=0;j<range;j++){if(j<(gridColumn-1)){_c+=dimensionInfo.x[j];}else{eleSize[0]+=dimensionInfo.x[j];}}if(gridColumn===1){eleSize[0]+=_c;_c=0;}top=eleSize[1]=0;range=gridRow+rowSpan-1;for(j=0;j<range;j++){if(j<(gridRow-1)){top+=dimensionInfo.y[j];}else{eleSize[1]+=dimensionInfo.y[j];}}if(gridRow===1){eleSize[1]+=top;top=0;}listSize=this.childControlList.length;for(j=0;j<listSize;j++){if(!located[this.childControlList[j].options.layerId]&&layerID===this.childControlList[j].options.layerId){located[this.childControlList[j].options.layerId]=this.childControlList[j].options.layerId;this.adjustBoxSize(this.childControlList[j].render,eleSize,contentGroup,gridRow,layerID);this.childControlList[j].setStyle("left",_c+"px");this.childControlList[j].setStyle("top",top+"px");this.childControlList[j].setSize(eleSize[0]+"px",eleSize[1]+"px");if(baseContentLayer[gridRow]&&baseContentLayer[gridRow]["layerId"]===layerID){vHeight=this.childControlList[j].render.clientHeight;vHeight=(this.getBoxSize(this.childControlList[j].render,[null,vHeight]))[1];this.autoRow[gridRow]=vHeight;if(!baseContentLayer[gridRow]["empty"]){this.childControlList[j].render.style.height="";vHeight2=this.childControlList[j].render.scrollHeight;vHeight2=(this.getBoxSize(this.childControlList[j].render,[null,vHeight2]))[1];if(rePositionRow===0&&vHeight!==vHeight2){rePositionRow=gridRow;}}}if(this.preInfoIdx!==_a.idx){if(this.preInfoIdx>-1){this.resetClass(layerID,this.childControlList[j]);}if(layerClass&&!this.childControlList[j].hasClass(layerClass)){this.childControlList[j].addClass(layerClass);}}break;}}}}listSize=this.childControlList.length;for(j=0;j<listSize;j++){if(!located[this.childControlList[j].options.layerId]){if(this.preInfoIdx>-1&&this.preInfoIdx!==_a.idx){this.resetClass(this.childControlList[j].options.layerId,this.childControlList[j]);}this.childControlList[j].setStyle("left",0);this.childControlList[j].setStyle("top",0);this.childControlList[j].setSize(0,0);}}this.preInfoIdx=_a.idx;if(this.childrenLayout){for(i=0;i<this.childrenLayout.length;i++){this.childrenLayout[i].setLayout();}}return rePositionRow;};$W._a._N.prototype.checkAutoCell=function(_d){var i,j,k,idx,listSize,changedRow=0,contentGroup,contentList,vScrollHeight,nWidth,nHeight,childLayerInfoList,marginSize;listSize=_d.layoutRows.length;for(i=0;i<listSize;i++){idx=i+1;contentGroup=this.layerInfoObj[_d.idx];contentList=contentGroup[idx];if(_d.layoutRows[i].type==="auto"){if(this.autoRow[idx]){for(j in contentList){if(contentList.hasOwnProperty(j)){if(contentList[j].options.layerInfo["row-span"]===1){vScrollHeight=contentList[j].render.scrollHeight;vScrollHeight=(this.getBoxSize(contentList[j].render,[null,vScrollHeight]))[1];if((vScrollHeight<this.autoRow[idx]-1)||(this.autoRow[idx]+1<vScrollHeight)){changedRow=idx;return changedRow;}}}}}}for(j in contentList){if(contentList.hasOwnProperty(j)){marginSize=contentList[j].options.preMargin;if(marginSize){for(k=0;k<marginSize.length;k++){if(marginSize[k]!==(parseInt($W._H.getStyleProperty(contentList[j].render,this.marginProperties[k]),10)||0)){changedRow=idx;return changedRow;}}}}}}if(this.childrenLayout){for(i=0;i<this.childrenLayout.length;i++){nWidth=this.childrenLayout[i].render?this.childrenLayout[i].render.clientWidth:null;nHeight=this.childrenLayout[i].render?this.childrenLayout[i].render.clientHeight:null;childLayerInfoList=this.childrenLayout[i].getLayoutInfo(nWidth,nHeight);changedRow=this.childrenLayout[i].checkAutoCell(childLayerInfoList);if(changedRow>0){break;}}}return changedRow;};$W._a._N.prototype.checkResize=function(){["WebSquare.uiplugin.layout.prototype.checkResize"];try{var i,changedRowIdx,vVisibility=$W._H.getStyleProperty(this.render,"visibility"),nWidth,nHeight,layerInfoList;if(vVisibility!=="hidden"){nWidth=this.render?this.render.clientWidth:null;nHeight=this.render?this.render.clientHeight:null;layerInfoList=this.getLayoutInfo(nWidth,nHeight);if((this.layoutWidth!=nWidth)||(this.layoutHeight!=nHeight)){if((changedRowIdx=this.setLayout(layerInfoList))>0){this.setLayout(layerInfoList);}}else{if(this.autoCheckCount<6){this.autoCheckCount+=1;if(this.autoCheckCount===5){this.autoCheckCount=0;if((changedRowIdx=this.checkAutoCell(layerInfoList))>0){this.setLayout(layerInfoList);}}}else{if(this.childrenLayout){for(i=0;i<this.childrenLayout.length;i++){this.childrenLayout[i].checkResize();}}}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._N.prototype.findParent=function(_10,_11){var _12=_10.parentControl;if(_12.options.pluginName==="body"){$W.getBody().resizeChecker.register(_11);}else{if(_12.options.pluginName==="layout"){if(!_12.childrenLayout){_12.childrenLayout=[];}_12.childrenLayout.push(_11);}else{this.findParent(_12,_11);}}};$W._a._N.prototype.getLayoutInfo=function(_13,_14){var i,layoutInfo=this.layerInfos[0];layoutInfo.idx=0;layoutInfo.layoutWidth=0;layoutInfo.layoutHeight=0;for(i=this.layerInfos.length-1;i>-1;i--){if(this.layerInfos[i].minWidth<_13&&_13<=this.layerInfos[i].maxWidth){layoutInfo=this.layerInfos[i];layoutInfo.layoutWidth=_13;layoutInfo.layoutHeight=_14;layoutInfo.idx=i;break;}}return layoutInfo;};$W._a._N.prototype.setAuto=function(idx,_17,_18,_19,_1a,_1b,_1c){var j,vHeight,isMatch=false,index=idx+1;contentList=_18[index];for(j in contentList){if(contentList.hasOwnProperty(j)){if(contentList[j].options.layerInfo["row-span"]===1){contentList[j].render.style.height="";vHeight=contentList[j].render.scrollHeight;vHeight=(this.getBoxSize(contentList[j].render,[null,vHeight]))[1];if(_17<vHeight){_19[index]={};_19[index]["layerId"]=contentList[j].options.layerId;_1a[idx]=vHeight;_17=_1a[idx];}}}}if(_1a[idx]){_1b[0]-=_1a[idx];}else{_19[index]={};_19[index]["layerId"]=contentList[j].options.layerId;_19[index]["empty"]=true;_1a[idx]={};_1a[idx].frY=1;_1c[0]+=_1a[idx].frY;}};$W._a._N.prototype.checkAutoOmission=function(idx,_1f,_20){var rst=true,i;for(i=0;i<_1f.length;i++){if(idx===_1f[i][_20]){rst=false;break;}}return rst;};$W._a._N.prototype.getTrackList=function(_22,_23,_24){var i,idx,item,repeatExp=/repeat/,wsExp=/\s+/,isRepeat=false,idx=[-1,-1],tempStr="",repeatNum=0,repeatUnit=null,repeatBody=[],tempArr=[],result=[];if(!_22){throw new SyntaxError("grid-rows or grid-columns is missed");}isRepeat=repeatExp.test(_22)?true:false;if(isRepeat){idx[0]=_22.indexOf("repeat");tempStr=_22.substring(0,idx[0]).trim();if(tempStr){tempArr=tempStr.split(wsExp);}idx[0]=_22.indexOf("(",idx[0]);idx[1]=_22.indexOf(")",idx[0]);tempStr=_22.substring(idx[0]+1,idx[1]);idx[0]=tempStr.indexOf(",");repeatNum=tempStr.substring(0,idx[0]).trim();tempStr=tempStr.substring(idx[0]+1).trim();repeatUnit=tempStr.split(wsExp);for(idx[0]=0;idx[0]<repeatNum;idx[0]++){repeatBody.push(repeatUnit);}tempArr=tempArr.concat.apply(tempArr,repeatBody);tempStr=_22.substring(idx[1]+1).trim();if(tempStr){isRepeat=repeatExp.test(tempStr)?true:false;if(isRepeat){tempArr=tempArr.concat.apply(tempArr,this.getTrackList(tempStr));}else{tempArr=tempArr.concat.apply(tempArr,tempStr.split(wsExp));}}}else{tempArr=_22.split(wsExp);}for(i=0;i<tempArr.length;i++){item={};if(tempArr[i].lastIndexOf("px")>-1){item.value=parseInt(tempArr[i],10);item.type="px";}else{if(tempArr[i].lastIndexOf("%")>-1){item.value=parseInt(tempArr[i],10);item.type="%";}else{if((idx=tempArr[i].lastIndexOf("fr"))>-1){item.value=+(tempArr[i].substring(0,idx));item.type="fr";}else{if(tempArr[i].indexOf("auto")>-1){if(this.checkAutoOmission(i+1,_23,_24)){item=null;}else{item.value="auto";item.type="auto";}}}}}if(item!==null){result.push(item);}}return result;};$W._a._N.prototype.getDecimalRound=function(_26,exp){if(typeof exp==="undefined"||+exp===0){return Math.round(_26);}_26=+_26;exp=+exp;if(isNaN(_26)||!(typeof exp==="number"&&exp%1===0)){return NaN;}_26=_26.toString().split("e");_26=Math.round(+(_26[0]+"e"+(_26[1]?(+_26[1]-exp):-exp)));_26=_26.toString().split("e");return +(_26[0]+"e"+(_26[1]?(+_26[1]+exp):exp));};$W._a._N.prototype.resetClass=function(_28,_29){var k,isNoCache=false,layerClass,resetClassInfoList,preInfoIdxStr=this.preInfoIdx+"",infoObj=this.resetClassObj[preInfoIdxStr];if(infoObj){if(infoObj[_28]){layerClass=infoObj[_28];}else{isNoCache=true;}}else{isNoCache=true;}if(isNoCache){resetClassInfoList=this.layerInfos[this.preInfoIdx];for(k=0;k<resetClassInfoList.layerInfo.length;k++){if(resetClassInfoList.layerInfo[k]["layerId"]===_28){layerClass=resetClassInfoList.layerInfo[k]["className"]||"";if(!infoObj){infoObj={};this.resetClassObj[preInfoIdxStr]=infoObj;}infoObj[_28]=layerClass;break;}}}if(layerClass&&_29.hasClass(layerClass)){_29.removeClass(layerClass);}};$W._a._N.prototype.getParentHeight=function(_2b){var _2c=0,parent=_2b.parentControl;if(parent.options.pluginName==="body"&&parent.parentControl&&parent.parentControl.options.pluginName==="wframe"){parent=parent.parentControl;}_2c=parent.render?parent.render.clientHeight:parent.element.clientHeight;if(!_2c){_2c=this.getParentHeight(parent);}return _2c;};$W._a._N.prototype.adjustBoxSize=function(ele,_2e,_2f,_30,_31){var _32=[0,0,0,0];_32[0]=parseInt($W._H.getStyleProperty(ele,"margin-top"),10)||0;_32[1]=parseInt($W._H.getStyleProperty(ele,"margin-right"),10)||0;_32[2]=parseInt($W._H.getStyleProperty(ele,"margin-bottom"),10)||0;_32[3]=parseInt($W._H.getStyleProperty(ele,"margin-left"),10)||0;_2f[_30][_31].options.preMargin=_32;_2e[0]+=_32[1]===0?0:-_32[1];_2e[0]+=_32[3]===0?0:-_32[3];_2e[1]+=_32[0]===0?0:-_32[0];_2e[1]+=_32[2]===0?0:-_32[2];if(this.useBorderBox&&!this.supportBorderBox){_2e[0]-=parseInt($W._H.getStyleProperty(ele,"padding-right"),10)||0;_2e[0]-=parseInt($W._H.getStyleProperty(ele,"padding-left"),10)||0;_2e[0]-=parseInt($W._H.getStyleProperty(ele,"border-right-width"),10)||0;_2e[0]-=parseInt($W._H.getStyleProperty(ele,"border-left-width"),10)||0;_2e[1]-=parseInt($W._H.getStyleProperty(ele,"padding-top"),10)||0;_2e[1]-=parseInt($W._H.getStyleProperty(ele,"padding-bottom"),10)||0;_2e[1]-=parseInt($W._H.getStyleProperty(ele,"border-top-width"),10)||0;_2e[1]-=parseInt($W._H.getStyleProperty(ele,"border-bottom-width"),10)||0;}return _2e;};$W._a._N.prototype.getBoxSize=function(ele,_34){if(_34[0]!==null){_34[0]-=-(parseInt($W._H.getStyleProperty(ele,"margin-right"),10))||0;_34[0]-=-(parseInt($W._H.getStyleProperty(ele,"margin-left"),10))||0;}if(_34[1]!==null){_34[1]-=-(parseInt($W._H.getStyleProperty(ele,"margin-top"),10))||0;_34[1]-=-(parseInt($W._H.getStyleProperty(ele,"margin-bottom"),10))||0;}if(this.useBorderBox){if(_34[0]!==null){_34[0]+=(parseInt($W._H.getStyleProperty(ele,"border-right-width"),10)||0);_34[0]+=(parseInt($W._H.getStyleProperty(ele,"border-left-width"),10)||0);}if(_34[1]!==null){_34[1]+=(parseInt($W._H.getStyleProperty(ele,"border-top-width"),10)||0);_34[1]+=(parseInt($W._H.getStyleProperty(ele,"border-bottom-width"),10)||0);}}return _34;};;WebSquare.uiplugin.layout=$W._a._N;;WebSquare.uiplugin.tableLayout=$W._a.aH;requires("engine/formatter.js");$W._a.ai=function(id,_2,_3){["WebSquare.uiplugin.span"];$W._t.call(this,id,_2,_3);this.options.tagname="span";};$W.extend($W._a.ai.prototype,$W._t.prototype);$W._a.ai.prototype.defaultOptions={pluginType:"uiplugin.span",pluginName:"span",parseAttributes:true,userEvents:[],systemEvents:["onclick","ondblclick","onmouseover","onmouseout"],useConfig:true,label:"",escape:false,escapeFormatter:"",tagname:"span",localeRef:"",ioFormat:"",displayFormat:"",displayFormatter:null,dataType:"text",dateMask:"",timeMask:"",numberMask:"",euroMask:"",rupeeMask:"",tengeMask:"",delimeter:"",decimalDelimeter:""};$W._a.ai.prototype.htmlStr=["<",""," id='","","' ",""," class='w2span ","","' ","",">","","</","",">"];$W._a.ai.prototype.htmlClosingStr=["<",""," id='","","' ",""," class='w2span ","","'",""," />"];$W._a.ai.prototype.initialize=function(_4){["WebSquare.uiplugin.span.initialize"];if(this.options.displayFormat==""){switch(this.options.dataType){case "date":this.options.displayFormat=this.options.dateMask;break;case "time":this.options.displayFormat=this.options.timeMask;break;case "number":this.options.displayFormat=this.options.numberMask;if(!this.options.delimeter){this.options.delimeter=",";}if(!this.options.decimalDelimeter){this.options.decimalDelimeter=".";}break;case "euro":this.options.displayFormat=this.options.euroMask;if(!this.options.delimeter){this.options.delimeter=".";}if(!this.options.decimalDelimeter){this.options.decimalDelimeter=",";}break;case "rupee":this.options.displayFormat=this.options.rupeeMask;if(!this.options.delimeter){this.options.delimeter=",";}if(!this.options.decimalDelimeter){this.options.decimalDelimeter=".";}break;case "tenge":this.options.displayFormat=this.options.tengeMask;if(!this.options.delimeter){this.options.delimeter=" ";}if(!this.options.decimalDelimeter){this.options.decimalDelimeter="-";}break;}}this.formatter=$W._C.createFormatter(this.options.dataType,this.options.displayFormat,this.options.displayFormatter,this.options.ioFormat,this.options.delimeter,this.options.decimalDelimeter,this.scope_id);this.useEscapeFormatter=false;};$W._a.ai.prototype.toHTML=function(){var _5=$W._N.getEmptyTag();var _6="";if(_5[this.options.tagname.toLowerCase()]){_6=this.htmlClosingStr;_6[1]=this.options.tagname;_6[3]=this.id;_6[5]=(this.options.style=="")?"":" style='"+this.options.style+"'";_6[7]=this.options.className;_6[9]=((this.options.tagname=="label")?" for='"+this.options["for"]+"'":"")+this.getAttributesString();}else{_6=this.htmlStr;_6[1]=this.options.tagname;_6[3]=this.id;_6[5]=(this.options.style=="")?"":"style='"+this.options.style+"'";_6[7]=this.options.className;_6[9]=((this.options.tagname=="label")?" for='"+this.options["for"]+"'":"")+this.getAttributesString();var _7="";if(!this.options.escapeFormatter){_7=this.options.escape?this.formatter.format($W._B._encode(this.options.label)):this.formatter.format(this.options.label);}else{_7=this.setEscapeFormatter();}_6[11]=_7;_6[13]=this.options.tagname;}return _6.join("");};$W._a.ai.prototype.setEscapeFormatter=function(){["WebSquare.uiplugin.span.setEscapeFormatter"];try{if(this.options.escapeFormatter){try{if(typeof this.options.escapeFormatter=="function"){this.useEscapeFormatter=true;}else{var _8=$W._G.getGlobalFunction(this.options.escapeFormatter,this.scope_id);if(typeof _8=="function"){this.options.escapeFormatter=_8;this.useEscapeFormatter=true;}}}catch(e){$W.logger.printLog("cannot find function : "+this.options.escapeFormatter+"["+this.id+"]");}var _9=this.options.label;if(this.useEscapeFormatter){_9=this.options.escapeFormatter.call(this,_9);}return this.options.escape?this.formatter.format($W._B._encode(_9+"")):this.formatter.format(_9);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ai.prototype.onComplete=function(){if(this.options.escapeFormatter&&!this.useEscapeFormatter){this.render.innerHTML=this.setEscapeFormatter();}$W._t.prototype.onComplete.call(this);};$W._a.ai.prototype.setAction=function(){["WebSquare.uiplugin.span.setAction"];try{this.refresh();this.displayLocaleValue();if(this.options.tagname!="label"||this.options["for"]==""){return;}var _a=$W._G.getComponentById(this.options["for"])||null;if(_a==null){return;}var _b=typeof _a.getAccessibiltyId=="function"?_a.getAccessibiltyId():this.options["for"];this.render.setAttribute("for",_b);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ai.prototype.setLocaleRef=function(_c){["WebSquare.uiplugin.span.setLocaleRef"];try{this.options.localeRef=_c;this.displayLocaleValue();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ai.prototype.refresh=function(){["WebSquare.uiplugin.span.refresh"];try{if(this.modelControl.isBinded()){var _d=this.modelControl.getData();this.options.label=_d;if(this.useEscapeFormatter){_d=this.options.escapeFormatter.call(this,_d);}this.render.innerHTML=this.options.escape?this.formatter.format($W._B._encode(_d+"")):this.formatter.format(_d);this.options.label=_d;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ai.prototype.setLabel=function(_e){["WebSquare.uiplugin.span.setLabel"];try{this.setValue(_e);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ai.prototype.getLabel=function(){["WebSquare.uiplugin.span.getLabel"];try{return this.getValue();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ai.prototype.setValue=function(_f){["WebSquare.uiplugin.span.setValue"];try{this.options.label=_f;var _10=this.options.label;if(this.useEscapeFormatter){_10=this.options.escapeFormatter.call(this,_10);}this.render.innerHTML=this.options.escape?this.formatter.format($W._B._encode(_10+"")):this.formatter.format(_10);this.modelControl.setData(_f);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ai.prototype.getValue=function(){["WebSquare.uiplugin.span.getValue"];try{var ret=this.options.escape?$W._B._decode(this.options.label):this.options.label;return ret;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ai.prototype.getFormatValue=function(){["WebSquare.uiplugin.span.getFormatValue"];try{return this.options.escape?this.formatter.format($W._B._decode(this.options.label)):this.formatter.format(this.options.label);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ai.prototype.setDisplayFormat=function(_12){["WebSquare.uiplugin.span.setDisplayFormat"];try{this.options.displayFormat=_12;this.formatter=$W._C.createFormatter(this.options.dataType,this.options.displayFormat,this.options.displayFormatter,this.options.ioFormat,null,null,this.scope_id);this.setValue(this.options.label);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ai.prototype.setDisplayFormatter=function(_13){["WebSquare.uiplugin.span.prototype.setDisplayFormatter "];try{this.options.displayFormatter=_13;this.formatter=$W._C.createFormatter(this.options.dataType,this.options.displayFormat,this.options.displayFormatter,this.options.ioFormat,null,null,this.scope_id);this.setValue(this.options.label);}catch(e){$W.exception.printStackTrace(e);}};$W._a.ai.prototype.getDataType=function(){["WebSquare.uiplugin.span.prototype.getDataType "];try{return this.options.dataType;}catch(e){$W.exception.printStackTrace(e);}};$W._a.ai.prototype.addClass=function(){["WebSquare.uiplugin.span.addClass"];try{$W._n.prototype.addClass.apply(this,arguments);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ai.prototype.removeClass=function(){["WebSquare.uiplugin.span.removeClass"];try{$W._n.prototype.removeClass.apply(this,arguments);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ai.prototype.changeClass=function(){["WebSquare.uiplugin.span.changeClass"];try{$W._n.prototype.changeClass.apply(this,arguments);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ai.prototype.toggleClass=function(){["WebSquare.uiplugin.span.toggleClass"];try{$W._n.prototype.toggleClass.apply(this,arguments);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ai.prototype.getAttributeNode=function(_14){["WebSquare.uiplugin.span.getAttributeNode"];try{return $W._t.attributes.getAttributeNode.call(this,_14);}catch(e){$W.exception.printStackTrace(e);}};$W._a.ai.prototype.setAttributeNode=function(_15,_16){["WebSquare.uiplugin.span.setAttributeNode"];try{$W._t.attributes.setAttributeNode.call(this,_15,_16);}catch(e){$W.exception.printStackTrace(e);}};$W._a.ai.prototype.removeAttributeNode=function(_17){["WebSquare.uiplugin.span.removeAttributeNode"];try{$W._t.attributes.removeAttributeNode.call(this,_17);}catch(e){$W.exception.printStackTrace(e);}};$W._a.ai.prototype.setRef=function(ref){["WebSquare.uiplugin.span.prototype.setRef "];try{if(!this.modelControl.isBinded()){this.modelControl.useRef=true;}this.options.ref=ref;this.modelControl.setRef(ref);this.refresh();}catch(e){$W.exception.printStackTrace(e);}};;WebSquare.uiplugin.span=$W._a.ai;$W._a._f=function(id,_2,_3){["WebSquare.uiplugin.pivotTable"];if(!$W._a._f.isImported){requires("externalJS/underscore/underscore-min.js");requires("externalJS/jquery/jquery-ui-1.9.2.custom.min.js");requires("uiplugin/pivotTable/pivot_min.js");requires("uiplugin/pivotTable/pivot_ko.js");$W._a._f.isImported=true;}$W._t.call(this,id,_2,_3);};$W.extend($W._a._f.prototype,$W._t.prototype);$W._a._f.prototype.defaultOptions={pluginType:"uiplugin.pivotTable",pluginName:"pivotTable",useConfig:true,userEvents:["onrefresh"],dataList:"",rows:"",cols:"",vals:"",defaultAggregator:"Sum",valuesAxis:"row",sortFunction:"",numberFormatter:"",rendererOptions:"",refreshOptions:false,renderMode:"full",showGrandTotal:false,noResultMessageVisible:false,noResultMessage:"",noResultMessageClass:"",noResultMessageStyle:""};$W._a._f.prototype.initialize=function(_4){["WebSquare.uiplugin.pivotTable.prototype.initialize"];try{this.initFlag=true;this.columnInfoList=[];this.seperator=",";this.pivotLanguage="ko";var _5="fieldInfo";var _6="field";var _7=$W._B.getElementsByTagName(_4,_5,$W._N._XML_NAMESPACE.W2)[0];var _8=$W._B.getElementsByTagName(_7,_6,$W._N._XML_NAMESPACE.W2);for(var j=0;j<_8.length;j++){var _a=_8[j];var _b={};for(var k=0;k<_a.attributes.length;k++){if($W.nodeValueDeprecated){_b[_a.attributes[k].name]=_a.attributes[k].value;}else{_b[_a.attributes[k].nodeName]=_a.attributes[k].nodeValue;}}if(_b.sortOrder!=undefined){_b.sortOrder=_b.sortOrder.split(this.seperator);}this.columnInfoList.push(_b);}this._dataList=null;this.options.noResultMessage=this.options.noResultMessage||$W._m.getMessage("Grid_noResultMessage")||"\uc870\ud68c \uacb0\uacfc\uac00 \uc5c6\uc2b5\ub2c8\ub2e4.";}catch(e){$W.exception.printStackTrace(e);}};$W._a._f.prototype.toHTML=function(){["WebSquare.uiplugin.pivotTable.toHTML"];try{var _d=[];var _e=(this.options.style=="")?"":"style='"+this.options.style+"'";_d.push("<div id='"+this.id+"' "+_e+" class='w2pivotTable "+this.options.className+"'>");_d.push("</div>");return _d.join("");}catch(e){$W.exception.printStackTrace(e);}};$W._a._f.prototype.setAction=function(){["WebSquare.uiplugin.pivotTable.prototype.setAction"];try{this.refreshItemset();}catch(e){$W.exception.printStackTrace(e);}};$W._a._f.prototype.refreshItemset=function(_f){["WebSquare.uiplugin.pivotTable.prototype.refresh"];try{var _10=$W._j.comp[this.options.dataList];if(this._dataList==null&&_10!=null){this._dataList=_10;this._dataList.addChild(this);this.modelControl.isDataCollectionItemsetBinded=true;this.modelControl.useItemset=true;}var _11=[];var _12=(_10.options.depthColumn)?_10.getTotalRow():_10.filteredRowIndexArr.length;var _13=_10.cellIdList.length;for(var i=0;i<_12;i++){var _15={};var _16=(_10.options.depthColumn)?i:_10.filteredRowIndexArr[i];for(var j=0;j<_10.cellIdList.length;j++){var _18=_10.getCellInfo(j);if(_18){if(_18.options.inputType=="expression"){_15[_18.id]=_18.getExpressionValue(_16);}else{_15[_18.id]=_10.dataArr[_16*_13+j];if(_15[_18.id]==null){_15[_18.id]="";}}}}_11.push(_15);}if(_11.length>0){var _19={};var _1a={};var _1b={};var _1c={};var _1d=[];for(var i=0;i<this.columnInfoList.length;i++){var _1e=this.columnInfoList[i];_19[_1e.id]=_1e.name||_1e.id;if(_1e.aggregator){_1a[_1e.id]=_1e.aggregator;}if(_1e.exclusions){_1b[_1e.id]=_1e.exclusions.split(this.seperator);}_1c[_1e.id]=i;_1d.push(_1e.id);}var _1f=this.id;var _20=this;var _21={"rows":this.options.rows.split(this.seperator),"cols":this.options.cols.split(this.seperator),"vals":this.options.vals.split(this.seperator),"valuesAxis":this.options.valuesAxis,"aggregatorName":this.options.defaultAggregator,"aggregatorList":_1a,"exclusions":_1b,"attributeLabels":_19,"numberFormat":$W._G.getGlobalFunction(this.options.numberFormatter),"onRefresh":function(_22){if(_20.options.showGrandTotal){_20.displayGrandTotal(_20.options.showGrandTotal);}$W._c.fireEvent($W._G.getComponentById(_1f),"onrefresh",_22);},"sorters":$W._G.getGlobalFunction(this.options.sortFunction)||function(_23){var _24=_1c[_23];var _25=$W._G.getComponentById(_1f);if(_25!=null&&_24!=undefined&&_25.columnInfoList[_24].sortOrder!=undefined){return $.pivotUtilities.sortAs(_25.columnInfoList[_24].sortOrder);}}};if(this.options.unusedAttrsVertical&&this.options.unusedAttrsVertical==="true"){_21.unusedAttrsVertical=true;}if(this.options.rendererOptions!==""){try{eval("var obfuscator_rendererOptions="+this.options.rendererOptions);if(typeof obfuscator_rendererOptions!=="undefined"){_21.rendererOptions=obfuscator_rendererOptions;}}catch(e){$W.exception.printStackTrace(e);}}var _26=document.getElementById(this.id+"_noresult");if(_26){_26.remove();}if(this.options.renderMode=="compact"){$("#"+this.id).pivot(_11,_21,_f||this.options.refreshOptions,this.pivotLanguage);}else{$("#"+this.id).pivotUI(_11,_21,_f||this.options.refreshOptions,this.pivotLanguage);}}else{if(this.initFlag==false){var _27=document.getElementById(this.id);var _28=_27.childNodes;for(var j=_28.length-1;j>=0;j--){_27.removeChild(_28.item(j));}if(this.options.noResultMessageVisible&&this.initFlag==false){var div=document.createElement("div");div.innerHTML="<div id='"+this.id+"_noresult' style='display:none;position:absolute;"+this.options.noResultMessageStyle+"' class='"+this.options.noResultMessageClass+"'>"+this.options.noResultMessage+"</div>";div.firstChild.style.display="block";this.appendChild(div.firstChild);}}this.initFlag=false;}}catch(e){$W.exception.printStackTrace(e);}};$W._a._f.prototype.setOption=function(_2a){["WebSquare.uiplugin.pivotTable.prototype.setOption"];try{for(var _2b in _2a){this.options[_2b]=_2a[_2b];}this.refreshItemset(true);}catch(e){$W.exception.printStackTrace(e);}};$W._a._f.prototype.getOption=function(){["WebSquare.uiplugin.pivotTable.prototype.getOption"];try{return $W.extend({},this.options);}catch(e){$W.exception.printStackTrace(e);}};$W._a._f.prototype.setRows=function(_2c){["WebSquare.uiplugin.pivotTable.prototype.setRows"];try{if(typeof _2c==="string"){this.options.rows=_2c;this.refreshItemset(true);}}catch(e){$W.exception.printStackTrace(e);}};$W._a._f.prototype.setCols=function(_2d){["WebSquare.uiplugin.pivotTable.prototype.setCols"];try{if(typeof _2d==="string"){this.options.cols=_2d;this.refreshItemset(true);}}catch(e){$W.exception.printStackTrace(e);}};$W._a._f.prototype.setVals=function(_2e){["WebSquare.uiplugin.pivotTable.prototype.setVals"];try{if(typeof _2e==="string"){this.options.vals=_2e;this.refreshItemset(true);}}catch(e){$W.exception.printStackTrace(e);}};$W._a._f.prototype.displayGrandTotal=function(_2f){["WebSquare.uiplugin.pivotTable.prototype.showGrandTotal"];try{var _30=document.getElementsByClassName("pvtTotal");var _31=document.getElementsByClassName("pvtTotalLabel");var _32=document.getElementsByClassName("pvtGrandTotal");var i;for(i=0;i<_30.length;j++){if(_2f==true){_30.removeClass("w2PivotTableDisplayNone");}else{_30.addClass("w2PivotTableDisplayNone");}}for(i=0;i<_31.length;j++){if(_2f==true){_31.removeClass("w2PivotTableDisplayNone");}else{_31.addClass("w2PivotTableDisplayNone");}}for(i=0;i<_32.length;j++){if(_2f==true){_32.removeClass("w2PivotTableDisplayNone");}else{_32.addClass("w2PivotTableDisplayNone");}}}catch(e){$W.exception.printStackTrace(e);}};$W._a._f.prototype.finalize=function(){["WebSquare.uiplugin.pivotTable.prototype.finalize"];try{if(this._dataList!=null){this._dataList.removeChild(this.id);}}catch(e){$W.exception.printStackTrace(e);}};;WebSquare.uiplugin.pivotTable=$W._a._f;$W._a.ar=function(id,_2,_3){["WebSquare.uiplugin.fwFunnelChart"];$W._t.call(this,id,_2,_3);};$W.extend($W._a.ar.prototype,$W._t.prototype);$W._a.ar.prototype.defaultOptions={pluginType:"uiplugin.fwFunnelChart",pluginName:"fwFunnelChart",useConfig:true,accessibility:false,seriesType:"advanced",plotColor:"2ec6c8,b5a1dd,5ab0ee,f4984e,d77a80,90bddc,fe5d55,b5dc59,9ea7b3,00ba84,878bb6,757a85",version:"3.7"};$W._a.ar.prototype.initialize=function(_4){if(typeof FusionCharts=="undefined"){if(this.options.version=="3.11"||(!this.options.version&&$W._N.getConfiguration("/WebSquare/fusionchart/version/@value")=="3.11")){this.options.version="3.11";imports("externalJS/FusionCharts3.11.0/FusionCharts_all.js");}else{imports("externalJS/FusionCharts3.7/FusionCharts_all.js");}}this.fcObj=null;this.chartObj={};this.attributeObj=null;this.plotColorObj=null;};$W._a.ar.prototype.toHTML=function(){["WebSquare.uiplugin.fwFunnelChart.toHTML"];var _5=[];var _6=(this.options.style=="")?"":"style='"+this.options.style+"'";_5.push("<div id='"+this.id+"' "+_6+" class='w2fwFunnelChart "+this.options.className+"'>");_5.push("</div>");return _5.join("");};$W._a.ar.prototype.setAction=function(){try{this.fcObj=new FusionCharts("funnel","fw_funnel_"+this.id,"100%",this.render.offsetHeight);this.setDefaultOption();if(this.modelControl.isDataCollectionRefBinded){var _7=this.modelControl.dataCollectionRefInfo.dataComp;if((this.options.seriesType).toLowerCase()=="simple"){if(_7.getRowCount()>0){var _8=_7.getFusionChartSimpleData("funnel",this.options.labelNode,this.options.seriesNode,this.options.valueNode);if(_8){this.setJSONData(_8);}else{$W.logger.printLog(this.id+" : Simple seriesType does not support");}}}else{if(_7.getRowCount()>0){var _8=_7.getFusionChartData("funnel",this.options.labelNode,this.options.seriesColumns);if(_8){this.setJSONData(_8);}}}}}catch(e){$W.exception.printStackTrace(e);}};$W._a.ar.prototype.refresh=function(){["WebSquare.uiplugin.fwFunnelChart.prototype.refresh"];try{if(this.modelControl.isDataCollectionRefBinded){var _9=this.modelControl.dataCollectionRefInfo.dataComp;if((this.options.seriesType).toLowerCase()=="simple"){var _a=_9.getFusionChartSimpleData("funnel",this.options.labelNode,this.options.seriesNode,this.options.valueNode);if(_a){this.setJSONData(_a);}else{$W.logger.printLog(this.id+" : Simple seriesType does not support");}}else{var _a=_9.getFusionChartData("funnel",this.options.labelNode,this.options.seriesColumns);if(_a){this.setJSONData(_a);}}}}catch(e){$W.exception.printStackTrace(e);}};$W._a.ar.prototype.setJSONData=function(_b){["WebSquare.uiplugin.fwFunnelChart.prototype.setJSONData"];try{this.chartObj=_b;var _c=this.options.plotColor.split(",");this.setPlotDefaultColor(_c);this.draw();}catch(e){$W.exception.printStackTrace(e);}};$W._a.ar.prototype.getJSONData=function(){["WebSquare.uiplugin.fwFunnelChart.prototype.getJSONData"];try{var _d=this.fcObj.getJSONData();return _d;}catch(e){$W.exception.printStackTrace(e);}};$W._a.ar.prototype.fc=function(){["WebSquare.uiplugin.fwFunnelChart.prototype.fc"];try{var _e=FusionCharts.items;var _f="fw_funnel_"+this.id;return _e[_f];}catch(e){$W.exception.printStackTrace(e);}};$W._a.ar.prototype.draw=function(){["WebSquare.uiplugin.fwFunnelChart.prototype.draw"];try{if(this.attributeObj!=null){this._setChartAttribute(this.attributeObj);}if(this.plotColorObj!=null){this._setPlotColor(this.plotColorObj);}if(this.attributeObj!=null){this.chartObj.chart=this.attributeObj;}var _10=this.fc();_10.setJSONData(this.chartObj);if(!_10.isActive()){_10.render(this.id);}if(this.options.accessibility==true){this.setAccessibility(true);}}catch(e){$W.exception.printStackTrace(e);}};$W._a.ar.prototype.setDefaultOption=function(){["WebSquare.uiplugin.fwFunnelChart.prototype.setDefaultOption"];try{var _11={"showborder":"1","animation":"1","bgcolor":"FFFFFF","canvasbgcolor":"FFFFFF","showplotborder":"0","divlinethickness":"1","canvasbordercolor":"FFFFFF","showalternatehgridcolor":"0","showvalues":"0","plotgradientcolor":"","showalternatevgridcolor":"0","divlinecolor":"b3b3b3","bordercolor":"b3b3b3","use3dlighting":"0","showshadow":"0","formatnumberscale":"0"};for(var key in _11){if(this.attributeObj&&typeof this.attributeObj[key]!="undefined"){_11[key]=this.attributeObj[key];}}this.setChartAttribute(_11);}catch(e){$W.exception.printStackTrace(e);}};$W._a.ar.prototype.setPlotDefaultColor=function(_13){["WebSquare.uiplugin.fwFunnelChart.prototype.setPlotDefaultColor"];try{var _14=this.chartObj;if(_14.dataset!=undefined){for(var i=0;i<_14.dataset.length;i++){if(i>=_13.length){break;}_14.dataset[i].color=_13[i];}}else{if(_14.data!=undefined){for(var j=0;j<_14.data.length;j++){if(j>=_13.length){break;}_14.data[j].color=_13[j];}}}}catch(e){$W.exception.printStackTrace(e);}};$W._a.ar.prototype.setChartAttribute=function(_17){["WebSquare.uiplugin.fwFunnelChart.prototype.setChartAttribute"];try{if(this.attributeObj==null){this.attributeObj={};}for(var key in _17){if(_17.hasOwnProperty(key)){this.attributeObj[key.toLowerCase()]=_17[key];}}}catch(e){$W.exception.printStackTrace(e);}};$W._a.ar.prototype._setChartAttribute=function(_19){["WebSquare.uiplugin.fwFunnelChart.prototype._setChartAttribute"];try{this.chartObj.chart=_19;}catch(e){$W.exception.printStackTrace(e);}};$W._a.ar.prototype.setPlotColor=function(_1a){["WebSquare.uiplugin.fwFunnelChart.prototype.setplotColor"];try{this.plotColorObj=_1a;}catch(e){$W.exception.printStackTrace(e);}};$W._a.ar.prototype._setPlotColor=function(_1b){["WebSquare.uiplugin.fwFunnelChart.prototype._setplotColor"];try{var _1c=this.chartObj;if(_1c.dataset!=undefined){for(var j=0;j<_1c.dataset.length;j++){if(j>=_1b.length){break;}_1c.dataset[j].color=_1b[j];}}else{if(_1c.data!=undefined){for(var j=0;j<_1c.data.length;j++){if(j>=_1b.length){break;}_1c.data[j].color=_1b[j];}}}}catch(e){$W.exception.printStackTrace(e);}};$W._a.ar.prototype.getChartAttribute=function(_1e){["WebSquare.uiplugin.fwFunnelChart.prototype.getChartAttribute"];try{return FusionCharts.items["fw_funnel_"+this.id].getChartAttribute(_1e);}catch(e){$W.exception.printStackTrace(e);}};$W._a.ar.prototype.setChartColumnRef=function(ref,_20,_21){["WebSquare.uiplugin.fwFunnelChart.prototype.setChartColumnRef"];try{ref=($W._G.isNull(ref))?this.options.ref:ref;_20=($W._G.isNull(_20))?this.options.labelNode:_20;_21=($W._G.isNull(_21))?this.options.seriesColumns:_21;if(this.options.ref!=ref){if(this.options.ref!=""){this.modelControl.dataCollectionRefInfo.dataComp.removeChild(this.id);}var _22=ref.replace("data:","");$w.data[_22].addChild($W._G.getComponentById(this.id));}this.options.ref=ref;this.options.labelNode=_20;this.options.seriesColumns=_21;this.modelControl.useRef=true;this.modelControl.setRef(ref);this.refresh();}catch(e){$W.exception.printStackTrace(e);}};$W._a.ar.prototype.setChartColumnSimpleRef=function(ref,_24,_25,_26){["WebSquare.uiplugin.fwFunnelChart.prototype.setChartColumnSimpleRef"];try{ref=($W._G.isNull(ref))?this.options.ref:ref;_24=($W._G.isNull(_24))?this.options.labelNode:_24;_25=($W._G.isNull(_25))?this.options.seriesNode:_25;_26=($W._G.isNull(_26))?this.options.valueNode:_26;if(this.options.ref!=ref){if(this.options.ref!=""){var _27=this.options.ref.replace("data:","");this.modelControl.dataCollectionRefInfo.dataComp.removeChild(this.id);}var _28=ref.replace("data:","");$w.data[_28].addChild($W._G.getComponentById(this.id));}this.options.ref=ref;this.options.labelNode=_24;this.options.seriesNode=_25;this.options.valueNode=_26;this.modelControl.useRef=true;this.modelControl.setRef(ref);this.refresh();}catch(e){$W.exception.printStackTrace(e);}};$W._a.ar.prototype.exportJSChart=function(_29){["WebSquare.uiplugin.fwFunnelChart.exportJSChart"];try{if(!_29){_29="jpg";}var _2a=this.options.id||"fusionChart";var _2b=this.getSVGString();if(_2b){var _2c=encodeURI(_2b+"ExportType="+_29+"ExportFileName="+_2a);$W._N.download("engine/servlet/exportFusionChart.jsp",_2c,"post");}}catch(e){$W.exception.printStackTrace(e);}};$W._a.ar.prototype.getSVGString=function(){["WebSquare.uiplugin.fwFunnelChart.getSVGString"];try{var _2d=this.fc().getSVGString();if(_2d){_2d=_2d.wq_replaceAll("shape-rendering=\"default\"","shape-rendering='auto'");_2d=_2d.wq_replaceAll("visibility=\"\"","visibility='inherit'");_2d=_2d.wq_replaceAll("text-anchor=\"undefined\"","text-anchor='start'");_2d=_2d.wq_replaceAll("1e-006","0.000001");_2d=_2d.wq_replaceAll("font-family=\"15\"","font-family=\"Verdana\"");return _2d;}else{$W.logger.printLog("not found svg object");}}catch(e){$W.exception.printStackTrace(e);}};$W._a.ar.prototype.setAccessibility=function(_2e){["WebSquare.uiplugin.fwFunnelChart.setAccessibility"];try{if(_2e==true){var _2f="";var _30="";if(document.getElementById("accessibility_"+this.id)==null){var div=this.render;var ul=document.createElement("ul");ul.id="accessibility_"+this.id;$W._H.addClass(ul,"w2fusionchart_accessibility");var _33=this.chartObj;var _34=this.attributeObj.caption;var _35=document.createElement("li");if(_34){_35.innerHTML="title : "+_34;ul.appendChild(_35);}for(var i=0;i<_33.data.length;i++){var li=document.createElement("li");if(_33.data[i]){_2f=_33.data[i].label?_33.data[i].label:_33.data[i].LABEL;_30=_33.data[i].value?_33.data[i].value:_33.data[i].VALUE;}else{_2f="";_30="";}li.innerHTML="label : "+_2f+", value : "+_30;ul.appendChild(li);}div.insertBefore(ul,div.lastChild);}else{var ul=document.getElementById("accessibility_"+this.id);ul.innerHTML="";var _33=this.chartObj;var _34=this.attributeObj.caption;var _35=document.createElement("li");if(_34){_35.innerHTML="title : "+_34;ul.appendChild(_35);}for(var i=0;i<_33.data.length;i++){var li=document.createElement("li");if(_33.data[i]){_2f=_33.data[i].label?_33.data[i].label:_33.data[i].LABEL;_30=_33.data[i].value?_33.data[i].value:_33.data[i].VALUE;}else{_2f="";_30="";}li.innerHTML="label : "+_2f+", value : "+_30;ul.appendChild(li);}}}else{var _38=this.render;var _39=_38.getElementsByClassName("w2fusionchart_accessibility");if(_39!=null&&_39.length!=0){_39=_39[0];_38.removeChild(_39);}_38=null;_39=null;}}catch(e){$W.exception.printStackTrace(e);}};;WebSquare.uiplugin.fwFunnelChart=$W._a.ar;$W._a.af=function(id,_2,_3){["WebSquare.uiplugin.fwPyramidChart"];$W._t.call(this,id,_2,_3);};$W.extend($W._a.af.prototype,$W._t.prototype);$W._a.af.prototype.defaultOptions={pluginType:"uiplugin.fwPyramidChart",pluginName:"fwPyramidChart",useConfig:true,accessibility:false,seriesType:"advanced",plotColor:"2ec6c8,b5a1dd,5ab0ee,f4984e,d77a80,90bddc,fe5d55,b5dc59,9ea7b3,00ba84,878bb6,757a85",version:"3.7"};$W._a.af.prototype.initialize=function(_4){if(typeof FusionCharts=="undefined"){if(this.options.version=="3.11"||(!this.options.version&&$W._N.getConfiguration("/WebSquare/fusionchart/version/@value")=="3.11")){this.options.version="3.11";imports("externalJS/FusionCharts3.11.0/FusionCharts_all.js");}else{imports("externalJS/FusionCharts3.7/FusionCharts_all.js");}}this.fcObj=null;this.chartObj={};this.attributeObj=null;this.plotColorObj=null;};$W._a.af.prototype.toHTML=function(){["WebSquare.uiplugin.fwPyramidChart.toHTML"];var _5=[];var _6=(this.options.style=="")?"":"style='"+this.options.style+"'";_5.push("<div id='"+this.id+"' "+_6+" class='w2fwPyramidChart "+this.options.className+"'>");_5.push("</div>");return _5.join("");};$W._a.af.prototype.setAction=function(){try{this.fcObj=new FusionCharts("pyramid","fw_pyramid_"+this.id,"100%",this.render.offsetHeight);this.setDefaultOption();if(this.modelControl.isDataCollectionRefBinded){var _7=this.modelControl.dataCollectionRefInfo.dataComp;if((this.options.seriesType).toLowerCase()=="simple"){if(_7.getRowCount()>0){var _8=_7.getFusionChartSimpleData("pyramid",this.options.labelNode,this.options.seriesNode,this.options.valueNode);if(_8){this.setJSONData(_8);}else{$W.logger.printLog(this.id+" : Simple seriesType does not support");}}}else{if(_7.getRowCount()>0){var _8=_7.getFusionChartData("pyramid",this.options.labelNode,this.options.seriesColumns);if(_8){this.setJSONData(_8);}}}}}catch(e){$W.exception.printStackTrace(e);}};$W._a.af.prototype.refresh=function(){["WebSquare.uiplugin.fwPyramidChart.prototype.refresh"];try{if(this.modelControl.isDataCollectionRefBinded){var _9=this.modelControl.dataCollectionRefInfo.dataComp;if((this.options.seriesType).toLowerCase()=="simple"){var _a=_9.getFusionChartSimpleData("pyramid",this.options.labelNode,this.options.seriesNode,this.options.valueNode);if(_a){this.setJSONData(_a);}else{$W.logger.printLog(this.id+" : Simple seriesType does not support");}}else{var _a=_9.getFusionChartData("pyramid",this.options.labelNode,this.options.seriesColumns);if(_a){this.setJSONData(_a);}}}}catch(e){$W.exception.printStackTrace(e);}};$W._a.af.prototype.setJSONData=function(_b){["WebSquare.uiplugin.fwPyramidChart.prototype.setJSONData"];try{this.chartObj=_b;var _c=this.options.plotColor.split(",");this.setPlotDefaultColor(_c);this.draw();}catch(e){$W.exception.printStackTrace(e);}};$W._a.af.prototype.getJSONData=function(){["WebSquare.uiplugin.fwPyramidChart.prototype.getJSONData"];try{var _d=this.fcObj.getJSONData();return _d;}catch(e){$W.exception.printStackTrace(e);}};$W._a.af.prototype.fc=function(){["WebSquare.uiplugin.fwPyramidChart.prototype.fc"];try{var _e=FusionCharts.items;var _f="fw_pyramid_"+this.id;return _e[_f];}catch(e){$W.exception.printStackTrace(e);}};$W._a.af.prototype.draw=function(){["WebSquare.uiplugin.fwPyramidChart.prototype.draw"];try{if(this.attributeObj!=null){this._setChartAttribute(this.attributeObj);}if(this.plotColorObj!=null){this._setPlotColor(this.plotColorObj);}if(this.attributeObj!=null){this.chartObj.chart=this.attributeObj;}var _10=this.fc();_10.setJSONData(this.chartObj);if(!_10.isActive()){_10.render(this.id);}if(this.options.accessibility==true){this.setAccessibility(true);}}catch(e){$W.exception.printStackTrace(e);}};$W._a.af.prototype.setDefaultOption=function(){["WebSquare.uiplugin.fwPyramidChart.prototype.setDefaultOption"];try{var _11={"showborder":"1","animation":"1","bgcolor":"FFFFFF","canvasbgcolor":"FFFFFF","showplotborder":"0","divlinethickness":"1","canvasbordercolor":"FFFFFF","showalternatehgridcolor":"0","showvalues":"0","plotgradientcolor":"","showalternatevgridcolor":"0","divlinecolor":"b3b3b3","bordercolor":"b3b3b3","use3dlighting":"0","showshadow":"0","formatnumberscale":"0"};for(var key in _11){if(this.attributeObj&&typeof this.attributeObj[key]!="undefined"){_11[key]=this.attributeObj[key];}}this.setChartAttribute(_11);}catch(e){$W.exception.printStackTrace(e);}};$W._a.af.prototype.setPlotDefaultColor=function(_13){["WebSquare.uiplugin.fwPyramidChart.prototype.setPlotDefaultColor"];try{var _14=this.chartObj;if(_14.dataset!=undefined){for(var i=0;i<_14.dataset.length;i++){if(i>=_13.length){break;}_14.dataset[i].color=_13[i];}}else{if(_14.data!=undefined){for(var j=0;j<_14.data.length;j++){if(j>=_13.length){break;}_14.data[j].color=_13[j];}}}}catch(e){$W.exception.printStackTrace(e);}};$W._a.af.prototype.setChartAttribute=function(_17){["WebSquare.uiplugin.fwPyramidChart.prototype.setChartAttribute"];try{if(this.attributeObj==null){this.attributeObj={};}for(var key in _17){if(_17.hasOwnProperty(key)){this.attributeObj[key.toLowerCase()]=_17[key];}}}catch(e){$W.exception.printStackTrace(e);}};$W._a.af.prototype._setChartAttribute=function(_19){["WebSquare.uiplugin.fwPyramidChart.prototype._setChartAttribute"];try{this.chartObj.chart=_19;}catch(e){$W.exception.printStackTrace(e);}};$W._a.af.prototype.setPlotColor=function(_1a){["WebSquare.uiplugin.fwPyramidChart.prototype.setplotColor"];try{this.plotColorObj=_1a;}catch(e){$W.exception.printStackTrace(e);}};$W._a.af.prototype._setPlotColor=function(_1b){["WebSquare.uiplugin.fwPyramidChart.prototype._setplotColor"];try{var _1c=this.chartObj;if(_1c.dataset!=undefined){for(var j=0;j<_1c.dataset.length;j++){if(j>=_1b.length){break;}_1c.dataset[j].color=_1b[j];}}else{if(_1c.data!=undefined){for(var j=0;j<_1c.data.length;j++){if(j>=_1b.length){break;}_1c.data[j].color=_1b[j];}}}}catch(e){$W.exception.printStackTrace(e);}};$W._a.af.prototype.getChartAttribute=function(_1e){["WebSquare.uiplugin.fwPyramidChart.prototype.getChartAttribute"];try{return FusionCharts.items["fw_pyramid_"+this.id].getChartAttribute(_1e);}catch(e){$W.exception.printStackTrace(e);}};$W._a.af.prototype.setChartColumnRef=function(ref,_20,_21){["WebSquare.uiplugin.fwPyramidChart.prototype.setChartColumnRef"];try{ref=($W._G.isNull(ref))?this.options.ref:ref;_20=($W._G.isNull(_20))?this.options.labelNode:_20;_21=($W._G.isNull(_21))?this.options.seriesColumns:_21;if(this.options.ref!=ref){if(this.options.ref!=""){this.modelControl.dataCollectionRefInfo.dataComp.removeChild(this.id);}var _22=ref.replace("data:","");$w.data[_22].addChild($W._G.getComponentById(this.id));}this.options.ref=ref;this.options.labelNode=_20;this.options.seriesColumns=_21;this.modelControl.useRef=true;this.modelControl.setRef(ref);this.refresh();}catch(e){$W.exception.printStackTrace(e);}};$W._a.af.prototype.setChartColumnSimpleRef=function(ref,_24,_25,_26){["WebSquare.uiplugin.fwPyramidChart.prototype.setChartColumnSimpleRef"];try{ref=($W._G.isNull(ref))?this.options.ref:ref;_24=($W._G.isNull(_24))?this.options.labelNode:_24;_25=($W._G.isNull(_25))?this.options.seriesNode:_25;_26=($W._G.isNull(_26))?this.options.valueNode:_26;if(this.options.ref!=ref){if(this.options.ref!=""){var _27=this.options.ref.replace("data:","");this.modelControl.dataCollectionRefInfo.dataComp.removeChild(this.id);}var _28=ref.replace("data:","");$w.data[_28].addChild($W._G.getComponentById(this.id));}this.options.ref=ref;this.options.labelNode=_24;this.options.seriesNode=_25;this.options.valueNode=_26;this.modelControl.useRef=true;this.modelControl.setRef(ref);this.refresh();}catch(e){$W.exception.printStackTrace(e);}};$W._a.af.prototype.exportJSChart=function(_29){["WebSquare.uiplugin.fwPyramidChart.exportJSChart"];try{if(!_29){_29="jpg";}var _2a=this.options.id||"fusionChart";var _2b=this.getSVGString();if(_2b){var _2c=encodeURI(_2b+"ExportType="+_29+"ExportFileName="+_2a);$W._N.download("engine/servlet/exportFusionChart.jsp",_2c,"post");}}catch(e){$W.exception.printStackTrace(e);}};$W._a.af.prototype.getSVGString=function(){["WebSquare.uiplugin.fwPyramidChart.getSVGString"];try{var _2d=this.fc().getSVGString();if(_2d){_2d=_2d.wq_replaceAll("shape-rendering=\"default\"","shape-rendering='auto'");_2d=_2d.wq_replaceAll("visibility=\"\"","visibility='inherit'");_2d=_2d.wq_replaceAll("text-anchor=\"undefined\"","text-anchor='start'");_2d=_2d.wq_replaceAll("1e-006","0.000001");_2d=_2d.wq_replaceAll("font-family=\"15\"","font-family=\"Verdana\"");return _2d;}else{$W.logger.printLog("not found svg object");}}catch(e){$W.exception.printStackTrace(e);}};$W._a.af.prototype.setAccessibility=function(_2e){["WebSquare.uiplugin.fwPyramidChart.setAccessibility"];try{if(_2e==true){var _2f="";var _30="";if(document.getElementById("accessibility_"+this.id)==null){var div=this.render;var ul=document.createElement("ul");ul.id="accessibility_"+this.id;$W._H.addClass(ul,"w2fusionchart_accessibility");var _33=this.chartObj;var _34=this.attributeObj.caption;var _35=document.createElement("li");if(_34){_35.innerHTML="title : "+_34;ul.appendChild(_35);}for(var i=0;i<_33.data.length;i++){var li=document.createElement("li");if(_33.data[i]){_2f=_33.data[i].label?_33.data[i].label:_33.data[i].LABEL;_30=_33.data[i].value?_33.data[i].value:_33.data[i].VALUE;}else{_2f="";_30="";}li.innerHTML="label : "+_2f+", value : "+_30;ul.appendChild(li);}div.insertBefore(ul,div.lastChild);}else{var ul=document.getElementById("accessibility_"+this.id);ul.innerHTML="";var _33=this.chartObj;var _34=this.attributeObj.caption;var _35=document.createElement("li");if(_34){_35.innerHTML="title : "+_34;ul.appendChild(_35);}for(var i=0;i<_33.data.length;i++){var li=document.createElement("li");if(_33.data[i]){_2f=_33.data[i].label?_33.data[i].label:_33.data[i].LABEL;_30=_33.data[i].value?_33.data[i].value:_33.data[i].VALUE;}else{_2f="";_30="";}li.innerHTML="label : "+_2f+", value : "+_30;ul.appendChild(li);}}}else{var _38=this.render;var _39=_38.getElementsByClassName("w2fusionchart_accessibility");if(_39!=null&&_39.length!=0){_39=_39[0];_38.removeChild(_39);}_38=null;_39=null;}}catch(e){$W.exception.printStackTrace(e);}};;WebSquare.uiplugin.fwPyramidChart=$W._a.af;$W._a.bo=function(id,_2,_3){["WebSquare.uiplugin.fwSparkChart"];$W._t.call(this,id,_2,_3);};$W.extend($W._a.bo.prototype,$W._t.prototype);$W._a.bo.prototype.defaultOptions={pluginType:"uiplugin.fwSparkChart",pluginName:"fwSparkChart",useConfig:true,accessibility:false,chartType:"sparkline",seriesType:"simple",version:"3.7"};$W._a.bo.prototype.initialize=function(_4){if(typeof FusionCharts=="undefined"){if(this.options.version=="3.11"||(!this.options.version&&$W._N.getConfiguration("/WebSquare/fusionchart/version/@value")=="3.11")){this.options.version="3.11";imports("externalJS/FusionCharts3.11.0/FusionCharts_all.js");}else{imports("externalJS/FusionCharts3.7/FusionCharts_all.js");}}this.fcObj=null;this.chartObj={};this.attributeObj=null;};$W._a.bo.prototype.toHTML=function(){["WebSquare.uiplugin.fwSparkChart.toHTML"];var _5=[];var _6=(this.options.style=="")?"":"style='"+this.options.style+"'";_5.push("<div id='"+this.id+"' "+_6+" class='w2fwSparkChart "+this.options.className+"'>");_5.push("</div>");return _5.join("");};$W._a.bo.prototype.setAction=function(){try{this.fcObj=new FusionCharts(this.options.chartType,"fw_spark_"+this.id,"100%",this.render.offsetHeight);this.setDefaultOption();if(this.modelControl.isDataCollectionRefBinded){var _7=this.modelControl.dataCollectionRefInfo.dataComp;if((this.options.seriesType).toLowerCase()=="simple"){if(_7.getRowCount()>0){var _8=_7.getFusionChartSimpleData(this.options.chartType,this.options.labelNode,this.options.seriesNode,this.options.valueNode);if(_8){this.setJSONData(_8);}else{$W.logger.printLog(this.id+" : Simple seriesType does not support");}}}else{if(_7.getRowCount()>0){var _8=_7.getFusionChartData(this.options.chartType,this.options.labelNode,this.options.seriesColumns);if(_8){this.setJSONData(_8);}}}}}catch(e){$W.exception.printStackTrace(e);}};$W._a.bo.prototype.refresh=function(){["WebSquare.uiplugin.fwSparkChart.prototype.refresh"];try{if(this.modelControl.isDataCollectionRefBinded){var _9=this.modelControl.dataCollectionRefInfo.dataComp;if((this.options.seriesType).toLowerCase()=="simple"){var _a=_9.getFusionChartSimpleData(this.options.chartType,this.options.labelNode,this.options.seriesNode,this.options.valueNode);if(_a){this.setJSONData(_a);}else{$W.logger.printLog(this.id+" : Simple seriesType does not support");}}else{var _a=_9.getFusionChartData(this.options.chartType,this.options.labelNode,this.options.seriesColumns);if(_a){this.setJSONData(_a);}}}}catch(e){$W.exception.printStackTrace(e);}};$W._a.bo.prototype.setJSONData=function(_b){["WebSquare.uiplugin.fwSparkChart.prototype.setJSONData"];try{this.chartObj=_b;this.draw();}catch(e){$W.exception.printStackTrace(e);}};$W._a.bo.prototype.getJSONData=function(){["WebSquare.uiplugin.fwSparkChart.prototype.getJSONData"];try{var _c=this.fcObj.getJSONData();return _c;}catch(e){$W.exception.printStackTrace(e);}};$W._a.bo.prototype.fc=function(){["WebSquare.uiplugin.fwSparkChart.prototype.fc"];try{var _d=FusionCharts.items;var _e="fw_spark_"+this.id;return _d[_e];}catch(e){$W.exception.printStackTrace(e);}};$W._a.bo.prototype.draw=function(){["WebSquare.uiplugin.fwSparkChart.prototype.draw"];try{if(this.attributeObj!=null){this._setChartAttribute(this.attributeObj);}if(this.attributeObj!=null){this.chartObj.chart=this.attributeObj;}var _f=this.fc();_f.setJSONData(this.chartObj);if(!_f.isActive()){_f.render(this.id);}if(this.options.accessibility==true){this.setAccessibility(true);}}catch(e){$W.exception.printStackTrace(e);}};$W._a.bo.prototype.setDefaultOption=function(){["WebSquare.uiplugin.fwSparkChart.prototype.setDefaultOption"];try{var _10={"showborder":"1","animation":"1","bgcolor":"FFFFFF","canvasbgcolor":"FFFFFF","showplotborder":"0","divlinethickness":"1","canvasbordercolor":"FFFFFF","showalternatehgridcolor":"0","showvalues":"0","plotgradientcolor":"","showalternatevgridcolor":"0","divlinecolor":"b3b3b3","bordercolor":"b3b3b3","use3dlighting":"0","showshadow":"0","formatnumberscale":"0","plotFillColor":"#0075c2","highColor":"#1aaf5d","lowColor":"#8e0000","showHoverEffect":"1"};for(var key in _10){if(this.attributeObj&&typeof this.attributeObj[key]!="undefined"){_10[key]=this.attributeObj[key];}}this.setChartAttribute(_10);}catch(e){$W.exception.printStackTrace(e);}};$W._a.bo.prototype.setChartAttribute=function(_12){["WebSquare.uiplugin.fwSparkChart.prototype.setChartAttribute"];try{if(this.attributeObj==null){this.attributeObj={};}for(var key in _12){if(_12.hasOwnProperty(key)){this.attributeObj[key.toLowerCase()]=_12[key];}}}catch(e){$W.exception.printStackTrace(e);}};$W._a.bo.prototype._setChartAttribute=function(_14){["WebSquare.uiplugin.fwSparkChart.prototype._setChartAttribute"];try{this.chartObj.chart=_14;}catch(e){$W.exception.printStackTrace(e);}};$W._a.bo.prototype.getChartAttribute=function(_15){["WebSquare.uiplugin.fwSparkChart.prototype.getChartAttribute"];try{return FusionCharts.items["fw_spark_"+this.id].getChartAttribute(_15);}catch(e){$W.exception.printStackTrace(e);}};$W._a.bo.prototype.setChartColumnRef=function(ref,_17,_18){["WebSquare.uiplugin.fwSparkChart.prototype.setChartColumnRef"];try{ref=($W._G.isNull(ref))?this.options.ref:ref;_17=($W._G.isNull(_17))?this.options.labelNode:_17;_18=($W._G.isNull(_18))?this.options.seriesColumns:_18;if(this.options.ref!=ref){if(this.options.ref!=""){this.modelControl.dataCollectionRefInfo.dataComp.removeChild(this.id);}var _19=ref.replace("data:","");$W._u.data[_19].addChild($W._G.getComponentById(this.id));}this.options.ref=ref;this.options.labelNode=_17;this.options.seriesColumns=_18;this.modelControl.useRef=true;this.modelControl.setRef(ref);this.refresh();}catch(e){$W.exception.printStackTrace(e);}};$W._a.bo.prototype.setChartColumnSimpleRef=function(ref,_1b,_1c,_1d){["WebSquare.uiplugin.fwSparkChart.prototype.setChartColumnSimpleRef"];try{ref=($W._G.isNull(ref))?this.options.ref:ref;_1b=($W._G.isNull(_1b))?this.options.labelNode:_1b;_1c=($W._G.isNull(_1c))?this.options.seriesNode:_1c;_1d=($W._G.isNull(_1d))?this.options.valueNode:_1d;if(this.options.ref!=ref){if(this.options.ref!=""){var _1e=this.options.ref.replace("data:","");this.modelControl.dataCollectionRefInfo.dataComp.removeChild(this.id);}var _1f=ref.replace("data:","");$W._u.data[_1f].addChild($W._G.getComponentById(this.id));}this.options.ref=ref;this.options.labelNode=_1b;this.options.seriesNode=_1c;this.options.valueNode=_1d;this.modelControl.useRef=true;this.modelControl.setRef(ref);this.refresh();}catch(e){$W.exception.printStackTrace(e);}};$W._a.bo.prototype.exportJSChart=function(_20){["WebSquare.uiplugin.fwSparkChart.exportJSChart"];try{if(!_20){_20="jpg";}var _21=this.options.id||"fusionChart";var _22=this.getSVGString();if(_22){var _23=encodeURI(_22+"ExportType="+_20+"ExportFileName="+_21);$W._N.download("engine/servlet/exportFusionChart.jsp",_23,"post");}}catch(e){$W.exception.printStackTrace(e);}};$W._a.bo.prototype.getSVGString=function(){["WebSquare.uiplugin.fwSparkChart.getSVGString"];try{var _24=this.fc().getSVGString();if(_24){_24=_24.wq_replaceAll("shape-rendering=\"default\"","shape-rendering='auto'");_24=_24.wq_replaceAll("visibility=\"\"","visibility='inherit'");_24=_24.wq_replaceAll("text-anchor=\"undefined\"","text-anchor='start'");_24=_24.wq_replaceAll("1e-006","0.000001");_24=_24.wq_replaceAll("font-family=\"15\"","font-family=\"Verdana\"");return _24;}else{$W.logger.printLog("not found svg object");}}catch(e){$W.exception.printStackTrace(e);}};$W._a.bo.prototype.setAccessibility=function(_25){["WebSquare.uiplugin.fwSparkChart.setAccessibility"];try{if(_25==true){var _26="";var _27="";if(document.getElementById("accessibility_"+this.id)==null){var div=this.render;var ul=document.createElement("ul");ul.id="accessibility_"+this.id;$W._H.addClass(ul,"w2fusionchart_accessibility");var _2a=this.chartObj;var _2b=this.attributeObj.caption;var _2c=document.createElement("li");if(_2b){_2c.innerHTML="title : "+_2b;ul.appendChild(_2c);}for(var i=0;i<_2a.data.length;i++){var li=document.createElement("li");if(_2a.data[i]){_26=_2a.data[i].label?_2a.data[i].label:_2a.data[i].LABEL;_27=_2a.data[i].value?_2a.data[i].value:_2a.data[i].VALUE;}else{_26="";_27="";}li.innerHTML="label : "+_26+", value : "+_27;ul.appendChild(li);}div.insertBefore(ul,div.lastChild);}else{var ul=document.getElementById("accessibility_"+this.id);ul.innerHTML="";var _2a=this.chartObj;var _2b=this.attributeObj.caption;var _2c=document.createElement("li");if(_2b){_2c.innerHTML="title : "+_2b;ul.appendChild(_2c);}for(var i=0;i<_2a.data.length;i++){var li=document.createElement("li");if(_2a.data[i]){_26=_2a.data[i].label?_2a.data[i].label:_2a.data[i].LABEL;_27=_2a.data[i].value?_2a.data[i].value:_2a.data[i].VALUE;}else{_26="";_27="";}li.innerHTML="label : "+_26+", value : "+_27;ul.appendChild(li);}}}else{var _2f=this.render;var _30=_2f.getElementsByClassName("w2fusionchart_accessibility");if(_30!=null&&_30.length!=0){_30=_30[0];_2f.removeChild(_30);}_2f=null;_30=null;}}catch(e){$W.exception.printStackTrace(e);}};;WebSquare.uiplugin.fwSparkChart=$W._a.bo;$W._a.bh=function(id,_2,_3){["WebSquare.uiplugin.fwGaugeChart"];$W._t.call(this,id,_2,_3);};$W.extend($W._a.bh.prototype,$W._t.prototype);$W._a.bh.prototype.defaultOptions={pluginType:"uiplugin.fwGaugeChart",pluginName:"fwGaugeChart",useConfig:true,chartType:"",realtime:false,refreshInterval:0,dataStreamUrl:"",version:"3.7"};$W._a.bh.prototype.initialize=function(_4){if(typeof FusionCharts=="undefined"){if(this.options.version=="3.11"||(!this.options.version&&$W._N.getConfiguration("/WebSquare/fusionchart/version/@value")=="3.11")){this.options.version="3.11";imports("externalJS/FusionCharts3.11.0/FusionCharts_all.js");}else{imports("externalJS/FusionCharts3.7/FusionCharts_all.js");}}this.fcObj=null;this.chartObj={};this.attributeObj=null;this.colorrange=null;this.dials=null;this.pointers=null;this.annotations=null;this.trendpoints=null;this.value=null;this.streamFlag=0;this.intervals=null;this.updateDataFunc=null;};$W._a.bh.prototype.toHTML=function(){["WebSquare.uiplugin.fwGaugeChart.toHTML"];var _5=[];var _6=(this.options.style=="")?"":"style='"+this.options.style+"'";_5.push("<div id='"+this.id+"' "+_6+" class='w2fwGaugeChart "+this.options.className+"'>");_5.push("</div>");return _5.join("");};$W._a.bh.prototype.setAction=function(){try{this.setDefaultOption();var _7=this;if(this.modelControl.isDataCollectionRefBinded){var _8=this.modelControl.dataCollectionRefInfo.dataComp;}if(this.options.realtime){if(_8){this.fcObj=new FusionCharts({"id":"fw_gauge_"+_7.id,"type":_7.options.chartType,"renderAt":_7.id,"width":"100%","height":_7.render.offsetHeight,"events":{"drawComplete":function(){_7._feedData();}}});this.draw();}else{this.fcObj=new FusionCharts({"id":"fw_gauge_"+_7.id,"type":_7.options.chartType,"renderAt":_7.id,"width":"100%","height":_7.render.offsetHeight});if(this.options.dataStreamUrl&&this.options.refreshInterval){this.attributeObj.datastreamurl=this.options.dataStreamUrl;this.attributeObj.refreshInterval=this.options.refreshInterval;}this.draw();}}else{this.fcObj=new FusionCharts({"id":"fw_gauge_"+_7.id,"type":_7.options.chartType,"renderAt":_7.id,"width":"100%","height":_7.render.offsetHeight});if(this.modelControl.isDataCollectionRefBinded){if(_8.initializeType=="dataMap"){var _9=_8.get(this.options.valueNode);this.setValue(_9);}else{var _a=_8.rowPosition;_a=_a?_a:0;var _b=this.options.valueNode;this.setValue(_8.getCellData(_a,_b));}}else{this.draw();}}}catch(e){$W.exception.printStackTrace(e);}};$W._a.bh.prototype.refresh=function(){["WebSquare.uiplugin.fwGaugeChart.prototype.refresh"];try{if(this.modelControl.isDataCollectionRefBinded&&!this.options.realtime){var _c=this.modelControl.dataCollectionRefInfo.dataComp;if(_c.initializeType=="dataMap"){var _d=_c.get(this.options.valueNode);this.setValue(_d);}else{var _e=_c.rowPosition;_e=_e?_e:0;var _f=this.options.valueNode;this.setValue(_c.getCellData(_e,_f));}}}catch(e){$W.exception.printStackTrace(e);}};$W._a.bh.prototype._feedData=function(){["WebSquare.uiplugin.fwGaugeChart.prototype._feedData"];try{var _10=this;$W._G.setInterval(function(){var _11=_10.modelControl.dataCollectionRefInfo.dataComp;var _12=_11.getAllData();if(_10.streamFlag>=_12.length){$w.executeSubmission(this.options.submissionId);_10.streamFlag=0;}var _13=FusionCharts("fw_gauge_"+_10.id);var _14="value="+_12[_10.streamFlag];_10.streamFlag++;_13.feedData(_14);},{caller:this,delay:(this.options.refreshInterval*1000),key:(this.id+"_interval")});}catch(e){$W.exception.printStackTrace(e);}};$W._a.bh.prototype.setJSONData=function(_15){["WebSquare.uiplugin.fwGaugeChart.prototype.setJSONData"];try{this.chartObj=_15;this.draw();}catch(e){$W.exception.printStackTrace(e);}};$W._a.bh.prototype.getJSONData=function(){["WebSquare.uiplugin.fwGaugeChart.prototype.getJSONData"];try{var _16=this.fcObj.getJSONData();return _16;}catch(e){$W.exception.printStackTrace(e);}};$W._a.bh.prototype.fc=function(){["WebSquare.uiplugin.fwGaugeChart.prototype.fc"];try{var _17=FusionCharts.items;var _18="fw_gauge_"+this.id;return _17[_18];}catch(e){$W.exception.printStackTrace(e);}};$W._a.bh.prototype.draw=function(){["WebSquare.uiplugin.fwGaugeChart.prototype.draw"];try{if(this.attributeObj!=null){this._setChartAttribute(this.attributeObj);}if(this.colorrange!=null){this.chartObj.colorrange=this.colorrange;}if(this.annotations!=null){this.chartObj.annotations=this.annotations;}if(this.dials!=null){this.chartObj.dials=this.dials;}if(this.value!=null){this.chartObj.value=this.value;}var _19=this.fc();_19.setJSONData(this.chartObj);if(!_19.isActive()){_19.render(this.id);}}catch(e){$W.exception.printStackTrace(e);}};$W._a.bh.prototype.setDefaultOption=function(){["WebSquare.uiplugin.fwGaugeChart.prototype.setDefaultOption"];try{this._angulargauge=function(){this.attributeObj={"manageresize":"1","origw":"350","origh":"200","bgalpha":"0","bgcolor":"FFFFFF","lowerlimit":"0","upperlimit":"100","showborder":"0","basefontcolor":"000000","tooltipbgcolor":"ffffff","pivotradius":"8","gaugeouterradius":"120","gaugeinnerradius":"70%","gaugeoriginx":"175","gaugeoriginy":"170","trendvaluedistance":"5","tickvaluedistance":"3","managevalueoverlapping":"1","autoaligntickvalues":"1"};this.colorrange={"color":[{"minvalue":"0","maxvalue":"45","code":"#fe5d55"},{"minvalue":"45","maxvalue":"80","code":"#f4c74e"},{"minvalue":"80","maxvalue":"100","code":"#00ba84"}]};if(this.dials==null){this.dials={"dial":[{"value":"0"}]};}};this._bulb=function(){this.attributeObj={"manageresize":"1","decimals":"0","placevaluesinside":"1","is3d":"0","bordercolor":"638400","bgcolor":"FFFFFF","usecolornameasvalue":"1","showborder":"0"};this.colorrange={"color":[{"minvalue":"0","maxvalue":"50","name":"Normal","code":"99CC00"},{"minvalue":"50","maxvalue":"75","name":"Warning","code":"FFFF00"},{"minvalue":"75","maxvalue":"100","name":"Danger","code":"FF0000"}]};if(this.value==null){this.value=0;}};this._cylinder=function(){this.attributeObj={"manageresize":"1","bgcolor":"FFFFFF","bgalpha":"0","showborder":"0","lowerlimit":"0","upperlimit":"100","showtickmarks":"0","showtickvalues":"0","showlimits":"0","numbersuffix":"%","decmials":"0","cylfillcolor":"CC0000","basefontcolor":"CC0000","chartleftmargin":"15","chartrightmargin":"15","charttopmargin":"15"};this.annotations={"groups":[{"showbelow":"1","items":[{"type":"rectangle","x":"$chartStartX+1","y":"$chartStartY+1","tox":"$chartEndX-1","toy":"$chartEndY-1","color":"FFFFFF","alpha":"100","showborder":"0","bordercolor":"CC0000","borderthickness":"2","radius":"10"}]}]};if(this.value==null){this.value=0;}};this._hled=function(){this.attributeObj={"manageresize":"1","chartbottommargin":"5","lowerlimit":"0","upperlimit":"100","lowerlimitdisplay":"Low","upperlimitdisplay":"High","numbersuffix":"%","showtickmarks":"1","tickvaluedistance":"0","majortmnumber":"5","majortmheight":"4","minortmnumber":"0","showtickvalues":"1","decimals":"0","ledgap":"1","ledsize":"1","ledboxbgcolor":"333333","ledbordercolor":"666666","borderthickness":"2","chartrightmargin":"20","showborder":"0"};this.colorrange={"color":[{"minvalue":"0","maxvalue":"30","code":"FF0000"},{"minvalue":"30","maxvalue":"50","code":"FFFF00"},{"minvalue":"50","maxvalue":"100","code":"00FF00"}]};if(this.value==null){this.value=0;}};this._hlineargauge=function(){this.attributeObj={"bgColor":"#ffffff","showBorder":"0","lowerLimit":"0","upperLimit":"100","valueAbovePointer":"0","showShadow":"0","gaugeFillMix":"{light}","valueBgColor":"#ffffff","valueBgAlpha":"60","valueFontColor":"#000000","pointerBgColor":"#ffffff","pointerBgAlpha":"50","baseFontColor":"#ffffff"};this.colorrange={"color":[{"minValue":"0","maxValue":"35","label":"Low","code":"#1aaf5d"},{"minValue":"35","maxValue":"70","label":"Moderate","code":"#f2c500"},{"minValue":"70","maxValue":"100","label":"High","code":"#c02d00"}]};if(this.pointers==null){this.pointers={"pointer":[{"value":"0"}]};}if(this.value==null){this.value=0;}};this._thermometer=function(){this.attributeObj={"manageresize":"1","palette":"3","bgcolor":"FFFFFF","bgalpha":"0","showborder":"0","lowerlimit":"0","upperlimit":"100","lowerlimitdisplay":"Low","upperlimitdisplay":"High","numbersuffix":"%","majortmheight":"4","minortmnumber":"5","usesamefillcolor":"0","showtickvalues":"1","decmials":"0","charttopmargin":"25","chartleftmargin":"20","chartbottommargin":"20","thmbulbradius":"20","datastreamurl":"","refreshinterval":"4","gaugeoriginx":"40"};this.annotations={"groups":[{"id":"Grp1","showbelow":"1","items":[{"type":"rectangle","x":"$chartStartX+8","y":"$chartStartY","tox":"$chartEndX","toy":"$chartEndY","radius":"10","fillcolor":"AEC0CA, 333333, AEC0CA","fillangle":"90"},{"type":"rectangle","x":"$chartStartX+13","y":"$chartStartY+5","tox":"$chartEndX-5","toy":"$chartEndY-5","radius":"10","fillcolor":"333333, C3D0D8, 333333","fillangle":"90"},{"type":"rectangle","x":"$chartStartX+18","y":"$chartStartY+10","tox":"$chartEndX-10","toy":"$chartEndY-10","radius":"10","fillcolor":"C4D5DC, A3A5A4","fillangle":"180"}]}]};if(this.value==null){this.value=0;}};this._vled=function(){this.attributeObj={"lowerLimit":"0","upperLimit":"100","showValue":"0","showBorder":"0","showShadow":"0","tickMarkDistance":"5","alignCaptionWithCanvas":"1","captionAlignment":"center","bgcolor":"#ffffff"};this.colorrange={"color":[{"minValue":"0","maxValue":"45","code":"#8e0000"},{"minValue":"45","maxValue":"75","code":"#f2c500"},{"minValue":"75","maxValue":"100","code":"#1aaf5d"}]};if(this.value==null){this.value=0;}};switch(this.options.chartType.toLowerCase()){case "angulargauge":this._angulargauge();break;case "bulb":this._bulb();break;case "cylinder":this._cylinder();break;case "hled":this._hled();break;case "hlineargauge":this._hlineargauge();break;case "thermometer":this._thermometer();break;case "vled":this._vled();break;default:this._angulargauge();break;}}catch(e){$W.exception.printStackTrace(e);}};$W._a.bh.prototype.setChartAttribute=function(_1a){["WebSquare.uiplugin.fwGaugeChart.prototype.setChartAttribute"];try{if(this.attributeObj==null){this.attributeObj={};}for(var key in _1a){if(_1a.hasOwnProperty(key)){this.attributeObj[key.toLowerCase()]=_1a[key];}}}catch(e){$W.exception.printStackTrace(e);}};$W._a.bh.prototype._setChartAttribute=function(_1c){["WebSquare.uiplugin.fwGaugeChart.prototype._setChartAttribute"];try{this.chartObj.chart=_1c;}catch(e){$W.exception.printStackTrace(e);}};$W._a.bh.prototype.getChartAttribute=function(_1d){["WebSquare.uiplugin.fwGaugeChart.prototype.getChartAttribute"];try{return FusionCharts.items["fw_gauge_"+this.id].getChartAttribute(_1d);}catch(e){$W.exception.printStackTrace(e);}};$W._a.bh.prototype.changeType=function(_1e){["WebSquare.uiplugin.fwGaugeChart.prototype.changeType"];try{this.fcObj.chartType(_1e);this.options.chartType=_1e;if(this.options.realtime){this.streamFlag=0;}if(_1e=="angulargauge"){if(this.chartObj.value){this.dials={"dial":[{"value":this.chartObj.value}]};}}else{if(this.chartObj.dials.dial[0].value){this.value=this.chartObj.dials.dial[0].value;}}this.draw();}catch(e){$W.exception.printStackTrace(e);}};$W._a.bh.prototype.exportJSChart=function(_1f){["WebSquare.uiplugin.fwGaugeChart.exportJSChart"];try{if(!_1f){_1f="jpg";}var _20=this.options.id||"fusionChart";var _21=this.getSVGString();if(_21){var _22=encodeURI(_21+"ExportType="+_1f+"ExportFileName="+_20);$W._N.download("engine/servlet/exportFusionChart.jsp",_22,"post");}}catch(e){$W.exception.printStackTrace(e);}};$W._a.bh.prototype.getSVGString=function(){["WebSquare.uiplugin.fwGaugeChart.getSVGString"];try{var _23=this.fc().getSVGString();if(_23){_23=_23.wq_replaceAll("shape-rendering=\"default\"","shape-rendering='auto'");_23=_23.wq_replaceAll("visibility=\"\"","visibility='inherit'");_23=_23.wq_replaceAll("text-anchor=\"undefined\"","text-anchor='start'");_23=_23.wq_replaceAll("1e-006","0.000001");_23=_23.wq_replaceAll("font-family=\"15\"","font-family=\"Verdana\"");return _23;}else{$W.logger.printLog("not found svg object");}}catch(e){$W.exception.printStackTrace(e);}};$W._a.bh.prototype.getValue=function(){["WebSquare.uiplugin.fwGaugeChart.getGaugeValue"];try{if(this.options.realtime){return this.fcObj.getData();}var _24=this.options.chartType;if(_24=="angulargauge"){return this.chartObj.dials.dial[0].value||this.value;}else{return this.chartObj.value||this.value;}}catch(e){$W.exception.printStackTrace(e);}};$W._a.bh.prototype.setValue=function(_25){["WebSquare.uiplugin.fwGaugeChart.setValue"];var _26=this.options.chartType;if(_25==undefined||_25==""){_25=0;}if(_26.toLowerCase()=="angulargauge"){if(this.dials.dial.length>0){this.dials.dial[0].value=_25;}}else{this.value=_25;}this.draw();};$W._a.bh.prototype.setRef=function(ref,_28){["WebSquare.uiplugin.fwGaugeChart.prototype.setRef"];try{if(!this.modelControl.isBinded()){this.modelControl.useRef=true;}this.options.ref=ref;this.options.valueNode=_28;this.modelControl.setRef(ref);this.refresh();}catch(e){$W.exception.printStackTrace(e);}};$W._a.bh.prototype.setDataStreamInfo=function(_29){["WebSquare.uiplugin.fwGaugeChart.prototype.setRef"];try{if(!_29&&!_29.dataStreamURL){return;}this.attributeObj.dataStreamURL=_29.dataStreamURL;this.attributeObj.refreshInterval=_29.refreshInterval;this.attributeObj.dataStamp=_29.dataStamp||"";this.attributeObj.showRTMenuItem=_29.showRTMenuItem||0;this.draw();}catch(e){$W.exception.printStackTrace(e);}};$W._a.bh.prototype.stopUpdate=function(){["WebSquare.uiplugin.fwGaugeChart.prototype.stopUpdate"];try{var _2a=this.modelControl.dataCollectionRefInfo.dataComp;if(_2a){$w.clearInterval(this.id+"_interval");}else{this.fcObj.stopUpdate();}}catch(e){$W.exception.printStackTrace(e);}};$W._a.bh.prototype.restartUpdate=function(){["WebSquare.uiplugin.fwGaugeChart.prototype.restartUpdate"];try{var _2b=this.modelControl.dataCollectionRefInfo.dataComp;if(_2b){var _2c=this;this.intervals=setInterval(function(){_2c.updateDataFunc();},this.options.refreshInterval*1000);}else{this.fcObj.restartUpdate();}}catch(e){$W.exception.printStackTrace(e);}};$W._a.bh.prototype.clearChart=function(){["WebSquare.uiplugin.fwGaugeChart.prototype.clearChart"];try{this.fcObj.clearChart();}catch(e){$W.exception.printStackTrace(e);}};$W._a.bh.prototype.isUpdateActive=function(){["WebSquare.uiplugin.fwGaugeChart.prototype.isUpdateActive"];try{var _2d;var _2e=this.modelControl.dataCollectionRefInfo.dataComp;if(_2e&&this.options.realtime){var _2f=_2e.getAllData();if(this.streamFlag>=_2f.length){_2d=false;}else{_2d=true;}}else{_2d=this.fcObj.isUpdateActive();}return _2d;}catch(e){$W.exception.printStackTrace(e);}};$W._a.bh.prototype.finalize=function(){try{["WebSquare.uiplugin.fwGaugeChart.prototype.finalize"];$W._G.clearInterval(this.id+"_interval");clearInterval(this.intervals);this.fcObj.dispose();}catch(e){$W.exception.printStackTrace(e);}};;WebSquare.uiplugin.fwGaugeChart=$W._a.bh;$W._a.ax=function(id,_2,_3){["WebSquare.uiplugin.fwGanttChart"];$W._t.call(this,id,_2,_3);};$W.extend($W._a.ax.prototype,$W._t.prototype);$W._a.ax.prototype.defaultOptions={pluginType:"uiplugin.fwGanttChart",pluginName:"fwGanttChart",useConfig:true,accessibility:false,autoCategory:true,multiTasks:false,quarterNames:"",monthNames:"",plotColor:"2ec6c8,b5a1dd,5ab0ee,f4984e,d77a80,90bddc,fe5d55,b5dc59,9ea7b3,00ba84,878bb6,757a85",version:"3.7",dataColumns:"",resizeLastMonth:false};$W._a.ax.prototype.initialize=function(_4){if(typeof FusionCharts=="undefined"){if(this.options.version=="3.11"||(!this.options.version&&$W._N.getConfiguration("/WebSquare/fusionchart/version/@value")=="3.11")){this.options.version="3.11";imports("externalJS/FusionCharts3.11.0/FusionCharts_all.js");}else{imports("externalJS/FusionCharts3.7/FusionCharts_all.js");}}this.fcObj=null;this.chartObj={};this.taskColorObj={};this.attributeObj=null;this.categories=null;this.processes=null;this.datatable=null;this.tasks=null;this.legends=null;this.trendlines=null;this.milestones=null;this.connectors=null;this.options.quarterNames=this.options.quarterNames||$W._m.getMessage("fwGanttChart_quarterNames")||"1\ubd84\uae30,2\ubd84\uae30,3\ubd84\uae30,4\ubd84\uae30";this.options.monthNames=this.options.monthNames||$W._m.getMessage("fwGanttChart_monthNames")||"1\uc6d4,2\uc6d4,3\uc6d4,4\uc6d4,5\uc6d4,6\uc6d4,7\uc6d4,8\uc6d4,9\uc6d4,10\uc6d4,11\uc6d4,12\uc6d4";};$W._a.ax.prototype.toHTML=function(){["WebSquare.uiplugin.fwGanttChart.toHTML"];var _5=[];var _6=(this.options.style=="")?"":"style='"+this.options.style+"'";_5.push("<div id='"+this.id+"' "+_6+" class='w2fwGanttChart "+this.options.className+"'>");_5.push("</div>");return _5.join("");};$W._a.ax.prototype.setAction=function(){this.fcObj=new FusionCharts("gantt","fw_gantt_"+this.id,"100%",this.render.offsetHeight);this.setDefaultOption();if(this.modelControl.isDataCollectionRefBinded){var _7=this.modelControl.dataCollectionRefInfo.dataComp;var _8={};_8.dateformat=this.options.dateformat;_8.timeBase=this.options.timeBase;_8.monthNames=this.options.monthNames;_8.timeGap=this.options.timeGap;_8.plotColor=this.options.plotColor;_8.processNode=this.options.processNode;_8.dataColumns=this.options.dataColumns;_8.taskNode=this.options.taskNode;_8.startDateNode=this.options.startDateNode;_8.endDateNode=this.options.endDateNode;_8.autoCategory=this.options.autoCategory;_8.categoryDepth=this.options.categoryDepth;_8.multiTasks=this.options.multiTasks;_8.quarterNames=this.options.quarterNames;_8.resizeLastMonth=this.options.resizeLastMonth;_8.processIdNode=this.options.processIdNode||null;_8.taskIdNode=this.options.taskIdNode||null;_8.version=this.options.version;if(_7.getRowCount()>0){this.setJSONData(_7.getfwGanttChartData(_8));}}};$W._a.ax.prototype.refresh=function(){["WebSquare.uiplugin.fwGanttChart.refresh"];try{if(this.modelControl.isDataCollectionRefBinded){var _9=this.modelControl.dataCollectionRefInfo.dataComp;var _a={};_a.dateformat=this.options.dateformat;_a.timeBase=this.options.timeBase;_a.monthNames=this.options.monthNames;_a.timeGap=this.options.timeGap;_a.plotColor=this.options.plotColor;_a.processNode=this.options.processNode;_a.dataColumns=this.options.dataColumns;_a.taskNode=this.options.taskNode;_a.startDateNode=this.options.startDateNode;_a.endDateNode=this.options.endDateNode;_a.autoCategory=this.options.autoCategory;_a.categoryDepth=this.options.categoryDepth;_a.multiTasks=this.options.multiTasks;_a.quarterNames=this.options.quarterNames;_a.resizeLastMonth=this.options.resizeLastMonth;_a.taskIdNode=this.options.taskIdNode||null;if(_9.getRowCount()>0){var _b=_9.getfwGanttChartData(_a);this.categories=_b.categories;this.setJSONData(_b);}}}catch(e){$W.exception.printStackTrace(e);}};$W._a.ax.prototype.setJSONData=function(_c){["WebSquare.uiplugin.fwGanttChart.setJSONData"];try{this.chartObj=_c;this.draw();}catch(e){$W.exception.printStackTrace(e);}};$W._a.ax.prototype.getJSONData=function(){["WebSquare.uiplugin.fwGanttChart.getJSONData"];try{var _d=FusionCharts.items["fw_gantt_"+this.id].getJSONData();return _d;}catch(e){$W.exception.printStackTrace(e);}};$W._a.ax.prototype.fc=function(){["WebSquare.uiplugin.fwGanttChart.fc"];try{var _e=FusionCharts.items;var _f="fw_gantt_"+this.id;return _e[_f];}catch(e){$W.exception.printStackTrace(e);}};$W._a.ax.prototype.draw=function(){["WebSquare.uiplugin.fwGanttChart.draw"];try{if(this.attributeObj!=null){for(var key in this.attributeObj){if(this.chartObj.chart){this.chartObj.chart[key]=this.attributeObj[key];}else{this.chartObj.chart=this.attributeObj;break;}}}if(this.categories){this.chartObj.categories=[];for(var i=0;i<this.categories.length;i++){this.chartObj.categories.push(this.categories[i]);}}if(this.processes){if(!this.chartObj.processes){this.chartObj.processes={};}if(this.chartObj.processes){for(var key in this.processes){this.chartObj.processes[key]=this.processes[key];}}}if(this.datatable){if(!this.chartObj.datatable){this.chartObj.datatable={};}if(this.chartObj.datatable){for(var key in this.datatable){if(key==="datacolumn"){for(var i=0;i<this.datatable.datacolumn.length;i++){for(var key in this.datatable.datacolumn[i]){this.chartObj.datatable.datacolumn[i][key]=this.datatable.datacolumn[i][key];}}}else{this.chartObj.datatable[key]=this.datatable[key];}}}}if(this.tasks){if(!this.chartObj.tasks){this.chartObj.tasks={};}if(this.chartObj.tasks){for(var key in this.tasks){this.chartObj.tasks[key]=this.tasks[key];}}}if(this.taskColorObj){for(key in this.taskColorObj){for(var i=0;i<this.chartObj.tasks.task.length;i++){if(key===this.chartObj.tasks.task[i].id){this.chartObj.tasks.task[i].color=this.taskColorObj[key];}}}}if(this.trendlines){if(!this.chartObj.trendlines){this.chartObj.trendlines=[];}this.chartObj.trendlines.push(this.trendlines);}if(this.milestones){if(!this.chartObj.milestones){this.chartObj.milestones={};this.chartObj.milestones.milestone=[];}this.chartObj.milestones.milestone.push(this.milestones);}if(this.connectors){if(!this.chartObj.connectors){this.chartObj.connectors=[];}this.chartObj.connectors.push({"connector":[]});this.chartObj.connectors[0].connector.push(this.connectors);}if(this.legends){if(!this.chartObj.legend){this.chartObj.legend=[];}this.chartObj.legend=this.legends;}var _12=this.fc();_12.setJSONData(this.chartObj);if(!_12.isActive()){_12.render(this.id);}}catch(e){$W.exception.printStackTrace(e);}};$W._a.ax.prototype.setDefaultOption=function(){["WebSquare.uiplugin.fwGanttChart.setDefaultOption"];try{this.attributeObj={"chartLeftMargin":"0","chartRightMargin":"0","chartTopMargin":"0","chartBottomMargin":"0","toolTipColor":"#ffffff","toolTipBorderThickness":"0","toolTipBgColor":"#000000","toolTipBgAlpha":"70","toolTipBorderRadius":"2","toolTipPadding":"5","dateformat":this.options.dateformat=="yyyyMMdd"?"yyyy/mm/dd":this.options.dateformat};}catch(e){$W.exception.printStackTrace(e);}};$W._a.ax.prototype.setChartAttribute=function(_13){["WebSquare.uiplugin.fwGanttChart.prototype.setChartAttribute"];try{if(this.attributeObj==null){this.attributeObj={};}for(var key in _13){if(_13.hasOwnProperty(key)){this.attributeObj[key.toLowerCase()]=_13[key];}}}catch(e){$W.exception.printStackTrace(e);}};$W._a.ax.prototype.getChartAttribute=function(_15){["WebSquare.uiplugin.fwGanttChart.prototype.getChartAttribute"];try{return this.fcObj.getChartAttribute(_15);}catch(e){$W.exception.printStackTrace(e);}};$W._a.ax.prototype.setCategories=function(obj){["WebSquare.uiplugin.fwGanttChart.prototype.setCategoryAttribute"];try{this.categories=[];this.categories.push(obj);}catch(e){$W.exception.printStackTrace(e);}};$W._a.ax.prototype.addCategories=function(obj){["WebSquare.uiplugin.fwGanttChart.prototype.addCategoryAttribute"];try{if(this.categories==null){this.categories=[];}this.categories.unshift(obj);}catch(e){$W.exception.printStackTrace(e);}};$W._a.ax.prototype.setProcessesAttribute=function(obj){["WebSquare.uiplugin.fwGanttChart.setProcessesAttribute"];try{this.processes=obj;}catch(e){$W.exception.printStackTrace(e);}};$W._a.ax.prototype.setDatatableAttribute=function(obj){["WebSquare.uiplugin.fwGanttChart.setDatatableAttribute"];try{this.datatable=obj;}catch(e){$W.exception.printStackTrace(e);}};$W._a.ax.prototype.setTasksAttribute=function(obj){["WebSquare.uiplugin.fwGanttChart.setTaskAttribute"];try{this.tasks=obj;}catch(e){$W.exception.printStackTrace(e);}};$W._a.ax.prototype.setTasksColor=function(_1b,_1c){["WebSquare.uiplugin.fwGanttChart.setTasksColor"];try{this.taskColorObj[_1b]=_1c;this.draw();}catch(e){$W.exception.printStackTrace(e);}};$W._a.ax.prototype.setTrendLine=function(obj){["WebSquare.uiplugin.fwGanttChart.setTrendLine"];try{this.trendlines=obj;}catch(e){$W.exception.printStackTrace(e);}};$W._a.ax.prototype.setMilestone=function(obj){["WebSquare.uiplugin.fwGanttChart.setMilestone"];try{this.milestones=obj;}catch(e){$W.exception.printStackTrace(e);}};$W._a.ax.prototype.setConnector=function(obj){["WebSquare.uiplugin.fwGanttChart.setConnector"];try{this.connectors=obj;}catch(e){$W.exception.printStackTrace(e);}};$W._a.ax.prototype.exportJSChart=function(_20){["WebSquare.uiplugin.fwGanttChart.exportJSChart"];try{if(!_20){_20="jpg";}var _21=this.options.id||"fusionChart";var _22=this.getSVGString();if(_22){var _23=encodeURI(_22+"ExportType="+_20+"ExportFileName="+_21);$W._N.download("engine/servlet/exportFusionChart.jsp",_23,"post");}}catch(e){$W.exception.printStackTrace(e);}};$W._a.ax.prototype.getSVGString=function(){["WebSquare.uiplugin.fwGanttChart.getSVGString"];try{var _24=this.fc().getSVGString();if(_24){_24=_24.wq_replaceAll("shape-rendering=\"default\"","shape-rendering='auto'");_24=_24.wq_replaceAll("visibility=\"\"","visibility='inherit'");_24=_24.wq_replaceAll("text-anchor=\"undefined\"","text-anchor='start'");_24=_24.wq_replaceAll("1e-006","0.000001");_24=_24.wq_replaceAll("font-family=\"15\"","font-family=\"Verdana\"");return _24;}else{$W.logger.printLog("not found svg object");}}catch(e){$W.exception.printStackTrace(e);}};;WebSquare.uiplugin.fwGanttChart=$W._a.ax;$W._a.ay=function(id,_2,_3){["WebSquare.uiplugin.fwRealtimeChart"];$W._t.call(this,id,_2,_3);};$W.extend($W._a.ay.prototype,$W._t.prototype);$W._a.ay.prototype.defaultOptions={pluginType:"uiplugin.fwRealtimeChart",pluginName:"fwRealtimeChart",useConfig:true,seriesType:"simple",plotColor:"2ec6c8,b5a1dd,5ab0ee,f4984e,d77a80,90bddc,fe5d55,b5dc59,9ea7b3,00ba84,878bb6,757a85",timeformat:"HH:mm:ss",version:"3.7"};$W._a.ay.prototype.initialize=function(_4){if(typeof FusionCharts=="undefined"){if(this.options.version=="3.11"||(!this.options.version&&$W._N.getConfiguration("/WebSquare/fusionchart/version/@value")=="3.11")){this.options.version="3.11";imports("externalJS/FusionCharts3.11.0/FusionCharts_all.js");}else{imports("externalJS/FusionCharts3.7/FusionCharts_all.js");}}this.fcObj=null;this.chartObj={};this.attributeObj=null;this.streamFlag=0;this.intervals=null;this.updateData=null;};$W._a.ay.prototype.toHTML=function(){["WebSquare.uiplugin.fwRealtimeChart.toHTML"];var _5=[];var _6=(this.options.style=="")?"":"style='"+this.options.style+"'";_5.push("<div id='"+this.id+"' "+_6+" class='w2fwRealtimeChart "+this.options.className+"'>");_5.push("</div>");return _5.join("");};$W._a.ay.prototype.setAction=function(){try{var _7=this;this.setDefaultOption();var _8;if(this.modelControl.isDataCollectionRefBinded){_8=this.modelControl.dataCollectionRefInfo.dataComp;if(_8&&_8.getRowCount()>0){var _9={};_9.plotColor=this.options.plotColor;this.chartObj=_8.getRealtimeData(this.options.labelNode,this.options.seriesNode,this.options.valueNode,_9);this.fcObj=new FusionCharts({"id":"fw_realtime_"+_7.id,"type":_7.options.chartType,"renderAt":_7.id,"width":_7.render.offsetWidth,"height":_7.render.offsetHeight,"dataFormat":"json","dataSource":_7.chartObj,"events":{"drawComplete":function(){_7._feedData();}}});this.draw();}}else{this.fcObj=new FusionCharts({"id":"fw_realtime_"+_7.id,"type":_7.options.chartType,"renderAt":_7.id,"width":"100%","height":_7.render.offsetHeight,"dataFormat":"json"});if(this.options.dataStreamUrl&&this.options.seriesArray){if(!this.chartObj.dataset){this.chartObj.dataset=[];}var _a=this.options.seriesArray;_a=_a.wq_replaceAll("'","\"");_a=JSON.parse(_a);var _b=this.options.plotColor.split(",");for(var j=0;j<_a.length;j++){if(!_a[j].color){_a[j].color=_b[j];}}for(var i=0;i<_a.length;i++){this.chartObj.dataset.push(_a[i]);}this.attributeObj["dataStreamURL"]=this.options.dataStreamUrl;this.attributeObj["refreshInterval"]=this.options.refreshInterval;this.attributeObj["dataStamp"]=this.options.dataStamp||"";this.attributeObj["showRTMenuItem"]=this.options.showRTMenuItem||0;this.draw();}}}catch(e){$W.exception.printStackTrace(e);}};$W._a.ay.prototype._feedData=function(){["WebSquare.uiplugin.fwRealtimeChart.prototype.feedData"];try{if(this.options.ref!=""){var _e=this;this.updateData=function(){var _f=_e.modelControl.dataCollectionRefInfo.dataComp;var _10=_f.getAllJSON();var _11=_f.getColumnDistinctDataArray(_e.options.seriesNode);var _12=_11.length;var _13=_e.options.valueNode;if(_e.streamFlag>=_10.length){$w.executeSubmission(this.options.submissionId);_e.streamFlag=0;}var _14=FusionCharts("fw_realtime_"+_e.id);var _15=new Date();var _16="";var _17=$W._s.getFormattedDate(_15,_e.options.timeformat);for(var i=_e.streamFlag;i<_12+_e.streamFlag;i++){_16+=_10[i][_13]+"|";}_16=_16.substring(0,_16.length-1);_e.streamFlag=_e.streamFlag+_12;var _19="&label="+_17+"&value="+_16;_14.feedData(_19);};$w.setInterval(function(){_e.updateData();},{caller:this,delay:(this.options.refreshInterval*1000),key:(this.id+"_interval")});}}catch(e){$W.exception.printStackTrace(e);}};$W._a.ay.prototype.refresh=function(){["WebSquare.uiplugin.fwRealtimeChart.prototype.refresh"];try{var _1a=this;this.setDefaultOption();var _1b;if(this.modelControl.isDataCollectionRefBinded){_1b=this.modelControl.dataCollectionRefInfo.dataComp;if(_1b&&_1b.getRowCount()>0){var _1c={};_1c.plotColor=this.options.plotColor;this.chartObj=_1b.getRealtimeData(this.options.labelNode,this.options.seriesNode,this.options.valueNode,_1c);var _1d="fw_realtime_"+this.id;if(!this.fcObj&&!FusionCharts.items[_1d]){this.fcObj=new FusionCharts({"id":"fw_realtime_"+_1a.id,"type":_1a.options.chartType,"renderAt":_1a.id,"width":"100%","height":_1a.render.offsetHeight,"dataFormat":"json","dataSource":_1a.chartObj,"events":{"drawComplete":function(){_1a._feedData();}}});this.draw();}}}}catch(e){$W.exception.printStackTrace(e);}};$W._a.ay.prototype.fc=function(){["WebSquare.uiplugin.fwRealtimeChart.prototype.fc"];try{var _1e=FusionCharts.items;var _1f="fw_realtime_"+this.id;return _1e[_1f];}catch(e){$W.exception.printStackTrace(e);}};$W._a.ay.prototype.draw=function(){["WebSquare.uiplugin.fwRealtimeChart.prototype.draw"];try{if(this.attributeObj!=null){if(!this.chartObj.chart){this.chartObj.chart={};}for(var key in this.attributeObj){if(this.attributeObj.hasOwnProperty(key)){this.chartObj.chart[key.toLowerCase()]=this.attributeObj[key];}}}this.fcObj.setJSONData(this.chartObj);if(!this.fcObj.isActive()){this.fcObj.render(this.id);}}catch(e){$W.exception.printStackTrace(e);}};$W._a.ay.prototype.setDefaultOption=function(){["WebSquare.uiplugin.fwRealtimeChart.prototype.setDefaultOption"];try{this._realtimearea=function(){this.attributeObj={"showrealtimevalue":"1","yaxismaxvalue":"10","numdisplaysets":"10","bgColor":"#ffffff","canvasBgColor":"#ffffff","canvasBorderAlpha":"0","divlineAlpha":"100","divlineColor":"#999999","divlineThickness":"1","divLineDashed":"1","divLineDashLen":"1","divLineGapLen":"1","usePlotGradientColor":"0","showplotborder":"0","placeValuesInside":"1","rotateValues":"1","showXAxisLine":"1","xAxisLineThickness":"1","xAxisLineColor":"#999999","showAlternateHGridColor":"0","labeldisplay":"rotate","slantLabels":"1","showLegend":"1","showValues":"0","showRealTimeValue":"0"};};this._realtimecolumn=function(){this.attributeObj={"showrealtimevalue":"1","yaxismaxvalue":"10","numdisplaysets":"10","bgColor":"#ffffff","canvasBgColor":"#ffffff","canvasBorderAlpha":"0","divlineAlpha":"100","divlineColor":"#999999","divlineThickness":"1","divLineDashed":"1","divLineDashLen":"1","divLineGapLen":"1","usePlotGradientColor":"0","showplotborder":"0","placeValuesInside":"1","rotateValues":"1","showXAxisLine":"1","xAxisLineThickness":"1","xAxisLineColor":"#999999","showAlternateHGridColor":"0","labeldisplay":"rotate","slantLabels":"1","showLegend":"1","showValues":"0","showRealTimeValue":"0"};};this._realtimeline=function(){this.attributeObj={"showrealtimevalue":"1","yaxismaxvalue":"10","numdisplaysets":"10","bgColor":"#ffffff","canvasBgColor":"#ffffff","canvasBorderAlpha":"0","divlineAlpha":"100","divlineColor":"#999999","divlineThickness":"1","divLineDashed":"1","divLineDashLen":"1","divLineGapLen":"1","usePlotGradientColor":"0","showplotborder":"0","placeValuesInside":"1","rotateValues":"1","showXAxisLine":"1","xAxisLineThickness":"1","xAxisLineColor":"#999999","showAlternateHGridColor":"0","labeldisplay":"rotate","slantLabels":"1","showLegend":"1","showValues":"0","showRealTimeValue":"0"};};this._realtimestackedarea=function(){this.attributeObj={"showrealtimevalue":"1","yaxismaxvalue":"10","numdisplaysets":"10","bgColor":"#ffffff","canvasBgColor":"#ffffff","canvasBorderAlpha":"0","divlineAlpha":"100","divlineColor":"#999999","divlineThickness":"1","divLineDashed":"1","divLineDashLen":"1","divLineGapLen":"1","usePlotGradientColor":"0","showplotborder":"0","placeValuesInside":"1","rotateValues":"1","showXAxisLine":"1","xAxisLineThickness":"1","xAxisLineColor":"#999999","showAlternateHGridColor":"0","labeldisplay":"rotate","slantLabels":"1","showLegend":"1","showValues":"0","showRealTimeValue":"0"};};this._realtimestackedcolumn=function(){this.attributeObj={"showrealtimevalue":"1","yaxismaxvalue":"10","numdisplaysets":"10","bgColor":"#ffffff","canvasBgColor":"#ffffff","canvasBorderAlpha":"0","divlineAlpha":"100","divlineColor":"#999999","divlineThickness":"1","divLineDashed":"1","divLineDashLen":"1","divLineGapLen":"1","usePlotGradientColor":"0","showplotborder":"0","placeValuesInside":"1","rotateValues":"1","showXAxisLine":"1","xAxisLineThickness":"1","xAxisLineColor":"#999999","showAlternateHGridColor":"0","labeldisplay":"rotate","slantLabels":"1","showLegend":"1","showValues":"0","showRealTimeValue":"0"};};this._realtimelinedy=function(){this.attributeObj={"showrealtimevalue":"1","yaxismaxvalue":"10","numdisplaysets":"10","bgColor":"#ffffff","canvasBgColor":"#ffffff","canvasBorderAlpha":"0","divlineAlpha":"100","divlineColor":"#999999","divlineThickness":"1","divLineDashed":"1","divLineDashLen":"1","divLineGapLen":"1","usePlotGradientColor":"0","showplotborder":"0","placeValuesInside":"1","rotateValues":"1","showXAxisLine":"1","xAxisLineThickness":"1","xAxisLineColor":"#999999","showAlternateHGridColor":"0","labeldisplay":"rotate","slantLabels":"1","showLegend":"1","showValues":"0","showRealTimeValue":"0"};};switch(this.options.chartType.toLowerCase()){case "realtimearea":this._realtimearea();break;case "realtimecolumn":this._realtimecolumn();break;case "realtimeline":this._realtimeline();break;case "realtimestackedarea":this._realtimestackedarea();break;case "realtimestackedcolumn":this._realtimestackedcolumn();break;case "realtimelinedy":this._realtimelinedy();break;default:this._realtimecolumn();break;}}catch(e){$W.exception.printStackTrace(e);}};$W._a.ay.prototype.setChartAttribute=function(_21){["WebSquare.uiplugin.fwRealtimeChart.prototype.setChartAttribute"];try{if(this.attributeObj==null){this.attributeObj={};}for(var key in _21){if(_21.hasOwnProperty(key)){this.attributeObj[key.toLowerCase()]=_21[key];}}}catch(e){$W.exception.printStackTrace(e);}};$W._a.ay.prototype.getChartAttribute=function(_23){["WebSquare.uiplugin.fwRealtimeChart.prototype.getChartAttribute"];try{return FusionCharts.items["fw_realtime_"+this.id].getChartAttribute(_23);}catch(e){$W.exception.printStackTrace(e);}};$W._a.ay.prototype.changeType=function(_24){["WebSquare.uiplugin.fwRealtimeChart.prototype.changeType"];try{var _25=this.fc();_25.chartType(_24);this.options.chartType=_24;if(this.options.realtime){this.streamFlag=0;}}catch(e){$W.exception.printStackTrace(e);}};$W._a.ay.prototype.exportJSChart=function(_26){["WebSquare.uiplugin.fwRealtimeChart.exportJSChart"];try{if(!_26){_26="jpg";}var _27=this.options.id||"fusionChart";var _28=this.getSVGString();if(_28){var _29=encodeURI(_28+"ExportType="+_26+"ExportFileName="+_27);$W._N.download("engine/servlet/exportFusionChart.jsp",_29,"post");}}catch(e){$W.exception.printStackTrace(e);}};$W._a.ay.prototype.getSVGString=function(){["WebSquare.uiplugin.fwRealtimeChart.getSVGString"];try{var _2a=this.fc().getSVGString();if(_2a){_2a=_2a.wq_replaceAll("shape-rendering=\"default\"","shape-rendering='auto'");_2a=_2a.wq_replaceAll("visibility=\"\"","visibility='inherit'");_2a=_2a.wq_replaceAll("text-anchor=\"undefined\"","text-anchor='start'");_2a=_2a.wq_replaceAll("1e-006","0.000001");_2a=_2a.wq_replaceAll("font-family=\"15\"","font-family=\"Verdana\"");return _2a;}else{$W.logger.printLog("not found svg object");}}catch(e){$W.exception.printStackTrace(e);}};$W._a.ay.prototype.stopUpdate=function(){["WebSquare.uiplugin.fwRealtimeChart.prototype.stopUpdate"];try{if(this.modelControl.isDataCollectionRefBinded){var _2b=this.modelControl.dataCollectionRefInfo.dataComp;if(_2b){$w.clearInterval(this.id+"_interval");}}else{this.fcObj.stopUpdate();}}catch(e){$W.exception.printStackTrace(e);}};$W._a.ay.prototype.restartUpdate=function(){["WebSquare.uiplugin.fwRealtimeChart.prototype.restartUpdate"];try{if(this.modelControl.isDataCollectionRefBinded){var _2c=this.modelControl.dataCollectionRefInfo.dataComp;if(_2c){var _2d=this;$w.setInterval(function(){_2d.updateData();},{caller:this,delay:(this.options.refreshInterval*1000),key:(this.id+"_interval")});}}else{this.fcObj.restartUpdate();}}catch(e){$W.exception.printStackTrace(e);}};$W._a.ay.prototype.clearChart=function(){["WebSquare.uiplugin.fwRealtimeChart.prototype.clearChart"];try{this.fcObj.clearChart();}catch(e){$W.exception.printStackTrace(e);}};$W._a.ay.prototype.isUpdateActive=function(){["WebSquare.uiplugin.fwRealtimeChart.prototype.isUpdateActive"];try{var _2e=null;if(this.modelControl.isDataCollectionRefBinded){if($W.userIntervalHash[this.id+"_interval"]){_2e=true;}else{_2e=false;}}else{_2e=this.fcObj.isUpdateActive();}return _2e;}catch(e){$W.exception.printStackTrace(e);}};$W._a.ay.prototype.setDataStreamInfo=function(_2f){["WebSquare.uiplugin.fwRealtimeChart.prototype.setRef"];try{if(!_2f&&!_2f.dataStreamURL&&_2f.seriesArray){return;}if(!this.chartObj.dataset){this.chartObj.dataset=[];}var _30=this.options.plotColor.split(",");for(var j=0;j<_2f.seriesArray.length;j++){if(!_2f.seriesArray[j].color){_2f.seriesArray[j].color=_30[j];}}for(var i=0;i<_2f.seriesArray.length;i++){this.chartObj.dataset.push(_2f.seriesArray[i]);}this.attributeObj.dataStreamURL=_2f.dataStreamURL;this.attributeObj.refreshInterval=_2f.refreshInterval;this.attributeObj.dataStamp=_2f.dataStamp||"";this.attributeObj.showRTMenuItem=_2f.showRTMenuItem||0;}catch(e){$W.exception.printStackTrace(e);}};;WebSquare.uiplugin.fwRealtimeChart=$W._a.ay;$W._a._L=function(id,_2,_3){["WebSquare.uiplugin.fwBulletChart"];$W._t.call(this,id,_2,_3);};$W.extend($W._a._L.prototype,$W._t.prototype);$W._a._L.prototype.defaultOptions={pluginType:"uiplugin.fwBulletChart",pluginName:"fwBulletChart",useConfig:true,chartType:"",seriesType:"advanced",version:"3.7"};$W._a._L.prototype.initialize=function(_4){if(typeof FusionCharts=="undefined"){if(this.options.version=="3.11"||(!this.options.version&&$W._N.getConfiguration("/WebSquare/fusionchart/version/@value")=="3.11")){this.options.version="3.11";imports("externalJS/FusionCharts3.11.0/FusionCharts_all.js");}else{imports("externalJS/FusionCharts3.7/FusionCharts_all.js");}}this.fcObj=null;this.chartObj={};this.attributeObj=null;this.colorrange=null;this.value=null;this.target=null;};$W._a._L.prototype.toHTML=function(){["WebSquare.uiplugin.fwBulletChart.toHTML"];var _5=[];var _6=(this.options.style=="")?"":"style='"+this.options.style+"'";_5.push("<div id='"+this.id+"' "+_6+" class='w2fwBulletChart "+this.options.className+"'>");_5.push("</div>");return _5.join("");};$W._a._L.prototype.setAction=function(){try{this.fcObj=new FusionCharts({"id":"fw_bullet_"+this.id,"type":this.options.chartType,"width":"100%","height":this.render.offsetHeight});this.setDefaultOption();if(this.modelControl.isDataCollectionRefBinded){var _7=this.modelControl.dataCollectionRefInfo.dataComp;var _8=_7.rowPosition;_8=_8?_8:0;this.setValue(_7.getRowJSON(_8));}}catch(e){$W.exception.printStackTrace(e);}};$W._a._L.prototype.refresh=function(){["WebSquare.uiplugin.fwBulletChart.prototype.refresh"];try{var _9=this.modelControl.dataCollectionRefInfo.dataComp;if(this.modelControl.isDataCollectionRefBinded){var _a=_9.rowPosition;_a=_a?_a:0;this.setValue(_9.getRowJSON(_a));}}catch(e){$W.exception.printStackTrace(e);}};$W._a._L.prototype.setJSONData=function(_b){["WebSquare.uiplugin.fwBulletChart.prototype.setJSONData"];try{this.chartObj=_b;this.draw();}catch(e){$W.exception.printStackTrace(e);}};$W._a._L.prototype.getJSONData=function(){["WebSquare.uiplugin.fwBulletChart.prototype.getJSONData"];try{var _c=this.fcObj.getJSONData();return _c;}catch(e){$W.exception.printStackTrace(e);}};$W._a._L.prototype.fc=function(){["WebSquare.uiplugin.fwBulletChart.prototype.fc"];try{var _d=FusionCharts.items;var _e="fw_bullet_"+this.id;return _d[_e];}catch(e){$W.exception.printStackTrace(e);}};$W._a._L.prototype.draw=function(){["WebSquare.uiplugin.fwBulletChart.prototype.draw"];try{if(this.attributeObj!=null){this._setChartAttribute(this.attributeObj);}if(this.colorrange!=null){this.chartObj.colorrange=this.colorrange;}if(this.target!=null){this.chartObj.target=this.target;}if(this.value!=null){this.chartObj.value=this.value;}var _f=this.fc();_f.setJSONData(this.chartObj);if(!_f.isActive()){_f.render(this.id);}}catch(e){$W.exception.printStackTrace(e);}};$W._a._L.prototype.setDefaultOption=function(){["WebSquare.uiplugin.fwBulletChart.prototype.setDefaultOption"];try{this.attributeObj={"plotFillColor":"0075c2","targetColor":"8e0000","showHoverEffect":"1","showBorder":"0","bgColor":"ffffff","showShadow":"0","colorRangeFillMix":"{light+0}"};this.colorrange={"color":[{"minValue":"0","maxValue":"30","code":"fe5d55"},{"minValue":"50","maxValue":"60","code":"f4c74e"},{"minValue":"75","maxValue":"100","code":"00ba84"}]};this.value=0;this.target=0;}catch(e){$W.exception.printStackTrace(e);}};$W._a._L.prototype.setChartAttribute=function(_10){["WebSquare.uiplugin.fwBulletChart.prototype.setChartAttribute"];try{if(this.attributeObj==null){this.attributeObj={};}for(var key in _10){if(_10.hasOwnProperty(key)){this.attributeObj[key.toLowerCase()]=_10[key];}}}catch(e){$W.exception.printStackTrace(e);}};$W._a._L.prototype._setChartAttribute=function(_12){["WebSquare.uiplugin.fwBulletChart.prototype._setChartAttribute"];try{this.chartObj.chart=_12;}catch(e){$W.exception.printStackTrace(e);}};$W._a._L.prototype.getChartAttribute=function(_13){["WebSquare.uiplugin.fwBulletChart.prototype.getChartAttribute"];try{return FusionCharts.items["fw_bullet_"+this.id].getChartAttribute(_13);}catch(e){$W.exception.printStackTrace(e);}};$W._a._L.prototype.exportJSChart=function(_14){["WebSquare.uiplugin.fwBulletChart.exportJSChart"];try{if(!_14){_14="jpg";}var _15=this.options.id||"fusionChart";var _16=this.getSVGString();if(_16){var _17=encodeURI(_16+"ExportType="+_14+"ExportFileName="+_15);$W._N.download("engine/servlet/exportFusionChart.jsp",_17,"post");}}catch(e){$W.exception.printStackTrace(e);}};$W._a._L.prototype.getSVGString=function(){["WebSquare.uiplugin.fwBulletChart.getSVGString"];try{var _18=this.fc().getSVGString();if(_18){_18=_18.wq_replaceAll("shape-rendering=\"default\"","shape-rendering='auto'");_18=_18.wq_replaceAll("visibility=\"\"","visibility='inherit'");_18=_18.wq_replaceAll("text-anchor=\"undefined\"","text-anchor='start'");_18=_18.wq_replaceAll("1e-006","0.000001");_18=_18.wq_replaceAll("font-family=\"15\"","font-family=\"Verdana\"");return _18;}else{$W.logger.printLog("not found svg object");}}catch(e){$W.exception.printStackTrace(e);}};$W._a._L.prototype.getValue=function(){["WebSquare.uiplugin.fwBulletChart.getGaugeValue"];try{var _19=this.options.chartType;var _1a={};_1a.value=this.value;_1a.target=this.target;return _1a;}catch(e){$W.exception.printStackTrace(e);}};$W._a._L.prototype.setValue=function(_1b){["WebSquare.uiplugin.fwBulletChart.setValue"];if(typeof _1b=="object"){this.value=_1b[this.options.valueNode]||0;this.target=_1b[this.options.targetNode]||0;}this.draw();};$W._a._L.prototype.setRef=function(ref,_1d,_1e){["WebSquare.uiplugin.fwBulletChart.prototype.setRef"];try{if(!this.modelControl.isBinded()){this.modelControl.useRef=true;}this.options.ref=ref;this.options.targetNode=_1d;this.options.valueNode=_1e;this.modelControl.setRef(ref);this.refresh();}catch(e){$W.exception.printStackTrace(e);}};;WebSquare.uiplugin.fwBulletChart=$W._a._L;$W._a._c=function(id,_2,_3){["WebSquare.uiplugin.widgetContainer"];if(!$W._a._c.isImported){requires("uiplugin.wframe");$W._a._c.isImported=true;}$W._t.call(this,id,_2,_3);};$W.extend($W._a._c.prototype,$W._t.prototype);$W.extend($W._a._c.prototype,$W._n.prototype);$W._a._c.prototype.defaultOptions={pluginType:"uiplugin.widgetContainer",pluginName:"widgetContainer",useConfig:true,userEvents:["onload","onwidgetload","onwidgetmove","onwidgetresize","onwidgetopen","onwidgetfix","onwidgetmaximize","onwidgetminimize","onbeforewidgetclose","onafterwidgetclose","onwidgetrestore","onclickcustombtn"],mode:"pushpull",threshold:null,cols:1,unitHeightPixel:25,verticalMargin:0,horizontalMargin:0,minUnitWidth:1,minUnitHeight:1,maxUnitWidth:null,maxUnitHeight:null,widgetMove:true,widgetResize:true,popupEvent:"",async:false};$W._a._c.prototype.initialize=function(_4){["WebSquare.uiplugin.widgetContainer.initialize"];this.widgetIdCount=0;this.widgetLoadedCount=0;this.widgets=[];this.dirtyArr=[];this.changingWidget=null;this.oneColumn=false;this.widgetMove=this.options.widgetMove;this.widgetResize=this.options.widgetResize;};$W._a._c.prototype.toHTML=function(){["WebSquare.uiplugin.widgetContainer.toHTML"];var _5=[];var _6=(this.options.style==="")?"":"style='"+this.options.style+"'";_5.push("<div id='"+this.id+"' "+_6+" class='w2widgetContainer "+this.options.className+"'>");_5.push("<div id='"+this.id+"_content' "+" class='w2widgetContainer_content'>");_5.push("</div>");_5.push("</div>");return _5.join("");};$W._a._c.prototype.setAction=function(){this.unitWidth=100/this.options.cols;this.unitHeightPixel=this.options.unitHeightPixel;this.contentRender=this.getElementById(this.id+"_content");this.redraw();this.event.addListener(window,"onresize",this.event.bindAsEventListener(this,this.handleResizeEvent));this.event.addListener(this.render,"ontouchstart",this.event.bindAsEventListener(this,this.handleMousedownEvent));this.event.addListener(this.render,"onMSPointerDown",this.event.bindAsEventListener(this,this.handleMousedownEvent));this.event.addListener(this.render,"onmousedown",this.event.bindAsEventListener(this,this.handleMousedownEvent));};$W._a._c.prototype.checkResize=function(_7){this.handleResizeEvent();};$W._a._c.prototype.handleResizeEvent=function(){this.redraw();};$W._a._c.prototype._changeWidget=function(_8,x,y,_b,_c,_d){if(!_d){_d={};}if(_8.isFixed()&&!_d.force){return false;}var _x,_y,_unitWidth,_unitHeight;if(_8.dirty===true){_x=(typeof x==="number")?x:_8.x;_y=(typeof y==="number")?y:_8.y;_unitWidth=(typeof _b==="number")?_b:_8.unitWidth;_unitHeight=(typeof _c==="number")?_c:_8.unitHeight;}else{_x=(typeof x==="number")?x:_8.oriX;_y=(typeof y==="number")?y:_8.oriY;_unitWidth=(typeof _b==="number")?_b:_8.oriUnitWidth;_unitHeight=(typeof _c==="number")?_c:_8.oriUnitHeight;_8.dirty=true;this.dirtyArr.push(_8);}if(!this.isValidPos(_x,_y,_unitWidth,_unitHeight)){return false;}_8.x=_x;_8.y=_y;_8.unitWidth=_unitWidth;_8.unitHeight=_unitHeight;return true;};$W._a._c.prototype._commit=function(){var _f;for(var i=0;i<this.dirtyArr.length;i++){_f=this.dirtyArr[i];if(!_f){continue;}_f.oriX=_f.x;_f.oriY=_f.y;_f.oriUnitWidth=_f.unitWidth;_f.oriUnitHeight=_f.unitHeight;_f.dirty=false;}this.dirtyArr.splice(0,this.dirtyArr.length);};$W._a._c.prototype._rollback=function(){var tmp;for(var i=0;i<this.dirtyArr.length;i++){tmp=this.dirtyArr[i];if(!tmp){continue;}tmp.x=tmp.oriX;tmp.y=tmp.oriY;tmp.unitWidth=tmp.oriUnitWidth;tmp.unitHeight=tmp.oriUnitHeight;tmp.dirty=false;}this.dirtyArr.splice(0,this.dirtyArr.length);};$W._a._c.prototype._getMaxRect=function(_13){var _14=_13.getMaximizeConfig();var _15=_13.getRect();var _16=(_14.left<0)?0:_15.x-_14.left;var _17=(_14.right<0)?this.options.cols-_15.x:_15.unitWidth+_14.right;if(_16<=0){_17=_17+_15.x-_16;_16=0;}else{_17=_17+_14.left;}if(_16+_17>this.options.cols){if(_16<_17-this.options.cols){_16=0;_17=this.options.cols;}else{_16=this.options.cols-_17;}}var _18=(_14.top<0)?0:_15.y-_14.top;var _19=_15.unitHeight+_14.bottom;if(_18<=0){_19=_19+_15.y-_18;_18=0;}else{_19=_19+_14.top;}if(_14.bottom<0){_19=Infinity;}return {x:_16,y:_18,unitWidth:_17,unitHeight:_19};};$W._a._c.prototype._getMarginedWidth=function(_1a){return (typeof _1a==="number")?_1a-this.verticalMargin:parseInt(_1a,10)-this.verticalMargin;};$W._a._c.prototype._getMarginedHeight=function(_1b){return (typeof _1b==="number")?_1b-this.horizontalMargin:parseInt(_1b,10)-this.horizontalMargin;};$W._a._c.prototype._getMarginedLeft=function(_1c){return (typeof _1c==="number")?_1c+(this.verticalMargin/2):parseInt(_1c,10)+(this.verticalMargin/2);};$W._a._c.prototype._getMarginedTop=function(top){return (typeof top==="number")?top+(this.horizontalMargin/2):parseInt(top,10)+(this.horizontalMargin/2);};$W._a._c.prototype._recalcSize=function(){this.fullWidth=Math.max(this.render.scrollWidth,this.render.clientWidth);this.verticalMargin=(this.options.verticalMargin/this.fullWidth)*100;this.horizontalMargin=this.options.horizontalMargin;var _1e=0;for(var i=0;i<this.widgets.length;i++){var _20=this.widgets[i];var _21=(_20.isMaximized())?this._getMaxRect(_20):_20.getRect();if(!!_21&&_21.unitHeight!==Infinity&&_1e<_21.y+_21.unitHeight){_1e=_21.y+_21.unitHeight;}}var _22=_1e*this.unitHeightPixel;this.fullHeight=Math.max(this.render.scrollHeight,this.render.clientHeight,_22);if(!!$W.BootLoader.fullViewRatio){this.zoomLevel=$W.BootLoader.fullViewRatio;}if(!!this.options.threshold&&this.options.threshold>this.fullWidth){this.oneColumn=true;this.widgetMove=false;this.widgetResize=false;}else{this.oneColumn=false;this.widgetMove=this.options.widgetMove;this.widgetResize=this.options.widgetResize;}};$W._a._c.prototype._renderWithRect=function(_23,_24){if(typeof _24.unitWidth==="number"){_23.style.width=this._getMarginedWidth(_24.unitWidth*this.unitWidth)+"%";}else{_23.style.width=this._getMarginedWidth(_24.unitWidth)+"%";}if(typeof _24.unitHeight==="number"){_23.style.height=this._getMarginedHeight(_24.unitHeight*this.unitHeightPixel)+"px";}else{_23.style.height=this._getMarginedHeight(_24.unitHeight)+"px";}if(typeof _24.x==="number"){_23.style.left=this._getMarginedLeft(_24.x*this.unitWidth)+"%";}else{_23.style.left=this._getMarginedLeft(_24.x)+"%";}if(typeof _24.y==="number"){_23.style.top=this._getMarginedTop(_24.y*this.unitHeightPixel)+"px";}else{_23.style.top=this._getMarginedTop(_24.y)+"px";}};$W._a._c.prototype.redraw=function(){this._recalcSize();if(this.oneColumn){var _25=0;this.widgets.sort(function(a,b){return (a.y===b.y)?a.x-b.x:a.y-b.y;});}for(var i=0;i<this.widgets.length;i++){var _29=this.widgets[i];var _2a=_29.getRect();if(!this.oneColumn){if(_29.isMaximized()){var _2b=this._getMaxRect(_29);_2b.unitHeight=(_2b.unitHeight===Infinity)?this.fullHeight+"px":_2b.unitHeight;this._renderWithRect(_29.render,_2b);continue;}if(_29.isMinimized()){var _2c=this.getElementById(_29.id+"_title");var _2d=parseInt($W._H.getStyle(_2c,"height"),10);_2a.unitHeight=(_2d+this.horizontalMargin)+"px";this._renderWithRect(_29.render,_2a);}}else{_2a.x=0;_2a.unitWidth=this.options.cols;_2a.y=_25;_25+=_2a.unitHeight;}if(!!this.ghost&&_29.id===this.dragDropElem.id){this._renderWithRect(this.ghost,_2a);continue;}this._renderWithRect(_29.render,_2a);}};$W._a._c.prototype.setCols=function(_2e){var _2f=this.unitWidth;var _30=this.options.cols;var _31=true;this.unitWidth=100/_2e;this.options.cols=_2e;for(var i=0;i<this.widgets.length;i++){if(!this.isValidPos(this.widgets[i].x,this.widgets[i].y,this.widgets[i].unitWidth,this.widgets[i].unitHeight)){_31=false;break;}}if(_31){this.redraw();}else{this.unitWidth=_2f;this.options.cols=_30;$l($W._m.getMessage("WidgetContainer_setCols_warning"));}};$W._a._c.prototype.isValidPos=function(x,y,_35,_36){if(x!==parseInt(x,10)||y!==parseInt(y,10)||_35!==parseInt(_35,10)||_36!==parseInt(_36,10)){return false;}var _37=(x>=0)&&(x+_35<=this.options.cols);var _38=(y>=0);var _39=_35>=(this.options.minUnitWidth||1);var _3a=_36>=(this.options.minUnitHeight||1);return (_37&&_38&&_39&&_3a);};$W._a._c.prototype._checkInclusion=function(_3b,_3c){return (_3b.x<=_3c.x&&_3b.y<=_3c.y&&_3b.x+_3b.unitWidth>=_3c.x+_3c.unitWidth&&_3b.y+_3b.unitHeight>=_3c.y+_3c.unitHeight);};$W._a._c.prototype._checkCollision=function(a,b){return (a.x+a.unitWidth>b.x&&a.x<b.x+b.unitWidth&&a.y+a.unitHeight>b.y&&a.y<b.y+b.unitHeight);};$W._a._c.prototype._checkSwitchable=function(_3f,_40){var _41=_3f._getOriRect();if(!this._checkInclusion(_41,_40)||this._checkCollision(_3f,_40)){return false;}for(var i=0;i<this.widgets.length;i++){var _43=this.widgets[i];var _44=_43._getOriRect();if(_43.id!==_3f.id&&_43.id!==_40.id&&this._checkCollision(_40,_44)){return false;}}return true;};$W._a._c.prototype._getColArr=function(_45){var _46=[];for(var i=0;i<this.widgets.length;i++){var _48=this.widgets[i];if(!!_48&&_48.id!==_45.id){var _49=this._getMaxRect(_48);if(_48.isMaximized()&&(!_49||this._checkCollision(_45,_49))){return false;}else{if(this._checkCollision(_45,_48)){if(_48.isFixed()&&this.changingWidget===_45){return false;}_46.push(_48);}}}}return _46;};$W._a._c.prototype._pushWidgets=function(_4a){var _4b=[];var _4c=this._getColArr(_4a);if(_4c===false){return false;}_4c.sort(function(a,b){return (b.y-a.y);});for(var j=0;j<_4c.length;j++){var _50=_4c[j];if(!!_50&&_50.id!==_4a.id){if(!_50.isFixed()){this._changeWidget(_50,null,_4a.y+_4a.unitHeight,null,null);if(!this._pushWidgets(_50)){return false;}}else{_4b.push(_50);}}}for(var k=0;k<_4b.length;k++){this._pushWidgets(_4b[k]);}return true;};$W._a._c.prototype._pullWidgets=function(){if(this.options.mode!=="pushpull"){return;}this.widgets.sort(function(a,b){return a.y-b.y;});for(var i=0;i<this.widgets.length;i++){var _55=0;var _56=this.widgets[i];if(_56.isFixed()){continue;}for(var j=0;j<i;j++){var _58=this.widgets[j];if(_56.x+_56.unitWidth>_58.x&&_56.x<_58.x+_58.unitWidth){if(_58.isFixed()&&_55+_56.unitHeight<=_58.y){var tmp=this.widgets.splice(i,1)[0];this.widgets.splice(j,0,tmp);break;}else{if(_58.y+_58.unitHeight>_55){_55=_58.y+_58.unitHeight;}}}}if(_56.y!==_55){this._changeWidget(_56,null,_55,null,null);}}};$W._a._c.prototype._calcSwitchPos=function(_5a,_5b,_5c,_5d,_5e){var _5f;var _60;var _61=_5a._getOriRect();if(this._checkCollision(_5a,_61)){var _62=0;var _63=0;if((_5a.oriX>_5a.x)&&(_5a.x+_5a.unitWidth>_5a.oriX)){_62=_5a.x+_5a.unitWidth-_5a.oriX;}if((_5a.oriY>_5a.y)&&(_5a.y+_5a.unitHeight>_5a.oriY)){_63=_5a.y+_5a.unitHeight-_5a.oriY;}var _64=_5c[0],originY=_5c[0],i;for(i=1;i<_5c.length;i++){_64=_5d(_64,_5c[i]);originY=_5e(originY,_5c[i]);}_64=_64.oriX;originY=originY.oriY;_5f=_5a.oriX+_62+(_5b.oriX-_64);_60=_5a.oriY+_63+(_5b.oriY-originY);}else{_5f=_5a.oriX+(_5b.oriX-_5a.x);_60=_5a.oriY+(_5b.oriY-_5a.y);}return {newX:_5f,newY:_60};};$W._a._c.prototype._resolveCollision=function(_65){try{if(this.options.mode==="pushpull"){var _66=this._pushWidgets(_65);if(_66===false){return false;}this._pullWidgets();}else{if(this.options.mode==="switch"){var _67=this._getColArr(_65);if(_67===false){return false;}var _68=function(a,b){return (a.oriX<=b.oriX)?a:b;};var _6b=function(a,b){return (a.oriY<=b.oriY)?a:b;};for(var j=0;j<_67.length;j++){var _6f=_67[j];if(!_6f||_6f.isFixed()){return false;}var _70=this._calcSwitchPos(_65,_6f,_67,_68,_6b);var _71=_70.newX;var _72=_70.newY;if(!this.isValidPos(_71,_72,_6f.unitWidth,_6f.unitHeight)){return false;}this._changeWidget(_6f,_71,_72,null,null);if(!this._checkSwitchable(_65,_6f)){return false;}}}else{return false;}}return true;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._c.prototype.getWidgetById=function(id){for(var i=0;i<this.widgets.length;i++){var _75=this.widgets[i];if(_75.id===id||_75.id===this.id+"_"+id){return _75;}}return null;};$W._a._c.prototype.getWidgetByTitle=function(_76){for(var i=0;i<this.widgets.length;i++){var _78=this.widgets[i];if(_78.title===_76){return _78;}}return null;};$W._a._c.prototype.importWidgets=function(_79,_7a){try{if(_7a){this._removeWidgets(this.widgets);}return this.addWidgets(_79);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._c.prototype.importWidget=function(id,_7c){try{for(var i=0;i<this.widgets.length;i++){var _7e=this.widgets[i];if(_7e.id===id||_7e.id===this.id+"_"+id){_7c.id=id;if(this.removeWidgets([_7e.id])&&this.addWidgets(_7c)){return true;}}}return false;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._c.prototype.exportWidgets=function(){try{var _7f=[];for(var i=0;i<this.widgets.length;i++){var _81=this.widgets[i];_7f.push(_81.getWidgetInfo());}return _7f;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._c.prototype.setTitleClass=function(id,_83){try{for(var i=0;i<this.widgets.length;i++){var _85=this.widgets[i];if(_85.id===id||_85.id===this.id+"_"+id){var _86=_85.render.getElementsByClassName("w2widget_title")[0];_85.titleClass=_83;this.addClass(_86,_83);}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._c.prototype.removeTitleClass=function(id,_88){try{for(var i=0;i<this.widgets.length;i++){var _8a=this.widgets[i];if(_8a.id===id||_8a.id===this.id+"_"+id){var _8b=_8a.render.getElementsByClassName("w2widget_title")[0];this.removeClass(_8b,_88);}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._c.prototype.exportWidget=function(id){try{var _8d=null;for(var i=0;i<this.widgets.length;i++){var _8f=this.widgets[i];if(_8f.id===id||_8f.id===this.id+"_"+id){_8d=_8f.getWidgetInfo();break;}}return _8d;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._c.prototype.addWidgets=function(_90){try{if(!$W._G.isArray(_90)){_90=[_90];}var _91=null;var _92=[];var _93=true;for(var i=0;i<_90.length;i++){_91=_90[i];_91.x=parseInt(_91.x,10);_91.y=parseInt(_91.y,10);_91.unitWidth=parseInt(_91.unitWidth,10);_91.unitHeight=parseInt(_91.unitHeight,10);if(!this.isValidPos(_91.x,_91.y,_91.unitWidth,_91.unitHeight)){_93=false;break;}if(!_91.id){var id="widget"+this.widgetIdCount++;while(this.getWidgetById(id)!==null){id="widget"+this.widgetIdCount++;}_91.id=this.id+"_"+id;_91.org_id=id;}else{_91.org_id=_91.id;_91.id=this.id+"_"+_91.id;}var _96=new $W._a.widget(_91.id,_91);_96.appendTo(this);this.widgets.push(_96);_92.push(_96);if(!this._resolveCollision(_96)){_93=false;break;}}if(_93){for(var j=0;j<_92.length;j++){var tmp=_92[j];tmp.activate();}this._commit();}else{this._rollback();this._removeWidgets(_92);_92=null;}this.redraw();$W._c.fireEvent(this,"onload");return _92;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._c.prototype.removeWidgets=function(_99){try{if(!$W._G.isArray(_99)){_99=[_99];}var _9a=[];for(var i=0;i<_99.length;i++){var _9c=_99[i];if(typeof _9c==="object"&&_9c!==null){_9c=_9c.id;}var _9d=this.getWidgetById(_9c);if(_9d){_9a.push(_9d);}else{return null;}}return this._removeWidgets(_9a);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._c.prototype._removeWidgets=function(_9e){try{if(!$W._G.isArray(_9e)){_9e=[_9e];}var _9f=[];for(var i=0;i<_9e.length;i++){_9f.push(_9e[i].id);}var _a1;for(var i=0;i<_9f.length;i++){for(var j=0;j<this.widgets.length;j++){if(this.widgets[j].id===_9f[i]){_a1=this.widgets.splice(j,1)[0];_a1.remove();break;}}}this._commit();this._pullWidgets();this.redraw();return _9f;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._c.prototype.moveWidget=function(_a3,_a4,_a5){["WebSquare.uiplugin.widgetContainer.prototype.moveWidget"];try{if(!this.widgetMove){return false;}var _a6=this.getWidgetById(_a3);if(_a6.isFixed()){return false;}this.changingWidget=_a6;this._rollback();if(!this._changeWidget(_a6,_a4,_a5,null,null)){return false;}var _a7=this._resolveCollision(_a6);if(_a7){var _a8=_a6._getOriRect();this._commit();$W._c.fireEvent(this,"onwidgetmove",_a3,_a6.getRect(),_a8);}else{this._rollback();}this.redraw();this.changingWidget=null;return _a7;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._c.prototype._moveWidget=function(_a9,_aa,_ab){try{if(!this.widgetMove){return false;}var _ac=this.getWidgetById(_a9);if(_ac.isFixed()){return false;}this.changingWidget=_ac;this._rollback();if(!this._changeWidget(_ac,_aa,_ab,null,null)){return false;}var _ad=this._resolveCollision(_ac);if(!_ad){this._rollback();}this.redraw();this.changingWidget=null;return _ad;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._c.prototype.resizeWidget=function(_ae,_af,_b0,_b1){["WebSquare.uiplugin.widgetContainer.prototype.resizeWidget"];try{if(!_b1){_b1={};}if(!this.widgetResize&&!_b1.force){return false;}var _b2=this.getWidgetById(_ae);if(_b2.isFixed()&&!_b2.options.minimizeonfixed){return false;}this.changingWidget=_b2;this._rollback();if(!this._changeWidget(_b2,null,null,_af,_b0,_b1)){return false;}var _b3=this._resolveCollision(_b2);if(_b3){var _b4=_b2._getOriRect();this._commit();$W._c.fireEvent(this,"onwidgetresize",_ae,_b2.getRect(),_b4);}else{this._rollback();}this.redraw();this.changingWidget=null;return _b3;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._c.prototype._resizeWidget=function(_b5,_b6,_b7){try{if(!this.widgetResize){return false;}var _b8=this.getWidgetById(_b5);if(_b8.isFixed()||_b8.isMinimized()){return false;}this.changingWidget=_b8;this._rollback();if(!this._changeWidget(_b8,null,null,_b6,_b7)){return false;}var _b9=this._resolveCollision(_b8);if(!_b9){this._rollback();}this.redraw();this.changingWidget=null;return _b9;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._c.prototype._getClickPos=function(e){var _bb,posY;if(e.touches&&e.touches.length==1){_bb=e.touches[0].pageX;posY=e.touches[0].pageY;}else{if(window.navigator.msPointerEnabled&&e.pointerType=="touch"){_bb=e.pageX;posY=e.pageY;}else{_bb=$W._c.getMouseX(e);posY=$W._c.getMouseY(e);}}if(!!this.zoomLevel){_bb/=this.zoomLevel;posY/=this.zoomLevel;}return {posX:_bb,posY:posY};};$W._a._c.prototype._makeGhost=function(e){this.ghost=document.createElement("div");this.contentRender.appendChild(this.ghost);this.ghost.style.left=this.dragDropElem.style.left;this.ghost.style.top=this.dragDropElem.style.top;this.ghost.style.width=this.dragDropElem.style.width;this.ghost.style.height=this.dragDropElem.style.height;this.ghost.className="w2widget_ghost";var _bd=this._getClickPos(e);this.ghost.oriX=_bd.posX-this.dragDropElem.offsetLeft;this.ghost.oriY=_bd.posY-this.dragDropElem.offsetTop;};$W._a._c.prototype.enableWidgetTitle=function(_be){["WebSquare.uiplugin.widgetContainer.prototype.enableWidgetTitle"];if(typeof _be!="boolean"){return;}for(var i=0,len=this.widgets.length;i<len;i++){this.widgets[i].showTitle(_be);}};$W._a._c.prototype.enableWidgetMove=function(_c0){["WebSquare.uiplugin.widgetContainer.prototype.enableWidgetMove"];if(typeof _c0!="boolean"){return;}this.options.widgetMove=_c0;this.widgetMove=_c0;};$W._a._c.prototype.enableWidgetResize=function(_c1){["WebSquare.uiplugin.widgetContainer.prototype.enableWidgetResize"];if(typeof _c1!="boolean"){return;}this.options.widgetResize=_c1;this.widgetResize=_c1;for(var i=0,len=this.widgets.length;i<len;i++){this.widgets[i].setResizable(_c1);}};$W._a._c.prototype.handleMousedownEvent=function(e){var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match("w2widget_btnResize")){if(this.options.widgetResize){this.dragDropElem=it.getElement().parentNode;this.isResizing=true;}else{this.dragDropElem=null;this.isResizing=false;}it.stop();}else{if(it.match("w2widget_title")){if(this.options.widgetMove){this.dragDropElem=it.getElement().parentNode;this.isMoving=true;}else{this.dragDropElem=null;this.isMoving=false;}it.stop();}}}it=null;var _c5=function(){var _c6=this;_c6.dragDropElem=null;_c6.isResizing=false;_c6.isMoving=false;};if(!this.dragDropElem){_c5.call(this);return;}$W._c.stopEvent(e);var _c7=this.getWidgetById(this.dragDropElem.id);if(!this.isResizing&&!this.isMoving){_c5.call(this);return;}if(this.isResizing){if(!this.widgetResize||!_c7.isResizable()){_c5.call(this);return;}}if(this.isMoving){if(!this.widgetMove||!_c7.isMovable()){_c5.call(this);return;}}_c7.addClass("w2widget_changing");if(e.touches&&e.touches.length==1){this.event.addListener(this.render,"ontouchmove",this.event.bindAsEventListener(this,this.handleMousemoveEvent));this.event.addListener(this.render,"ontouchend",this.event.bindAsEventListener(this,this.handleMouseupEvent));}else{if(window.PointerEvent){this.event.addListener(this.render,"onpointermove",this.event.bindAsEventListener(this,this.handleMousemoveEvent));this.event.addListener(this.render,"onpointerup",this.event.bindAsEventListener(this,this.handleMouseupEvent));}else{if(window.navigator.msPointerEnabled&&e.pointerType=="touch"){this.event.addListener(this.render,"onMSPointerMove",this.event.bindAsEventListener(this,this.handleMousemoveEvent));this.event.addListener(this.render,"onMSPointerUp",this.event.bindAsEventListener(this,this.handleMouseupEvent));}else{this.event.addListener(this.render,"onmousemove",this.event.bindAsEventListener(this,this.handleMousemoveEvent));this.event.addListener(this.render,"onmouseup",this.event.bindAsEventListener(this,this.handleMouseupEvent));}}}};$W._a._c.prototype.handleMousemoveEvent=function(e){if(this.dragDropElem){if(!this.ghost){this._makeGhost(e);}var _c9=this._getClickPos(e);var _ca=_c9.posX;var _cb=_c9.posY;if(this.isResizing===true){_ca=_ca-$W._H.getAbsoluteLeft(this.contentRender);_cb=_cb-$W._H.getAbsoluteTop(this.contentRender);var _cc=parseFloat(this.ghost.style.left);var _cd=((_ca/this.fullWidth)-(_cc/100))*100+this.verticalMargin;var _ce=_cb-parseInt(this.ghost.style.top,10)+this.horizontalMargin;_cd=(_cd<this.unitWidth)?this.unitWidth:_cd;_cd=(_cd+_cc>100)?(100-_cc):_cd;_ce=(_ce<this.unitHeightPixel)?this.unitHeightPixel:_ce;this.dragDropElem.style.width=_cd-this.verticalMargin+"%";this.dragDropElem.style.height=_ce-this.horizontalMargin+"px";_cd=Math.round(_cd/this.unitWidth);_ce=Math.round(_ce/this.unitHeightPixel);if(this.ghost.oldWidth!==_cd||this.ghost.oldHeight!==_ce){this.ghost.oldWidth=_cd;this.ghost.oldHeight=_ce;this.relocResult=this._resizeWidget(this.dragDropElem.id,_cd,_ce);}}else{if(this.isMoving===true){_ca=_ca-this.ghost.oriX;_cb=_cb-this.ghost.oriY;this.dragDropElem.style.left=_ca+"px";this.dragDropElem.style.top=_cb+"px";var _cf=Math.round(((_ca/this.fullWidth)*100-this.verticalMargin/2)/this.unitWidth);var _d0=Math.round((_cb-this.horizontalMargin/2)/this.unitHeightPixel);var _d1=Math.round(parseFloat(this.ghost.style.width)/this.unitWidth);_cf=(_cf<0)?0:_cf;_cf=(_cf+_d1>this.options.cols)?this.options.cols-_d1:_cf;_d0=(_d0<0)?0:_d0;if(this.ghost.oldX!==_cf||this.ghost.oldY!==_d0){this.ghost.oldX=_cf;this.ghost.oldY=_d0;this.relocResult=this._moveWidget(this.dragDropElem.id,_cf,_d0);}}}$W._c.preventDefault(e);}};$W._a._c.prototype.handleMouseupEvent=function(){if(this.dragDropElem){if(this.ghost){this.dragDropElem.parentNode.removeChild(this.ghost);this.ghost=null;}var _d2=this.getWidgetById(this.dragDropElem.id);_d2.removeClass("w2widget_changing");this.dragDropElem=null;if(this.relocResult){var _d3=_d2._getOriRect();this._commit();if(this.isMoving){$W._c.fireEvent(this,"onwidgetmove",_d2.id,_d2.getRect(),_d3);}else{if(this.isResizing){$W._c.fireEvent(this,"onwidgetresize",_d2.id,_d2.getRect(),_d3);}}}this.isResizing=false;this.isMoving=false;this.redraw();}};$W._a.widget=function(id,_d5,_d6){$W._t.call(this,id,_d5,_d6);};$W.extend($W._a.widget.prototype,$W._t.prototype);$W._a.widget.prototype.defaultOptions={pluginType:"uiplugin.widget",pluginName:"widget",title:"",titleClass:"",hasTitleBar:true,src:"",x:0,y:0,unitWidth:1,unitHeight:1,scope:false,params:undefined,fixed:false,minimizeonfixed:false,maximizeonfixed:false,oriFixed:false,minimized:false,maximized:false,resized:false,maxConfig:{left:-1,right:-1,top:-1,bottom:-1},buttons:[{"useAPI":"toggleFixed","id":"btnFix","className":"w2widget_btnFix","isCustom":false},{"useAPI":"toggleMinimized","id":"btnMinimize","className":"w2widget_btnMinimize","isCustom":false},{"useAPI":"toggleMaximized","id":"btnMaximize","className":"w2widget_btnMaximize","isCustom":false},{"useAPI":"closeWidget","id":"btnClose","className":"w2widget_btnClose","isCustom":false}],maximizeFormatter:null,buttonFormatter:null};$W._a.widget.prototype.initialize=function(_d7){this.src=this.options.src;this.scope=this.options.scope;this.params=this.options.params;this.minimized=this.options.minimized;this.maximized=this.options.maximized;this.x=this.options.x;this.y=this.options.y;this.unitWidth=this.options.unitWidth;this.unitHeight=this.options.unitHeight;this.fixed=this.options.fixed;this.oriFixed=this.options.oriFixed;this.oriX=this.x;this.oriY=this.y;this.oriUnitWidth=this.unitWidth;this.oriUnitHeight=this.unitHeight;this.dirty=false;this.title=this.options.title;this.resized=this.options.resizable;this.savedUnitHeight=null;this.buttons=this.options.buttons;this.maxConfig=this.options.maxConfig;this.maximizeFormatter=this.options.maximizeFormatter;this.buttonFormatter=this.options.buttonFormatter;this.titleClass=this.options.titleClass;if(this.maximizeFormatter){this.setMaximizeFormatter(this.maximizeFormatter);}if(this.buttonFormatter){this.setButtonFormatter(this.buttonFormatter);}};$W._a.widget.prototype.toHTML=function(){var _d8=[];var _d9=(this.options.style==="")?"":"style='"+this.options.style+"'";_d8.push("<div id='"+this.id+"' "+_d9+" class='w2widget "+this.options.className+"'>");if(this.options.hasTitleBar){_d8.push("<div id='"+this.id+"_title' class='w2widget_title "+this.options.titleClass+"'>");_d8.push("<div id='"+this.id+"_title_icon' class='w2widget_icon'></div>");_d8.push("<span id='"+this.id+"_title_text' class='w2widget_title_text'>"+this.options.title+"</span>");_d8.push("<div id='"+this.id+"_title_buttons' class='w2widget_title_buttons'>");for(var i=0;i<this.buttons.length;i++){var _db=this.buttons[i];_d8.push("<div id='"+this.id+"_title_"+_db.id+"' class='"+_db.className+"'></div>");}_d8.push("</div>");_d8.push("</div>");}_d8.push("<div id='"+this.id+"_btnResize' class='w2widget_btnResize'></div>");_d8.push("</div>");return _d8.join("");};$W._a.widget.prototype.setAction=function(){["WebSquare.uiplugin.widget.setAction"];var _dc=this.parentControl.options&&this.parentControl.options.async;var _dd=new $W._a._B(this.id+"_content",{className:this.options.hasTitleBar?"w2widget_content":"w2widget_content_notitlebar",src:this.options.src,scope:this.options.scope,mode:_dc?"async":"sync",isWidget:true});try{var _de=this.options.org_id;var _df=this.parentControl.id;var _e0=this.parentControl.uuid;if(_dd.options.scope&&_dd.options.scopeFunction){for(var _e1 in _dd.scopeVariable){_dd.scopeVariable[_e1][_dd.options.scopeFunction].widget={};_dd.scopeVariable[_e1][_dd.options.scopeFunction].widget.getWidgetId=function(){["WebSquare.uiplugin.wframe.scope.widget.isWidget"];return _de;};_dd.scopeVariable[_e1][_dd.options.scopeFunction].widget.getWidgetContainerId=function(){["WebSquare.uiplugin.wframe.scope.widget.getWidgetContainerId"];return _df;};_dd.scopeVariable[_e1][_dd.options.scopeFunction].widget.getWidgetContainer=function(){["WebSquare.uiplugin.wframe.scope.widget.getWidgetContainer"];return $W.idCache[_e0];};}}}catch(e){$W.exception.printStackTrace(e,null,this);}_dd.appendTo(this);_dd.makeFrame(true);_dd.activeStatus="active";$W._c.fireEvent(this.parentControl,"onwidgetload",this.id);var _e2=this.getElementById(this.id+"_title");if(!!_e2){_dd.render.style.top=$W._H.getStyle(_e2,"height");}this.contentRender=_dd.render;this.resized=this.parentControl.widgetResize;if(!this.isResizable()||this.parentControl.widgetResize===false){this.addClass(document.getElementById(this.id+"_btnResize"),"w2widget_btnResize_halt");}this.event.addListener(this.render,"onclick",this.event.bindAsEventListener(this,this.handleTitleClick));this.event.addListener(this.render,"ondblclick",this.event.bindAsEventListener(this,this.handleDblClickEvent));};$W._a.widget.prototype.handleTitleClick=function(e){if(this.parentControl&&$W.idCache[this.parentControl.uuid]!==undefined){var it=this.event.getTargetIterator(e,this.render);while(it.next()){for(var i=0;i<this.buttons.length;i++){var _e6=this.buttons[i];if(it.match(null,this.id+"_title_"+_e6.id)||it.match(null,_e6.id)){if(_e6.isCustom){$W._c.fireEvent(this.parentControl,"onclickcustombtn",this.id,_e6.id);}if(!!_e6.useAPI&&typeof this[_e6.useAPI]==="function"){this[_e6.useAPI]();}it.stop();break;}}}it=null;}};$W._a.widget.prototype.handleDblClickEvent=function(e){var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match("w2widget_title")){this.toggleMaximized();}}it=null;};$W._a.widget.prototype.isFixed=function(){return this.fixed;};$W._a.widget.prototype.toggleFixed=function(){if(!this.isFixed()){this.setFixed();}else{this.unsetFixed();}};$W._a.widget.prototype.setFixed=function(){if(!this.isFixed()){this.fixed=true;this.addClass("w2widget_fixed");this.addClass(document.getElementById(this.id+"_btnResize"),"w2widget_btnResize_halt");$W._c.fireEvent(this.parentControl,"onwidgetfix",this.id);return true;}else{return false;}};$W._a.widget.prototype.unsetFixed=function(){if(this.isFixed()&&!this.isMaximized()){this.fixed=false;this.removeClass("w2widget_fixed");if(this.isResizable()){this.removeClass(document.getElementById(this.id+"_btnResize"),"w2widget_btnResize_halt");}return true;}else{return false;}};$W._a.widget.prototype.isMaximized=function(){return this.maximized;};$W._a.widget.prototype.setMaximized=function(){if(this.isMaximized()||(this.isFixed()&&!this.options.maximizeonfixed)){return false;}this.maximized=true;this.addClass("w2widget_maximized");if(this.isFixed()){this.oriFixed=true;}else{this.setFixed();}$W._c.fireEvent(this.parentControl,"onwidgetmaximize",this.id);this.parentControl.redraw();return true;};$W._a.widget.prototype.unsetMaximized=function(){if(!this.isMaximized()){return false;}this.maximized=false;this.removeClass("w2widget_maximized");if(this.oriFixed){this.oriFixed=false;}else{this.unsetFixed();}$W._c.fireEvent(this.parentControl,"onwidgetrestore",this.id);this.parentControl.redraw();return true;};$W._a.widget.prototype.toggleMaximized=function(){var _e9=false;if(!this.isMaximized()){_e9=this.setMaximized();}else{_e9=this.unsetMaximized();}return _e9;};$W._a.widget.prototype.isMinimized=function(){return this.minimized;};$W._a.widget.prototype._calcMinimizedUnitHeight=function(){var _ea=this.getElementById(this.id+"_title");var _eb=parseInt($W._H.getStyle(_ea,"height"),10);var _ec=0;var px=this.parentControl.unitHeightPixel;var _ee=this.parentControl._getMarginedHeight;while(_ee.call(this.parentControl,_ec*px)<_eb){_ec+=1;}return _ec;};$W._a.widget.prototype.setMinimized=function(){if(this.isMinimized()||(this.isFixed()&&!this.options.minimizeonfixed)){return false;}this.savedUnitHeight=this.unitHeight;var _ef=this.parentControl.resizeWidget(this.id,this.width,this._calcMinimizedUnitHeight(),{force:this.options.minimizeonfixed});if(_ef){this.minimized=true;this.addClass("w2widget_minimized");this.addClass(document.getElementById(this.id+"_btnResize"),"w2widget_btnResize_halt");$W._c.fireEvent(this.parentControl,"onwidgetminimize",this.id);}else{this.savedUnitHeight=null;}return _ef;};$W._a.widget.prototype.unsetMinimized=function(){if(!this.isMinimized()||(this.isFixed()&&!this.options.minimizeonfixed)){return false;}var _f0=this.parentControl.resizeWidget(this.id,this.width,this.savedUnitHeight,{force:this.options.minimizeonfixed});if(_f0){this.savedUnitHeight=null;this.minimized=false;this.removeClass("w2widget_minimized");this.removeClass(document.getElementById(this.id+"_btnResize"),"w2widget_btnResize_halt");$W._c.fireEvent(this.parentControl,"onwidgetrestore",this.id);}return _f0;};$W._a.widget.prototype.toggleMinimized=function(){var _f1=false;if(!this.isMinimized()){_f1=this.setMinimized();}else{_f1=this.unsetMinimized();}if(_f1){this.parentControl.redraw();}return _f1;};$W._a.widget.prototype.isMovable=function(){return !this.isFixed();};$W._a.widget.prototype.isResizable=function(){return !this.isFixed()&&!this.isMinimized()&&(!this.parentControl||this.parentControl.widgetResize!==false)&&this.resized;};$W._a.widget.prototype.setTitle=function(_f2){var _f3=this.getElementById(this.id+"_title_text");if(!_f3){return false;}var _f4=("textContent" in _f3)?"textContent":"innerText";_f3[_f4]=_f2+"";this.title=_f2+"";return true;};$W._a.widget.prototype.getTitle=function(){var _f5=this.getElementById(this.id+"_title_text");if(!_f5){return false;}var _f6=("textContent" in _f5)?"textContent":"innerText";return _f5[_f6];};$W._a.widget.prototype.setParams=function(_f7){this.params=_f7;return true;};$W._a.widget.prototype.getParams=function(){return this.params;};$W._a.widget.prototype.closeWidget=function(){var _f8=this.parentControl;var id=this.id;if($W._c.fireEvent(_f8,"onbeforewidgetclose",id)===false){return false;}var _fa=this.parentControl._removeWidgets(this);$W._c.fireEvent(_f8,"onafterwidgetclose",id);return _fa;};$W._a.widget.prototype.getWidgetInfo=function(){var aux={};aux.id=this.id.substring(this.id.lastIndexOf("_")+1);aux.src=this.src;aux.scope=this.options.scope;aux.minimized=this.minimized;aux.maximized=this.maximized;aux.x=this.x;aux.y=this.y;aux.unitWidth=this.unitWidth;aux.unitHeight=this.unitHeight;aux.fixed=this.fixed;aux.oriFixed=this.oriFixed;aux.title=this.title;aux.className=this.render.className.replace("w2widget ","");aux.maximizeFormatter=this.maximizeFormatter;aux.buttonFormatter=this.buttonFormatter;aux.params=this.params;aux.titleClass=this.titleClass;aux.onWidgetLoad=this.onWidgetLoad;return aux;};$W._a.widget.prototype.setSrc=function(src){var _fd=this.getChild(this.id+"_content");if(!_fd.setSrc(src)){return false;}this.src=src;return true;};$W._a.widget.prototype.getSrc=function(){var _fe=this.getChild(this.id+"_content");return _fe.getSrc();};$W._a.widget.prototype.getObj=function(id){var _100=this.getChild(this.id+"_content");return _100.getObj(id);};$W._a.widget.prototype.getObjList=function(){var _101=this.getChild(this.id+"_content");return _101.getObjList();};$W._a.widget.prototype.getRect=function(){var x=this.x;var y=this.y;var _104=this.unitWidth;var _105=this.unitHeight;return {x:x,y:y,unitWidth:_104,unitHeight:_105};};$W._a.widget.prototype._getOriRect=function(){var x=this.oriX;var y=this.oriY;var _108=this.oriUnitWidth;var _109=this.oriUnitHeight;return {x:x,y:y,unitWidth:_108,unitHeight:_109};};$W._a.widget.prototype.getRectByPx=function(){var x=this.render.offsetLeft;var y=this.render.offsetTop;var _10c=this.render.clientWidth;var _10d=this.render.clientHeight;return {x:x,y:y,width:_10c,height:_10d};};$W._a.widget.prototype.setButtonFormatter=function(_10e){var _10f=$W._G.getGlobalFunction(_10e,this.scope_id);if(!_10f){return false;}var _110=this.defaultOptions.buttons;var _111=_10f(this.id);for(var i=0;i<_111.length;i++){var _113=_111[i];if(!_113.useDefault){continue;}switch(_113.useDefault){case "fix":_111[i]=_110[0];break;case "minimize":_111[i]=_110[1];break;case "maximize":_111[i]=_110[2];break;case "close":_111[i]=_110[3];break;default:return false;}}this.buttons=_111;return true;};$W._a.widget.prototype.setMaximizeFormatter=function(_114){var _115=$W._G.getGlobalFunction(_114,this.scope_id);if(!_115){return false;}var _116=_115(this.id);if(!_116){return false;}var _117=["left","right","top","bottom"];for(var i=0;i<_117.length;i++){var attr=_117[i];if(_116[attr]!==parseInt(_116[attr],10)){_116[attr]=0;}}this.maxConfig=_116;return true;};$W._a.widget.prototype.getMaximizeConfig=function(){return this.maxConfig;};$W._a.widget.prototype.showTitle=function(_11a){var _11b=document.getElementById(this.id+"_title");var _11c=document.getElementById(this.id+"_content");if(!_11b){if(_11a){var _11d=document.getElementById(this.id+"_btnResize");var frag=document.createDocumentFragment();var tmp=document.createElement("body");var _120=null;var _121=[];_121.push("<div id='"+this.id+"_title' class='w2widget_title "+this.options.titleClass+"'>");_121.push("<div id='"+this.id+"_title_icon' class='w2widget_icon'></div>");_121.push("<span id='"+this.id+"_title_text' class='w2widget_title_text'>"+this.options.title+"</span>");_121.push("<div id='"+this.id+"_title_buttons' class='w2widget_title_buttons'>");for(var i=0;i<this.buttons.length;i++){var _123=this.buttons[i];_121.push("<div id='"+this.id+"_title_"+_123.id+"' class='"+_123.className+"'></div>");}_121.push("</div>");_121.push("</div>");tmp.innerHTML=_121.join("");while(_120=tmp.firstElementChild){frag.appendChild(_120);}this.render.insertBefore(frag,_11d);_11b=document.getElementById(this.id+"_title");}else{return;}}if(_11a){_11b.style.display="block";_11c.style.top=_11b.clientHeight+"px";this.addClass(_11c,"w2widget_content");this.removeClass(_11c,"w2widget_content_notitlebar");this.options.hasTitleBar=true;}else{_11b.style.display="none";_11c.style.top="0px";this.addClass(_11c,"w2widget_content_notitlebar");this.removeClass(_11c,"w2widget_content");this.options.hasTitleBar=false;}};$W._a.widget.prototype.setResizable=function(_124){if(typeof _124!="boolean"){return;}var _125=document.getElementById(this.id+"_btnResize");var _126=(_124&&this.parentControl.widgetResize!=false);if(_126){this.removeClass(_125,"w2widget_btnResize_halt");}else{this.addClass(_125,"w2widget_btnResize_halt");}this.resized=_126;};;WebSquare.uiplugin.widgetContainer=$W._a._c;requires("uiplugin.input");$W._a._m=function(id,_2,_3){["WebSquare.uiplugin.spinner"];$W._t.call(this,id,_2,_3);};$W.extend($W._a._m.prototype,$W._t.prototype);$W._a._m.prototype.defaultOptions={pluginType:"uiplugin.spinner",pluginName:"spinner",userEvents:["onDownButtonClick","onUpButtonClick"],buttonPosition:"horizon",buttonSize:30,spinnerClass:"type1",maxValue:10,minValue:1,dataType:"number",increment:1,dateIncrementType:"day",defalutValue:0,inputReadOnly:false,ioFormat:"yyyyMMdd",ioFormatter:"",displayFormat:"",displayFormatter:"",dateMask:"yyyy/MM/dd",timeMask:"HH:mm",numberMask:"",euroMask:"",rupeeMask:"",tengeMask:"",delimeter:"",decimalDelimeter:"",positionFix:false};$W._a._m.prototype.initialize=function(_4){["WebSquare.uiplugin.spinner.initialize"];var _5=this.options.style;var _6=this.options.readOnly;this.options.style=(!this.options.positionFix)?"position:absolute;width:0px;height:100%":"height:100%;";this.options.readOnly=this.options.inputReadOnly;if(this.options.displayFormat==""){switch(this.options.dataType){case "date":this.options.displayFormat=this.options.dateMask;break;case "time":this.options.displayFormat=this.options.timeMask;break;case "number":this.options.displayFormat=this.options.numberMask;if(!this.options.delimeter){this.options.delimeter=",";}if(!this.options.decimalDelimeter){this.options.decimalDelimeter=".";}break;case "euro":this.options.displayFormat=this.options.euroMask;if(!this.options.delimeter){this.options.delimeter=".";}if(!this.options.decimalDelimeter){this.options.decimalDelimeter=",";}break;case "rupee":this.options.displayFormat=this.options.rupeeMask;if(!this.options.delimeter){this.options.delimeter=",";}if(!this.options.decimalDelimeter){this.options.decimalDelimeter=".";}break;case "tenge":this.options.displayFormat=this.options.tengeMask;if(!this.options.delimeter){this.options.delimeter=" ";}if(!this.options.decimalDelimeter){this.options.decimalDelimeter="-";}break;}}var _7=$W.extend({},this.options);var _8=this.id+"___input";_7.id=_8;delete _7._scope_obj_org_id;delete _7._scope_obj_uuid;delete _7._scope_obj_runtime_id;this.input=new $W._a.aG(_8,_7,_4);this.options.style=_5;this.options.readOnly=_6;this.addControl(this.input);this.modelControl.ref=this.options.ref;this.input.modelControl.id=this.id;this.input.modelControl.scope_uuid=this.options._scope_obj_uuid;if(this.options.skin&&this.options.skin!=""){this.options.spinnerClass=this.options.skin;}if(this.options.max&&this.options.max!=""){this.options.maxValue=this.options.max;}if(this.options.min&&this.options.min!=""){this.options.minValue=this.options.min;}var _9=this;};$W._a._m.prototype.toHTML=function(){["WebSquare.uiplugin.spinner.toHTML"];try{var _a=this.isGridCellComponent?"w2grid_spinner_up_start":"w2spinner_up_start";var _b=this.isGridCellComponent?"w2grid_spinner_up_center":"w2spinner_up_center";var _c=this.isGridCellComponent?"w2grid_spinner_up_end":"w2spinner_up_end";var _d=this.isGridCellComponent?"w2grid_spinner_up_image":"w2spinner_up_image";var _e=this.isGridCellComponent?"w2grid_spinner_down_start":"w2spinner_down_start";var _f=this.isGridCellComponent?"w2grid_spinner_down_center":"w2spinner_down_center";var _10=this.isGridCellComponent?"w2grid_spinner_down_end":"w2spinner_down_end";var _11=this.isGridCellComponent?"w2grid_spinner_down_image":"w2spinner_down_image";var _12=[];var _13="";var _14=(this.options.style=="")?"":"style='"+this.options.style+"'";if(this.options.buttonPosition=="vertical"){_13="w2_vertical ";}else{_13="w2_horizon ";}_13+=this.options.spinnerClass+" ";if(!this.options.positionFix){_12.push("<div id='"+this.id+"' "+_14+" class='w2spinner "+_13+this.options.className+"'>");_12.push("<div id='"+this.id+"_upButton' class='w2spinner_up'>");_12.push("<div class='"+_a+"'></div>");_12.push("<div class='"+_b+"'></div>");_12.push("<div class='"+_c+"'></div>");_12.push("<div id='"+this.id+"_upButton_image' class='"+_d+"'></div>");_12.push("</div>");_12.push("<div id='"+this.id+"_downButton' class='w2spinner_down'>");_12.push("<div class='"+_e+"'></div>");_12.push("<div class='"+_f+"'></div>");_12.push("<div class='"+_10+"'></div>");_12.push("<div id='"+this.id+"_downButton_image' class='"+_11+"'></div>");_12.push("</div>");_12.push(this.getChild(this.id+"___input").toHTML());_12.push("</div>");}else{var _15=(this.options.skin=="type2")?"w2spinner_pos_fix ":"";_12.push("<div id='"+this.id+"' "+_14+" class='w2spinner w2spinner_pos_fix_alignment "+_13+this.options.className+"'>");if(this.options.skin=="type1"){_12.push(this.getChild(this.id+"___input").toHTML());_12.push("<div id='"+this.id+"_btnArea' class='w2spinner_btnArea' style='width:"+this.options.buttonSize+"px' >");}_12.push("<div id='"+this.id+"_upButton' class='w2spinner_up "+_15+"' style='width:"+this.options.buttonSize+"px;' >");_12.push("<div class='"+_a+"'></div>");_12.push("<div class='"+_b+"'></div>");_12.push("<div class='"+_c+"'></div>");_12.push("<div id='"+this.id+"_upButton_image' class='"+_d+"'></div>");_12.push("</div>");if(this.options.skin=="type2"){_12.push(this.getChild(this.id+"___input").toHTML());}_12.push("<div id='"+this.id+"_downButton' class='w2spinner_down "+_15+"' style='width:"+this.options.buttonSize+"px;' >");_12.push("<div class='"+_e+"'></div>");_12.push("<div class='"+_f+"'></div>");_12.push("<div class='"+_10+"'></div>");_12.push("<div id='"+this.id+"_downButton_image' class='"+_11+"'></div>");_12.push("</div>");if(this.options.skin=="type1"){_12.push("</div>");}_12.push("</div>");}return _12.join("");}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._m.prototype.setAction=function(){["WebSquare.uiplugin.spinner.setAction"];try{if(this.options.dataType=="date"){this.dateValidator=null;this.input.validator.addCommand(new $W._p.dateCommand());this.input.validator.addCommand(new $W._p.ignoreCharCommand(" -/:-~"));var _16=0;_16=this.options.ioFormat.length;this.input.validator.addCommand(new $W._p.maxLengthCommand(_16));this.input.validator.addCommand(new $W._p.minLengthCommand(_16));this.validMesssage=$W._m.getMessage("IC_invalidCalendarSelect");if(this.validMesssage==null||this.validMesssage==""){var _17=$W._m.getMessage("TabControl_warning1")||"\ub0a0\uc9dc \ud615\uc2dd\uc774 \uc798\ubabb \ub418\uc5c8\uc2b5\ub2c8\ub2e4.";this.validMesssage=_17;}}this.event.addListener(this.render,"onclick",this.event.bindAsEventListener(this,this.handleClickEvent));this.event.addListener(this.render,"onmousewheel",this.event.bindAsEventListener(this,this.handleMousewheelEvent));if(!this.options.positionFix){this.setInputStyle();}else{this._adjustAlignment();}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._m.prototype.setSize=function(_18,_19){["WebSquare.uiplugin.spinner.setSize"];try{$W._n.prototype.setSize.call(this,_18,_19);this.setInputStyle();}catch(e){$W.exception.printStackTrace(e);}};$W._a._m.prototype.refreshItemset=function(){["WebSquare.uiplugin.spinner.refreshItemset"];};$W._a._m.prototype.refresh=function(){["WebSquare.uiplugin.spinner.refresh"];};$W._a._m.prototype.setInputStyle=function(){try{this.input.originalStyleObj={paddingTop:parseInt(this.input.getStyle("padding-top"))||0,paddingBottom:parseInt(this.input.getStyle("padding-bottom"))||0,paddingLeft:parseInt(this.input.getStyle("padding-left"))||0,paddingRight:parseInt(this.input.getStyle("padding-right"))||0,borderTopWidth:parseInt(this.input.getStyle("border-top-width"))||0,borderBottomWidth:parseInt(this.input.getStyle("border-bottom-width"))||0,borderLeftWidth:parseInt(this.input.getStyle("border-left-width"))||0,borderRightWidth:parseInt(this.input.getStyle("border-right-width"))||0};var _1a=this.input.originalStyleObj.paddingLeft+this.input.originalStyleObj.paddingRight+this.input.originalStyleObj.borderLeftWidth+this.input.originalStyleObj.borderRightWidth;var _1b=this.input.originalStyleObj.paddingTop+this.input.originalStyleObj.paddingBottom+this.input.originalStyleObj.borderTopWidth+this.input.originalStyleObj.borderBottomWidth;if(this.options.buttonPosition=="vertical"){var _1c=this.render.clientHeight-_1b-this.options.buttonSize;if(_1c<0){_1c=0;}this.input.setStyle("width",this.render.clientWidth+"px");this.input.setStyle("height",_1c+"px");}else{var _1d=this.render.clientWidth-_1a-this.options.buttonSize;if(_1d<0){_1d=0;}this.input.setStyle("width",_1d+"px");this.input.setStyle("height",this.render.offsetHeight+"px");}this.input.setVerticalAlign();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._m.prototype._adjustAlignment=function(){try{this.input.originalStyleObj={paddingTop:parseInt(this.input.getStyle("padding-top"))||0,paddingBottom:parseInt(this.input.getStyle("padding-bottom"))||0,paddingLeft:parseInt(this.input.getStyle("padding-left"))||0,paddingRight:parseInt(this.input.getStyle("padding-right"))||0,borderTopWidth:parseInt(this.input.getStyle("border-top-width"))||0,borderBottomWidth:parseInt(this.input.getStyle("border-bottom-width"))||0,borderLeftWidth:parseInt(this.input.getStyle("border-left-width"))||0,borderRightWidth:parseInt(this.input.getStyle("border-right-width"))||0};var _1e=this.input.originalStyleObj.paddingLeft+this.input.originalStyleObj.paddingRight+this.input.originalStyleObj.borderLeftWidth+this.input.originalStyleObj.borderRightWidth;var _1f=this.input.originalStyleObj.paddingTop+this.input.originalStyleObj.paddingBottom+this.input.originalStyleObj.borderTopWidth+this.input.originalStyleObj.borderBottomWidth;if(this.options.skin=="type2"){_1e+=this.input.options.buttonSize;this.input.setStyle("left","0");}this.input.setStyle("height",this.render.offsetHeight+"px");this.input.setStyle("width",this.render.clientWidth-_1e-this.options.buttonSize+"px");}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._m.prototype.handleClickEvent=function(e){["WebSquare.uiplugin.spinner.handleClickEvent"];var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match("w2spinner_up")){this.upButtonClick();break;}else{if(it.match("w2spinner_down")){this.downButtonClick();break;}}}it=null;};$W._a._m.prototype.handleMousewheelEvent=function(e){["WebSquare.uiplugin.spinner.handleMousewheelEvent"];try{$W._c.stopEvent(e);var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match(null,this.id)){}if(it.match("w2spinner")){if(e.wheelDelta>0||e.detail<0){this.upButtonClick();break;}else{$W._c.fireEvent(this,"onDownButtonClick");this.downButtonClick();break;}}}it=null;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._m.prototype.upButtonClick=function(){if(false!=$W._c.fireEvent(this,"onUpButtonClick")){if(this.options.dataType=="number"){var _24=Number(this.getValue())+Number(this.options.increment);if(_24<=Number(this.options.maxValue)){this.setValue(_24);}else{this.setValue(this.options.maxValue);}}else{var _24="";if(this.options.ioFormat.length==8){_24=this.calcurateDate(this.getValue(),this.options.increment,"day");}else{_24=this.calcurateDate(this.getValue(),this.options.increment,"month");}this.setValue(_24);}}};$W._a._m.prototype.downButtonClick=function(){if(false!=$W._c.fireEvent(this,"onDownButtonClick")){if(this.options.dataType=="number"){var _25=Number(this.getValue())-Number(this.options.increment);if(_25>=Number(this.options.minValue)){this.setValue(_25);}else{this.setValue(this.options.minValue);}}else{var _25="";if(this.options.ioFormat.length==8){_25=this.calcurateDate(this.getValue(),this.options.increment*(-1),"day");}else{_25=this.calcurateDate(this.getValue(),this.options.increment*(-1),"month");}this.setValue(_25);}}};$W._a._m.prototype.calcurateDate=function(_26,_27,_28){var y1=parseInt(_26.substring(0,4),10);var m1=parseInt(_26.substring(4,6),10);var d1="";_27=parseInt(_27,10);if(_26.length==8){d1=parseInt(_26.substring(6,8),10);}if(_28=="day"){_26=$W._s.dateAdd(_26,_27);return _26;}else{m1=m1+_27;if(m1>12){y1=y1+parseInt(m1/12);m1=parseInt(m1%12);}else{if(m1<0){y1=y1-(parseInt(m1*(-1)/12)+1);m1=12-(parseInt(m1*(-1)%12));}else{if(m1==0){y1=y1-1;m1=12;}}}if(m1<10){m1="0"+m1;}if(d1){if(d1<10){d1="0"+d1;}return y1+""+m1+""+d1;}else{return y1+""+m1;}}};$W._a._m.prototype.setDisabled=function(_2c){["WebSquare.xfControl.setDisabled"];try{_2c=$W._G.getBoolean(_2c);_2c=$W._t.prototype.setDisabled.call(this,_2c);this.input.setDisabled(_2c);}catch(e){$W.exception.printStackTrace(e);}return _2c;};$W._a._m.prototype.onPropertyChange=function(_2d,_2e){["WebSquare.uiplugin.spinner.onPropertyChange"];try{switch(_2d){case "disabled":if(_2e){this.addClass(this.render,"w2spinner_disabled");}else{this.removeClass(this.render,"w2spinner_disabled");}break;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._m.apiExtend=function(){var _2f=$W._a.aG.prototype;var _30=$W._a._m.prototype;for(prop in _2f){if(!_30[prop]){_30[prop]=(function(_31){return function(){return this.input[_31].apply(this.input,arguments);};})(prop);}}_30["refresh"]=(function(_32){return function(){return this.input[_32].apply(this.input,arguments);};})("refresh");};$W._a._m.prototype.finalize=function(){try{for(var i=this.childControlList.length-1;i>=0;i--){this.childControlList[i].remove();}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._m.apiExtend();;WebSquare.uiplugin.spinner=$W._a._m;requires("uiplugin/control/itemsetControl.js");requires("uiplugin.scrollView");$W._a.bd=function(id,_2,_3){["WebSquare.uiplugin.spinPicker"];$W._t.call(this,id,_2,_3);};$W.extend($W._a.bd.prototype,$W._t.prototype);$W._a.bd.prototype.defaultOptions={pluginType:"uiplugin.spinPicker",pluginName:"spinPicker",userEvents:["onchange"],delimiter:" ",scrollDuration:-1};$W._a.bd.prototype.getNewItem=function(_4,_5){var id=this.id+"_item_"+_4;var _7=function(id,_9,_a){$W._a.aP.call(this,id,_9,_a);};$W.extend(_7.prototype,$W._a.aP.prototype);$W.extend(_7.prototype,$W.itemsetControl.prototype);var _5=$W.extendKeepingType({verticalScroll:true,horizontalScroll:false,verticalPaging:false,horizontalPaging:false,bounce:true,showVerticalScroll:false,showHorizontalScroll:false,ref:_5.choices?_5.choices.getAttribute("ref"):""},_5);_7.prototype.getSlideFactor=function(_b,_c){var _d=$W._a.aP.prototype.getSlideFactor.call(_7,_b,_c);var _e=this.getScrollTop()+_d;var _f=this.getItemHeight();var _10=parseInt((_e+_f/2)/_f,10);_e=_10*_f;return _e-this.getScrollTop();};_7.prototype.handleTouchEnd=function(e){$W._a.aP.prototype.handleTouchEnd.call(this,e);if(this.isSliding){return;}var _12=this.getItemHeight();var _13=parseInt((this.getScrollTop()+_12/2)/_12,10);if(0<=_13&&_13<this.itemArr.length&&this.getScrollTop()!=_13*_12){this.scrollTo(null,_13*_12,this.options.scrollDuration!=-1?{duration:this.options.scrollDuration}:null);}};_7.prototype.componentRedraw=function(){var _14=[];var _15=this.dom.container;if(!_15){return;}_14.push("<div class='w2spinPicker_topPadding'></div>");_14.push("<div class='w2spinPicker_itembox'>");for(var i=0;i<this.itemArr.length;i++){_14.push("<div class='w2spinPicker_item'>"+this.itemArr[i].label+"</div>");}_14.push("</div>");_14.push("<div class='w2spinPicker_bottomPadding'></div>");_15.innerHTML=_14.join("");this.dom.topPadding=_15.childNodes[0];this.dom.itembox=_15.childNodes[1];this.dom.bottomPadding=_15.childNodes[2];var _17=this.getItemHeight();var _18=parseInt((this.render.offsetHeight-_17)/2,10);var _19=this.render.offsetHeight-_18-_17;this.dom.topPadding.style.height=_18+"px";this.dom.bottomPadding.style.height=_19+"px";this._scrollTo(null,_17*this.selectedIndex);};_7.prototype.refreshItemset=function(){if(this.modelControl.isItemsetBinded()){this.refreshItemArr();this.componentRedraw();}};_7.prototype.addItem=function(_1a,_1b,idx){idx=parseInt(idx,10);if(isNaN(idx)){idx=this.itemArr.length;}else{if(idx<0||idx>=this.itemArr.length){idx=this.itemArr.length;}}this.itemArr.splice(idx,0,{value:_1a,label:_1b});this.componentRedraw();return idx;};_7.prototype.deleteItem=function(idx){idx=parseInt(idx,10);if(isNaN(idx)){idx=this.itemArr.length-1;}var _1e=null;if(idx>=0&&idx<this.itemArr.length){_1e=(this.itemArr.splice(idx,1))[0];}this.componentRedraw();var _1f=this.getItemHeight();if(idx<this.selectedIndex||(idx==this.selectedIndex&&idx==this.itemArr.length)){this.selectedIndex--;this.scrollTo(null,_1f*this.selectedIndex,this.options.scrollDuration!=-1?{duration:this.options.scrollDuration}:null);}return _1e;};_7.prototype.getItemHeight=function(){var _20=this.dom.itembox.firstChild;return _20?_20.offsetHeight:0;};var _21=new _7(id,_5);_21.stopSlide=(function(_22,_23){return function(_24){if(this.isSliding){$W._a.aP.prototype.stopSlide.call(this,_24);if(!this.isTouched){var _25=false;var _26=[];var _27=this.getItemHeight();for(var i=0;i<_22.childControlList.length;i++){if(_22.childControlList[i].isSliding){_25=true;break;}_26[i]=parseInt((_22.childControlList[i].getScrollTop()+1)/_27,10);}if(!_25){var _29=_22.getSelectedIndex();var _2a=_26.join(_22.options.delimiter);if(_29!=_2a){_22.setSelectedIndex1(_2a);}}}}};})(this,_4);return _21;};$W._a.bd.prototype.initialize=function(_2b){if(_2b.getElementsByTagNameNS){var _2c=_2b.getElementsByTagNameNS("*","choices");}else{var _2c=_2b.getElementsByTagName("w2:choices");}for(var i=0;i<_2c.length;i++){var _2e=this.getNewItem(i,_2c[i]);_2e.initializeItemArr(_2c[i]);_2e.selectedIndex=0;this.addControl(_2e);}};$W._a.bd.prototype.toHTML=function(){["WebSquare.uiplugin.spinPicker.toHTML"];try{var _2f=[];var _30=(this.options.style=="")?"":"style='"+this.options.style+"'";_2f.push("<div id='"+this.id+"' "+_30+" class='w2spinPicker "+this.options.className+"'>");_2f.push("<div id='"+this.id+"_selectedRowBar' class='w2spinPicker_selectedRowBar'></div>");_2f.push("<div id='"+this.id+"_topGradient' class='w2spinPicker_topGradient'></div>");_2f.push("<div id='"+this.id+"_bottomGradient' class='w2spinPicker_bottomGradient'></div>");for(var i=0;i<this.childControlList.length;i++){_2f.push(this.childControlList[i].toHTML());}_2f.push("</div>");return _2f.join("");}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bd.prototype.setAction=function(){this.setLayout();if(this.modelControl.isBinded()){var _32=this.modelControl.getData();this.setValueNM(_32);}};$W._a.bd.prototype.setLayout=function(){for(var i=0;i<this.childControlList.length;i++){this.childControlList[i].componentRedraw();}};$W._a.bd.prototype.refresh=function(){if(this.modelControl.isBinded()){var _34=this.getValue();var _35=this.modelControl.getData();if(this.setValueNM(_35)==true){if(_34!=this.getValue()){$W._c.fireEvent(this,"onchange");}if(this.getValue()!=null&&_35!=this.getValue()){this.modelControl.setData(this.getValue());}}}};$W._a.bd.prototype.getValue=function(_36){["WebSquare.uiplugin.spinPicker.getValue"];try{var _36=_36||this.options.delimiter;var ret=[];for(var i=0;i<this.childControlList.length;i++){var _39=this.childControlList[i];ret.push(_39.itemArr[_39.selectedIndex].value);}return ret.join(_36).wq_trim();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bd.prototype.setValueNM=function(_3a){["WebSquare.uiplugin.spinPicker.setValueNM"];try{if($W._G.isNull(_3a)){return false;}var _3b=_3a.split(this.options.delimiter);var _3c=[];for(var i=0;i<this.childControlList.length;i++){var _3e=this.childControlList[i];for(var j=0;j<_3e.itemArr.length;j++){if(_3b[i]==_3e.itemArr[j].value){_3c[i]=j;break;}}if(_3c[i]==undefined){_3c=null;break;}}if(_3c){this.setSelectedIndexNM(_3c.join(this.options.delimiter));return true;}return false;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bd.prototype.setValue=function(_40){["WebSquare.uiplugin.spinPicker.setValue"];try{if($W._G.isNull(_40)){return;}var _41=this.getValue();if(this.setValueNM(_40)==true){this.modelControl.setData(_40);if(_41!=this.getValue()){$W._c.fireEvent(this,"onchange");}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bd.prototype.getText=function(_42){["WebSquare.uiplugin.spinPicker.getText"];try{var _42=_42||this.options.delimiter;var ret=[];for(var i=0;i<this.childControlList.length;i++){var _45=this.childControlList[i];ret.push(_45.itemArr[_45.selectedIndex].label);}return ret.join(_42).wq_trim();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bd.prototype.setText=function(_46){["WebSquare.uiplugin.spinPicker.setText"];try{if($W._G.isNull(_46)){return;}var _47=_46.split(this.options.delimiter);var _48=[];for(var i=0;i<this.childControlList.length;i++){var _4a=this.childControlList[i];for(var j=0;j<_4a.itemArr.length;j++){if(_47[i]==_4a.itemArr[j].label){_48[i]=_4a.itemArr[j].value;break;}}}this.setValue(_48.join(this.options.delimiter));}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bd.prototype.getSelectedIndex=function(){["WebSquare.uiplugin.spinPicker.getSelectedIndex"];try{var _4c=[];for(var i=0;i<this.childControlList.length;i++){_4c.push(this.childControlList[i].selectedIndex);}return _4c.join(this.options.delimiter);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bd.prototype.setSelectedIndexNM=function(_4e){["WebSquare.uiplugin.spinPicker.setSelectedIndexNM"];try{var _4f=_4e.split(this.options.delimiter);for(var i=0;i<this.childControlList.length;i++){if(isNaN(_4f[i])||_4f[i]<0||_4f[i]>=this.childControlList[i].itemArr.length){return false;}}for(var i=0;i<this.childControlList.length;i++){this.childControlList[i].selectedIndex=parseInt(_4f[i],10);var _51=this.childControlList[i].getItemHeight();if(this.childControlList[i].getScrollTop()!=_4f[i]*_51){this.childControlList[i].scrollTo(null,_4f[i]*_51,this.options.scrollDuration!=-1?{duration:this.options.scrollDuration}:null);}}return true;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bd.prototype.setSelectedIndex=function(_52){["WebSquare.uiplugin.spinPicker.setSelectedIndex"];try{var _53=this.getSelectedIndex();this.setSelectedIndexNM(_52);this.modelControl.setData(this.getValue());if(_53!=_52){$W._c.fireEvent(this,"onchange");}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bd.prototype.setSelectedIndex1=function(_54){["WebSquare.uiplugin.spinPicker.setSelectedIndex1"];try{var _55=this.getSelectedIndex();var _56=this.getValue();this.setSelectedIndex(_54);var _57=this.getSelectedIndex();var _58=this.getValue();if(_55!=_57){var _59={"oldValue":_56,"newValue":_58,"oldSelectedIndex":_55,"newSelectedIndex":_57};$W._c.fireEvent(this,"onviewchange",_59);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bd.prototype.setRef=function(ref){["WebSquare.uiplugin.spinPicker.prototype.setRef "];try{if(!this.modelControl.isBinded()){this.modelControl.useRef=true;}this.options.ref=ref;this.modelControl.setRef(ref);this.refresh();}catch(e){$W.exception.printStackTrace(e);}};;WebSquare.uiplugin.spinPicker=$W._a.bd;requires("uiplugin.spinPicker");requires("uiplugin/helper/dateHelper.js");requires("engine/formatter.js");$W._a._d=function(id,_2,_3){["WebSquare.uiplugin.datePicker"];$W._a.bd.call(this,id,_2,_3);};$W.extend($W._a._d.prototype,$W._a.bd.prototype);$W._a._d.prototype.defaultOptions={pluginType:"uiplugin.datePicker",pluginName:"datePicker",userEvents:["onchange","onviewchange"],useConfig:true,delimiter:" ",monthNames:"&nbsp;1\uc6d4,&nbsp;2\uc6d4,&nbsp;3\uc6d4,&nbsp;4\uc6d4,&nbsp;5\uc6d4,&nbsp;6\uc6d4,&nbsp;7\uc6d4,&nbsp;8\uc6d4,&nbsp;9\uc6d4,10\uc6d4,11\uc6d4,12\uc6d4",yearSuffix:"\ub144",dateSuffix:"\uc77c",ampm:"\uc624\uc804,\uc624\ud6c4",minuteInterval:1,calendarValueType:"yearMonthDate",support24Hour:false,minYear:1978,maxYear:2030,useLocale:false};$W._a._d.prototype.initialize=function(_4){if(this.options.useLocale){$W.extendKeepingType(this.options,{yearSuffix:this.getLocaleValue("DatePicker_yearSuffix"),monthNames:this.getLocaleValue("DatePicker_monthNames"),dateSuffix:this.getLocaleValue("DatePicker_dateSuffix"),ampm:this.getLocaleValue("DatePicker_ampm")});}if(parseInt(60/this.options.minuteInterval,10)*this.options.minuteInterval!=60){this.options.minuteInterval=1;}var _5=new Date();var _6={"year":_5.getFullYear()-this.options.minYear,"month":_5.getMonth(),"date":_5.getDate()-1,"ampm":_5.getHours()<12?0:1,"hour":this.options.support24Hour?_5.getHours():_5.getHours()%12,"minute":parseInt(_5.getMinutes()/this.options.minuteInterval,10),"second":_5.getSeconds()};var _7=[];var _8={};var _9=[];var _a=this.options.calendarValueType.toLowerCase();if(_a.indexOf("time")){_a=_a.replace("time","hourminute");}var _b=["year","month","date","hour","minute","second"];for(var i=0;i<_b.length;i++){if(_a.indexOf(_b[i])>=0){if(_b[i]=="hour"&&!this.options.support24Hour){_8["ampm"]=_7.length;_7.push("ampm");_9.push(_6["ampm"]);}_8[_b[i]]=_7.length;_7.push(_b[i]);_9.push(_6[_b[i]]);}}this.colTypeArr=_7;this.colTypeObj=_8;var _d=this.options.monthNames.split(",");var _e=this.options.ampm.split(",");for(var i=0;i<_7.length;i++){var id=this.id+"_item_"+i;var _10=this.options.calendarValueType+"_"+_7[i];var _11=this.getNewItem(id,{className:_10});_11.itemArr=[];_11.selectedIndex=_9[i];switch(_7[i]){case "year":for(var j=this.options.minYear;j<=this.options.maxYear;j++){_11.addItem(j,j+this.options.yearSuffix);}break;case "month":for(var j=0;j<12;j++){_11.addItem(j+1,_d[j]);}break;case "date":for(var j=1;j<=31;j++){_11.addItem(j,j+this.options.dateSuffix);}break;case "ampm":_11.addItem("AM",_e[0]);_11.addItem("PM",_e[1]);break;case "hour":for(var j=0;j<(this.options.support24Hour?24:12);j++){_11.addItem(j,(!this.options.support24Hour&&j==0)?12:j);}break;case "minute":for(var j=0;j<60;j+=this.options.minuteInterval){_11.addItem(j,j);}break;}this.addControl(_11);}this.selectedDateHelper=new $W._a._D(this.options.serverSync);};$W._a._d.prototype.toHTML=function(){["WebSquare.uiplugin.datePicker.toHTML"];var _13=[];var _14=(this.options.style=="")?"":"style='"+this.options.style+"'";_13.push("<div id='"+this.id+"' "+_14+" class='w2datePicker w2spinPicker "+this.options.className+"'>");_13.push("<div id='"+this.id+"_topGradient' class='w2spinPicker_topGradient'></div>");_13.push("<div id='"+this.id+"_bottomGradient' class='w2spinPicker_bottomGradient'></div>");_13.push("<div id='"+this.id+"_selectedRowBar' class='w2spinPicker_selectedRowBar'></div>");for(var i=0;i<this.childControlList.length;i++){_13.push(this.childControlList[i].toHTML());}_13.push("</div>");return _13.join("");};$W._a._d.prototype.setAction=function(){$W._a.bd.prototype.setAction.call(this);};$W._a._d.prototype.getDateString=function(_16){var _17="";var _18=["year","month","date","hour","minute","second"];for(var i=0;i<_18.length;i++){var _1a=_18[i];if(this.colTypeObj[_1a]!=null){var _1b=_16[this.colTypeObj[_1a]];if(!this.options.support24Hour&&_1a=="hour"&&_16[this.colTypeObj["ampm"]]=="PM"){_1b+=12;}(_1b<10)&&(_1b="0"+_1b);_17+=_1b;}}return _17;};$W._a._d.prototype.getDateArray=function(str){var _1d=[];var _1e=["year","month","date","hour","minute","second"];for(var i=0;i<_1e.length;i++){var _20=_1e[i];if(this.colTypeObj[_20]!=null){var len=_20=="year"?4:2;var _22=parseInt(str.substr(0,len),10);if(!this.options.support24Hour&&_20=="hour"){_1d.push(_22<12?"AM":"PM");_22%=12;}_1d.push(_22);str=str.slice(len);}}return _1d;};$W._a._d.prototype.refresh=function(){if(this.modelControl.isBinded()){var _23=this.getValue();var _24=this.modelControl.getData();var _25=this.getDateArray(_24);if(this.setValueNM(_25.join(this.options.delimiter))==true){if(_23!=this.getValue()){$W._c.fireEvent(this,"onchange");}if(this.getValue()!=null&&_24!=this.getValue()){this.modelControl.setData(this.getValue());}}}};$W._a._d.prototype.getItemValue=function(key){["WebSquare.uiplugin.datePicker.getItemValue"];try{var _27=null;var _28=this.colTypeObj[key];if(_28!=null){var _29=this.childControlList[_28];_27=_29.itemArr[_29.selectedIndex].value;if(key=="hour"){var _2a=this.colTypeObj["ampm"];var _2b=this.childControlList[_2a];if(_2b&&_2b.itemArr[_2b.selectedIndex].value=="PM"){_27+=12;}}}else{return "";}return _27;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._d.prototype.setItemValue=function(key,_2d){["WebSquare.uiplugin.datePicker.setItemValue"];try{if($W._G.isNull(key)||$W._G.isNull(_2d)){return;}var _2e=this.getValue();var _2f=this.getDateArray(_2e);if(this.colTypeObj[key]==null){return;}_2f[this.colTypeObj[key]]=_2d;if(key=="hour"&&this.colTypeObj["ampm"]!=null){_2f[this.colTypeObj["ampm"]]=(_2d<12)?"AM":"PM";_2f[this.colTypeObj[key]]=(_2d<12)?_2d:_2d-12;}if(this.setValueNM(_2f.join(this.options.delimiter))==true){var _30=this.getValue();this.modelControl.setData(_30);if(_2e!=_30){$W._c.fireEvent(this,"onchange");}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._d.prototype.getValue=function(){["WebSquare.uiplugin.datePicker.getValue"];try{var _31=[];for(var i=0;i<this.childControlList.length;i++){var _33=this.childControlList[i];_31.push(_33.itemArr[_33.selectedIndex].value);}return this.getDateString(_31);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._d.prototype.setValue=function(_34){["WebSquare.uiplugin.datePicker.setValue"];try{if($W._G.isNull(_34)){return;}var _35=this.getDateArray(_34);var _36=this.getValue();if(this.setValueNM(_35.join(this.options.delimiter))==true){this.modelControl.setData(_34);if(_36!=this.getValue()){$W._c.fireEvent(this,"onchange");}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._d.prototype.setDisabled=function(_37){["WebSquare.uiplugin.datePicker.setDisabled"];var ret=$W._t.prototype.setDisabled.call(this,_37);for(var i=0;i<this.childControlList.length;i++){this.childControlList[i].setDisabled(_37);}return ret;};$W._a._d.prototype.setSelectedIndexNM=function(_3a){$W._a.bd.prototype.setSelectedIndexNM.call(this,_3a);if(this.colTypeObj["year"]!=null&&this.colTypeObj["month"]!=null&&this.colTypeObj["date"]!=null){this.selectedDateHelper.setDateAllByString(this.getValue().substr(0,6)+"01");var _3b=this.selectedDateHelper.getMonthCount(this.selectedDateHelper.getYear(),this.selectedDateHelper.getMonth());var _3c=this.childControlList[this.colTypeObj["date"]];var _3d=_3c.itemArr.length;if(_3b<_3d){for(var i=_3b;i<_3d;i++){_3c.deleteItem();}}else{if(_3b>_3d){for(var i=_3d+1;i<=_3b;i++){_3c.addItem(i,i+this.options.dateSuffix);}}}}};$W._a._d.prototype.setRef=function(ref){["WebSquare.uiplugin.datePicker.prototype.setRef "];try{if(!this.modelControl.isBinded()){this.modelControl.useRef=true;}this.options.ref=ref;this.modelControl.setRef(ref);this.refresh();}catch(e){$W.exception.printStackTrace(e);}};$W._a._d.prototype.finalize=function(){for(var i=this.childControlList.length-1;i>=0;i--){this.childControlList[i].remove();}};;WebSquare.uiplugin.datePicker=$W._a._d;requires("uiplugin.group");$W._a._T=function(id,_2,_3){["WebSquare.uiplugin.slider"];$W._t.call(this,id,_2,_3);};$W.extend($W._a._T.prototype,$W._t.prototype);$W._a._T.prototype.defaultOptions={pluginType:"uiplugin.slider",pluginName:"slider",userEvents:["onthumbmove","onmovedone"],minValue:0,maxValue:100,increment:1,vertical:false,showScale:false,moveBack:false,animationDuration:0.5,value:0,animationMathOption:"round",tooltipShow:false,tooltipDisplay:false,tooltipTime:0.1,tooltipClass:"",tooltipAlways:false,tooltipFormatter:null,bothSideValue:6,setBackground:false,changeDirection:false,title:""};$W._a._T.prototype.initialize=function(_4){["WebSquare.uiplugin.slider.initialize"];try{this.thumbList=[];this.areaValue=[];this.positionValue=[];this.bothSideValue=this.options.bothSideValue;if(this.options.vertical==true){this.areaValue[0]="Height";this.positionValue[0]="Top";this.areaValue[1]="Width";this.positionValue[1]="Left";}else{this.areaValue[0]="Width";this.positionValue[0]="Left";this.areaValue[1]="Height";this.positionValue[1]="Top";}if(this.options.value){if(parseInt(this.options.value,10)>this.options.maxValue){this.options.value=this.options.maxValue+"";}else{if(parseInt(this.options.value,10)<this.options.minValue){this.options.value=this.options.minValue+"";}}}if(this.options.tooltipDisplay==true){this.options.tooltipShow=this.options.tooltipDisplay;}if(_4){var _5="w2:";var _6=$W._B.findNodes(_4,_5+"thumb");if(_6.length==0){var _7={id:"thumb1",index:0,parentId:this.id,value:this.options.value};this.thumbList[0]=new $W._a.thumb(_7);}else{for(var i=0;i<_6.length;i++){var _7=$W.WebSquareparser.parseAttribute(_6[i]);_7.parentId=this.id;_7.index=i;this.thumbList[i]=new $W._a.thumb(_7);}}}else{var _7={id:"thumb1",index:0,parentId:this.id,value:this.options.value};this.thumbList[0]=new $W._a.thumb(_7);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._T.prototype.toHTML=function(){["WebSquare.uiplugin.slider.toHTML"];try{var _9=[];var _a="";this.scaleCnt=0;var _b=(this.options.style=="")?"":"style='"+this.options.style+"'";var _c=(this.options.title=="")?"":"title='"+this.options.title+"'";var _d=(this.options.minValue=="")?"":"aria-valuemin='"+this.options.minValue+"'";var _e=(this.options.maxValue=="")?"":"aria-valuemax='"+this.options.maxValue+"'";var _f=(this.options.value=="")?"":"aria-valuenow='"+this.options.value+"'";var _10=(this.options.value=="")?"":"aria-labele='"+this.options.value+"'";if(this.options.maxValue>=this.options.minValue&&this.options.maxValue>=this.options.increment){this.scaleCnt=(this.options.maxValue-this.options.minValue)/this.options.increment-1;}if(this.options.vertical==true){_a="w2slider_vertical";}else{_a="w2slider_horizon";}_9.push("<div id='"+this.id+"' "+_b+" class='w2slider "+_a+" "+this.options.className+"' ");_9.push("role='slider' "+_d+" "+_e+" "+_f+" "+_10+">");_9.push("<div id='"+this.id+"_startLayer"+"' class='w2slider_startLayer'>");_9.push("</div>");_9.push("<div id='"+this.id+"_centerLayer"+"' class='w2slider_centerLayer'>");_9.push("</div>");_9.push("<div id='"+this.id+"_endLayer"+"' class='w2slider_endLayer'>");_9.push("</div>");_9.push("<div id='"+this.id+"_bgLayer"+"' class='w2slider_bgLayer'>");_9.push("</div>");if(this.options.showScale){_9.push("<div id='"+this.id+"_scale_start_0"+"' class='w2slider_scale_L"+"'></div>");_9.push("<div id='"+this.id+"_scale_start_1"+"' class='w2slider_scale_L"+"'></div>");for(var i=0;i<this.scaleCnt;i++){_9.push("<div id='"+this.id+"_scale_0_"+i+"' class='w2slider_scale'></div>");_9.push("<div id='"+this.id+"_scale_1_"+i+"' class='w2slider_scale'></div>");}_9.push("<div id='"+this.id+"_scale_end_0"+"' class='w2slider_scale_L"+"'></div>");_9.push("<div id='"+this.id+"_scale_end_1"+"' class='w2slider_scale_L"+"'></div>");}_9.push("</div>");return _9.join("");}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._T.prototype.setAction=function(){["WebSquare.uiplugin.slider.setAction"];try{this.drawTumb();if(this.modelControl.isBinded()){var _12=this.modelControl.getData();this.setThumbValueNM(_12,0);}if($W._G.isMobile()){this.event.addListener(this.render,"ontouchstart",this.event.bindAsEventListener(this,this.handleTouchStart));this.event.addListener(this.render,"ontouchmove",this.event.bindAsEventListener(this,this.handleTouchMove));this.event.addListener(this.render,"ontouchend",this.event.bindAsEventListener(this,this.handleTouchEnd));}else{this.event.addListener(this.render,"onmousedown",this.event.bindAsEventListener(this,this.handleTouchStart));this.event.addListener(this.render,"onkeydown",this.event.bindAsEventListener(this,this.handleKeydown));this.event.addListener(document.documentElement,"onmousemove",this.event.bindAsEventListener(this,this.handleTouchMove));this.event.addListener(document.documentElement,"onmouseup",this.event.bindAsEventListener(this,this.handleTouchEnd));this.event.addListener(this.render,"onselectstart",this.event.bindAsEventListener(this,function(e){$W._c.preventDefault(e);}));}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._T.prototype.drawTumb=function(){["WebSquare.uiplugin.slider.drawTumb"];try{this.dom.start=$W.document.getElementById(this.id+"_startLayer");this.dom.center=$W.document.getElementById(this.id+"_centerLayer");this.dom.end=$W.document.getElementById(this.id+"_endLayer");this.dom.bg=$W.document.getElementById(this.id+"_bgLayer");this.dom.start.style[this.areaValue[1].toLowerCase()]=this.render["offset"+this.areaValue[1]]+"px";this.dom.center.style[this.areaValue[1].toLowerCase()]=this.render["offset"+this.areaValue[1]]+"px";this.dom.end.style[this.areaValue[1].toLowerCase()]=this.render["offset"+this.areaValue[1]]+"px";this.dom.bg.style[this.areaValue[1].toLowerCase()]=this.render["offset"+this.areaValue[1]]+"px";this.bothSideValue=this.dom.start["offset"+this.areaValue[0]];this.dom.center.style[this.positionValue[0].toLowerCase()]=this.bothSideValue-2+"px";this.dom.center.style[this.areaValue[0].toLowerCase()]=this.render["offset"+this.areaValue[0]]-(this.bothSideValue*2)+4+"px";this.dom.bg.style[this.positionValue[0].toLowerCase()]=this.bothSideValue-2+"px";for(var i=0;i<this.thumbList.length;i++){this.render.appendChild(this.thumbList[i].getThumbRender());this.thumbList[i].inputRender.setAttribute("title",this.options.title);this.render.appendChild(this.thumbList[i].inputRender);this.event.addListener(this.thumbList[i].inputRender,"onblur",this.event.bindAsEventListener(this,this.handleInputBlur));}this.thumbArea=parseInt(this.thumbList[0].render["offset"+this.areaValue[0]],10);this.thumbPosition=(this.render["offset"+this.areaValue[1]]-this.thumbList[0].render["offset"+this.areaValue[1]])/2;for(var i=0;i<this.thumbList.length;i++){this.thumbList[i].render.style[this.positionValue[1].toLowerCase()]=this.thumbPosition+"px";}this.minPosition=$W._H["getAbsolute"+this.positionValue[0]](this.render);this.maxPosition=parseInt(this.render["offset"+this.areaValue[0]],10)-this.thumbArea+1;this.bgStValue=this.options.minValue;if(this.options.showScale){var _15=$W.document.getElementById(this.id+"_scale_start_0");var _16=$W.document.getElementById(this.id+"_scale_start_1");_15.style[this.positionValue[0].toLowerCase()]=this.thumbArea/2+"px";_16.style[this.positionValue[0].toLowerCase()]=this.thumbArea/2+"px";_15.style[this.positionValue[1].toLowerCase()]=this.thumbPosition-_15["offset"+this.areaValue[1]]-3+"px";_16.style[this.positionValue[1].toLowerCase()]=this.thumbPosition+this.thumbList[0].render["offset"+this.areaValue[1]]+3+"px";var _17=$W.document.getElementById(this.id+"_scale_end_0");var _18=$W.document.getElementById(this.id+"_scale_end_1");_17.style[this.positionValue[0].toLowerCase()]=this.render["offset"+this.areaValue[0]]-this.thumbArea/2+"px";_18.style[this.positionValue[0].toLowerCase()]=this.render["offset"+this.areaValue[0]]-this.thumbArea/2+"px";_17.style[this.positionValue[1].toLowerCase()]=this.thumbPosition-_15["offset"+this.areaValue[1]]-3+"px";_18.style[this.positionValue[1].toLowerCase()]=this.thumbPosition+this.thumbList[0].render["offset"+this.areaValue[1]]+3+"px";var _19=this.options.increment/(this.options.maxValue-this.options.minValue)*100;var _1a=this.render["offset"+this.areaValue[0]]-this.thumbArea;for(var i=0;i<this.scaleCnt;i++){var _1b=$W.document.getElementById(this.id+"_scale_0_"+i);var _1c=$W.document.getElementById(this.id+"_scale_1_"+i);_1b.style[this.positionValue[0].toLowerCase()]=_1a/100*_19*(i+1)+this.thumbArea/2+"px";_1c.style[this.positionValue[0].toLowerCase()]=_1a/100*_19*(i+1)+this.thumbArea/2+"px";_1b.style[this.positionValue[1].toLowerCase()]=this.thumbPosition-_1b["offset"+this.areaValue[1]]-3+"px";_1c.style[this.positionValue[1].toLowerCase()]=this.thumbPosition+this.thumbList[0].render["offset"+this.areaValue[1]]+3+"px";}}this.initThumbPosition();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._T.prototype.refresh=function(){["WebSquare.uiplugin.slider.refresh"];try{if(this.modelControl.isBinded()){var _1d=this.modelControl.getData();this.setThumbValueNM(_1d,0);$W._c.fireEvent(this,"onthumbmove",this.thumbList[0].value,this.thumbList[0].id);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._T.prototype.scaleRedraw=function(_1e,_1f){["WebSquare.uiplugin.slider.scaleRedraw"];try{if(!_1e&&_1f!==0){_1e=this.options.maxValue;}if(!_1f&&_1f!==0){_1f=this.options.minValue;}this.currentScaleCnt=(this.options.maxValue-this.options.minValue)/this.options.increment-1;this.targetScaleCnt=(_1e-_1f)/this.options.increment-1;var _20=this.options.increment/(_1e-_1f)*100;var _21=this.render["offset"+this.areaValue[0]]-this.thumbArea;var _22=document.getElementById(this.id);var _23=$W.document.getElementById(this.id+"_scale_end_0");var _24=Math.max(this.targetScaleCnt,this.currentScaleCnt);for(var i=0;i<_24;i++){if(this.targetScaleCnt>this.currentScaleCnt&&i>=this.currentScaleCnt){var _26=document.createElement("div");_26.setAttribute("id",this.id+"_scale_0_"+i);_26.setAttribute("class","w2slider_scale");var _27=document.createElement("div");_27.setAttribute("id",this.id+"_scale_1_"+i);_27.setAttribute("class","w2slider_scale");_22.insertBefore(_26,_23);_22.insertBefore(_27,_23);}else{if(this.targetScaleCnt<this.currentScaleCnt&&i>=this.targetScaleCnt){var _28=$W.document.getElementById(this.id+"_scale_0_"+i);var _29=$W.document.getElementById(this.id+"_scale_1_"+i);if($W._G.isIEAllVersion()){_28.parentNode.removeChild(_28);_29.parentNode.removeChild(_29);}else{_28.remove();_29.remove();}continue;}}var _2a=$W.document.getElementById(this.id+"_scale_0_"+i);var _2b=$W.document.getElementById(this.id+"_scale_1_"+i);_2a.style[this.positionValue[0].toLowerCase()]=_21/100*_20*(i+1)+this.thumbArea/2+"px";_2b.style[this.positionValue[0].toLowerCase()]=_21/100*_20*(i+1)+this.thumbArea/2+"px";_2a.style[this.positionValue[1].toLowerCase()]=this.thumbPosition-_2a["offset"+this.areaValue[1]]-3+"px";_2b.style[this.positionValue[1].toLowerCase()]=this.thumbPosition+this.thumbList[0].render["offset"+this.areaValue[1]]+3+"px";}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._T.prototype.initThumbPosition=function(){["WebSquare.uiplugin.slider.initThumbPosition"];try{for(var i=0;i<this.thumbList.length;i++){if(!this.thumbList[i].render){this.thumbList[i].render=document.getElementById(this.id+"_"+this.thumbList[i].id);}this.thumbList[i].render.style[this.positionValue[0].toLowerCase()]=this.valueToPosition(this.thumbList[i].value)+"px";this.setBackGroundImage(this.thumbList[i].value);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._T.prototype.getCurrentThumbElement=function(){["WebSquare.uiplugin.slider.getCurrentThumbElement"];try{return this.thumbList[this.movedIndex].render;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._T.prototype.getCurrentThumb=function(){["WebSquare.uiplugin.slider.getCurrentThumb"];try{return this.thumbList[this.movedIndex];}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._T.prototype.getThumbValue=function(_2d){if(!_2d){_2d=0;}return parseFloat(this.thumbList[_2d].value,10);};$W._a._T.prototype.getValue=function(){return this.getThumbValue(0);};$W._a._T.prototype.setThumbValue=function(_2e,_2f){["WebSquare.uiplugin.slider.setThumbValue"];try{if(!_2f){_2f=0;}this.moveThumb(_2f,_2e);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._T.prototype.setValue=function(_30){this.setThumbValue(_30,0);};$W._a._T.prototype.setThumbValueNM=function(_31,_32){this.thumbList[_32].value=_31;this.thumbList[_32].inputRender.value=_31;if(this.options.moveBack!=true){this.thumbList[_32].render.style[this.positionValue[0].toLowerCase()]=this.valueToPosition(_31)+"px";}this.setBackGroundImage(_31);this.render.setAttribute("aria-valuenow",_31);};$W._a._T.prototype.positionToValue=function(_33){["WebSquare.uiplugin.slider.positionToValue"];try{var _34=(this.options.maxValue-this.options.minValue)*(_33-this.minPosition)/this.maxPosition+this.options.minValue;_34=this.options.changeDirection?this.options.maxValue-_34:_34;return _34;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._T.prototype.valueToPosition=function(_35){["WebSquare.uiplugin.slider.valueToPosition"];try{if(this.options.maxValue-this.options.minValue===0){if(this.options.minValue===0){return 0;}else{return this.maxPosition;}}if(_35>this.options.maxValue){_35=this.options.maxValue;}else{if(_35<this.options.minValue){_35=this.options.minValue;}}var _36=(_35-this.options.minValue)*this.maxPosition/(this.options.maxValue-this.options.minValue);_36=this.options.changeDirection?this.maxPosition-_36:_36;_36=Math.ceil(_36);return _36;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._T.prototype.setBackGroundImage=function(_37){var _38=this.valueToPosition(_37);var _39=false;if(_38===this.maxPosition){_39=true;}if(this.options.setBackground==true){if(this.options.changeDirection==true){this.dom.bg.style[this.positionValue[0].toLowerCase()]=_38+"px";if(this.bgStValue<_37||_39){this.addClass(this.dom.end,"w2slider_endLayerBg");}else{this.removeClass(this.dom.end,"w2slider_endLayerBg");}this.dom.bg.style[this.areaValue[0].toLowerCase()]=parseInt(this.render["offset"+this.areaValue[0]],10)-_38-this.bothSideValue+2+"px";}else{if(this.bgStValue<_37||_39){this.addClass(this.dom.start,"w2slider_startLayerBg");}else{this.removeClass(this.dom.start,"w2slider_startLayerBg");}this.dom.bg.style[this.areaValue[0].toLowerCase()]=_38+"px";}}};$W._a._T.prototype.moveThumb=function(_3a,_3b){["WebSquare.uiplugin.slider.moveThumb"];try{var _3c=false;var _3d="";if(_3b<=this.options.minValue){_3b=this.options.minValue;}else{if(_3b>=this.options.maxValue){_3b=this.options.maxValue;}}if(this.options.moveBack==false){var _3e={};if(_3b>this.thumbList[_3a].value){_3e=Math.floor;}else{_3e=Math.ceil;}if(_3b===this.options.maxValue){_3d=_3b;}else{_3b-=this.options.minValue;_3d=_3e(_3b/this.options.increment)*this.options.increment;_3d+=this.options.minValue;if(_3d>this.options.maxValue){_3d=this.options.maxValue;}}}else{this.thumbList[_3a].render.style[this.positionValue[0].toLowerCase()]=this.valueToPosition(_3b)+"px";this.lastThumbPosition=this.valueToPosition(_3b);_3d=Math[this.options.animationMathOption](_3b/this.options.increment)*this.options.increment;}if(_3d!=this.thumbList[_3a].value){this.modelControl.setData(_3d);this.setThumbValueNM(_3d,_3a);$W._c.fireEvent(this,"onthumbmove",this.thumbList[_3a].value,this.thumbList[_3a].id);return true;}else{return false;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._T.prototype.slideAnimation=function(_3f,_40,_41){["WebSquare.uiplugin.slider.slideAnimation"];try{var _42=this.options.animationDuration*1000;var _43=10;function CubicBezierAtTime(t,p1x,p1y,p2x,p2y,_49){var ax=0,bx=0,cx=0,ay=0,by=0,cy=0;function sampleCurveX(t){return ((ax*t+bx)*t+cx)*t;}function sampleCurveY(t){return ((ay*t+by)*t+cy)*t;}function sampleCurveDerivativeX(t){return (3*ax*t+2*bx)*t+cx;}function solveEpsilon(_4e){return 1/(200*_4e);}function solve(x,_50){return sampleCurveY(solveCurveX(x,_50));}function solveCurveX(x,_52){var t0,t1,t2,x2,d2,i;function fabs(n){if(n>=0){return n;}else{return 0-n;}}for(t2=x,i=0;i<8;i++){x2=sampleCurveX(t2)-x;if(fabs(x2)<_52){return t2;}d2=sampleCurveDerivativeX(t2);if(fabs(d2)<0.000001){break;}t2=t2-x2/d2;}t0=0;t1=1;t2=x;if(t2<t0){return t0;}if(t2>t1){return t1;}while(t0<t1){x2=sampleCurveX(t2);if(fabs(x2-x)<_52){return t2;}if(x>x2){t0=t2;}else{t1=t2;}t2=(t1-t0)*0.5+t0;}return t2;}cx=3*p1x;bx=3*(p2x-p1x)-cx;ax=1-cx-bx;cy=3*p1y;by=3*(p2y-p1y)-cy;ay=1-cy-by;return solve(t,solveEpsilon(_49));}var t=new Date().getTime()-(_41-_42);var cp=[0.25,0.1,0.25,1];var _57="ease";switch(_57){case "ease":cp=[0.25,0.1,0.25,1];break;case "linear":cp=[0,0,1,1];break;case "ease-in":cp=[0.42,0,1,1];break;case "ease-out":cp=[0,0,0.58,1];break;case "ease-in-out":cp=[0.42,0,0.58,1];break;case "deceleration":cp=[0,0,0,1];break;case "acceleration":cp=[1,0,1,1];break;}var _58=CubicBezierAtTime(t/_42,cp[0],cp[1],cp[2],cp[3],_42/1000);this.thumbList[_3f].render.style[this.positionValue[0].toLowerCase()]=this.lastThumbPosition+(this.valueToPosition(_40)-this.lastThumbPosition)*_58+"px";if(t>=_42){this.stopSlideAnimation();return;}$W._N.setTimer(this.slideAnimation,{key:this.id+"_slider_slide",caller:this,delay:_43,args:[_3f,_40,_41]});}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._T.prototype.stopSlideAnimation=function(){["WebSquare.uiplugin.slider.stopSlideAnimation"];try{$W._N.clearTimer(this.id+"_slider_slide");}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._T.prototype.getThumbMaxValue=function(_59){return "";};$W._a._T.prototype.getThumbMinValue=function(_5a){return "";};$W._a._T.prototype.getPosition=function(e){["WebSquare.uiplugin.slider.getPosition"];try{var _5c=0;if(this.options.vertical==true){_5c=$W._c.getMouseY(e);}else{_5c=$W._c.getMouseX(e);}return _5c-this.thumbArea/2;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._T.prototype.getNearThumbIndex=function(_5d){["WebSquare.uiplugin.slider.getNearThumbIndex"];try{var _5e=0;var _5f=this.options.maxValue-this.options.minValue+1;for(var i=0;i<this.thumbList.length;i++){if(Math.abs(this.thumbList[i].value-_5d)<_5f){_5e=i;_5f=Math.abs(this.thumbList[i].value-_5d);}}return _5e;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._T.prototype.setRef=function(ref){["WebSquare.uiplugin.slider.prototype.setRef "];try{if(!this.modelControl.isBinded()){this.modelControl.useRef=true;}this.options.ref=ref;this.modelControl.setRef(ref);this.refresh();}catch(e){$W.exception.printStackTrace(e);}};$W._a._T.prototype.handleTouchStart=function(e){["WebSquare.uiplugin.slider.prototype.handleTouchStart"];try{var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match("w2thumb_input")){break;}if(it.match(null,this.id)){var _64=this.getPosition(e);var _65=this.positionToValue(_64);this.movedIndex=this.getNearThumbIndex(_65);var _66=this.thumbList[this.movedIndex];this.moveStart=true;var _67=this.moveThumb(this.movedIndex,_65);this.addClass(_66.render,"w2thumb_over");this.showTooltip(this.movedIndex,_66.value);$W._c.stopEvent(e);this.render.focus();break;}if(it.match("w2thumb")){this.minPosition=$W._g["getAbsolute"+this.positionValue[0]](this.render);this.maxPosition=parseInt(this.render["offset"+this.areaValue[0]],10)-this.thumbArea+1;this.movedIndex=it.getElement().getAttribute("thumbIndex");var _66=this.thumbList[this.movedIndex];this.addClass(_66.render,"w2thumb_over");$W._c.stopEvent(e);this.showTooltip(this.movedIndex,_66.value);this.moveStart=true;this.render.focus();break;}}it=null;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._T.prototype.handleTouchMove=function(e){["WebSquare.uiplugin.slider.prototype.handleTouchMove"];try{if(this.moveStart==true){var _69=this.getCurrentThumb();var _6a=this.getThumbMaxValue(this.movedIndex);var _6b=this.getThumbMinValue(this.movedIndex);var _6c=this.getPosition(e);var _6d=this.positionToValue(_6c);var _6e=this.moveThumb(_69.index,_6d);if(_6e==true){this.addClass(_69.render,"w2thumb_over");this.setTooltipLabel(_69.value);this.setTooltipPosition(_69.index);}}$W._c.stopEvent(e);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._T.prototype.handleTouchEnd=function(e){["WebSquare.uiplugin.slider.prototype.handleTouchEnd"];try{if(this.moveStart==true){if(this.options.moveBack==true){var _70=new Date().getTime()+this.options.animationDuration;this.slideAnimation(this.movedIndex,this.thumbList[this.movedIndex].value,_70);}this.removeClass(this.thumbList[this.movedIndex].render,"w2thumb_over");this.hideTooltip();this.moveStart=false;$W._c.fireEvent(this,"onmovedone",this.thumbList[this.movedIndex].value,this.thumbList[this.movedIndex].id);}$W._c.stopEvent(e);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._T.prototype.handleInputBlur=function(e){["WebSquare.uiplugin.slider.prototype.handleInputBlur"];try{var elm=e.srcElement;var _73=elm.getAttribute("thumbIndex");var _74=parseFloat(elm.value)||0;if(_74<this.options.minValue||_74>this.options.maxValue){var _75=$W._m.getMessage("Slider_warning1",this.options.minValue,this.options.maxValue)||this.options.minValue+"\uc5d0\uc11c "+this.options.maxValue+" \uc0ac\uc774\uc758 \uac12\uc744 \uc785\ub825\ud574\uc57c \ud569\ub2c8\ub2e4.";alert(_75);elm.focus();}else{if((_74-this.options.minValue)%this.options.increment>0){var _76=$W._m.getMessage("Slider_warning2",this.options.minValue,this.options.maxValue,this.options.increment)||this.options.minValue+"\uc5d0\uc11c "+this.options.maxValue+"\uae4c\uc9c0\uc758 \uac12\ub4e4 \uc911 "+this.options.increment+"\uc529 \uc99d\uac00\ud55c \uac12\uc744 \uc785\ub825\ud574\uc57c \ud569\ub2c8\ub2e4.";alert(_76);elm.focus();}else{this.setThumbValue(elm.value,_73);}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._T.prototype.handleKeydown=function(e){["WebSquare.uiplugin.slider.prototype.handleKeydown"];try{var _78=this.movedIndex||0;var _79=this.getThumbValue(_78);if(e.srcElement.nodeName.toLowerCase()=="input"){return;}switch(e.keyCode){case 37:if(this.options.vertical==false){if(this.options.changeDirection==false){this.setThumbValue(_79-this.options.increment,_78);}else{this.setThumbValue(_79+this.options.increment,_78);}}else{this.setThumbValue(_79-this.options.increment,_78);}$W._c.stopEvent(e);break;case 39:if(this.options.vertical==false){if(this.options.changeDirection==true){this.setThumbValue(_79-this.options.increment,_78);}else{this.setThumbValue(_79+this.options.increment,_78);}}else{this.setThumbValue(_79+this.options.increment,_78);}$W._c.stopEvent(e);break;case 38:if(this.options.vertical==true){if(this.options.changeDirection==false){this.setThumbValue(_79-this.options.increment,_78);}else{this.setThumbValue(_79+this.options.increment,_78);}}else{this.setThumbValue(_79+this.options.increment,_78);}$W._c.stopEvent(e);break;case 40:if(this.options.vertical==true){if(this.options.changeDirection==true){this.setThumbValue(_79-this.options.increment,_78);}else{this.setThumbValue(_79+this.options.increment,_78);}}else{this.setThumbValue(_79-this.options.increment,_78);}$W._c.stopEvent(e);break;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._T.prototype.showTooltip=function(_7a,_7b){["WebSquare.uiplugin.slider.showTooltip"];try{if(this.options.tooltipShow==true){if(this.timeShowTooltip!=null){clearTimeout(this.timeShowTooltip);this.timeShowTooltip=null;}if(this.timeHideTooltip!=null){clearTimeout(this.timeHideTooltip);this.timeHideTooltip=null;}this.timeShowTooltip=setTimeout(this.event.bindAsEventListener(this,function(){if(!this.tooltip){this.tooltip=new $W._a._p(this.id+"_tooltip",{className:"w2slider_tooltip "+this.options.tooltipClass});this.tooltip.writeTo($W.getBody(),null,this.parentFrame);this.tooltip.activate();}if(this.options.vertical==true){this.tooltip.setStyle("left",$W._H.getAbsoluteLeft(this.render)+this.thumbPosition+25+"px");}else{this.tooltip.setStyle("top",$W._H.getAbsoluteTop(this.render)+this.thumbPosition-25+"px");}this.tooltip.setStyle("display","block");this.setTooltipLabel(_7b);this.setTooltipPosition(_7a);}),this.options.tooltipTime*1000);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._T.prototype.setTooltipPosition=function(_7c){if(this.tooltip){var _7d=this.valueToPosition(this.thumbList[_7c].value);_7d=this.minPosition+_7d-this.tooltip.render["offset"+this.areaValue[0]]/2+this.thumbArea/2;this.tooltip.setStyle(this.positionValue[0].toLowerCase(),_7d+"px");}};$W._a._T.prototype.setSize=function(_7e,_7f){["WebSquare.uiplugin.slider.setSize"];try{$W._n.prototype.setSize.call(this,_7e,_7f);this.drawTumb();}catch(e){$W.exception.printStackTrace(e);}};$W._a._T.prototype.setTooltipLabel=function(_80){if(this.tooltip){if(this.options.tooltipFormatter){try{var _81=$W._G.getGlobalFunction(this.options.tooltipFormatter,this.scope_id);if(typeof _81==="function"){_80=_81.call(this,_80);}}catch(e){}}this.tooltip.render.innerHTML=_80;}};$W._a._T.prototype.hideTooltip=function(){["WebSquare.uiplugin.slider.hideTooltip"];try{this.timeHideTooltip=setTimeout(this.event.bindAsEventListener(this,function(){if(this.tooltip){this.tooltip.setStyle("display","none");}}),this.options.tooltipTime*1000);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._T.prototype.setMaxValue=function(_82){["WebSquare.uiplugin.slider.setMaxValue"];try{if(_82<this.options.minValue){_82=this.options.maxValue;}if(this.options.showScale){this.scaleRedraw(_82);}var _83=this.getThumbValue(0)/this.options.maxValue;var _84=Math[this.options.animationMathOption](_82*_83);this.render.setAttribute("aria-valuemax",_82);this.options.maxValue=parseInt(_82);this.setThumbValue(_84,0);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._T.prototype.setMinValue=function(_85){["WebSquare.uiplugin.slider.setMinValue"];try{if(_85>this.options.maxValue){_85=this.options.minValue;}if(this.options.showScale){this.scaleRedraw(this.options.maxValue,_85);}var _86=(this.getThumbValue(0)-this.options.minValue)/(this.options.maxValue-this.options.minValue);var _87=Math[this.options.animationMathOption](((this.options.maxValue-_85)*_86))+_85;this.render.setAttribute("aria-valuemin",_85);this.options.minValue=parseInt(_85);this.setThumbValue(_87,0);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.thumb=function(_88){this.id=_88.id||"thumb";this.value=_88.value||0;this.index=_88.index;this.options=_88;};$W._a.thumb.prototype.getThumbRender=function(){if(!this.render){this.render=document.createElement("div");this.render.setAttribute("id",this.options.parentId+"_"+this.id);this.render.setAttribute("className","w2thumb");this.render.setAttribute("class","w2thumb");this.render.setAttribute("thumbIndex",this.index);this.inputRender=document.createElement("input");this.inputRender.setAttribute("className","w2thumb_input");this.inputRender.setAttribute("class","w2thumb_input");}return this.render;};;WebSquare.uiplugin.slider=$W._a._T;$W._a._v=function(id,_2,_3){["WebSquare.uiplugin.tabControl"];$W._t.call(this,id,_2,_3);};$W.extend($W._a._v.prototype,$W._t.prototype);$W.extend($W._a._v.prototype,$W._n.prototype);$W._a._v.prototype.defaultOptions={pluginType:"uiplugin.tabControl",pluginName:"tabControl",userEvents:["ontabclick","onchange","ontabclose","onclick","onbeforeselect","onbeforetabclose","onbeforetabmove","onaftertabmove","ondrawcomplete"],useConfig:true,selectedIndex:0,containerClass:"w2tabcontrol_container",hostClass:"w2tabcontrol_tabhost",tabClass:"",tabStyle:"",activeTabClass:"w2tabcontrol_active",overTabClass:"w2tabcontrol_over",disabledTabClass:"w2tabcontrol_disabled",contentsClass:"w2tabcontrol_contents",alwaysDraw:false,useTabKeyOnly:false,useMoveNextTabFocus:false,useBackbridge:false,useConfirmMessage:false,confirmTrueAction:"exist",confirmFalseAction:"new",confirmMessage:"[#title]\ud0ed\uc774 \uc874\uc7ac\ud569\ub2c8\ub2e4. \uae30\uc874\uc758 \ud0ed\uc744 \uc0ac\uc6a9\ud558\uc2dc\ub824\uba74 '\ud655\uc778'\uc744 \uc0c8\ub85c\uc6b4 \ud0ed\uc744 \uc0dd\uc131\ud558\uc2dc\ub824\uba74 '\ucde8\uc18c'\ub97c \uc120\ud0dd\ud558\uc138\uc694",confirmMessageLocaleRef:"",tabScroll:false,adjustTabScroll:false,visibleRowNum:5,closable:false,useBridgeHelper:true,spa:false,spaIframeMaxSize:0,spaIframeMinSize:0,spaInitCount:0,windowMaxNum:-1,tabScrollAuto:false,focusOnStart:true,preventTabClickEvent:false,useLocale:false,localeRef:"",hiddenTab:false,useATagBtn:false,tabMove:false};$W._a._v.prototype.defaultTabContentOptions={alwaysDraw:false,src:"",style:"",frameMode:"",name:"",title:"",scope:false};$W._a._v.prototype.initialize=function(_4){["WebSquare.uiplugin.tabControl.initialize"];try{this.selectedIndex=0;this.tabArr=[];this.contentsArr=[];this.tabContentOptions=this.defaultTabContentOptions;this.focusedIndex=-1;this.activeFirstTime=false;this.increaseKey=0;this.visibleTabIndex=0;this.itemTable=null;this.isOpen=false;this.itemTableTdMargin=null;this.senseReaderMode=true;this.bridgeIdArr=[];this.backbridgeIdArr=[];this.lastEventType="";this.storedFrame=[];this.autoNum=0;if(this.options.confirmMessageLocaleRef!=null&&this.options.confirmMessageLocaleRef!=""){this.options.confirmMessage=this.getLocaleValue(this.options.confirmMessageLocaleRef);}if(this.options.iframeStorageCount&&!this.options.spaIframeMaxSize){this.options.spaIframeMaxSize=this.options.iframeStorageCount;}if(this.options.iframeMaxSize&&!this.options.spaIframeMaxSize){this.options.spaIframeMaxSize=this.options.iframeMaxSize;}if(this.options.iframeMinSize&&!this.options.spaIframeMinSize){this.options.spaIframeMinSize=this.options.iframeMinSize;}if(this.options.spaIframeMinSize>this.options.spaIframeMaxSize){this.options.spaIframeMaxSize=this.options.spaIframeMinSize;}if(this.options.spaInitCount>0){this.options.spaIframeMaxSize=this.options.spaIframeMinSize=this.options.spaInitCount;}if($W._N.getConfiguration("/WebSquare/spa/@value")=="true"||this.options.spaIframeMaxSize>0){this.options.spa=true;}if($W._G.getBoolean(this.options.useATagBtn)&&$W._G.getBoolean(this.options.closable)){this.options.useATagBtn=true;}else{this.options.useATagBtn=false;}if(_4==null){return;}this.disabledTabStack=[];this.tabArr=this.makeTabArray(_4,this.options);this.contentsArr=this.makeTabContentsArray(_4,this.tabContentOptions,this.tabArr);this.initAllContents();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._v.prototype.initContents=function(_5){["WebSquare.uiplugin.tabControl.initContents"];try{var _6;if(_5.frameMode=="iframe"||_5.frameMode=="wframe"){if(_5.frameMode=="iframe"){requires("uiplugin.iframe");_6=new $W._a.bs(_5.contentsID+"_body",{className:"w2tabContainer_contents w2tabcontrol_contents_wrapper",style:"width:100%; height:100%;",name:_5.name,title:_5.title,spa:this.options.spa});}else{requires("uiplugin.wframe");_6=new $W._a._B(_5.contentsID+"_body",{className:"w2tabContainer_contents w2tabcontrol_contents_wrapper",scope:_5.scope});}}else{var _7=this.options["_scope_obj_uuid"];var _8=(_7==null)?null:$W.idCache[_7];var _9=_5.contentsID;if(_8!=null){_9=this.options["_scope_obj_org_id"]+_5.contentsID.slice(this.id.length);}_6=$W.controlFactory.create(_9+"_body",{className:"w2tabcontrol_contents_wrapper"},_5.xml,_8,_7);}return _6;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._v.prototype.initAllContents=function(){["WebSquare.uiplugin.tabControl.initAllContents"];try{var _a,comp;for(var i=0;i<this.contentsArr.length;i++){_a=this.contentsArr[i];comp=this.initContents(_a);this.addControl(comp);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._v.prototype.makeTabContentsArray=function(_c,_d,_e){["WebSquare.uiplugin.tabControl.makeTabContentsArray"];try{if(_e==null||_e.length<1){return [];}var _f=[];var _10={};var _11=$W._B.findNodes(_c,"*['"+"content"+"'=local-name()]['"+$W._N._XML_NAMESPACE.W2+"'=namespace-uri()]");for(var i=0;i<_e.length;i++){var elm=i<_11.length?_11[i]:null;if(elm==null||elm.nodeType!=1||elm.nodeName!="w2:content"){elm=null;_10={};}else{_10=$W.WebSquareparser.parseAttribute(elm);}var id=(elm==null||elm.getAttribute("id")==null)?this.id+"_contents_"+i:this.id+"_contents_"+elm.getAttribute("id");_e[i].contentsID=id;if(_10.alwaysDraw){_10.alwaysDraw=$W._G.getBoolean(_10.alwaysDraw);}else{if(_10.alwaysDraw==false){}else{_10.alwaysDraw=this.options.alwaysDraw;}}var _15=$W.extend({contentsID:id,contentsClass:_10.contentsClass||this.options.contentsClass,src:_10.src||_d.src,frameMode:_10.src!=null&&_10.src!=""?(_10.frameMode||_d.frameMode):"",alwaysDraw:_10.alwaysDraw,render:null,xml:elm,name:_10.name||"",title:_10.title,scope:_10.scope||_d.scope},_10||{});if(_15.src!=null&&_15.src!=""&&_15.frameMode==""){_15.frameMode="wframe";}_f.push(_15);}return _f;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._v.prototype.makeTabArray=function(_16,_17){["WebSquare.uiplugin.tabControl.makeTabArray"];try{if(_16==null){return [];}var _18=[];var _19=false;var _1a=false;var _1b=0;for(var i=0;i<_16.childNodes.length;i++){var elm=_16.childNodes[i];if(elm.nodeType!=1||elm.nodeName!="w2:tabs"){continue;}_1b++;if(this.options.windowMaxNum!=-1&&_1b>this.options.windowMaxNum){alert($W._m.getMessage("TabControl_maxNum_warning",this.options.windowMaxNum));break;}var _1e=elm.getAttribute("id");var id=this.id+"_tab_"+(_1e==null?i:_1e);var _20=$W.WebSquareparser.parseAttribute(elm);if(typeof _20.label=="undefined"){_20.label="";}_20.label=_20.useLocale=="true"?this.getLocaleValue(_20.localeRef):_20.label||_20.label;if(this.options.closable==true){_19=true;}if(this.options.useATagBtn==true){_1a=true;}var tab={tabID:id,userTabID:_1e,contentsID:"",tabLabel:_20.label,disabled:_20.disabled=="true"?true:false,render:null,tabWidth:parseInt(_20.tabWidth,10)>0?parseInt(_20.tabWidth,10):this.options.tabWidth,tabGap:parseInt(_20.tabGap,10)>0?parseInt(_20.tabGap,10):this.options.tabGap,tabHeight:parseInt(_20.tabHeight,10)>0?parseInt(_20.tabHeight,10):this.options.tabHeight,tabClass:_20["className"]||this.options.tabClass,tabStyle:_20.style||this.options.tabStyle,activeTabClass:_20.activeTabClass||this.options.activeTabClass,disabledTabClass:_20.disabledTabClass||this.options.disabledTabClass,selectedImage:_20.selectedImage?"url("+_20.selectedImage+")":"",defaultImage:_20.defaultImage?"url("+_20.defaultImage+")":"",hoverImage:_20.hoverImage?"url("+_20.hoverImage+")":"",tabType:_20.tabType=="image"?"image":"text",selectedClass:_20.selectedClass||"",defaultClass:_20.defaultClass||"",hoverClass:_20.hoverClass||"",closable:$W._G.getBoolean(_20.closable)==true?true:_19,hiddenTab:$W._G.getBoolean(_20.hiddenTab)==true?true:false,closeBtn:null,label:_20.label,value:id,title:_20.title||_20.label,useATagBtn:$W._G.getBoolean(_20.useATagBtn)==true?true:_1a};_18.push(tab);}return _18;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._v.prototype.toHTML=function(){["WebSquare.uiplugin.tabControl.toHTML"];try{var _22=[];var _23=(this.options.style=="")?"":"style='"+this.options.style+"'";_22.push("<div id='"+this.id+"' "+_23+" class='w2tabcontrol "+this.options.className+"'>");if(this.options.tabScroll){_22.push("<div id='"+this.id+"_control' class='w2tabcontrol_control'>");_22.push("<div id='"+this.id+"_btn_scrollLeft' class='w2tabcontrol_control btn_scrollLeft' tabindex='-1'></div>");_22.push("<div id='"+this.id+"_mask' class='w2tabcontrol_control mask'>");_22.push("<div id='"+this.id+"_scroll' class='w2tabcontrol_control scroll'>");}_22.push(this.makeAllTabHTML());if(this.options.tabScroll){_22.push("</div>");_22.push("</div>");_22.push("<div id='"+this.id+"_btn_scrollRight' class='w2tabcontrol_control btn_scrollRight' tabindex='-1'></div>");_22.push("<div id='"+this.id+"_btn_submenu' class='w2tabcontrol_control btn_submenu' tabindex='-1'></div>");_22.push("</div>");}_22.push(this.makeAllContentsHTML());_22.push("</div>");return _22.join("");}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._v.prototype.makeTextTabHTML=function(tab,idx,_26){["WebSquare.uiplugin.tabControl.makeTextTabHTML"];try{var _27=$W._m.getMessage("TabControl_close")||"\ub2eb\uae30";var _28=["<li id='",null,"'  class='w2tabcontrol_li ",null,"' ",null," index='",null,"' ><div class='w2tabcontrol_tab_center' ><a role='tab' aria-controls='",null,"' href='#",null,"' ",null," "+(this.options.useTabKeyOnly==false?"tabindex='-1'":"")+" >",null,"</a></div><div class='w2tabcontrol_tab_left'></div><div class='w2tabcontrol_tab_right' >","<div id='",null,"' class='w2tabcontrol_tab_close' title='"+_27+"'></div></div></li>"];var _29=(tab.tabWidth>0?"width:"+tab.tabWidth+"px;":"")+(tab.tabHeight>0?"height:"+tab.tabHeight+"px;line-height:"+(tab.tabHeight-1)+"px;":"")+(tab.tabGap>0?"margin-right:"+tab.tabGap+"px;":"")+(tab.tabStyle?tab.tabStyle:"");_28[1]=tab.tabID;_28[3]=(" w2tabcontrol_li_"+idx)+(tab.disabled?" "+tab.disabledTabClass:"")+(tab.tabClass?" "+tab.tabClass:"");if(!_26&&idx===this.options.selectedIndex+1){_28[3]+=" "+tab.activeTabClass+(tab.selectClass?" "+tab.selectClass:"");}else{_28[3]+=(tab.defaultClass?" "+tab.defaultClass:"");}_28[5]=_29==""?"":"style=\""+_29+"\"";_28[7]=idx;_28[9]=tab.contentsID;_28[11]=tab.contentsID+"_bridge";_28[13]=tab.title==""?"":"title=\""+tab.title+"\"";_28[15]=tab.tabLabel;if($W._G.getBoolean(this.options.useATagBtn)){_28[17]="<a id='";_28[19]="' class='w2tabcontrol_tab_close_atag' href='javascript:void(null);' title='\ub2eb\uae30'></a></div></li>";}_28[18]=tab.tabID+"_close";return _28.join("");}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._v.prototype.makeImageTabHTML=function(tab,idx,_2c){["WebSquare.uiplugin.tabControl.makeImageTabHTML"];try{var _2d=$W._m.getMessage("TabControl_close")||"\ub2eb\uae30";var _2e=["<li id='",null,"' class='w2tabcontrol_li ",null,"' ",null," index='",null,"'><div class='w2tabcontrol_tab_center2' ",null,"' ",null," role='tab' ",null," "+(this.options.useTabKeyOnly==false?"tabindex='-1'":"")+" ></div><div class='w2tabcontrol_tab_left2'></div><div class='w2tabcontrol_tab_right2' >","<div id='",null,"' class='w2tabcontrol_tab_close2' title='"+_2d+"'></div>","</div></li>"];var _2f=(tab.tabWidth>0?"width:"+tab.tabWidth+"px;":"")+(tab.tabHeight>0?"height:"+tab.tabHeight+"px;line-height:"+(tab.tabHeight-1)+"px;":"")+(tab.tabGap>0?"margin-right:"+tab.tabGap+"px;":"")+(tab.tabStyle?tab.tabStyle:"");_2e[1]=tab.tabID;_2e[3]=(" w2tabcontrol_li_"+idx)+(tab.disabled?" "+tab.disabledTabClass:"")+(tab.tabClass?" "+tab.tabClass:"");if(!_2c&&idx===this.options.selectedIndex+1){_2e[3]+=" "+tab.activeTabClass+(tab.selectClass?" "+tab.selectClass:"");_2e[9]=tab.selectedImage?"style='background-image:"+tab.selectedImage+";":"";}else{_2e[3]+=(tab.defaultClass?" "+tab.defaultClass:"");_2e[9]=tab.defaultImage?"style='background-image:"+tab.defaultImage+";":"";}_2e[5]=_2f==""?"":"style=\""+_2f+"\"";_2e[7]=idx;_2e[11]=tab.title==""?"":"title=\""+tab.title+"\"";_2e[13]=tab.contentsID==""?"":"aria-controls=\""+tab.contentsID+"\"";_2e[16]=tab.tabID+"_close";if($W._G.getBoolean(this.options.useATagBtn)){_2e[15]="<a id='";_2e[17]="' class='w2tabcontrol_tab_close2_atag' href='javascript:void(null);' title='"+_2d+"'></a>";}return _2e.join("");}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._v.prototype.makeAllTabHTML=function(){["WebSquare.uiplugin.tabControl.makeAllTabHTML"];try{var _30=[];_30.push("<ul id='"+this.id+"_tabhost' class='"+this.options.hostClass+"' role='tablist' >");for(var i=0;i<this.tabArr.length;i++){var tab=this.tabArr[i];if(this.tabArr[i].hiddenTab){tab.tabStyle=tab.tabStyle+"; display:none; visibility:hidden;";}var _33="make"+tab.tabType.capitalize()+"TabHTML";_30.push(this[_33](tab,i+1));}_30.push("</ul>");return _30.join("");}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._v.prototype.makeContentsHTML=function(_34,_35,_36){["WebSquare.uiplugin.tabControl.makeContentsHTML"];try{var _37=["<div id='",null,"' class='",null,"' role='tabpanel' aria-labeledby='",null,null,null,"</div>"];var _38=this.getChild(_34.contentsID+"_body");var _39="";if(this.contentsArr[this.options.selectedIndex]!==_34){_39="' aria-hidden='true' style='display:none';>";}else{_39="' aria-hidden='false'>";}var _3a="";var _3b="";if(this.options.useTabKeyOnly){var _3c=_34.title||_35;var _3d=this.options.useBridgeHelper?"<h3 id='"+_34.contentsID+"_bridge_helper' style='position:absolute;text-indent : -10000px;background:none;height:0px;' class='w2tabcontrol_contents_bridge_helper'>"+_3c+"</h3>":"";_3a="<a id='"+_34.contentsID+"_bridge' class='w2tabcontrol_bridge' href='#'>"+_3d+"</a>";this.bridgeIdArr.push(_34.contentsID+"_bridge");}if(this.options.useBackbridge){_3b="<a id='"+_34.contentsID+"_backbridge' tabindex='0' title='go back' class='w2tabcontrol_bridge'></a>";this.backbridgeIdArr.push(_34.contentsID+"_backbridge");}_37[1]=_34.contentsID;_37[3]=_34.contentsClass;_37[5]=_35;_37[6]=_39;_37[7]=_3a;_37[7]+=(_34.alwaysDraw&&!_36)?_38.toHTML():"";_37[7]+=_3b;return _37.join("");}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._v.prototype.makeAllContentsHTML=function(){["WebSquare.uiplugin.tabControl.makeAllContentsHTML"];try{var _3e=[];_3e.push("<div id='"+this.id+"_container' class='"+this.options.containerClass+"'>");for(var i=0;i<this.contentsArr.length;i++){var _40=this.contentsArr[i];var tab=this.tabArr[i];_3e.push(this.makeContentsHTML(_40,tab.tabLabel));}_3e.push("</div>");return _3e.join("");}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._v.prototype.setAdaptive=function(){["WebSquare.uiplugin.tabControl.setAdaptive"];try{var _42=this.options.adaptive;var _43=parseInt(this.options.adaptiveThreshold)||480;var _44;if(_42=="layout"){_44="w2tab_adaptive_layout";}if(!($W._G.isIE()&&parseInt($W._N.browserVersion(),10)<10)){if(parseInt(top.document.documentElement.clientWidth||top.document.body.clientWidth)<=_43){if(!this.hasClass(_44)){this.addAdaptive();}}else{if(this.hasClass(_44)){this.removeAdaptive();}}}}catch(e){$W.exception.printStackTrace(e);}};$W._a._v.prototype.addAdaptive=function(){["WebSquare.uiplugin.tabControl.addAdaptive"];try{var _45=this.options.adaptive;var _46;if(_45=="layout"){_46="w2tab_adaptive_layout";}this.addClass(_46);for(var i in this.bridgeIdArr){var _48=this.getElementById(this.bridgeIdArr[i]);_48.setAttribute("href","#"+this.contentsArr[i].contentsID);if(this.getSelectedTabIndex()==i){_48.click();}}if(this.options.tabScroll){var _49=document.getElementById(this.id+"_control");_49.style.display="none";}}catch(e){$W.exception.printStackTrace(e);}};$W._a._v.prototype.removeAdaptive=function(){["WebSquare.uiplugin.tabControl.removeAdaptive"];try{var _4a=this.options.adaptive;var _4b;if(_4a=="layout"){_4b="w2tab_adaptive_layout";}this.removeClass(_4b);if(this.options.tabScroll){var _4c=document.getElementById(this.id+"_control");_4c.style.display="block";}}catch(e){$W.exception.printStackTrace(e);}};$W._a._v.prototype.setAction=function(){["WebSquare.uiplugin.tabControl.setAction"];try{requires("uiplugin.iframe");if(this.options.adaptive=="layout"){this.setAdaptive();this.event.addListener(window,"onresize",this.event.bindAsEventListener(this,this.setAdaptive));}var _4d=this.getTabHostAndContainer();var _4e=this;for(var i=0;i<this.tabArr.length;i++){var tab=this.tabArr[i];tab.render=document.getElementById(tab.tabID);tab.closeBtn=document.getElementById(tab.tabID+"_close");tab.contentsRender=document.getElementById(tab.contentsID);this.contentsArr[i].render=tab.contentsRender;if(this.contentsArr[i].alwaysDraw==true&&(this.contentsArr[i].frameMode=="iframe"||this.contentsArr[i].frameMode=="wframe")){var _51=this.getChild(tab.contentsID+"_body");if(_51.options&&_51.options.pluginName==="wframe"){_51.options.mode="sync";}_51.setSrc(this.contentsArr[i].src,this.contentsArr[i].forceReload);}}if(this.options.tabScroll){$W.getBody().getLayerListener().addListener({component:this,fnShow:this._openSubLayer,fnHide:this._closeSubLayer,paramHide:{"documentClick":true},event:{}});var _52=document.getElementById(this.id+"_btn_submenu");var _4e=this;if(_52){$W._c.addListener(_52,"onmousedown",function(e){$W._c.stopPropagation(e);});}}if(!$W._G.isMobile()){this.event.addListener(this.render,"onclick",this.event.bindAsEventListener(this,this.handleTabClickEvent));this.event.addListener(this.render,"onmouseover",this.event.bindAsEventListener(this,this.handleMouseoverEvent));}else{this.event.addListener(this.render,"ontouchend",this.event.bindAsEventListener(this,this.handleMouseoverEvent));}this.event.addListener(this.render,"onmouseout",this.event.bindAsEventListener(this,this.handleMouseoutEvent));if($W._G.isIE(6)){this.event.addListener(this.render,"onresize",this.event.bindAsEventListener(this,this.handleResizeEvent));}if(!this.options.useTabKeyOnly){this.event.addListener(_4d.tabhost,"onkeydown",this.event.bindAsEventListener(this,this.handleKeyEvent));this.event.addListener(_4d.container,"onkeydown",this.event.bindAsEventListener(this,this.handleKeyEvent));if(this.options.useMoveNextTabFocus==true){this.event.addListener(_4d.container,"onfocusin",this.event.bindAsEventListener(this,this.handleFocusInEvent));}}else{this.event.addListener(_4d.tabhost,"onfocusin",function(e){_4e.lastEventType=e.type;});this.event.addListener(_4d.tabhost,"onkeydown",function(e){var _56=e.charCode||e.keyCode;if(_56===9||_56===13){_4e.lastEventType=e.type;}});this.event.addListener(_4d.tabhost,"onmousedown",function(e){_4e.senseReaderMode=false;});}if($W._G.isMobile()){this.event.addListener(_4d.tabhost,"ontouchstart",this.event.bindAsEventListener(this,this.handleTabMove));}else{this.event.addListener(_4d.tabhost,"onmousedown",this.event.bindAsEventListener(this,this.handleTabMove));}if(this.options.useBackbridge){for(var i=0;i<this.backbridgeIdArr.length;i++){var _58=this.getElementById(this.backbridgeIdArr[i]);if(_58){var _59=function(idx){$W._c.addListener(_58,"onkeydown",function(e){var _5c=e.charCode||e.keyCode;if(_5c===13){_4e.setFocusedTab(idx);}});};_59(i);}}}this.setActiveTab(this.options.selectedIndex);this.adjustContentsHeight();if(this.options.tabScroll&&this.options.adjustTabScroll){this.checkScrollBtnVisibility();}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._v.prototype.onComplete=function(){["WebSquare.uiplugin.tabControl.onComplete"];$W._N.setTimer(this.makeIframe,{key:this.id+"_makeIframe",caller:this,delay:10});$W._t.prototype.onComplete.call(this);};$W._a._v.prototype.makeIframe=function(){["WebSquare.uiplugin.tabControl.makeIframe"];var _5d=this.storedFrame.length;for(var i=0;i<this.contentsArr.length;i++){if(this.contentsArr[i].frameMode=="iframe"){_5d++;}}if(this.options.spaIframeMinSize>_5d){var _5f=document.getElementById(this.id+"_container");var _60=["<div id='",null,"' class='",this.options.contentsClass,"' role='tabpanel' aria-labeledby='","","' aria-hidden='true' style='display:none';>",null,"</div>"];var _61=this.uuid+"_iframe"+"_"+this.autoNum++;var _62=new $W._a.bs(_61,{className:"w2tabContainer_contents w2tabcontrol_contents_wrapper",style:"width:100%; height:100%;",spa:this.options.spa,src:$W._r.getBlankXML()});_60[1]=_61;_60[7]=_62.toHTML();var div=document.createElement("div");div.innerHTML=_60.join("");var _64=div.removeChild(div.firstChild);_5f.appendChild(_64);_62.render=_64.firstChild;this.storedFrame.push(_62.id);_62.activeStatus="active";$W._N.setTimer(this.makeIframe,{key:this.id+"_makeIframe",caller:this,delay:50});}};$W._a._v.prototype.addRoundedCornerForIE=function(){["WebSquare.uiplugin.tabControl.addRoundedCornerForIE"];try{var _65=$W._m.getMessage("TabControl_right_corner")||"\uc624\ub978\ucabd \ubaa8\uc11c\ub9ac \uc774\ubbf8\uc9c0";var _66=$W._m.getMessage("TabControl_left_corner")||"\uc67c\ucabd \ubaa8\uc11c\ub9ac \uc774\ubbf8\uc9c0";for(var i=0;i<this.tabArr.length;i++){var tab=this.tabArr[i];if(tab.render.firstChild.nodeName.toLowerCase()=="img"){continue;}var img=document.createElement("img");img.src=$W.baseURI+"uiplugin/tabControl/images/right-top.png";img.className="w2tabcontrol_righttop";img.setAttribute("alt",_65);tab.render.insertBefore(img,tab.render.firstChild);img=document.createElement("img");img.src=$W.baseURI+"uiplugin/tabControl/images/left-top.png";img.className="w2tabcontrol_lefttop";img.setAttribute("alt",_66);tab.render.insertBefore(img,tab.render.firstChild);img=null;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._v.prototype.getTabHostAndContainer=function(){["WebSquare.uiplugin.tabControl.getTabHostAndContainer"];try{var _6a=document.getElementById(this.id+"_tabhost");var _6b=document.getElementById(this.id+"_container");return {"container":_6b,"tabhost":_6a};}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._v.prototype.adjustContentsHeight=function(){["WebSquare.uiplugin.tabControl.adjustContentsHeight"];try{var _6c=this.getTabHostAndContainer();var _6d=_6c.container;var _6e=_6c.tabhost;var _6f=$W._G.getStyleProperty(this.render,"height");if(this.options.tabScroll&&(_6f!="auto"&&_6f!="0px")){var _70=document.getElementById(this.id+"_control");if(parseInt(_6f,10)==parseInt($W._G.getStyleProperty(_70,"height"),10)){return;}}if(_6f==null||_6f==""||_6f=="auto"||_6f=="0px"){return;}if((_6f+"").charAt(((_6f+"").length)-1)=="%"){return;}var _71=(parseInt(_6f,10)||0)-(parseInt($W._G.getStyleProperty(this.render,"padding-top"),10)||0)-(parseInt($W._G.getStyleProperty(this.render,"padding-bottom"),10)||0);var _72=(parseInt($W._G.getStyleProperty(_6e,"height"),10)||0)+(parseInt($W._G.getStyleProperty(_6e,"border-top-width"),10)||0)+(parseInt($W._G.getStyleProperty(_6e,"border-bottom-width"),10)||0)+(parseInt($W._G.getStyleProperty(_6e,"margin-top"),10)||0)+(parseInt($W._G.getStyleProperty(_6e,"margin-bottom"),10)||0);_6d.style.height=(_71-_72)+"px";}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._v.prototype.setClosable=function(idx,_74){["WebSquare.uiplugin.tabControl.setClosable"];try{idx=parseInt(idx,10);_74=_74||false;if(idx<0||idx>=this.tabArr.length){return false;}this.tabArr[idx].closable=_74;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._v.prototype.setActiveTab=function(idx){["WebSquare.uiplugin.tabControl.setActiveTab"];try{idx=parseInt(idx,10);if(idx<0||idx>=this.tabArr.length){return false;}if(this.tabArr[idx].disabled||this.tabArr[idx].hidden){return false;}for(var i=0;i<this.tabArr.length;i++){var tab=this.tabArr[i];tab.render=document.getElementById(tab.tabID);if(i!=idx){this.removeClass(tab.render,tab.activeTabClass);if(tab.selectedClass){this.removeClass(tab.render,tab.selectedClass);}if(tab.defaultClass){this.addClass(tab.render,tab.defaultClass);}tab.contentsRender.style.display="none";tab.contentsRender.style.visibility="hidden";tab.contentsRender.setAttribute("aria-hidden","true");this.addClass(tab.contentsRender," ");if(tab.tabType=="image"){var img=tab.render.getElementsByTagName("div")[0];img.style[$W._H.camelize("background-image")]=tab.defaultImage||img.style[$W._H.camelize("background-image")];}}if(this.options.useTabKeyOnly==false){var elm=tab.tabType=="image"?tab.render.getElementsByTagName("div")[0]:tab.render.getElementsByTagName("a")[0];if(i!=idx){(elm.nodeName.toLowerCase()=="a"&&elm.innerHTML=="")?elm.parentNode.setAttribute("tabIndex","-1"):elm.setAttribute("tabIndex","-1");}else{(elm.nodeName.toLowerCase()=="a"&&elm.innerHTML=="")?elm.parentNode.setAttribute("tabIndex","0"):elm.setAttribute("tabIndex","0");}}else{}}var tab=this.tabArr[idx];var _7a=this.contentsArr[idx];this.addClass(tab.render,tab.activeTabClass);if(tab.defaultClass){this.removeClass(tab.render,tab.defaultClass);}if(tab.selectedClass){this.addClass(tab.render,tab.selectedClass);}if(tab.tabType=="image"){var img=tab.render.getElementsByTagName("div")[0];img.style[$W._H.camelize("background-image")]=tab.selectedImage||img.style[$W._H.camelize("background-image")];}_7a.render.style.display="block";_7a.render.style.visibility="visible";_7a.render.setAttribute("aria-hidden","false");this.addClass(_7a.render," ");var _7b=this.getChild(tab.contentsID+"_body");var _7c=this.uuid;var _7d=tab.tabID;var _7e=idx;var _7f=tab.userTabID;if(_7a.alwaysDraw==false&&_7b.reuseFrame&&!_7b.loaded){_7b.loaded=true;_7b.setSrc(_7a.src,_7a.forceReload);_7b.bind("onload",function(){$W._c.fireEvent($W.idCache[_7c],"ondrawcomplete",_7d,_7e,_7f);});}if(_7a.alwaysDraw==false&&!_7b.reuseFrame){if(!_7b.render){if(this.options.useTabKeyOnly){var _80=document.getElementById(this.bridgeIdArr[idx]);_7a.render.innerHTML=_80.outerHTML+_7b.toHTML();}else{_7a.render.innerHTML=_7b.toHTML();if(this.options.useMoveNextTabFocus==true){if(idx<this.tabArr.length-1){var _81=false;for(i=0;i<_7a.render.firstChild.childNodes.length;i++){if(_7a.render.firstChild.childNodes[i].id=="dummyDivForNextTabFocus"){_81=true;break;}}if(_81==false){_7a.render.firstChild.innerHTML+="<div id='dummyDivForNextTabFocus' tabIndex=0></div>";}}}}_7b.activate();_7b.onComplete();if(_7a.frameMode=="wframe"){_7b.bind("onload",function(){$W._c.fireEvent($W.idCache[_7c],"ondrawcomplete",_7d,_7e,_7f);});_7b.setSrc(_7a.src,_7a.forceReload);}else{if(_7a.frameMode!=="iframe"){$W._c.fireEvent($W.idCache[_7c],"ondrawcomplete",_7d,_7e,_7f);}}}else{_7b.refreshAdaptive();}}else{if(_7a.alwaysDraw==true){if(!this.options.useTabKeyOnly&&this.options.useMoveNextTabFocus==true){if(idx<this.tabArr.length-1){var _81=false;for(i=0;i<_7a.render.firstChild.childNodes.length;i++){if(_7a.render.firstChild.childNodes[i].id=="dummyDivForNextTabFocus"){_81=true;break;}}if(_81==false){_7a.render.firstChild.innerHTML+="<div id='dummyDivForNextTabFocus' tabIndex=0></div>";}}}_7b.refreshAdaptive();}}if(_7a.frameMode=="iframe"&&"src" in _7a&&_7a.src!=""){var _82=_7b.render.getAttribute("src");if(_82=="about:blank"||$W._r.isSSLBlankPage(_82)){_7b.bind("onload",function(){$W._c.fireEvent($W.idCache[_7c],"ondrawcomplete",_7d,_7e,_7f);});_7b.setSrc(_7a.src,_7a.forceReload);}}var _83=this.selectedIndex;this.selectedIndex=idx;this.focusedIndex=idx;if(_83!=idx){$W._c.fireEvent(this,"onchange",tab.tabID,idx,tab.userTabID);}if(this.options.useTabKeyOnly){var _80=document.getElementById(this.bridgeIdArr[idx]);if(_80&&this.activeFirstTime&&this.options.focusOnStart){_80.focus();}}if(this.activeFirstTime!=true){this.activeFirstTime=true;}if(this.options.tabScroll){if(this.visibleTabIndex>this.selectedIndex){this.scrollTab(this.selectedIndex);}else{var _84=this.getVisibleTab();if(!_84[this.selectedIndex]){this.scrollTab(this.selectedIndex,"right");}}}return true;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._v.prototype.activateTab=function(idx){["WebSquare.uiplugin.tabControl.activateTab"];try{idx=parseInt(idx,10);if(idx<0||idx>=this.tabArr.length){return false;}if(this.tabArr[idx].disabled){return false;}var tab=this.tabArr[idx];var _87=this.contentsArr[idx];var _88=this.getChild(tab.contentsID+"_body");if(_87.alwaysDraw==false&&_88.reuseFrame&&!_88.loaded){_88.loaded=true;_88.setSrc(_87.src,_87.forceReload);}if(_87.alwaysDraw==false&&!_88.reuseFrame){if(!_88.render){if(this.options.useTabKeyOnly){var _89=document.getElementById(this.bridgeIdArr[idx]);_87.render.innerHTML=_89.outerHTML+_88.toHTML();}else{_87.render.innerHTML=_88.toHTML();}_88.activate();_88.onComplete();if(_87.frameMode=="wframe"){_88.setSrc(_87.src,_87.forceReload);}}}return true;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._v.prototype.scrollTab=function(idx,_8b){["WebSquare.uiplugin.tabControl.scrollTab"];try{if(!this.options.tabScroll||idx>=this.tabArr.length||idx<0){return;}_8b=(typeof _8b=="undefined")?"left":_8b;idx=parseInt(idx,10);if(_8b=="right"){var _8c=document.getElementById(this.id+"_mask");var _8d=$W._H.getSize(_8c,"innerWidth");var _8e=$W._H.getSize(this.tabArr[idx].render,"outerMarginWidth");do{var _8f=idx-1;if(_8f<0){break;}_8e+=$W._H.getSize(this.tabArr[_8f].render,"outerMarginWidth");if(_8e>_8d){break;}}while(idx-->0);}var _90=document.getElementById(this.id+"_scroll");var _91=0;for(var i=0;i<idx;i++){_91-=$W._H.getSize(this.tabArr[i].render,"outerMarginWidth");}$W._H.setStyle(_90,"left",_91+"px");this.visibleTabIndex=idx;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._v.prototype.getVisibleTab=function(){["WebSquare.uiplugin.tabControl.getVisibleTab"];try{var _93={};if(this.options.tabScroll){var _94=document.getElementById(this.id+"_mask");var _95=$W._H.getSize(_94,"innerWidth");var _96=0;for(var i=this.visibleTabIndex;i<this.tabArr.length;i++){_96+=$W._H.getSize(this.tabArr[i].render,"outerMarginWidth");if(_96<=_95){_93[i]=true;}}}return _93;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._v.prototype.setFocusedTab=function(idx){["WebSquare.uiplugin.tabControl.setFocusedTab"];try{idx=parseInt(idx,10);if(idx<0||idx>=this.tabArr.length){return false;}var tab=this.tabArr[idx];if(tab.disabled){return false;}tab.render=document.getElementById(tab.tabID);var elm=tab.tabType=="image"?tab.render.getElementsByTagName("div")[0]:tab.render.getElementsByTagName("a")[0];(elm.nodeName.toLowerCase()=="a"&&elm.innerHTML=="")?elm.parentNode.focus():elm.focus();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._v.prototype.checkScrollBtnVisibility=function(){["WebSquare.uiplugin.tabControl.checkScrollBtnVisibility"];try{if(this.options.tabScroll){var _9b=document.getElementById(this.id+"_control");var _9c=document.getElementById(this.id+"_mask");var _9d=document.getElementById(this.id+"_btn_scrollLeft");var _9e=document.getElementById(this.id+"_btn_scrollRight");var _9f=document.getElementById(this.id+"_btn_submenu");var _a0=document.getElementById(this.id+"_scroll");var _a1=$W._H.getSize(_9b,"innerWidth");var _a2=0;for(var i=0;i<this.tabArr.length;i++){_a2+=$W._H.getSize(this.tabArr[i].render,"outerMarginWidth");if(_a2>_a1){if(!this.hasClass(_9c,"mask")){this.addClass(_9c,"mask");_9d.style.display="";_9e.style.display="";_9f.style.display="";_9d.style.visibility="";_9e.style.visibility="";_9f.style.visibility="";}return;}}if(this.hasClass(_9c,"mask")){$W._H.setStyle(_a0,"left","0px");this.removeClass(_9c,"mask");_9d.style.display="none";_9e.style.display="none";_9f.style.display="none";_9d.style.visibility="hidden";_9e.style.visibility="hidden";_9f.style.visibility="hidden";this.visibleTabIndex=0;}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._v.prototype.handleTabClickEvent=function(e){["WebSquare.uiplugin.tabControl.handleTabClickEvent"];try{var it=this.event.getTargetIterator(e,this.render);var elm;var _a7;var _a8="none";while(it.next()){var _a9=it.getElement();var _aa="w2tabcontrol_tab_close";var _ab="w2tabcontrol_tab_close2";var _ac=$W._G.getBoolean(this.options.useATagBtn);if(_ac){_aa="w2tabcontrol_tab_close_atag";_ab="w2tabcontrol_tab_close2_atag";}if(this.__hasClass(_a9,_aa)||this.__hasClass(_a9,_ab)){_a8="ontabclose";if(_ac){elm=_a9.parentNode.parentNode.getElementsByTagName("a").length>1?_a9.parentNode.parentNode.getElementsByTagName("a")[0]:_a9.parentNode.parentNode.getElementsByTagName("div")[0];}else{elm=_a9.parentNode.parentNode.getElementsByTagName("a").length>0?_a9.parentNode.parentNode.getElementsByTagName("a")[0]:_a9.parentNode.parentNode.getElementsByTagName("div")[0];}_a7=elm.getAttribute("aria-controls");break;}else{if(it.match("w2tabcontrol_li")){_a8="ontabclick";if(_ac){elm=_a9.getElementsByTagName("a").length>1?_a9.getElementsByTagName("a")[0]:_a9.getElementsByTagName("div")[0];}else{elm=_a9.getElementsByTagName("a").length>0?_a9.getElementsByTagName("a")[0]:_a9.getElementsByTagName("div")[0];}_a7=elm.getAttribute("aria-controls");break;}else{if(it.match("btn_scrollLeft")){$W._c.stopPropagation(e);this.scrollTab(this.visibleTabIndex-1);break;}else{if(it.match("btn_scrollRight")){$W._c.stopPropagation(e);var _ad=document.getElementById(this.id+"_mask");var _ae=$W._H.getSize(_ad,"outerMarginWidth");var _af=0;for(var i=this.visibleTabIndex;i<this.tabArr.length;i++){_af+=$W._H.getSize(this.tabArr[i].render,"outerMarginWidth");}if(_af>_ae){this.scrollTab(this.visibleTabIndex+1);break;}}else{if(it.match("btn_submenu")){$W._c.stopPropagation(e);this.toggle();break;}else{if(this.hasClass("w2tab_adaptive_layout")&&this.__hasClass(_a9,"w2tabcontrol_contents_bridge_helper")){_a8="ontabclick";_a7=_a9.parentNode.parentNode.id;break;}}}}}}}it=null;if(_a8=="none"){return;}var _b1=this.senseReaderMode&&this.lastEventType==="focusin";if(!_b1&&!this.hasClass("w2tab_adaptive_layout")){$W._c.stopEvent(e);}var idx=-1,tab;for(var i=0;i<this.tabArr.length;i++){tab=this.tabArr[i];if(tab.contentsID==_a7){idx=i;break;}}if(_a8=="ontabclick"){if(!(this.tabArr[idx].disabled==true&&this.options.preventTabClickEvent==true)){if((idx>=0&&this.selectedIndex!=idx)||(this.options.useTabKeyOnly==true&&idx>=0)){this.setSelectedTabIndex(idx);}$W._c.fireEvent(this,_a8,tab.tabID,idx);}}else{this.deleteTab(idx);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._v.prototype.handleMouseoverEvent=function(e){["WebSquare.uiplugin.tabControl.handleMouseoverEvent"];try{var it=this.event.getTargetIterator(e,this.render);var img;while(it.next()){if(it.match("w2tabcontrol_li")){var elm=it.getElement();for(var i=0;i<this.tabArr.length;i++){if(this.tabArr[i].render!=elm){this.removeClass(this.tabArr[i].render,this.options.overTabClass);if(this.tabArr[i].hoverClass){this.removeClass(this.tabArr[i].render,this.tabArr[i].hoverClass);}this.tabArr[i].closeBtn.style.display="none";if(this.tabArr[i].tabType=="image"){img=this.tabArr[i].render.getElementsByTagName("div")[0];img.style[$W._H.camelize("background-image")]=(this.selectedIndex==i?this.tabArr[i].selectedImage:this.tabArr[i].defaultImage)||img.style[$W._H.camelize("background-image")];}}else{if(this.tabArr[i].disabled){continue;}this.addClass(elm,this.options.overTabClass);if(this.tabArr[i].hoverClass){this.addClass(this.tabArr[i].render,this.tabArr[i].hoverClass);}if(this.tabArr[i].closable){this.tabArr[i].closeBtn.style.display="block";}if(this.tabArr[i].tabType=="image"){img=this.tabArr[i].render.getElementsByTagName("div")[0];img.style[$W._H.camelize("background-image")]=this.tabArr[i].hoverImage||this.tabArr[i].selectedImage||img.style[$W._H.camelize("background-image")];}}}if($W._G.isMobile()){this.handleTabClickEvent(e);}return;}else{if(it.match("btn_scrollLeft")){this.addClass(it.getElement(),"btn_scrollLeft_over");}else{if(it.match("btn_scrollRight")){this.addClass(it.getElement(),"btn_scrollRight_over");}else{if(it.match("btn_submenu")){this.addClass(it.getElement(),"btn_submenu_over");}}}}}for(var i=0;i<this.tabArr.length;i++){this.removeClass(this.tabArr[i].render,this.options.overTabClass);if(this.tabArr[i].hoverClass){this.removeClass(this.tabArr[i].render,this.tabArr[i].hoverClass);}this.tabArr[i].closeBtn.style.display="none";if(this.tabArr[i].tabType=="image"){img=this.tabArr[i].render.getElementsByTagName("div")[0];img.style[$W._H.camelize("background-image")]=(this.selectedIndex==i?this.tabArr[i].selectedImage:this.tabArr[i].defaultImage)||img.style[$W._H.camelize("background-image")];}}it=null;if($W._G.isMobile()){this.handleTabClickEvent(e);}else{$W._c.stopEvent(e);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._v.prototype.handleMouseoutEvent=function(e){["WebSquare.uiplugin.tabControl.handleMouseoutEvent"];try{$W._c.stopEvent(e);var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match("w2tabcontrol_li")){var _ba=it.getElement();var _bb=-1;for(var i=0;i<this.tabArr.length;i++){if(this.tabArr[i].render===_ba){_bb=i;break;}}if(this.tabArr[_bb]==undefined){break;}this.removeClass(this.tabArr[_bb].render,this.options.overTabClass);if(this.tabArr[_bb].hoverClass){this.removeClass(this.tabArr[_bb].render,this.tabArr[_bb].hoverClass);}this.tabArr[_bb].closeBtn.style.display="none";if(this.tabArr[_bb].tabType=="image"){var img=this.tabArr[_bb].render.getElementsByTagName("div")[0];img.style[$W._H.camelize("background-image")]=(this.selectedIndex==_bb?this.tabArr[_bb].selectedImage:this.tabArr[_bb].defaultImage)||img.style[$W._H.camelize("background-image")];}break;}else{if(it.match("btn_scrollLeft")){this.removeClass(it.getElement(),"btn_scrollLeft_over");break;}else{if(it.match("btn_scrollRight")){this.removeClass(it.getElement(),"btn_scrollRight_over");break;}else{if(it.match("btn_submenu")){this.removeClass(it.getElement(),"btn_submenu_over");break;}}}}}it=null;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._v.prototype.handleResizeEvent=function(e){["WebSquare.uiplugin.tabControl.handleResizeEvent"];try{if(this.options.tabScroll){var _bf=document.getElementById(this.id+"_control");var _c0=document.getElementById(this.id+"_mask");var _c1=document.getElementById(this.id+"_btn_scrollLeft");var _c2=document.getElementById(this.id+"_btn_scrollRight");var _c3=document.getElementById(this.id+"_btn_submenu");var _c4=$W._H.getSize(_bf,"innerWidth")-$W._H.getSize(_c1,"outerMarginWidth")-$W._H.getSize(_c2,"outerMarginWidth")-$W._H.getSize(_c3,"outerMarginWidth");var _c5=parseInt($W._H.getStyleProperty(_c0,"padding-left"))+parseInt($W._H.getStyleProperty(_c0,"margin-left"))+parseInt($W._H.getStyleProperty(_c0,"padding-right"))+parseInt($W._H.getStyleProperty(_c0,"margin-right"));$W._H.setStyle(_c0,"width",(_c4-_c5)+"px");}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._v.prototype.handleKeyEvent=function(e){["WebSquare.uiplugin.tabControl.handleKeyEvent"];try{var _c7=(e.charCode)?e.charCode:e.keyCode;var _c8=this.getTabHostAndContainer();var it=this.event.getTargetIterator(e,this.render);var elm;if(!(_c7==13||_c7==37||_c7==38||_c7==39||_c7==40||_c7==46)){return;}if(_c7==46&&e.altKey){this.deleteTab(this.getSelectedTabIndex());return;}while(it.next()){elm=it.getElement();if(elm==_c8.container){if((_c7==37||_c7==38)&&e.ctrlKey){var tab=this.tabArr[this.selectedIndex];elm=tab.tabType=="image"?tab.render.getElementsByTagName("div")[0]:tab.render.getElementsByTagName("a")[0];if(elm.nodeType==1){elm.focus();$W._c.stopEvent(e);return;}}return;}}switch(_c7){case 13:this.setActiveTab(this.focusedIndex>=0?this.focusedIndex:0);return;case 37:case 38:this.focusedIndex=this.focusedIndex>0?this.focusedIndex-1:0;var elm=this.tabArr[this.focusedIndex].tabType=="image"?this.tabArr[this.focusedIndex].render.getElementsByTagName("div")[0]:this.tabArr[this.focusedIndex].render.getElementsByTagName("a")[0];(elm.nodeName.toLowerCase()=="a"&&elm.innerHTML=="")?elm.parentNode.focus():elm.focus();this.setActiveTab(this.focusedIndex>=0?this.focusedIndex:0);break;case 39:case 40:this.focusedIndex=this.focusedIndex+1<this.tabArr.length?this.focusedIndex+1:this.focusedIndex;var elm=this.tabArr[this.focusedIndex].tabType=="image"?this.tabArr[this.focusedIndex].render.getElementsByTagName("div")[0]:this.tabArr[this.focusedIndex].render.getElementsByTagName("a")[0];(elm.nodeName.toLowerCase()=="a"&&elm.innerHTML=="")?elm.parentNode.focus():elm.focus();this.setActiveTab(this.focusedIndex>=0?this.focusedIndex:0);break;default:break;}it=null;$W._c.stopEvent(e);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._v.prototype.handleFocusInEvent=function(e){["WebSquare.uiplugin.tabControl.handleKeyEvent"];try{var _cd=this.getTabHostAndContainer();var it=this.event.getTargetIterator(e,this.render);this.lastEventType=e.type;while(it.next()){if(it.match(null,"dummyDivForNextTabFocus")){var tab=this.tabArr[this.focusedIndex+1];var elm=tab.tabType=="image"?tab.render.getElementsByTagName("div")[0]:tab.render.getElementsByTagName("a")[0];if(elm.nodeType==1){this.focusedIndex++;elm.focus();this.setActiveTab(this.focusedIndex>=0?this.focusedIndex:0);it=null;$W._c.stopEvent(e);return;}}}it=null;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._v.prototype.handleTabMove=function(e){["WebSquare.uiplugin.tabControl.handleTabMove"];try{if(!this.options.tabMove){return;}$W._c.stopEvent(e);var it=this.event.getTargetIterator(e,this.render);var _d3=-1;var _d4=this.uuid;this._zoomLevel=($W.BootLoader.fullViewRatio!=null)?$W.BootLoader.fullViewRatio:1;while(it.next()){if(it.match("w2tabcontrol_li")){var _d5=it.getElement();if(!_d5){return;}for(var i=0;i<this.tabArr.length;i++){if(this.tabArr[i].render===_d5){_d3=i;break;}}if(isNaN(_d3)||_d3<0){return;}$W._K.gDragManager.activate(e,_d5,{id:this.id+"_ghostLayer_tabMove",className:"w2tabcontrol_drag_tabMove",dragoverClass:"w2tabcontrol_li",dropClass:"w2tabcontrol_li",delay:15,makeGhostLayer:function(_d7){_d7.render.className="";_d7.render.style.zIndex=-1000;_d7.render.style.width="0px";_d7.render.style.height="0px";return _d7;},handleStart:function(e){var _d9=_d3;var _da=$W.idCache[_d4];var _db=$(_da.tabArr[_d9].render);this.isVertical=(_da.options.tabPosition==="left"||_da.options.tabPosition==="right");if(this.isVertical){this.tabMove_top=_db.css("top");}else{this.tabMove_left=_db.css("left");}this.dragOverTab={};this.dropIndex=-1;this.tabMove_zIndex=_db.css("zIndex");var _dc=Number(this.tabMove_zIndex);this.tabMove_zIndex_Array=[];if(isNaN(_dc)||_dc<=0){for(var i=0;i<_da.tabArr.length;i++){var _de=$(_da.tabArr[i].render);this.tabMove_zIndex_Array.push(_de.css("zIndex"));if(i===_d9){_de.css("zIndex",0);}else{_de.css("zIndex",1);}}_dc=2;}else{_db.css("zIndex",_dc-1);}},onDrop:function(_df,_e0,x,y,dx,dy,e){var _e6=_d3;var _e7=$W.idCache[_d4];var _e8=$(_e7.tabArr[_e6].render);if(this.isVertical){_e8.css("top",this.tabMove_top);}else{_e8.css("left",this.tabMove_left);}if(this.tabMove_zIndex_Array.length>0){for(var i=0;i<_e7.tabArr.length;i++){$(_e7.tabArr[i].render).css("zIndex",this.tabMove_zIndex_Array[i]);}}else{_e8.css("zIndex",this.tabMove_zIndex);}for(var _ea in this.dragOverTab){if(this.isVertical){$(_e7.tabArr[_ea].render).css("top",this.dragOverTab[_ea]);}else{$(_e7.tabArr[_ea].render).css("left",this.dragOverTab[_ea]);}}_e7.moveTab(_e6,this.dropIndex);this.tabMove_left="";this.tabMove_zIndex="";this.dragOverTab={};this.tabMove_zIndex_Array=[];},onDragover:function(_eb,_ec,x,y,dx,dy,e){var _f2=_d3;var _f3=-1;var _f4=$W.idCache[_d4];for(var i=0;i<_f4.tabArr.length;i++){if(_f4.tabArr[i].render===_ec){_f3=i;break;}}var _f6=$(_f4.tabArr[_f2].render);if(this.isVertical){_f6.css("top",dy/_f4._zoomLevel);}else{_f6.css("left",dx/_f4._zoomLevel);}if(_f4.tabArr[_f3]!=undefined&&_f3!==_f2){var _f7=$(_f4.tabArr[_f3].render);if(this.dragOverTab[_f3]==undefined){if(this.isVertical){this.dragOverTab[_f3]=_f7.css("top");if(_f2>_f3){_f7.css("top",_f6.height());}else{_f7.css("top",_f6.height()*-1);}}else{this.dragOverTab[_f3]=_f7.css("left");if(_f2>_f3){_f7.css("left",_f6.width());}else{_f7.css("left",_f6.width()*-1);}}this.dropIndex=_f3;}else{if(this.isVertical){_f7.css("top",this.dragOverTab[_f3]);}else{_f7.css("left",this.dragOverTab[_f3]);}this.dragOverTab[_f3]=null;delete this.dragOverTab[_f3];if(_f2>_f3){this.dropIndex=_f3+1;}else{this.dropIndex=_f3-1;}}}}});it.stop();}}it=null;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._v.prototype.getWindow=function(idx){["WebSquare.uiplugin.tabConttrol.getWindow"];try{var _f9;var _fa=(typeof idx!="undefined")?idx:this.selectedIndex;if(_fa<0){return _f9;}for(var i=0;i<this.contentsArr.length;i++){var _fc=this.getChild(this.contentsArr[i].contentsID+"_body");if(i==_fa){if(_fc.getPluginName()=="iframe"){_f9=_fc.getWindow();}else{_f9=window;}break;}}return _f9;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._v.prototype.setContentsHeight=function(_fd){["WebSquare.uiplugin.tabControl.setContentsHeight"];try{var _fe=this.getTabHostAndContainer();var _ff=_fe.container;var _100=_fe.tabhost;_fd=parseInt(_fd,10);_ff.style.height=(_fd)+"px";var _101=(parseInt($W._G.getStyleProperty(_100,"height"),10)||0)+(parseInt($W._G.getStyleProperty(_100,"border-top-width"),10)||0)+(parseInt($W._G.getStyleProperty(_100,"border-bottom-width"),10)||0)+(parseInt($W._G.getStyleProperty(_100,"margin-top"),10)||0)+(parseInt($W._G.getStyleProperty(_100,"margin-bottom"),10)||0);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._v.prototype.getSelectedTabID=function(){["WebSquare.uiplugin.tabControl.getSelectedTabID"];try{return this.selectedIndex<this.tabArr.length&&this.selectedIndex>=0?this.tabArr[this.selectedIndex].userTabID:null;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._v.prototype.getSelectedTabIndex=function(){["WebSquare.uiplugin.tabControl.getSelectedTabIndex"];try{return this.selectedIndex<this.tabArr.length&&this.selectedIndex>=0?this.selectedIndex:-1;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._v.prototype.getTabIndex=function(id){["WebSquare.uiplugin.tabControl.getTabIndex"];var _103=null;try{for(var i=0;i<this.tabArr.length;i++){if(id==this.tabArr[i].userTabID){_103=i;break;}}return _103;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._v.prototype.getTabID=function(_105){["WebSquare.uiplugin.tabControl.getTabID"];var _106="";try{for(var i=0;i<this.tabArr.length;i++){if(_105==i){_106=this.tabArr[i].userTabID;break;}}return _106;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._v.prototype.setSelectedTabIndex=function(idx){["WebSquare.uiplugin.tabControl.setSelectedTabIndex"];try{var _109=0;if(typeof idx=="string"){var _10a=true;for(var i=0;i<this.tabArr.length;i++){if(this.tabArr[i].userTabID==idx){_109=i;_10a=false;break;}}if(_10a){_109=idx;}}else{_109=idx;}var ret=$W._c.fireEvent(this,"onbeforeselect",this.getSelectedTabIndex(),_109);if(ret==false){return;}this.setActiveTab(_109);$W.getBody().resizeChecker.checkResize();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._v.prototype.getTabCount=function(){["WebSquare.uiplugin.tabControl.getTabCount"];try{return this.tabArr.length;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._v.prototype.deleteTab=function(idx){["WebSquare.uiplugin.tabControl.deleteTab"];try{idx=parseInt(idx,10);if(idx<0||idx>=this.tabArr.length){return;}var tab=this.tabArr[idx];var _10f=tab.tabID;if($W._c.fireEvent(this,"onbeforetabclose",_10f,idx)===false){return;}if(this.selectedIndex==idx){var i=idx+1;while(i<this.tabArr.length&&this.setActiveTab(i)==false){i++;}if(i>=this.tabArr.length){i=idx-1;while(i>=0&&this.setActiveTab(i)==false){i--;}}if(this.selectedIndex>idx){this.selectedIndex--;}}var _111=this.contentsArr[idx];var comp=this.getChild(this.tabArr[idx].contentsID+"_body");var _113=(_111.frameMode=="iframe"&&comp.render&&this.storedFrame.length<this.options.spaIframeMaxSize);if(comp){if(_113){comp.loaded=false;this.removeControl(comp);this.storedFrame.push(comp.id);comp.setSrc($W._r.getBlankXML());}else{comp.remove();}}var _114=tab.render.parentNode;var _115=_111.render.parentNode;_114.removeChild(tab.render);if(_113){for(var i=0;i<_111.render.childNodes.length;i++){if(_111.render.childNodes[i]!=comp.render){_111.render.removeChild(_111.render.childNodes[i]);}}_111.render.style.display="none";_111.render.style.visibility="hidden";_111.render.setAttribute("aria-hidden","true");this.addClass(_111.render," ");}else{_115.removeChild(_111.render);}comp=null;for(var j in this.tabArr[idx]){this.tabArr[idx][j]=null;}for(var j in this.contentsArr[idx]){this.contentsArr[idx][j]=null;}tab=null;_111=null;this.tabArr.splice(idx,1);this.contentsArr.splice(idx,1);this.bridgeIdArr.splice(idx,1);this.backbridgeIdArr.splice(idx,1);var n,n2;for(var i=idx;i<this.tabArr.length;i++){var tab=this.tabArr[i];n=i+2;n2=i+1;this.__removeClass(tab.render,"w2tabcontrol_li_"+n);this.__addClass(tab.render,"w2tabcontrol_li_"+n2);}if(idx<this.selectedIndex){this.setActiveTab(this.selectedIndex-1);}else{if(idx==this.selectedIndex){if(this.tabArr[this.selectedIndex]){this.setActiveTab(this.selectedIndex);}else{this.setActiveTab(this.selectedIndex-1);}}else{if(idx>this.selectedIndex){this.setActiveTab(this.selectedIndex);}}}if(this.options.tabScrollAuto){this.scrollTab(Math.max(this.visibleTabIndex-1,0));}if(this.options.tabScroll&&this.options.adjustTabScroll){this.checkScrollBtnVisibility();}$W._c.fireEvent(this,"ontabclose",_10f,idx);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._v.prototype.deleteAllTabs=function(){var _118=this.getTabCount();for(var i=_118-1;i>=0;i--){this.deleteTab(i);}};$W._a._v.prototype.getFrame=function(idx){idx=parseInt(idx,10);if(idx<0||idx>=this.tabArr.length){return;}var tab=this.tabArr[idx];var _11c=this.contentsArr[idx];var comp=this.getChild(_11c.contentsID+"_body");if(comp!=null){return comp;}};$W._a._v.prototype.isLoaded=function(idx){idx=parseInt(idx,10);if(idx<0||idx>=this.tabArr.length){return false;}var _11f=this.contentsArr[idx];var comp=this.getChild(_11f.contentsID+"_body");return comp.completed;};$W._a._v.prototype.addTab=function(id,_122,_123){["WebSquare.uiplugin.tabControl.addTab"];try{var _124=id||"";if(typeof _122=="undefined"){return;}var _125=false;for(var i=0;i<this.tabArr.length;i++){if(_124==""||this.tabArr[i].userTabID==_124){_125=true;break;}}var _127=_122.openAction;if(_125){if(!_127){if(this.options.useConfirmMessage){var _128=this.options.confirmMessage;if(_128.indexOf("#title")>-1){_128=_128.replace("#title",_122.label);}var _129=true;_129=confirm(_128);if(_129){_127=this.options.confirmTrueAction;}else{_127=this.options.confirmFalseAction;}}}if(_127==="exist"){var idx=this.getTabIndex(_124);var _12b=this.contentsArr[idx];var comp=this.getChild(this.tabArr[idx].contentsID+"_body");if(comp.activeStatus!="active"){_12b.src=_123.src||"about:blank";}else{comp.setSrc(_123.src||"about:blank",_12b.forceReload);}this.setSelectedTabIndex(idx);return _124;}else{if(_127==="new"){_124=_124+"_"+this.increaseKey++;}else{if(_127==="select"){this.setSelectedTabIndex(this.getTabIndex(_124));return _124;}else{if(_127==="last"){var idx=this.getTabIndex(_124);$("#"+this.id+"_tabhost").children().last().after($("#"+this.id+"_tab_"+_124));this.setSelectedTabIndex(idx);return _124;}else{return _124;}}}}}if(this.options.windowMaxNum!=-1&&this.getTabCount()>=this.options.windowMaxNum){alert($W._m.getMessage("TabControl_maxNum_warning",this.options.windowMaxNum));return;}var _12d=this.id+"_tab_"+_124;var tab={tabID:_12d,userTabID:_124,contentsID:"",tabLabel:_122.label||"",disabled:_122.disabled||false,render:null,tabWidth:parseInt(_122.tabWidth,10)>0?parseInt(_122.tabWidth,10):this.options.tabWidth,tabHeight:parseInt(_122.tabHeight,10)>0?parseInt(_122.tabHeight,10):this.options.tabHeight,tabClass:_122["class"]||this.options.tabClass,tabStyle:_122.style||this.options.tabStyle,activeTabClass:_122.activeTabClass||this.options.activeTabClass,disabledTabClass:_122.disabledTabClass||this.options.disabledTabClass,selectedImage:_122.selectedImage?"url("+_122.selectedImage+")":"",defaultImage:_122.defaultImage?"url("+_122.defaultImage+")":"",hoverImage:_122.hoverImage?"url("+_122.hoverImage+")":"",tabType:_122.tabType=="image"?"image":"text",selectedClass:_122.selectedClass||"",defaultClass:_122.defaultClass||"",hoverClass:_122.hoverClass||"",closable:(_122.closable!=null)?$W._G.getBoolean(_122.closable):this.options.closable,closeBtn:null,label:_122.label||"",value:_12d,title:_122.title||_122.label,useATagBtn:(_122.useATagBtn!=null)?$W._G.getBoolean(_122.useATagBtn):this.options.useATagBtn};var _12f=$W.extendKeepingType({},this.defaultTabContentOptions);var _130=$W.extendKeepingType(_12f,_123);var _131=this.id+"_contents_"+_124;tab.contentsID=_131;var _12b=$W.extend({contentsID:_131,contentsClass:_123.contentsClass||this.options.contentsClass,render:null,xml:null,name:_130.name||"",scope:_130.scope},_130||{});if(_12b.src){_12b.frameMode=(_130.wframe)?"wframe":"iframe";}if(_122.addTabIndex>=0){this.tabArr.splice(_122.addTabIndex,0,tab);this.contentsArr.splice(_122.addTabIndex,0,_12b);}else{this.tabArr.push(tab);this.contentsArr.push(_12b);}var _132=this.getTabHostAndContainer();var _133=_132.container;var _134=_132.tabhost;if(_122.addTabIndex<=this.selectedIndex){this.selectedIndex++;}var comp;if(this.storedFrame.length>0){var _135=_131+"_body";var _136=false;var _137;for(var i=0;i<this.storedFrame.length;i++){if(this.storedFrame[i]==_135){_137=this.storedFrame.splice(i,1);_136=true;break;}}if(!_136){_137=this.storedFrame.shift();}comp=$W._G.getComponentById(_137);comp.reuseFrame=true;if(!_136){$W._N.setId(_135,comp);}if(_130.name){comp.setAttribute("name",_130.name);}}else{comp=this.initContents(_12b);}this.addControl(comp);var func="make"+tab.tabType.capitalize()+"TabHTML";if(_122.addTabIndex>=0){var _139=document.createElement("div");_139.innerHTML=this[func](tab,this.tabArr.length,true);_134.insertBefore(_139.childNodes[0],_134.childNodes[_122.addTabIndex]||null);}else{_134.innerHTML+=this[func](tab,this.tabArr.length,true);}var div=document.createElement("div");div.innerHTML=this.makeContentsHTML(_12b,tab.tabLabel,(comp&&comp.reuseFrame));var _13b=div.removeChild(div.firstChild);if(comp&&comp.reuseFrame&&comp.render&&comp.render.parentNode){var _13c=comp.render.parentNode;if(this.options.useTabKeyOnly){var _13d=_13c.getAttribute("id")+"_bridge";var _13e=document.getElementById("bridgeId");if(_13e!=null){_13c.removeChild(_13e);}_13c.insertBefore(_13b.firstChild,comp.render);}if(this.options.useBackbridge){var _13d=_13c.getAttribute("id")+"_backbridge";var _13e=document.getElementById("bridgeId");if(_13e!=null){_13c.removeChild(_13e);}_13c.appendChild(_13b.lastChild,comp.render);}_13c.setAttribute("id",_12b.contentsID);_13c.setAttribute("class",_12b.contentsClass);_13c.setAttribute("aria-labeledby",tab.tabLabel);}else{_133.appendChild(_13b);}div=null;_13b=null;if(_12b.alwaysDraw){if(!comp.reuseFrame){comp.activate();comp.onComplete();}comp.setSrc(_12b.src,_12b.forceReload);}for(var i=0;i<this.tabArr.length;i++){tab=this.tabArr[i];tab.render=document.getElementById(tab.tabID);tab.closeBtn=document.getElementById(tab.tabID+"_close");tab.contentsRender=document.getElementById(tab.contentsID);this.contentsArr[i].render=tab.contentsRender;if(_122.addTabIndex>=0){tab.render.setAttribute("index",i+1);}}tab=this.tabArr[i-1];tab.contentsRender.style.display="none";if(this.tabArr.length==1){this.setActiveTab(0);}if(this.options.tabScroll&&this.options.adjustTabScroll){this.checkScrollBtnVisibility();}return _124;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._v.prototype.disableTab=function(idx){["WebSquare.uiplugin.tabControl.disableTab"];try{idx=parseInt(idx,10);if(idx<0||idx>=this.tabArr.length){return;}var tab=this.tabArr[idx];if(tab.disabled==true){return;}var _141=this.contentsArr[idx];this.removeClass(tab.render,tab.activeTabClass);this.addClass(tab.render,tab.disabledTabClass);if($W._G.isIE(8)){tab.render.style.zIndex=0;}var _142=tab.render.getElementsByTagName("a")[0];if(_142!=null){_142.removeAttribute("href");_142=null;}tab.disabled=true;var comp=this.getChild(_141.contentsID+"_body");if(comp.activeStatus!="stop"&&(this.selectedIndex>=0&&idx==this.selectedIndex)){this.disabledComponents=[];this.disabledComponents=$W._G.setDisabled({"componentId":comp.id,"disabled":true}).skipComponents;}for(var i=0;i<this.disabledTabStack.length;i++){if(this.disabledTabStack[i].tabID===tab.tabID){this.disabledTabStack.splice(i,1);break;}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._v.prototype.enableTab=function(idx){["WebSquare.uiplugin.tabControl.enableTab"];try{idx=parseInt(idx,10);if(idx<0||idx>=this.tabArr.length){return;}var tab=this.tabArr[idx];if(tab.disabled==false){return;}var _147=this.contentsArr[idx];this.removeClass(tab.render,tab.disabledTabClass);var _148=this.selectedIndex>=0&&idx==this.selectedIndex;if(_148){this.addClass(tab.render,tab.activeTabClass);}tab.disabled=false;if($W._G.isIE(8)){tab.render.style.zIndex="";}var _149=tab.render.getElementsByTagName("a")[0];if(_149!=null){_149.setAttribute("href","#"+tab.contentsID+"_bridge");_149=null;}var comp=this.getChild(_147.contentsID+"_body");if(comp.activeStatus!="stop"&&_148){$W._G.setDisabled({"componentId":comp.id,"disabled":false,"excludeIdList":this.disabledComponents});this.disabledComponents=[];}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._v.prototype.hideTab=function(idx){["WebSquare.uiplugin.tabControl.hideTab"];try{idx=parseInt(idx,10);if(idx<0||idx>=this.tabArr.length){return;}var ret=$W._c.fireEvent(this,"onbeforehide",this.getSelectedTabIndex(),idx);if(ret==false){return;}if(idx==this.selectedIndex){var i=idx+1;while(i<this.tabArr.length&&this.setActiveTab(i)==false){i++;}if(i>=this.tabArr.length){i=idx-1;while(i>=0&&this.setActiveTab(i)==false){i--;}}if(idx==this.selectedIndex){this.selectedIndex=-1;}}var tab=this.tabArr[idx];var _14f=this.contentsArr[idx];if($W._G.isIE(8)){tab.render.style.zIndex=0;}tab.render.style.visibility="hidden";tab.render.style.display="none";tab.hidden=true;_14f.render.style.display="none";_14f.render.style.visibility="hidden";_14f.render.setAttribute("aria-hidden","true");}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._v.prototype.showTab=function(idx){["WebSquare.uiplugin.tabControl.showTab"];try{idx=parseInt(idx,10);if(idx<0||idx>=this.tabArr.length){return;}var ret=$W._c.fireEvent(this,"onbeforeshow",this.getSelectedTabIndex(),idx);if(ret==false){return;}var tab=this.tabArr[idx];var _153=this.contentsArr[idx];tab.render.style.visibility="visible";tab.render.style.display="";tab.hidden=false;if(this.selectedIndex==-1){this.setActiveTab(idx);}if($W._G.isIE(8)){tab.render.style.zIndex="";}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._v.prototype.getLabelText=function(idx){["WebSquare.uiplugin.tabControl.getLabelText"];try{idx=parseInt(idx,10);if(idx<0||idx>=this.tabArr.length){return null;}var tab=this.tabArr[idx];return tab.tabLabel;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._v.prototype.setLabelText=function(idx,_157){["WebSquare.uiplugin.tabControl.setLabelText"];try{idx=parseInt(idx,10);if(idx<0||idx>=this.tabArr.length){return;}if(this.options.tabScroll==true){this.tabArr[idx].label=_157;}var tab=this.tabArr[idx];var elm;for(var i=0;i<tab.render.childNodes.length;i++){elm=tab.render.childNodes[i];if(elm.nodeType==1&&elm.nodeName.toLowerCase()=="div"){for(var j=0;j<elm.childNodes.length;j++){var elm2=elm.childNodes[j];if(elm2.nodeType==1&&elm2.nodeName.toLowerCase()=="a"){tab.tabLabel=_157;elm2.innerHTML=_157;return;}else{if(elm2.nodeType==1&&elm2.nodeName.toLowerCase()=="div"){tab.tabLabel=_157;elm2.setAttribute("title",_157);return;}}}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._v.prototype.setDisabled=function(_15d,_15e){["WebSquare.uiplugin.tabControl.setDisabled"];try{var _15d=$W._G.getBoolean(_15d);var ret=$W._t.prototype.setDisabled.call(this,_15d);if(_15e){if(_15d){for(var i=0;i<this.tabArr.length;i++){if(!this.tabArr[i].disabled){this.disabledTabStack.push(this.tabArr[i].tabID);}this.disableTab(i);}}else{for(var i=0;i<this.disabledTabStack.length;i++){for(var j=0;j<this.tabArr.length;j++){if(this.tabArr[j].tabID===this.disabledTabStack[i]){this.enableTab(j);break;}}}this.disabledTabStack=[];}}else{for(var i=0;i<this.tabArr.length;i++){_15d?this.disableTab(i):this.enableTab(i);}this.disabledTabStack=[];}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._v.prototype.setSize=function(_162,_163){["WebSquare.uiplugin.tabControl.setSize"];try{$W._n.prototype.setSize.call(this,_162,_163);}catch(e){$W.exception.printStackTrace(e);}};$W._a._v.prototype.setSubLayer=function(){["WebSquare.uiplugin.tabControl.setSubLayer"];try{if(this.itemTable==null){requires("uiplugin/table/itemTable.js");this.itemTable=new $W._a.ab(this.id+"_itemTable",{row:this.options.visibleRowNum,col:1,submenuSize:"auto",style:"position:absolute;",defaultStyle:"",className:"w2table ",w2table:"w2table_tabControl",w2table_main:"w2table_tabControl_main",w2table_row:"w2table_tabControl_row",w2table_col:"w2table_tabControl_col",w2table_col_over:"w2table_tabControl_col_over",escape:true});this.itemTable.writeTo($W.getBody(),null,this.parentFrame);this.itemTable.activate();var _164=this;this.itemTable.addClickEventListener(function(_165){["WebSquare.uiplugin.tabControl.itemTable.addClickEventListener"];_164.setSelectedTabIndex(_165);_164.closeSubLayer();});this.itemTable.addKeyDownEventListener(function(e){["WebSquare.uiplugin.tabControl.itemTable.addKeyDownEventListener"];var _167=(e.charCode)?e.charCode:e.keyCode;if(_167==13||_167==32){_164.setSelectedTabIndex(this.getSelectedIndex());_164.focus();_164.closeSubLayer();}else{if(_167==27){_164.focus();_164.closeSubLayer();}}});this.setSelectOptions();this.setItemTable();}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._v.prototype.setSelectOptions=function(){["WebSquare.uiplugin.tabControl.setSelectOptions"];try{if(this.itemTable!=null){this.itemTable.setItemArr(this.tabArr);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._v.prototype.setItemTable=function(){["WebSquare.uiplugin.tabControl.setItemTable"];try{var _168=document.getElementById(this.id+"_btn_submenu");var _169=_168.offsetWidth;var _16a=_168.offsetHeight;var left=$W._H.getAbsoluteLeft(this.render)+this.render.offsetWidth;var top=$W._H.getAbsoluteTop(_168)+$W._H.getSize(_168,"outerMarginHeight");var _16d=0;for(var i=0;i<this.tabArr.length;i++){var _16f=$W._H.getSize(this.tabArr[i].render,"outerMarginWidth");if(_16f>_16d){_16d=_16f;}}if(this.itemTableTdMargin===null){var _170=document.getElementById(this.id+"_itemTable_0");if(_170){this.itemTableTdMargin=parseInt($W._H.getStyleProperty(_170,"margin-left"),10)||0+parseInt($W._H.getStyleProperty(_170,"padding-left"),10)||0+parseInt($W._H.getStyleProperty(_170,"padding-right"),10)||0+parseInt($W._H.getStyleProperty(_170,"margin-right"),10)||0;}else{this.itemTableTdMargin=0;}}_16d+=this.itemTableTdMargin;var _171=document.getElementById(this.itemTable.id+"_main");$W._H.setStyle(_171,"width",_16d+"px");$W._H.setStyle(this.itemTable.render,"width",_16d+"px");left=left-_16d;this.itemTable.setPosition(left,top);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._v.prototype.toggle=function(){["WebSquare.uiplugin.tabControl.toggle"];try{if(this.isOpen){this.closeSubLayer();}else{this.openSubLayer();}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._v.prototype.openSubLayer=function(){["WebSquare.uiplugin.tabControl.openSubLayer"];try{$W.getBody().getLayerListener().show(this.id);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._v.prototype._openSubLayer=function(){["WebSquare.uiplugin.tabControl._openSubLayer"];try{this.setSubLayer();if(!this.isOpen){this.itemTable.show();this.itemTable.render.setAttribute("aria-expended","true");this.setSelectOptions();this.setItemTable();this.itemTable.focus();this.isOpen=true;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._v.prototype.closeSubLayer=function(_172){["WebSquare.uiplugin.tabControl.closeSubLayer"];try{var _173={"documentClick":_172};$W.getBody().getLayerListener().hide(this.id,_173);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._v.prototype._closeSubLayer=function(_174){["WebSquare.uiplugin.tabControl._closeSubLayer"];try{var _174=_174||{};var _175=_174.documentClick;if(this.isOpen&&this.itemTable!=null){this.itemTable.hide();this.itemTable.render.setAttribute("aria-expended","true");this.isOpen=false;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._v.prototype.finalize=function(){["WebSquare.uiplugin.tabControl.finalize"];try{for(var i=this.childControlList.length-1;i>=0;i--){this.childControlList[i].remove();}for(var i=this.storedFrame.length-1;i>=0;i--){var comp=$W._G.getComponentById(this.storedFrame[i]);if(comp!=null){comp.remove();}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._v.prototype.moveTab=function(from,to){["WebSquare.uiplugin.tabControl.moveTab"];try{if(from===to||from<0||to<0){return;}var _17a=this.tabArr[this.selectedIndex];var _17b=this.tabArr[from].userTabID;var _17c=this.tabArr[to].userTabID;var ret=$W._c.fireEvent(this,"onbeforetabmove",{"startTabID":_17b,"startTabIndex":from,"endTabID":_17c,"endTabIndex":to});var _17e=this.getTabHostAndContainer();var _17f=_17e.container;var _180=_17e.tabhost;var eps=from>to?0:1;if(to<this.getTabCount()-1){_180.insertBefore(this.tabArr[from].render,this.tabArr[to+eps].render);}else{_180.appendChild(this.tabArr[from].render);}var _182=function(arr,from,to){var temp=arr.splice(from,1);arr.splice(to,0,temp[0]);};_182(this.tabArr,from,to);_182(this.contentsArr,from,to);_182(this.bridgeIdArr,from,to);if(this.backbridgeIdArr&&this.backbridgeIdArr.length>0){_182(this.backbridgeIdArr,from,to);}for(var i=0;i<this.tabArr.length;i++){if(this.tabArr[i]===_17a){this.selectedIndex=i;break;}}$W._c.fireEvent(this,"onaftertabmove",{"startTabID":_17b,"startTabIndex":from,"endTabID":_17c,"endTabIndex":to});}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._v.prototype.getTabInfo=function(){["WebSquare.uiplugin.tabControl.moveTab"];try{var ret=[];var cnt=this.getTabCount();for(var i=0;i<cnt;i++){ret.push({"id":this.tabArr[i].userTabID,"label":this.tabArr[i].label,"defaultTabIndex":Number(this.tabArr[i].render.getAttribute("index"))-1,"currentTabIndex":i,"src":this.contentsArr[i].src,"alwaysDraw":this.contentsArr[i].alwaysDraw});}return ret;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._v.prototype.setTabOrder=function(arr){["WebSquare.uiplugin.tabControl.moveTab"];try{var cnt=this.getTabCount();if(arr.length!==cnt){$W.logger.printLog("WARNING !!! : setTabOrder argument array length must be "+cnt+"["+this.id+"]");return;}var _18d=[];for(var i=0;i<cnt;i++){var idx=this.getTabIndex(arr[i]);if(idx==null){idx=arr[i];}_18d.push(idx);}var _190=this.getTabHostAndContainer();var _191=_190.container;var _192=_190.tabhost;for(var i=0;i<cnt;i++){_192.appendChild(this.tabArr[_18d[i]].render);}var _193=function(_194,_195){var temp=_194.splice(0,_194.length);for(var i=0;i<temp.length;i++){_194.push(temp[_195[i]]);}};_193(this.tabArr,_18d);_193(this.contentsArr,_18d);_193(this.bridgeIdArr,_18d);if(this.backbridgeIdArr&&this.backbridgeIdArr.length>0){_193(this.backbridgeIdArr,_18d);}this.selectedIndex=_18d[this.selectedIndex];}catch(e){$W.exception.printStackTrace(e,null,this);}};;WebSquare.uiplugin.tabControl=$W._a._v;requires("uiplugin.input");$W._a._X=function(id,_2,_3){["WebSquare.uiplugin.searchbox"];$W._t.call(this,id,_2,_3);};$W.extend($W._a._X.prototype,$W._t.prototype);$W._a._X.prototype.defaultOptions={pluginType:"uiplugin.searchbox",pluginName:"searchbox",paddingRight:20};$W._a._X.prototype.initialize=function(_4){var _5=this.options.style;this.options.style="position:relative;width:100%;height:100%;";this.options.parentEvent=this;var _6=$W.extend({},this.options);var _7=this.id+"___input";_6.id=_7;delete _6._scope_obj_org_id;delete _6._scope_obj_uuid;delete _6._scope_obj_runtime_id;this.input=new $W._a.aG(_7,_6,_4);this.options.parentEvent="";this.input.options.userEvents=this.input.defaultOptions.userEvents;this.input.options.systemEvents=this.input.defaultOptions.sysyemEvents;var _8=-1;if(this.options.xmlEvents){for(var i=0;i<this.options.xmlEvents.length;i++){if(this.options.xmlEvents[i].name=="onclick"){_8=i;}}}if(_8!=-1){this.options.xmlEvents=this.options.xmlEvents.splice(_8,1);}else{this.options.xmlEvents=null;}this.options.style=_5;this.addControl(this.input);var _a=this;var _b={name:"onkeyup",action:"script",param:{handler:function(e){_a.setLayout();}}};if(this.input.options.xmlEvents){if(_8!=-1){this.input.options.xmlEvents.splice(_8,1);}this.input.options.xmlEvents.push(_b);}else{this.input.options.xmlEvents=[_b];}this.modelControl.ref="";this.input.modelControl.id=this.id;this.input.modelControl.scope_uuid=this.options._scope_obj_uuid;};$W._a._X.prototype.toHTML=function(){["WebSquare.uiplugin.searchbox.toHTML"];var _d=[];var _e=(this.options.style=="")?"":"style='"+this.options.style+"'";_d.push("<div id='"+this.id+"' "+_e+" class='w2searchbox "+this.options.className+"'>");_d.push(this.getChild(this.id+"___input").toHTML());_d.push("<div id='"+this.id+"___reset' class='w2searchbox_reset'></div>");_d.push("</div>");return _d.join("");};$W._a._X.prototype.setPreAction=function(){try{this.dom.reset=this.getElementById(this.id+"___reset");}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._X.prototype.setAction=function(){["WebSquare.uiplugin.searchbox.setLayout"];try{this.event.addUserEvents(this,this.input.userEventList);this.event.addListener(this.render,"onmousedown",this.event.bindAsEventListener(this,this.handleMousedown));this.event.addListener(this.render,"ontouchstart",this.event.bindAsEventListener(this,this.handleMousedown));this.event.addListener(this.render,"onmouseover",this.event.bindAsEventListener(this,this.handleMouseover));var _f=parseInt(this.options.paddingRight,10);var _10=(parseInt(this.input.getStyle("border-right-width"),10)+parseInt(this.input.getStyle("border-left-width"),10))||0;var _11=parseInt(this.getStyle("width"),10)-(_f+parseInt(this.input.getStyle("padding-right"),10))-_10;var _12=this.getStyle("height");this.input.setSize(_11,_12);this.input.setStyle("padding-right",_f+"px");this.input.setVerticalAlign();this.setLayout();if($W._G.isIEAllVersion()&&parseInt($W._N.browserVersion(),10)>9){this.addClass(this.input.render,"w2searchbox_reset_remove");}if(this.options.mandatory){this.onPropertyChange("mandatory",$W._G.getBoolean(this.options.mandatory));}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._X.prototype.setLayout=function(){["WebSquare.uiplugin.searchbox.setLayout"];try{if(this.input.render){if(this.input.render.value==""){this.dom.reset.style.display="none";}else{this.dom.reset.style.display="block";var _13=this.dom.reset.offsetHeight;var _14=this.getSize("height");this.dom.reset.style.top=parseInt((_14-_13)/2,10)+"px";}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._X.prototype.focus=function(){["WebSquare.uiplugin.searchbox.focus"];try{if(this.input.render){this.input.render.focus();}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._X.prototype.refresh=function(){this.input.refresh();this.setLayout();};$W._a._X.prototype.onPropertyChange=function(_15,_16){["WebSquare.uiplugin.searchbox.onPropertyChange"];try{switch(_15){case "mandatory":if(_16==true){this.addClass(this.render,"w2searchbox_mandatory");}else{this.removeClass(this.render,"w2searchbox_mandatory");}break;case "disabled":if(_16==true){this.input.render.setAttribute("disabled","disabled");this.input.addClass(this.input.render,"w2searchbox_disabled");}else{this.input.render.removeAttribute("disabled");this.input.removeClass(this.input.render,"w2searchbox_disabled");}break;case "readOnly":if(_16==true){this.input.render.setAttribute("readonly","readonly");this.addClass(this.input.render,this.input.options.readOnlyClass);}else{this.input.render.removeAttribute("readonly");this.removeClass(this.input.render,this.input.options.readOnlyClass);}break;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._X.prototype.handleMousedown=function(e){var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match("w2searchbox_reset")){$W._c.stopEvent(e);this.dom.reset.style.display="none";var _19=this.getValue();this.setValue("");if(_19!=""){$W._c.fireEvent(this,"onviewchange",{"oldValue":_19,"newValue":""});}this.focus();}}it=null;};$W._a._X.prototype.handleMouseover=function(e){var _1b=$W._c.getRelatedTarget(e);if(this.hasClass(_1b,"w2searchbox_reset")){this.removeClass(this.dom.reset,"w2searchbox_reset_on");return;}var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match("w2searchbox_reset")){this.addClass(this.dom.reset,"w2searchbox_reset_on");}}it=null;};$W._a._X.apiExtend=function(){var _1d=$W._a.aG.prototype;var _1e=$W._a._X.prototype;for(prop in _1d){if(!_1e[prop]){_1e[prop]=(function(_1f){return function(){return this.input[_1f].apply(this.input,arguments);};})(prop);}}};$W._a._X.apiExtend();;WebSquare.uiplugin.searchbox=$W._a._X;$W._a.aT=function(id,_2,_3){["WebSquare.uiplugin.fliptoggle"];$W._t.call(this,id,_2,_3);};$W.extend($W._a.aT.prototype,$W._t.prototype);$W._a.aT.prototype.defaultOptions={pluginType:"uiplugin.fliptoggle",pluginName:"fliptoggle",userEvents:["ontogglechange"],useClickToggle:"true",label:"Label",accessibility:undefined,escape:false};$W._a.aT.prototype.initialize=function(_4){["WebSquare.uiplugin.fliptoggle.initialize"];try{this.selectedIndex=0;this.onLabel="On";this.onValue="on";this.offLabel="Off";this.offValue="off";var _5="w2";var _6=$W._B.findNodes(_4,"*['"+"on"+"'=local-name()]['"+$W._N._XML_NAMESPACE.W2+"'=namespace-uri()]");var _7=$W._B.findNodes(_4,"*['"+"off"+"'=local-name()]['"+$W._N._XML_NAMESPACE.W2+"'=namespace-uri()]");if(_6[0]){this.onLabel=$W._B.getAttribute(_6[0],"label");this.onValue=$W._B.getAttribute(_6[0],"value");this.onLocaleRef=$W._B.getAttribute(_6[0],"localeRef");}if(_7[0]){this.offLabel=$W._B.getAttribute(_7[0],"label");this.offValue=$W._B.getAttribute(_7[0],"value");this.offLocaleRef=$W._B.getAttribute(_7[0],"localeRef");}if(this.offLocaleRef&&this.onLocaleRef){this.offLabel=this.getLocaleValue(this.offLocaleRef);this.onLabel=this.getLocaleValue(this.onLocaleRef);}this.leftPosition;this.startEventLayer={};this.lastEventLayer={};}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aT.prototype.toHTML=function(){["WebSquare.uiplugin.fliptoggle.toHTML"];var _8=[];var _9=(this.options.style=="")?"":"style='"+this.options.style+"'";_8.push("<div id='"+this.id+"' "+_9+" class='w2fliptoggle "+this.options.className+"'>");_8.push("<label for='"+this.id+"_select' id='"+this.id+"_label' class='w2fliptoggle_select'>");_8.push(this.options.label);_8.push("</label>");_8.push("<select id='"+this.id+"_select' class='w2fliptoggle_select' tabindex='0'>");_8.push("<option value='"+this.offValue+"'>"+this.offLabel+"</option>");_8.push("<option value='"+this.onValue+"'>"+this.onLabel+"</option>");_8.push("</select>");_8.push("<div id='"+this.id+"_mask' class='w2fliptoggle_conner_left w2fliptoggle_conner_right w2fliptoggle_mask'>");_8.push("<span id='"+this.id+"_left' class='w2fliptoggle_left_bg w2fliptoggle_conner_left w2fliptoggle_left'>");_8.push("</span>");_8.push("<span id='"+this.id+"_left_label' class='w2fliptoggle_left_label' style='visibility:hidden;' aria-hidden='true'>");_8.push(this.onLabel);_8.push("</span>");if(this.options.accessibility){_8.push("<a id='"+this.id+"_a_button' href='#' role='slider' aria-valuenow='"+this.offValue+"' aria-valuetext='"+this.offValue+"' aria-labelledby='"+this.id+"_a_button'>");}_8.push("<span id='"+this.id+"_button' class='w2fliptoggle_button_bg w2fliptoggle_conner_left w2fliptoggle_conner_right w2fliptoggle_button'>");_8.push("</span>");if(this.options.accessibility){_8.push("</a>");}_8.push("<span id='"+this.id+"_right_label' class='w2fliptoggle_right_label' aria-hidden='true'>");_8.push(this.offLabel);_8.push("</span>");_8.push("<span id='"+this.id+"_right' class='w2fliptoggle_conner_right w2fliptoggle_right_bg w2fliptoggle_right'>");_8.push("</span>");_8.push("</div>");_8.push("</div>");return _8.join("");};$W._a.aT.prototype.setAction=function(){["WebSquare.uiplugin.fliptoggle.setAction"];try{this.isMobile=$W._G.isMobile();this.isWebKit=/webkit/.test(navigator.userAgent.toLowerCase());this.dom.mask=document.getElementById(this.id+"_mask");this.dom.left=document.getElementById(this.id+"_left");this.dom.button=document.getElementById(this.id+"_button");this.dom.right=document.getElementById(this.id+"_right");this.dom.left_label=document.getElementById(this.id+"_left_label");this.dom.right_label=document.getElementById(this.id+"_right_label");this.dom.select=document.getElementById(this.id+"_select");this.setVerticalAlign(this.dom.left_label);this.setVerticalAlign(this.dom.right_label);this.leftPosition=$W._H.getAbsoluteLeft(this.render);if($W._G.isIE(6)){this.__addClass(this.dom.button," ");}if(this.isMobile){this.event.addListener(this.render,"ontouchstart",this.event.bindAsEventListener(this,this.handleTouchStart));this.event.addListener(this.render,"ontouchmove",this.event.bindAsEventListener(this,this.handleTouchMove));this.event.addListener(this.render,"ontouchend",this.event.bindAsEventListener(this,this.handleTouchEnd));}else{this.event.addListener(this.render,"onmousedown",this.event.bindAsEventListener(this,this.handleTouchStart));this.event.addListener(this.render,"onmousemove",this.event.bindAsEventListener(this,this.handleTouchMove));this.event.addListener(this.render,"onmouseup",this.event.bindAsEventListener(this,this.handleTouchEnd));this.event.addListener(this.render,"onselectstart",this.event.bindAsEventListener(this,function(e){$W._c.preventDefault(e);}));this.event.addListener(this.render,"onmouseout",this.event.bindAsEventListener(this,this.handleMouseOut));}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aT.prototype.displayLocaleValue=function(){if(this.offLocaleRef&&this.onLocaleRef){var _b=this.getLocaleValue(this.offLocaleRef);var _c=this.getLocaleValue(this.onLocaleRef);this.setLabel(_c,_b);}};$W._a.aT.prototype.setLabel=function(_d,_e){["WebSquare.uiplugin.fliptoggle.setLabel"];try{var _f=document.getElementById(this.id+"_left_label");var _10=document.getElementById(this.id+"_right_label");var _11=document.getElementById(this.id+"_select");var _12=this.options.escape?$W._B._encode(_d+""):_d;var _13=this.options.escape?$W._B._encode(_e+""):_e;_f.innerHTML=_12;_10.innerHTML=_13;_11.options[0].innerHTML=_13;_11.options[1].innerHTML=_12;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aT.prototype.refreshItemset=function(){};$W._a.aT.prototype.refresh=function(){};$W._a.aT.prototype.getElementWidth=function(_14){["WebSquare.uiplugin.fliptoggle.prototype.getElementWidth"];var _15;if(_14){_15=_14.offsetWidth;var _16=parseInt($W._G.getStyleProperty(_14,"border-left-width"),10)||0;var _17=parseInt($W._G.getStyleProperty(_14,"border-right-width"),10)||0;var _18=parseInt($W._G.getStyleProperty(_14,"padding-left"),10)||0;var _19=parseInt($W._G.getStyleProperty(_14,"padding-right"),10)||0;_15=_15-_16-_17-_18-_19;}return _15;};$W._a.aT.prototype.setElementWidth=function(_1a,_1b){["WebSquare.uiplugin.fliptoggle.prototype.setElementWidth"];var _1b;if(_1a){var _1c=parseInt($W._G.getStyleProperty(_1a,"border-left-width"),10)||0;var _1d=parseInt($W._G.getStyleProperty(_1a,"border-right-width"),10)||0;_1a.style.width=(_1b-_1c-_1d)+"px";}};$W._a.aT.prototype.setButtonPosition=function(_1e){["WebSquare.uiplugin.fliptoggle.prototype.setButtonPosition"];try{if(typeof _1e!="number"){return;}var _1f=this.getElementWidth(this.dom.left);var _20=this.getElementWidth(this.dom.right);var _21=this.dom.right.offsetLeft;var _22=this.getElementWidth(this.dom.button);var _23=this.getElementWidth(this.dom.mask);var _24=this.dom.mask.offsetLeft;if(_1e<0){_1e=0;}if(_1e>_24+_23-_22){_1e=_24+_23-_22;}var gap=_1e-this.dom.button.offsetLeft;if(_1e==0){this.dom.left_label.style.visibility="hidden";this.dom.right_label.style.visibility="visible";this.selectedIndex=0;this.dom.select.selectedIndex=0;if(this.options.accessibility){var _26=document.getElementById(this.id+"_a_button");_26.setAttribute("aria-valuenow",this.offValue);_26.setAttribute("aria-valuetext",this.offValue);}}else{if(_1e==_24+_23-_22){this.dom.left_label.style.visibility="visible";this.dom.right_label.style.visibility="hidden";this.selectedIndex=1;this.dom.select.selectedIndex=1;if(this.options.accessibility){var _26=document.getElementById(this.id+"_a_button");_26.setAttribute("aria-valuenow",this.onValue);_26.setAttribute("aria-valuetext",this.onValue);}}}this.dom.right.style.width=parseInt(_20-gap,10)+"px";this.dom.left.style.width=parseInt(_1f+gap,10)+"px";this.dom.button.style.left=parseInt(_1e,10)+"px";}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aT.prototype.setVerticalAlign=function(_27){["WebSquare.uiplugin.fliptoggle.setVerticalAlign"];try{var _28=$W._G.getStyleProperty(_27,"vertical-align")||"middle";if(_28=="top"){}else{var _29=this.render.offsetHeight||parseInt(this.getStyle("height"),10);if(_29>0){var _2a=parseInt($W._G.getStyleProperty(_27,"padding-top"),10)||0;var _2b=parseInt($W._G.getStyleProperty(_27,"font-size"),10)||0;var _2c=0;if(_28=="middle"){_2c=Math.floor((_29-_2b)/2);}else{if(_28=="bottom"){_2c=Math.floor(_29-_2b);}}if((_2c+_2a)>0&&(_29-_2c)>0){_27.style["paddingTop"]=_2c+_2a+"px";_27.style["height"]=(_29-_2c)+"px";}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aT.prototype.getValue=function(){["WebSquare.uiplugin.fliptoggle.getValue"];try{if(this.dom.select[this.selectedIndex]){return this.dom.select[this.selectedIndex].value;}else{return null;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aT.prototype.toggle=function(_2d){["WebSquare.uiplugin.fliptoggle.toggle"];try{var _2e=this.selectedIndex;if(typeof _2d=="undefined"){_2d=this.selectedIndex==0?1:0;}if(_2d==0){this.setButtonPosition(0);}else{this.setButtonPosition(this.getElementWidth(this.dom.mask));}if(_2e!=this.selectedIndex){$W._c.fireEvent(this,"ontogglechange");}return this.getValue();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aT.prototype.setValue=function(_2f){["WebSquare.uiplugin.fliptoggle.setValue"];try{if($W._G.isNull(_2f)){return;}for(var i=0;i<this.dom.select.length;i++){if(_2f==this.dom.select[i].value){return this.toggle(i);}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aT.prototype.handleClickEvent=function(e){["WebSquare.uiplugin.fliptoggle.prototype.handleClickEvent"];try{if(!this.isSliding){this.toggle();}$W._c.stopPropagation(e);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aT.prototype.handleChangeEvent=function(e){["WebSquare.uiplugin.fliptoggle.prototype.handleChangeEvent"];try{}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aT.prototype.handleTouchStart=function(e){["WebSquare.uiplugin.fliptoggle.prototype.handleTouchStart"];$W._c.stopPropagation(e);var it=this.event.getTargetIterator(e,this.render);this.startEventLayer.x=$W._c.getMouseX(e);this.startEventLayer.y=$W._c.getMouseY(e);this.lastEventLayer.x=$W._c.getMouseX(e);this.lastEventLayer.y=$W._c.getMouseY(e);while(it.next()){if(it.match("w2fliptoggle_button")){this.isSliding=true;}}};$W._a.aT.prototype.handleTouchEnd=function(e,_36){["WebSquare.uiplugin.fliptoggle.prototype.handleTouchEnd"];try{this.isSliding=false;var _37=this.getElementWidth(this.dom.mask);var _38=this.getElementWidth(this.dom.left);var _39=this.getElementWidth(this.dom.button);if(this.startEventLayer.x-this.lastEventLayer.x===0&&this.startEventLayer.y-this.lastEventLayer.y===0){if($W._G.getBoolean(this.options.useClickToggle)){this.toggle();}}else{if(_38<_37*0.7){this.toggle(0);}else{var _3a=this.dom.mask.offsetLeft;this.toggle(1);}}$W._c.stopPropagation(e);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aT.prototype.handleTouchMove=function(e){["WebSquare.uiplugin.fliptoggle.prototype.handleTouchMove"];this.lastEventLayer.x=$W._c.getMouseX(e);this.lastEventLayer.y=$W._c.getMouseY(e);if(!this.isSliding){return;}eventLayerX=this.lastEventLayer.x-(this.leftPosition||0);var _3c=0;var _3d=this.dom.button.offsetLeft;var _3e=this.getElementWidth(this.dom.button);var _3f=this.dom.button.offsetLeft;var _40=this.getElementWidth(this.dom.mask);var _41=this.dom.mask.offsetLeft;var _42=this.getElementWidth(this.dom.left);var _43=this.getElementWidth(this.dom.right);var _44=_3e/2;_3c=eventLayerX-_44;_42=_3c+_44;if(_42>_40-_44){_42=_40-_44;}else{if(_42<_44){_42=_44-1;}}this.setElementWidth(this.dom.left,_42);_43=_40-_42-1;this.setElementWidth(this.dom.right,_43);if(_3c<0){_3c=0;}else{if(_3c>_40-_3e){_3c=_40-_3e;}}this.dom.button.style.left=_3c+"px";if($W._G.isIE(6)){this.dom.left.style.height=this.render.offsetHeight+"px";this.dom.right.style.height=this.render.offsetHeight+"px";this.dom.button.style.height=this.render.offsetHeight+"px";}if(this.isMobile){$W._c.preventDefault(e);}};$W._a.aT.prototype.handleMouseOut=function(e){["WebSquare.uiplugin.fliptoggle.prototype.handleMouseOut"];if(this.isSliding){if(!$W._c.getRelatedTarget(e)){return;}if($W._c.getRelatedTarget(e).getAttribute("id")){if($W._c.getRelatedTarget(e).getAttribute("id").indexOf(this.id)<0){this.handleTouchEnd(e);}}else{if(!$W._c.getRelatedTarget(e).getAttribute("id")){this.handleTouchEnd(e);}}}};;WebSquare.uiplugin.fliptoggle=$W._a.aT;$W._a.au=function(id,_2,_3){["WebSquare.uiplugin.pageControl"];$W._t.call(this,id,_2,_3);};$W.extend($W._a.au.prototype,$W._t.prototype);$W._a.au.prototype.defaultOptions={pluginType:"uiplugin.pageControl",pluginName:"pageControl",userEvents:["onchange","onviewchange"],pagingType:"1",rotation:"false",detectionRange:10,pageCount:10};$W._a.au.prototype.initialize=function(_4){["WebSquare.uiplugin.pageControl.initialize"];try{this.pageCount=this.options.pageCount;this.displayIndex=1;this.selectedIndex=1;this.moveEventLayerX=null;this.startEventLayerX=null;this.isSliding=false;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.au.prototype.toHTML=function(){["WebSquare.uiplugin.pageControl.toHTML"];var _5=[];var _6=(this.options.style=="")?"":"style='"+this.options.style+"'";var _7=$W._m.getMessage("Pagelist_next_page")||"\ub2e4\uc74c \ud398\uc774\uc9c0";var _8=$W._m.getMessage("Pagelist_next")||"\ub2e4\uc74c";var _9=$W._m.getMessage("Pagelist_previous_page")||"\uc774\uc804 \ud398\uc774\uc9c0";var _a=$W._m.getMessage("Pagelist_previous")||"\uc774\uc804";_5.push("<div id='"+this.id+"' "+_6+" class='w2pageControl "+this.options.className+"'>");_5.push("<span id='"+this.id+"_left' class='w2pageControl_left'>");if(this.options.pagingType=="1"){_5.push("<button id='"+this.id+"_left_button' class='w2pageControl_left_button w2pageControl_button_background' tabindex='0' title='"+_9+"'>");_5.push("<span id='"+this.id+"_left_icon' class='w2pageControl_left_icon'>");_5.push(_a);_5.push("</span>");_5.push("</button>");}_5.push("</span>");_5.push("<span id='"+this.id+"_center' class='w2pageControl_center'>");_5.push("<table id='"+this.id+"_center_table' class='w2pageControl_center_table'>");_5.push("<tr style='height:100%;'>");_5.push("<td id='"+this.id+"_center_td' class='w2pageControl_center_td");if(this.options.pagingType!="1"){_5.push(" w2pageControl_center_image'>");}else{_5.push("'>");_5.push(this.displayIndex+"/"+this.pageCount);}_5.push("</td>");_5.push("</tr>");_5.push("</table>");_5.push("</span>");_5.push("<span id='"+this.id+"_right' class='w2pageControl_right'>");if(this.options.pagingType=="1"){_5.push("<button id='"+this.id+"_right_button' class='w2pageControl_right_button w2pageControl_button_background' tabindex='0' title='"+_7+"'>");_5.push("<span id='"+this.id+"_right_icon' class='w2pageControl_right_icon'>");_5.push(_8);_5.push("</span>");_5.push("</button>");}_5.push("</span>");_5.push("</div>");return _5.join("");};$W._a.au.prototype.setAction=function(){this.isMobile=$W._G.isMobile();this.isWebKit=/webkit/.test(navigator.userAgent.toLowerCase());this.dom.table=document.getElementById(this.id+"_center_table");if(this.options.pagingType!="1"){if(this.isMobile){this.event.addListener(this.render,"ontouchstart",this.event.bindAsEventListener(this,this.handleTouchStart));this.event.addListener(this.render,"ontouchmove",this.event.bindAsEventListener(this,this.handleTouchMove));this.event.addListener(this.render,"ontouchend",this.event.bindAsEventListener(this,this.handleTouchEnd));}else{this.event.addListener(this.render,"onmousedown",this.event.bindAsEventListener(this,this.handleTouchStart));this.event.addListener(this.render,"onmouseout",this.event.bindAsEventListener(this,this.handleMouseOut));this.event.addListener(this.render,"onmousemove",this.event.bindAsEventListener(this,this.handleTouchMove));this.event.addListener(this.render,"onmouseup",this.event.bindAsEventListener(this,this.handleTouchEnd));}}else{this.dom.iconLeft=this.getElementById(this.id+"_left_button");this.dom.iconRight=this.getElementById(this.id+"_right_button");this.event.addListener(this.render,"onclick",this.event.bindAsEventListener(this,this.handleClickEvent));this.event.addListener(this.render,"onmouseover",this.event.bindAsEventListener(this,this.handleMouseOverEvent));this.event.addListener(this.render,"onmouseout",this.event.bindAsEventListener(this,this.handleMouseOutEvent));}this.event.addListener(this.render,"onselectstart",this.event.bindAsEventListener(this,function(e){$W._c.preventDefault(e);}));};$W._a.au.prototype.refreshItemset=function(){};$W._a.au.prototype.refresh=function(){};$W._a.au.prototype.setCount=function(_c){["WebSquare.uiplugin.pageControl.setCount"];try{this.pageCount=_c;this.redraw();this.setSelectedIndex(1);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.au.prototype.setSelectedIndex=function(_d,_e){["WebSquare.uiplugin.pageControl.setSelectedIndex"];try{if(this.pageCount==0){return;}if($W._G.isNull(_d)){return;}_d=_d.toString();if(_d<1||_d>this.pageCount){$l("range exception for "+this.id);return;}var _f=this.selectedIndex;this.setDisplayIndex(_d);this.selectedIndex=parseInt(_d);if(this.options.pagingType!="1"){var _10=document.getElementById(this.id+"_center_td");this.removeClass(_10,"w2pageControl_center_image");this.removeClass(_10,"w2pageControl_center_image_prev");this.removeClass(_10,"w2pageControl_center_image_next");if(_e==="previous"){this.addClass(_10,"w2pageControl_center_image_prev");}else{if(_e==="next"){this.addClass(_10,"w2pageControl_center_image_next");}else{if(_f>this.selectedIndex){this.addClass(_10,"w2pageControl_center_image_prev");}else{this.addClass(_10,"w2pageControl_center_image_next");}}}this.pageImage=setTimeout(this.event.bindAsEventListener(this,function(){this.removeClass(_10,"w2pageControl_center_image");this.removeClass(_10,"w2pageControl_center_image_prev");this.removeClass(_10,"w2pageControl_center_image_next");this.addClass(_10,"w2pageControl_center_image");}),500);}var _11=null;if(this.selectedIndex>_f){_11="next";}else{if(this.selectedIndex<_f){_11="previous";}}if($W._G.getBoolean(this.options.rotation)){if(this.selectedIndex===1&&_f===this.pageCount){_11="next";}else{if(this.selectedIndex===this.pageCount&&_f===1){_11="previous";}}}if(_f!=-1&&_f!=this.selectedIndex){$W._c.fireEvent(this,"onchange",this.selectedIndex,_f,_11);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.au.prototype.getSelectedIndex=function(){["WebSquare.uiplugin.pageControl.getSelectedIndex"];try{return this.selectedIndex;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.au.prototype.moveToLeft=function(_12){["WebSquare.uiplugin.pageControl.moveToLeft"];try{if($W._G.getBoolean(this.options.rotation)){if(this.selectedIndex<=1){this.setSelectedIndex(this.pageCount,_12);}else{this.setSelectedIndex(this.selectedIndex-1,_12);}}else{this.setSelectedIndex(this.selectedIndex-1,_12);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.au.prototype.moveToRight=function(_13){["WebSquare.uiplugin.pageControl.moveToRight"];try{if($W._G.getBoolean(this.options.rotation)){if(this.selectedIndex>=this.pageCount){this.setSelectedIndex(1,_13);}else{this.setSelectedIndex(this.selectedIndex+1,_13);}}else{this.setSelectedIndex(this.selectedIndex+1,_13);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.au.prototype.setDisplayIndex=function(idx){["WebSquare.uiplugin.pageControl.setDisplayIndex"];try{if(this.pageCount==0){return;}idx=parseInt(idx);var _15=idx;if(_15<1){_15=1;}if(_15>this.pageCount){_15=this.pageCount;}if(this.displayIndex==_15){return;}else{this.displayIndex=_15;if(this.options.pagingType=="1"){var _16=document.getElementById(this.id+"_center_td");if(_16){_16.innerHTML=this.displayIndex+"/"+this.pageCount;}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.au.prototype.handleClickEvent=function(e){["WebSquare.uiplugin.pageControl.prototype.handleClickEvent"];try{var it=this.event.getTargetIterator(e,this.render);var _19=this.getSelectedIndex();while(it.next()){if(it.match("w2pageControl_left_button")){this.moveToLeft("previous");}else{if(it.match("w2pageControl_right_button")){this.moveToRight("next");}}}it=null;var _1a=this.getSelectedIndex();if(_19!=_1a){var _1b={"oldSelectedIndex":_19,"newSelectedIndex":_1a};$W._c.fireEvent(this,"onviewchange",_1b);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.au.prototype.handleTouchStart=function(e){["WebSquare.uiplugin.pageControl.prototype.handleTouchStart"];this.isSliding=true;this.startEventLayerX=$W._c.getMouseX(e);$W._c.stopEvent(e);};$W._a.au.prototype.handleTouchEnd=function(e){["WebSquare.uiplugin.pageControl.prototype.handleTouchEnd"];try{if(this.startEventLayerX==null||this.moveEventLayerX==null){return;}var _1e=this.moveEventLayerX-this.startEventLayerX;if(_1e<(this.options.detectionRange*-1)){this.moveToRight("next");}else{if(_1e>this.options.detectionRange){this.moveToLeft("previous");}}this.isSliding=false;this.moveEventLayerX=null;this.startEventLayerX=null;$W._c.stopEvent(e);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.au.prototype.handleMouseOverEvent=function(e){["WebSquare.uiplugin.pageControl.handleMouseOverEvent"];try{$W._c.stopEvent(e);var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match(null,this.id)){}if(it.match("w2pageControl_right_button")){this.addClass(this.dom.iconRight,"w2pageControl_button_background_over");break;}else{if(it.match("w2pageControl_left_button")){this.addClass(this.dom.iconLeft,"w2pageControl_button_background_over");break;}}}it=null;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.au.prototype.handleMouseOutEvent=function(e){["WebSquare.uiplugin.pageControl.handleMouseOutEvent"];try{$W._c.stopEvent(e);var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match(null,this.id)){}if(it.match("w2pageControl_right_button")){this.removeClass(this.dom.iconRight,"w2pageControl_button_background_over");break;}else{if(it.match("w2pageControl_left_button")){this.removeClass(this.dom.iconLeft,"w2pageControl_button_background_over");break;}}}it=null;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.au.prototype.handleTouchMove=function(e){["WebSquare.uiplugin.pageControl.prototype.handleTouchMove"];if(!this.isSliding){return;}this.moveEventLayerX=$W._c.getMouseX(e);if(this.isMobile){$W._c.preventDefault(e);}};$W._a.au.prototype.handleMouseOut=function(e){["WebSquare.uiplugin.pageControl.prototype.handleMouseOut"];try{if(!$W._c.getRelatedTarget(e)){return;}if(this.isSliding){if($W._c.getRelatedTarget(e).getAttribute("id")){if($W._c.getRelatedTarget(e).getAttribute("id").indexOf(this.id)<0){this.handleTouchEnd(e);}}else{if(!$W._c.getRelatedTarget(e).getAttribute("id")){this.handleTouchEnd(e);}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.au.prototype.setStyle=function(_25,_26){["WebSquare.uiplugin.pageControl.prototype.setStyle"];try{if(!this.render){return;}$W._H.setStyle(this.render,_25,_26);if(_25=="font-size"){var _27=this.dom.table.childNodes[0];for(var _28=_27.firstChild;_28!=null;_28=_28.nextSibling){var td=_28.firstChild;td.style[_25]=_26;}}}catch(e){$W.exception.printStackTrace(e);}};;WebSquare.uiplugin.pageControl=$W._a.au;requires("uiplugin.wframe");$W._a.aI=function(id,_2,_3){["WebSquare.uiplugin.panelContainer"];$W._t.call(this,id,_2,_3);};$W.extend($W._a.aI.prototype,$W._t.prototype);$W.extend($W._a.aI.prototype,$W._n.prototype);$W._a.aI.prototype.defaultOptions={pluginType:"uiplugin.panelContainer",pluginName:"panelContainer",useConfig:true,cols:1,colWidth:0,panelMove:true};$W._a.aI.prototype.initialize=function(_4){this.panelIdCount=0;this.colArr=[];};$W._a.aI.prototype.toHTML=function(){["WebSquare.uiplugin.panelContainer.toHTML"];var _5=[];var _6=(this.options.style=="")?"":"style='"+this.options.style+"'";_5.push("<div id='"+this.id+"' "+_6+" class='w2panelContainer "+this.options.className+"'>");for(var i=0;i<this.options.cols;i++){_5.push("<div id='"+this.id+"_col_"+i+"' class='w2panelContainer_col'></div>");}_5.push("</div>");return _5.join("");};$W._a.aI.prototype.setAction=function(){var _8=0;var _9=[];if(this.options.colWidth==0){var _a=0;for(var i=0;i<this.options.cols;i++){_9[i]=parseInt(100/this.options.cols,10)+(i<100%this.options.cols?1:0);}}for(var i=0;i<this.render.childNodes.length;i++){this.colArr.push(this.render.childNodes[i]);if(this.options.colWidth==0){this.colArr[i].style.width=_9[i]+"%";this.colArr[i].style.left=_8+"%";_8+=_9[i];}else{this.colArr[i].style.width=this.options.colWidth+"px";this.colArr[i].style.left=(i*this.options.colWidth)+"px";}}this.event.addListener(this.render,"onmousedown",this.event.bindAsEventListener(this,this.handleMousedownEvent));this.event.addListener(this.render,"onmousemove",this.event.bindAsEventListener(this,this.handleMousemoveEvent));this.event.addListener(this.render,"onmouseup",this.event.bindAsEventListener(this,this.handleMouseupEvent));};$W._a.aI.prototype.addPanel=function(_c){var _d=_c.col||0;if(!_c.id){_c.id=this.id+"_panel"+this.panelIdCount++;}var _e=new $W._a.panel(_c.id,_c);var _f=this;_e.options.xmlEvents=[{name:"onpanelopen",action:"script",param:{handler:function(e){var _11=_f.getPanelInfoById(this.id);$W._c.fireEvent(_f,"onpanelopen",_11);}}},{name:"onpanelclose",action:"script",param:{handler:function(e){var _13=_f.getPanelInfoById(this.id);$W._c.fireEvent(_f,"onpanelclose",_13);}}}];this.addControl(_e);_e.appendTo(this.colArr[_d]);_e.activate();return _e;};$W._a.aI.prototype.removePanel=function(_14,_15){_14=parseInt(_14,10);_15=parseInt(_15,10);if(_15>=this.render.childNodes.length||_14>=this.render.childNodes[_15].childNodes.length){return;}var _16=this.render.childNodes[_15];var _17=_16.childNodes[_14];var id=_17.id;this.removeControl(this.getPanelById(id));$W._G.getComponentById(id+"_content").remove();if(window[id]){window[id]=null;}window[$W.noConflict].comp[id]=null;delete window[$W.noConflict].comp[id];_16.removeChild(_17);return id;};$W._a.aI.prototype.getPanelById=function(id){for(var i=0;i<this.childControlList.length;i++){var _1b=this.childControlList[i];if(_1b.id==id){return _1b;}}};$W._a.aI.prototype.getPanelInfo=function(){var _1c=[];for(var i=0;i<this.options.cols;i++){var _1e=this.render.childNodes[i];var col=[];for(var j=0;j<_1e.childNodes.length;j++){var _21=_1e.childNodes[j];for(var k=0;k<this.childControlList.length;k++){var _23=this.childControlList[k];if(_23.render==_21){col.push({id:_23.id,style:_23.options.style,title:_23.options.title,src:_23.options.src,scope:_23.options.scope,col:i,row:j,isOpen:$W._H.getStyle(this.getElementById(_23.id+"_content"),"height")!="0px"});break;}}}_1c.push(col);}return _1c;};$W._a.aI.prototype.getPanelInfoById=function(id){var _25=this.getPanelInfo();for(var i=0;i<_25.length;i++){var _27=_25[i];for(var j=0;j<_27.length;j++){var _29=_27[j];if(id==_29.id){return _29;}}}};$W._a.aI.prototype.setPanelTitle=function(id,_2b){var _2c=this.getPanelById(id);if(_2c){_2c.options.title=_2b;_2c.render.childNodes[0].childNodes[1].innerHTML=_2b;}};$W._a.aI.prototype.openPanel=function(id){var _2e=this.getPanelById(id);var _2f=_2e.getElementById(_2e.id+"_content");var _30=_2f.offsetHeight==0;if(_30){$W._H.animate(_2f,{height:_2f.scrollHeight},{key:_2e.id+"_toggle",easing:"linear",duration:300,caller:_2e,complete:function(){$W._H.setStyle(_2f,"height","");_2e.removeClass("w2panel_closed");$W._c.fireEvent(_2e,"onpanelopen");}});}};$W._a.aI.prototype.closePanel=function(id){var _32=this.getPanelById(id);var _33=_32.getElementById(_32.id+"_content");var _34=_33.offsetHeight==0;if(!_34){$W._H.setStyle(_33,"height",_33.scrollHeight+"px");$W._H.animate(_33,{height:0},{key:_32.id+"_toggle",easing:"linear",duration:300,caller:_32,complete:function(){_32.addClass("w2panel_closed");$W._c.fireEvent(_32,"onpanelclose");}});}};$W._a.aI.prototype.handleMousedownEvent=function(e){var it=this.event.getTargetIterator(e,this.render);while(this.options.panelMove&&it.next()){if(it.match("w2panel_title")){this.dragDropElem=it.getElement().parentNode;this.render.style.cursor="pointer";this.addClass("w2noselect");$W._c.stopEvent(e);return;}}this.dragDropElem=null;};$W._a.aI.prototype.handleMousemoveEvent=function(e){if(this.dragDropElem){if(!this.ghost){this.ghost=document.createElement("div");this.ghost.innerHTML=this.dragDropElem.childNodes[0].childNodes[1].innerHTML;this.ghost.className="w2panelContainer_ghost";$W.getBody().appendChild(this.ghost);}this.ghost.style.left=($W._c.getMouseX(e)+10)+"px";this.ghost.style.top=($W._c.getMouseY(e)+10)+"px";$W._c.preventDefault(e);}};$W._a.aI.prototype.handleMouseupEvent=function(e){if(this.dragDropElem){var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match("w2panel_title")&&it.getElement().parentNode==this.dragDropElem){break;}else{if(it.match(null,this.id)){var x=$W._c.getMouseX(e)+this.render.scrollLeft-$W._H.getAbsoluteLeft(this.render);var y=$W._c.getMouseY(e)+this.render.scrollTop-$W._H.getAbsoluteTop(this.render);var _3c=null;for(var col=0;col<this.render.childNodes.length;col++){var _3c=this.render.childNodes[col];if(x<_3c.offsetLeft+_3c.offsetWidth){break;}}var _3e=this.render.childNodes[col].childNodes;for(var row=0;row<_3e.length;row++){var _40=_3e[row];if(y<_40.offsetTop+_40.offsetHeight){break;}}this.dragDropElem.parentNode.removeChild(this.dragDropElem);if(row<_3e.length){_3c.insertBefore(this.dragDropElem,_3e[row]);}else{row=_3e.length;_3c.appendChild(this.dragDropElem);}$W._c.fireEvent(this,"onpanelmove",row,col);}}}this.render.style.cursor="";this.removeClass("w2noselect");}this.dragDropElem=null;if(this.ghost){this.ghost.parentNode.removeChild(this.ghost);this.ghost=null;}};$W._a.aI.prototype.movePanel=function(_41,row,col){["WebSquare.uiplugin.panelContainer.prototype.movePanel"];try{var _44=this.getPanelById(_41);var _45=this.render.childNodes[col];if(_45){var _46=this.render.childNodes[col].childNodes;}else{$W.logger.printLog("invalid position : ["+row+","+col+"]["+this.id+"]");return;}if(_44){_44.render.parentNode.removeChild(_44.render);if(row<_46.length){_45.insertBefore(_44.render,_46[row]);}else{row=_46.length;_45.appendChild(_44.render);}$W._c.fireEvent(this,"onpanelmove",row,col);}else{$W.logger.printLog("cannot find pannel : "+_41+"["+this.id+"]");}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.panel=function(id,_48,_49){$W._t.call(this,id,_48,_49);};$W.extend($W._a.panel.prototype,$W._t.prototype);$W._a.panel.prototype.defaultOptions={pluginType:"uiplugin.panel",pluginName:"panel",title:"",src:"",scope:false,isOpen:true};$W._a.panel.prototype.toHTML=function(){var _4a=[];var _4b=(this.options.style=="")?"":"style='"+this.options.style+"'";_4a.push("<div id='"+this.id+"' "+_4b+" class='w2panel "+this.options.className+"'>");_4a.push("<div id='"+this.id+"_title' class='w2panel_title'>");_4a.push("<div id='"+this.id+"_title_image' class='w2panel_title_image'></div>");_4a.push("<span id='"+this.id+"_title_text' class='w2panel_title_text'>"+this.options.title+"</span>");_4a.push("</div>");_4a.push("</div>");return _4a.join("");};$W._a.panel.prototype.setAction=function(){var _4c=new $W._a._B(this.id+"_content",{className:"w2panel_content",src:this.options.src,scope:this.options.scope,style:this.options.isOpen?"":"height:0"});_4c.appendTo(this);_4c.activate();this.contentRender=_4c.render;this.event.addListener(this.getElementById(this.id+"_title"),"onclick",this.event.bindAsEventListener(this,this.handleTitleClick));if(!this.options.isOpen){this.addClass("w2panel_closed");}};$W._a.panel.prototype.handleTitleClick=function(e){var _4e=this.getElementById(this.id+"_content");var _4f=_4e.offsetHeight==0;if(_4f){this.parentControl.openPanel(this.id);}else{this.parentControl.closePanel(this.id);}};;WebSquare.uiplugin.panelContainer=$W._a.aI;$W._b=(function(_1){function _push(_2,_3){_2[_2.length]=_3;}function _pop(_4){var _5=_4[_4.length-1];delete _4[_4.length-1];_4.length--;return (_5);}function isOperation(_6){return ((!isOperator(_6)&&(_6!="(")&&(_6!=")"))?true:false);}function isOperator(_7){return ((_7=="+"||_7=="-"||_7=="*"||_7=="/"||_7=="^"||_7=="%")?true:false);}function topStack(_8){return (_8[_8.length-1]);}function isEmpty(_9){return ((_9.length==0)?true:false);}function isCalculation(_a){if(_a=="^"){return (5);}if((_a=="*")||(_a=="/")||(_a=="%")){return (4);}if((_a=="+")||(_a=="-")){return (3);}if(_a=="("){return (2);}if(_a==")"){return (1);}}function InfixToPostfix(_b,_c,_d){var _c=new Array();var _e=new Array();var _f=0;_b=Tokens(_b);for(var i=0;i<_b.length;i++){if(isOperation(_b[i])){_c[_f]=_b[i];_f++;}if(isOperator(_b[i])){if(_b[i]!="^"){while((!isEmpty(_e))&&(isCalculation(_b[i])<=isCalculation(topStack(_e)))){_c[_f]=topStack(_e);_pop(_e);_f++;}}else{while((!isEmpty(_e))&&(isCalculation(_b[i])<isCalculation(topStack(_e)))){_c[_f]=topStack(_e);_pop(_e);_f++;}}_push(_e,_b[i]);}if(_b[i]=="("){_push(_e,_b[i]);}if(_b[i]==")"){while(topStack(_e)!="("){_c[_f]=_pop(_e);_f++;}_pop(_e);}}while(!isEmpty(_e)){if(topStack(_e)=="("){_pop(_e);}else{_c[_c.length]=_pop(_e);}}var _11="";for(var i=0;i<_c.length;i++){_11+=_c[i];}if(_d==0){return (_11);}else{return (_c);}}function PostfixToInfix(_12){var _13=new Array();_12=_12.split("");for(var i=0;i<_12.length;i++){if(isOperation(_12[i])){_push(_13,_12[i]);}else{var _15=topStack(_13);_pop(_13);var _16="("+topStack(_13)+_12[i]+_15+")";_pop(_13);_push(_13,_16);}}return (topStack(_13));}function Tokens(str){var _18=str.split("");var _19=new String("");var _1a=new Array();var _1b=0;for(var i=0;i<_18.length;i++){if(isOperation(_18[i])&&_18[i].match(/\s/)==null){_19+=_18[i];}if(isOperator(_18[i])||_18[i]==")"||_18[i]=="("){if(_19!=""){_1a[_1b]=_19;_1b++;}_19="";_1a[_1b]=_18[i];_1b++;}if(i==_18.length-1){if(_19!=""){_1a[_1b]=_19;}}}return (_1a);}function Calculation(_1d,_1e,sym){var _20;try{if(sym=="+"){_20=_1d.plus(_1e);}if(sym=="-"){_20=_1d.minus(_1e);}if(sym=="*"){_20=_1d.times(_1e);}if(sym=="/"){_20=_1d.divide(_1e);}if(sym=="^"){_20=_1d.pow(_1e);}if(sym=="%"){_20=_1d.mod(_1e);}return (_20);}catch(e){$W.exception.printStackTrace(e);}}function PostfixEval(_21,_22){var _23=new Array();var _24;var _25;for(var i=0;i<_21.length;i++){if(isOperation(_21[i])){_push(_23,_21[i]);}else{if(!!_22&&!!(_22[topStack(_23)])){_24=_22[topStack(_23)];}else{_24=eval(topStack(_23));}if(_24.constructor!=$W.bigDecimalObj){_24=$W._b(_24);}_pop(_23);if(!!_22&&!!(_22[topStack(_23)])){_25=_22[topStack(_23)];}else{_25=eval(topStack(_23));}if(_25.constructor!=$W.bigDecimalObj){_25=$W._b(_25);}var _27=Calculation(_25,_24,_21[i]);_pop(_23);_push(_23,_27);}}return (topStack(_23));}var ret=function(_29){return new $W.bigDecimalObj(_29);};ret.calc=function(str,_2b){["WebSquare.bigDecimal.calc"];var _2c=InfixToPostfix(str);return $W._b(PostfixEval(_2c,_2b));};return ret;})(window);$W.bigDecimalObj=function(_2d){try{if(_2d===""){_2d="0";this.emptyStr=true;}else{this.emptyStr=false;}this.big=Big(_2d);}catch(e){$W.exception.printStackTrace(e);this.big=NaN;}};$W.bigDecimalObj.prototype.plus=function(_2e){["WebSquare.bigDecimalObj.plus"];try{return $W.bigDecimalObj.handleZero(this,_2e,"plus");}catch(e){$W.exception.printStackTrace(e);return $W._b(NaN);}};$W.bigDecimalObj.prototype.minus=function(_2f){["WebSquare.bigDecimalObj.minus"];try{return $W.bigDecimalObj.handleZero(this,_2f,"minus");}catch(e){$W.exception.printStackTrace(e);return $W._b(NaN);}};$W.bigDecimalObj.prototype.divide=function(_30){["WebSquare.bigDecimalObj.divide"];try{return $W.bigDecimalObj.handleZero(this,_30,"div");}catch(e){$W.exception.printStackTrace(e);return $W._b(NaN);}};$W.bigDecimalObj.prototype.times=function(_31){["WebSquare.bigDecimalObj.times"];try{return $W.bigDecimalObj.handleZero(this,_31,"times");}catch(e){$W.exception.printStackTrace(e);return $W._b(NaN);}};$W.bigDecimalObj.prototype.pow=function(_32){["WebSquare.bigDecimalObj.pow"];try{return $W.bigDecimalObj.handleZero(this,_32,"pow");}catch(e){$W.exception.printStackTrace(e);return $W._b(NaN);}};$W.bigDecimalObj.prototype.mod=function(_33){["WebSquare.bigDecimalObj.mod"];try{return $W.bigDecimalObj.handleZero(this,_33,"mod");}catch(e){$W.exception.printStackTrace(e);return $W._b(NaN);}};$W.bigDecimalObj.prototype.toString=function(){if(isNaN(this.big)){return NaN;}var ret=this.big.toFixed();if(this.emptyStr&&(ret==="0"||ret===0)){ret="";}return ret;};$W.bigDecimalObj.prototype.compare=function(_35,_36){["WebSquare.bigDecimalObj.compare"];try{if(_36){var _37=this.big.lt(_35)==true?this:_35;}else{var _37=this.big.gt(_35)==true?this:_35;}return _37;}catch(e){$W.exception.printStackTrace(e);return $W._b(NaN);}};$W.bigDecimalObj.handleZero=function(src,_39,_3a){["WebSquare.bigDecimalObj.handleZero"];try{var _3b="";if(_39.emptyStr&&(_39.toString()==="")){_3b=src.big[_3a](0);}else{if(_3a==="pow"){_39=parseInt(_39.toString(),10);}_3b=src.big[_3a](_39);}var ret=$W._b(_3b);if(ret.toString()==="0"&&src.emptyStr&&_39.emptyStr){ret="";}return ret;}catch(e){$W.exception.printStackTrace(e);return $W._b(NaN);}};;WebSquare.bigDecimal=$W._b;$W.BootLoader.loadEngineModule();$W.BootLoader.loadUdcRequires();$W.BootLoader.loadInheritRequires();$W._loadCSS=function(){var _1={};if(typeof WebSquareExternal=="object"&&WebSquareExternal!=null){_1=WebSquareExternal;}var _2=$W.document.getElementsByTagName("head")[0];if($W.styleSheetEarlyImport>0){if($W.styleSheetEarlyImport==2){var _3=document.createElement("link");_3.href=$W.baseThemeURI+"skin/"+$W.styleSheetEarlyImportName;_3.type="text/css";_3.rel="stylesheet";_2.appendChild(_3);$W.logger.printLog("import core css : "+_3.href);}var _4=_1.w2xPath||$W._r.getParameter("w2xPath")||$W.w2xPath||$W._N.getConfiguration("/WebSquare/welcome-file");if(_4==""){return;}var re=/[\\]/g;_4=_4.replace(re,"/");var _6=$W._N.getConfiguration("/WebSquare/pageURLPrefix/@value");var _7=$W._N.getConfiguration("/WebSquare/pageURLPrefix/@type");var _8=$W._N.getConfiguration("/WebSquare/pageURLPrefix/@ignoreW2xPath");var _9="";var _a=_4;if(_6!==""&&_7=="function"){if(_6.indexOf("()")==-1){urlFunc=_6+"()";}try{if(_8.toLowerCase()=="true"){urlFunc=urlFunc.wq_replaceAll("()","(obfuscator_url)");_a=eval("(function(){var obfuscator_url = \""+_4+"\";return "+urlFunc+"})();");}else{_a=eval(urlFunc)+_4;}}catch(e){return;}}else{if(_6!==""&&_7!="function"){_a=_6+_4;}}var _b=_a;var _c=$W._N.getXMLHTTPObject();try{$W.BootLoader.openResourceUri(_b,_c);_c.send(null);if(_c.status>="400"){$W.BootLoader.printError("Module ["+_b+"] Does not exist.");}}catch(e){$W.BootLoader.printError("An error occurs while requesting Module ["+_b+"].");}_9=_c.responseText;_c=null;if(_9){var _d=_9.indexOf("<html");if(_d<0){_d=_9.indexOf("<HTML");if(_d<0){_d=_9.indexOf("< html");if(_d<0){_d=_9.indexOf("< HTML");}}}var _e="";if(_d>=0){_e=_9.slice(0,_d);}else{_e=_9;}var _f=-1;while((_f=_e.indexOf("<!--"))>=0){var _10=_e.indexOf("-->");if(_10>=0){_e=_e.substring(0,_f)+_e.slice(_10+3);}else{_e=_e.substring(0,_f);}}var _11=_e.split(/xml-stylesheet/i);var _12=new RegExp("^\\s\\s*");var _13=new RegExp("\\s\\s*$");for(var i=1;i<_11.length;i++){var _15=_11[i].split("\"");_15.pop();var obj={};for(var j=0;j<_15.length;j+=2){obj[_15[j].replace(_12,"").replace("=","").replace(_13,"")]=_15[j+1];}if(obj.type==undefined){obj.type="text/css";}if(obj.rel==undefined){obj.rel="stylesheet";}var _18=false;for(var _19 in $W.styleSheetEarlyImportList){if(obj.href==$W.styleSheetEarlyImportList[_19]){_18=true;break;}}if(!_18){$W.externalCSSList.push(obj);}}$W.pageXMLString=_9;}_9="";}if($W.externalCSSList.length+$W.styleSheetEarlyImportList.length>0){try{var _1a=_1.w2xHome||$W._r.getParameter("w2xHome");if(!_1a){_1a=_1.w2xPath||$W._r.getParameter("w2xPath");var re=/[\\]/g;_1a=_1a.replace(re,"/");var _1b=_1a.lastIndexOf("/");if(_1b>-1){_1a=_1a.substring(0,_1b+1);}else{_1a="/";}}var _1c="";var _1d=$W._N.getConfiguration("/WebSquare/DocumentRoot");var _1e=_1.w2xDocumentRoot||$W._r.getParameter("w2xDocumentRoot");if(_1e=="/"||_1e=="\\"){_1c="";}else{if(_1e!=""){_1c=_1e;}else{if(_1d!=null&&_1d!=""){_1c=_1d;}else{_1c="";}}}for(var i=0;i<$W.styleSheetEarlyImportList.length;i++){var _1f=$W.styleSheetEarlyImportList[i];if(_1f.substring(0,1)!="/"&&_1f.substring(0,1)!="\\"){_1f=_1a+_1f;}if(_1c!=""&&_1f.substring(0,2)!=".."){_1f=_1c+_1f;}$W.styleSheetEarlyImportList[i]=_1f;var _3=document.createElement("link");_3.href=_1f;_3.type="text/css";_3.rel="stylesheet";_2.appendChild(_3);$W.externalCSSURL.push(_1f);$W.logger.printLog("import user css(early_common) : "+_1f);}for(var i=0;i<$W.externalCSSList.length;i++){var _3=document.createElement("link");var _20=$W.externalCSSList[i];if(!_20||(typeof _20!="string"&&typeof _20!="object")){continue;}if(typeof _20=="string"){var cpy=_20;_20={"href":cpy};}if(_20.href.substring(0,1)!="/"&&_20.href.substring(0,1)!="\\"){_20.href=_1a+_20.href;}if(_1c!=""&&_20.href.substring(0,2)!=".."){_20.href=_1c+_20.href;}_3.href=_20.href;_3.type=_20.type||"text/css";_3.rel=_20.rel||"stylesheet";_2.appendChild(_3);$W.externalCSSURL.push(_20.href);$W.externalCSSDOM.push(_3);$W.logger.printLog("import user css(early_xml) : "+_20.href);}}catch(e){}}_2=null;$W._y.skinTag=$W.externalCSSURL.slice(0);};$W._loadCSS();if( document.title == "WebSquare" || document.title == "NEW RENDERING" ) {document.title = "WebSquare ver:" + WebSquare.version;}WebSquare.BootLoader.performanceCheck.mid1 = new Date();WebSquare.BootLoader.printLog("[STEP2] Runtime Engine Load complete. Time:" + (WebSquare.BootLoader.performanceCheck.mid1.getTime() - WebSquare.BootLoader.performanceCheck.start.getTime()) + "ms" );